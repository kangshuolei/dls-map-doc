const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/VPLocalSearchBox.B6iCqCKe.js","assets/chunks/framework.Cocs3215.js"])))=>i.map(i=>d[i]);
import{d as re,o as I,c as K,r as oe,n as z,a as mt,t as Ne,b as we,w as ne,e as he,T as ui,_ as zt,u as kC,i as IC,f as sI,g as Ug,h as L,j as Z,k as d,p as yi,l as _i,m as sl,q as ev,s as W,v as Le,x as mi,y as wt,z as As,A as Vg,B as yo,C as oI,F as ut,D as Ut,E as At,G as Mn,H as Bh,I as J,J as Vt,K as PC,L as Uh,M as Ht,N as ct,O as lI,P as _t,Q as tv,R as yt,S as RC,U as Vh,V as Wu,W as uI,X as cI,Y as LC,Z as Zt,$ as NC,a0 as mn,a1 as xn,a2 as xt,a3 as bi,a4 as Ji,a5 as OC,a6 as zg,a7 as qt,a8 as _u,a9 as Bt,aa as sn,ab as dI,ac as Nt,ad as bn,ae as Gt,af as nv,ag as DC,ah as Gi,ai as fI,aj as Kn,ak as un,al as ni,am as $g,an as Hg,ao as vn,ap as jt,aq as Ri,ar as FC,as as _l,at as BC,au as hI,av as UC,aw as pI,ax as mI,ay as oa,az as bu,aA as Ma,aB as ol,aC as nh,aD as VC,aE as Ct,aF as vI,aG as iv,aH as Gg,aI as Qo,aJ as gI,aK as Fp,aL as zh,aM as yI,aN as ro,aO as C_,aP as _I,aQ as bI,aR as wI}from"./framework.Cocs3215.js";const SI=re({__name:"VPBadge",props:{text:{},type:{default:"tip"}},setup(t){return(e,n)=>(I(),K("span",{class:z(["VPBadge",e.type])},[oe(e.$slots,"default",{},()=>[mt(Ne(e.text),1)])],2))}}),CI={key:0,class:"VPBackdrop"},EI=re({__name:"VPBackdrop",props:{show:{type:Boolean}},setup(t){return(e,n)=>(I(),we(ui,{name:"fade"},{default:ne(()=>[e.show?(I(),K("div",CI)):he("",!0)]),_:1}))}}),xI=zt(EI,[["__scopeId","data-v-41d6fff7"]]),Sn=kC;function MI(t,e){let n,i=!1;return()=>{n&&clearTimeout(n),i?n=setTimeout(t,e):(t(),(i=!0)&&setTimeout(()=>i=!1,e))}}function rv(t){return/^\//.test(t)?t:`/${t}`}function Wg(t){const{pathname:e,search:n,hash:i,protocol:r}=new URL(t,"http://a.com");if(IC(t)||t.startsWith("#")||!r.startsWith("http")||!sI(e))return t;const{site:a}=Sn(),s=e.endsWith("/")||e.endsWith(".html")?t:t.replace(/(?:(^\.+)\/)?.*$/,`$1${e.replace(/(\.md)?$/,a.value.cleanUrls?"":".html")}${n}${i}`);return Ug(s)}function fd({correspondingLink:t=!1}={}){const{site:e,localeIndex:n,page:i,theme:r,hash:a}=Sn(),s=L(()=>{var u,c;return{label:(u=e.value.locales[n.value])==null?void 0:u.label,link:((c=e.value.locales[n.value])==null?void 0:c.link)||(n.value==="root"?"/":`/${n.value}/`)}});return{localeLinks:L(()=>Object.entries(e.value.locales).flatMap(([u,c])=>s.value.label===c.label?[]:{text:c.label,link:TI(c.link||(u==="root"?"/":`/${u}/`),r.value.i18nRouting!==!1&&t,i.value.relativePath.slice(s.value.link.length-1),!e.value.cleanUrls)+a.value})),currentLang:s}}function TI(t,e,n,i){return e?t.replace(/\/$/,"")+rv(n.replace(/(^|\/)index\.md$/,"$1").replace(/\.md$/,i?".html":"")):t}const AI=t=>(yi("data-v-bcafd8ec"),t=t(),_i(),t),kI={class:"NotFound"},II={class:"code"},PI={class:"title"},RI=AI(()=>Z("div",{class:"divider"},null,-1)),LI={class:"quote"},NI={class:"action"},OI=["href","aria-label"],DI=re({__name:"NotFound",setup(t){const{theme:e}=Sn(),{currentLang:n}=fd();return(i,r)=>{var a,s,o,u,c;return I(),K("div",kI,[Z("p",II,Ne(((a=d(e).notFound)==null?void 0:a.code)??"404"),1),Z("h1",PI,Ne(((s=d(e).notFound)==null?void 0:s.title)??"PAGE NOT FOUND"),1),RI,Z("blockquote",LI,Ne(((o=d(e).notFound)==null?void 0:o.quote)??"But if you don't change your direction, and if you keep looking, you may end up where you are heading."),1),Z("div",NI,[Z("a",{class:"link",href:d(Ug)(d(n).link),"aria-label":((u=d(e).notFound)==null?void 0:u.linkLabel)??"go to home"},Ne(((c=d(e).notFound)==null?void 0:c.linkText)??"Take me home"),9,OI)])])}}}),FI=zt(DI,[["__scopeId","data-v-bcafd8ec"]]);function zC(t,e){if(Array.isArray(t))return Of(t);if(t==null)return[];e=rv(e);const n=Object.keys(t).sort((r,a)=>a.split("/").length-r.split("/").length).find(r=>e.startsWith(rv(r))),i=n?t[n]:[];return Array.isArray(i)?Of(i):Of(i.items,i.base)}function BI(t){const e=[];let n=0;for(const i in t){const r=t[i];if(r.items){n=e.push(r);continue}e[n]||e.push({items:[]}),e[n].items.push(r)}return e}function UI(t){const e=[];function n(i){for(const r of i)r.text&&r.link&&e.push({text:r.text,link:r.link,docFooterText:r.docFooterText}),r.items&&n(r.items)}return n(t),e}function av(t,e){return Array.isArray(e)?e.some(n=>av(t,n)):sl(t,e.link)?!0:e.items?av(t,e.items):!1}function Of(t,e){return[...t].map(n=>{const i={...n},r=i.base||e;return r&&i.link&&(i.link=r+i.link),i.items&&(i.items=Of(i.items,r)),i})}function ks(){const{frontmatter:t,page:e,theme:n}=Sn(),i=ev("(min-width: 960px)"),r=W(!1),a=L(()=>{const _=n.value.sidebar,w=e.value.relativePath;return _?zC(_,w):[]}),s=W(a.value);Le(a,(_,w)=>{JSON.stringify(_)!==JSON.stringify(w)&&(s.value=a.value)});const o=L(()=>t.value.sidebar!==!1&&s.value.length>0&&t.value.layout!=="home"),u=L(()=>c?t.value.aside==null?n.value.aside==="left":t.value.aside==="left":!1),c=L(()=>t.value.layout==="home"?!1:t.value.aside!=null?!!t.value.aside:n.value.aside!==!1),h=L(()=>o.value&&i.value),p=L(()=>o.value?BI(s.value):[]);function v(){r.value=!0}function g(){r.value=!1}function y(){r.value?g():v()}return{isOpen:r,sidebar:s,sidebarGroups:p,hasSidebar:o,hasAside:c,leftAside:u,isSidebarEnabled:h,open:v,close:g,toggle:y}}function VI(t,e){let n;mi(()=>{n=t.value?document.activeElement:void 0}),wt(()=>{window.addEventListener("keyup",i)}),As(()=>{window.removeEventListener("keyup",i)});function i(r){r.key==="Escape"&&t.value&&(e(),n==null||n.focus())}}function zI(t){const{page:e,hash:n}=Sn(),i=W(!1),r=L(()=>t.value.collapsed!=null),a=L(()=>!!t.value.link),s=W(!1),o=()=>{s.value=sl(e.value.relativePath,t.value.link)};Le([e,t,n],o),wt(o);const u=L(()=>s.value?!0:t.value.items?av(e.value.relativePath,t.value.items):!1),c=L(()=>!!(t.value.items&&t.value.items.length));mi(()=>{i.value=!!(r.value&&t.value.collapsed)}),Vg(()=>{(s.value||u.value)&&(i.value=!1)});function h(){r.value&&(i.value=!i.value)}return{collapsed:i,collapsible:r,isLink:a,isActiveLink:s,hasActiveLink:u,hasChildren:c,toggle:h}}function $I(){const{hasSidebar:t}=ks(),e=ev("(min-width: 960px)"),n=ev("(min-width: 1280px)");return{isAsideEnabled:L(()=>!n.value&&!e.value?!1:t.value?n.value:e.value)}}const sv=[];function $C(t){return typeof t.outline=="object"&&!Array.isArray(t.outline)&&t.outline.label||t.outlineTitle||"On this page"}function Kg(t){const e=[...document.querySelectorAll(".VPDoc :where(h1,h2,h3,h4,h5,h6)")].filter(n=>n.id&&n.hasChildNodes()).map(n=>{const i=Number(n.tagName[1]);return{element:n,title:HI(n),link:"#"+n.id,level:i}});return GI(e,t)}function HI(t){let e="";for(const n of t.childNodes)if(n.nodeType===1){if(n.classList.contains("VPBadge")||n.classList.contains("header-anchor")||n.classList.contains("ignore-header"))continue;e+=n.textContent}else n.nodeType===3&&(e+=n.textContent);return e.trim()}function GI(t,e){if(e===!1)return[];const n=(typeof e=="object"&&!Array.isArray(e)?e.level:e)||2,[i,r]=typeof n=="number"?[n,n]:n==="deep"?[2,6]:n;return qI(t,i,r)}function WI(t,e){const{isAsideEnabled:n}=$I(),i=MI(a,100);let r=null;wt(()=>{requestAnimationFrame(a),window.addEventListener("scroll",i)}),yo(()=>{s(location.hash)}),As(()=>{window.removeEventListener("scroll",i)});function a(){if(!n.value)return;const o=window.scrollY,u=window.innerHeight,c=document.body.offsetHeight,h=Math.abs(o+u-c)<1,p=sv.map(({element:g,link:y})=>({link:y,top:KI(g)})).filter(({top:g})=>!Number.isNaN(g)).sort((g,y)=>g.top-y.top);if(!p.length){s(null);return}if(o<1){s(null);return}if(h){s(p[p.length-1].link);return}let v=null;for(const{link:g,top:y}of p){if(y>o+oI()+4)break;v=g}s(v)}function s(o){r&&r.classList.remove("active"),o==null?r=null:r=t.value.querySelector(`a[href="${decodeURIComponent(o)}"]`);const u=r;u?(u.classList.add("active"),e.value.style.top=u.offsetTop+39+"px",e.value.style.opacity="1"):(e.value.style.top="33px",e.value.style.opacity="0")}}function KI(t){let e=0;for(;t!==document.body;){if(t===null)return NaN;e+=t.offsetTop,t=t.offsetParent}return e}function qI(t,e,n){sv.length=0;const i=[],r=[];return t.forEach(a=>{const s={...a,children:[]};let o=r[r.length-1];for(;o&&o.level>=s.level;)r.pop(),o=r[r.length-1];if(s.element.classList.contains("ignore-header")||o&&"shouldIgnore"in o){r.push({level:s.level,shouldIgnore:!0});return}s.level>n||s.level<e||(sv.push({element:s.element,link:s.link}),o?o.children.push(s):i.push(s),r.push(s))}),i}const YI=["href","title"],jI=re({__name:"VPDocOutlineItem",props:{headers:{},root:{type:Boolean}},setup(t){function e({target:n}){const i=n.href.split("#")[1],r=document.getElementById(decodeURIComponent(i));r==null||r.focus({preventScroll:!0})}return(n,i)=>{const r=At("VPDocOutlineItem",!0);return I(),K("ul",{class:z(["VPDocOutlineItem",n.root?"root":"nested"])},[(I(!0),K(ut,null,Ut(n.headers,({children:a,link:s,title:o})=>(I(),K("li",null,[Z("a",{class:"outline-link",href:s,onClick:e,title:o},Ne(o),9,YI),a!=null&&a.length?(I(),we(r,{key:0,headers:a},null,8,["headers"])):he("",!0)]))),256))],2)}}}),HC=zt(jI,[["__scopeId","data-v-ff171b3f"]]),XI={class:"content"},ZI={"aria-level":"2",class:"outline-title",id:"doc-outline-aria-label",role:"heading"},QI=re({__name:"VPDocAsideOutline",setup(t){const{frontmatter:e,theme:n}=Sn(),i=Mn([]);Bh(()=>{i.value=Kg(e.value.outline??n.value.outline)});const r=W(),a=W();return WI(r,a),(s,o)=>(I(),K("nav",{"aria-labelledby":"doc-outline-aria-label",class:z(["VPDocAsideOutline",{"has-outline":i.value.length>0}]),ref_key:"container",ref:r},[Z("div",XI,[Z("div",{class:"outline-marker",ref_key:"marker",ref:a},null,512),Z("div",ZI,Ne(d($C)(d(n))),1),J(HC,{headers:i.value,root:!0},null,8,["headers"])])],2))}}),JI=zt(QI,[["__scopeId","data-v-f0084521"]]),eP={class:"VPDocAsideCarbonAds"},tP=re({__name:"VPDocAsideCarbonAds",props:{carbonAds:{}},setup(t){const e=()=>null;return(n,i)=>(I(),K("div",eP,[J(d(e),{"carbon-ads":n.carbonAds},null,8,["carbon-ads"])]))}}),nP=t=>(yi("data-v-b8bcfc42"),t=t(),_i(),t),iP={class:"VPDocAside"},rP=nP(()=>Z("div",{class:"spacer"},null,-1)),aP=re({__name:"VPDocAside",setup(t){const{theme:e}=Sn();return(n,i)=>(I(),K("div",iP,[oe(n.$slots,"aside-top",{},void 0,!0),oe(n.$slots,"aside-outline-before",{},void 0,!0),J(JI),oe(n.$slots,"aside-outline-after",{},void 0,!0),rP,oe(n.$slots,"aside-ads-before",{},void 0,!0),d(e).carbonAds?(I(),we(tP,{key:0,"carbon-ads":d(e).carbonAds},null,8,["carbon-ads"])):he("",!0),oe(n.$slots,"aside-ads-after",{},void 0,!0),oe(n.$slots,"aside-bottom",{},void 0,!0)]))}}),sP=zt(aP,[["__scopeId","data-v-b8bcfc42"]]);function oP(){const{theme:t,page:e}=Sn();return L(()=>{const{text:n="Edit this page",pattern:i=""}=t.value.editLink||{};let r;return typeof i=="function"?r=i(e.value):r=i.replace(/:path/g,e.value.filePath),{url:r,text:n}})}function lP(){const{page:t,theme:e,frontmatter:n}=Sn();return L(()=>{var c,h,p,v,g,y,_,w;const i=zC(e.value.sidebar,t.value.relativePath),r=UI(i),a=uP(r,b=>b.link.replace(/[?#].*$/,"")),s=a.findIndex(b=>sl(t.value.relativePath,b.link)),o=((c=e.value.docFooter)==null?void 0:c.prev)===!1&&!n.value.prev||n.value.prev===!1,u=((h=e.value.docFooter)==null?void 0:h.next)===!1&&!n.value.next||n.value.next===!1;return{prev:o?void 0:{text:(typeof n.value.prev=="string"?n.value.prev:typeof n.value.prev=="object"?n.value.prev.text:void 0)??((p=a[s-1])==null?void 0:p.docFooterText)??((v=a[s-1])==null?void 0:v.text),link:(typeof n.value.prev=="object"?n.value.prev.link:void 0)??((g=a[s-1])==null?void 0:g.link)},next:u?void 0:{text:(typeof n.value.next=="string"?n.value.next:typeof n.value.next=="object"?n.value.next.text:void 0)??((y=a[s+1])==null?void 0:y.docFooterText)??((_=a[s+1])==null?void 0:_.text),link:(typeof n.value.next=="object"?n.value.next.link:void 0)??((w=a[s+1])==null?void 0:w.link)}}})}function uP(t,e){const n=new Set;return t.filter(i=>{const r=e(i);return n.has(r)?!1:n.add(r)})}const ja=re({__name:"VPLink",props:{tag:{},href:{},noIcon:{type:Boolean},target:{},rel:{}},setup(t){const e=t,n=L(()=>e.tag??(e.href?"a":"span")),i=L(()=>e.href&&PC.test(e.href)||e.target==="_blank");return(r,a)=>(I(),we(Vt(n.value),{class:z(["VPLink",{link:r.href,"vp-external-link-icon":i.value,"no-icon":r.noIcon}]),href:r.href?d(Wg)(r.href):void 0,target:r.target??(i.value?"_blank":void 0),rel:r.rel??(i.value?"noreferrer":void 0)},{default:ne(()=>[oe(r.$slots,"default")]),_:3},8,["class","href","target","rel"]))}}),cP={class:"VPLastUpdated"},dP=["datetime"],fP=re({__name:"VPDocFooterLastUpdated",setup(t){const{theme:e,page:n,lang:i}=Sn(),r=L(()=>new Date(n.value.lastUpdated)),a=L(()=>r.value.toISOString()),s=W("");return wt(()=>{mi(()=>{var o,u,c;s.value=new Intl.DateTimeFormat((u=(o=e.value.lastUpdated)==null?void 0:o.formatOptions)!=null&&u.forceLocale?i.value:void 0,((c=e.value.lastUpdated)==null?void 0:c.formatOptions)??{dateStyle:"short",timeStyle:"short"}).format(r.value)})}),(o,u)=>{var c;return I(),K("p",cP,[mt(Ne(((c=d(e).lastUpdated)==null?void 0:c.text)||d(e).lastUpdatedText||"Last updated")+": ",1),Z("time",{datetime:a.value},Ne(s.value),9,dP)])}}}),hP=zt(fP,[["__scopeId","data-v-0621442a"]]),GC=t=>(yi("data-v-dbbe3b50"),t=t(),_i(),t),pP={key:0,class:"VPDocFooter"},mP={key:0,class:"edit-info"},vP={key:0,class:"edit-link"},gP=GC(()=>Z("span",{class:"vpi-square-pen edit-link-icon"},null,-1)),yP={key:1,class:"last-updated"},_P={key:1,class:"prev-next","aria-labelledby":"doc-footer-aria-label"},bP=GC(()=>Z("span",{class:"visually-hidden",id:"doc-footer-aria-label"},"Pager",-1)),wP={class:"pager"},SP=["innerHTML"],CP=["innerHTML"],EP={class:"pager"},xP=["innerHTML"],MP=["innerHTML"],TP=re({__name:"VPDocFooter",setup(t){const{theme:e,page:n,frontmatter:i}=Sn(),r=oP(),a=lP(),s=L(()=>e.value.editLink&&i.value.editLink!==!1),o=L(()=>n.value.lastUpdated),u=L(()=>s.value||o.value||a.value.prev||a.value.next);return(c,h)=>{var p,v,g,y;return u.value?(I(),K("footer",pP,[oe(c.$slots,"doc-footer-before",{},void 0,!0),s.value||o.value?(I(),K("div",mP,[s.value?(I(),K("div",vP,[J(ja,{class:"edit-link-button",href:d(r).url,"no-icon":!0},{default:ne(()=>[gP,mt(" "+Ne(d(r).text),1)]),_:1},8,["href"])])):he("",!0),o.value?(I(),K("div",yP,[J(hP)])):he("",!0)])):he("",!0),(p=d(a).prev)!=null&&p.link||(v=d(a).next)!=null&&v.link?(I(),K("nav",_P,[bP,Z("div",wP,[(g=d(a).prev)!=null&&g.link?(I(),we(ja,{key:0,class:"pager-link prev",href:d(a).prev.link},{default:ne(()=>{var _;return[Z("span",{class:"desc",innerHTML:((_=d(e).docFooter)==null?void 0:_.prev)||"Previous page"},null,8,SP),Z("span",{class:"title",innerHTML:d(a).prev.text},null,8,CP)]}),_:1},8,["href"])):he("",!0)]),Z("div",EP,[(y=d(a).next)!=null&&y.link?(I(),we(ja,{key:0,class:"pager-link next",href:d(a).next.link},{default:ne(()=>{var _;return[Z("span",{class:"desc",innerHTML:((_=d(e).docFooter)==null?void 0:_.next)||"Next page"},null,8,xP),Z("span",{class:"title",innerHTML:d(a).next.text},null,8,MP)]}),_:1},8,["href"])):he("",!0)])])):he("",!0)])):he("",!0)}}}),AP=zt(TP,[["__scopeId","data-v-dbbe3b50"]]),kP=t=>(yi("data-v-68f5ff40"),t=t(),_i(),t),IP={class:"container"},PP=kP(()=>Z("div",{class:"aside-curtain"},null,-1)),RP={class:"aside-container"},LP={class:"aside-content"},NP={class:"content"},OP={class:"content-container"},DP={class:"main"},FP=re({__name:"VPDoc",setup(t){const{theme:e}=Sn(),n=Uh(),{hasSidebar:i,hasAside:r,leftAside:a}=ks(),s=L(()=>n.path.replace(/[./]+/g,"_").replace(/_html$/,""));return(o,u)=>{const c=At("Content");return I(),K("div",{class:z(["VPDoc",{"has-sidebar":d(i),"has-aside":d(r)}])},[oe(o.$slots,"doc-top",{},void 0,!0),Z("div",IP,[d(r)?(I(),K("div",{key:0,class:z(["aside",{"left-aside":d(a)}])},[PP,Z("div",RP,[Z("div",LP,[J(sP,null,{"aside-top":ne(()=>[oe(o.$slots,"aside-top",{},void 0,!0)]),"aside-bottom":ne(()=>[oe(o.$slots,"aside-bottom",{},void 0,!0)]),"aside-outline-before":ne(()=>[oe(o.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":ne(()=>[oe(o.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":ne(()=>[oe(o.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":ne(()=>[oe(o.$slots,"aside-ads-after",{},void 0,!0)]),_:3})])])],2)):he("",!0),Z("div",NP,[Z("div",OP,[oe(o.$slots,"doc-before",{},void 0,!0),Z("main",DP,[J(c,{class:z(["vp-doc",[s.value,d(e).externalLinkIcon&&"external-link-icon-enabled"]])},null,8,["class"])]),J(AP,null,{"doc-footer-before":ne(()=>[oe(o.$slots,"doc-footer-before",{},void 0,!0)]),_:3}),oe(o.$slots,"doc-after",{},void 0,!0)])])]),oe(o.$slots,"doc-bottom",{},void 0,!0)],2)}}}),BP=zt(FP,[["__scopeId","data-v-68f5ff40"]]),UP=re({__name:"VPButton",props:{tag:{},size:{default:"medium"},theme:{default:"brand"},text:{},href:{},target:{},rel:{}},setup(t){const e=t,n=L(()=>e.href&&PC.test(e.href)),i=L(()=>e.tag||(e.href?"a":"button"));return(r,a)=>(I(),we(Vt(i.value),{class:z(["VPButton",[r.size,r.theme]]),href:r.href?d(Wg)(r.href):void 0,target:e.target??(n.value?"_blank":void 0),rel:e.rel??(n.value?"noreferrer":void 0)},{default:ne(()=>[mt(Ne(r.text),1)]),_:1},8,["class","href","target","rel"]))}}),VP=zt(UP,[["__scopeId","data-v-5a7f4a3b"]]),zP=["src","alt"],$P=re({inheritAttrs:!1,__name:"VPImage",props:{image:{},alt:{}},setup(t){return(e,n)=>{const i=At("VPImage",!0);return e.image?(I(),K(ut,{key:0},[typeof e.image=="string"||"src"in e.image?(I(),K("img",Ht({key:0,class:"VPImage"},typeof e.image=="string"?e.$attrs:{...e.image,...e.$attrs},{src:d(Ug)(typeof e.image=="string"?e.image:e.image.src),alt:e.alt??(typeof e.image=="string"?"":e.image.alt||"")}),null,16,zP)):(I(),K(ut,{key:1},[J(i,Ht({class:"dark",image:e.image.dark,alt:e.image.alt},e.$attrs),null,16,["image","alt"]),J(i,Ht({class:"light",image:e.image.light,alt:e.image.alt},e.$attrs),null,16,["image","alt"])],64))],64)):he("",!0)}}}),ih=zt($P,[["__scopeId","data-v-161f3c50"]]),HP=t=>(yi("data-v-a958191c"),t=t(),_i(),t),GP={class:"container"},WP={class:"main"},KP={key:0,class:"name"},qP=["innerHTML"],YP=["innerHTML"],jP=["innerHTML"],XP={key:0,class:"actions"},ZP={key:0,class:"image"},QP={class:"image-container"},JP=HP(()=>Z("div",{class:"image-bg"},null,-1)),eR=re({__name:"VPHero",props:{name:{},text:{},tagline:{},image:{},actions:{}},setup(t){const e=ct("hero-image-slot-exists");return(n,i)=>(I(),K("div",{class:z(["VPHero",{"has-image":n.image||d(e)}])},[Z("div",GP,[Z("div",WP,[oe(n.$slots,"home-hero-info-before",{},void 0,!0),oe(n.$slots,"home-hero-info",{},()=>[n.name?(I(),K("h1",KP,[Z("span",{innerHTML:n.name,class:"clip"},null,8,qP)])):he("",!0),n.text?(I(),K("p",{key:1,innerHTML:n.text,class:"text"},null,8,YP)):he("",!0),n.tagline?(I(),K("p",{key:2,innerHTML:n.tagline,class:"tagline"},null,8,jP)):he("",!0)],!0),oe(n.$slots,"home-hero-info-after",{},void 0,!0),n.actions?(I(),K("div",XP,[(I(!0),K(ut,null,Ut(n.actions,r=>(I(),K("div",{key:r.link,class:"action"},[J(VP,{tag:"a",size:"medium",theme:r.theme,text:r.text,href:r.link,target:r.target,rel:r.rel},null,8,["theme","text","href","target","rel"])]))),128))])):he("",!0),oe(n.$slots,"home-hero-actions-after",{},void 0,!0)]),n.image||d(e)?(I(),K("div",ZP,[Z("div",QP,[JP,oe(n.$slots,"home-hero-image",{},()=>[n.image?(I(),we(ih,{key:0,class:"image-src",image:n.image},null,8,["image"])):he("",!0)],!0)])])):he("",!0)])],2))}}),tR=zt(eR,[["__scopeId","data-v-a958191c"]]),nR=re({__name:"VPHomeHero",setup(t){const{frontmatter:e}=Sn();return(n,i)=>d(e).hero?(I(),we(tR,{key:0,class:"VPHomeHero",name:d(e).hero.name,text:d(e).hero.text,tagline:d(e).hero.tagline,image:d(e).hero.image,actions:d(e).hero.actions},{"home-hero-info-before":ne(()=>[oe(n.$slots,"home-hero-info-before")]),"home-hero-info":ne(()=>[oe(n.$slots,"home-hero-info")]),"home-hero-info-after":ne(()=>[oe(n.$slots,"home-hero-info-after")]),"home-hero-actions-after":ne(()=>[oe(n.$slots,"home-hero-actions-after")]),"home-hero-image":ne(()=>[oe(n.$slots,"home-hero-image")]),_:3},8,["name","text","tagline","image","actions"])):he("",!0)}}),iR=t=>(yi("data-v-592584e2"),t=t(),_i(),t),rR={class:"box"},aR={key:0,class:"icon"},sR=["innerHTML"],oR=["innerHTML"],lR=["innerHTML"],uR={key:4,class:"link-text"},cR={class:"link-text-value"},dR=iR(()=>Z("span",{class:"vpi-arrow-right link-text-icon"},null,-1)),fR=re({__name:"VPFeature",props:{icon:{},title:{},details:{},link:{},linkText:{},rel:{},target:{}},setup(t){return(e,n)=>(I(),we(ja,{class:"VPFeature",href:e.link,rel:e.rel,target:e.target,"no-icon":!0,tag:e.link?"a":"div"},{default:ne(()=>[Z("article",rR,[typeof e.icon=="object"&&e.icon.wrap?(I(),K("div",aR,[J(ih,{image:e.icon,alt:e.icon.alt,height:e.icon.height||48,width:e.icon.width||48},null,8,["image","alt","height","width"])])):typeof e.icon=="object"?(I(),we(ih,{key:1,image:e.icon,alt:e.icon.alt,height:e.icon.height||48,width:e.icon.width||48},null,8,["image","alt","height","width"])):e.icon?(I(),K("div",{key:2,class:"icon",innerHTML:e.icon},null,8,sR)):he("",!0),Z("h2",{class:"title",innerHTML:e.title},null,8,oR),e.details?(I(),K("p",{key:3,class:"details",innerHTML:e.details},null,8,lR)):he("",!0),e.linkText?(I(),K("div",uR,[Z("p",cR,[mt(Ne(e.linkText)+" ",1),dR])])):he("",!0)])]),_:1},8,["href","rel","target","tag"]))}}),hR=zt(fR,[["__scopeId","data-v-592584e2"]]),pR={key:0,class:"VPFeatures"},mR={class:"container"},vR={class:"items"},gR=re({__name:"VPFeatures",props:{features:{}},setup(t){const e=t,n=L(()=>{const i=e.features.length;if(i){if(i===2)return"grid-2";if(i===3)return"grid-3";if(i%3===0)return"grid-6";if(i>3)return"grid-4"}else return});return(i,r)=>i.features?(I(),K("div",pR,[Z("div",mR,[Z("div",vR,[(I(!0),K(ut,null,Ut(i.features,a=>(I(),K("div",{key:a.title,class:z(["item",[n.value]])},[J(hR,{icon:a.icon,title:a.title,details:a.details,link:a.link,"link-text":a.linkText,rel:a.rel,target:a.target},null,8,["icon","title","details","link","link-text","rel","target"])],2))),128))])])])):he("",!0)}}),yR=zt(gR,[["__scopeId","data-v-b7d3055b"]]),_R=re({__name:"VPHomeFeatures",setup(t){const{frontmatter:e}=Sn();return(n,i)=>d(e).features?(I(),we(yR,{key:0,class:"VPHomeFeatures",features:d(e).features},null,8,["features"])):he("",!0)}}),bR=re({__name:"VPHomeContent",setup(t){const{width:e}=lI({initialWidth:0,includeScrollbar:!1});return(n,i)=>(I(),K("div",{class:"vp-doc container",style:_t(d(e)?{"--vp-offset":`calc(50% - ${d(e)/2}px)`}:{})},[oe(n.$slots,"default",{},void 0,!0)],4))}}),wR=zt(bR,[["__scopeId","data-v-7c4645cc"]]),SR={class:"VPHome"},CR=re({__name:"VPHome",setup(t){const{frontmatter:e}=Sn();return(n,i)=>{const r=At("Content");return I(),K("div",SR,[oe(n.$slots,"home-hero-before",{},void 0,!0),J(nR,null,{"home-hero-info-before":ne(()=>[oe(n.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":ne(()=>[oe(n.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":ne(()=>[oe(n.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":ne(()=>[oe(n.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":ne(()=>[oe(n.$slots,"home-hero-image",{},void 0,!0)]),_:3}),oe(n.$slots,"home-hero-after",{},void 0,!0),oe(n.$slots,"home-features-before",{},void 0,!0),J(_R),oe(n.$slots,"home-features-after",{},void 0,!0),d(e).markdownStyles!==!1?(I(),we(wR,{key:0},{default:ne(()=>[J(r)]),_:1})):(I(),we(r,{key:1}))])}}}),ER=zt(CR,[["__scopeId","data-v-eb036f8b"]]),xR={},MR={class:"VPPage"};function TR(t,e){const n=At("Content");return I(),K("div",MR,[oe(t.$slots,"page-top"),J(n),oe(t.$slots,"page-bottom")])}const AR=zt(xR,[["render",TR]]),kR=re({__name:"VPContent",setup(t){const{page:e,frontmatter:n}=Sn(),{hasSidebar:i}=ks();return(r,a)=>(I(),K("div",{class:z(["VPContent",{"has-sidebar":d(i),"is-home":d(n).layout==="home"}]),id:"VPContent"},[d(e).isNotFound?oe(r.$slots,"not-found",{key:0},()=>[J(FI)],!0):d(n).layout==="page"?(I(),we(AR,{key:1},{"page-top":ne(()=>[oe(r.$slots,"page-top",{},void 0,!0)]),"page-bottom":ne(()=>[oe(r.$slots,"page-bottom",{},void 0,!0)]),_:3})):d(n).layout==="home"?(I(),we(ER,{key:2},{"home-hero-before":ne(()=>[oe(r.$slots,"home-hero-before",{},void 0,!0)]),"home-hero-info-before":ne(()=>[oe(r.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":ne(()=>[oe(r.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":ne(()=>[oe(r.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":ne(()=>[oe(r.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":ne(()=>[oe(r.$slots,"home-hero-image",{},void 0,!0)]),"home-hero-after":ne(()=>[oe(r.$slots,"home-hero-after",{},void 0,!0)]),"home-features-before":ne(()=>[oe(r.$slots,"home-features-before",{},void 0,!0)]),"home-features-after":ne(()=>[oe(r.$slots,"home-features-after",{},void 0,!0)]),_:3})):d(n).layout&&d(n).layout!=="doc"?(I(),we(Vt(d(n).layout),{key:3})):(I(),we(BP,{key:4},{"doc-top":ne(()=>[oe(r.$slots,"doc-top",{},void 0,!0)]),"doc-bottom":ne(()=>[oe(r.$slots,"doc-bottom",{},void 0,!0)]),"doc-footer-before":ne(()=>[oe(r.$slots,"doc-footer-before",{},void 0,!0)]),"doc-before":ne(()=>[oe(r.$slots,"doc-before",{},void 0,!0)]),"doc-after":ne(()=>[oe(r.$slots,"doc-after",{},void 0,!0)]),"aside-top":ne(()=>[oe(r.$slots,"aside-top",{},void 0,!0)]),"aside-outline-before":ne(()=>[oe(r.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":ne(()=>[oe(r.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":ne(()=>[oe(r.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":ne(()=>[oe(r.$slots,"aside-ads-after",{},void 0,!0)]),"aside-bottom":ne(()=>[oe(r.$slots,"aside-bottom",{},void 0,!0)]),_:3}))],2))}}),IR=zt(kR,[["__scopeId","data-v-2fef6454"]]),PR={class:"container"},RR=["innerHTML"],LR=["innerHTML"],NR=re({__name:"VPFooter",setup(t){const{theme:e,frontmatter:n}=Sn(),{hasSidebar:i}=ks();return(r,a)=>d(e).footer&&d(n).footer!==!1?(I(),K("footer",{key:0,class:z(["VPFooter",{"has-sidebar":d(i)}])},[Z("div",PR,[d(e).footer.message?(I(),K("p",{key:0,class:"message",innerHTML:d(e).footer.message},null,8,RR)):he("",!0),d(e).footer.copyright?(I(),K("p",{key:1,class:"copyright",innerHTML:d(e).footer.copyright},null,8,LR)):he("",!0)])],2)):he("",!0)}}),OR=zt(NR,[["__scopeId","data-v-5bb950ac"]]);function DR(){const{theme:t,frontmatter:e}=Sn(),n=Mn([]),i=L(()=>n.value.length>0);return Bh(()=>{n.value=Kg(e.value.outline??t.value.outline)}),{headers:n,hasLocalNav:i}}const FR=t=>(yi("data-v-42e4b28b"),t=t(),_i(),t),BR={class:"menu-text"},UR=FR(()=>Z("span",{class:"vpi-chevron-right icon"},null,-1)),VR={class:"header"},zR={class:"outline"},$R=re({__name:"VPLocalNavOutlineDropdown",props:{headers:{},navHeight:{}},setup(t){const e=t,{theme:n}=Sn(),i=W(!1),r=W(0),a=W(),s=W();function o(p){var v;(v=a.value)!=null&&v.contains(p.target)||(i.value=!1)}Le(i,p=>{if(p){document.addEventListener("click",o);return}document.removeEventListener("click",o)}),tv("Escape",()=>{i.value=!1}),Bh(()=>{i.value=!1});function u(){i.value=!i.value,r.value=window.innerHeight+Math.min(window.scrollY-e.navHeight,0)}function c(p){p.target.classList.contains("outline-link")&&(s.value&&(s.value.style.transition="none"),yt(()=>{i.value=!1}))}function h(){i.value=!1,window.scrollTo({top:0,left:0,behavior:"smooth"})}return(p,v)=>(I(),K("div",{class:"VPLocalNavOutlineDropdown",style:_t({"--vp-vh":r.value+"px"}),ref_key:"main",ref:a},[p.headers.length>0?(I(),K("button",{key:0,onClick:u,class:z({open:i.value})},[Z("span",BR,Ne(d($C)(d(n))),1),UR],2)):(I(),K("button",{key:1,onClick:h},Ne(d(n).returnToTopLabel||"Return to top"),1)),J(ui,{name:"flyout"},{default:ne(()=>[i.value?(I(),K("div",{key:0,ref_key:"items",ref:s,class:"items",onClick:c},[Z("div",VR,[Z("a",{class:"top-link",href:"#",onClick:h},Ne(d(n).returnToTopLabel||"Return to top"),1)]),Z("div",zR,[J(HC,{headers:p.headers},null,8,["headers"])])],512)):he("",!0)]),_:1})],4))}}),HR=zt($R,[["__scopeId","data-v-42e4b28b"]]),GR=t=>(yi("data-v-41a048b3"),t=t(),_i(),t),WR={class:"container"},KR=["aria-expanded"],qR=GR(()=>Z("span",{class:"vpi-align-left menu-icon"},null,-1)),YR={class:"menu-text"},jR=re({__name:"VPLocalNav",props:{open:{type:Boolean}},emits:["open-menu"],setup(t){const{theme:e,frontmatter:n}=Sn(),{hasSidebar:i}=ks(),{headers:r}=DR(),{y:a}=RC(),s=W(0);wt(()=>{s.value=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--vp-nav-height"))}),Bh(()=>{r.value=Kg(n.value.outline??e.value.outline)});const o=L(()=>r.value.length===0),u=L(()=>o.value&&!i.value),c=L(()=>({VPLocalNav:!0,"has-sidebar":i.value,empty:o.value,fixed:u.value}));return(h,p)=>d(n).layout!=="home"&&(!u.value||d(a)>=s.value)?(I(),K("div",{key:0,class:z(c.value)},[Z("div",WR,[d(i)?(I(),K("button",{key:0,class:"menu","aria-expanded":h.open,"aria-controls":"VPSidebarNav",onClick:p[0]||(p[0]=v=>h.$emit("open-menu"))},[qR,Z("span",YR,Ne(d(e).sidebarMenuLabel||"Menu"),1)],8,KR)):he("",!0),J(HR,{headers:d(r),navHeight:s.value},null,8,["headers","navHeight"])])],2)):he("",!0)}}),XR=zt(jR,[["__scopeId","data-v-41a048b3"]]);function ZR(){const t=W(!1);function e(){t.value=!0,window.addEventListener("resize",r)}function n(){t.value=!1,window.removeEventListener("resize",r)}function i(){t.value?n():e()}function r(){window.outerWidth>=768&&n()}const a=Uh();return Le(()=>a.path,n),{isScreenOpen:t,openScreen:e,closeScreen:n,toggleScreen:i}}const QR={},JR={class:"VPSwitch",type:"button",role:"switch"},eL={class:"check"},tL={key:0,class:"icon"};function nL(t,e){return I(),K("button",JR,[Z("span",eL,[t.$slots.default?(I(),K("span",tL,[oe(t.$slots,"default",{},void 0,!0)])):he("",!0)])])}const iL=zt(QR,[["render",nL],["__scopeId","data-v-360e53fc"]]),WC=t=>(yi("data-v-8c66aee1"),t=t(),_i(),t),rL=WC(()=>Z("span",{class:"vpi-sun sun"},null,-1)),aL=WC(()=>Z("span",{class:"vpi-moon moon"},null,-1)),sL=re({__name:"VPSwitchAppearance",setup(t){const{isDark:e,theme:n}=Sn(),i=ct("toggle-appearance",()=>{e.value=!e.value}),r=W("");return Vg(()=>{r.value=e.value?n.value.lightModeSwitchTitle||"Switch to light theme":n.value.darkModeSwitchTitle||"Switch to dark theme"}),(a,s)=>(I(),we(iL,{title:r.value,class:"VPSwitchAppearance","aria-checked":d(e),onClick:d(i)},{default:ne(()=>[rL,aL]),_:1},8,["title","aria-checked","onClick"]))}}),qg=zt(sL,[["__scopeId","data-v-8c66aee1"]]),oL={key:0,class:"VPNavBarAppearance"},lL=re({__name:"VPNavBarAppearance",setup(t){const{site:e}=Sn();return(n,i)=>d(e).appearance&&d(e).appearance!=="force-dark"&&d(e).appearance!=="force-auto"?(I(),K("div",oL,[J(qg)])):he("",!0)}}),uL=zt(lL,[["__scopeId","data-v-488750b3"]]),Yg=W();let KC=!1,Bp=0;function cL(t){const e=W(!1);if(Vh){!KC&&dL(),Bp++;const n=Le(Yg,i=>{var r,a,s;i===t.el.value||(r=t.el.value)!=null&&r.contains(i)?(e.value=!0,(a=t.onFocus)==null||a.call(t)):(e.value=!1,(s=t.onBlur)==null||s.call(t))});As(()=>{n(),Bp--,Bp||fL()})}return Wu(e)}function dL(){document.addEventListener("focusin",qC),KC=!0,Yg.value=document.activeElement}function fL(){document.removeEventListener("focusin",qC)}function qC(){Yg.value=document.activeElement}const hL={class:"VPMenuLink"},pL=re({__name:"VPMenuLink",props:{item:{}},setup(t){const{page:e}=Sn();return(n,i)=>(I(),K("div",hL,[J(ja,{class:z({active:d(sl)(d(e).relativePath,n.item.activeMatch||n.item.link,!!n.item.activeMatch)}),href:n.item.link,target:n.item.target,rel:n.item.rel},{default:ne(()=>[mt(Ne(n.item.text),1)]),_:1},8,["class","href","target","rel"])]))}}),$h=zt(pL,[["__scopeId","data-v-8a25db17"]]),mL={class:"VPMenuGroup"},vL={key:0,class:"title"},gL=re({__name:"VPMenuGroup",props:{text:{},items:{}},setup(t){return(e,n)=>(I(),K("div",mL,[e.text?(I(),K("p",vL,Ne(e.text),1)):he("",!0),(I(!0),K(ut,null,Ut(e.items,i=>(I(),K(ut,null,["link"in i?(I(),we($h,{key:0,item:i},null,8,["item"])):he("",!0)],64))),256))]))}}),yL=zt(gL,[["__scopeId","data-v-2bfd8bae"]]),_L={class:"VPMenu"},bL={key:0,class:"items"},wL=re({__name:"VPMenu",props:{items:{}},setup(t){return(e,n)=>(I(),K("div",_L,[e.items?(I(),K("div",bL,[(I(!0),K(ut,null,Ut(e.items,i=>(I(),K(ut,{key:JSON.stringify(i)},["link"in i?(I(),we($h,{key:0,item:i},null,8,["item"])):"component"in i?(I(),we(Vt(i.component),Ht({key:1,ref_for:!0},i.props),null,16)):(I(),we(yL,{key:2,text:i.text,items:i.items},null,8,["text","items"]))],64))),128))])):he("",!0),oe(e.$slots,"default",{},void 0,!0)]))}}),SL=zt(wL,[["__scopeId","data-v-edffea9a"]]),CL=t=>(yi("data-v-2c36ac32"),t=t(),_i(),t),EL=["aria-expanded","aria-label"],xL={key:0,class:"text"},ML=["innerHTML"],TL=CL(()=>Z("span",{class:"vpi-chevron-down text-icon"},null,-1)),AL={key:1,class:"vpi-more-horizontal icon"},kL={class:"menu"},IL=re({__name:"VPFlyout",props:{icon:{},button:{},label:{},items:{}},setup(t){const e=W(!1),n=W();cL({el:n,onBlur:i});function i(){e.value=!1}return(r,a)=>(I(),K("div",{class:"VPFlyout",ref_key:"el",ref:n,onMouseenter:a[1]||(a[1]=s=>e.value=!0),onMouseleave:a[2]||(a[2]=s=>e.value=!1)},[Z("button",{type:"button",class:"button","aria-haspopup":"true","aria-expanded":e.value,"aria-label":r.label,onClick:a[0]||(a[0]=s=>e.value=!e.value)},[r.button||r.icon?(I(),K("span",xL,[r.icon?(I(),K("span",{key:0,class:z([r.icon,"option-icon"])},null,2)):he("",!0),r.button?(I(),K("span",{key:1,innerHTML:r.button},null,8,ML)):he("",!0),TL])):(I(),K("span",AL))],8,EL),Z("div",kL,[J(SL,{items:r.items},{default:ne(()=>[oe(r.$slots,"default",{},void 0,!0)]),_:3},8,["items"])])],544))}}),jg=zt(IL,[["__scopeId","data-v-2c36ac32"]]),PL=["href","aria-label","innerHTML"],RL=re({__name:"VPSocialLink",props:{icon:{},link:{},ariaLabel:{}},setup(t){const e=t,n=L(()=>typeof e.icon=="object"?e.icon.svg:`<span class="vpi-social-${e.icon}" />`);return(i,r)=>(I(),K("a",{class:"VPSocialLink no-icon",href:i.link,"aria-label":i.ariaLabel??(typeof i.icon=="string"?i.icon:""),target:"_blank",rel:"noopener",innerHTML:n.value},null,8,PL))}}),LL=zt(RL,[["__scopeId","data-v-b4bb9658"]]),NL={class:"VPSocialLinks"},OL=re({__name:"VPSocialLinks",props:{links:{}},setup(t){return(e,n)=>(I(),K("div",NL,[(I(!0),K(ut,null,Ut(e.links,({link:i,icon:r,ariaLabel:a})=>(I(),we(LL,{key:i,icon:r,link:i,ariaLabel:a},null,8,["icon","link","ariaLabel"]))),128))]))}}),Xg=zt(OL,[["__scopeId","data-v-d6fc0ca6"]]),DL={key:0,class:"group translations"},FL={class:"trans-title"},BL={key:1,class:"group"},UL={class:"item appearance"},VL={class:"label"},zL={class:"appearance-action"},$L={key:2,class:"group"},HL={class:"item social-links"},GL=re({__name:"VPNavBarExtra",setup(t){const{site:e,theme:n}=Sn(),{localeLinks:i,currentLang:r}=fd({correspondingLink:!0}),a=L(()=>i.value.length&&r.value.label||e.value.appearance||n.value.socialLinks);return(s,o)=>a.value?(I(),we(jg,{key:0,class:"VPNavBarExtra",label:"extra navigation"},{default:ne(()=>[d(i).length&&d(r).label?(I(),K("div",DL,[Z("p",FL,Ne(d(r).label),1),(I(!0),K(ut,null,Ut(d(i),u=>(I(),we($h,{key:u.link,item:u},null,8,["item"]))),128))])):he("",!0),d(e).appearance&&d(e).appearance!=="force-dark"&&d(e).appearance!=="force-auto"?(I(),K("div",BL,[Z("div",UL,[Z("p",VL,Ne(d(n).darkModeSwitchLabel||"Appearance"),1),Z("div",zL,[J(qg)])])])):he("",!0),d(n).socialLinks?(I(),K("div",$L,[Z("div",HL,[J(Xg,{class:"social-links-list",links:d(n).socialLinks},null,8,["links"])])])):he("",!0)]),_:1})):he("",!0)}}),WL=zt(GL,[["__scopeId","data-v-9d2cbf32"]]),KL=t=>(yi("data-v-69a8a7a4"),t=t(),_i(),t),qL=["aria-expanded"],YL=KL(()=>Z("span",{class:"container"},[Z("span",{class:"top"}),Z("span",{class:"middle"}),Z("span",{class:"bottom"})],-1)),jL=[YL],XL=re({__name:"VPNavBarHamburger",props:{active:{type:Boolean}},emits:["click"],setup(t){return(e,n)=>(I(),K("button",{type:"button",class:z(["VPNavBarHamburger",{active:e.active}]),"aria-label":"mobile navigation","aria-expanded":e.active,"aria-controls":"VPNavScreen",onClick:n[0]||(n[0]=i=>e.$emit("click"))},jL,10,qL))}}),ZL=zt(XL,[["__scopeId","data-v-69a8a7a4"]]),QL=["innerHTML"],JL=re({__name:"VPNavBarMenuLink",props:{item:{}},setup(t){const{page:e}=Sn();return(n,i)=>(I(),we(ja,{class:z({VPNavBarMenuLink:!0,active:d(sl)(d(e).relativePath,n.item.activeMatch||n.item.link,!!n.item.activeMatch)}),href:n.item.link,noIcon:n.item.noIcon,target:n.item.target,rel:n.item.rel,tabindex:"0"},{default:ne(()=>[Z("span",{innerHTML:n.item.text},null,8,QL)]),_:1},8,["class","href","noIcon","target","rel"]))}}),eN=zt(JL,[["__scopeId","data-v-b7be9d26"]]),tN=re({__name:"VPNavBarMenuGroup",props:{item:{}},setup(t){const e=t,{page:n}=Sn(),i=a=>"component"in a?!1:"link"in a?sl(n.value.relativePath,a.link,!!e.item.activeMatch):a.items.some(i),r=L(()=>i(e.item));return(a,s)=>(I(),we(jg,{class:z({VPNavBarMenuGroup:!0,active:d(sl)(d(n).relativePath,a.item.activeMatch,!!a.item.activeMatch)||r.value}),button:a.item.text,items:a.item.items},null,8,["class","button","items"]))}}),nN=t=>(yi("data-v-7a2564bf"),t=t(),_i(),t),iN={key:0,"aria-labelledby":"main-nav-aria-label",class:"VPNavBarMenu"},rN=nN(()=>Z("span",{id:"main-nav-aria-label",class:"visually-hidden"}," Main Navigation ",-1)),aN=re({__name:"VPNavBarMenu",setup(t){const{theme:e}=Sn();return(n,i)=>d(e).nav?(I(),K("nav",iN,[rN,(I(!0),K(ut,null,Ut(d(e).nav,r=>(I(),K(ut,{key:JSON.stringify(r)},["link"in r?(I(),we(eN,{key:0,item:r},null,8,["item"])):"component"in r?(I(),we(Vt(r.component),Ht({key:1,ref_for:!0},r.props),null,16)):(I(),we(tN,{key:2,item:r},null,8,["item"]))],64))),128))])):he("",!0)}}),sN=zt(aN,[["__scopeId","data-v-7a2564bf"]]);function oN(t){const{localeIndex:e,theme:n}=Sn();function i(r){var y,_,w;const a=r.split("."),s=(y=n.value.search)==null?void 0:y.options,o=s&&typeof s=="object",u=o&&((w=(_=s.locales)==null?void 0:_[e.value])==null?void 0:w.translations)||null,c=o&&s.translations||null;let h=u,p=c,v=t;const g=a.pop();for(const b of a){let M=null;const C=v==null?void 0:v[b];C&&(M=v=C);const x=p==null?void 0:p[b];x&&(M=p=x);const T=h==null?void 0:h[b];T&&(M=h=T),C||(v=M),x||(p=M),T||(h=M)}return(h==null?void 0:h[g])??(p==null?void 0:p[g])??(v==null?void 0:v[g])??""}return i}const lN=["aria-label"],uN={class:"DocSearch-Button-Container"},cN=Z("span",{class:"vp-icon DocSearch-Search-Icon"},null,-1),dN={class:"DocSearch-Button-Placeholder"},fN=Z("span",{class:"DocSearch-Button-Keys"},[Z("kbd",{class:"DocSearch-Button-Key"}),Z("kbd",{class:"DocSearch-Button-Key"},"K")],-1),E_=re({__name:"VPNavBarSearchButton",setup(t){const n=oN({button:{buttonText:"Search",buttonAriaLabel:"Search"}});return(i,r)=>(I(),K("button",{type:"button",class:"DocSearch DocSearch-Button","aria-label":d(n)("button.buttonAriaLabel")},[Z("span",uN,[cN,Z("span",dN,Ne(d(n)("button.buttonText")),1)]),fN],8,lN))}}),hN={class:"VPNavBarSearch"},pN={id:"local-search"},mN={key:1,id:"docsearch"},vN=re({__name:"VPNavBarSearch",setup(t){const e=uI(()=>cI(()=>import("./VPLocalSearchBox.B6iCqCKe.js"),__vite__mapDeps([0,1]))),n=()=>null,{theme:i}=Sn(),r=W(!1),a=W(!1);wt(()=>{});function s(){r.value||(r.value=!0,setTimeout(o,16))}function o(){const p=new Event("keydown");p.key="k",p.metaKey=!0,window.dispatchEvent(p),setTimeout(()=>{document.querySelector(".DocSearch-Modal")||o()},16)}function u(p){const v=p.target,g=v.tagName;return v.isContentEditable||g==="INPUT"||g==="SELECT"||g==="TEXTAREA"}const c=W(!1);tv("k",p=>{(p.ctrlKey||p.metaKey)&&(p.preventDefault(),c.value=!0)}),tv("/",p=>{u(p)||(p.preventDefault(),c.value=!0)});const h="local";return(p,v)=>{var g;return I(),K("div",hN,[d(h)==="local"?(I(),K(ut,{key:0},[c.value?(I(),we(d(e),{key:0,onClose:v[0]||(v[0]=y=>c.value=!1)})):he("",!0),Z("div",pN,[J(E_,{onClick:v[1]||(v[1]=y=>c.value=!0)})])],64)):d(h)==="algolia"?(I(),K(ut,{key:1},[r.value?(I(),we(d(n),{key:0,algolia:((g=d(i).search)==null?void 0:g.options)??d(i).algolia,onVnodeBeforeMount:v[2]||(v[2]=y=>a.value=!0)},null,8,["algolia"])):he("",!0),a.value?he("",!0):(I(),K("div",mN,[J(E_,{onClick:s})]))],64)):he("",!0)])}}}),gN=re({__name:"VPNavBarSocialLinks",setup(t){const{theme:e}=Sn();return(n,i)=>d(e).socialLinks?(I(),we(Xg,{key:0,class:"VPNavBarSocialLinks",links:d(e).socialLinks},null,8,["links"])):he("",!0)}}),yN=zt(gN,[["__scopeId","data-v-4adea010"]]),_N=["href","rel","target"],bN={key:1},wN={key:2},SN=re({__name:"VPNavBarTitle",setup(t){const{site:e,theme:n}=Sn(),{hasSidebar:i}=ks(),{currentLang:r}=fd(),a=L(()=>{var u;return typeof n.value.logoLink=="string"?n.value.logoLink:(u=n.value.logoLink)==null?void 0:u.link}),s=L(()=>{var u;return typeof n.value.logoLink=="string"||(u=n.value.logoLink)==null?void 0:u.rel}),o=L(()=>{var u;return typeof n.value.logoLink=="string"||(u=n.value.logoLink)==null?void 0:u.target});return(u,c)=>(I(),K("div",{class:z(["VPNavBarTitle",{"has-sidebar":d(i)}])},[Z("a",{class:"title",href:a.value??d(Wg)(d(r).link),rel:s.value,target:o.value},[oe(u.$slots,"nav-bar-title-before",{},void 0,!0),d(n).logo?(I(),we(ih,{key:0,class:"logo",image:d(n).logo},null,8,["image"])):he("",!0),d(n).siteTitle?(I(),K("span",bN,Ne(d(n).siteTitle),1)):d(n).siteTitle===void 0?(I(),K("span",wN,Ne(d(e).title),1)):he("",!0),oe(u.$slots,"nav-bar-title-after",{},void 0,!0)],8,_N)],2))}}),CN=zt(SN,[["__scopeId","data-v-389aaf3d"]]),EN={class:"items"},xN={class:"title"},MN=re({__name:"VPNavBarTranslations",setup(t){const{theme:e}=Sn(),{localeLinks:n,currentLang:i}=fd({correspondingLink:!0});return(r,a)=>d(n).length&&d(i).label?(I(),we(jg,{key:0,class:"VPNavBarTranslations",icon:"vpi-languages",label:d(e).langMenuLabel||"Change language"},{default:ne(()=>[Z("div",EN,[Z("p",xN,Ne(d(i).label),1),(I(!0),K(ut,null,Ut(d(n),s=>(I(),we($h,{key:s.link,item:s},null,8,["item"]))),128))])]),_:1},8,["label"])):he("",!0)}}),TN=zt(MN,[["__scopeId","data-v-391c7104"]]),AN=t=>(yi("data-v-b26cb13e"),t=t(),_i(),t),kN={class:"wrapper"},IN={class:"container"},PN={class:"title"},RN={class:"content"},LN={class:"content-body"},NN=AN(()=>Z("div",{class:"divider"},[Z("div",{class:"divider-line"})],-1)),ON=re({__name:"VPNavBar",props:{isScreenOpen:{type:Boolean}},emits:["toggle-screen"],setup(t){const e=t,{y:n}=RC(),{hasSidebar:i}=ks(),{frontmatter:r}=Sn(),a=W({});return Vg(()=>{a.value={"has-sidebar":i.value,home:r.value.layout==="home",top:n.value===0,"screen-open":e.isScreenOpen}}),(s,o)=>(I(),K("div",{class:z(["VPNavBar",a.value])},[Z("div",kN,[Z("div",IN,[Z("div",PN,[J(CN,null,{"nav-bar-title-before":ne(()=>[oe(s.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":ne(()=>[oe(s.$slots,"nav-bar-title-after",{},void 0,!0)]),_:3})]),Z("div",RN,[Z("div",LN,[oe(s.$slots,"nav-bar-content-before",{},void 0,!0),J(vN,{class:"search"}),J(sN,{class:"menu"}),J(TN,{class:"translations"}),J(uL,{class:"appearance"}),J(yN,{class:"social-links"}),J(WL,{class:"extra"}),oe(s.$slots,"nav-bar-content-after",{},void 0,!0),J(ZL,{class:"hamburger",active:s.isScreenOpen,onClick:o[0]||(o[0]=u=>s.$emit("toggle-screen"))},null,8,["active"])])])])]),NN],2))}}),DN=zt(ON,[["__scopeId","data-v-b26cb13e"]]),FN={key:0,class:"VPNavScreenAppearance"},BN={class:"text"},UN=re({__name:"VPNavScreenAppearance",setup(t){const{site:e,theme:n}=Sn();return(i,r)=>d(e).appearance&&d(e).appearance!=="force-dark"&&d(e).appearance!=="force-auto"?(I(),K("div",FN,[Z("p",BN,Ne(d(n).darkModeSwitchLabel||"Appearance"),1),J(qg)])):he("",!0)}}),VN=zt(UN,[["__scopeId","data-v-f140d185"]]),zN=re({__name:"VPNavScreenMenuLink",props:{item:{}},setup(t){const e=ct("close-screen");return(n,i)=>(I(),we(ja,{class:"VPNavScreenMenuLink",href:n.item.link,target:n.item.target,rel:n.item.rel,onClick:d(e),innerHTML:n.item.text},null,8,["href","target","rel","onClick","innerHTML"]))}}),$N=zt(zN,[["__scopeId","data-v-32d57cf6"]]),HN=re({__name:"VPNavScreenMenuGroupLink",props:{item:{}},setup(t){const e=ct("close-screen");return(n,i)=>(I(),we(ja,{class:"VPNavScreenMenuGroupLink",href:n.item.link,target:n.item.target,rel:n.item.rel,onClick:d(e)},{default:ne(()=>[mt(Ne(n.item.text),1)]),_:1},8,["href","target","rel","onClick"]))}}),YC=zt(HN,[["__scopeId","data-v-3adffa3c"]]),GN={class:"VPNavScreenMenuGroupSection"},WN={key:0,class:"title"},KN=re({__name:"VPNavScreenMenuGroupSection",props:{text:{},items:{}},setup(t){return(e,n)=>(I(),K("div",GN,[e.text?(I(),K("p",WN,Ne(e.text),1)):he("",!0),(I(!0),K(ut,null,Ut(e.items,i=>(I(),we(YC,{key:i.text,item:i},null,8,["item"]))),128))]))}}),qN=zt(KN,[["__scopeId","data-v-6dd549c2"]]),YN=t=>(yi("data-v-dd3775b8"),t=t(),_i(),t),jN=["aria-controls","aria-expanded"],XN=["innerHTML"],ZN=YN(()=>Z("span",{class:"vpi-plus button-icon"},null,-1)),QN=["id"],JN={key:0,class:"item"},e3={key:1,class:"item"},t3={key:2,class:"group"},n3=re({__name:"VPNavScreenMenuGroup",props:{text:{},items:{}},setup(t){const e=t,n=W(!1),i=L(()=>`NavScreenGroup-${e.text.replace(" ","-").toLowerCase()}`);function r(){n.value=!n.value}return(a,s)=>(I(),K("div",{class:z(["VPNavScreenMenuGroup",{open:n.value}])},[Z("button",{class:"button","aria-controls":i.value,"aria-expanded":n.value,onClick:r},[Z("span",{class:"button-text",innerHTML:a.text},null,8,XN),ZN],8,jN),Z("div",{id:i.value,class:"items"},[(I(!0),K(ut,null,Ut(a.items,o=>(I(),K(ut,{key:JSON.stringify(o)},["link"in o?(I(),K("div",JN,[J(YC,{item:o},null,8,["item"])])):"component"in o?(I(),K("div",e3,[(I(),we(Vt(o.component),Ht({ref_for:!0},o.props,{"screen-menu":""}),null,16))])):(I(),K("div",t3,[J(qN,{text:o.text,items:o.items},null,8,["text","items"])]))],64))),128))],8,QN)],2))}}),i3=zt(n3,[["__scopeId","data-v-dd3775b8"]]),r3={key:0,class:"VPNavScreenMenu"},a3=re({__name:"VPNavScreenMenu",setup(t){const{theme:e}=Sn();return(n,i)=>d(e).nav?(I(),K("nav",r3,[(I(!0),K(ut,null,Ut(d(e).nav,r=>(I(),K(ut,{key:JSON.stringify(r)},["link"in r?(I(),we($N,{key:0,item:r},null,8,["item"])):"component"in r?(I(),we(Vt(r.component),Ht({key:1,ref_for:!0},r.props,{"screen-menu":""}),null,16)):(I(),we(i3,{key:2,text:r.text||"",items:r.items},null,8,["text","items"]))],64))),128))])):he("",!0)}}),s3=re({__name:"VPNavScreenSocialLinks",setup(t){const{theme:e}=Sn();return(n,i)=>d(e).socialLinks?(I(),we(Xg,{key:0,class:"VPNavScreenSocialLinks",links:d(e).socialLinks},null,8,["links"])):he("",!0)}}),jC=t=>(yi("data-v-1e116d9d"),t=t(),_i(),t),o3=jC(()=>Z("span",{class:"vpi-languages icon lang"},null,-1)),l3=jC(()=>Z("span",{class:"vpi-chevron-down icon chevron"},null,-1)),u3={class:"list"},c3=re({__name:"VPNavScreenTranslations",setup(t){const{localeLinks:e,currentLang:n}=fd({correspondingLink:!0}),i=W(!1);function r(){i.value=!i.value}return(a,s)=>d(e).length&&d(n).label?(I(),K("div",{key:0,class:z(["VPNavScreenTranslations",{open:i.value}])},[Z("button",{class:"title",onClick:r},[o3,mt(" "+Ne(d(n).label)+" ",1),l3]),Z("ul",u3,[(I(!0),K(ut,null,Ut(d(e),o=>(I(),K("li",{key:o.link,class:"item"},[J(ja,{class:"link",href:o.link},{default:ne(()=>[mt(Ne(o.text),1)]),_:2},1032,["href"])]))),128))])],2)):he("",!0)}}),d3=zt(c3,[["__scopeId","data-v-1e116d9d"]]),f3={class:"container"},h3=re({__name:"VPNavScreen",props:{open:{type:Boolean}},setup(t){const e=W(null),n=LC(Vh?document.body:null);return(i,r)=>(I(),we(ui,{name:"fade",onEnter:r[0]||(r[0]=a=>n.value=!0),onAfterLeave:r[1]||(r[1]=a=>n.value=!1)},{default:ne(()=>[i.open?(I(),K("div",{key:0,class:"VPNavScreen",ref_key:"screen",ref:e,id:"VPNavScreen"},[Z("div",f3,[oe(i.$slots,"nav-screen-content-before",{},void 0,!0),J(a3,{class:"menu"}),J(d3,{class:"translations"}),J(VN,{class:"appearance"}),J(s3,{class:"social-links"}),oe(i.$slots,"nav-screen-content-after",{},void 0,!0)])],512)):he("",!0)]),_:3}))}}),p3=zt(h3,[["__scopeId","data-v-ff89af51"]]),m3={key:0,class:"VPNav"},v3=re({__name:"VPNav",setup(t){const{isScreenOpen:e,closeScreen:n,toggleScreen:i}=ZR(),{frontmatter:r}=Sn(),a=L(()=>r.value.navbar!==!1);return Zt("close-screen",n),mi(()=>{Vh&&document.documentElement.classList.toggle("hide-nav",!a.value)}),(s,o)=>a.value?(I(),K("header",m3,[J(DN,{"is-screen-open":d(e),onToggleScreen:d(i)},{"nav-bar-title-before":ne(()=>[oe(s.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":ne(()=>[oe(s.$slots,"nav-bar-title-after",{},void 0,!0)]),"nav-bar-content-before":ne(()=>[oe(s.$slots,"nav-bar-content-before",{},void 0,!0)]),"nav-bar-content-after":ne(()=>[oe(s.$slots,"nav-bar-content-after",{},void 0,!0)]),_:3},8,["is-screen-open","onToggleScreen"]),J(p3,{open:d(e)},{"nav-screen-content-before":ne(()=>[oe(s.$slots,"nav-screen-content-before",{},void 0,!0)]),"nav-screen-content-after":ne(()=>[oe(s.$slots,"nav-screen-content-after",{},void 0,!0)]),_:3},8,["open"])])):he("",!0)}}),g3=zt(v3,[["__scopeId","data-v-6f474b23"]]),XC=t=>(yi("data-v-aad23f36"),t=t(),_i(),t),y3=["role","tabindex"],_3=XC(()=>Z("div",{class:"indicator"},null,-1)),b3=XC(()=>Z("span",{class:"vpi-chevron-right caret-icon"},null,-1)),w3=[b3],S3={key:1,class:"items"},C3=re({__name:"VPSidebarItem",props:{item:{},depth:{}},setup(t){const e=t,{collapsed:n,collapsible:i,isLink:r,isActiveLink:a,hasActiveLink:s,hasChildren:o,toggle:u}=zI(L(()=>e.item)),c=L(()=>o.value?"section":"div"),h=L(()=>r.value?"a":"div"),p=L(()=>o.value?e.depth+2===7?"p":`h${e.depth+2}`:"p"),v=L(()=>r.value?void 0:"button"),g=L(()=>[[`level-${e.depth}`],{collapsible:i.value},{collapsed:n.value},{"is-link":r.value},{"is-active":a.value},{"has-active":s.value}]);function y(w){"key"in w&&w.key!=="Enter"||!e.item.link&&u()}function _(){e.item.link&&u()}return(w,b)=>{const M=At("VPSidebarItem",!0);return I(),we(Vt(c.value),{class:z(["VPSidebarItem",g.value])},{default:ne(()=>[w.item.text?(I(),K("div",Ht({key:0,class:"item",role:v.value},NC(w.item.items?{click:y,keydown:y}:{},!0),{tabindex:w.item.items&&0}),[_3,w.item.link?(I(),we(ja,{key:0,tag:h.value,class:"link",href:w.item.link,rel:w.item.rel,target:w.item.target},{default:ne(()=>[(I(),we(Vt(p.value),{class:"text",innerHTML:w.item.text},null,8,["innerHTML"]))]),_:1},8,["tag","href","rel","target"])):(I(),we(Vt(p.value),{key:1,class:"text",innerHTML:w.item.text},null,8,["innerHTML"])),w.item.collapsed!=null&&w.item.items&&w.item.items.length?(I(),K("div",{key:2,class:"caret",role:"button","aria-label":"toggle section",onClick:_,onKeydown:mn(_,["enter"]),tabindex:"0"},w3,32)):he("",!0)],16,y3)):he("",!0),w.item.items&&w.item.items.length?(I(),K("div",S3,[w.depth<5?(I(!0),K(ut,{key:0},Ut(w.item.items,C=>(I(),we(M,{key:C.text,item:C,depth:w.depth+1},null,8,["item","depth"]))),128)):he("",!0)])):he("",!0)]),_:1},8,["class"])}}}),E3=zt(C3,[["__scopeId","data-v-aad23f36"]]),x3=re({__name:"VPSidebarGroup",props:{items:{}},setup(t){const e=W(!0);let n=null;return wt(()=>{n=setTimeout(()=>{n=null,e.value=!1},300)}),xn(()=>{n!=null&&(clearTimeout(n),n=null)}),(i,r)=>(I(!0),K(ut,null,Ut(i.items,a=>(I(),K("div",{key:a.text,class:z(["group",{"no-transition":e.value}])},[J(E3,{item:a,depth:0},null,8,["item"])],2))),128))}}),M3=zt(x3,[["__scopeId","data-v-7b63e751"]]),ZC=t=>(yi("data-v-73dab79a"),t=t(),_i(),t),T3=ZC(()=>Z("div",{class:"curtain"},null,-1)),A3={class:"nav",id:"VPSidebarNav","aria-labelledby":"sidebar-aria-label",tabindex:"-1"},k3=ZC(()=>Z("span",{class:"visually-hidden",id:"sidebar-aria-label"}," Sidebar Navigation ",-1)),I3=re({__name:"VPSidebar",props:{open:{type:Boolean}},setup(t){const{sidebarGroups:e,hasSidebar:n}=ks(),i=t,r=W(null),a=LC(Vh?document.body:null);Le([i,r],()=>{var o;i.open?(a.value=!0,(o=r.value)==null||o.focus()):a.value=!1},{immediate:!0,flush:"post"});const s=W(0);return Le(e,()=>{s.value+=1},{deep:!0}),(o,u)=>d(n)?(I(),K("aside",{key:0,class:z(["VPSidebar",{open:o.open}]),ref_key:"navEl",ref:r,onClick:u[0]||(u[0]=xt(()=>{},["stop"]))},[T3,Z("nav",A3,[k3,oe(o.$slots,"sidebar-nav-before",{},void 0,!0),(I(),we(M3,{items:d(e),key:s.value},null,8,["items"])),oe(o.$slots,"sidebar-nav-after",{},void 0,!0)])],2)):he("",!0)}}),P3=zt(I3,[["__scopeId","data-v-73dab79a"]]),R3=re({__name:"VPSkipLink",setup(t){const e=Uh(),n=W();Le(()=>e.path,()=>n.value.focus());function i({target:r}){const a=document.getElementById(decodeURIComponent(r.hash).slice(1));if(a){const s=()=>{a.removeAttribute("tabindex"),a.removeEventListener("blur",s)};a.setAttribute("tabindex","-1"),a.addEventListener("blur",s),a.focus(),window.scrollTo(0,0)}}return(r,a)=>(I(),K(ut,null,[Z("span",{ref_key:"backToTop",ref:n,tabindex:"-1"},null,512),Z("a",{href:"#VPContent",class:"VPSkipLink visually-hidden",onClick:i}," Skip to content ")],64))}}),L3=zt(R3,[["__scopeId","data-v-eea713a2"]]),N3=re({__name:"Layout",setup(t){const{isOpen:e,open:n,close:i}=ks(),r=Uh();Le(()=>r.path,i),VI(e,i);const{frontmatter:a}=Sn(),s=bi(),o=L(()=>!!s["home-hero-image"]);return Zt("hero-image-slot-exists",o),(u,c)=>{const h=At("Content");return d(a).layout!==!1?(I(),K("div",{key:0,class:z(["Layout",d(a).pageClass])},[oe(u.$slots,"layout-top",{},void 0,!0),J(L3),J(xI,{class:"backdrop",show:d(e),onClick:d(i)},null,8,["show","onClick"]),J(g3,null,{"nav-bar-title-before":ne(()=>[oe(u.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":ne(()=>[oe(u.$slots,"nav-bar-title-after",{},void 0,!0)]),"nav-bar-content-before":ne(()=>[oe(u.$slots,"nav-bar-content-before",{},void 0,!0)]),"nav-bar-content-after":ne(()=>[oe(u.$slots,"nav-bar-content-after",{},void 0,!0)]),"nav-screen-content-before":ne(()=>[oe(u.$slots,"nav-screen-content-before",{},void 0,!0)]),"nav-screen-content-after":ne(()=>[oe(u.$slots,"nav-screen-content-after",{},void 0,!0)]),_:3}),J(XR,{open:d(e),onOpenMenu:d(n)},null,8,["open","onOpenMenu"]),J(P3,{open:d(e)},{"sidebar-nav-before":ne(()=>[oe(u.$slots,"sidebar-nav-before",{},void 0,!0)]),"sidebar-nav-after":ne(()=>[oe(u.$slots,"sidebar-nav-after",{},void 0,!0)]),_:3},8,["open"]),J(IR,null,{"page-top":ne(()=>[oe(u.$slots,"page-top",{},void 0,!0)]),"page-bottom":ne(()=>[oe(u.$slots,"page-bottom",{},void 0,!0)]),"not-found":ne(()=>[oe(u.$slots,"not-found",{},void 0,!0)]),"home-hero-before":ne(()=>[oe(u.$slots,"home-hero-before",{},void 0,!0)]),"home-hero-info-before":ne(()=>[oe(u.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":ne(()=>[oe(u.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":ne(()=>[oe(u.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":ne(()=>[oe(u.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":ne(()=>[oe(u.$slots,"home-hero-image",{},void 0,!0)]),"home-hero-after":ne(()=>[oe(u.$slots,"home-hero-after",{},void 0,!0)]),"home-features-before":ne(()=>[oe(u.$slots,"home-features-before",{},void 0,!0)]),"home-features-after":ne(()=>[oe(u.$slots,"home-features-after",{},void 0,!0)]),"doc-footer-before":ne(()=>[oe(u.$slots,"doc-footer-before",{},void 0,!0)]),"doc-before":ne(()=>[oe(u.$slots,"doc-before",{},void 0,!0)]),"doc-after":ne(()=>[oe(u.$slots,"doc-after",{},void 0,!0)]),"doc-top":ne(()=>[oe(u.$slots,"doc-top",{},void 0,!0)]),"doc-bottom":ne(()=>[oe(u.$slots,"doc-bottom",{},void 0,!0)]),"aside-top":ne(()=>[oe(u.$slots,"aside-top",{},void 0,!0)]),"aside-bottom":ne(()=>[oe(u.$slots,"aside-bottom",{},void 0,!0)]),"aside-outline-before":ne(()=>[oe(u.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":ne(()=>[oe(u.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":ne(()=>[oe(u.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":ne(()=>[oe(u.$slots,"aside-ads-after",{},void 0,!0)]),_:3}),J(OR),oe(u.$slots,"layout-bottom",{},void 0,!0)],2)):(I(),we(h,{key:1}))}}}),O3=zt(N3,[["__scopeId","data-v-13494db4"]]),D3={Layout:O3,enhanceApp:({app:t})=>{t.component("Badge",SI)}};function QC(t){return OC()?(zg(t),!0):!1}function wu(t){return typeof t=="function"?t():d(t)}const Zg=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const F3=Object.prototype.toString,B3=t=>F3.call(t)==="[object Object]",U3=()=>{};function V3(t){let e;function n(){return e||(e=t()),e}return n.reset=async()=>{const i=e;e=void 0,i&&await i},n}function z3(t,e,n={}){const{immediate:i=!0}=n,r=W(!1);let a=null;function s(){a&&(clearTimeout(a),a=null)}function o(){r.value=!1,s()}function u(...c){s(),r.value=!0,a=setTimeout(()=>{r.value=!1,a=null,t(...c)},wu(e))}return i&&(r.value=!0,Zg&&u()),QC(o),{isPending:Wu(r),start:u,stop:o}}function $3(t=!1,e={}){const{truthyValue:n=!0,falsyValue:i=!1}=e,r=Ji(t),a=W(t);function s(o){if(arguments.length)return a.value=o,a.value;{const u=wu(n);return a.value=a.value===u?wu(i):u,a.value}}return r?s:[a,s]}const H3=Zg?window:void 0,JC=Zg?window.navigator:void 0;function G3(t){var e;const n=wu(t);return(e=n==null?void 0:n.$el)!=null?e:n}function eE(...t){let e,n,i,r;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,i,r]=t,e=H3):[e,n,i,r]=t,!e)return U3;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const a=[],s=()=>{a.forEach(h=>h()),a.length=0},o=(h,p,v,g)=>(h.addEventListener(p,v,g),()=>h.removeEventListener(p,v,g)),u=Le(()=>[G3(e),wu(r)],([h,p])=>{if(s(),!h)return;const v=B3(p)?{...p}:p;a.push(...n.flatMap(g=>i.map(y=>o(h,g,y,v))))},{immediate:!0,flush:"post"}),c=()=>{u(),s()};return QC(c),c}function W3(){const t=W(!1),e=qt();return e&&wt(()=>{t.value=!0},e),t}function tE(t){const e=W3();return L(()=>(e.value,!!t()))}function x_(t,e={}){const{controls:n=!1,navigator:i=JC}=e,r=tE(()=>i&&"permissions"in i),a=Mn(),s=typeof t=="string"?{name:t}:t,o=Mn(),u=()=>{var h,p;o.value=(p=(h=a.value)==null?void 0:h.state)!=null?p:"prompt"};eE(a,"change",u);const c=V3(async()=>{if(r.value){if(!a.value)try{a.value=await i.permissions.query(s)}catch{a.value=void 0}finally{u()}if(n)return _u(a.value)}});return c(),n?{state:o,isSupported:r,query:c}:o}function K3(t={}){const{navigator:e=JC,read:n=!1,source:i,copiedDuring:r=1500,legacy:a=!1}=t,s=tE(()=>e&&"clipboard"in e),o=x_("clipboard-read"),u=x_("clipboard-write"),c=L(()=>s.value||a),h=W(""),p=W(!1),v=z3(()=>p.value=!1,r);function g(){s.value&&b(o.value)?e.clipboard.readText().then(M=>{h.value=M}):h.value=w()}c.value&&n&&eE(["copy","cut"],g);async function y(M=wu(i)){c.value&&M!=null&&(s.value&&b(u.value)?await e.clipboard.writeText(M):_(M),h.value=M,p.value=!0,v.start())}function _(M){const C=document.createElement("textarea");C.value=M??"",C.style.position="absolute",C.style.opacity="0",document.body.appendChild(C),C.select(),document.execCommand("copy"),C.remove()}function w(){var M,C,x;return(x=(C=(M=document==null?void 0:document.getSelection)==null?void 0:M.call(document))==null?void 0:C.toString())!=null?x:""}function b(M){return M==="granted"||M==="prompt"}return{isSupported:c,text:h,copied:p,copy:y}}/*! Element Plus Icons Vue v2.3.1 */var q3=re({name:"ArrowDown",__name:"arrow-down",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),Is=q3,Y3=re({name:"ArrowLeft",__name:"arrow-left",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),ao=Y3,j3=re({name:"ArrowRight",__name:"arrow-right",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),hr=j3,X3=re({name:"ArrowUp",__name:"arrow-up",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),Qg=X3,Z3=re({name:"Back",__name:"back",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),Z("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),Q3=Z3,J3=re({name:"Calendar",__name:"calendar",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),eO=J3,tO=re({name:"CaretRight",__name:"caret-right",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),nE=tO,nO=re({name:"CaretTop",__name:"caret-top",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),iE=nO,iO=re({name:"ChatSquare",__name:"chat-square",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M273.536 736H800a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H224a64 64 0 0 0-64 64v570.88zM296 800 147.968 918.4A32 32 0 0 1 96 893.44V256a128 128 0 0 1 128-128h576a128 128 0 0 1 128 128v416a128 128 0 0 1-128 128z"})]))}}),rO=iO,aO=re({name:"Check",__name:"check",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),hd=aO,sO=re({name:"CircleCheckFilled",__name:"circle-check-filled",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),oO=sO,lO=re({name:"CircleCheck",__name:"circle-check",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Z("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),Jg=lO,uO=re({name:"CircleCloseFilled",__name:"circle-close-filled",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),e0=uO,cO=re({name:"CircleClose",__name:"circle-close",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),Z("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),_o=cO,dO=re({name:"Clock",__name:"clock",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Z("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),Z("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),rE=dO,fO=re({name:"Close",__name:"close",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),Ra=fO,hO=re({name:"CopyDocument",__name:"copy-document",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M768 832a128 128 0 0 1-128 128H192A128 128 0 0 1 64 832V384a128 128 0 0 1 128-128v64a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64z"}),Z("path",{fill:"currentColor",d:"M384 128a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64zm0-64h448a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H384a128 128 0 0 1-128-128V192A128 128 0 0 1 384 64"})]))}}),pO=hO,mO=re({name:"DArrowLeft",__name:"d-arrow-left",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),so=mO,vO=re({name:"DArrowRight",__name:"d-arrow-right",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),oo=vO,gO=re({name:"Delete",__name:"delete",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),yO=gO,_O=re({name:"Document",__name:"document",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),bO=_O,wO=re({name:"Edit",__name:"edit",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640z"}),Z("path",{fill:"currentColor",d:"m469.952 554.24 52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"})]))}}),SO=wO,CO=re({name:"FullScreen",__name:"full-screen",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),EO=CO,xO=re({name:"Hide",__name:"hide",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),Z("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),MO=xO,TO=re({name:"InfoFilled",__name:"info-filled",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),t0=TO,AO=re({name:"Loading",__name:"loading",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),Za=AO,kO=re({name:"Minus",__name:"minus",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),IO=kO,PO=re({name:"MoreFilled",__name:"more-filled",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),M_=PO,RO=re({name:"More",__name:"more",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),LO=RO,NO=re({name:"PictureFilled",__name:"picture-filled",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),OO=NO,DO=re({name:"Plus",__name:"plus",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),aE=DO,FO=re({name:"QuestionFilled",__name:"question-filled",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}}),BO=FO,UO=re({name:"Reading",__name:"reading",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m512 863.36 384-54.848v-638.72L525.568 222.72a96 96 0 0 1-27.136 0L128 169.792v638.72zM137.024 106.432l370.432 52.928a32 32 0 0 0 9.088 0l370.432-52.928A64 64 0 0 1 960 169.792v638.72a64 64 0 0 1-54.976 63.36l-388.48 55.488a32 32 0 0 1-9.088 0l-388.48-55.488A64 64 0 0 1 64 808.512v-638.72a64 64 0 0 1 73.024-63.36z"}),Z("path",{fill:"currentColor",d:"M480 192h64v704h-64z"})]))}}),VO=UO,zO=re({name:"RefreshLeft",__name:"refresh-left",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),$O=zO,HO=re({name:"RefreshRight",__name:"refresh-right",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),GO=HO,WO=re({name:"ScaleToOriginal",__name:"scale-to-original",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),KO=WO,qO=re({name:"Search",__name:"search",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),YO=qO,jO=re({name:"SortDown",__name:"sort-down",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),XO=jO,ZO=re({name:"SortUp",__name:"sort-up",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),QO=ZO,JO=re({name:"StarFilled",__name:"star-filled",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),Vd=JO,eD=re({name:"Star",__name:"star",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),tD=eD,nD=re({name:"SuccessFilled",__name:"success-filled",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),sE=nD,iD=re({name:"View",__name:"view",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),rD=iD,aD=re({name:"WarningFilled",__name:"warning-filled",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),Hh=aD,sD=re({name:"ZoomIn",__name:"zoom-in",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),oE=sD,oD=re({name:"ZoomOut",__name:"zoom-out",setup(t){return(e,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),lD=oD;const T_=/\/$/;function uD(t,e,n,i,r="examples/",a=".vue"){return`${(IC(t)?t:`https://gitee.com/${t}`).replace(T_,"")}/${n}/${e?`${e.replace(T_,"")}/`:""}${r||""}${i}${a||""}`}const cD=t=>{const{theme:e}=kC();return console.log("theme",e.value),L(()=>{const{repo:i,docsDir:r="dls-map",docsBranch:a="master",docsRepo:s=i}=e.value;return console.log(),uD(i,r,a,t.value)})},dD={class:"example-source-wrapper"},fD=["innerHTML"],hD=re({__name:"vp-source-code",props:{visible:{type:Boolean,required:!0},source:{type:String,required:!0}},setup(t){const e=t,n=L(()=>decodeURIComponent(e.source));return(i,r)=>Bt((I(),K("div",dD,[Z("div",{class:"example-source",innerHTML:n.value},null,8,fD)],512)),[[sn,t.visible]])}}),pD=zt(hD,[["__scopeId","data-v-f6d3955e"]]),mD='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',vD=t=>getComputedStyle(t).position==="fixed"?!1:t.offsetParent!==null,A_=t=>Array.from(t.querySelectorAll(mD)).filter(e=>gD(e)&&vD(e)),gD=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},Df=function(t,e,...n){let i;e.includes("mouse")||e.includes("click")?i="MouseEvents":e.includes("key")?i="KeyboardEvent":i="HTMLEvents";const r=document.createEvent(i);return r.initEvent(e,...n),t.dispatchEvent(r),t},lE=t=>!t.getAttribute("aria-owns"),uE=(t,e,n)=>{const{parentNode:i}=t;if(!i)return null;const r=i.querySelectorAll(n),a=Array.prototype.indexOf.call(r,t);return r[a+e]||null},Ff=t=>{t&&(t.focus(),!lE(t)&&t.click())},qn=(t,e,{checkForDefaultPrevented:n=!0}={})=>r=>{const a=t==null?void 0:t(r);if(n===!1||!a)return e==null?void 0:e(r)},k_=t=>e=>e.pointerType==="mouse"?t(e):void 0;var yD=Object.defineProperty,_D=Object.defineProperties,bD=Object.getOwnPropertyDescriptors,I_=Object.getOwnPropertySymbols,wD=Object.prototype.hasOwnProperty,SD=Object.prototype.propertyIsEnumerable,P_=(t,e,n)=>e in t?yD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,CD=(t,e)=>{for(var n in e||(e={}))wD.call(e,n)&&P_(t,n,e[n]);if(I_)for(var n of I_(e))SD.call(e,n)&&P_(t,n,e[n]);return t},ED=(t,e)=>_D(t,bD(e));function R_(t,e){var n;const i=Mn();return mi(()=>{i.value=t()},ED(CD({},e),{flush:(n=void 0)!=null?n:"sync"})),Wu(i)}var L_;const tn=typeof window<"u",xD=t=>typeof t<"u",ov=t=>typeof t=="function",MD=t=>typeof t=="string",Su=()=>{},lv=tn&&((L_=window==null?void 0:window.navigator)==null?void 0:L_.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function lo(t){return typeof t=="function"?t():d(t)}function cE(t,e){function n(...i){return new Promise((r,a)=>{Promise.resolve(t(()=>e.apply(this,i),{fn:e,thisArg:this,args:i})).then(r).catch(a)})}return n}function TD(t,e={}){let n,i,r=Su;const a=o=>{clearTimeout(o),r(),r=Su};return o=>{const u=lo(t),c=lo(e.maxWait);return n&&a(n),u<=0||c!==void 0&&c<=0?(i&&(a(i),i=null),Promise.resolve(o())):new Promise((h,p)=>{r=e.rejectOnCancel?p:h,c&&!i&&(i=setTimeout(()=>{n&&a(n),i=null,h(o())},c)),n=setTimeout(()=>{i&&a(i),i=null,h(o())},u)})}}function AD(t,e=!0,n=!0,i=!1){let r=0,a,s=!0,o=Su,u;const c=()=>{a&&(clearTimeout(a),a=void 0,o(),o=Su)};return p=>{const v=lo(t),g=Date.now()-r,y=()=>u=p();return c(),v<=0?(r=Date.now(),y()):(g>v&&(n||!s)?(r=Date.now(),y()):e&&(u=new Promise((_,w)=>{o=i?w:_,a=setTimeout(()=>{r=Date.now(),s=!0,_(y()),c()},Math.max(0,v-g))})),!n&&!a&&(a=setTimeout(()=>s=!0,v)),s=!1,u)}}function kD(t){return t}function ID(t,e){let n,i,r;const a=W(!0),s=()=>{a.value=!0,r()};Le(t,s,{flush:"sync"});const o=ov(e)?e:e.get,u=ov(e)?void 0:e.set,c=dI((h,p)=>(i=h,r=p,{get(){return a.value&&(n=o(),a.value=!1),i(),n},set(v){u==null||u(v)}}));return Object.isExtensible(c)&&(c.trigger=s),c}function pd(t){return OC()?(zg(t),!0):!1}function PD(t,e=200,n={}){return cE(TD(e,n),t)}function RD(t,e=200,n={}){const i=W(t.value),r=PD(()=>{i.value=t.value},e,n);return Le(t,()=>r()),i}function dE(t,e=200,n=!1,i=!0,r=!1){return cE(AD(e,n,i,r),t)}function n0(t,e=!0){qt()?wt(t):e?t():yt(t)}function ll(t,e,n={}){const{immediate:i=!0}=n,r=W(!1);let a=null;function s(){a&&(clearTimeout(a),a=null)}function o(){r.value=!1,s()}function u(...c){s(),r.value=!0,a=setTimeout(()=>{r.value=!1,a=null,t(...c)},lo(e))}return i&&(r.value=!0,tn&&u()),pd(o),{isPending:Wu(r),start:u,stop:o}}function Er(t){var e;const n=lo(t);return(e=n==null?void 0:n.$el)!=null?e:n}const bo=tn?window:void 0,LD=tn?window.document:void 0;function yn(...t){let e,n,i,r;if(MD(t[0])||Array.isArray(t[0])?([n,i,r]=t,e=bo):[e,n,i,r]=t,!e)return Su;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const a=[],s=()=>{a.forEach(h=>h()),a.length=0},o=(h,p,v,g)=>(h.addEventListener(p,v,g),()=>h.removeEventListener(p,v,g)),u=Le(()=>[Er(e),lo(r)],([h,p])=>{s(),h&&a.push(...n.flatMap(v=>i.map(g=>o(h,v,g,p))))},{immediate:!0,flush:"post"}),c=()=>{u(),s()};return pd(c),c}let N_=!1;function i0(t,e,n={}){const{window:i=bo,ignore:r=[],capture:a=!0,detectIframe:s=!1}=n;if(!i)return;lv&&!N_&&(N_=!0,Array.from(i.document.body.children).forEach(v=>v.addEventListener("click",Su)));let o=!0;const u=v=>r.some(g=>{if(typeof g=="string")return Array.from(i.document.querySelectorAll(g)).some(y=>y===v.target||v.composedPath().includes(y));{const y=Er(g);return y&&(v.target===y||v.composedPath().includes(y))}}),h=[yn(i,"click",v=>{const g=Er(t);if(!(!g||g===v.target||v.composedPath().includes(g))){if(v.detail===0&&(o=!u(v)),!o){o=!0;return}e(v)}},{passive:!0,capture:a}),yn(i,"pointerdown",v=>{const g=Er(t);g&&(o=!v.composedPath().includes(g)&&!u(v))},{passive:!0}),s&&yn(i,"blur",v=>{var g;const y=Er(t);((g=i.document.activeElement)==null?void 0:g.tagName)==="IFRAME"&&!(y!=null&&y.contains(i.document.activeElement))&&e(v)})].filter(Boolean);return()=>h.forEach(v=>v())}function ND(t={}){var e;const{window:n=bo}=t,i=(e=t.document)!=null?e:n==null?void 0:n.document,r=ID(()=>null,()=>i==null?void 0:i.activeElement);return n&&(yn(n,"blur",a=>{a.relatedTarget===null&&r.trigger()},!0),yn(n,"focus",r.trigger,!0)),r}function fE(t,e=!1){const n=W(),i=()=>n.value=!!t();return i(),n0(i,e),n}function OD(t){return JSON.parse(JSON.stringify(t))}const O_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},D_="__vueuse_ssr_handlers__";O_[D_]=O_[D_]||{};function DD(t,e,{window:n=bo,initialValue:i=""}={}){const r=W(i),a=L(()=>{var s;return Er(e)||((s=n==null?void 0:n.document)==null?void 0:s.documentElement)});return Le([a,()=>lo(t)],([s,o])=>{var u;if(s&&n){const c=(u=n.getComputedStyle(s).getPropertyValue(o))==null?void 0:u.trim();r.value=c||i}},{immediate:!0}),Le(r,s=>{var o;(o=a.value)!=null&&o.style&&a.value.style.setProperty(lo(t),s)}),r}function FD({document:t=LD}={}){if(!t)return W("visible");const e=W(t.visibilityState);return yn(t,"visibilitychange",()=>{e.value=t.visibilityState}),e}var F_=Object.getOwnPropertySymbols,BD=Object.prototype.hasOwnProperty,UD=Object.prototype.propertyIsEnumerable,VD=(t,e)=>{var n={};for(var i in t)BD.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&F_)for(var i of F_(t))e.indexOf(i)<0&&UD.call(t,i)&&(n[i]=t[i]);return n};function On(t,e,n={}){const i=n,{window:r=bo}=i,a=VD(i,["window"]);let s;const o=fE(()=>r&&"ResizeObserver"in r),u=()=>{s&&(s.disconnect(),s=void 0)},c=Le(()=>Er(t),p=>{u(),o.value&&r&&p&&(s=new ResizeObserver(e),s.observe(p,a))},{immediate:!0,flush:"post"}),h=()=>{u(),c()};return pd(h),{isSupported:o,stop:h}}function B_(t,e={}){const{reset:n=!0,windowResize:i=!0,windowScroll:r=!0,immediate:a=!0}=e,s=W(0),o=W(0),u=W(0),c=W(0),h=W(0),p=W(0),v=W(0),g=W(0);function y(){const _=Er(t);if(!_){n&&(s.value=0,o.value=0,u.value=0,c.value=0,h.value=0,p.value=0,v.value=0,g.value=0);return}const w=_.getBoundingClientRect();s.value=w.height,o.value=w.bottom,u.value=w.left,c.value=w.right,h.value=w.top,p.value=w.width,v.value=w.x,g.value=w.y}return On(t,y),Le(()=>Er(t),_=>!_&&y()),r&&yn("scroll",y,{capture:!0,passive:!0}),i&&yn("resize",y,{passive:!0}),n0(()=>{a&&y()}),{height:s,bottom:o,left:u,right:c,top:h,width:p,x:v,y:g,update:y}}var U_=Object.getOwnPropertySymbols,zD=Object.prototype.hasOwnProperty,$D=Object.prototype.propertyIsEnumerable,HD=(t,e)=>{var n={};for(var i in t)zD.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&U_)for(var i of U_(t))e.indexOf(i)<0&&$D.call(t,i)&&(n[i]=t[i]);return n};function hE(t,e,n={}){const i=n,{window:r=bo}=i,a=HD(i,["window"]);let s;const o=fE(()=>r&&"MutationObserver"in r),u=()=>{s&&(s.disconnect(),s=void 0)},c=Le(()=>Er(t),p=>{u(),o.value&&r&&p&&(s=new MutationObserver(e),s.observe(p,a))},{immediate:!0}),h=()=>{u(),c()};return pd(h),{isSupported:o,stop:h}}var V_;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(V_||(V_={}));var GD=Object.defineProperty,z_=Object.getOwnPropertySymbols,WD=Object.prototype.hasOwnProperty,KD=Object.prototype.propertyIsEnumerable,$_=(t,e,n)=>e in t?GD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qD=(t,e)=>{for(var n in e||(e={}))WD.call(e,n)&&$_(t,n,e[n]);if(z_)for(var n of z_(e))KD.call(e,n)&&$_(t,n,e[n]);return t};const YD={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};qD({linear:kD},YD);function pE(t,e,n,i={}){var r,a,s;const{clone:o=!1,passive:u=!1,eventName:c,deep:h=!1,defaultValue:p}=i,v=qt(),g=n||(v==null?void 0:v.emit)||((r=v==null?void 0:v.$emit)==null?void 0:r.bind(v))||((s=(a=v==null?void 0:v.proxy)==null?void 0:a.$emit)==null?void 0:s.bind(v==null?void 0:v.proxy));let y=c;e||(e="modelValue"),y=c||y||`update:${e.toString()}`;const _=b=>o?ov(o)?o(b):OD(b):b,w=()=>xD(t[e])?_(t[e]):p;if(u){const b=w(),M=W(b);return Le(()=>t[e],C=>M.value=_(C)),Le(M,C=>{(C!==t[e]||h)&&g(y,C)},{deep:h}),M}else return L({get(){return w()},set(b){g(y,b)}})}function jD({window:t=bo}={}){if(!t)return W(!1);const e=W(t.document.hasFocus());return yn(t,"blur",()=>{e.value=!1}),yn(t,"focus",()=>{e.value=!0}),e}function XD(t={}){const{window:e=bo,initialWidth:n=1/0,initialHeight:i=1/0,listenOrientation:r=!0,includeScrollbar:a=!0}=t,s=W(n),o=W(i),u=()=>{e&&(a?(s.value=e.innerWidth,o.value=e.innerHeight):(s.value=e.document.documentElement.clientWidth,o.value=e.document.documentElement.clientHeight))};return u(),n0(u),yn("resize",u,{passive:!0}),r&&yn("orientationchange",u,{passive:!0}),{width:s,height:o}}const r0=()=>tn&&/firefox/i.test(window.navigator.userAgent),ZD=(t,e)=>{if(!tn||!t||!e)return!1;const n=t.getBoundingClientRect();let i;return e instanceof Element?i=e.getBoundingClientRect():i={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<i.bottom&&n.bottom>i.top&&n.right>i.left&&n.left<i.right},H_=t=>{let e=0,n=t;for(;n;)e+=n.offsetTop,n=n.offsetParent;return e},uv=(t,e)=>Math.abs(H_(t)-H_(e)),a0=t=>{let e,n;return t.type==="touchend"?(n=t.changedTouches[0].clientY,e=t.changedTouches[0].clientX):t.type.startsWith("touch")?(n=t.touches[0].clientY,e=t.touches[0].clientX):(n=t.clientY,e=t.clientX),{clientX:e,clientY:n}};function QD(t,e,n,i){const r=n-e;return t/=i/2,t<1?r/2*t*t*t+e:r/2*((t-=2)*t*t+2)+e}var mE=typeof global=="object"&&global&&global.Object===Object&&global,JD=typeof self=="object"&&self&&self.Object===Object&&self,Oa=mE||JD||Function("return this")(),la=Oa.Symbol,vE=Object.prototype,e4=vE.hasOwnProperty,t4=vE.toString,yc=la?la.toStringTag:void 0;function n4(t){var e=e4.call(t,yc),n=t[yc];try{t[yc]=void 0;var i=!0}catch{}var r=t4.call(t);return i&&(e?t[yc]=n:delete t[yc]),r}var i4=Object.prototype,r4=i4.toString;function a4(t){return r4.call(t)}var s4="[object Null]",o4="[object Undefined]",G_=la?la.toStringTag:void 0;function bl(t){return t==null?t===void 0?o4:s4:G_&&G_ in Object(t)?n4(t):a4(t)}function Qa(t){return t!=null&&typeof t=="object"}var l4="[object Symbol]";function Gh(t){return typeof t=="symbol"||Qa(t)&&bl(t)==l4}function s0(t,e){for(var n=-1,i=t==null?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}var mr=Array.isArray,u4=1/0,W_=la?la.prototype:void 0,K_=W_?W_.toString:void 0;function gE(t){if(typeof t=="string")return t;if(mr(t))return s0(t,gE)+"";if(Gh(t))return K_?K_.call(t):"";var e=t+"";return e=="0"&&1/t==-u4?"-0":e}var c4=/\s/;function d4(t){for(var e=t.length;e--&&c4.test(t.charAt(e)););return e}var f4=/^\s+/;function h4(t){return t&&t.slice(0,d4(t)+1).replace(f4,"")}function vr(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var q_=NaN,p4=/^[-+]0x[0-9a-f]+$/i,m4=/^0b[01]+$/i,v4=/^0o[0-7]+$/i,g4=parseInt;function Y_(t){if(typeof t=="number")return t;if(Gh(t))return q_;if(vr(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=vr(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=h4(t);var n=m4.test(t);return n||v4.test(t)?g4(t.slice(2),n?2:8):p4.test(t)?q_:+t}function o0(t){return t}var y4="[object AsyncFunction]",_4="[object Function]",b4="[object GeneratorFunction]",w4="[object Proxy]";function l0(t){if(!vr(t))return!1;var e=bl(t);return e==_4||e==b4||e==y4||e==w4}var Up=Oa["__core-js_shared__"],j_=function(){var t=/[^.]+$/.exec(Up&&Up.keys&&Up.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function S4(t){return!!j_&&j_ in t}var C4=Function.prototype,E4=C4.toString;function wl(t){if(t!=null){try{return E4.call(t)}catch{}try{return t+""}catch{}}return""}var x4=/[\\^$.*+?()[\]{}|]/g,M4=/^\[object .+?Constructor\]$/,T4=Function.prototype,A4=Object.prototype,k4=T4.toString,I4=A4.hasOwnProperty,P4=RegExp("^"+k4.call(I4).replace(x4,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function R4(t){if(!vr(t)||S4(t))return!1;var e=l0(t)?P4:M4;return e.test(wl(t))}function L4(t,e){return t==null?void 0:t[e]}function Sl(t,e){var n=L4(t,e);return R4(n)?n:void 0}var cv=Sl(Oa,"WeakMap"),X_=Object.create,N4=function(){function t(){}return function(e){if(!vr(e))return{};if(X_)return X_(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function O4(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function D4(){}function yE(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}var F4=800,B4=16,U4=Date.now;function V4(t){var e=0,n=0;return function(){var i=U4(),r=B4-(i-n);if(n=i,r>0){if(++e>=F4)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function z4(t){return function(){return t}}var rh=function(){try{var t=Sl(Object,"defineProperty");return t({},"",{}),t}catch{}}(),$4=rh?function(t,e){return rh(t,"toString",{configurable:!0,enumerable:!1,value:z4(e),writable:!0})}:o0,_E=V4($4);function H4(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function u0(t,e,n,i){for(var r=t.length,a=n+(i?1:-1);i?a--:++a<r;)if(e(t[a],a,t))return a;return-1}function G4(t){return t!==t}function W4(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function K4(t,e,n){return e===e?W4(t,e,n):u0(t,G4,n)}function q4(t,e){var n=t==null?0:t.length;return!!n&&K4(t,e,0)>-1}var Y4=9007199254740991,j4=/^(?:0|[1-9]\d*)$/;function Wh(t,e){var n=typeof t;return e=e??Y4,!!e&&(n=="number"||n!="symbol"&&j4.test(t))&&t>-1&&t%1==0&&t<e}function c0(t,e,n){e=="__proto__"&&rh?rh(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function md(t,e){return t===e||t!==t&&e!==e}var X4=Object.prototype,Z4=X4.hasOwnProperty;function d0(t,e,n){var i=t[e];(!(Z4.call(t,e)&&md(i,n))||n===void 0&&!(e in t))&&c0(t,e,n)}function Ku(t,e,n,i){var r=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var o=e[a],u=void 0;u===void 0&&(u=t[o]),r?c0(n,o,u):d0(n,o,u)}return n}var Z_=Math.max;function bE(t,e,n){return e=Z_(e===void 0?t.length-1:e,0),function(){for(var i=arguments,r=-1,a=Z_(i.length-e,0),s=Array(a);++r<a;)s[r]=i[e+r];r=-1;for(var o=Array(e+1);++r<e;)o[r]=i[r];return o[e]=n(s),O4(t,this,o)}}function wE(t,e){return _E(bE(t,e,o0),t+"")}var Q4=9007199254740991;function f0(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Q4}function qu(t){return t!=null&&f0(t.length)&&!l0(t)}function J4(t,e,n){if(!vr(n))return!1;var i=typeof e;return(i=="number"?qu(n)&&Wh(e,n.length):i=="string"&&e in n)?md(n[e],t):!1}function eF(t){return wE(function(e,n){var i=-1,r=n.length,a=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;for(a=t.length>3&&typeof a=="function"?(r--,a):void 0,s&&J4(n[0],n[1],s)&&(a=r<3?void 0:a,r=1),e=Object(e);++i<r;){var o=n[i];o&&t(e,o,i,a)}return e})}var tF=Object.prototype;function h0(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||tF;return t===n}function nF(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var iF="[object Arguments]";function Q_(t){return Qa(t)&&bl(t)==iF}var SE=Object.prototype,rF=SE.hasOwnProperty,aF=SE.propertyIsEnumerable,$c=Q_(function(){return arguments}())?Q_:function(t){return Qa(t)&&rF.call(t,"callee")&&!aF.call(t,"callee")};function sF(){return!1}var CE=typeof exports=="object"&&exports&&!exports.nodeType&&exports,J_=CE&&typeof module=="object"&&module&&!module.nodeType&&module,oF=J_&&J_.exports===CE,eb=oF?Oa.Buffer:void 0,lF=eb?eb.isBuffer:void 0,Hc=lF||sF,uF="[object Arguments]",cF="[object Array]",dF="[object Boolean]",fF="[object Date]",hF="[object Error]",pF="[object Function]",mF="[object Map]",vF="[object Number]",gF="[object Object]",yF="[object RegExp]",_F="[object Set]",bF="[object String]",wF="[object WeakMap]",SF="[object ArrayBuffer]",CF="[object DataView]",EF="[object Float32Array]",xF="[object Float64Array]",MF="[object Int8Array]",TF="[object Int16Array]",AF="[object Int32Array]",kF="[object Uint8Array]",IF="[object Uint8ClampedArray]",PF="[object Uint16Array]",RF="[object Uint32Array]",Jn={};Jn[EF]=Jn[xF]=Jn[MF]=Jn[TF]=Jn[AF]=Jn[kF]=Jn[IF]=Jn[PF]=Jn[RF]=!0;Jn[uF]=Jn[cF]=Jn[SF]=Jn[dF]=Jn[CF]=Jn[fF]=Jn[hF]=Jn[pF]=Jn[mF]=Jn[vF]=Jn[gF]=Jn[yF]=Jn[_F]=Jn[bF]=Jn[wF]=!1;function LF(t){return Qa(t)&&f0(t.length)&&!!Jn[bl(t)]}function p0(t){return function(e){return t(e)}}var EE=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Oc=EE&&typeof module=="object"&&module&&!module.nodeType&&module,NF=Oc&&Oc.exports===EE,Vp=NF&&mE.process,Cu=function(){try{var t=Oc&&Oc.require&&Oc.require("util").types;return t||Vp&&Vp.binding&&Vp.binding("util")}catch{}}(),tb=Cu&&Cu.isTypedArray,m0=tb?p0(tb):LF,OF=Object.prototype,DF=OF.hasOwnProperty;function xE(t,e){var n=mr(t),i=!n&&$c(t),r=!n&&!i&&Hc(t),a=!n&&!i&&!r&&m0(t),s=n||i||r||a,o=s?nF(t.length,String):[],u=o.length;for(var c in t)(e||DF.call(t,c))&&!(s&&(c=="length"||r&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Wh(c,u)))&&o.push(c);return o}function ME(t,e){return function(n){return t(e(n))}}var FF=ME(Object.keys,Object),BF=Object.prototype,UF=BF.hasOwnProperty;function VF(t){if(!h0(t))return FF(t);var e=[];for(var n in Object(t))UF.call(t,n)&&n!="constructor"&&e.push(n);return e}function vd(t){return qu(t)?xE(t):VF(t)}function zF(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var $F=Object.prototype,HF=$F.hasOwnProperty;function GF(t){if(!vr(t))return zF(t);var e=h0(t),n=[];for(var i in t)i=="constructor"&&(e||!HF.call(t,i))||n.push(i);return n}function gd(t){return qu(t)?xE(t,!0):GF(t)}var WF=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,KF=/^\w*$/;function v0(t,e){if(mr(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Gh(t)?!0:KF.test(t)||!WF.test(t)||e!=null&&t in Object(e)}var Gc=Sl(Object,"create");function qF(){this.__data__=Gc?Gc(null):{},this.size=0}function YF(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var jF="__lodash_hash_undefined__",XF=Object.prototype,ZF=XF.hasOwnProperty;function QF(t){var e=this.__data__;if(Gc){var n=e[t];return n===jF?void 0:n}return ZF.call(e,t)?e[t]:void 0}var JF=Object.prototype,eB=JF.hasOwnProperty;function tB(t){var e=this.__data__;return Gc?e[t]!==void 0:eB.call(e,t)}var nB="__lodash_hash_undefined__";function iB(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Gc&&e===void 0?nB:e,this}function ul(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}ul.prototype.clear=qF;ul.prototype.delete=YF;ul.prototype.get=QF;ul.prototype.has=tB;ul.prototype.set=iB;function rB(){this.__data__=[],this.size=0}function Kh(t,e){for(var n=t.length;n--;)if(md(t[n][0],e))return n;return-1}var aB=Array.prototype,sB=aB.splice;function oB(t){var e=this.__data__,n=Kh(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():sB.call(e,n,1),--this.size,!0}function lB(t){var e=this.__data__,n=Kh(e,t);return n<0?void 0:e[n][1]}function uB(t){return Kh(this.__data__,t)>-1}function cB(t,e){var n=this.__data__,i=Kh(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function Ps(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Ps.prototype.clear=rB;Ps.prototype.delete=oB;Ps.prototype.get=lB;Ps.prototype.has=uB;Ps.prototype.set=cB;var Wc=Sl(Oa,"Map");function dB(){this.size=0,this.__data__={hash:new ul,map:new(Wc||Ps),string:new ul}}function fB(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function qh(t,e){var n=t.__data__;return fB(e)?n[typeof e=="string"?"string":"hash"]:n.map}function hB(t){var e=qh(this,t).delete(t);return this.size-=e?1:0,e}function pB(t){return qh(this,t).get(t)}function mB(t){return qh(this,t).has(t)}function vB(t,e){var n=qh(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function Rs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Rs.prototype.clear=dB;Rs.prototype.delete=hB;Rs.prototype.get=pB;Rs.prototype.has=mB;Rs.prototype.set=vB;var gB="Expected a function";function Yh(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(gB);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],a=n.cache;if(a.has(r))return a.get(r);var s=t.apply(this,i);return n.cache=a.set(r,s)||a,s};return n.cache=new(Yh.Cache||Rs),n}Yh.Cache=Rs;var yB=500;function _B(t){var e=Yh(t,function(i){return n.size===yB&&n.clear(),i}),n=e.cache;return e}var bB=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wB=/\\(\\)?/g,SB=_B(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(bB,function(n,i,r,a){e.push(r?a.replace(wB,"$1"):i||n)}),e});function yd(t){return t==null?"":gE(t)}function Yu(t,e){return mr(t)?t:v0(t,e)?[t]:SB(yd(t))}var CB=1/0;function ju(t){if(typeof t=="string"||Gh(t))return t;var e=t+"";return e=="0"&&1/t==-CB?"-0":e}function jh(t,e){e=Yu(e,t);for(var n=0,i=e.length;t!=null&&n<i;)t=t[ju(e[n++])];return n&&n==i?t:void 0}function ei(t,e,n){var i=t==null?void 0:jh(t,e);return i===void 0?n:i}function g0(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}var nb=la?la.isConcatSpreadable:void 0;function EB(t){return mr(t)||$c(t)||!!(nb&&t&&t[nb])}function _d(t,e,n,i,r){var a=-1,s=t.length;for(n||(n=EB),r||(r=[]);++a<s;){var o=t[a];e>0&&n(o)?e>1?_d(o,e-1,n,i,r):g0(r,o):i||(r[r.length]=o)}return r}function TE(t){var e=t==null?0:t.length;return e?_d(t,1):[]}function AE(t){return _E(bE(t,void 0,TE),t+"")}var y0=ME(Object.getPrototypeOf,Object),xB="[object Object]",MB=Function.prototype,TB=Object.prototype,kE=MB.toString,AB=TB.hasOwnProperty,kB=kE.call(Object);function IE(t){if(!Qa(t)||bl(t)!=xB)return!1;var e=y0(t);if(e===null)return!0;var n=AB.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&kE.call(n)==kB}function PE(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),n=n>r?r:n,n<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(r);++i<r;)a[i]=t[i+e];return a}function IB(t,e,n){var i=t.length;return n=n===void 0?i:n,!e&&n>=i?t:PE(t,e,n)}var PB="\\ud800-\\udfff",RB="\\u0300-\\u036f",LB="\\ufe20-\\ufe2f",NB="\\u20d0-\\u20ff",OB=RB+LB+NB,DB="\\ufe0e\\ufe0f",FB="\\u200d",BB=RegExp("["+FB+PB+OB+DB+"]");function RE(t){return BB.test(t)}function UB(t){return t.split("")}var LE="\\ud800-\\udfff",VB="\\u0300-\\u036f",zB="\\ufe20-\\ufe2f",$B="\\u20d0-\\u20ff",HB=VB+zB+$B,GB="\\ufe0e\\ufe0f",WB="["+LE+"]",dv="["+HB+"]",fv="\\ud83c[\\udffb-\\udfff]",KB="(?:"+dv+"|"+fv+")",NE="[^"+LE+"]",OE="(?:\\ud83c[\\udde6-\\uddff]){2}",DE="[\\ud800-\\udbff][\\udc00-\\udfff]",qB="\\u200d",FE=KB+"?",BE="["+GB+"]?",YB="(?:"+qB+"(?:"+[NE,OE,DE].join("|")+")"+BE+FE+")*",jB=BE+FE+YB,XB="(?:"+[NE+dv+"?",dv,OE,DE,WB].join("|")+")",ZB=RegExp(fv+"(?="+fv+")|"+XB+jB,"g");function QB(t){return t.match(ZB)||[]}function JB(t){return RE(t)?QB(t):UB(t)}function e8(t){return function(e){e=yd(e);var n=RE(e)?JB(e):void 0,i=n?n[0]:e.charAt(0),r=n?IB(n,1).join(""):e.slice(1);return i[t]()+r}}var t8=e8("toUpperCase");function n8(t){return t8(yd(t).toLowerCase())}function i8(t,e,n,i){for(var r=-1,a=t==null?0:t.length;++r<a;)n=e(n,t[r],r,t);return n}function r8(t){return function(e){return t==null?void 0:t[e]}}var a8={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},s8=r8(a8),o8=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,l8="\\u0300-\\u036f",u8="\\ufe20-\\ufe2f",c8="\\u20d0-\\u20ff",d8=l8+u8+c8,f8="["+d8+"]",h8=RegExp(f8,"g");function p8(t){return t=yd(t),t&&t.replace(o8,s8).replace(h8,"")}var m8=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function v8(t){return t.match(m8)||[]}var g8=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function y8(t){return g8.test(t)}var UE="\\ud800-\\udfff",_8="\\u0300-\\u036f",b8="\\ufe20-\\ufe2f",w8="\\u20d0-\\u20ff",S8=_8+b8+w8,VE="\\u2700-\\u27bf",zE="a-z\\xdf-\\xf6\\xf8-\\xff",C8="\\xac\\xb1\\xd7\\xf7",E8="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",x8="\\u2000-\\u206f",M8=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",$E="A-Z\\xc0-\\xd6\\xd8-\\xde",T8="\\ufe0e\\ufe0f",HE=C8+E8+x8+M8,GE="['’]",ib="["+HE+"]",A8="["+S8+"]",WE="\\d+",k8="["+VE+"]",KE="["+zE+"]",qE="[^"+UE+HE+WE+VE+zE+$E+"]",I8="\\ud83c[\\udffb-\\udfff]",P8="(?:"+A8+"|"+I8+")",R8="[^"+UE+"]",YE="(?:\\ud83c[\\udde6-\\uddff]){2}",jE="[\\ud800-\\udbff][\\udc00-\\udfff]",Jl="["+$E+"]",L8="\\u200d",rb="(?:"+KE+"|"+qE+")",N8="(?:"+Jl+"|"+qE+")",ab="(?:"+GE+"(?:d|ll|m|re|s|t|ve))?",sb="(?:"+GE+"(?:D|LL|M|RE|S|T|VE))?",XE=P8+"?",ZE="["+T8+"]?",O8="(?:"+L8+"(?:"+[R8,YE,jE].join("|")+")"+ZE+XE+")*",D8="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",F8="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",B8=ZE+XE+O8,U8="(?:"+[k8,YE,jE].join("|")+")"+B8,V8=RegExp([Jl+"?"+KE+"+"+ab+"(?="+[ib,Jl,"$"].join("|")+")",N8+"+"+sb+"(?="+[ib,Jl+rb,"$"].join("|")+")",Jl+"?"+rb+"+"+ab,Jl+"+"+sb,F8,D8,WE,U8].join("|"),"g");function z8(t){return t.match(V8)||[]}function $8(t,e,n){return t=yd(t),e=e,e===void 0?y8(t)?z8(t):v8(t):t.match(e)||[]}var H8="['’]",G8=RegExp(H8,"g");function W8(t){return function(e){return i8($8(p8(e).replace(G8,"")),t,"")}}var K8=W8(function(t,e,n){return e=e.toLowerCase(),t+(n?n8(e):e)});function Xi(){if(!arguments.length)return[];var t=arguments[0];return mr(t)?t:[t]}function q8(){this.__data__=new Ps,this.size=0}function Y8(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function j8(t){return this.__data__.get(t)}function X8(t){return this.__data__.has(t)}var Z8=200;function Q8(t,e){var n=this.__data__;if(n instanceof Ps){var i=n.__data__;if(!Wc||i.length<Z8-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Rs(i)}return n.set(t,e),this.size=n.size,this}function Ia(t){var e=this.__data__=new Ps(t);this.size=e.size}Ia.prototype.clear=q8;Ia.prototype.delete=Y8;Ia.prototype.get=j8;Ia.prototype.has=X8;Ia.prototype.set=Q8;function J8(t,e){return t&&Ku(e,vd(e),t)}function e5(t,e){return t&&Ku(e,gd(e),t)}var QE=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ob=QE&&typeof module=="object"&&module&&!module.nodeType&&module,t5=ob&&ob.exports===QE,lb=t5?Oa.Buffer:void 0,ub=lb?lb.allocUnsafe:void 0;function JE(t,e){if(e)return t.slice();var n=t.length,i=ub?ub(n):new t.constructor(n);return t.copy(i),i}function n5(t,e){for(var n=-1,i=t==null?0:t.length,r=0,a=[];++n<i;){var s=t[n];e(s,n,t)&&(a[r++]=s)}return a}function e2(){return[]}var i5=Object.prototype,r5=i5.propertyIsEnumerable,cb=Object.getOwnPropertySymbols,_0=cb?function(t){return t==null?[]:(t=Object(t),n5(cb(t),function(e){return r5.call(t,e)}))}:e2;function a5(t,e){return Ku(t,_0(t),e)}var s5=Object.getOwnPropertySymbols,t2=s5?function(t){for(var e=[];t;)g0(e,_0(t)),t=y0(t);return e}:e2;function o5(t,e){return Ku(t,t2(t),e)}function n2(t,e,n){var i=e(t);return mr(t)?i:g0(i,n(t))}function hv(t){return n2(t,vd,_0)}function i2(t){return n2(t,gd,t2)}var pv=Sl(Oa,"DataView"),mv=Sl(Oa,"Promise"),cu=Sl(Oa,"Set"),db="[object Map]",l5="[object Object]",fb="[object Promise]",hb="[object Set]",pb="[object WeakMap]",mb="[object DataView]",u5=wl(pv),c5=wl(Wc),d5=wl(mv),f5=wl(cu),h5=wl(cv),Ca=bl;(pv&&Ca(new pv(new ArrayBuffer(1)))!=mb||Wc&&Ca(new Wc)!=db||mv&&Ca(mv.resolve())!=fb||cu&&Ca(new cu)!=hb||cv&&Ca(new cv)!=pb)&&(Ca=function(t){var e=bl(t),n=e==l5?t.constructor:void 0,i=n?wl(n):"";if(i)switch(i){case u5:return mb;case c5:return db;case d5:return fb;case f5:return hb;case h5:return pb}return e});var p5=Object.prototype,m5=p5.hasOwnProperty;function v5(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&m5.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var ah=Oa.Uint8Array;function b0(t){var e=new t.constructor(t.byteLength);return new ah(e).set(new ah(t)),e}function g5(t,e){var n=e?b0(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var y5=/\w*$/;function _5(t){var e=new t.constructor(t.source,y5.exec(t));return e.lastIndex=t.lastIndex,e}var vb=la?la.prototype:void 0,gb=vb?vb.valueOf:void 0;function b5(t){return gb?Object(gb.call(t)):{}}function r2(t,e){var n=e?b0(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var w5="[object Boolean]",S5="[object Date]",C5="[object Map]",E5="[object Number]",x5="[object RegExp]",M5="[object Set]",T5="[object String]",A5="[object Symbol]",k5="[object ArrayBuffer]",I5="[object DataView]",P5="[object Float32Array]",R5="[object Float64Array]",L5="[object Int8Array]",N5="[object Int16Array]",O5="[object Int32Array]",D5="[object Uint8Array]",F5="[object Uint8ClampedArray]",B5="[object Uint16Array]",U5="[object Uint32Array]";function V5(t,e,n){var i=t.constructor;switch(e){case k5:return b0(t);case w5:case S5:return new i(+t);case I5:return g5(t,n);case P5:case R5:case L5:case N5:case O5:case D5:case F5:case B5:case U5:return r2(t,n);case C5:return new i;case E5:case T5:return new i(t);case x5:return _5(t);case M5:return new i;case A5:return b5(t)}}function a2(t){return typeof t.constructor=="function"&&!h0(t)?N4(y0(t)):{}}var z5="[object Map]";function $5(t){return Qa(t)&&Ca(t)==z5}var yb=Cu&&Cu.isMap,H5=yb?p0(yb):$5,G5="[object Set]";function W5(t){return Qa(t)&&Ca(t)==G5}var _b=Cu&&Cu.isSet,K5=_b?p0(_b):W5,q5=1,Y5=2,j5=4,s2="[object Arguments]",X5="[object Array]",Z5="[object Boolean]",Q5="[object Date]",J5="[object Error]",o2="[object Function]",eU="[object GeneratorFunction]",tU="[object Map]",nU="[object Number]",l2="[object Object]",iU="[object RegExp]",rU="[object Set]",aU="[object String]",sU="[object Symbol]",oU="[object WeakMap]",lU="[object ArrayBuffer]",uU="[object DataView]",cU="[object Float32Array]",dU="[object Float64Array]",fU="[object Int8Array]",hU="[object Int16Array]",pU="[object Int32Array]",mU="[object Uint8Array]",vU="[object Uint8ClampedArray]",gU="[object Uint16Array]",yU="[object Uint32Array]",Wn={};Wn[s2]=Wn[X5]=Wn[lU]=Wn[uU]=Wn[Z5]=Wn[Q5]=Wn[cU]=Wn[dU]=Wn[fU]=Wn[hU]=Wn[pU]=Wn[tU]=Wn[nU]=Wn[l2]=Wn[iU]=Wn[rU]=Wn[aU]=Wn[sU]=Wn[mU]=Wn[vU]=Wn[gU]=Wn[yU]=!0;Wn[J5]=Wn[o2]=Wn[oU]=!1;function du(t,e,n,i,r,a){var s,o=e&q5,u=e&Y5,c=e&j5;if(n&&(s=r?n(t,i,r,a):n(t)),s!==void 0)return s;if(!vr(t))return t;var h=mr(t);if(h){if(s=v5(t),!o)return yE(t,s)}else{var p=Ca(t),v=p==o2||p==eU;if(Hc(t))return JE(t,o);if(p==l2||p==s2||v&&!r){if(s=u||v?{}:a2(t),!o)return u?o5(t,e5(s,t)):a5(t,J8(s,t))}else{if(!Wn[p])return r?t:{};s=V5(t,p,o)}}a||(a=new Ia);var g=a.get(t);if(g)return g;a.set(t,s),K5(t)?t.forEach(function(w){s.add(du(w,e,n,w,t,a))}):H5(t)&&t.forEach(function(w,b){s.set(b,du(w,e,n,b,t,a))});var y=c?u?i2:hv:u?gd:vd,_=h?void 0:y(t);return H4(_||t,function(w,b){_&&(b=w,w=t[b]),d0(s,b,du(w,e,n,b,t,a))}),s}var _U=4;function bb(t){return du(t,_U)}var bU=1,wU=4;function sh(t){return du(t,bU|wU)}var SU="__lodash_hash_undefined__";function CU(t){return this.__data__.set(t,SU),this}function EU(t){return this.__data__.has(t)}function Kc(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Rs;++e<n;)this.add(t[e])}Kc.prototype.add=Kc.prototype.push=CU;Kc.prototype.has=EU;function xU(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function u2(t,e){return t.has(e)}var MU=1,TU=2;function c2(t,e,n,i,r,a){var s=n&MU,o=t.length,u=e.length;if(o!=u&&!(s&&u>o))return!1;var c=a.get(t),h=a.get(e);if(c&&h)return c==e&&h==t;var p=-1,v=!0,g=n&TU?new Kc:void 0;for(a.set(t,e),a.set(e,t);++p<o;){var y=t[p],_=e[p];if(i)var w=s?i(_,y,p,e,t,a):i(y,_,p,t,e,a);if(w!==void 0){if(w)continue;v=!1;break}if(g){if(!xU(e,function(b,M){if(!u2(g,M)&&(y===b||r(y,b,n,i,a)))return g.push(M)})){v=!1;break}}else if(!(y===_||r(y,_,n,i,a))){v=!1;break}}return a.delete(t),a.delete(e),v}function AU(t){var e=-1,n=Array(t.size);return t.forEach(function(i,r){n[++e]=[r,i]}),n}function w0(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n}var kU=1,IU=2,PU="[object Boolean]",RU="[object Date]",LU="[object Error]",NU="[object Map]",OU="[object Number]",DU="[object RegExp]",FU="[object Set]",BU="[object String]",UU="[object Symbol]",VU="[object ArrayBuffer]",zU="[object DataView]",wb=la?la.prototype:void 0,zp=wb?wb.valueOf:void 0;function $U(t,e,n,i,r,a,s){switch(n){case zU:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case VU:return!(t.byteLength!=e.byteLength||!a(new ah(t),new ah(e)));case PU:case RU:case OU:return md(+t,+e);case LU:return t.name==e.name&&t.message==e.message;case DU:case BU:return t==e+"";case NU:var o=AU;case FU:var u=i&kU;if(o||(o=w0),t.size!=e.size&&!u)return!1;var c=s.get(t);if(c)return c==e;i|=IU,s.set(t,e);var h=c2(o(t),o(e),i,r,a,s);return s.delete(t),h;case UU:if(zp)return zp.call(t)==zp.call(e)}return!1}var HU=1,GU=Object.prototype,WU=GU.hasOwnProperty;function KU(t,e,n,i,r,a){var s=n&HU,o=hv(t),u=o.length,c=hv(e),h=c.length;if(u!=h&&!s)return!1;for(var p=u;p--;){var v=o[p];if(!(s?v in e:WU.call(e,v)))return!1}var g=a.get(t),y=a.get(e);if(g&&y)return g==e&&y==t;var _=!0;a.set(t,e),a.set(e,t);for(var w=s;++p<u;){v=o[p];var b=t[v],M=e[v];if(i)var C=s?i(M,b,v,e,t,a):i(b,M,v,t,e,a);if(!(C===void 0?b===M||r(b,M,n,i,a):C)){_=!1;break}w||(w=v=="constructor")}if(_&&!w){var x=t.constructor,T=e.constructor;x!=T&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof T=="function"&&T instanceof T)&&(_=!1)}return a.delete(t),a.delete(e),_}var qU=1,Sb="[object Arguments]",Cb="[object Array]",zd="[object Object]",YU=Object.prototype,Eb=YU.hasOwnProperty;function jU(t,e,n,i,r,a){var s=mr(t),o=mr(e),u=s?Cb:Ca(t),c=o?Cb:Ca(e);u=u==Sb?zd:u,c=c==Sb?zd:c;var h=u==zd,p=c==zd,v=u==c;if(v&&Hc(t)){if(!Hc(e))return!1;s=!0,h=!1}if(v&&!h)return a||(a=new Ia),s||m0(t)?c2(t,e,n,i,r,a):$U(t,e,u,n,i,r,a);if(!(n&qU)){var g=h&&Eb.call(t,"__wrapped__"),y=p&&Eb.call(e,"__wrapped__");if(g||y){var _=g?t.value():t,w=y?e.value():e;return a||(a=new Ia),r(_,w,n,i,a)}}return v?(a||(a=new Ia),KU(t,e,n,i,r,a)):!1}function Xh(t,e,n,i,r){return t===e?!0:t==null||e==null||!Qa(t)&&!Qa(e)?t!==t&&e!==e:jU(t,e,n,i,Xh,r)}var XU=1,ZU=2;function QU(t,e,n,i){var r=n.length,a=r;if(t==null)return!a;for(t=Object(t);r--;){var s=n[r];if(s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<a;){s=n[r];var o=s[0],u=t[o],c=s[1];if(s[2]){if(u===void 0&&!(o in t))return!1}else{var h=new Ia,p;if(!(p===void 0?Xh(c,u,XU|ZU,i,h):p))return!1}}return!0}function d2(t){return t===t&&!vr(t)}function JU(t){for(var e=vd(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,d2(r)]}return e}function f2(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function eV(t){var e=JU(t);return e.length==1&&e[0][2]?f2(e[0][0],e[0][1]):function(n){return n===t||QU(n,t,e)}}function tV(t,e){return t!=null&&e in Object(t)}function nV(t,e,n){e=Yu(e,t);for(var i=-1,r=e.length,a=!1;++i<r;){var s=ju(e[i]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++i!=r?a:(r=t==null?0:t.length,!!r&&f0(r)&&Wh(s,r)&&(mr(t)||$c(t)))}function h2(t,e){return t!=null&&nV(t,e,tV)}var iV=1,rV=2;function aV(t,e){return v0(t)&&d2(e)?f2(ju(t),e):function(n){var i=ei(n,t);return i===void 0&&i===e?h2(n,t):Xh(e,i,iV|rV)}}function sV(t){return function(e){return e==null?void 0:e[t]}}function oV(t){return function(e){return jh(e,t)}}function lV(t){return v0(t)?sV(ju(t)):oV(t)}function S0(t){return typeof t=="function"?t:t==null?o0:typeof t=="object"?mr(t)?aV(t[0],t[1]):eV(t):lV(t)}function uV(t){return function(e,n,i){for(var r=-1,a=Object(e),s=i(e),o=s.length;o--;){var u=s[++r];if(n(a[u],u,a)===!1)break}return e}}var p2=uV();function cV(t,e){return t&&p2(t,e,vd)}function dV(t,e){return function(n,i){if(n==null)return n;if(!qu(n))return t(n,i);for(var r=n.length,a=-1,s=Object(n);++a<r&&i(s[a],a,s)!==!1;);return n}}var fV=dV(cV),$p=function(){return Oa.Date.now()},hV="Expected a function",pV=Math.max,mV=Math.min;function Rr(t,e,n){var i,r,a,s,o,u,c=0,h=!1,p=!1,v=!0;if(typeof t!="function")throw new TypeError(hV);e=Y_(e)||0,vr(n)&&(h=!!n.leading,p="maxWait"in n,a=p?pV(Y_(n.maxWait)||0,e):a,v="trailing"in n?!!n.trailing:v);function g(k){var R=i,D=r;return i=r=void 0,c=k,s=t.apply(D,R),s}function y(k){return c=k,o=setTimeout(b,e),h?g(k):s}function _(k){var R=k-u,D=k-c,U=e-R;return p?mV(U,a-D):U}function w(k){var R=k-u,D=k-c;return u===void 0||R>=e||R<0||p&&D>=a}function b(){var k=$p();if(w(k))return M(k);o=setTimeout(b,_(k))}function M(k){return o=void 0,v&&i?g(k):(i=r=void 0,s)}function C(){o!==void 0&&clearTimeout(o),c=0,i=u=r=o=void 0}function x(){return o===void 0?s:M($p())}function T(){var k=$p(),R=w(k);if(i=arguments,r=this,u=k,R){if(o===void 0)return y(u);if(p)return clearTimeout(o),o=setTimeout(b,e),g(u)}return o===void 0&&(o=setTimeout(b,e)),s}return T.cancel=C,T.flush=x,T}function vv(t,e,n){(n!==void 0&&!md(t[e],n)||n===void 0&&!(e in t))&&c0(t,e,n)}function m2(t){return Qa(t)&&qu(t)}function gv(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function vV(t){return Ku(t,gd(t))}function gV(t,e,n,i,r,a,s){var o=gv(t,n),u=gv(e,n),c=s.get(u);if(c){vv(t,n,c);return}var h=a?a(o,u,n+"",t,e,s):void 0,p=h===void 0;if(p){var v=mr(u),g=!v&&Hc(u),y=!v&&!g&&m0(u);h=u,v||g||y?mr(o)?h=o:m2(o)?h=yE(o):g?(p=!1,h=JE(u,!0)):y?(p=!1,h=r2(u,!0)):h=[]:IE(u)||$c(u)?(h=o,$c(o)?h=vV(o):(!vr(o)||l0(o))&&(h=a2(u))):p=!1}p&&(s.set(u,h),r(h,u,i,a,s),s.delete(u)),vv(t,n,h)}function v2(t,e,n,i,r){t!==e&&p2(e,function(a,s){if(r||(r=new Ia),vr(a))gV(t,e,s,n,v2,i,r);else{var o=i?i(gv(t,s),a,s+"",t,e,r):void 0;o===void 0&&(o=a),vv(t,s,o)}},gd)}function yV(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function _V(t,e,n){var i=t==null?0:t.length;if(!i)return-1;var r=0;return u0(t,S0(e),r)}function g2(t,e,n){var i=t==null?0:t.length;if(!i)return-1;var r=i-1;return u0(t,S0(e),r,!0)}function bV(t,e){var n=-1,i=qu(t)?Array(t.length):[];return fV(t,function(r,a,s){i[++n]=e(r,a,s)}),i}function wV(t,e){var n=mr(t)?s0:bV;return n(t,S0(e))}function SV(t,e){return _d(wV(t,e),1)}var CV=1/0;function EV(t){var e=t==null?0:t.length;return e?_d(t,CV):[]}function qc(t){for(var e=-1,n=t==null?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i}function xV(t,e){return e.length<2?t:jh(t,PE(e,0,-1))}function er(t,e){return Xh(t,e)}function Mi(t){return t==null}function y2(t){return t===void 0}var MV=eF(function(t,e,n){v2(t,e,n)});function TV(t,e){return e=Yu(e,t),t=xV(t,e),t==null||delete t[ju(yV(e))]}function AV(t){return IE(t)?void 0:t}var kV=1,IV=2,PV=4,RV=AE(function(t,e){var n={};if(t==null)return n;var i=!1;e=s0(e,function(a){return a=Yu(a,t),i||(i=a.length>1),a}),Ku(t,i2(t),n),i&&(n=du(n,kV|IV|PV,AV));for(var r=e.length;r--;)TV(n,e[r]);return n});function _2(t,e,n,i){if(!vr(t))return t;e=Yu(e,t);for(var r=-1,a=e.length,s=a-1,o=t;o!=null&&++r<a;){var u=ju(e[r]),c=n;if(u==="__proto__"||u==="constructor"||u==="prototype")return t;if(r!=s){var h=o[u];c=void 0,c===void 0&&(c=vr(h)?h:Wh(e[r+1])?[]:{})}d0(o,u,c),o=o[u]}return t}function LV(t,e,n){for(var i=-1,r=e.length,a={};++i<r;){var s=e[i],o=jh(t,s);n(o,s)&&_2(a,Yu(s,t),o)}return a}function NV(t,e){return LV(t,e,function(n,i){return h2(t,i)})}var Ta=AE(function(t,e){return t==null?{}:NV(t,e)});function OV(t,e,n){return t==null?t:_2(t,e,n)}var DV="Expected a function";function Jo(t,e,n){var i=!0,r=!0;if(typeof t!="function")throw new TypeError(DV);return vr(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Rr(t,e,{leading:i,maxWait:e,trailing:r})}var FV=1/0,BV=cu&&1/w0(new cu([,-0]))[1]==FV?function(t){return new cu(t)}:D4,UV=200;function VV(t,e,n){var i=-1,r=q4,a=t.length,s=!0,o=[],u=o;if(a>=UV){var c=BV(t);if(c)return w0(c);s=!1,r=u2,u=new Kc}else u=o;e:for(;++i<a;){var h=t[i],p=h;if(h=h!==0?h:0,s&&p===p){for(var v=u.length;v--;)if(u[v]===p)continue e;o.push(h)}else r(u,p,n)||(u!==o&&u.push(p),o.push(h))}return o}var Hp=wE(function(t){return VV(_d(t,1,m2,!0))});const zn=t=>t===void 0,$n=t=>typeof t=="boolean",kt=t=>typeof t=="number",zr=t=>!t&&t!==0||Nt(t)&&t.length===0||bn(t)&&!Object.keys(t).length,Hr=t=>typeof Element>"u"?!1:t instanceof Element,cl=t=>Mi(t),zV=t=>Gt(t)?!Number.isNaN(Number(t)):!1,Zh=t=>t===window,uo=t=>tn?window.requestAnimationFrame(t):setTimeout(t,16),dl=t=>tn?window.cancelAnimationFrame(t):clearTimeout(t),C0=(t="")=>t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Ga=t=>nv(t),Eu=t=>Object.keys(t),$V=t=>Object.entries(t),Bf=(t,e,n)=>({get value(){return ei(t,e,n)},set value(i){OV(t,e,i)}});class HV extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function vi(t,e){throw new HV(`[${t}] ${e}`)}const b2=(t="")=>t.split(" ").filter(e=>!!e.trim()),xr=(t,e)=>{if(!t||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return t.classList.contains(e)},ia=(t,e)=>{!t||!e.trim()||t.classList.add(...b2(e))},tr=(t,e)=>{!t||!e.trim()||t.classList.remove(...b2(e))},qs=(t,e)=>{var n;if(!tn||!t||!e)return"";let i=DC(e);i==="float"&&(i="cssFloat");try{const r=t.style[i];if(r)return r;const a=(n=document.defaultView)==null?void 0:n.getComputedStyle(t,"");return a?a[i]:""}catch{return t.style[i]}};function Xn(t,e="px"){if(!t)return"";if(kt(t)||zV(t))return`${t}${e}`;if(Gt(t))return t}const GV=(t,e)=>{if(!tn)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],i=qs(t,n);return["scroll","auto","overlay"].some(r=>i.includes(r))},E0=(t,e)=>{if(!tn)return;let n=t;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(GV(n,e))return n;n=n.parentNode}return n};let $d;const w2=t=>{var e;if(!tn)return 0;if($d!==void 0)return $d;const n=document.createElement("div");n.className=`${t}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const i=n.offsetWidth;n.style.overflow="scroll";const r=document.createElement("div");r.style.width="100%",n.appendChild(r);const a=r.offsetWidth;return(e=n.parentNode)==null||e.removeChild(n),$d=i-a,$d};function x0(t,e){if(!tn)return;if(!e){t.scrollTop=0;return}const n=[];let i=e.offsetParent;for(;i!==null&&t!==i&&t.contains(i);)n.push(i),i=i.offsetParent;const r=e.offsetTop+n.reduce((u,c)=>u+c.offsetTop,0),a=r+e.offsetHeight,s=t.scrollTop,o=s+t.clientHeight;r<s?t.scrollTop=r:a>o&&(t.scrollTop=a-t.clientHeight)}function WV(t,e,n,i,r){const a=Date.now();let s;const o=()=>{const c=Date.now()-a,h=QD(c>i?i:c,e,n,i);Zh(t)?t.scrollTo(window.pageXOffset,h):t.scrollTop=h,c<i?s=uo(o):typeof r=="function"&&r()};return o(),()=>{s&&dl(s)}}const xb=(t,e)=>Zh(e)?t.ownerDocument.documentElement:e,Mb=t=>Zh(t)?window.scrollY:t.scrollTop,Hd=t=>{if(!tn||t==="")return null;if(Gt(t))try{return document.querySelector(t)}catch{return null}return t},S2="__epPropKey",_e=t=>t,KV=t=>bn(t)&&!!t[S2],Da=(t,e)=>{if(!bn(t)||KV(t))return t;const{values:n,required:i,default:r,type:a,validator:s}=t,u={type:a,required:!!i,validator:n||s?c=>{let h=!1,p=[];if(n&&(p=Array.from(n),Gi(t,"default")&&p.push(r),h||(h=p.includes(c))),s&&(h||(h=s(c))),!h&&p.length>0){const v=[...new Set(p)].map(g=>JSON.stringify(g)).join(", ");fI(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${v}], got value ${JSON.stringify(c)}.`)}return h}:void 0,[S2]:!0};return Gi(t,"default")&&(u.default=r),u},Ge=t=>qc(Object.entries(t).map(([e,n])=>[e,Da(n,e)])),wn=_e([String,Object,Function]),M0={Close:Ra},T0={Close:Ra,SuccessFilled:sE,InfoFilled:t0,WarningFilled:Hh,CircleCloseFilled:e0},co={success:sE,warning:Hh,error:e0,info:t0},A0={validating:Za,success:Jg,error:_o},Dt=(t,e)=>{if(t.install=n=>{for(const i of[t,...Object.values(e??{})])n.component(i.name,i)},e)for(const[n,i]of Object.entries(e))t[n]=i;return t},C2=(t,e)=>(t.install=n=>{t._context=n._context,n.config.globalProperties[e]=t},t),qV=(t,e)=>(t.install=n=>{n.directive(e,t)},t),Bn=t=>(t.install=Kn,t),Qh=(...t)=>e=>{t.forEach(n=>{un(n)?n(e):n.value=e})},St={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},YV=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"],Gp=["sun","mon","tue","wed","thu","fri","sat"],Wt="update:modelValue",Rn="change",pr="input",Tb=Symbol("INSTALLED_KEY"),is=["","default","small","large"],E2=t=>["",...is].includes(t);var Jr=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(Jr||{});function yv(t){return ni(t)&&t.type===ut}function jV(t){return ni(t)&&t.type===$g}function XV(t){return ni(t)&&!yv(t)&&!jV(t)}const ZV=t=>{if(!ni(t))return{};const e=t.props||{},n=(ni(t.type)?t.type.props:void 0)||{},i={};return Object.keys(n).forEach(r=>{Gi(n[r],"default")&&(i[r]=n[r].default)}),Object.keys(e).forEach(r=>{i[DC(r)]=e[r]}),i},QV=t=>{if(!Nt(t)||t.length>1)throw new Error("expect to receive a single Vue element child");return t[0]},Qs=t=>{const e=Nt(t)?t:[t],n=[];return e.forEach(i=>{var r;Nt(i)?n.push(...Qs(i)):ni(i)&&Nt(i.children)?n.push(...Qs(i.children)):(n.push(i),ni(i)&&((r=i.component)!=null&&r.subTree)&&n.push(...Qs(i.component.subTree)))}),n},Ab=t=>[...new Set(t)],fr=t=>!t&&t!==0?[]:Array.isArray(t)?t:[t],JV=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t),Fn=t=>t;function e6(t){let e=0;const n=(...i)=>{e&&dl(e),e=uo(()=>{t(...i),e=0})};return n.cancel=()=>{dl(e),e=0},n}const t6=["class","style"],n6=/^on[A-Z]/,k0=(t={})=>{const{excludeListeners:e=!1,excludeKeys:n}=t,i=L(()=>((n==null?void 0:n.value)||[]).concat(t6)),r=qt();return r?L(()=>{var a;return qc(Object.entries((a=r.proxy)==null?void 0:a.$attrs).filter(([s])=>!i.value.includes(s)&&!(e&&n6.test(s))))}):L(()=>({}))},Js=({from:t,replacement:e,scope:n,version:i,ref:r,type:a="API"},s)=>{Le(()=>d(s),o=>{},{immediate:!0})},x2=(t,e,n,i)=>{let r={offsetX:0,offsetY:0};const a=c=>{const h=c.clientX,p=c.clientY,{offsetX:v,offsetY:g}=r,y=t.value.getBoundingClientRect(),_=y.left,w=y.top,b=y.width,M=y.height,C=document.documentElement.clientWidth,x=document.documentElement.clientHeight,T=-_+v,k=-w+g,R=C-_-b+v,D=x-w-M+g,U=N=>{let $=v+N.clientX-h,Q=g+N.clientY-p;i!=null&&i.value||($=Math.min(Math.max($,T),R),Q=Math.min(Math.max(Q,k),D)),r={offsetX:$,offsetY:Q},t.value&&(t.value.style.transform=`translate(${Xn($)}, ${Xn(Q)})`)},P=()=>{document.removeEventListener("mousemove",U),document.removeEventListener("mouseup",P)};document.addEventListener("mousemove",U),document.addEventListener("mouseup",P)},s=()=>{e.value&&t.value&&e.value.addEventListener("mousedown",a)},o=()=>{e.value&&t.value&&e.value.removeEventListener("mousedown",a)},u=()=>{r={offsetX:0,offsetY:0},t.value&&(t.value.style.transform="none")};return wt(()=>{mi(()=>{n.value?s():o()})}),xn(()=>{o()}),{resetPosition:u}};var i6={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const r6=t=>(e,n)=>a6(e,n,d(t)),a6=(t,e,n)=>ei(n,t,t).replace(/\{(\w+)\}/g,(i,r)=>{var a;return`${(a=e==null?void 0:e[r])!=null?a:`{${r}}`}`}),s6=t=>{const e=L(()=>d(t).name),n=Ji(t)?t:W(t);return{lang:e,locale:n,t:r6(t)}},M2=Symbol("localeContextKey"),nn=t=>{const e=t||ct(M2,W());return s6(L(()=>e.value||i6))},Dc="el",o6="is-",Po=(t,e,n,i,r)=>{let a=`${t}-${e}`;return n&&(a+=`-${n}`),i&&(a+=`__${i}`),r&&(a+=`--${r}`),a},T2=Symbol("namespaceContextKey"),I0=t=>{const e=t||(qt()?ct(T2,W(Dc)):W(Dc));return L(()=>d(e)||Dc)},Fe=(t,e)=>{const n=I0(e);return{namespace:n,b:(_="")=>Po(n.value,t,_,"",""),e:_=>_?Po(n.value,t,"",_,""):"",m:_=>_?Po(n.value,t,"","",_):"",be:(_,w)=>_&&w?Po(n.value,t,_,w,""):"",em:(_,w)=>_&&w?Po(n.value,t,"",_,w):"",bm:(_,w)=>_&&w?Po(n.value,t,_,"",w):"",bem:(_,w,b)=>_&&w&&b?Po(n.value,t,_,w,b):"",is:(_,...w)=>{const b=w.length>=1?w[0]:!0;return _&&b?`${o6}${_}`:""},cssVar:_=>{const w={};for(const b in _)_[b]&&(w[`--${n.value}-${b}`]=_[b]);return w},cssVarName:_=>`--${n.value}-${_}`,cssVarBlock:_=>{const w={};for(const b in _)_[b]&&(w[`--${n.value}-${t}-${b}`]=_[b]);return w},cssVarBlockName:_=>`--${n.value}-${t}-${_}`}},P0=(t,e={})=>{Ji(t)||vi("[useLockscreen]","You need to pass a ref param to this function");const n=e.ns||Fe("popup"),i=L(()=>n.bm("parent","hidden"));if(!tn||xr(document.body,i.value))return;let r=0,a=!1,s="0";const o=()=>{setTimeout(()=>{tr(document==null?void 0:document.body,i.value),a&&document&&(document.body.style.width=s)},200)};Le(t,u=>{if(!u){o();return}a=!xr(document.body,i.value),a&&(s=document.body.style.width),r=w2(n.namespace.value);const c=document.documentElement.clientHeight<document.body.scrollHeight,h=qs(document.body,"overflowY");r>0&&(c||h==="scroll")&&a&&(document.body.style.width=`calc(100% - ${r}px)`),ia(document.body,i.value)}),zg(()=>o())},l6=Da({type:_e(Boolean),default:null}),u6=Da({type:_e(Function)}),A2=t=>{const e=`update:${t}`,n=`onUpdate:${t}`,i=[e],r={[t]:l6,[n]:u6};return{useModelToggle:({indicator:s,toggleReason:o,shouldHideWhenRouteChanges:u,shouldProceed:c,onShow:h,onHide:p})=>{const v=qt(),{emit:g}=v,y=v.props,_=L(()=>un(y[n])),w=L(()=>y[t]===null),b=R=>{s.value!==!0&&(s.value=!0,o&&(o.value=R),un(h)&&h(R))},M=R=>{s.value!==!1&&(s.value=!1,o&&(o.value=R),un(p)&&p(R))},C=R=>{if(y.disabled===!0||un(c)&&!c())return;const D=_.value&&tn;D&&g(e,!0),(w.value||!D)&&b(R)},x=R=>{if(y.disabled===!0||!tn)return;const D=_.value&&tn;D&&g(e,!1),(w.value||!D)&&M(R)},T=R=>{$n(R)&&(y.disabled&&R?_.value&&g(e,!1):s.value!==R&&(R?b():M()))},k=()=>{s.value?x():C()};return Le(()=>y[t],T),u&&v.appContext.config.globalProperties.$route!==void 0&&Le(()=>({...v.proxy.$route}),()=>{u.value&&s.value&&x()}),wt(()=>{T(y[t])}),{hide:x,show:C,toggle:k,hasUpdateHandler:_}},useModelToggleProps:r,useModelToggleEmits:i}};A2("modelValue");const k2=t=>{const e=qt();return L(()=>{var n,i;return(i=(n=e==null?void 0:e.proxy)==null?void 0:n.$props)==null?void 0:i[t]})};var Ar="top",ua="bottom",ca="right",kr="left",R0="auto",bd=[Ar,ua,ca,kr],xu="start",Yc="end",c6="clippingParents",I2="viewport",_c="popper",d6="reference",kb=bd.reduce(function(t,e){return t.concat([e+"-"+xu,e+"-"+Yc])},[]),Ls=[].concat(bd,[R0]).reduce(function(t,e){return t.concat([e,e+"-"+xu,e+"-"+Yc])},[]),f6="beforeRead",h6="read",p6="afterRead",m6="beforeMain",v6="main",g6="afterMain",y6="beforeWrite",_6="write",b6="afterWrite",w6=[f6,h6,p6,m6,v6,g6,y6,_6,b6];function Ja(t){return t?(t.nodeName||"").toLowerCase():null}function Fa(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Mu(t){var e=Fa(t).Element;return t instanceof e||t instanceof Element}function sa(t){var e=Fa(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function L0(t){if(typeof ShadowRoot>"u")return!1;var e=Fa(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function S6(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},a=e.elements[n];!sa(a)||!Ja(a)||(Object.assign(a.style,i),Object.keys(r).forEach(function(s){var o=r[s];o===!1?a.removeAttribute(s):a.setAttribute(s,o===!0?"":o)}))})}function C6(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],a=e.attributes[i]||{},s=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),o=s.reduce(function(u,c){return u[c]="",u},{});!sa(r)||!Ja(r)||(Object.assign(r.style,o),Object.keys(a).forEach(function(u){r.removeAttribute(u)}))})}}var P2={name:"applyStyles",enabled:!0,phase:"write",fn:S6,effect:C6,requires:["computeStyles"]};function Xa(t){return t.split("-")[0]}var el=Math.max,oh=Math.min,Tu=Math.round;function Au(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),i=1,r=1;if(sa(t)&&e){var a=t.offsetHeight,s=t.offsetWidth;s>0&&(i=Tu(n.width)/s||1),a>0&&(r=Tu(n.height)/a||1)}return{width:n.width/i,height:n.height/r,top:n.top/r,right:n.right/i,bottom:n.bottom/r,left:n.left/i,x:n.left/i,y:n.top/r}}function N0(t){var e=Au(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function R2(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&L0(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Es(t){return Fa(t).getComputedStyle(t)}function E6(t){return["table","td","th"].indexOf(Ja(t))>=0}function wo(t){return((Mu(t)?t.ownerDocument:t.document)||window.document).documentElement}function Jh(t){return Ja(t)==="html"?t:t.assignedSlot||t.parentNode||(L0(t)?t.host:null)||wo(t)}function Ib(t){return!sa(t)||Es(t).position==="fixed"?null:t.offsetParent}function x6(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&sa(t)){var i=Es(t);if(i.position==="fixed")return null}var r=Jh(t);for(L0(r)&&(r=r.host);sa(r)&&["html","body"].indexOf(Ja(r))<0;){var a=Es(r);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return r;r=r.parentNode}return null}function wd(t){for(var e=Fa(t),n=Ib(t);n&&E6(n)&&Es(n).position==="static";)n=Ib(n);return n&&(Ja(n)==="html"||Ja(n)==="body"&&Es(n).position==="static")?e:n||x6(t)||e}function O0(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Fc(t,e,n){return el(t,oh(e,n))}function M6(t,e,n){var i=Fc(t,e,n);return i>n?n:i}function L2(){return{top:0,right:0,bottom:0,left:0}}function N2(t){return Object.assign({},L2(),t)}function O2(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var T6=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,N2(typeof t!="number"?t:O2(t,bd))};function A6(t){var e,n=t.state,i=t.name,r=t.options,a=n.elements.arrow,s=n.modifiersData.popperOffsets,o=Xa(n.placement),u=O0(o),c=[kr,ca].indexOf(o)>=0,h=c?"height":"width";if(!(!a||!s)){var p=T6(r.padding,n),v=N0(a),g=u==="y"?Ar:kr,y=u==="y"?ua:ca,_=n.rects.reference[h]+n.rects.reference[u]-s[u]-n.rects.popper[h],w=s[u]-n.rects.reference[u],b=wd(a),M=b?u==="y"?b.clientHeight||0:b.clientWidth||0:0,C=_/2-w/2,x=p[g],T=M-v[h]-p[y],k=M/2-v[h]/2+C,R=Fc(x,k,T),D=u;n.modifiersData[i]=(e={},e[D]=R,e.centerOffset=R-k,e)}}function k6(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||!R2(e.elements.popper,r)||(e.elements.arrow=r))}var I6={name:"arrow",enabled:!0,phase:"main",fn:A6,effect:k6,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ku(t){return t.split("-")[1]}var P6={top:"auto",right:"auto",bottom:"auto",left:"auto"};function R6(t){var e=t.x,n=t.y,i=window,r=i.devicePixelRatio||1;return{x:Tu(e*r)/r||0,y:Tu(n*r)/r||0}}function Pb(t){var e,n=t.popper,i=t.popperRect,r=t.placement,a=t.variation,s=t.offsets,o=t.position,u=t.gpuAcceleration,c=t.adaptive,h=t.roundOffsets,p=t.isFixed,v=s.x,g=v===void 0?0:v,y=s.y,_=y===void 0?0:y,w=typeof h=="function"?h({x:g,y:_}):{x:g,y:_};g=w.x,_=w.y;var b=s.hasOwnProperty("x"),M=s.hasOwnProperty("y"),C=kr,x=Ar,T=window;if(c){var k=wd(n),R="clientHeight",D="clientWidth";if(k===Fa(n)&&(k=wo(n),Es(k).position!=="static"&&o==="absolute"&&(R="scrollHeight",D="scrollWidth")),k=k,r===Ar||(r===kr||r===ca)&&a===Yc){x=ua;var U=p&&k===T&&T.visualViewport?T.visualViewport.height:k[R];_-=U-i.height,_*=u?1:-1}if(r===kr||(r===Ar||r===ua)&&a===Yc){C=ca;var P=p&&k===T&&T.visualViewport?T.visualViewport.width:k[D];g-=P-i.width,g*=u?1:-1}}var N=Object.assign({position:o},c&&P6),$=h===!0?R6({x:g,y:_}):{x:g,y:_};if(g=$.x,_=$.y,u){var Q;return Object.assign({},N,(Q={},Q[x]=M?"0":"",Q[C]=b?"0":"",Q.transform=(T.devicePixelRatio||1)<=1?"translate("+g+"px, "+_+"px)":"translate3d("+g+"px, "+_+"px, 0)",Q))}return Object.assign({},N,(e={},e[x]=M?_+"px":"",e[C]=b?g+"px":"",e.transform="",e))}function L6(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,a=n.adaptive,s=a===void 0?!0:a,o=n.roundOffsets,u=o===void 0?!0:o,c={placement:Xa(e.placement),variation:ku(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Pb(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Pb(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var D2={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:L6,data:{}},Gd={passive:!0};function N6(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,a=r===void 0?!0:r,s=i.resize,o=s===void 0?!0:s,u=Fa(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&c.forEach(function(h){h.addEventListener("scroll",n.update,Gd)}),o&&u.addEventListener("resize",n.update,Gd),function(){a&&c.forEach(function(h){h.removeEventListener("scroll",n.update,Gd)}),o&&u.removeEventListener("resize",n.update,Gd)}}var F2={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:N6,data:{}},O6={left:"right",right:"left",bottom:"top",top:"bottom"};function Uf(t){return t.replace(/left|right|bottom|top/g,function(e){return O6[e]})}var D6={start:"end",end:"start"};function Rb(t){return t.replace(/start|end/g,function(e){return D6[e]})}function D0(t){var e=Fa(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function F0(t){return Au(wo(t)).left+D0(t).scrollLeft}function F6(t){var e=Fa(t),n=wo(t),i=e.visualViewport,r=n.clientWidth,a=n.clientHeight,s=0,o=0;return i&&(r=i.width,a=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=i.offsetLeft,o=i.offsetTop)),{width:r,height:a,x:s+F0(t),y:o}}function B6(t){var e,n=wo(t),i=D0(t),r=(e=t.ownerDocument)==null?void 0:e.body,a=el(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=el(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),o=-i.scrollLeft+F0(t),u=-i.scrollTop;return Es(r||n).direction==="rtl"&&(o+=el(n.clientWidth,r?r.clientWidth:0)-a),{width:a,height:s,x:o,y:u}}function B0(t){var e=Es(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function B2(t){return["html","body","#document"].indexOf(Ja(t))>=0?t.ownerDocument.body:sa(t)&&B0(t)?t:B2(Jh(t))}function Bc(t,e){var n;e===void 0&&(e=[]);var i=B2(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),a=Fa(i),s=r?[a].concat(a.visualViewport||[],B0(i)?i:[]):i,o=e.concat(s);return r?o:o.concat(Bc(Jh(s)))}function _v(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function U6(t){var e=Au(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function Lb(t,e){return e===I2?_v(F6(t)):Mu(e)?U6(e):_v(B6(wo(t)))}function V6(t){var e=Bc(Jh(t)),n=["absolute","fixed"].indexOf(Es(t).position)>=0,i=n&&sa(t)?wd(t):t;return Mu(i)?e.filter(function(r){return Mu(r)&&R2(r,i)&&Ja(r)!=="body"}):[]}function z6(t,e,n){var i=e==="clippingParents"?V6(t):[].concat(e),r=[].concat(i,[n]),a=r[0],s=r.reduce(function(o,u){var c=Lb(t,u);return o.top=el(c.top,o.top),o.right=oh(c.right,o.right),o.bottom=oh(c.bottom,o.bottom),o.left=el(c.left,o.left),o},Lb(t,a));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function U2(t){var e=t.reference,n=t.element,i=t.placement,r=i?Xa(i):null,a=i?ku(i):null,s=e.x+e.width/2-n.width/2,o=e.y+e.height/2-n.height/2,u;switch(r){case Ar:u={x:s,y:e.y-n.height};break;case ua:u={x:s,y:e.y+e.height};break;case ca:u={x:e.x+e.width,y:o};break;case kr:u={x:e.x-n.width,y:o};break;default:u={x:e.x,y:e.y}}var c=r?O0(r):null;if(c!=null){var h=c==="y"?"height":"width";switch(a){case xu:u[c]=u[c]-(e[h]/2-n[h]/2);break;case Yc:u[c]=u[c]+(e[h]/2-n[h]/2);break}}return u}function jc(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,a=n.boundary,s=a===void 0?c6:a,o=n.rootBoundary,u=o===void 0?I2:o,c=n.elementContext,h=c===void 0?_c:c,p=n.altBoundary,v=p===void 0?!1:p,g=n.padding,y=g===void 0?0:g,_=N2(typeof y!="number"?y:O2(y,bd)),w=h===_c?d6:_c,b=t.rects.popper,M=t.elements[v?w:h],C=z6(Mu(M)?M:M.contextElement||wo(t.elements.popper),s,u),x=Au(t.elements.reference),T=U2({reference:x,element:b,strategy:"absolute",placement:r}),k=_v(Object.assign({},b,T)),R=h===_c?k:x,D={top:C.top-R.top+_.top,bottom:R.bottom-C.bottom+_.bottom,left:C.left-R.left+_.left,right:R.right-C.right+_.right},U=t.modifiersData.offset;if(h===_c&&U){var P=U[r];Object.keys(D).forEach(function(N){var $=[ca,ua].indexOf(N)>=0?1:-1,Q=[Ar,ua].indexOf(N)>=0?"y":"x";D[N]+=P[Q]*$})}return D}function $6(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,a=n.rootBoundary,s=n.padding,o=n.flipVariations,u=n.allowedAutoPlacements,c=u===void 0?Ls:u,h=ku(i),p=h?o?kb:kb.filter(function(y){return ku(y)===h}):bd,v=p.filter(function(y){return c.indexOf(y)>=0});v.length===0&&(v=p);var g=v.reduce(function(y,_){return y[_]=jc(t,{placement:_,boundary:r,rootBoundary:a,padding:s})[Xa(_)],y},{});return Object.keys(g).sort(function(y,_){return g[y]-g[_]})}function H6(t){if(Xa(t)===R0)return[];var e=Uf(t);return[Rb(t),e,Rb(e)]}function G6(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,a=r===void 0?!0:r,s=n.altAxis,o=s===void 0?!0:s,u=n.fallbackPlacements,c=n.padding,h=n.boundary,p=n.rootBoundary,v=n.altBoundary,g=n.flipVariations,y=g===void 0?!0:g,_=n.allowedAutoPlacements,w=e.options.placement,b=Xa(w),M=b===w,C=u||(M||!y?[Uf(w)]:H6(w)),x=[w].concat(C).reduce(function(le,ye){return le.concat(Xa(ye)===R0?$6(e,{placement:ye,boundary:h,rootBoundary:p,padding:c,flipVariations:y,allowedAutoPlacements:_}):ye)},[]),T=e.rects.reference,k=e.rects.popper,R=new Map,D=!0,U=x[0],P=0;P<x.length;P++){var N=x[P],$=Xa(N),Q=ku(N)===xu,Y=[Ar,ua].indexOf($)>=0,H=Y?"width":"height",B=jc(e,{placement:N,boundary:h,rootBoundary:p,altBoundary:v,padding:c}),X=Y?Q?ca:kr:Q?ua:Ar;T[H]>k[H]&&(X=Uf(X));var q=Uf(X),O=[];if(a&&O.push(B[$]<=0),o&&O.push(B[X]<=0,B[q]<=0),O.every(function(le){return le})){U=N,D=!1;break}R.set(N,O)}if(D)for(var V=y?3:1,ee=function(le){var ye=x.find(function(Ce){var pe=R.get(Ce);if(pe)return pe.slice(0,le).every(function(ue){return ue})});if(ye)return U=ye,"break"},ce=V;ce>0;ce--){var se=ee(ce);if(se==="break")break}e.placement!==U&&(e.modifiersData[i]._skip=!0,e.placement=U,e.reset=!0)}}var W6={name:"flip",enabled:!0,phase:"main",fn:G6,requiresIfExists:["offset"],data:{_skip:!1}};function Nb(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Ob(t){return[Ar,ca,ua,kr].some(function(e){return t[e]>=0})}function K6(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,a=e.modifiersData.preventOverflow,s=jc(e,{elementContext:"reference"}),o=jc(e,{altBoundary:!0}),u=Nb(s,i),c=Nb(o,r,a),h=Ob(u),p=Ob(c);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:h,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":p})}var q6={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:K6};function Y6(t,e,n){var i=Xa(t),r=[kr,Ar].indexOf(i)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=a[0],o=a[1];return s=s||0,o=(o||0)*r,[kr,ca].indexOf(i)>=0?{x:o,y:s}:{x:s,y:o}}function j6(t){var e=t.state,n=t.options,i=t.name,r=n.offset,a=r===void 0?[0,0]:r,s=Ls.reduce(function(h,p){return h[p]=Y6(p,e.rects,a),h},{}),o=s[e.placement],u=o.x,c=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=s}var X6={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:j6};function Z6(t){var e=t.state,n=t.name;e.modifiersData[n]=U2({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var V2={name:"popperOffsets",enabled:!0,phase:"read",fn:Z6,data:{}};function Q6(t){return t==="x"?"y":"x"}function J6(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,a=r===void 0?!0:r,s=n.altAxis,o=s===void 0?!1:s,u=n.boundary,c=n.rootBoundary,h=n.altBoundary,p=n.padding,v=n.tether,g=v===void 0?!0:v,y=n.tetherOffset,_=y===void 0?0:y,w=jc(e,{boundary:u,rootBoundary:c,padding:p,altBoundary:h}),b=Xa(e.placement),M=ku(e.placement),C=!M,x=O0(b),T=Q6(x),k=e.modifiersData.popperOffsets,R=e.rects.reference,D=e.rects.popper,U=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,P=typeof U=="number"?{mainAxis:U,altAxis:U}:Object.assign({mainAxis:0,altAxis:0},U),N=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,$={x:0,y:0};if(k){if(a){var Q,Y=x==="y"?Ar:kr,H=x==="y"?ua:ca,B=x==="y"?"height":"width",X=k[x],q=X+w[Y],O=X-w[H],V=g?-D[B]/2:0,ee=M===xu?R[B]:D[B],ce=M===xu?-D[B]:-R[B],se=e.elements.arrow,le=g&&se?N0(se):{width:0,height:0},ye=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:L2(),Ce=ye[Y],pe=ye[H],ue=Fc(0,R[B],le[B]),Me=C?R[B]/2-V-ue-Ce-P.mainAxis:ee-ue-Ce-P.mainAxis,De=C?-R[B]/2+V+ue+pe+P.mainAxis:ce+ue+pe+P.mainAxis,xe=e.elements.arrow&&wd(e.elements.arrow),G=xe?x==="y"?xe.clientTop||0:xe.clientLeft||0:0,He=(Q=N==null?void 0:N[x])!=null?Q:0,Qe=X+Me-He-G,at=X+De-He,rt=Fc(g?oh(q,Qe):q,X,g?el(O,at):O);k[x]=rt,$[x]=rt-X}if(o){var it,qe=x==="x"?Ar:kr,te=x==="x"?ua:ca,ae=k[T],ke=T==="y"?"height":"width",Be=ae+w[qe],Ve=ae-w[te],Ae=[Ar,kr].indexOf(b)!==-1,Pe=(it=N==null?void 0:N[T])!=null?it:0,Xe=Ae?Be:ae-R[ke]-D[ke]-Pe+P.altAxis,vt=Ae?ae+R[ke]+D[ke]-Pe-P.altAxis:Ve,nt=g&&Ae?M6(Xe,ae,vt):Fc(g?Xe:Be,ae,g?vt:Ve);k[T]=nt,$[T]=nt-ae}e.modifiersData[i]=$}}var ez={name:"preventOverflow",enabled:!0,phase:"main",fn:J6,requiresIfExists:["offset"]};function tz(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function nz(t){return t===Fa(t)||!sa(t)?D0(t):tz(t)}function iz(t){var e=t.getBoundingClientRect(),n=Tu(e.width)/t.offsetWidth||1,i=Tu(e.height)/t.offsetHeight||1;return n!==1||i!==1}function rz(t,e,n){n===void 0&&(n=!1);var i=sa(e),r=sa(e)&&iz(e),a=wo(e),s=Au(t,r),o={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(i||!i&&!n)&&((Ja(e)!=="body"||B0(a))&&(o=nz(e)),sa(e)?(u=Au(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):a&&(u.x=F0(a))),{x:s.left+o.scrollLeft-u.x,y:s.top+o.scrollTop-u.y,width:s.width,height:s.height}}function az(t){var e=new Map,n=new Set,i=[];t.forEach(function(a){e.set(a.name,a)});function r(a){n.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(o){if(!n.has(o)){var u=e.get(o);u&&r(u)}}),i.push(a)}return t.forEach(function(a){n.has(a.name)||r(a)}),i}function sz(t){var e=az(t);return w6.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function oz(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function lz(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var Db={placement:"bottom",modifiers:[],strategy:"absolute"};function Fb(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function U0(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,a=r===void 0?Db:r;return function(s,o,u){u===void 0&&(u=a);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Db,a),modifiersData:{},elements:{reference:s,popper:o},attributes:{},styles:{}},h=[],p=!1,v={state:c,setOptions:function(_){var w=typeof _=="function"?_(c.options):_;y(),c.options=Object.assign({},a,c.options,w),c.scrollParents={reference:Mu(s)?Bc(s):s.contextElement?Bc(s.contextElement):[],popper:Bc(o)};var b=sz(lz([].concat(i,c.options.modifiers)));return c.orderedModifiers=b.filter(function(M){return M.enabled}),g(),v.update()},forceUpdate:function(){if(!p){var _=c.elements,w=_.reference,b=_.popper;if(Fb(w,b)){c.rects={reference:rz(w,wd(b),c.options.strategy==="fixed"),popper:N0(b)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(D){return c.modifiersData[D.name]=Object.assign({},D.data)});for(var M=0;M<c.orderedModifiers.length;M++){if(c.reset===!0){c.reset=!1,M=-1;continue}var C=c.orderedModifiers[M],x=C.fn,T=C.options,k=T===void 0?{}:T,R=C.name;typeof x=="function"&&(c=x({state:c,options:k,name:R,instance:v})||c)}}}},update:oz(function(){return new Promise(function(_){v.forceUpdate(),_(c)})}),destroy:function(){y(),p=!0}};if(!Fb(s,o))return v;v.setOptions(u).then(function(_){!p&&u.onFirstUpdate&&u.onFirstUpdate(_)});function g(){c.orderedModifiers.forEach(function(_){var w=_.name,b=_.options,M=b===void 0?{}:b,C=_.effect;if(typeof C=="function"){var x=C({state:c,name:w,instance:v,options:M}),T=function(){};h.push(x||T)}})}function y(){h.forEach(function(_){return _()}),h=[]}return v}}U0();var uz=[F2,V2,D2,P2];U0({defaultModifiers:uz});var cz=[F2,V2,D2,P2,X6,W6,ez,I6,q6],dz=U0({defaultModifiers:cz});const fz=(t,e,n={})=>{const i={name:"updateState",enabled:!0,phase:"write",fn:({state:u})=>{const c=hz(u);Object.assign(s.value,c)},requires:["computeStyles"]},r=L(()=>{const{onFirstUpdate:u,placement:c,strategy:h,modifiers:p}=d(n);return{onFirstUpdate:u,placement:c||"bottom",strategy:h||"absolute",modifiers:[...p||[],i,{name:"applyStyles",enabled:!1}]}}),a=Mn(),s=W({styles:{popper:{position:d(r).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),o=()=>{a.value&&(a.value.destroy(),a.value=void 0)};return Le(r,u=>{const c=d(a);c&&c.setOptions(u)},{deep:!0}),Le([t,e],([u,c])=>{o(),!(!u||!c)&&(a.value=dz(u,c,d(r)))}),xn(()=>{o()}),{state:L(()=>{var u;return{...((u=d(a))==null?void 0:u.state)||{}}}),styles:L(()=>d(s).styles),attributes:L(()=>d(s).attributes),update:()=>{var u;return(u=d(a))==null?void 0:u.update()},forceUpdate:()=>{var u;return(u=d(a))==null?void 0:u.forceUpdate()},instanceRef:L(()=>d(a))}};function hz(t){const e=Object.keys(t.elements),n=qc(e.map(r=>[r,t.styles[r]||{}])),i=qc(e.map(r=>[r,t.attributes[r]]));return{styles:n,attributes:i}}const V0=t=>{if(!t)return{onClick:Kn,onMousedown:Kn,onMouseup:Kn};let e=!1,n=!1;return{onClick:s=>{e&&n&&t(s),e=n=!1},onMousedown:s=>{e=s.target===s.currentTarget},onMouseup:s=>{n=s.target===s.currentTarget}}},pz=(t,e=0)=>{if(e===0)return t;const n=W(!1);let i=null;const r=()=>{i&&clearTimeout(i),i=setTimeout(()=>{n.value=t.value},e)};return wt(r),Le(()=>t.value,a=>{a?r():n.value=a}),n};function Bb(){let t;const e=(i,r)=>{n(),t=window.setTimeout(i,r)},n=()=>window.clearTimeout(t);return pd(()=>n()),{registerTimeout:e,cancelTimeout:n}}const Ub={prefix:Math.floor(Math.random()*1e4),current:0},mz=Symbol("elIdInjection"),z0=()=>qt()?ct(mz,Ub):Ub,Bi=t=>{const e=z0(),n=I0();return L(()=>d(t)||`${n.value}-id-${e.prefix}-${e.current++}`)};let eu=[];const Vb=t=>{const e=t;e.key===St.esc&&eu.forEach(n=>n(e))},vz=t=>{wt(()=>{eu.length===0&&document.addEventListener("keydown",Vb),tn&&eu.push(t)}),xn(()=>{eu=eu.filter(e=>e!==t),eu.length===0&&tn&&document.removeEventListener("keydown",Vb)})};let zb;const z2=()=>{const t=I0(),e=z0(),n=L(()=>`${t.value}-popper-container-${e.prefix}`),i=L(()=>`#${n.value}`);return{id:n,selector:i}},gz=t=>{const e=document.createElement("div");return e.id=t,document.body.appendChild(e),e},yz=()=>{const{id:t,selector:e}=z2();return Hg(()=>{tn&&(!zb||!document.body.querySelector(e.value))&&(zb=gz(t.value))}),{id:t,selector:e}},_z=Ge({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),bz=({showAfter:t,hideAfter:e,autoClose:n,open:i,close:r})=>{const{registerTimeout:a}=Bb(),{registerTimeout:s,cancelTimeout:o}=Bb();return{onOpen:h=>{a(()=>{i(h);const p=d(n);kt(p)&&p>0&&s(()=>{r(h)},p)},d(t))},onClose:h=>{o(),a(()=>{r(h)},d(e))}}},$2=Symbol("elForwardRef"),wz=t=>{Zt($2,{setForwardRef:n=>{t.value=n}})},Sz=t=>({mounted(e){t(e)},updated(e){t(e)},unmounted(){t(null)}}),$b={current:0},Hb=W(0),H2=2e3,Gb=Symbol("elZIndexContextKey"),G2=Symbol("zIndexContextKey"),Xu=t=>{const e=qt()?ct(Gb,$b):$b,n=t||(qt()?ct(G2,void 0):void 0),i=L(()=>{const s=d(n);return kt(s)?s:H2}),r=L(()=>i.value+Hb.value),a=()=>(e.current++,Hb.value=e.current,r.value);return!tn&&ct(Gb),{initialZIndex:i,currentZIndex:r,nextZIndex:a}},Iu=Math.min,tl=Math.max,lh=Math.round,Wd=Math.floor,fo=t=>({x:t,y:t}),Cz={left:"right",right:"left",bottom:"top",top:"bottom"},Ez={start:"end",end:"start"};function bv(t,e,n){return tl(t,Iu(e,n))}function Sd(t,e){return typeof t=="function"?t(e):t}function fl(t){return t.split("-")[0]}function Cd(t){return t.split("-")[1]}function W2(t){return t==="x"?"y":"x"}function $0(t){return t==="y"?"height":"width"}function Pu(t){return["top","bottom"].includes(fl(t))?"y":"x"}function H0(t){return W2(Pu(t))}function xz(t,e,n){n===void 0&&(n=!1);const i=Cd(t),r=H0(t),a=$0(r);let s=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=uh(s)),[s,uh(s)]}function Mz(t){const e=uh(t);return[wv(t),e,wv(e)]}function wv(t){return t.replace(/start|end/g,e=>Ez[e])}function Tz(t,e,n){const i=["left","right"],r=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:i:e?i:r;case"left":case"right":return e?a:s;default:return[]}}function Az(t,e,n,i){const r=Cd(t);let a=Tz(fl(t),n==="start",i);return r&&(a=a.map(s=>s+"-"+r),e&&(a=a.concat(a.map(wv)))),a}function uh(t){return t.replace(/left|right|bottom|top/g,e=>Cz[e])}function kz(t){return{top:0,right:0,bottom:0,left:0,...t}}function K2(t){return typeof t!="number"?kz(t):{top:t,right:t,bottom:t,left:t}}function ch(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function Wb(t,e,n){let{reference:i,floating:r}=t;const a=Pu(e),s=H0(e),o=$0(s),u=fl(e),c=a==="y",h=i.x+i.width/2-r.width/2,p=i.y+i.height/2-r.height/2,v=i[o]/2-r[o]/2;let g;switch(u){case"top":g={x:h,y:i.y-r.height};break;case"bottom":g={x:h,y:i.y+i.height};break;case"right":g={x:i.x+i.width,y:p};break;case"left":g={x:i.x-r.width,y:p};break;default:g={x:i.x,y:i.y}}switch(Cd(e)){case"start":g[s]-=v*(n&&c?-1:1);break;case"end":g[s]+=v*(n&&c?-1:1);break}return g}const Iz=async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:a=[],platform:s}=n,o=a.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:r}),{x:h,y:p}=Wb(c,i,u),v=i,g={},y=0;for(let _=0;_<o.length;_++){const{name:w,fn:b}=o[_],{x:M,y:C,data:x,reset:T}=await b({x:h,y:p,initialPlacement:i,placement:v,strategy:r,middlewareData:g,rects:c,platform:s,elements:{reference:t,floating:e}});h=M??h,p=C??p,g={...g,[w]:{...g[w],...x}},T&&y<=50&&(y++,typeof T=="object"&&(T.placement&&(v=T.placement),T.rects&&(c=T.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:r}):T.rects),{x:h,y:p}=Wb(c,v,u)),_=-1)}return{x:h,y:p,placement:v,strategy:r,middlewareData:g}};async function G0(t,e){var n;e===void 0&&(e={});const{x:i,y:r,platform:a,rects:s,elements:o,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:v=!1,padding:g=0}=Sd(e,t),y=K2(g),w=o[v?p==="floating"?"reference":"floating":p],b=ch(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(w)))==null||n?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:h,strategy:u})),M=p==="floating"?{x:i,y:r,width:s.floating.width,height:s.floating.height}:s.reference,C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),x=await(a.isElement==null?void 0:a.isElement(C))?await(a.getScale==null?void 0:a.getScale(C))||{x:1,y:1}:{x:1,y:1},T=ch(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:M,offsetParent:C,strategy:u}):M);return{top:(b.top-T.top+y.top)/x.y,bottom:(T.bottom-b.bottom+y.bottom)/x.y,left:(b.left-T.left+y.left)/x.x,right:(T.right-b.right+y.right)/x.x}}const Pz=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:a,platform:s,elements:o,middlewareData:u}=e,{element:c,padding:h=0}=Sd(t,e)||{};if(c==null)return{};const p=K2(h),v={x:n,y:i},g=H0(r),y=$0(g),_=await s.getDimensions(c),w=g==="y",b=w?"top":"left",M=w?"bottom":"right",C=w?"clientHeight":"clientWidth",x=a.reference[y]+a.reference[g]-v[g]-a.floating[y],T=v[g]-a.reference[g],k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let R=k?k[C]:0;(!R||!await(s.isElement==null?void 0:s.isElement(k)))&&(R=o.floating[C]||a.floating[y]);const D=x/2-T/2,U=R/2-_[y]/2-1,P=Iu(p[b],U),N=Iu(p[M],U),$=P,Q=R-_[y]-N,Y=R/2-_[y]/2+D,H=bv($,Y,Q),B=!u.arrow&&Cd(r)!=null&&Y!==H&&a.reference[y]/2-(Y<$?P:N)-_[y]/2<0,X=B?Y<$?Y-$:Y-Q:0;return{[g]:v[g]+X,data:{[g]:H,centerOffset:Y-H-X,...B&&{alignmentOffset:X}},reset:B}}}),Rz=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:a,rects:s,initialPlacement:o,platform:u,elements:c}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:v,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:_=!0,...w}=Sd(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const b=fl(r),M=Pu(o),C=fl(o)===o,x=await(u.isRTL==null?void 0:u.isRTL(c.floating)),T=v||(C||!_?[uh(o)]:Mz(o)),k=y!=="none";!v&&k&&T.push(...Az(o,_,y,x));const R=[o,...T],D=await G0(e,w),U=[];let P=((i=a.flip)==null?void 0:i.overflows)||[];if(h&&U.push(D[b]),p){const Y=xz(r,s,x);U.push(D[Y[0]],D[Y[1]])}if(P=[...P,{placement:r,overflows:U}],!U.every(Y=>Y<=0)){var N,$;const Y=(((N=a.flip)==null?void 0:N.index)||0)+1,H=R[Y];if(H)return{data:{index:Y,overflows:P},reset:{placement:H}};let B=($=P.filter(X=>X.overflows[0]<=0).sort((X,q)=>X.overflows[1]-q.overflows[1])[0])==null?void 0:$.placement;if(!B)switch(g){case"bestFit":{var Q;const X=(Q=P.filter(q=>{if(k){const O=Pu(q.placement);return O===M||O==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(O=>O>0).reduce((O,V)=>O+V,0)]).sort((q,O)=>q[1]-O[1])[0])==null?void 0:Q[0];X&&(B=X);break}case"initialPlacement":B=o;break}if(r!==B)return{reset:{placement:B}}}return{}}}};async function Lz(t,e){const{placement:n,platform:i,elements:r}=t,a=await(i.isRTL==null?void 0:i.isRTL(r.floating)),s=fl(n),o=Cd(n),u=Pu(n)==="y",c=["left","top"].includes(s)?-1:1,h=a&&u?-1:1,p=Sd(e,t);let{mainAxis:v,crossAxis:g,alignmentAxis:y}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return o&&typeof y=="number"&&(g=o==="end"?y*-1:y),u?{x:g*h,y:v*c}:{x:v*c,y:g*h}}const Nz=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:a,placement:s,middlewareData:o}=e,u=await Lz(e,t);return s===((n=o.offset)==null?void 0:n.placement)&&(i=o.arrow)!=null&&i.alignmentOffset?{}:{x:r+u.x,y:a+u.y,data:{...u,placement:s}}}}},Oz=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:r}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:w=>{let{x:b,y:M}=w;return{x:b,y:M}}},...u}=Sd(t,e),c={x:n,y:i},h=await G0(e,u),p=Pu(fl(r)),v=W2(p);let g=c[v],y=c[p];if(a){const w=v==="y"?"top":"left",b=v==="y"?"bottom":"right",M=g+h[w],C=g-h[b];g=bv(M,g,C)}if(s){const w=p==="y"?"top":"left",b=p==="y"?"bottom":"right",M=y+h[w],C=y-h[b];y=bv(M,y,C)}const _=o.fn({...e,[v]:g,[p]:y});return{..._,data:{x:_.x-n,y:_.y-i,enabled:{[v]:a,[p]:s}}}}}};function ep(){return typeof window<"u"}function Zu(t){return q2(t)?(t.nodeName||"").toLowerCase():"#document"}function Gr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function rs(t){var e;return(e=(q2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function q2(t){return ep()?t instanceof Node||t instanceof Gr(t).Node:!1}function La(t){return ep()?t instanceof Element||t instanceof Gr(t).Element:!1}function es(t){return ep()?t instanceof HTMLElement||t instanceof Gr(t).HTMLElement:!1}function Kb(t){return!ep()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Gr(t).ShadowRoot}function Ed(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=Na(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(r)}function Dz(t){return["table","td","th"].includes(Zu(t))}function tp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function W0(t){const e=K0(),n=La(t)?Na(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function Fz(t){let e=ho(t);for(;es(e)&&!Ru(e);){if(W0(e))return e;if(tp(e))return null;e=ho(e)}return null}function K0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ru(t){return["html","body","#document"].includes(Zu(t))}function Na(t){return Gr(t).getComputedStyle(t)}function np(t){return La(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ho(t){if(Zu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Kb(t)&&t.host||rs(t);return Kb(e)?e.host:e}function Y2(t){const e=ho(t);return Ru(e)?t.ownerDocument?t.ownerDocument.body:t.body:es(e)&&Ed(e)?e:Y2(e)}function Xc(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=Y2(t),a=r===((i=t.ownerDocument)==null?void 0:i.body),s=Gr(r);if(a){const o=Sv(s);return e.concat(s,s.visualViewport||[],Ed(r)?r:[],o&&n?Xc(o):[])}return e.concat(r,Xc(r,[],n))}function Sv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function j2(t){const e=Na(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=es(t),a=r?t.offsetWidth:n,s=r?t.offsetHeight:i,o=lh(n)!==a||lh(i)!==s;return o&&(n=a,i=s),{width:n,height:i,$:o}}function q0(t){return La(t)?t:t.contextElement}function fu(t){const e=q0(t);if(!es(e))return fo(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:a}=j2(e);let s=(a?lh(n.width):n.width)/i,o=(a?lh(n.height):n.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const Bz=fo(0);function X2(t){const e=Gr(t);return!K0()||!e.visualViewport?Bz:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Uz(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Gr(t)?!1:e}function hl(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),a=q0(t);let s=fo(1);e&&(i?La(i)&&(s=fu(i)):s=fu(t));const o=Uz(a,n,i)?X2(a):fo(0);let u=(r.left+o.x)/s.x,c=(r.top+o.y)/s.y,h=r.width/s.x,p=r.height/s.y;if(a){const v=Gr(a),g=i&&La(i)?Gr(i):i;let y=v,_=Sv(y);for(;_&&i&&g!==y;){const w=fu(_),b=_.getBoundingClientRect(),M=Na(_),C=b.left+(_.clientLeft+parseFloat(M.paddingLeft))*w.x,x=b.top+(_.clientTop+parseFloat(M.paddingTop))*w.y;u*=w.x,c*=w.y,h*=w.x,p*=w.y,u+=C,c+=x,y=Gr(_),_=Sv(y)}}return ch({width:h,height:p,x:u,y:c})}function Vz(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const a=r==="fixed",s=rs(i),o=e?tp(e.floating):!1;if(i===s||o&&a)return n;let u={scrollLeft:0,scrollTop:0},c=fo(1);const h=fo(0),p=es(i);if((p||!p&&!a)&&((Zu(i)!=="body"||Ed(s))&&(u=np(i)),es(i))){const v=hl(i);c=fu(i),h.x=v.x+i.clientLeft,h.y=v.y+i.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+h.x,y:n.y*c.y-u.scrollTop*c.y+h.y}}function zz(t){return Array.from(t.getClientRects())}function Cv(t,e){const n=np(t).scrollLeft;return e?e.left+n:hl(rs(t)).left+n}function $z(t){const e=rs(t),n=np(t),i=t.ownerDocument.body,r=tl(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),a=tl(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let s=-n.scrollLeft+Cv(t);const o=-n.scrollTop;return Na(i).direction==="rtl"&&(s+=tl(e.clientWidth,i.clientWidth)-r),{width:r,height:a,x:s,y:o}}function Hz(t,e){const n=Gr(t),i=rs(t),r=n.visualViewport;let a=i.clientWidth,s=i.clientHeight,o=0,u=0;if(r){a=r.width,s=r.height;const c=K0();(!c||c&&e==="fixed")&&(o=r.offsetLeft,u=r.offsetTop)}return{width:a,height:s,x:o,y:u}}function Gz(t,e){const n=hl(t,!0,e==="fixed"),i=n.top+t.clientTop,r=n.left+t.clientLeft,a=es(t)?fu(t):fo(1),s=t.clientWidth*a.x,o=t.clientHeight*a.y,u=r*a.x,c=i*a.y;return{width:s,height:o,x:u,y:c}}function qb(t,e,n){let i;if(e==="viewport")i=Hz(t,n);else if(e==="document")i=$z(rs(t));else if(La(e))i=Gz(e,n);else{const r=X2(t);i={...e,x:e.x-r.x,y:e.y-r.y}}return ch(i)}function Z2(t,e){const n=ho(t);return n===e||!La(n)||Ru(n)?!1:Na(n).position==="fixed"||Z2(n,e)}function Wz(t,e){const n=e.get(t);if(n)return n;let i=Xc(t,[],!1).filter(o=>La(o)&&Zu(o)!=="body"),r=null;const a=Na(t).position==="fixed";let s=a?ho(t):t;for(;La(s)&&!Ru(s);){const o=Na(s),u=W0(s);!u&&o.position==="fixed"&&(r=null),(a?!u&&!r:!u&&o.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Ed(s)&&!u&&Z2(t,s))?i=i.filter(h=>h!==s):r=o,s=ho(s)}return e.set(t,i),i}function Kz(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const s=[...n==="clippingAncestors"?tp(e)?[]:Wz(e,this._c):[].concat(n),i],o=s[0],u=s.reduce((c,h)=>{const p=qb(e,h,r);return c.top=tl(p.top,c.top),c.right=Iu(p.right,c.right),c.bottom=Iu(p.bottom,c.bottom),c.left=tl(p.left,c.left),c},qb(e,o,r));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function qz(t){const{width:e,height:n}=j2(t);return{width:e,height:n}}function Yz(t,e,n){const i=es(e),r=rs(e),a=n==="fixed",s=hl(t,!0,a,e);let o={scrollLeft:0,scrollTop:0};const u=fo(0);if(i||!i&&!a)if((Zu(e)!=="body"||Ed(r))&&(o=np(e)),i){const g=hl(e,!0,a,e);u.x=g.x+e.clientLeft,u.y=g.y+e.clientTop}else r&&(u.x=Cv(r));let c=0,h=0;if(r&&!i&&!a){const g=r.getBoundingClientRect();h=g.top+o.scrollTop,c=g.left+o.scrollLeft-Cv(r,g)}const p=s.left+o.scrollLeft-u.x-c,v=s.top+o.scrollTop-u.y-h;return{x:p,y:v,width:s.width,height:s.height}}function Wp(t){return Na(t).position==="static"}function Yb(t,e){if(!es(t)||Na(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return rs(t)===n&&(n=n.ownerDocument.body),n}function Q2(t,e){const n=Gr(t);if(tp(t))return n;if(!es(t)){let r=ho(t);for(;r&&!Ru(r);){if(La(r)&&!Wp(r))return r;r=ho(r)}return n}let i=Yb(t,e);for(;i&&Dz(i)&&Wp(i);)i=Yb(i,e);return i&&Ru(i)&&Wp(i)&&!W0(i)?n:i||Fz(t)||n}const jz=async function(t){const e=this.getOffsetParent||Q2,n=this.getDimensions,i=await n(t.floating);return{reference:Yz(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function Xz(t){return Na(t).direction==="rtl"}const Zz={convertOffsetParentRelativeRectToViewportRelativeRect:Vz,getDocumentElement:rs,getClippingRect:Kz,getOffsetParent:Q2,getElementRects:jz,getClientRects:zz,getDimensions:qz,getScale:fu,isElement:La,isRTL:Xz};function Qz(t,e){let n=null,i;const r=rs(t);function a(){var o;clearTimeout(i),(o=n)==null||o.disconnect(),n=null}function s(o,u){o===void 0&&(o=!1),u===void 0&&(u=1),a();const{left:c,top:h,width:p,height:v}=t.getBoundingClientRect();if(o||e(),!p||!v)return;const g=Wd(h),y=Wd(r.clientWidth-(c+p)),_=Wd(r.clientHeight-(h+v)),w=Wd(c),M={rootMargin:-g+"px "+-y+"px "+-_+"px "+-w+"px",threshold:tl(0,Iu(1,u))||1};let C=!0;function x(T){const k=T[0].intersectionRatio;if(k!==u){if(!C)return s();k?s(!1,k):i=setTimeout(()=>{s(!1,1e-7)},1e3)}C=!1}try{n=new IntersectionObserver(x,{...M,root:r.ownerDocument})}catch{n=new IntersectionObserver(x,M)}n.observe(t)}return s(!0),a}function Jz(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:u=!1}=i,c=q0(t),h=r||a?[...c?Xc(c):[],...Xc(e)]:[];h.forEach(b=>{r&&b.addEventListener("scroll",n,{passive:!0}),a&&b.addEventListener("resize",n)});const p=c&&o?Qz(c,n):null;let v=-1,g=null;s&&(g=new ResizeObserver(b=>{let[M]=b;M&&M.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var C;(C=g)==null||C.observe(e)})),n()}),c&&!u&&g.observe(c),g.observe(e));let y,_=u?hl(t):null;u&&w();function w(){const b=hl(t);_&&(b.x!==_.x||b.y!==_.y||b.width!==_.width||b.height!==_.height)&&n(),_=b,y=requestAnimationFrame(w)}return n(),()=>{var b;h.forEach(M=>{r&&M.removeEventListener("scroll",n),a&&M.removeEventListener("resize",n)}),p==null||p(),(b=g)==null||b.disconnect(),g=null,u&&cancelAnimationFrame(y)}}const e$=G0,J2=Nz,t$=Oz,n$=Rz,ex=Pz,tx=(t,e,n)=>{const i=new Map,r={platform:Zz,...n},a={...r.platform,_c:i};return Iz(t,e,{...r,platform:a})};Ge({});const i$=t=>{if(!tn)return;if(!t)return t;const e=Er(t);return e||(Ji(t)?e:t)},r$=({middleware:t,placement:e,strategy:n})=>{const i=W(),r=W(),a=W(),s=W(),o=W({}),u={x:a,y:s,placement:e,strategy:n,middlewareData:o},c=async()=>{if(!tn)return;const h=i$(i),p=Er(r);if(!h||!p)return;const v=await tx(h,p,{placement:d(e),strategy:d(n),middleware:d(t)});Eu(u).forEach(g=>{u[g].value=v[g]})};return wt(()=>{mi(()=>{c()})}),{...u,update:c,referenceRef:i,contentRef:r}},a$=({arrowRef:t,padding:e})=>({name:"arrow",options:{element:t,padding:e},fn(n){const i=d(t);return i?ex({element:i,padding:e}).fn(n):{}}});function s$(t){let e;function n(){if(t.value==null)return;const{selectionStart:r,selectionEnd:a,value:s}=t.value;if(r==null||a==null)return;const o=s.slice(0,Math.max(0,r)),u=s.slice(Math.max(0,a));e={selectionStart:r,selectionEnd:a,value:s,beforeTxt:o,afterTxt:u}}function i(){if(t.value==null||e==null)return;const{value:r}=t.value,{beforeTxt:a,afterTxt:s,selectionStart:o}=e;if(a==null||s==null||o==null)return;let u=r.length;if(r.endsWith(s))u=r.length-s.length;else if(r.startsWith(a))u=a.length;else{const c=a[o-1],h=r.indexOf(c,o-1);h!==-1&&(u=h+1)}t.value.setSelectionRange(u,u)}return[n,i]}const o$=(t,e,n)=>Qs(t.subTree).filter(a=>{var s;return ni(a)&&((s=a.type)==null?void 0:s.name)===e&&!!a.component}).map(a=>a.component.uid).map(a=>n[a]).filter(a=>!!a),Y0=(t,e)=>{const n={},i=Mn([]);return{children:i,addChild:s=>{n[s.uid]=s,i.value=o$(t,e,n)},removeChild:s=>{delete n[s],i.value=i.value.filter(o=>o.uid!==s)}}},gi=Da({type:String,values:is,required:!1}),nx=Symbol("size"),ix=()=>{const t=ct(nx,{});return L(()=>d(t.size)||"")};function xd(t,{beforeFocus:e,afterFocus:n,beforeBlur:i,afterBlur:r}={}){const a=qt(),{emit:s}=a,o=Mn(),u=W(!1),c=v=>{un(e)&&e(v)||u.value||(u.value=!0,s("focus",v),n==null||n())},h=v=>{var g;un(i)&&i(v)||v.relatedTarget&&((g=o.value)!=null&&g.contains(v.relatedTarget))||(u.value=!1,s("blur",v),r==null||r())},p=()=>{var v,g;(v=o.value)!=null&&v.contains(document.activeElement)&&o.value!==document.activeElement||(g=t.value)==null||g.focus()};return Le(o,v=>{v&&v.setAttribute("tabindex","-1")}),yn(o,"focus",c,!0),yn(o,"blur",h,!0),yn(o,"click",p,!0),{isFocused:u,wrapperRef:o,handleFocus:c,handleBlur:h}}function ip({afterComposition:t,emit:e}){const n=W(!1),i=o=>{e==null||e("compositionstart",o),n.value=!0},r=o=>{var u;e==null||e("compositionupdate",o);const c=(u=o.target)==null?void 0:u.value,h=c[c.length-1]||"";n.value=!JV(h)},a=o=>{e==null||e("compositionend",o),n.value&&(n.value=!1,yt(()=>t(o)))};return{isComposing:n,handleComposition:o=>{o.type==="compositionend"?a(o):r(o)},handleCompositionStart:i,handleCompositionUpdate:r,handleCompositionEnd:a}}const rx=Symbol("emptyValuesContextKey"),l$=["",void 0,null],u$=void 0,Qu=Ge({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:t=>un(t)?!t():!t}}),rp=(t,e)=>{const n=qt()?ct(rx,W({})):W({}),i=L(()=>t.emptyValues||n.value.emptyValues||l$),r=L(()=>un(t.valueOnClear)?t.valueOnClear():t.valueOnClear!==void 0?t.valueOnClear:un(n.value.valueOnClear)?n.value.valueOnClear():n.value.valueOnClear!==void 0?n.value.valueOnClear:e!==void 0?e:u$),a=s=>i.value.includes(s);return i.value.includes(r.value),{emptyValues:i,valueOnClear:r,isEmptyValue:a}},c$=Ge({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),Ui=t=>Ta(c$,t),ax=Symbol(),dh=W();function ap(t,e=void 0){const n=qt()?ct(ax,dh):dh;return t?L(()=>{var i,r;return(r=(i=n.value)==null?void 0:i[t])!=null?r:e}):n}function sp(t,e){const n=ap(),i=Fe(t,L(()=>{var o;return((o=n.value)==null?void 0:o.namespace)||Dc})),r=nn(L(()=>{var o;return(o=n.value)==null?void 0:o.locale})),a=Xu(L(()=>{var o;return((o=n.value)==null?void 0:o.zIndex)||H2})),s=L(()=>{var o;return d(e)||((o=n.value)==null?void 0:o.size)||""});return j0(L(()=>d(n)||{})),{ns:i,locale:r,zIndex:a,size:s}}const j0=(t,e,n=!1)=>{var i;const r=!!qt(),a=r?ap():void 0,s=(i=e==null?void 0:e.provide)!=null?i:r?Zt:void 0;if(!s)return;const o=L(()=>{const u=d(t);return a!=null&&a.value?d$(a.value,u):u});return s(ax,o),s(M2,L(()=>o.value.locale)),s(T2,L(()=>o.value.namespace)),s(G2,L(()=>o.value.zIndex)),s(nx,{size:L(()=>o.value.size||"")}),s(rx,L(()=>({emptyValues:o.value.emptyValues,valueOnClear:o.value.valueOnClear}))),(n||!dh.value)&&(dh.value=o.value),o},d$=(t,e)=>{const n=[...new Set([...Eu(t),...Eu(e)])],i={};for(const r of n)i[r]=e[r]!==void 0?e[r]:t[r];return i},f$=Ge({a11y:{type:Boolean,default:!0},locale:{type:_e(Object)},size:gi,button:{type:_e(Object)},experimentalFeatures:{type:_e(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:_e(Object)},zIndex:Number,namespace:{type:String,default:"el"},...Qu}),Sa={},h$=re({name:"ElConfigProvider",props:f$,setup(t,{slots:e}){Le(()=>t.message,i=>{Object.assign(Sa,i??{})},{immediate:!0,deep:!0});const n=j0(t);return()=>oe(e,"default",{config:n==null?void 0:n.value})}}),p$=Dt(h$),m$="2.8.4",v$=(t=[])=>({version:m$,install:(n,i)=>{n[Tb]||(n[Tb]=!0,t.forEach(r=>n.use(r)),i&&j0(i,n,!0))}}),g$=Ge({zIndex:{type:_e([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),y$={scroll:({scrollTop:t,fixed:e})=>kt(t)&&$n(e),[Rn]:t=>$n(t)};var We=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n};const sx="ElAffix",_$=re({name:sx}),b$=re({..._$,props:g$,emits:y$,setup(t,{expose:e,emit:n}){const i=t,r=Fe("affix"),a=Mn(),s=Mn(),o=Mn(),{height:u}=XD(),{height:c,width:h,top:p,bottom:v,update:g}=B_(s,{windowScroll:!1}),y=B_(a),_=W(!1),w=W(0),b=W(0),M=L(()=>({height:_.value?`${c.value}px`:"",width:_.value?`${h.value}px`:""})),C=L(()=>{if(!_.value)return{};const k=i.offset?Xn(i.offset):0;return{height:`${c.value}px`,width:`${h.value}px`,top:i.position==="top"?k:"",bottom:i.position==="bottom"?k:"",transform:b.value?`translateY(${b.value}px)`:"",zIndex:i.zIndex}}),x=()=>{if(!o.value)return;w.value=o.value instanceof Window?document.documentElement.scrollTop:o.value.scrollTop||0;const{position:k,target:R,offset:D}=i,U=D+c.value;if(k==="top")if(R){const P=y.bottom.value-U;_.value=D>p.value&&y.bottom.value>0,b.value=P<0?P:0}else _.value=D>p.value;else if(R){const P=u.value-y.top.value-U;_.value=u.value-D<v.value&&u.value>y.top.value,b.value=P<0?-P:0}else _.value=u.value-D<v.value},T=()=>{g(),n("scroll",{scrollTop:w.value,fixed:_.value})};return Le(_,k=>n("change",k)),wt(()=>{var k;i.target?(a.value=(k=document.querySelector(i.target))!=null?k:void 0,a.value||vi(sx,`Target does not exist: ${i.target}`)):a.value=document.documentElement,o.value=E0(s.value,!0),g()}),yn(o,"scroll",T),mi(x),e({update:x,updateRoot:g}),(k,R)=>(I(),K("div",{ref_key:"root",ref:s,class:z(d(r).b()),style:_t(d(M))},[Z("div",{class:z({[d(r).m("fixed")]:_.value}),style:_t(d(C))},[oe(k.$slots,"default")],6)],6))}});var w$=We(b$,[["__file","affix.vue"]]);const S$=Dt(w$),C$=Ge({size:{type:_e([Number,String])},color:{type:String}}),E$=re({name:"ElIcon",inheritAttrs:!1}),x$=re({...E$,props:C$,setup(t){const e=t,n=Fe("icon"),i=L(()=>{const{size:r,color:a}=e;return!r&&!a?{}:{fontSize:zn(r)?void 0:Xn(r),"--color":a}});return(r,a)=>(I(),K("i",Ht({class:d(n).b(),style:d(i)},r.$attrs),[oe(r.$slots,"default")],16))}});var M$=We(x$,[["__file","icon.vue"]]);const dt=Dt(M$),T$=["light","dark"],A$=Ge({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:Eu(co),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:T$,default:"light"}}),k$={close:t=>t instanceof MouseEvent},I$=re({name:"ElAlert"}),P$=re({...I$,props:A$,emits:k$,setup(t,{emit:e}){const n=t,{Close:i}=T0,r=bi(),a=Fe("alert"),s=W(!0),o=L(()=>co[n.type]),u=L(()=>[a.e("icon"),{[a.is("big")]:!!n.description||!!r.default}]),c=L(()=>({"with-description":n.description||r.default})),h=p=>{s.value=!1,e("close",p)};return(p,v)=>(I(),we(ui,{name:d(a).b("fade"),persisted:""},{default:ne(()=>[Bt(Z("div",{class:z([d(a).b(),d(a).m(p.type),d(a).is("center",p.center),d(a).is(p.effect)]),role:"alert"},[p.showIcon&&d(o)?(I(),we(d(dt),{key:0,class:z(d(u))},{default:ne(()=>[(I(),we(Vt(d(o))))]),_:1},8,["class"])):he("v-if",!0),Z("div",{class:z(d(a).e("content"))},[p.title||p.$slots.title?(I(),K("span",{key:0,class:z([d(a).e("title"),d(c)])},[oe(p.$slots,"title",{},()=>[mt(Ne(p.title),1)])],2)):he("v-if",!0),p.$slots.default||p.description?(I(),K("p",{key:1,class:z(d(a).e("description"))},[oe(p.$slots,"default",{},()=>[mt(Ne(p.description),1)])],2)):he("v-if",!0),p.closable?(I(),K(ut,{key:2},[p.closeText?(I(),K("div",{key:0,class:z([d(a).e("close-btn"),d(a).is("customed")]),onClick:h},Ne(p.closeText),3)):(I(),we(d(dt),{key:1,class:z(d(a).e("close-btn")),onClick:h},{default:ne(()=>[J(d(i))]),_:1},8,["class"]))],64)):he("v-if",!0)],2)],2),[[sn,s.value]])]),_:3},8,["name"]))}});var R$=We(P$,[["__file","alert.vue"]]);const L$=Dt(R$),Cl=Symbol("formContextKey"),ts=Symbol("formItemContextKey"),fi=(t,e={})=>{const n=W(void 0),i=e.prop?n:k2("size"),r=e.global?n:ix(),a=e.form?{size:void 0}:ct(Cl,void 0),s=e.formItem?{size:void 0}:ct(ts,void 0);return L(()=>i.value||d(t)||(s==null?void 0:s.size)||(a==null?void 0:a.size)||r.value||"")},ir=t=>{const e=k2("disabled"),n=ct(Cl,void 0);return L(()=>e.value||d(t)||(n==null?void 0:n.disabled)||!1)},rr=()=>{const t=ct(Cl,void 0),e=ct(ts,void 0);return{form:t,formItem:e}},Ba=(t,{formItemContext:e,disableIdGeneration:n,disableIdManagement:i})=>{n||(n=W(!1)),i||(i=W(!1));const r=W();let a;const s=L(()=>{var o;return!!(!(t.label||t.ariaLabel)&&e&&e.inputIds&&((o=e.inputIds)==null?void 0:o.length)<=1)});return wt(()=>{a=Le([vn(t,"id"),n],([o,u])=>{const c=o??(u?void 0:Bi().value);c!==r.value&&(e!=null&&e.removeInputId&&(r.value&&e.removeInputId(r.value),!(i!=null&&i.value)&&!u&&c&&e.addInputId(c)),r.value=c)},{immediate:!0})}),As(()=>{a&&a(),e!=null&&e.removeInputId&&r.value&&e.removeInputId(r.value)}),{isLabeledByFormItem:s,inputId:r}},N$=Ge({size:{type:String,values:is},disabled:Boolean}),O$=Ge({...N$,model:Object,rules:{type:_e(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),D$={validate:(t,e,n)=>(Nt(t)||Gt(t))&&$n(e)&&Gt(n)};function F$(){const t=W([]),e=L(()=>{if(!t.value.length)return"0";const a=Math.max(...t.value);return a?`${a}px`:""});function n(a){const s=t.value.indexOf(a);return s===-1&&e.value,s}function i(a,s){if(a&&s){const o=n(s);t.value.splice(o,1,a)}else a&&t.value.push(a)}function r(a){const s=n(a);s>-1&&t.value.splice(s,1)}return{autoLabelWidth:e,registerLabelWidth:i,deregisterLabelWidth:r}}const Kd=(t,e)=>{const n=Xi(e);return n.length>0?t.filter(i=>i.prop&&n.includes(i.prop)):t},B$="ElForm",U$=re({name:B$}),V$=re({...U$,props:O$,emits:D$,setup(t,{expose:e,emit:n}){const i=t,r=[],a=fi(),s=Fe("form"),o=L(()=>{const{labelPosition:C,inline:x}=i;return[s.b(),s.m(a.value||"default"),{[s.m(`label-${C}`)]:C,[s.m("inline")]:x}]}),u=C=>r.find(x=>x.prop===C),c=C=>{r.push(C)},h=C=>{C.prop&&r.splice(r.indexOf(C),1)},p=(C=[])=>{i.model&&Kd(r,C).forEach(x=>x.resetField())},v=(C=[])=>{Kd(r,C).forEach(x=>x.clearValidate())},g=L(()=>!!i.model),y=C=>{if(r.length===0)return[];const x=Kd(r,C);return x.length?x:[]},_=async C=>b(void 0,C),w=async(C=[])=>{if(!g.value)return!1;const x=y(C);if(x.length===0)return!0;let T={};for(const k of x)try{await k.validate("")}catch(R){T={...T,...R}}return Object.keys(T).length===0?!0:Promise.reject(T)},b=async(C=[],x)=>{const T=!un(x);try{const k=await w(C);return k===!0&&await(x==null?void 0:x(k)),k}catch(k){if(k instanceof Error)throw k;const R=k;return i.scrollToError&&M(Object.keys(R)[0]),await(x==null?void 0:x(!1,R)),T&&Promise.reject(R)}},M=C=>{var x;const T=Kd(r,C)[0];T&&((x=T.$el)==null||x.scrollIntoView(i.scrollIntoViewOptions))};return Le(()=>i.rules,()=>{i.validateOnRuleChange&&_().catch(C=>void 0)},{deep:!0}),Zt(Cl,jt({...Ri(i),emit:n,resetFields:p,clearValidate:v,validateField:b,getField:u,addField:c,removeField:h,...F$()})),e({validate:_,validateField:b,resetFields:p,clearValidate:v,scrollToField:M,fields:r}),(C,x)=>(I(),K("form",{class:z(d(o))},[oe(C.$slots,"default")],2))}});var z$=We(V$,[["__file","form.vue"]]);function Go(){return Go=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Go.apply(this,arguments)}function $$(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Zc(t,e)}function Ev(t){return Ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ev(t)}function Zc(t,e){return Zc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Zc(t,e)}function H$(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vf(t,e,n){return H$()?Vf=Reflect.construct.bind():Vf=function(r,a,s){var o=[null];o.push.apply(o,a);var u=Function.bind.apply(r,o),c=new u;return s&&Zc(c,s.prototype),c},Vf.apply(null,arguments)}function G$(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function xv(t){var e=typeof Map=="function"?new Map:void 0;return xv=function(i){if(i===null||!G$(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(i))return e.get(i);e.set(i,r)}function r(){return Vf(i,arguments,Ev(this).constructor)}return r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Zc(r,i)},xv(t)}var W$=/%[sdj%]/g,K$=function(){};function Mv(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var i=n.field;e[i]=e[i]||[],e[i].push(n)}),e}function $r(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=0,a=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var s=t.replace(W$,function(o){if(o==="%%")return"%";if(r>=a)return o;switch(o){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}break;default:return o}});return s}return t}function q$(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function Li(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||q$(e)&&typeof t=="string"&&!t)}function Y$(t,e,n){var i=[],r=0,a=t.length;function s(o){i.push.apply(i,o||[]),r++,r===a&&n(i)}t.forEach(function(o){e(o,s)})}function jb(t,e,n){var i=0,r=t.length;function a(s){if(s&&s.length){n(s);return}var o=i;i=i+1,o<r?e(t[o],a):n([])}a([])}function j$(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var Xb=function(t){$$(e,t);function e(n,i){var r;return r=t.call(this,"Async Validation Error")||this,r.errors=n,r.fields=i,r}return e}(xv(Error));function X$(t,e,n,i,r){if(e.first){var a=new Promise(function(v,g){var y=function(b){return i(b),b.length?g(new Xb(b,Mv(b))):v(r)},_=j$(t);jb(_,n,y)});return a.catch(function(v){return v}),a}var s=e.firstFields===!0?Object.keys(t):e.firstFields||[],o=Object.keys(t),u=o.length,c=0,h=[],p=new Promise(function(v,g){var y=function(w){if(h.push.apply(h,w),c++,c===u)return i(h),h.length?g(new Xb(h,Mv(h))):v(r)};o.length||(i(h),v(r)),o.forEach(function(_){var w=t[_];s.indexOf(_)!==-1?jb(w,n,y):Y$(w,n,y)})});return p.catch(function(v){return v}),p}function Z$(t){return!!(t&&t.message!==void 0)}function Q$(t,e){for(var n=t,i=0;i<e.length;i++){if(n==null)return n;n=n[e[i]]}return n}function Zb(t,e){return function(n){var i;return t.fullFields?i=Q$(e,t.fullFields):i=e[n.field||t.fullField],Z$(n)?(n.field=n.field||t.fullField,n.fieldValue=i,n):{message:typeof n=="function"?n():n,fieldValue:i,field:n.field||t.fullField}}}function Qb(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];typeof i=="object"&&typeof t[n]=="object"?t[n]=Go({},t[n],i):t[n]=i}}return t}var ox=function(e,n,i,r,a,s){e.required&&(!i.hasOwnProperty(e.field)||Li(n,s||e.type))&&r.push($r(a.messages.required,e.fullField))},J$=function(e,n,i,r,a){(/^\s+$/.test(n)||n==="")&&r.push($r(a.messages.whitespace,e.fullField))},qd,eH=function(){if(qd)return qd;var t="[a-fA-F\\d:]",e=function(x){return x&&x.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",i="[a-fA-F\\d]{1,4}",r=(`
(?:
(?:`+i+":){7}(?:"+i+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+i+":){6}(?:"+n+"|:"+i+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+i+":){5}(?::"+n+"|(?::"+i+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+i+":){4}(?:(?::"+i+"){0,1}:"+n+"|(?::"+i+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+i+":){3}(?:(?::"+i+"){0,2}:"+n+"|(?::"+i+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+i+":){2}(?:(?::"+i+"){0,3}:"+n+"|(?::"+i+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+i+":){1}(?:(?::"+i+"){0,4}:"+n+"|(?::"+i+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+i+"){0,5}:"+n+"|(?::"+i+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+n+"$)|(?:^"+r+"$)"),s=new RegExp("^"+n+"$"),o=new RegExp("^"+r+"$"),u=function(x){return x&&x.exact?a:new RegExp("(?:"+e(x)+n+e(x)+")|(?:"+e(x)+r+e(x)+")","g")};u.v4=function(C){return C&&C.exact?s:new RegExp(""+e(C)+n+e(C),"g")},u.v6=function(C){return C&&C.exact?o:new RegExp(""+e(C)+r+e(C),"g")};var c="(?:(?:[a-z]+:)?//)",h="(?:\\S+(?::\\S*)?@)?",p=u.v4().source,v=u.v6().source,g="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",y="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",_="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",w="(?::\\d{2,5})?",b='(?:[/?#][^\\s"]*)?',M="(?:"+c+"|www\\.)"+h+"(?:localhost|"+p+"|"+v+"|"+g+y+_+")"+w+b;return qd=new RegExp("(?:^"+M+"$)","i"),qd},Jb={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},kc={integer:function(e){return kc.number(e)&&parseInt(e,10)===e},float:function(e){return kc.number(e)&&!kc.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!kc.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(Jb.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(eH())},hex:function(e){return typeof e=="string"&&!!e.match(Jb.hex)}},tH=function(e,n,i,r,a){if(e.required&&n===void 0){ox(e,n,i,r,a);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],o=e.type;s.indexOf(o)>-1?kc[o](n)||r.push($r(a.messages.types[o],e.fullField,e.type)):o&&typeof n!==e.type&&r.push($r(a.messages.types[o],e.fullField,e.type))},nH=function(e,n,i,r,a){var s=typeof e.len=="number",o=typeof e.min=="number",u=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,h=n,p=null,v=typeof n=="number",g=typeof n=="string",y=Array.isArray(n);if(v?p="number":g?p="string":y&&(p="array"),!p)return!1;y&&(h=n.length),g&&(h=n.replace(c,"_").length),s?h!==e.len&&r.push($r(a.messages[p].len,e.fullField,e.len)):o&&!u&&h<e.min?r.push($r(a.messages[p].min,e.fullField,e.min)):u&&!o&&h>e.max?r.push($r(a.messages[p].max,e.fullField,e.max)):o&&u&&(h<e.min||h>e.max)&&r.push($r(a.messages[p].range,e.fullField,e.min,e.max))},Pl="enum",iH=function(e,n,i,r,a){e[Pl]=Array.isArray(e[Pl])?e[Pl]:[],e[Pl].indexOf(n)===-1&&r.push($r(a.messages[Pl],e.fullField,e[Pl].join(", ")))},rH=function(e,n,i,r,a){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||r.push($r(a.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var s=new RegExp(e.pattern);s.test(n)||r.push($r(a.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},En={required:ox,whitespace:J$,type:tH,range:nH,enum:iH,pattern:rH},aH=function(e,n,i,r,a){var s=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(Li(n,"string")&&!e.required)return i();En.required(e,n,r,s,a,"string"),Li(n,"string")||(En.type(e,n,r,s,a),En.range(e,n,r,s,a),En.pattern(e,n,r,s,a),e.whitespace===!0&&En.whitespace(e,n,r,s,a))}i(s)},sH=function(e,n,i,r,a){var s=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(Li(n)&&!e.required)return i();En.required(e,n,r,s,a),n!==void 0&&En.type(e,n,r,s,a)}i(s)},oH=function(e,n,i,r,a){var s=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(n===""&&(n=void 0),Li(n)&&!e.required)return i();En.required(e,n,r,s,a),n!==void 0&&(En.type(e,n,r,s,a),En.range(e,n,r,s,a))}i(s)},lH=function(e,n,i,r,a){var s=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(Li(n)&&!e.required)return i();En.required(e,n,r,s,a),n!==void 0&&En.type(e,n,r,s,a)}i(s)},uH=function(e,n,i,r,a){var s=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(Li(n)&&!e.required)return i();En.required(e,n,r,s,a),Li(n)||En.type(e,n,r,s,a)}i(s)},cH=function(e,n,i,r,a){var s=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(Li(n)&&!e.required)return i();En.required(e,n,r,s,a),n!==void 0&&(En.type(e,n,r,s,a),En.range(e,n,r,s,a))}i(s)},dH=function(e,n,i,r,a){var s=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(Li(n)&&!e.required)return i();En.required(e,n,r,s,a),n!==void 0&&(En.type(e,n,r,s,a),En.range(e,n,r,s,a))}i(s)},fH=function(e,n,i,r,a){var s=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(n==null&&!e.required)return i();En.required(e,n,r,s,a,"array"),n!=null&&(En.type(e,n,r,s,a),En.range(e,n,r,s,a))}i(s)},hH=function(e,n,i,r,a){var s=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(Li(n)&&!e.required)return i();En.required(e,n,r,s,a),n!==void 0&&En.type(e,n,r,s,a)}i(s)},pH="enum",mH=function(e,n,i,r,a){var s=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(Li(n)&&!e.required)return i();En.required(e,n,r,s,a),n!==void 0&&En[pH](e,n,r,s,a)}i(s)},vH=function(e,n,i,r,a){var s=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(Li(n,"string")&&!e.required)return i();En.required(e,n,r,s,a),Li(n,"string")||En.pattern(e,n,r,s,a)}i(s)},gH=function(e,n,i,r,a){var s=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(Li(n,"date")&&!e.required)return i();if(En.required(e,n,r,s,a),!Li(n,"date")){var u;n instanceof Date?u=n:u=new Date(n),En.type(e,u,r,s,a),u&&En.range(e,u.getTime(),r,s,a)}}i(s)},yH=function(e,n,i,r,a){var s=[],o=Array.isArray(n)?"array":typeof n;En.required(e,n,r,s,a,o),i(s)},Kp=function(e,n,i,r,a){var s=e.type,o=[],u=e.required||!e.required&&r.hasOwnProperty(e.field);if(u){if(Li(n,s)&&!e.required)return i();En.required(e,n,r,o,a,s),Li(n,s)||En.type(e,n,r,o,a)}i(o)},_H=function(e,n,i,r,a){var s=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(Li(n)&&!e.required)return i();En.required(e,n,r,s,a)}i(s)},Uc={string:aH,method:sH,number:oH,boolean:lH,regexp:uH,integer:cH,float:dH,array:fH,object:hH,enum:mH,pattern:vH,date:gH,url:Kp,hex:Kp,email:Kp,required:yH,any:_H};function Tv(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Av=Tv(),Md=function(){function t(n){this.rules=null,this._messages=Av,this.define(n)}var e=t.prototype;return e.define=function(i){var r=this;if(!i)throw new Error("Cannot configure a schema with no rules");if(typeof i!="object"||Array.isArray(i))throw new Error("Rules must be an object");this.rules={},Object.keys(i).forEach(function(a){var s=i[a];r.rules[a]=Array.isArray(s)?s:[s]})},e.messages=function(i){return i&&(this._messages=Qb(Tv(),i)),this._messages},e.validate=function(i,r,a){var s=this;r===void 0&&(r={}),a===void 0&&(a=function(){});var o=i,u=r,c=a;if(typeof u=="function"&&(c=u,u={}),!this.rules||Object.keys(this.rules).length===0)return c&&c(null,o),Promise.resolve(o);function h(_){var w=[],b={};function M(x){if(Array.isArray(x)){var T;w=(T=w).concat.apply(T,x)}else w.push(x)}for(var C=0;C<_.length;C++)M(_[C]);w.length?(b=Mv(w),c(w,b)):c(null,o)}if(u.messages){var p=this.messages();p===Av&&(p=Tv()),Qb(p,u.messages),u.messages=p}else u.messages=this.messages();var v={},g=u.keys||Object.keys(this.rules);g.forEach(function(_){var w=s.rules[_],b=o[_];w.forEach(function(M){var C=M;typeof C.transform=="function"&&(o===i&&(o=Go({},o)),b=o[_]=C.transform(b)),typeof C=="function"?C={validator:C}:C=Go({},C),C.validator=s.getValidationMethod(C),C.validator&&(C.field=_,C.fullField=C.fullField||_,C.type=s.getType(C),v[_]=v[_]||[],v[_].push({rule:C,value:b,source:o,field:_}))})});var y={};return X$(v,u,function(_,w){var b=_.rule,M=(b.type==="object"||b.type==="array")&&(typeof b.fields=="object"||typeof b.defaultField=="object");M=M&&(b.required||!b.required&&_.value),b.field=_.field;function C(k,R){return Go({},R,{fullField:b.fullField+"."+k,fullFields:b.fullFields?[].concat(b.fullFields,[k]):[k]})}function x(k){k===void 0&&(k=[]);var R=Array.isArray(k)?k:[k];!u.suppressWarning&&R.length&&t.warning("async-validator:",R),R.length&&b.message!==void 0&&(R=[].concat(b.message));var D=R.map(Zb(b,o));if(u.first&&D.length)return y[b.field]=1,w(D);if(!M)w(D);else{if(b.required&&!_.value)return b.message!==void 0?D=[].concat(b.message).map(Zb(b,o)):u.error&&(D=[u.error(b,$r(u.messages.required,b.field))]),w(D);var U={};b.defaultField&&Object.keys(_.value).map(function($){U[$]=b.defaultField}),U=Go({},U,_.rule.fields);var P={};Object.keys(U).forEach(function($){var Q=U[$],Y=Array.isArray(Q)?Q:[Q];P[$]=Y.map(C.bind(null,$))});var N=new t(P);N.messages(u.messages),_.rule.options&&(_.rule.options.messages=u.messages,_.rule.options.error=u.error),N.validate(_.value,_.rule.options||u,function($){var Q=[];D&&D.length&&Q.push.apply(Q,D),$&&$.length&&Q.push.apply(Q,$),w(Q.length?Q:null)})}}var T;if(b.asyncValidator)T=b.asyncValidator(b,_.value,x,_.source,u);else if(b.validator){try{T=b.validator(b,_.value,x,_.source,u)}catch(k){console.error==null||console.error(k),u.suppressValidatorError||setTimeout(function(){throw k},0),x(k.message)}T===!0?x():T===!1?x(typeof b.message=="function"?b.message(b.fullField||b.field):b.message||(b.fullField||b.field)+" fails"):T instanceof Array?x(T):T instanceof Error&&x(T.message)}T&&T.then&&T.then(function(){return x()},function(k){return x(k)})},function(_){h(_)},o)},e.getType=function(i){if(i.type===void 0&&i.pattern instanceof RegExp&&(i.type="pattern"),typeof i.validator!="function"&&i.type&&!Uc.hasOwnProperty(i.type))throw new Error($r("Unknown rule type %s",i.type));return i.type||"string"},e.getValidationMethod=function(i){if(typeof i.validator=="function")return i.validator;var r=Object.keys(i),a=r.indexOf("message");return a!==-1&&r.splice(a,1),r.length===1&&r[0]==="required"?Uc.required:Uc[this.getType(i)]||void 0},t}();Md.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");Uc[e]=n};Md.warning=K$;Md.messages=Av;Md.validators=Uc;const bH=["","error","validating","success"],wH=Ge({label:String,labelWidth:{type:[String,Number],default:""},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:_e([String,Array])},required:{type:Boolean,default:void 0},rules:{type:_e([Object,Array])},error:String,validateStatus:{type:String,values:bH},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:is}}),e1="ElLabelWrap";var SH=re({name:e1,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(t,{slots:e}){const n=ct(Cl,void 0),i=ct(ts);i||vi(e1,"usage: <el-form-item><label-wrap /></el-form-item>");const r=Fe("form"),a=W(),s=W(0),o=()=>{var h;if((h=a.value)!=null&&h.firstElementChild){const p=window.getComputedStyle(a.value.firstElementChild).width;return Math.ceil(Number.parseFloat(p))}else return 0},u=(h="update")=>{yt(()=>{e.default&&t.isAutoWidth&&(h==="update"?s.value=o():h==="remove"&&(n==null||n.deregisterLabelWidth(s.value)))})},c=()=>u("update");return wt(()=>{c()}),xn(()=>{u("remove")}),yo(()=>c()),Le(s,(h,p)=>{t.updateAll&&(n==null||n.registerLabelWidth(h,p))}),On(L(()=>{var h,p;return(p=(h=a.value)==null?void 0:h.firstElementChild)!=null?p:null}),c),()=>{var h,p;if(!e)return null;const{isAutoWidth:v}=t;if(v){const g=n==null?void 0:n.autoLabelWidth,y=i==null?void 0:i.hasLabel,_={};if(y&&g&&g!=="auto"){const w=Math.max(0,Number.parseInt(g,10)-s.value),M=(i.labelPosition||n.labelPosition)==="left"?"marginRight":"marginLeft";w&&(_[M]=`${w}px`)}return J("div",{ref:a,class:[r.be("item","label-wrap")],style:_},[(h=e.default)==null?void 0:h.call(e)])}else return J(ut,{ref:a},[(p=e.default)==null?void 0:p.call(e)])}}});const CH=re({name:"ElFormItem"}),EH=re({...CH,props:wH,setup(t,{expose:e}){const n=t,i=bi(),r=ct(Cl,void 0),a=ct(ts,void 0),s=fi(void 0,{formItem:!1}),o=Fe("form-item"),u=Bi().value,c=W([]),h=W(""),p=RD(h,100),v=W(""),g=W();let y,_=!1;const w=L(()=>n.labelPosition||(r==null?void 0:r.labelPosition)),b=L(()=>{if(w.value==="top")return{};const ue=Xn(n.labelWidth||(r==null?void 0:r.labelWidth)||"");return ue?{width:ue}:{}}),M=L(()=>{if(w.value==="top"||r!=null&&r.inline)return{};if(!n.label&&!n.labelWidth&&P)return{};const ue=Xn(n.labelWidth||(r==null?void 0:r.labelWidth)||"");return!n.label&&!i.label?{marginLeft:ue}:{}}),C=L(()=>[o.b(),o.m(s.value),o.is("error",h.value==="error"),o.is("validating",h.value==="validating"),o.is("success",h.value==="success"),o.is("required",H.value||n.required),o.is("no-asterisk",r==null?void 0:r.hideRequiredAsterisk),(r==null?void 0:r.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[o.m("feedback")]:r==null?void 0:r.statusIcon,[o.m(`label-${w.value}`)]:w.value}]),x=L(()=>$n(n.inlineMessage)?n.inlineMessage:(r==null?void 0:r.inlineMessage)||!1),T=L(()=>[o.e("error"),{[o.em("error","inline")]:x.value}]),k=L(()=>n.prop?Gt(n.prop)?n.prop:n.prop.join("."):""),R=L(()=>!!(n.label||i.label)),D=L(()=>n.for||(c.value.length===1?c.value[0]:void 0)),U=L(()=>!D.value&&R.value),P=!!a,N=L(()=>{const ue=r==null?void 0:r.model;if(!(!ue||!n.prop))return Bf(ue,n.prop).value}),$=L(()=>{const{required:ue}=n,Me=[];n.rules&&Me.push(...Xi(n.rules));const De=r==null?void 0:r.rules;if(De&&n.prop){const xe=Bf(De,n.prop).value;xe&&Me.push(...Xi(xe))}if(ue!==void 0){const xe=Me.map((G,He)=>[G,He]).filter(([G])=>Object.keys(G).includes("required"));if(xe.length>0)for(const[G,He]of xe)G.required!==ue&&(Me[He]={...G,required:ue});else Me.push({required:ue})}return Me}),Q=L(()=>$.value.length>0),Y=ue=>$.value.filter(De=>!De.trigger||!ue?!0:Array.isArray(De.trigger)?De.trigger.includes(ue):De.trigger===ue).map(({trigger:De,...xe})=>xe),H=L(()=>$.value.some(ue=>ue.required)),B=L(()=>{var ue;return p.value==="error"&&n.showMessage&&((ue=r==null?void 0:r.showMessage)!=null?ue:!0)}),X=L(()=>`${n.label||""}${(r==null?void 0:r.labelSuffix)||""}`),q=ue=>{h.value=ue},O=ue=>{var Me,De;const{errors:xe,fields:G}=ue;(!xe||!G)&&console.error(ue),q("error"),v.value=xe?(De=(Me=xe==null?void 0:xe[0])==null?void 0:Me.message)!=null?De:`${n.prop} is required`:"",r==null||r.emit("validate",n.prop,!1,v.value)},V=()=>{q("success"),r==null||r.emit("validate",n.prop,!0,"")},ee=async ue=>{const Me=k.value;return new Md({[Me]:ue}).validate({[Me]:N.value},{firstFields:!0}).then(()=>(V(),!0)).catch(xe=>(O(xe),Promise.reject(xe)))},ce=async(ue,Me)=>{if(_||!n.prop)return!1;const De=un(Me);if(!Q.value)return Me==null||Me(!1),!1;const xe=Y(ue);return xe.length===0?(Me==null||Me(!0),!0):(q("validating"),ee(xe).then(()=>(Me==null||Me(!0),!0)).catch(G=>{const{fields:He}=G;return Me==null||Me(!1,He),De?!1:Promise.reject(He)}))},se=()=>{q(""),v.value="",_=!1},le=async()=>{const ue=r==null?void 0:r.model;if(!ue||!n.prop)return;const Me=Bf(ue,n.prop);_=!0,Me.value=bb(y),await yt(),se(),_=!1},ye=ue=>{c.value.includes(ue)||c.value.push(ue)},Ce=ue=>{c.value=c.value.filter(Me=>Me!==ue)};Le(()=>n.error,ue=>{v.value=ue||"",q(ue?"error":"")},{immediate:!0}),Le(()=>n.validateStatus,ue=>q(ue||""));const pe=jt({...Ri(n),$el:g,size:s,validateState:h,labelId:u,inputIds:c,isGroup:U,hasLabel:R,fieldValue:N,addInputId:ye,removeInputId:Ce,resetField:le,clearValidate:se,validate:ce});return Zt(ts,pe),wt(()=>{n.prop&&(r==null||r.addField(pe),y=bb(N.value))}),xn(()=>{r==null||r.removeField(pe)}),e({size:s,validateMessage:v,validateState:h,validate:ce,clearValidate:se,resetField:le}),(ue,Me)=>{var De;return I(),K("div",{ref_key:"formItemRef",ref:g,class:z(d(C)),role:d(U)?"group":void 0,"aria-labelledby":d(U)?d(u):void 0},[J(d(SH),{"is-auto-width":d(b).width==="auto","update-all":((De=d(r))==null?void 0:De.labelWidth)==="auto"},{default:ne(()=>[d(R)?(I(),we(Vt(d(D)?"label":"div"),{key:0,id:d(u),for:d(D),class:z(d(o).e("label")),style:_t(d(b))},{default:ne(()=>[oe(ue.$slots,"label",{label:d(X)},()=>[mt(Ne(d(X)),1)])]),_:3},8,["id","for","class","style"])):he("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),Z("div",{class:z(d(o).e("content")),style:_t(d(M))},[oe(ue.$slots,"default"),J(FC,{name:`${d(o).namespace.value}-zoom-in-top`},{default:ne(()=>[d(B)?oe(ue.$slots,"error",{key:0,error:v.value},()=>[Z("div",{class:z(d(T))},Ne(v.value),3)]):he("v-if",!0)]),_:3},8,["name"])],6)],10,["role","aria-labelledby"])}}});var lx=We(EH,[["__file","form-item.vue"]]);const xH=Dt(z$,{FormItem:lx}),MH=Bn(lx);let ga;const TH=`
  height:0 !important;
  visibility:hidden !important;
  ${r0()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,AH=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function kH(t){const e=window.getComputedStyle(t),n=e.getPropertyValue("box-sizing"),i=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),r=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:AH.map(s=>`${s}:${e.getPropertyValue(s)}`).join(";"),paddingSize:i,borderSize:r,boxSizing:n}}function t1(t,e=1,n){var i;ga||(ga=document.createElement("textarea"),document.body.appendChild(ga));const{paddingSize:r,borderSize:a,boxSizing:s,contextStyle:o}=kH(t);ga.setAttribute("style",`${o};${TH}`),ga.value=t.value||t.placeholder||"";let u=ga.scrollHeight;const c={};s==="border-box"?u=u+a:s==="content-box"&&(u=u-r),ga.value="";const h=ga.scrollHeight-r;if(kt(e)){let p=h*e;s==="border-box"&&(p=p+r+a),u=Math.max(p,u),c.minHeight=`${p}px`}if(kt(n)){let p=h*n;s==="border-box"&&(p=p+r+a),u=Math.min(p,u)}return c.height=`${u}px`,(i=ga.parentNode)==null||i.removeChild(ga),ga=void 0,c}const X0=Ge({id:{type:String,default:void 0},size:gi,disabled:Boolean,modelValue:{type:_e([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:_e([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:wn},prefixIcon:{type:wn},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:_e([Object,Array,String]),default:()=>Fn({})},autofocus:Boolean,rows:{type:Number,default:2},...Ui(["ariaLabel"])}),IH={[Wt]:t=>Gt(t),input:t=>Gt(t),change:t=>Gt(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},PH=re({name:"ElInput",inheritAttrs:!1}),RH=re({...PH,props:X0,emits:IH,setup(t,{expose:e,emit:n}){const i=t,r=_l(),a=bi(),s=L(()=>{const Pe={};return i.containerRole==="combobox"&&(Pe["aria-haspopup"]=r["aria-haspopup"],Pe["aria-owns"]=r["aria-owns"],Pe["aria-expanded"]=r["aria-expanded"]),Pe}),o=L(()=>[i.type==="textarea"?w.b():_.b(),_.m(g.value),_.is("disabled",y.value),_.is("exceed",se.value),{[_.b("group")]:a.prepend||a.append,[_.m("prefix")]:a.prefix||i.prefixIcon,[_.m("suffix")]:a.suffix||i.suffixIcon||i.clearable||i.showPassword,[_.bm("suffix","password-clear")]:O.value&&V.value,[_.b("hidden")]:i.type==="hidden"},r.class]),u=L(()=>[_.e("wrapper"),_.is("focus",U.value)]),c=k0({excludeKeys:L(()=>Object.keys(s.value))}),{form:h,formItem:p}=rr(),{inputId:v}=Ba(i,{formItemContext:p}),g=fi(),y=ir(),_=Fe("input"),w=Fe("textarea"),b=Mn(),M=Mn(),C=W(!1),x=W(!1),T=W(),k=Mn(i.inputStyle),R=L(()=>b.value||M.value),{wrapperRef:D,isFocused:U,handleFocus:P,handleBlur:N}=xd(R,{beforeFocus(){return y.value},afterBlur(){var Pe;i.validateEvent&&((Pe=p==null?void 0:p.validate)==null||Pe.call(p,"blur").catch(Xe=>void 0))}}),$=L(()=>{var Pe;return(Pe=h==null?void 0:h.statusIcon)!=null?Pe:!1}),Q=L(()=>(p==null?void 0:p.validateState)||""),Y=L(()=>Q.value&&A0[Q.value]),H=L(()=>x.value?rD:MO),B=L(()=>[r.style]),X=L(()=>[i.inputStyle,k.value,{resize:i.resize}]),q=L(()=>Mi(i.modelValue)?"":String(i.modelValue)),O=L(()=>i.clearable&&!y.value&&!i.readonly&&!!q.value&&(U.value||C.value)),V=L(()=>i.showPassword&&!y.value&&!i.readonly&&!!q.value&&(!!q.value||U.value)),ee=L(()=>i.showWordLimit&&!!i.maxlength&&(i.type==="text"||i.type==="textarea")&&!y.value&&!i.readonly&&!i.showPassword),ce=L(()=>q.value.length),se=L(()=>!!ee.value&&ce.value>Number(i.maxlength)),le=L(()=>!!a.suffix||!!i.suffixIcon||O.value||i.showPassword||ee.value||!!Q.value&&$.value),[ye,Ce]=s$(b);On(M,Pe=>{if(Me(),!ee.value||i.resize!=="both")return;const Xe=Pe[0],{width:vt}=Xe.contentRect;T.value={right:`calc(100% - ${vt+15+6}px)`}});const pe=()=>{const{type:Pe,autosize:Xe}=i;if(!(!tn||Pe!=="textarea"||!M.value))if(Xe){const vt=bn(Xe)?Xe.minRows:void 0,nt=bn(Xe)?Xe.maxRows:void 0,Rt=t1(M.value,vt,nt);k.value={overflowY:"hidden",...Rt},yt(()=>{M.value.offsetHeight,k.value=Rt})}else k.value={minHeight:t1(M.value).minHeight}},Me=(Pe=>{let Xe=!1;return()=>{var vt;if(Xe||!i.autosize)return;((vt=M.value)==null?void 0:vt.offsetParent)===null||(Pe(),Xe=!0)}})(pe),De=()=>{const Pe=R.value,Xe=i.formatter?i.formatter(q.value):q.value;!Pe||Pe.value===Xe||(Pe.value=Xe)},xe=async Pe=>{ye();let{value:Xe}=Pe.target;if(i.formatter&&(Xe=i.parser?i.parser(Xe):Xe),!He.value){if(Xe===q.value){De();return}n(Wt,Xe),n("input",Xe),await yt(),De(),Ce()}},G=Pe=>{n("change",Pe.target.value)},{isComposing:He,handleCompositionStart:Qe,handleCompositionUpdate:at,handleCompositionEnd:rt}=ip({emit:n,afterComposition:xe}),it=()=>{x.value=!x.value,qe()},qe=async()=>{var Pe;await yt(),(Pe=R.value)==null||Pe.focus()},te=()=>{var Pe;return(Pe=R.value)==null?void 0:Pe.blur()},ae=Pe=>{C.value=!1,n("mouseleave",Pe)},ke=Pe=>{C.value=!0,n("mouseenter",Pe)},Be=Pe=>{n("keydown",Pe)},Ve=()=>{var Pe;(Pe=R.value)==null||Pe.select()},Ae=()=>{n(Wt,""),n("change",""),n("clear"),n("input","")};return Le(()=>i.modelValue,()=>{var Pe;yt(()=>pe()),i.validateEvent&&((Pe=p==null?void 0:p.validate)==null||Pe.call(p,"change").catch(Xe=>void 0))}),Le(q,()=>De()),Le(()=>i.type,async()=>{await yt(),De(),pe()}),wt(()=>{!i.formatter&&i.parser,De(),yt(pe)}),e({input:b,textarea:M,ref:R,textareaStyle:X,autosize:vn(i,"autosize"),isComposing:He,focus:qe,blur:te,select:Ve,clear:Ae,resizeTextarea:pe}),(Pe,Xe)=>(I(),K("div",Ht(d(s),{class:[d(o),{[d(_).bm("group","append")]:Pe.$slots.append,[d(_).bm("group","prepend")]:Pe.$slots.prepend}],style:d(B),role:Pe.containerRole,onMouseenter:ke,onMouseleave:ae}),[he(" input "),Pe.type!=="textarea"?(I(),K(ut,{key:0},[he(" prepend slot "),Pe.$slots.prepend?(I(),K("div",{key:0,class:z(d(_).be("group","prepend"))},[oe(Pe.$slots,"prepend")],2)):he("v-if",!0),Z("div",{ref_key:"wrapperRef",ref:D,class:z(d(u))},[he(" prefix slot "),Pe.$slots.prefix||Pe.prefixIcon?(I(),K("span",{key:0,class:z(d(_).e("prefix"))},[Z("span",{class:z(d(_).e("prefix-inner"))},[oe(Pe.$slots,"prefix"),Pe.prefixIcon?(I(),we(d(dt),{key:0,class:z(d(_).e("icon"))},{default:ne(()=>[(I(),we(Vt(Pe.prefixIcon)))]),_:1},8,["class"])):he("v-if",!0)],2)],2)):he("v-if",!0),Z("input",Ht({id:d(v),ref_key:"input",ref:b,class:d(_).e("inner")},d(c),{minlength:Pe.minlength,maxlength:Pe.maxlength,type:Pe.showPassword?x.value?"text":"password":Pe.type,disabled:d(y),readonly:Pe.readonly,autocomplete:Pe.autocomplete,tabindex:Pe.tabindex,"aria-label":Pe.ariaLabel,placeholder:Pe.placeholder,style:Pe.inputStyle,form:Pe.form,autofocus:Pe.autofocus,onCompositionstart:d(Qe),onCompositionupdate:d(at),onCompositionend:d(rt),onInput:xe,onChange:G,onKeydown:Be}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","onCompositionstart","onCompositionupdate","onCompositionend"]),he(" suffix slot "),d(le)?(I(),K("span",{key:1,class:z(d(_).e("suffix"))},[Z("span",{class:z(d(_).e("suffix-inner"))},[!d(O)||!d(V)||!d(ee)?(I(),K(ut,{key:0},[oe(Pe.$slots,"suffix"),Pe.suffixIcon?(I(),we(d(dt),{key:0,class:z(d(_).e("icon"))},{default:ne(()=>[(I(),we(Vt(Pe.suffixIcon)))]),_:1},8,["class"])):he("v-if",!0)],64)):he("v-if",!0),d(O)?(I(),we(d(dt),{key:1,class:z([d(_).e("icon"),d(_).e("clear")]),onMousedown:xt(d(Kn),["prevent"]),onClick:Ae},{default:ne(()=>[J(d(_o))]),_:1},8,["class","onMousedown"])):he("v-if",!0),d(V)?(I(),we(d(dt),{key:2,class:z([d(_).e("icon"),d(_).e("password")]),onClick:it},{default:ne(()=>[(I(),we(Vt(d(H))))]),_:1},8,["class"])):he("v-if",!0),d(ee)?(I(),K("span",{key:3,class:z(d(_).e("count"))},[Z("span",{class:z(d(_).e("count-inner"))},Ne(d(ce))+" / "+Ne(Pe.maxlength),3)],2)):he("v-if",!0),d(Q)&&d(Y)&&d($)?(I(),we(d(dt),{key:4,class:z([d(_).e("icon"),d(_).e("validateIcon"),d(_).is("loading",d(Q)==="validating")])},{default:ne(()=>[(I(),we(Vt(d(Y))))]),_:1},8,["class"])):he("v-if",!0)],2)],2)):he("v-if",!0)],2),he(" append slot "),Pe.$slots.append?(I(),K("div",{key:1,class:z(d(_).be("group","append"))},[oe(Pe.$slots,"append")],2)):he("v-if",!0)],64)):(I(),K(ut,{key:1},[he(" textarea "),Z("textarea",Ht({id:d(v),ref_key:"textarea",ref:M,class:[d(w).e("inner"),d(_).is("focus",d(U))]},d(c),{minlength:Pe.minlength,maxlength:Pe.maxlength,tabindex:Pe.tabindex,disabled:d(y),readonly:Pe.readonly,autocomplete:Pe.autocomplete,style:d(X),"aria-label":Pe.ariaLabel,placeholder:Pe.placeholder,form:Pe.form,autofocus:Pe.autofocus,rows:Pe.rows,onCompositionstart:d(Qe),onCompositionupdate:d(at),onCompositionend:d(rt),onInput:xe,onFocus:d(P),onBlur:d(N),onChange:G,onKeydown:Be}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),d(ee)?(I(),K("span",{key:0,style:_t(T.value),class:z(d(_).e("count"))},Ne(d(ce))+" / "+Ne(Pe.maxlength),7)):he("v-if",!0)],64))],16,["role"]))}});var LH=We(RH,[["__file","input.vue"]]);const Qi=Dt(LH),Rl=4,ux={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},NH=({move:t,size:e,bar:n})=>({[n.size]:e,transform:`translate${n.axis}(${t}%)`}),Z0=Symbol("scrollbarContextKey"),OH=Ge({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),DH="Thumb",FH=re({__name:"thumb",props:OH,setup(t){const e=t,n=ct(Z0),i=Fe("scrollbar");n||vi(DH,"can not inject scrollbar context");const r=W(),a=W(),s=W({}),o=W(!1);let u=!1,c=!1,h=tn?document.onselectstart:null;const p=L(()=>ux[e.vertical?"vertical":"horizontal"]),v=L(()=>NH({size:e.size,move:e.move,bar:p.value})),g=L(()=>r.value[p.value.offset]**2/n.wrapElement[p.value.scrollSize]/e.ratio/a.value[p.value.offset]),y=k=>{var R;if(k.stopPropagation(),k.ctrlKey||[1,2].includes(k.button))return;(R=window.getSelection())==null||R.removeAllRanges(),w(k);const D=k.currentTarget;D&&(s.value[p.value.axis]=D[p.value.offset]-(k[p.value.client]-D.getBoundingClientRect()[p.value.direction]))},_=k=>{if(!a.value||!r.value||!n.wrapElement)return;const R=Math.abs(k.target.getBoundingClientRect()[p.value.direction]-k[p.value.client]),D=a.value[p.value.offset]/2,U=(R-D)*100*g.value/r.value[p.value.offset];n.wrapElement[p.value.scroll]=U*n.wrapElement[p.value.scrollSize]/100},w=k=>{k.stopImmediatePropagation(),u=!0,document.addEventListener("mousemove",b),document.addEventListener("mouseup",M),h=document.onselectstart,document.onselectstart=()=>!1},b=k=>{if(!r.value||!a.value||u===!1)return;const R=s.value[p.value.axis];if(!R)return;const D=(r.value.getBoundingClientRect()[p.value.direction]-k[p.value.client])*-1,U=a.value[p.value.offset]-R,P=(D-U)*100*g.value/r.value[p.value.offset];n.wrapElement[p.value.scroll]=P*n.wrapElement[p.value.scrollSize]/100},M=()=>{u=!1,s.value[p.value.axis]=0,document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",M),T(),c&&(o.value=!1)},C=()=>{c=!1,o.value=!!e.size},x=()=>{c=!0,o.value=u};xn(()=>{T(),document.removeEventListener("mouseup",M)});const T=()=>{document.onselectstart!==h&&(document.onselectstart=h)};return yn(vn(n,"scrollbarElement"),"mousemove",C),yn(vn(n,"scrollbarElement"),"mouseleave",x),(k,R)=>(I(),we(ui,{name:d(i).b("fade"),persisted:""},{default:ne(()=>[Bt(Z("div",{ref_key:"instance",ref:r,class:z([d(i).e("bar"),d(i).is(d(p).key)]),onMousedown:_},[Z("div",{ref_key:"thumb",ref:a,class:z(d(i).e("thumb")),style:_t(d(v)),onMousedown:y},null,38)],34),[[sn,k.always||o.value]])]),_:1},8,["name"]))}});var n1=We(FH,[["__file","thumb.vue"]]);const BH=Ge({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),UH=re({__name:"bar",props:BH,setup(t,{expose:e}){const n=t,i=ct(Z0),r=W(0),a=W(0),s=W(""),o=W(""),u=W(1),c=W(1);return e({handleScroll:v=>{if(v){const g=v.offsetHeight-Rl,y=v.offsetWidth-Rl;a.value=v.scrollTop*100/g*u.value,r.value=v.scrollLeft*100/y*c.value}},update:()=>{const v=i==null?void 0:i.wrapElement;if(!v)return;const g=v.offsetHeight-Rl,y=v.offsetWidth-Rl,_=g**2/v.scrollHeight,w=y**2/v.scrollWidth,b=Math.max(_,n.minSize),M=Math.max(w,n.minSize);u.value=_/(g-_)/(b/(g-b)),c.value=w/(y-w)/(M/(y-M)),o.value=b+Rl<g?`${b}px`:"",s.value=M+Rl<y?`${M}px`:""}}),(v,g)=>(I(),K(ut,null,[J(n1,{move:r.value,ratio:c.value,size:s.value,always:v.always},null,8,["move","ratio","size","always"]),J(n1,{move:a.value,ratio:u.value,size:o.value,vertical:"",always:v.always},null,8,["move","ratio","size","always"])],64))}});var VH=We(UH,[["__file","bar.vue"]]);const zH=Ge({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:_e([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...Ui(["ariaLabel","ariaOrientation"])}),$H={scroll:({scrollTop:t,scrollLeft:e})=>[t,e].every(kt)},HH="ElScrollbar",GH=re({name:HH}),WH=re({...GH,props:zH,emits:$H,setup(t,{expose:e,emit:n}){const i=t,r=Fe("scrollbar");let a,s,o=0,u=0;const c=W(),h=W(),p=W(),v=W(),g=L(()=>{const T={};return i.height&&(T.height=Xn(i.height)),i.maxHeight&&(T.maxHeight=Xn(i.maxHeight)),[i.wrapStyle,T]}),y=L(()=>[i.wrapClass,r.e("wrap"),{[r.em("wrap","hidden-default")]:!i.native}]),_=L(()=>[r.e("view"),i.viewClass]),w=()=>{var T;h.value&&((T=v.value)==null||T.handleScroll(h.value),o=h.value.scrollTop,u=h.value.scrollLeft,n("scroll",{scrollTop:h.value.scrollTop,scrollLeft:h.value.scrollLeft}))};function b(T,k){bn(T)?h.value.scrollTo(T):kt(T)&&kt(k)&&h.value.scrollTo(T,k)}const M=T=>{kt(T)&&(h.value.scrollTop=T)},C=T=>{kt(T)&&(h.value.scrollLeft=T)},x=()=>{var T;(T=v.value)==null||T.update()};return Le(()=>i.noresize,T=>{T?(a==null||a(),s==null||s()):({stop:a}=On(p,x),s=yn("resize",x))},{immediate:!0}),Le(()=>[i.maxHeight,i.height],()=>{i.native||yt(()=>{var T;x(),h.value&&((T=v.value)==null||T.handleScroll(h.value))})}),Zt(Z0,jt({scrollbarElement:c,wrapElement:h})),BC(()=>{h.value&&(h.value.scrollTop=o,h.value.scrollLeft=u)}),wt(()=>{i.native||yt(()=>{x()})}),yo(()=>x()),e({wrapRef:h,update:x,scrollTo:b,setScrollTop:M,setScrollLeft:C,handleScroll:w}),(T,k)=>(I(),K("div",{ref_key:"scrollbarRef",ref:c,class:z(d(r).b())},[Z("div",{ref_key:"wrapRef",ref:h,class:z(d(y)),style:_t(d(g)),tabindex:T.tabindex,onScroll:w},[(I(),we(Vt(T.tag),{id:T.id,ref_key:"resizeRef",ref:p,class:z(d(_)),style:_t(T.viewStyle),role:T.role,"aria-label":T.ariaLabel,"aria-orientation":T.ariaOrientation},{default:ne(()=>[oe(T.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),T.native?he("v-if",!0):(I(),we(VH,{key:0,ref_key:"barRef",ref:v,always:T.always,"min-size":T.minSize},null,8,["always","min-size"]))],2))}});var KH=We(WH,[["__file","scrollbar.vue"]]);const as=Dt(KH),Q0=Symbol("popper"),cx=Symbol("popperContent"),qH=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],dx=Ge({role:{type:String,values:qH,default:"tooltip"}}),YH=re({name:"ElPopper",inheritAttrs:!1}),jH=re({...YH,props:dx,setup(t,{expose:e}){const n=t,i=W(),r=W(),a=W(),s=W(),o=L(()=>n.role),u={triggerRef:i,popperInstanceRef:r,contentRef:a,referenceRef:s,role:o};return e(u),Zt(Q0,u),(c,h)=>oe(c.$slots,"default")}});var XH=We(jH,[["__file","popper.vue"]]);const fx=Ge({arrowOffset:{type:Number,default:5}}),ZH=re({name:"ElPopperArrow",inheritAttrs:!1}),QH=re({...ZH,props:fx,setup(t,{expose:e}){const n=t,i=Fe("popper"),{arrowOffset:r,arrowRef:a,arrowStyle:s}=ct(cx,void 0);return Le(()=>n.arrowOffset,o=>{r.value=o}),xn(()=>{a.value=void 0}),e({arrowRef:a}),(o,u)=>(I(),K("span",{ref_key:"arrowRef",ref:a,class:z(d(i).e("arrow")),style:_t(d(s)),"data-popper-arrow":""},null,6))}});var JH=We(QH,[["__file","arrow.vue"]]);const eG="ElOnlyChild",hx=re({name:eG,setup(t,{slots:e,attrs:n}){var i;const r=ct($2),a=Sz((i=r==null?void 0:r.setForwardRef)!=null?i:Kn);return()=>{var s;const o=(s=e.default)==null?void 0:s.call(e,n);if(!o||o.length>1)return null;const u=px(o);return u?Bt(hI(u,n),[[a]]):null}}});function px(t){if(!t)return null;const e=t;for(const n of e){if(bn(n))switch(n.type){case $g:continue;case UC:case"svg":return i1(n);case ut:return px(n.children);default:return n}return i1(n)}return null}function i1(t){const e=Fe("only-child");return J("span",{class:e.e("content")},[t])}const mx=Ge({virtualRef:{type:_e(Object)},virtualTriggering:Boolean,onMouseenter:{type:_e(Function)},onMouseleave:{type:_e(Function)},onClick:{type:_e(Function)},onKeydown:{type:_e(Function)},onFocus:{type:_e(Function)},onBlur:{type:_e(Function)},onContextmenu:{type:_e(Function)},id:String,open:Boolean}),tG=re({name:"ElPopperTrigger",inheritAttrs:!1}),nG=re({...tG,props:mx,setup(t,{expose:e}){const n=t,{role:i,triggerRef:r}=ct(Q0,void 0);wz(r);const a=L(()=>o.value?n.id:void 0),s=L(()=>{if(i&&i.value==="tooltip")return n.open&&n.id?n.id:void 0}),o=L(()=>{if(i&&i.value!=="tooltip")return i.value}),u=L(()=>o.value?`${n.open}`:void 0);let c;const h=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return wt(()=>{Le(()=>n.virtualRef,p=>{p&&(r.value=Er(p))},{immediate:!0}),Le(r,(p,v)=>{c==null||c(),c=void 0,Hr(p)&&(h.forEach(g=>{var y;const _=n[g];_&&(p.addEventListener(g.slice(2).toLowerCase(),_),(y=v==null?void 0:v.removeEventListener)==null||y.call(v,g.slice(2).toLowerCase(),_))}),c=Le([a,s,o,u],g=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((y,_)=>{Mi(g[_])?p.removeAttribute(y):p.setAttribute(y,g[_])})},{immediate:!0})),Hr(v)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(g=>v.removeAttribute(g))},{immediate:!0})}),xn(()=>{if(c==null||c(),c=void 0,r.value&&Hr(r.value)){const p=r.value;h.forEach(v=>{const g=n[v];g&&p.removeEventListener(v.slice(2).toLowerCase(),g)}),r.value=void 0}}),e({triggerRef:r}),(p,v)=>p.virtualTriggering?he("v-if",!0):(I(),we(d(hx),Ht({key:0},p.$attrs,{"aria-controls":d(a),"aria-describedby":d(s),"aria-expanded":d(u),"aria-haspopup":d(o)}),{default:ne(()=>[oe(p.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var iG=We(nG,[["__file","trigger.vue"]]);const qp="focus-trap.focus-after-trapped",Yp="focus-trap.focus-after-released",rG="focus-trap.focusout-prevented",r1={cancelable:!0,bubbles:!1},aG={cancelable:!0,bubbles:!1},a1="focusAfterTrapped",s1="focusAfterReleased",J0=Symbol("elFocusTrap"),ey=W(),op=W(0),ty=W(0);let Yd=0;const vx=t=>{const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0||i===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e},o1=(t,e)=>{for(const n of t)if(!sG(n,e))return n},sG=(t,e)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},oG=t=>{const e=vx(t),n=o1(e,t),i=o1(e.reverse(),t);return[n,i]},lG=t=>t instanceof HTMLInputElement&&"select"in t,Gs=(t,e)=>{if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),ty.value=window.performance.now(),t!==n&&lG(t)&&e&&t.select()}};function l1(t,e){const n=[...t],i=t.indexOf(e);return i!==-1&&n.splice(i,1),n}const uG=()=>{let t=[];return{push:i=>{const r=t[0];r&&i!==r&&r.pause(),t=l1(t,i),t.unshift(i)},remove:i=>{var r,a;t=l1(t,i),(a=(r=t[0])==null?void 0:r.resume)==null||a.call(r)}}},cG=(t,e=!1)=>{const n=document.activeElement;for(const i of t)if(Gs(i,e),document.activeElement!==n)return},u1=uG(),dG=()=>op.value>ty.value,jd=()=>{ey.value="pointer",op.value=window.performance.now()},c1=()=>{ey.value="keyboard",op.value=window.performance.now()},fG=()=>(wt(()=>{Yd===0&&(document.addEventListener("mousedown",jd),document.addEventListener("touchstart",jd),document.addEventListener("keydown",c1)),Yd++}),xn(()=>{Yd--,Yd<=0&&(document.removeEventListener("mousedown",jd),document.removeEventListener("touchstart",jd),document.removeEventListener("keydown",c1))}),{focusReason:ey,lastUserFocusTimestamp:op,lastAutomatedFocusTimestamp:ty}),Xd=t=>new CustomEvent(rG,{...aG,detail:t}),hG=re({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[a1,s1,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:e}){const n=W();let i,r;const{focusReason:a}=fG();vz(y=>{t.trapped&&!s.paused&&e("release-requested",y)});const s={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},o=y=>{if(!t.loop&&!t.trapped||s.paused)return;const{key:_,altKey:w,ctrlKey:b,metaKey:M,currentTarget:C,shiftKey:x}=y,{loop:T}=t,k=_===St.tab&&!w&&!b&&!M,R=document.activeElement;if(k&&R){const D=C,[U,P]=oG(D);if(U&&P){if(!x&&R===P){const $=Xd({focusReason:a.value});e("focusout-prevented",$),$.defaultPrevented||(y.preventDefault(),T&&Gs(U,!0))}else if(x&&[U,D].includes(R)){const $=Xd({focusReason:a.value});e("focusout-prevented",$),$.defaultPrevented||(y.preventDefault(),T&&Gs(P,!0))}}else if(R===D){const $=Xd({focusReason:a.value});e("focusout-prevented",$),$.defaultPrevented||y.preventDefault()}}};Zt(J0,{focusTrapRef:n,onKeydown:o}),Le(()=>t.focusTrapEl,y=>{y&&(n.value=y)},{immediate:!0}),Le([n],([y],[_])=>{y&&(y.addEventListener("keydown",o),y.addEventListener("focusin",h),y.addEventListener("focusout",p)),_&&(_.removeEventListener("keydown",o),_.removeEventListener("focusin",h),_.removeEventListener("focusout",p))});const u=y=>{e(a1,y)},c=y=>e(s1,y),h=y=>{const _=d(n);if(!_)return;const w=y.target,b=y.relatedTarget,M=w&&_.contains(w);t.trapped||b&&_.contains(b)||(i=b),M&&e("focusin",y),!s.paused&&t.trapped&&(M?r=w:Gs(r,!0))},p=y=>{const _=d(n);if(!(s.paused||!_))if(t.trapped){const w=y.relatedTarget;!Mi(w)&&!_.contains(w)&&setTimeout(()=>{if(!s.paused&&t.trapped){const b=Xd({focusReason:a.value});e("focusout-prevented",b),b.defaultPrevented||Gs(r,!0)}},0)}else{const w=y.target;w&&_.contains(w)||e("focusout",y)}};async function v(){await yt();const y=d(n);if(y){u1.push(s);const _=y.contains(document.activeElement)?i:document.activeElement;if(i=_,!y.contains(_)){const b=new Event(qp,r1);y.addEventListener(qp,u),y.dispatchEvent(b),b.defaultPrevented||yt(()=>{let M=t.focusStartEl;Gt(M)||(Gs(M),document.activeElement!==M&&(M="first")),M==="first"&&cG(vx(y),!0),(document.activeElement===_||M==="container")&&Gs(y)})}}}function g(){const y=d(n);if(y){y.removeEventListener(qp,u);const _=new CustomEvent(Yp,{...r1,detail:{focusReason:a.value}});y.addEventListener(Yp,c),y.dispatchEvent(_),!_.defaultPrevented&&(a.value=="keyboard"||!dG()||y.contains(document.activeElement))&&Gs(i??document.body),y.removeEventListener(Yp,c),u1.remove(s)}}return wt(()=>{t.trapped&&v(),Le(()=>t.trapped,y=>{y?v():g()})}),xn(()=>{t.trapped&&g(),n.value&&(n.value.removeEventListener("keydown",o),n.value.removeEventListener("focusin",h),n.value.removeEventListener("focusout",p),n.value=void 0)}),{onKeydown:o}}});function pG(t,e,n,i,r,a){return oe(t.$slots,"default",{handleKeydown:t.onKeydown})}var Td=We(hG,[["render",pG],["__file","focus-trap.vue"]]);const mG=["fixed","absolute"],vG=Ge({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:_e(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Ls,default:"bottom"},popperOptions:{type:_e(Object),default:()=>({})},strategy:{type:String,values:mG,default:"absolute"}}),gx=Ge({...vG,id:String,style:{type:_e([String,Array,Object])},className:{type:_e([String,Array,Object])},effect:{type:_e(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:_e([String,Array,Object])},popperStyle:{type:_e([String,Array,Object])},referenceEl:{type:_e(Object)},triggerTargetEl:{type:_e(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...Ui(["ariaLabel"])}),gG={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},yG=(t,e=[])=>{const{placement:n,strategy:i,popperOptions:r}=t,a={placement:n,strategy:i,...r,modifiers:[...bG(t),...e]};return wG(a,r==null?void 0:r.modifiers),a},_G=t=>{if(tn)return Er(t)};function bG(t){const{offset:e,gpuAcceleration:n,fallbackPlacements:i}=t;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:i}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function wG(t,e){e&&(t.modifiers=[...t.modifiers,...e??[]])}const SG=0,CG=t=>{const{popperInstanceRef:e,contentRef:n,triggerRef:i,role:r}=ct(Q0,void 0),a=W(),s=W(),o=L(()=>({name:"eventListeners",enabled:!!t.visible})),u=L(()=>{var b;const M=d(a),C=(b=d(s))!=null?b:SG;return{name:"arrow",enabled:!y2(M),options:{element:M,padding:C}}}),c=L(()=>({onFirstUpdate:()=>{y()},...yG(t,[d(u),d(o)])})),h=L(()=>_G(t.referenceEl)||d(i)),{attributes:p,state:v,styles:g,update:y,forceUpdate:_,instanceRef:w}=fz(h,n,c);return Le(w,b=>e.value=b),wt(()=>{Le(()=>{var b;return(b=d(h))==null?void 0:b.getBoundingClientRect()},()=>{y()})}),{attributes:p,arrowRef:a,contentRef:n,instanceRef:w,state:v,styles:g,role:r,forceUpdate:_,update:y}},EG=(t,{attributes:e,styles:n,role:i})=>{const{nextZIndex:r}=Xu(),a=Fe("popper"),s=L(()=>d(e).popper),o=W(kt(t.zIndex)?t.zIndex:r()),u=L(()=>[a.b(),a.is("pure",t.pure),a.is(t.effect),t.popperClass]),c=L(()=>[{zIndex:d(o)},d(n).popper,t.popperStyle||{}]),h=L(()=>i.value==="dialog"?"false":void 0),p=L(()=>d(n).arrow||{});return{ariaModal:h,arrowStyle:p,contentAttrs:s,contentClass:u,contentStyle:c,contentZIndex:o,updateZIndex:()=>{o.value=kt(t.zIndex)?t.zIndex:r()}}},xG=(t,e)=>{const n=W(!1),i=W();return{focusStartRef:i,trapped:n,onFocusAfterReleased:c=>{var h;((h=c.detail)==null?void 0:h.focusReason)!=="pointer"&&(i.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:c=>{t.visible&&!n.value&&(c.target&&(i.value=c.target),n.value=!0)},onFocusoutPrevented:c=>{t.trapping||(c.detail.focusReason==="pointer"&&c.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,e("close")}}},MG=re({name:"ElPopperContent"}),TG=re({...MG,props:gx,emits:gG,setup(t,{expose:e,emit:n}){const i=t,{focusStartRef:r,trapped:a,onFocusAfterReleased:s,onFocusAfterTrapped:o,onFocusInTrap:u,onFocusoutPrevented:c,onReleaseRequested:h}=xG(i,n),{attributes:p,arrowRef:v,contentRef:g,styles:y,instanceRef:_,role:w,update:b}=CG(i),{ariaModal:M,arrowStyle:C,contentAttrs:x,contentClass:T,contentStyle:k,updateZIndex:R}=EG(i,{styles:y,attributes:p,role:w}),D=ct(ts,void 0),U=W();Zt(cx,{arrowStyle:C,arrowRef:v,arrowOffset:U}),D&&Zt(ts,{...D,addInputId:Kn,removeInputId:Kn});let P;const N=(Q=!0)=>{b(),Q&&R()},$=()=>{N(!1),i.visible&&i.focusOnShow?a.value=!0:i.visible===!1&&(a.value=!1)};return wt(()=>{Le(()=>i.triggerTargetEl,(Q,Y)=>{P==null||P(),P=void 0;const H=d(Q||g.value),B=d(Y||g.value);Hr(H)&&(P=Le([w,()=>i.ariaLabel,M,()=>i.id],X=>{["role","aria-label","aria-modal","id"].forEach((q,O)=>{Mi(X[O])?H.removeAttribute(q):H.setAttribute(q,X[O])})},{immediate:!0})),B!==H&&Hr(B)&&["role","aria-label","aria-modal","id"].forEach(X=>{B.removeAttribute(X)})},{immediate:!0}),Le(()=>i.visible,$,{immediate:!0})}),xn(()=>{P==null||P(),P=void 0}),e({popperContentRef:g,popperInstanceRef:_,updatePopper:N,contentStyle:k}),(Q,Y)=>(I(),K("div",Ht({ref_key:"contentRef",ref:g},d(x),{style:d(k),class:d(T),tabindex:"-1",onMouseenter:H=>Q.$emit("mouseenter",H),onMouseleave:H=>Q.$emit("mouseleave",H)}),[J(d(Td),{trapped:d(a),"trap-on-focus-in":!0,"focus-trap-el":d(g),"focus-start-el":d(r),onFocusAfterTrapped:d(o),onFocusAfterReleased:d(s),onFocusin:d(u),onFocusoutPrevented:d(c),onReleaseRequested:d(h)},{default:ne(()=>[oe(Q.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var AG=We(TG,[["__file","content.vue"]]);const yx=Dt(XH),lp=Symbol("elTooltip"),Ii=Ge({..._z,...gx,appendTo:{type:_e([String,Object])},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:_e(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...Ui(["ariaLabel"])}),Qc=Ge({...mx,disabled:Boolean,trigger:{type:_e([String,Array]),default:"hover"},triggerKeys:{type:_e(Array),default:()=>[St.enter,St.space]}}),{useModelToggleProps:kG,useModelToggleEmits:IG,useModelToggle:PG}=A2("visible"),RG=Ge({...dx,...kG,...Ii,...Qc,...fx,showArrow:{type:Boolean,default:!0}}),LG=[...IG,"before-show","before-hide","show","hide","open","close"],NG=(t,e)=>Nt(t)?t.includes(e):t===e,Ll=(t,e,n)=>i=>{NG(d(t),e)&&n(i)},OG=re({name:"ElTooltipTrigger"}),DG=re({...OG,props:Qc,setup(t,{expose:e}){const n=t,i=Fe("tooltip"),{controlled:r,id:a,open:s,onOpen:o,onClose:u,onToggle:c}=ct(lp,void 0),h=W(null),p=()=>{if(d(r)||n.disabled)return!0},v=vn(n,"trigger"),g=qn(p,Ll(v,"hover",o)),y=qn(p,Ll(v,"hover",u)),_=qn(p,Ll(v,"click",x=>{x.button===0&&c(x)})),w=qn(p,Ll(v,"focus",o)),b=qn(p,Ll(v,"focus",u)),M=qn(p,Ll(v,"contextmenu",x=>{x.preventDefault(),c(x)})),C=qn(p,x=>{const{code:T}=x;n.triggerKeys.includes(T)&&(x.preventDefault(),c(x))});return e({triggerRef:h}),(x,T)=>(I(),we(d(iG),{id:d(a),"virtual-ref":x.virtualRef,open:d(s),"virtual-triggering":x.virtualTriggering,class:z(d(i).e("trigger")),onBlur:d(b),onClick:d(_),onContextmenu:d(M),onFocus:d(w),onMouseenter:d(g),onMouseleave:d(y),onKeydown:d(C)},{default:ne(()=>[oe(x.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var FG=We(DG,[["__file","trigger.vue"]]);const BG=Ge({to:{type:_e([String,Object]),required:!0},disabled:Boolean}),UG=re({__name:"teleport",props:BG,setup(t){return(e,n)=>e.disabled?oe(e.$slots,"default",{key:0}):(I(),we(pI,{key:1,to:e.to},[oe(e.$slots,"default")],8,["to"]))}});var VG=We(UG,[["__file","teleport.vue"]]);const Ju=Dt(VG),zG=re({name:"ElTooltipContent",inheritAttrs:!1}),$G=re({...zG,props:Ii,setup(t,{expose:e}){const n=t,{selector:i}=z2(),r=Fe("tooltip"),a=W(null);let s;const{controlled:o,id:u,open:c,trigger:h,onClose:p,onOpen:v,onShow:g,onHide:y,onBeforeShow:_,onBeforeHide:w}=ct(lp,void 0),b=L(()=>n.transition||`${r.namespace.value}-fade-in-linear`),M=L(()=>n.persistent);xn(()=>{s==null||s()});const C=L(()=>d(M)?!0:d(c)),x=L(()=>n.disabled?!1:d(c)),T=L(()=>n.appendTo||i.value),k=L(()=>{var B;return(B=n.style)!=null?B:{}}),R=W(!0),D=()=>{y(),R.value=!0},U=()=>{if(d(o))return!0},P=qn(U,()=>{n.enterable&&d(h)==="hover"&&v()}),N=qn(U,()=>{d(h)==="hover"&&p()}),$=()=>{var B,X;(X=(B=a.value)==null?void 0:B.updatePopper)==null||X.call(B),_==null||_()},Q=()=>{w==null||w()},Y=()=>{g(),s=i0(L(()=>{var B;return(B=a.value)==null?void 0:B.popperContentRef}),()=>{if(d(o))return;d(h)!=="hover"&&p()})},H=()=>{n.virtualTriggering||p()};return Le(()=>d(c),B=>{B?R.value=!1:s==null||s()},{flush:"post"}),Le(()=>n.content,()=>{var B,X;(X=(B=a.value)==null?void 0:B.updatePopper)==null||X.call(B)}),e({contentRef:a}),(B,X)=>(I(),we(d(Ju),{disabled:!B.teleported,to:d(T)},{default:ne(()=>[J(ui,{name:d(b),onAfterLeave:D,onBeforeEnter:$,onAfterEnter:Y,onBeforeLeave:Q},{default:ne(()=>[d(C)?Bt((I(),we(d(AG),Ht({key:0,id:d(u),ref_key:"contentRef",ref:a},B.$attrs,{"aria-label":B.ariaLabel,"aria-hidden":R.value,"boundaries-padding":B.boundariesPadding,"fallback-placements":B.fallbackPlacements,"gpu-acceleration":B.gpuAcceleration,offset:B.offset,placement:B.placement,"popper-options":B.popperOptions,strategy:B.strategy,effect:B.effect,enterable:B.enterable,pure:B.pure,"popper-class":B.popperClass,"popper-style":[B.popperStyle,d(k)],"reference-el":B.referenceEl,"trigger-target-el":B.triggerTargetEl,visible:d(x),"z-index":B.zIndex,onMouseenter:d(P),onMouseleave:d(N),onBlur:H,onClose:d(p)}),{default:ne(()=>[oe(B.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[sn,d(x)]]):he("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var HG=We($G,[["__file","content.vue"]]);const GG=re({name:"ElTooltip"}),WG=re({...GG,props:RG,emits:LG,setup(t,{expose:e,emit:n}){const i=t;yz();const r=Bi(),a=W(),s=W(),o=()=>{var b;const M=d(a);M&&((b=M.popperInstanceRef)==null||b.update())},u=W(!1),c=W(),{show:h,hide:p,hasUpdateHandler:v}=PG({indicator:u,toggleReason:c}),{onOpen:g,onClose:y}=bz({showAfter:vn(i,"showAfter"),hideAfter:vn(i,"hideAfter"),autoClose:vn(i,"autoClose"),open:h,close:p}),_=L(()=>$n(i.visible)&&!v.value);Zt(lp,{controlled:_,id:r,open:Wu(u),trigger:vn(i,"trigger"),onOpen:b=>{g(b)},onClose:b=>{y(b)},onToggle:b=>{d(u)?y(b):g(b)},onShow:()=>{n("show",c.value)},onHide:()=>{n("hide",c.value)},onBeforeShow:()=>{n("before-show",c.value)},onBeforeHide:()=>{n("before-hide",c.value)},updatePopper:o}),Le(()=>i.disabled,b=>{b&&u.value&&(u.value=!1)});const w=b=>{var M,C;const x=(C=(M=s.value)==null?void 0:M.contentRef)==null?void 0:C.popperContentRef,T=(b==null?void 0:b.relatedTarget)||document.activeElement;return x&&x.contains(T)};return mI(()=>u.value&&p()),e({popperRef:a,contentRef:s,isFocusInsideContent:w,updatePopper:o,onOpen:g,onClose:y,hide:p}),(b,M)=>(I(),we(d(yx),{ref_key:"popperRef",ref:a,role:b.role},{default:ne(()=>[J(FG,{disabled:b.disabled,trigger:b.trigger,"trigger-keys":b.triggerKeys,"virtual-ref":b.virtualRef,"virtual-triggering":b.virtualTriggering},{default:ne(()=>[b.$slots.default?oe(b.$slots,"default",{key:0}):he("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),J(HG,{ref_key:"contentRef",ref:s,"aria-label":b.ariaLabel,"boundaries-padding":b.boundariesPadding,content:b.content,disabled:b.disabled,effect:b.effect,enterable:b.enterable,"fallback-placements":b.fallbackPlacements,"hide-after":b.hideAfter,"gpu-acceleration":b.gpuAcceleration,offset:b.offset,persistent:b.persistent,"popper-class":b.popperClass,"popper-style":b.popperStyle,placement:b.placement,"popper-options":b.popperOptions,pure:b.pure,"raw-content":b.rawContent,"reference-el":b.referenceEl,"trigger-target-el":b.triggerTargetEl,"show-after":b.showAfter,strategy:b.strategy,teleported:b.teleported,transition:b.transition,"virtual-triggering":b.virtualTriggering,"z-index":b.zIndex,"append-to":b.appendTo},{default:ne(()=>[oe(b.$slots,"content",{},()=>[b.rawContent?(I(),K("span",{key:0,innerHTML:b.content},null,8,["innerHTML"])):(I(),K("span",{key:1},Ne(b.content),1))]),b.showArrow?(I(),we(d(JH),{key:0,"arrow-offset":b.arrowOffset},null,8,["arrow-offset"])):he("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var KG=We(WG,[["__file","tooltip.vue"]]);const pi=Dt(KG),qG=Ge({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:_e(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:_e([Function,Array]),default:Kn},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},teleported:Ii.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String,...Ui(["ariaLabel"])}),YG={[Wt]:t=>Gt(t),[pr]:t=>Gt(t),[Rn]:t=>Gt(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,select:t=>bn(t)},_x="ElAutocomplete",jG=re({name:_x,inheritAttrs:!1}),XG=re({...jG,props:qG,emits:YG,setup(t,{expose:e,emit:n}){const i=t,r=k0(),a=_l(),s=ir(),o=Fe("autocomplete"),u=W(),c=W(),h=W(),p=W();let v=!1,g=!1;const y=W([]),_=W(-1),w=W(""),b=W(!1),M=W(!1),C=W(!1),x=Bi(),T=L(()=>a.style),k=L(()=>(y.value.length>0||C.value)&&b.value),R=L(()=>!i.hideLoading&&C.value),D=L(()=>u.value?Array.from(u.value.$el.querySelectorAll("input")):[]),U=()=>{k.value&&(w.value=`${u.value.$el.offsetWidth}px`)},P=()=>{_.value=-1},N=async pe=>{if(M.value)return;const ue=Me=>{C.value=!1,!M.value&&(Nt(Me)?(y.value=Me,_.value=i.highlightFirstItem?0:-1):vi(_x,"autocomplete suggestions must be an array"))};if(C.value=!0,Nt(i.fetchSuggestions))ue(i.fetchSuggestions);else{const Me=await i.fetchSuggestions(pe,ue);Nt(Me)&&ue(Me)}},$=Rr(N,i.debounce),Q=pe=>{const ue=!!pe;if(n(pr,pe),n(Wt,pe),M.value=!1,b.value||(b.value=ue),!i.triggerOnFocus&&!pe){M.value=!0,y.value=[];return}$(pe)},Y=pe=>{var ue;s.value||(((ue=pe.target)==null?void 0:ue.tagName)!=="INPUT"||D.value.includes(document.activeElement))&&(b.value=!0)},H=pe=>{n(Rn,pe)},B=pe=>{g?g=!1:(b.value=!0,n("focus",pe),i.triggerOnFocus&&!v&&$(String(i.modelValue)))},X=pe=>{setTimeout(()=>{var ue;if((ue=h.value)!=null&&ue.isFocusInsideContent()){g=!0;return}b.value&&ee(),n("blur",pe)})},q=()=>{b.value=!1,n(Wt,""),n("clear")},O=async()=>{k.value&&_.value>=0&&_.value<y.value.length?le(y.value[_.value]):i.selectWhenUnmatched&&(n("select",{value:i.modelValue}),y.value=[],_.value=-1)},V=pe=>{k.value&&(pe.preventDefault(),pe.stopPropagation(),ee())},ee=()=>{b.value=!1},ce=()=>{var pe;(pe=u.value)==null||pe.focus()},se=()=>{var pe;(pe=u.value)==null||pe.blur()},le=async pe=>{n(pr,pe[i.valueKey]),n(Wt,pe[i.valueKey]),n("select",pe),y.value=[],_.value=-1},ye=pe=>{if(!k.value||C.value)return;if(pe<0){_.value=-1;return}pe>=y.value.length&&(pe=y.value.length-1);const ue=c.value.querySelector(`.${o.be("suggestion","wrap")}`),De=ue.querySelectorAll(`.${o.be("suggestion","list")} li`)[pe],xe=ue.scrollTop,{offsetTop:G,scrollHeight:He}=De;G+He>xe+ue.clientHeight&&(ue.scrollTop+=He),G<xe&&(ue.scrollTop-=He),_.value=pe,u.value.ref.setAttribute("aria-activedescendant",`${x.value}-item-${_.value}`)},Ce=i0(p,()=>{k.value&&ee()});return xn(()=>{Ce==null||Ce()}),wt(()=>{u.value.ref.setAttribute("role","textbox"),u.value.ref.setAttribute("aria-autocomplete","list"),u.value.ref.setAttribute("aria-controls","id"),u.value.ref.setAttribute("aria-activedescendant",`${x.value}-item-${_.value}`),v=u.value.ref.hasAttribute("readonly")}),e({highlightedIndex:_,activated:b,loading:C,inputRef:u,popperRef:h,suggestions:y,handleSelect:le,handleKeyEnter:O,focus:ce,blur:se,close:ee,highlight:ye,getData:N}),(pe,ue)=>(I(),we(d(pi),{ref_key:"popperRef",ref:h,visible:d(k),placement:pe.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[d(o).e("popper"),pe.popperClass],teleported:pe.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${d(o).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:U,onHide:P},{content:ne(()=>[Z("div",{ref_key:"regionRef",ref:c,class:z([d(o).b("suggestion"),d(o).is("loading",d(R))]),style:_t({[pe.fitInputWidth?"width":"minWidth"]:w.value,outline:"none"}),role:"region"},[J(d(as),{id:d(x),tag:"ul","wrap-class":d(o).be("suggestion","wrap"),"view-class":d(o).be("suggestion","list"),role:"listbox"},{default:ne(()=>[d(R)?(I(),K("li",{key:0},[oe(pe.$slots,"loading",{},()=>[J(d(dt),{class:z(d(o).is("loading"))},{default:ne(()=>[J(d(Za))]),_:1},8,["class"])])])):(I(!0),K(ut,{key:1},Ut(y.value,(Me,De)=>(I(),K("li",{id:`${d(x)}-item-${De}`,key:De,class:z({highlighted:_.value===De}),role:"option","aria-selected":_.value===De,onClick:xe=>le(Me)},[oe(pe.$slots,"default",{item:Me},()=>[mt(Ne(Me[pe.valueKey]),1)])],10,["id","aria-selected","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:ne(()=>[Z("div",{ref_key:"listboxRef",ref:p,class:z([d(o).b(),pe.$attrs.class]),style:_t(d(T)),role:"combobox","aria-haspopup":"listbox","aria-expanded":d(k),"aria-owns":d(x)},[J(d(Qi),Ht({ref_key:"inputRef",ref:u},d(r),{clearable:pe.clearable,disabled:d(s),name:pe.name,"model-value":pe.modelValue,"aria-label":pe.ariaLabel,onInput:Q,onChange:H,onFocus:B,onBlur:X,onClear:q,onKeydown:[mn(xt(Me=>ye(_.value-1),["prevent"]),["up"]),mn(xt(Me=>ye(_.value+1),["prevent"]),["down"]),mn(O,["enter"]),mn(ee,["tab"]),mn(V,["esc"])],onMousedown:Y}),oa({_:2},[pe.$slots.prepend?{name:"prepend",fn:ne(()=>[oe(pe.$slots,"prepend")])}:void 0,pe.$slots.append?{name:"append",fn:ne(()=>[oe(pe.$slots,"append")])}:void 0,pe.$slots.prefix?{name:"prefix",fn:ne(()=>[oe(pe.$slots,"prefix")])}:void 0,pe.$slots.suffix?{name:"suffix",fn:ne(()=>[oe(pe.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","aria-label","onKeydown"])],14,["aria-expanded","aria-owns"])]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var ZG=We(XG,[["__file","autocomplete.vue"]]);const QG=Dt(ZG),JG=Ge({size:{type:[Number,String],values:is,default:"",validator:t=>kt(t)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:wn},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:_e(String),default:"cover"}}),e9={error:t=>t instanceof Event},t9=re({name:"ElAvatar"}),n9=re({...t9,props:JG,emits:e9,setup(t,{emit:e}){const n=t,i=Fe("avatar"),r=W(!1),a=L(()=>{const{size:c,icon:h,shape:p}=n,v=[i.b()];return Gt(c)&&v.push(i.m(c)),h&&v.push(i.m("icon")),p&&v.push(i.m(p)),v}),s=L(()=>{const{size:c}=n;return kt(c)?i.cssVarBlock({size:Xn(c)||""}):void 0}),o=L(()=>({objectFit:n.fit}));Le(()=>n.src,()=>r.value=!1);function u(c){r.value=!0,e("error",c)}return(c,h)=>(I(),K("span",{class:z(d(a)),style:_t(d(s))},[(c.src||c.srcSet)&&!r.value?(I(),K("img",{key:0,src:c.src,alt:c.alt,srcset:c.srcSet,style:_t(d(o)),onError:u},null,44,["src","alt","srcset"])):c.icon?(I(),we(d(dt),{key:1},{default:ne(()=>[(I(),we(Vt(c.icon)))]),_:1})):oe(c.$slots,"default",{key:2})],6))}});var i9=We(n9,[["__file","avatar.vue"]]);const r9=Dt(i9),a9={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},s9={click:t=>t instanceof MouseEvent},o9=(t,e,n)=>{const i=Mn(),r=Mn(),a=W(!1),s=()=>{i.value&&(a.value=i.value.scrollTop>=t.visibilityHeight)},o=c=>{var h;(h=i.value)==null||h.scrollTo({top:0,behavior:"smooth"}),e("click",c)},u=dE(s,300,!0);return yn(r,"scroll",u),wt(()=>{var c;r.value=document,i.value=document.documentElement,t.target&&(i.value=(c=document.querySelector(t.target))!=null?c:void 0,i.value||vi(n,`target does not exist: ${t.target}`),r.value=i.value),s()}),{visible:a,handleClick:o}},bx="ElBacktop",l9=re({name:bx}),u9=re({...l9,props:a9,emits:s9,setup(t,{emit:e}){const n=t,i=Fe("backtop"),{handleClick:r,visible:a}=o9(n,e,bx),s=L(()=>({right:`${n.right}px`,bottom:`${n.bottom}px`}));return(o,u)=>(I(),we(ui,{name:`${d(i).namespace.value}-fade-in`},{default:ne(()=>[d(a)?(I(),K("div",{key:0,style:_t(d(s)),class:z(d(i).b()),onClick:xt(d(r),["stop"])},[oe(o.$slots,"default",{},()=>[J(d(dt),{class:z(d(i).e("icon"))},{default:ne(()=>[J(d(iE))]),_:1},8,["class"])])],14,["onClick"])):he("v-if",!0)]),_:3},8,["name"]))}});var c9=We(u9,[["__file","backtop.vue"]]);const d9=Dt(c9),f9=Ge({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:_e([String,Object,Array])},offset:{type:_e(Array),default:[0,0]},badgeClass:{type:String}}),h9=re({name:"ElBadge"}),p9=re({...h9,props:f9,setup(t,{expose:e}){const n=t,i=Fe("badge"),r=L(()=>n.isDot?"":kt(n.value)&&kt(n.max)?n.max<n.value?`${n.max}+`:n.value===0&&!n.showZero?"":`${n.value}`:`${n.value}`),a=L(()=>{var s,o,u,c,h;return[{backgroundColor:n.color,marginRight:Xn(-((o=(s=n.offset)==null?void 0:s[0])!=null?o:0)),marginTop:Xn((c=(u=n.offset)==null?void 0:u[1])!=null?c:0)},(h=n.badgeStyle)!=null?h:{}]});return e({content:r}),(s,o)=>(I(),K("div",{class:z(d(i).b())},[oe(s.$slots,"default"),J(ui,{name:`${d(i).namespace.value}-zoom-in-center`,persisted:""},{default:ne(()=>[Bt(Z("sup",{class:z([d(i).e("content"),d(i).em("content",s.type),d(i).is("fixed",!!s.$slots.default),d(i).is("dot",s.isDot),s.badgeClass]),style:_t(d(a)),textContent:Ne(d(r))},null,14,["textContent"]),[[sn,!s.hidden&&(d(r)||s.isDot)]])]),_:1},8,["name"])],2))}});var m9=We(p9,[["__file","badge.vue"]]);const wx=Dt(m9),Sx=Symbol("breadcrumbKey"),v9=Ge({separator:{type:String,default:"/"},separatorIcon:{type:wn}}),g9=re({name:"ElBreadcrumb"}),y9=re({...g9,props:v9,setup(t){const e=t,{t:n}=nn(),i=Fe("breadcrumb"),r=W();return Zt(Sx,e),wt(()=>{const a=r.value.querySelectorAll(`.${i.e("item")}`);a.length&&a[a.length-1].setAttribute("aria-current","page")}),(a,s)=>(I(),K("div",{ref_key:"breadcrumb",ref:r,class:z(d(i).b()),"aria-label":d(n)("el.breadcrumb.label"),role:"navigation"},[oe(a.$slots,"default")],10,["aria-label"]))}});var _9=We(y9,[["__file","breadcrumb.vue"]]);const b9=Ge({to:{type:_e([String,Object]),default:""},replace:Boolean}),w9=re({name:"ElBreadcrumbItem"}),S9=re({...w9,props:b9,setup(t){const e=t,n=qt(),i=ct(Sx,void 0),r=Fe("breadcrumb"),a=n.appContext.config.globalProperties.$router,s=W(),o=()=>{!e.to||!a||(e.replace?a.replace(e.to):a.push(e.to))};return(u,c)=>{var h,p;return I(),K("span",{class:z(d(r).e("item"))},[Z("span",{ref_key:"link",ref:s,class:z([d(r).e("inner"),d(r).is("link",!!u.to)]),role:"link",onClick:o},[oe(u.$slots,"default")],2),(h=d(i))!=null&&h.separatorIcon?(I(),we(d(dt),{key:0,class:z(d(r).e("separator"))},{default:ne(()=>[(I(),we(Vt(d(i).separatorIcon)))]),_:1},8,["class"])):(I(),K("span",{key:1,class:z(d(r).e("separator")),role:"presentation"},Ne((p=d(i))==null?void 0:p.separator),3))],2)}}});var Cx=We(S9,[["__file","breadcrumb-item.vue"]]);const C9=Dt(_9,{BreadcrumbItem:Cx}),E9=Bn(Cx),Ex=Symbol("buttonGroupContextKey"),x9=(t,e)=>{Js({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},L(()=>t.type==="text"));const n=ct(Ex,void 0),i=ap("button"),{form:r}=rr(),a=fi(L(()=>n==null?void 0:n.size)),s=ir(),o=W(),u=bi(),c=L(()=>t.type||(n==null?void 0:n.type)||""),h=L(()=>{var y,_,w;return(w=(_=t.autoInsertSpace)!=null?_:(y=i.value)==null?void 0:y.autoInsertSpace)!=null?w:!1}),p=L(()=>t.tag==="button"?{ariaDisabled:s.value||t.loading,disabled:s.value||t.loading,autofocus:t.autofocus,type:t.nativeType}:{}),v=L(()=>{var y;const _=(y=u.default)==null?void 0:y.call(u);if(h.value&&(_==null?void 0:_.length)===1){const w=_[0];if((w==null?void 0:w.type)===UC){const b=w.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(b.trim())}}return!1});return{_disabled:s,_size:a,_type:c,_ref:o,_props:p,shouldAddSpace:v,handleClick:y=>{if(s.value||t.loading){y.stopPropagation();return}t.nativeType==="reset"&&(r==null||r.resetFields()),e("click",y)}}},kv=["default","primary","success","warning","info","danger","text",""],M9=["button","submit","reset"],Iv=Ge({size:gi,disabled:Boolean,type:{type:String,values:kv,default:""},icon:{type:wn},nativeType:{type:String,values:M9,default:"button"},loading:Boolean,loadingIcon:{type:wn,default:()=>Za},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:_e([String,Object]),default:"button"}}),T9={click:t=>t instanceof MouseEvent};function $i(t,e){A9(t)&&(t="100%");var n=k9(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function Zd(t){return Math.min(1,Math.max(0,t))}function A9(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function k9(t){return typeof t=="string"&&t.indexOf("%")!==-1}function xx(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Qd(t){return t<=1?"".concat(Number(t)*100,"%"):t}function Wo(t){return t.length===1?"0"+t:String(t)}function I9(t,e,n){return{r:$i(t,255)*255,g:$i(e,255)*255,b:$i(n,255)*255}}function d1(t,e,n){t=$i(t,255),e=$i(e,255),n=$i(n,255);var i=Math.max(t,e,n),r=Math.min(t,e,n),a=0,s=0,o=(i+r)/2;if(i===r)s=0,a=0;else{var u=i-r;switch(s=o>.5?u/(2-i-r):u/(i+r),i){case t:a=(e-n)/u+(e<n?6:0);break;case e:a=(n-t)/u+2;break;case n:a=(t-e)/u+4;break}a/=6}return{h:a,s,l:o}}function jp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function P9(t,e,n){var i,r,a;if(t=$i(t,360),e=$i(e,100),n=$i(n,100),e===0)r=n,a=n,i=n;else{var s=n<.5?n*(1+e):n+e-n*e,o=2*n-s;i=jp(o,s,t+1/3),r=jp(o,s,t),a=jp(o,s,t-1/3)}return{r:i*255,g:r*255,b:a*255}}function f1(t,e,n){t=$i(t,255),e=$i(e,255),n=$i(n,255);var i=Math.max(t,e,n),r=Math.min(t,e,n),a=0,s=i,o=i-r,u=i===0?0:o/i;if(i===r)a=0;else{switch(i){case t:a=(e-n)/o+(e<n?6:0);break;case e:a=(n-t)/o+2;break;case n:a=(t-e)/o+4;break}a/=6}return{h:a,s:u,v:s}}function R9(t,e,n){t=$i(t,360)*6,e=$i(e,100),n=$i(n,100);var i=Math.floor(t),r=t-i,a=n*(1-e),s=n*(1-r*e),o=n*(1-(1-r)*e),u=i%6,c=[n,s,a,a,o,n][u],h=[o,n,n,s,a,a][u],p=[a,a,o,n,n,s][u];return{r:c*255,g:h*255,b:p*255}}function h1(t,e,n,i){var r=[Wo(Math.round(t).toString(16)),Wo(Math.round(e).toString(16)),Wo(Math.round(n).toString(16))];return i&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function L9(t,e,n,i,r){var a=[Wo(Math.round(t).toString(16)),Wo(Math.round(e).toString(16)),Wo(Math.round(n).toString(16)),Wo(N9(i))];return r&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function N9(t){return Math.round(parseFloat(t)*255).toString(16)}function p1(t){return Vr(t)/255}function Vr(t){return parseInt(t,16)}function O9(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var Pv={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function D9(t){var e={r:0,g:0,b:0},n=1,i=null,r=null,a=null,s=!1,o=!1;return typeof t=="string"&&(t=U9(t)),typeof t=="object"&&(fs(t.r)&&fs(t.g)&&fs(t.b)?(e=I9(t.r,t.g,t.b),s=!0,o=String(t.r).substr(-1)==="%"?"prgb":"rgb"):fs(t.h)&&fs(t.s)&&fs(t.v)?(i=Qd(t.s),r=Qd(t.v),e=R9(t.h,i,r),s=!0,o="hsv"):fs(t.h)&&fs(t.s)&&fs(t.l)&&(i=Qd(t.s),a=Qd(t.l),e=P9(t.h,i,a),s=!0,o="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=xx(n),{ok:s,format:t.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var F9="[-\\+]?\\d+%?",B9="[-\\+]?\\d*\\.\\d+%?",Ys="(?:".concat(B9,")|(?:").concat(F9,")"),Xp="[\\s|\\(]+(".concat(Ys,")[,|\\s]+(").concat(Ys,")[,|\\s]+(").concat(Ys,")\\s*\\)?"),Zp="[\\s|\\(]+(".concat(Ys,")[,|\\s]+(").concat(Ys,")[,|\\s]+(").concat(Ys,")[,|\\s]+(").concat(Ys,")\\s*\\)?"),wa={CSS_UNIT:new RegExp(Ys),rgb:new RegExp("rgb"+Xp),rgba:new RegExp("rgba"+Zp),hsl:new RegExp("hsl"+Xp),hsla:new RegExp("hsla"+Zp),hsv:new RegExp("hsv"+Xp),hsva:new RegExp("hsva"+Zp),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function U9(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(Pv[t])t=Pv[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=wa.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=wa.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=wa.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=wa.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=wa.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=wa.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=wa.hex8.exec(t),n?{r:Vr(n[1]),g:Vr(n[2]),b:Vr(n[3]),a:p1(n[4]),format:e?"name":"hex8"}:(n=wa.hex6.exec(t),n?{r:Vr(n[1]),g:Vr(n[2]),b:Vr(n[3]),format:e?"name":"hex"}:(n=wa.hex4.exec(t),n?{r:Vr(n[1]+n[1]),g:Vr(n[2]+n[2]),b:Vr(n[3]+n[3]),a:p1(n[4]+n[4]),format:e?"name":"hex8"}:(n=wa.hex3.exec(t),n?{r:Vr(n[1]+n[1]),g:Vr(n[2]+n[2]),b:Vr(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function fs(t){return!!wa.CSS_UNIT.exec(String(t))}var Mx=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var i;if(e instanceof t)return e;typeof e=="number"&&(e=O9(e)),this.originalInput=e;var r=D9(e);this.originalInput=e,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=(i=n.format)!==null&&i!==void 0?i:r.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,i,r,a=e.r/255,s=e.g/255,o=e.b/255;return a<=.03928?n=a/12.92:n=Math.pow((a+.055)/1.055,2.4),s<=.03928?i=s/12.92:i=Math.pow((s+.055)/1.055,2.4),o<=.03928?r=o/12.92:r=Math.pow((o+.055)/1.055,2.4),.2126*n+.7152*i+.0722*r},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=xx(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=f1(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=f1(this.r,this.g,this.b),n=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(i,"%, ").concat(r,"%)"):"hsva(".concat(n,", ").concat(i,"%, ").concat(r,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=d1(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=d1(this.r,this.g,this.b),n=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(i,"%, ").concat(r,"%)"):"hsla(".concat(n,", ").concat(i,"%, ").concat(r,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),h1(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),L9(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),i=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(i,")"):"rgba(".concat(e,", ").concat(n,", ").concat(i,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round($i(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round($i(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+h1(this.r,this.g,this.b,!1),n=0,i=Object.entries(Pv);n<i.length;n++){var r=i[n],a=r[0],s=r[1];if(e===s)return a}return!1},t.prototype.toString=function(e){var n=!!e;e=e??this.format;var i=!1,r=this.a<1&&this.a>=0,a=!n&&r&&(e.startsWith("hex")||e==="name");return a?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=Zd(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=Zd(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=Zd(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=Zd(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),i=(n.h+e)%360;return n.h=i<0?360+i:i,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var i=this.toRgb(),r=new t(e).toRgb(),a=n/100,s={r:(r.r-i.r)*a+i.r,g:(r.g-i.g)*a+i.g,b:(r.b-i.b)*a+i.b,a:(r.a-i.a)*a+i.a};return new t(s)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var i=this.toHsl(),r=360/n,a=[this];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,a.push(new t(i));return a},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),i=n.h,r=n.s,a=n.v,s=[],o=1/e;e--;)s.push(new t({h:i,s:r,v:a})),a=(a+o)%1;return s},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),i=new t(e).toRgb(),r=n.a+i.a*(1-n.a);return new t({r:(n.r*n.a+i.r*i.a*(1-n.a))/r,g:(n.g*n.a+i.g*i.a*(1-n.a))/r,b:(n.b*n.a+i.b*i.a*(1-n.a))/r,a:r})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),i=n.h,r=[this],a=360/e,s=1;s<e;s++)r.push(new t({h:(i+s*a)%360,s:n.s,l:n.l}));return r},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();function Ds(t,e=20){return t.mix("#141414",e).toString()}function V9(t){const e=ir(),n=Fe("button");return L(()=>{let i={},r=t.color;if(r){const a=r.match(/var\((.*?)\)/);a&&(r=window.getComputedStyle(window.document.documentElement).getPropertyValue(a[1]));const s=new Mx(r),o=t.dark?s.tint(20).toString():Ds(s,20);if(t.plain)i=n.cssVarBlock({"bg-color":t.dark?Ds(s,90):s.tint(90).toString(),"text-color":r,"border-color":t.dark?Ds(s,50):s.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":r,"hover-border-color":r,"active-bg-color":o,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":o}),e.value&&(i[n.cssVarBlockName("disabled-bg-color")]=t.dark?Ds(s,90):s.tint(90).toString(),i[n.cssVarBlockName("disabled-text-color")]=t.dark?Ds(s,50):s.tint(50).toString(),i[n.cssVarBlockName("disabled-border-color")]=t.dark?Ds(s,80):s.tint(80).toString());else{const u=t.dark?Ds(s,30):s.tint(30).toString(),c=s.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(i=n.cssVarBlock({"bg-color":r,"text-color":c,"border-color":r,"hover-bg-color":u,"hover-text-color":c,"hover-border-color":u,"active-bg-color":o,"active-border-color":o}),e.value){const h=t.dark?Ds(s,50):s.tint(50).toString();i[n.cssVarBlockName("disabled-bg-color")]=h,i[n.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,i[n.cssVarBlockName("disabled-border-color")]=h}}}return i})}const z9=re({name:"ElButton"}),$9=re({...z9,props:Iv,emits:T9,setup(t,{expose:e,emit:n}){const i=t,r=V9(i),a=Fe("button"),{_ref:s,_size:o,_type:u,_disabled:c,_props:h,shouldAddSpace:p,handleClick:v}=x9(i,n),g=L(()=>[a.b(),a.m(u.value),a.m(o.value),a.is("disabled",c.value),a.is("loading",i.loading),a.is("plain",i.plain),a.is("round",i.round),a.is("circle",i.circle),a.is("text",i.text),a.is("link",i.link),a.is("has-bg",i.bg)]);return e({ref:s,size:o,type:u,disabled:c,shouldAddSpace:p}),(y,_)=>(I(),we(Vt(y.tag),Ht({ref_key:"_ref",ref:s},d(h),{class:d(g),style:d(r),onClick:d(v)}),{default:ne(()=>[y.loading?(I(),K(ut,{key:0},[y.$slots.loading?oe(y.$slots,"loading",{key:0}):(I(),we(d(dt),{key:1,class:z(d(a).is("loading"))},{default:ne(()=>[(I(),we(Vt(y.loadingIcon)))]),_:1},8,["class"]))],64)):y.icon||y.$slots.icon?(I(),we(d(dt),{key:1},{default:ne(()=>[y.icon?(I(),we(Vt(y.icon),{key:0})):oe(y.$slots,"icon",{key:1})]),_:3})):he("v-if",!0),y.$slots.default?(I(),K("span",{key:2,class:z({[d(a).em("text","expand")]:d(p)})},[oe(y.$slots,"default")],2)):he("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var H9=We($9,[["__file","button.vue"]]);const G9={size:Iv.size,type:Iv.type},W9=re({name:"ElButtonGroup"}),K9=re({...W9,props:G9,setup(t){const e=t;Zt(Ex,jt({size:vn(e,"size"),type:vn(e,"type")}));const n=Fe("button");return(i,r)=>(I(),K("div",{class:z(d(n).b("group"))},[oe(i.$slots,"default")],2))}});var Tx=We(K9,[["__file","button-group.vue"]]);const Pi=Dt(H9,{ButtonGroup:Tx}),Ax=Bn(Tx);var Mr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ua(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kx={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Mr,function(){var n=1e3,i=6e4,r=36e5,a="millisecond",s="second",o="minute",u="hour",c="day",h="week",p="month",v="quarter",g="year",y="date",_="Invalid Date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Y){var H=["th","st","nd","rd"],B=Y%100;return"["+Y+(H[(B-20)%10]||H[B]||H[0])+"]"}},C=function(Y,H,B){var X=String(Y);return!X||X.length>=H?Y:""+Array(H+1-X.length).join(B)+Y},x={s:C,z:function(Y){var H=-Y.utcOffset(),B=Math.abs(H),X=Math.floor(B/60),q=B%60;return(H<=0?"+":"-")+C(X,2,"0")+":"+C(q,2,"0")},m:function Y(H,B){if(H.date()<B.date())return-Y(B,H);var X=12*(B.year()-H.year())+(B.month()-H.month()),q=H.clone().add(X,p),O=B-q<0,V=H.clone().add(X+(O?-1:1),p);return+(-(X+(B-q)/(O?q-V:V-q))||0)},a:function(Y){return Y<0?Math.ceil(Y)||0:Math.floor(Y)},p:function(Y){return{M:p,y:g,w:h,d:c,D:y,h:u,m:o,s,ms:a,Q:v}[Y]||String(Y||"").toLowerCase().replace(/s$/,"")},u:function(Y){return Y===void 0}},T="en",k={};k[T]=M;var R="$isDayjsObject",D=function(Y){return Y instanceof $||!(!Y||!Y[R])},U=function Y(H,B,X){var q;if(!H)return T;if(typeof H=="string"){var O=H.toLowerCase();k[O]&&(q=O),B&&(k[O]=B,q=O);var V=H.split("-");if(!q&&V.length>1)return Y(V[0])}else{var ee=H.name;k[ee]=H,q=ee}return!X&&q&&(T=q),q||!X&&T},P=function(Y,H){if(D(Y))return Y.clone();var B=typeof H=="object"?H:{};return B.date=Y,B.args=arguments,new $(B)},N=x;N.l=U,N.i=D,N.w=function(Y,H){return P(Y,{locale:H.$L,utc:H.$u,x:H.$x,$offset:H.$offset})};var $=function(){function Y(B){this.$L=U(B.locale,null,!0),this.parse(B),this.$x=this.$x||B.x||{},this[R]=!0}var H=Y.prototype;return H.parse=function(B){this.$d=function(X){var q=X.date,O=X.utc;if(q===null)return new Date(NaN);if(N.u(q))return new Date;if(q instanceof Date)return new Date(q);if(typeof q=="string"&&!/Z$/i.test(q)){var V=q.match(w);if(V){var ee=V[2]-1||0,ce=(V[7]||"0").substring(0,3);return O?new Date(Date.UTC(V[1],ee,V[3]||1,V[4]||0,V[5]||0,V[6]||0,ce)):new Date(V[1],ee,V[3]||1,V[4]||0,V[5]||0,V[6]||0,ce)}}return new Date(q)}(B),this.init()},H.init=function(){var B=this.$d;this.$y=B.getFullYear(),this.$M=B.getMonth(),this.$D=B.getDate(),this.$W=B.getDay(),this.$H=B.getHours(),this.$m=B.getMinutes(),this.$s=B.getSeconds(),this.$ms=B.getMilliseconds()},H.$utils=function(){return N},H.isValid=function(){return this.$d.toString()!==_},H.isSame=function(B,X){var q=P(B);return this.startOf(X)<=q&&q<=this.endOf(X)},H.isAfter=function(B,X){return P(B)<this.startOf(X)},H.isBefore=function(B,X){return this.endOf(X)<P(B)},H.$g=function(B,X,q){return N.u(B)?this[X]:this.set(q,B)},H.unix=function(){return Math.floor(this.valueOf()/1e3)},H.valueOf=function(){return this.$d.getTime()},H.startOf=function(B,X){var q=this,O=!!N.u(X)||X,V=N.p(B),ee=function(Me,De){var xe=N.w(q.$u?Date.UTC(q.$y,De,Me):new Date(q.$y,De,Me),q);return O?xe:xe.endOf(c)},ce=function(Me,De){return N.w(q.toDate()[Me].apply(q.toDate("s"),(O?[0,0,0,0]:[23,59,59,999]).slice(De)),q)},se=this.$W,le=this.$M,ye=this.$D,Ce="set"+(this.$u?"UTC":"");switch(V){case g:return O?ee(1,0):ee(31,11);case p:return O?ee(1,le):ee(0,le+1);case h:var pe=this.$locale().weekStart||0,ue=(se<pe?se+7:se)-pe;return ee(O?ye-ue:ye+(6-ue),le);case c:case y:return ce(Ce+"Hours",0);case u:return ce(Ce+"Minutes",1);case o:return ce(Ce+"Seconds",2);case s:return ce(Ce+"Milliseconds",3);default:return this.clone()}},H.endOf=function(B){return this.startOf(B,!1)},H.$set=function(B,X){var q,O=N.p(B),V="set"+(this.$u?"UTC":""),ee=(q={},q[c]=V+"Date",q[y]=V+"Date",q[p]=V+"Month",q[g]=V+"FullYear",q[u]=V+"Hours",q[o]=V+"Minutes",q[s]=V+"Seconds",q[a]=V+"Milliseconds",q)[O],ce=O===c?this.$D+(X-this.$W):X;if(O===p||O===g){var se=this.clone().set(y,1);se.$d[ee](ce),se.init(),this.$d=se.set(y,Math.min(this.$D,se.daysInMonth())).$d}else ee&&this.$d[ee](ce);return this.init(),this},H.set=function(B,X){return this.clone().$set(B,X)},H.get=function(B){return this[N.p(B)]()},H.add=function(B,X){var q,O=this;B=Number(B);var V=N.p(X),ee=function(le){var ye=P(O);return N.w(ye.date(ye.date()+Math.round(le*B)),O)};if(V===p)return this.set(p,this.$M+B);if(V===g)return this.set(g,this.$y+B);if(V===c)return ee(1);if(V===h)return ee(7);var ce=(q={},q[o]=i,q[u]=r,q[s]=n,q)[V]||1,se=this.$d.getTime()+B*ce;return N.w(se,this)},H.subtract=function(B,X){return this.add(-1*B,X)},H.format=function(B){var X=this,q=this.$locale();if(!this.isValid())return q.invalidDate||_;var O=B||"YYYY-MM-DDTHH:mm:ssZ",V=N.z(this),ee=this.$H,ce=this.$m,se=this.$M,le=q.weekdays,ye=q.months,Ce=q.meridiem,pe=function(De,xe,G,He){return De&&(De[xe]||De(X,O))||G[xe].slice(0,He)},ue=function(De){return N.s(ee%12||12,De,"0")},Me=Ce||function(De,xe,G){var He=De<12?"AM":"PM";return G?He.toLowerCase():He};return O.replace(b,function(De,xe){return xe||function(G){switch(G){case"YY":return String(X.$y).slice(-2);case"YYYY":return N.s(X.$y,4,"0");case"M":return se+1;case"MM":return N.s(se+1,2,"0");case"MMM":return pe(q.monthsShort,se,ye,3);case"MMMM":return pe(ye,se);case"D":return X.$D;case"DD":return N.s(X.$D,2,"0");case"d":return String(X.$W);case"dd":return pe(q.weekdaysMin,X.$W,le,2);case"ddd":return pe(q.weekdaysShort,X.$W,le,3);case"dddd":return le[X.$W];case"H":return String(ee);case"HH":return N.s(ee,2,"0");case"h":return ue(1);case"hh":return ue(2);case"a":return Me(ee,ce,!0);case"A":return Me(ee,ce,!1);case"m":return String(ce);case"mm":return N.s(ce,2,"0");case"s":return String(X.$s);case"ss":return N.s(X.$s,2,"0");case"SSS":return N.s(X.$ms,3,"0");case"Z":return V}return null}(De)||V.replace(":","")})},H.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},H.diff=function(B,X,q){var O,V=this,ee=N.p(X),ce=P(B),se=(ce.utcOffset()-this.utcOffset())*i,le=this-ce,ye=function(){return N.m(V,ce)};switch(ee){case g:O=ye()/12;break;case p:O=ye();break;case v:O=ye()/3;break;case h:O=(le-se)/6048e5;break;case c:O=(le-se)/864e5;break;case u:O=le/r;break;case o:O=le/i;break;case s:O=le/n;break;default:O=le}return q?O:N.a(O)},H.daysInMonth=function(){return this.endOf(p).$D},H.$locale=function(){return k[this.$L]},H.locale=function(B,X){if(!B)return this.$L;var q=this.clone(),O=U(B,X,!0);return O&&(q.$L=O),q},H.clone=function(){return N.w(this.$d,this)},H.toDate=function(){return new Date(this.valueOf())},H.toJSON=function(){return this.isValid()?this.toISOString():null},H.toISOString=function(){return this.$d.toISOString()},H.toString=function(){return this.$d.toUTCString()},Y}(),Q=$.prototype;return P.prototype=Q,[["$ms",a],["$s",s],["$m",o],["$H",u],["$W",c],["$M",p],["$y",g],["$D",y]].forEach(function(Y){Q[Y[1]]=function(H){return this.$g(H,Y[0],Y[1])}}),P.extend=function(Y,H){return Y.$i||(Y(H,$,P),Y.$i=!0),P},P.locale=U,P.isDayjs=D,P.unix=function(Y){return P(1e3*Y)},P.en=k[T],P.Ls=k,P.p={},P})})(kx);var q9=kx.exports;const Lt=Ua(q9);var Ix={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Mr,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d/,a=/\d\d/,s=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,u={},c=function(w){return(w=+w)+(w>68?1900:2e3)},h=function(w){return function(b){this[w]=+b}},p=[/[+-]\d\d:?(\d\d)?|Z/,function(w){(this.zone||(this.zone={})).offset=function(b){if(!b||b==="Z")return 0;var M=b.match(/([+-]|\d\d)/g),C=60*M[1]+(+M[2]||0);return C===0?0:M[0]==="+"?-C:C}(w)}],v=function(w){var b=u[w];return b&&(b.indexOf?b:b.s.concat(b.f))},g=function(w,b){var M,C=u.meridiem;if(C){for(var x=1;x<=24;x+=1)if(w.indexOf(C(x,0,b))>-1){M=x>12;break}}else M=w===(b?"pm":"PM");return M},y={A:[o,function(w){this.afternoon=g(w,!1)}],a:[o,function(w){this.afternoon=g(w,!0)}],Q:[r,function(w){this.month=3*(w-1)+1}],S:[r,function(w){this.milliseconds=100*+w}],SS:[a,function(w){this.milliseconds=10*+w}],SSS:[/\d{3}/,function(w){this.milliseconds=+w}],s:[s,h("seconds")],ss:[s,h("seconds")],m:[s,h("minutes")],mm:[s,h("minutes")],H:[s,h("hours")],h:[s,h("hours")],HH:[s,h("hours")],hh:[s,h("hours")],D:[s,h("day")],DD:[a,h("day")],Do:[o,function(w){var b=u.ordinal,M=w.match(/\d+/);if(this.day=M[0],b)for(var C=1;C<=31;C+=1)b(C).replace(/\[|\]/g,"")===w&&(this.day=C)}],w:[s,h("week")],ww:[a,h("week")],M:[s,h("month")],MM:[a,h("month")],MMM:[o,function(w){var b=v("months"),M=(v("monthsShort")||b.map(function(C){return C.slice(0,3)})).indexOf(w)+1;if(M<1)throw new Error;this.month=M%12||M}],MMMM:[o,function(w){var b=v("months").indexOf(w)+1;if(b<1)throw new Error;this.month=b%12||b}],Y:[/[+-]?\d+/,h("year")],YY:[a,function(w){this.year=c(w)}],YYYY:[/\d{4}/,h("year")],Z:p,ZZ:p};function _(w){var b,M;b=w,M=u&&u.formats;for(var C=(w=b.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(P,N,$){var Q=$&&$.toUpperCase();return N||M[$]||n[$]||M[Q].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Y,H,B){return H||B.slice(1)})})).match(i),x=C.length,T=0;T<x;T+=1){var k=C[T],R=y[k],D=R&&R[0],U=R&&R[1];C[T]=U?{regex:D,parser:U}:k.replace(/^\[|\]$/g,"")}return function(P){for(var N={},$=0,Q=0;$<x;$+=1){var Y=C[$];if(typeof Y=="string")Q+=Y.length;else{var H=Y.regex,B=Y.parser,X=P.slice(Q),q=H.exec(X)[0];B.call(N,q),P=P.replace(q,"")}}return function(O){var V=O.afternoon;if(V!==void 0){var ee=O.hours;V?ee<12&&(O.hours+=12):ee===12&&(O.hours=0),delete O.afternoon}}(N),N}}return function(w,b,M){M.p.customParseFormat=!0,w&&w.parseTwoDigitYear&&(c=w.parseTwoDigitYear);var C=b.prototype,x=C.parse;C.parse=function(T){var k=T.date,R=T.utc,D=T.args;this.$u=R;var U=D[1];if(typeof U=="string"){var P=D[2]===!0,N=D[3]===!0,$=P||N,Q=D[2];N&&(Q=D[2]),u=this.$locale(),!P&&Q&&(u=M.Ls[Q]),this.$d=function(X,q,O,V){try{if(["x","X"].indexOf(q)>-1)return new Date((q==="X"?1e3:1)*X);var ee=_(q)(X),ce=ee.year,se=ee.month,le=ee.day,ye=ee.hours,Ce=ee.minutes,pe=ee.seconds,ue=ee.milliseconds,Me=ee.zone,De=ee.week,xe=new Date,G=le||(ce||se?1:xe.getDate()),He=ce||xe.getFullYear(),Qe=0;ce&&!se||(Qe=se>0?se-1:xe.getMonth());var at,rt=ye||0,it=Ce||0,qe=pe||0,te=ue||0;return Me?new Date(Date.UTC(He,Qe,G,rt,it,qe,te+60*Me.offset*1e3)):O?new Date(Date.UTC(He,Qe,G,rt,it,qe,te)):(at=new Date(He,Qe,G,rt,it,qe,te),De&&(at=V(at).week(De).toDate()),at)}catch{return new Date("")}}(k,U,R,M),this.init(),Q&&Q!==!0&&(this.$L=this.locale(Q).$L),$&&k!=this.format(U)&&(this.$d=new Date("")),u={}}else if(U instanceof Array)for(var Y=U.length,H=1;H<=Y;H+=1){D[1]=U[H-1];var B=M.apply(this,D);if(B.isValid()){this.$d=B.$d,this.$L=B.$L,this.init();break}H===Y&&(this.$d=new Date(""))}else x.call(this,T)}}})})(Ix);var Y9=Ix.exports;const ny=Ua(Y9),m1=["hours","minutes","seconds"],Rv="HH:mm:ss",tu="YYYY-MM-DD",j9={date:tu,dates:tu,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${tu} ${Rv}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:tu,datetimerange:`${tu} ${Rv}`},Qp=(t,e)=>[t>0?t-1:void 0,t,t<e?t+1:void 0],eo=t=>Array.from(Array.from({length:t}).keys()),Px=t=>t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),Rx=t=>t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),v1=function(t,e){const n=bu(t),i=bu(e);return n&&i?t.getTime()===e.getTime():!n&&!i?t===e:!1},g1=function(t,e){const n=Nt(t),i=Nt(e);return n&&i?t.length!==e.length?!1:t.every((r,a)=>v1(r,e[a])):!n&&!i?v1(t,e):!1},y1=function(t,e,n){const i=zr(e)||e==="x"?Lt(t).locale(n):Lt(t,e).locale(n);return i.isValid()?i:void 0},_1=function(t,e,n){return zr(e)?t:e==="x"?+t:Lt(t).locale(n).format(e)},Jp=(t,e)=>{var n;const i=[],r=e==null?void 0:e();for(let a=0;a<t;a++)i.push((n=r==null?void 0:r.includes(a))!=null?n:!1);return i},Lx=Ge({disabledHours:{type:_e(Function)},disabledMinutes:{type:_e(Function)},disabledSeconds:{type:_e(Function)}}),Nx=Ge({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),iy=Ge({id:{type:_e([Array,String])},name:{type:_e([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:_e([String,Object]),default:_o},editable:{type:Boolean,default:!0},prefixIcon:{type:_e([String,Object]),default:""},size:gi,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:_e(Object),default:()=>({})},modelValue:{type:_e([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:_e([Date,Array])},defaultTime:{type:_e([Date,Array])},isRange:Boolean,...Lx,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:_e([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:_e(String),values:Ls,default:"bottom"},fallbackPlacements:{type:_e(Array),default:["bottom","top","right","left"]},...Qu,...Ui(["ariaLabel"])}),X9=re({name:"Picker"}),Z9=re({...X9,props:iy,emits:["update:modelValue","change","focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(t,{expose:e,emit:n}){const i=t,r=_l(),{lang:a}=nn(),s=Fe("date"),o=Fe("input"),u=Fe("range"),{form:c,formItem:h}=rr(),p=ct("ElPopperOptions",{}),{valueOnClear:v}=rp(i,null),g=W(),y=W(),_=W(!1),w=W(!1),b=W(null);let M=!1,C=!1;const x=L(()=>[s.b("editor"),s.bm("editor",i.type),o.e("wrapper"),s.is("disabled",se.value),s.is("active",_.value),u.b("editor"),ae?u.bm("editor",ae.value):"",r.class]),T=L(()=>[o.e("icon"),u.e("close-icon"),G.value?"":u.e("close-icon--hidden")]);Le(_,Ee=>{Ee?yt(()=>{Ee&&(b.value=i.modelValue)}):(Ae.value=null,yt(()=>{k(i.modelValue)}))});const k=(Ee,st)=>{(st||!g1(Ee,b.value))&&(n("change",Ee),i.validateEvent&&(h==null||h.validate("change").catch(ve=>void 0)))},R=Ee=>{if(!g1(i.modelValue,Ee)){let st;Nt(Ee)?st=Ee.map(ve=>_1(ve,i.valueFormat,a.value)):Ee&&(st=_1(Ee,i.valueFormat,a.value)),n("update:modelValue",Ee&&st,a.value)}},D=Ee=>{n("keydown",Ee)},U=L(()=>{if(y.value){const Ee=te.value?y.value:y.value.$el;return Array.from(Ee.querySelectorAll("input"))}return[]}),P=(Ee,st,ve)=>{const et=U.value;et.length&&(!ve||ve==="min"?(et[0].setSelectionRange(Ee,st),et[0].focus()):ve==="max"&&(et[1].setSelectionRange(Ee,st),et[1].focus()))},N=()=>{O(!0,!0),yt(()=>{C=!1})},$=(Ee="",st=!1)=>{st||(C=!0),_.value=st;let ve;Nt(Ee)?ve=Ee.map(et=>et.toDate()):ve=Ee&&Ee.toDate(),Ae.value=null,R(ve)},Q=()=>{w.value=!0},Y=()=>{n("visible-change",!0)},H=Ee=>{(Ee==null?void 0:Ee.key)===St.esc&&O(!0,!0)},B=()=>{w.value=!1,_.value=!1,C=!1,n("visible-change",!1)},X=()=>{_.value=!0},q=()=>{_.value=!1},O=(Ee=!0,st=!1)=>{C=st;const[ve,et]=d(U);let lt=ve;!Ee&&te.value&&(lt=et),lt&&lt.focus()},V=Ee=>{i.readonly||se.value||_.value||C||(_.value=!0,n("focus",Ee))};let ee;const ce=Ee=>{const st=async()=>{setTimeout(()=>{var ve;ee===st&&(!((ve=g.value)!=null&&ve.isFocusInsideContent()&&!M)&&U.value.filter(et=>et.contains(document.activeElement)).length===0&&(Pe(),_.value=!1,n("blur",Ee),i.validateEvent&&(h==null||h.validate("blur").catch(et=>void 0))),M=!1)},0)};ee=st,st()},se=L(()=>i.disabled||(c==null?void 0:c.disabled)),le=L(()=>{let Ee;if(Qe.value?be.value.getDefaultValue&&(Ee=be.value.getDefaultValue()):Nt(i.modelValue)?Ee=i.modelValue.map(st=>y1(st,i.valueFormat,a.value)):Ee=y1(i.modelValue,i.valueFormat,a.value),be.value.getRangeAvailableTime){const st=be.value.getRangeAvailableTime(Ee);er(st,Ee)||(Ee=st,Qe.value||R(Nt(Ee)?Ee.map(ve=>ve.toDate()):Ee.toDate()))}return Nt(Ee)&&Ee.some(st=>!st)&&(Ee=[]),Ee}),ye=L(()=>{if(!be.value.panelReady)return"";const Ee=vt(le.value);return Nt(Ae.value)?[Ae.value[0]||Ee&&Ee[0]||"",Ae.value[1]||Ee&&Ee[1]||""]:Ae.value!==null?Ae.value:!pe.value&&Qe.value||!_.value&&Qe.value?"":Ee?ue.value||Me.value||De.value?Ee.join(", "):Ee:""}),Ce=L(()=>i.type.includes("time")),pe=L(()=>i.type.startsWith("time")),ue=L(()=>i.type==="dates"),Me=L(()=>i.type==="months"),De=L(()=>i.type==="years"),xe=L(()=>i.prefixIcon||(Ce.value?rE:eO)),G=W(!1),He=Ee=>{i.readonly||se.value||(G.value&&(Ee.stopPropagation(),N(),be.value.handleClear?be.value.handleClear():R(v.value),k(v.value,!0),G.value=!1,B()),n("clear"))},Qe=L(()=>{const{modelValue:Ee}=i;return!Ee||Nt(Ee)&&!Ee.filter(Boolean).length}),at=async Ee=>{var st;i.readonly||se.value||(((st=Ee.target)==null?void 0:st.tagName)!=="INPUT"||U.value.includes(document.activeElement))&&(_.value=!0)},rt=()=>{i.readonly||se.value||!Qe.value&&i.clearable&&(G.value=!0)},it=()=>{G.value=!1},qe=Ee=>{var st;i.readonly||se.value||(((st=Ee.touches[0].target)==null?void 0:st.tagName)!=="INPUT"||U.value.includes(document.activeElement))&&(_.value=!0)},te=L(()=>i.type.includes("range")),ae=fi(),ke=L(()=>{var Ee,st;return(st=(Ee=d(g))==null?void 0:Ee.popperRef)==null?void 0:st.contentRef}),Be=L(()=>{var Ee;return d(te)?d(y):(Ee=d(y))==null?void 0:Ee.$el}),Ve=i0(Be,Ee=>{const st=d(ke),ve=d(Be);st&&(Ee.target===st||Ee.composedPath().includes(st))||Ee.target===ve||Ee.composedPath().includes(ve)||(_.value=!1)});xn(()=>{Ve==null||Ve()});const Ae=W(null),Pe=()=>{if(Ae.value){const Ee=Xe(ye.value);Ee&&nt(Ee)&&(R(Nt(Ee)?Ee.map(st=>st.toDate()):Ee.toDate()),Ae.value=null)}Ae.value===""&&(R(v.value),k(v.value),Ae.value=null)},Xe=Ee=>Ee?be.value.parseUserInput(Ee):null,vt=Ee=>Ee?be.value.formatToString(Ee):null,nt=Ee=>be.value.isValidValue(Ee),Rt=async Ee=>{if(i.readonly||se.value)return;const{code:st}=Ee;if(D(Ee),st===St.esc){_.value===!0&&(_.value=!1,Ee.preventDefault(),Ee.stopPropagation());return}if(st===St.down&&(be.value.handleFocusPicker&&(Ee.preventDefault(),Ee.stopPropagation()),_.value===!1&&(_.value=!0,await yt()),be.value.handleFocusPicker)){be.value.handleFocusPicker();return}if(st===St.tab){M=!0;return}if(st===St.enter||st===St.numpadEnter){(Ae.value===null||Ae.value===""||nt(Xe(ye.value)))&&(Pe(),_.value=!1),Ee.stopPropagation();return}if(Ae.value){Ee.stopPropagation();return}be.value.handleKeydownInput&&be.value.handleKeydownInput(Ee)},Ye=Ee=>{Ae.value=Ee,_.value||(_.value=!0)},Et=Ee=>{const st=Ee.target;Ae.value?Ae.value=[st.value,Ae.value[1]]:Ae.value=[st.value,null]},Te=Ee=>{const st=Ee.target;Ae.value?Ae.value=[Ae.value[0],st.value]:Ae.value=[null,st.value]},ze=()=>{var Ee;const st=Ae.value,ve=Xe(st&&st[0]),et=d(le);if(ve&&ve.isValid()){Ae.value=[vt(ve),((Ee=ye.value)==null?void 0:Ee[1])||null];const lt=[ve,et&&(et[1]||null)];nt(lt)&&(R(lt),Ae.value=null)}},de=()=>{var Ee;const st=d(Ae),ve=Xe(st&&st[1]),et=d(le);if(ve&&ve.isValid()){Ae.value=[((Ee=d(ye))==null?void 0:Ee[0])||null,vt(ve)];const lt=[et&&et[0],ve];nt(lt)&&(R(lt),Ae.value=null)}},be=W({}),Re=Ee=>{be.value[Ee[0]]=Ee[1],be.value.panelReady=!0},gt=Ee=>{n("calendar-change",Ee)},Ft=(Ee,st,ve)=>{n("panel-change",Ee,st,ve)};return Zt("EP_PICKER_BASE",{props:i}),e({focus:O,handleFocusInput:V,handleBlurInput:ce,handleOpen:X,handleClose:q,onPick:$}),(Ee,st)=>(I(),we(d(pi),Ht({ref_key:"refPopper",ref:g,visible:_.value,effect:"light",pure:"",trigger:"click"},Ee.$attrs,{role:"dialog",teleported:"",transition:`${d(s).namespace.value}-zoom-in-top`,"popper-class":[`${d(s).namespace.value}-picker__popper`,Ee.popperClass],"popper-options":d(p),"fallback-placements":Ee.fallbackPlacements,"gpu-acceleration":!1,placement:Ee.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:Q,onShow:Y,onHide:B}),{default:ne(()=>[d(te)?(I(),K("div",{key:1,ref_key:"inputRef",ref:y,class:z(d(x)),style:_t(Ee.$attrs.style),onClick:V,onMouseenter:rt,onMouseleave:it,onTouchstartPassive:qe,onKeydown:Rt},[d(xe)?(I(),we(d(dt),{key:0,class:z([d(o).e("icon"),d(u).e("icon")]),onMousedown:xt(at,["prevent"]),onTouchstartPassive:qe},{default:ne(()=>[(I(),we(Vt(d(xe))))]),_:1},8,["class","onMousedown"])):he("v-if",!0),Z("input",{id:Ee.id&&Ee.id[0],autocomplete:"off",name:Ee.name&&Ee.name[0],placeholder:Ee.startPlaceholder,value:d(ye)&&d(ye)[0],disabled:d(se),readonly:!Ee.editable||Ee.readonly,class:z(d(u).b("input")),onMousedown:at,onInput:Et,onChange:ze,onFocus:V,onBlur:ce},null,42,["id","name","placeholder","value","disabled","readonly"]),oe(Ee.$slots,"range-separator",{},()=>[Z("span",{class:z(d(u).b("separator"))},Ne(Ee.rangeSeparator),3)]),Z("input",{id:Ee.id&&Ee.id[1],autocomplete:"off",name:Ee.name&&Ee.name[1],placeholder:Ee.endPlaceholder,value:d(ye)&&d(ye)[1],disabled:d(se),readonly:!Ee.editable||Ee.readonly,class:z(d(u).b("input")),onMousedown:at,onFocus:V,onBlur:ce,onInput:Te,onChange:de},null,42,["id","name","placeholder","value","disabled","readonly"]),Ee.clearIcon?(I(),we(d(dt),{key:1,class:z(d(T)),onClick:He},{default:ne(()=>[(I(),we(Vt(Ee.clearIcon)))]),_:1},8,["class"])):he("v-if",!0)],38)):(I(),we(d(Qi),{key:0,id:Ee.id,ref_key:"inputRef",ref:y,"container-role":"combobox","model-value":d(ye),name:Ee.name,size:d(ae),disabled:d(se),placeholder:Ee.placeholder,class:z([d(s).b("editor"),d(s).bm("editor",Ee.type),Ee.$attrs.class]),style:_t(Ee.$attrs.style),readonly:!Ee.editable||Ee.readonly||d(ue)||d(Me)||d(De)||Ee.type==="week","aria-label":Ee.ariaLabel,tabindex:Ee.tabindex,"validate-event":!1,onInput:Ye,onFocus:V,onBlur:ce,onKeydown:Rt,onChange:Pe,onMousedown:at,onMouseenter:rt,onMouseleave:it,onTouchstartPassive:qe,onClick:xt(()=>{},["stop"])},{prefix:ne(()=>[d(xe)?(I(),we(d(dt),{key:0,class:z(d(o).e("icon")),onMousedown:xt(at,["prevent"]),onTouchstartPassive:qe},{default:ne(()=>[(I(),we(Vt(d(xe))))]),_:1},8,["class","onMousedown"])):he("v-if",!0)]),suffix:ne(()=>[G.value&&Ee.clearIcon?(I(),we(d(dt),{key:0,class:z(`${d(o).e("icon")} clear-icon`),onClick:xt(He,["stop"])},{default:ne(()=>[(I(),we(Vt(Ee.clearIcon)))]),_:1},8,["class","onClick"])):he("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onKeydown","onClick"]))]),content:ne(()=>[oe(Ee.$slots,"default",{visible:_.value,actualVisible:w.value,parsedValue:d(le),format:Ee.format,dateFormat:Ee.dateFormat,timeFormat:Ee.timeFormat,unlinkPanels:Ee.unlinkPanels,type:Ee.type,defaultValue:Ee.defaultValue,onPick:$,onSelectRange:P,onSetPickerOption:Re,onCalendarChange:gt,onPanelChange:Ft,onKeydown:H,onMousedown:xt(()=>{},["stop"])})]),_:3},16,["visible","transition","popper-class","popper-options","fallback-placements","placement"]))}});var Ox=We(Z9,[["__file","picker.vue"]]);const Q9=Ge({...Nx,datetimeRole:String,parsedValue:{type:_e(Object)}}),Dx=({getAvailableHours:t,getAvailableMinutes:e,getAvailableSeconds:n})=>{const i=(s,o,u,c)=>{const h={hour:t,minute:e,second:n};let p=s;return["hour","minute","second"].forEach(v=>{if(h[v]){let g;const y=h[v];switch(v){case"minute":{g=y(p.hour(),o,c);break}case"second":{g=y(p.hour(),p.minute(),o,c);break}default:{g=y(o,c);break}}if(g!=null&&g.length&&!g.includes(p[v]())){const _=u?0:g.length-1;p=p[v](g[_])}}}),p},r={};return{timePickerOptions:r,getAvailableTime:i,onSetOption:([s,o])=>{r[s]=o}}},em=t=>{const e=(i,r)=>i||r,n=i=>i!==!0;return t.map(e).filter(n)},Fx=(t,e,n)=>({getHoursList:(s,o)=>Jp(24,t&&(()=>t==null?void 0:t(s,o))),getMinutesList:(s,o,u)=>Jp(60,e&&(()=>e==null?void 0:e(s,o,u))),getSecondsList:(s,o,u,c)=>Jp(60,n&&(()=>n==null?void 0:n(s,o,u,c)))}),Bx=(t,e,n)=>{const{getHoursList:i,getMinutesList:r,getSecondsList:a}=Fx(t,e,n);return{getAvailableHours:(c,h)=>em(i(c,h)),getAvailableMinutes:(c,h,p)=>em(r(c,h,p)),getAvailableSeconds:(c,h,p,v)=>em(a(c,h,p,v))}},Ux=t=>{const e=W(t.parsedValue);return Le(()=>t.visible,n=>{n||(e.value=t.parsedValue)}),e},Ws=new Map;if(tn){let t;document.addEventListener("mousedown",e=>t=e),document.addEventListener("mouseup",e=>{if(t){for(const n of Ws.values())for(const{documentHandler:i}of n)i(e,t);t=void 0}})}function b1(t,e){let n=[];return Array.isArray(e.arg)?n=e.arg:Hr(e.arg)&&n.push(e.arg),function(i,r){const a=e.instance.popperRef,s=i.target,o=r==null?void 0:r.target,u=!e||!e.instance,c=!s||!o,h=t.contains(s)||t.contains(o),p=t===s,v=n.length&&n.some(y=>y==null?void 0:y.contains(s))||n.length&&n.includes(o),g=a&&(a.contains(s)||a.contains(o));u||c||h||p||v||g||e.value(i,r)}}const xs={beforeMount(t,e){Ws.has(t)||Ws.set(t,[]),Ws.get(t).push({documentHandler:b1(t,e),bindingFn:e.value})},updated(t,e){Ws.has(t)||Ws.set(t,[]);const n=Ws.get(t),i=n.findIndex(a=>a.bindingFn===e.oldValue),r={documentHandler:b1(t,e),bindingFn:e.value};i>=0?n.splice(i,1,r):n.push(r)},unmounted(t){Ws.delete(t)}},J9=100,eW=600,fh={beforeMount(t,e){const n=e.value,{interval:i=J9,delay:r=eW}=un(n)?{}:n;let a,s;const o=()=>un(n)?n():n.handler(),u=()=>{s&&(clearTimeout(s),s=void 0),a&&(clearInterval(a),a=void 0)};t.addEventListener("mousedown",c=>{c.button===0&&(u(),o(),document.addEventListener("mouseup",()=>u(),{once:!0}),s=setTimeout(()=>{a=setInterval(()=>{o()},i)},r))})}},Lv="_trap-focus-children",Ko=[],w1=t=>{if(Ko.length===0)return;const e=Ko[Ko.length-1][Lv];if(e.length>0&&t.code===St.tab){if(e.length===1){t.preventDefault(),document.activeElement!==e[0]&&e[0].focus();return}const n=t.shiftKey,i=t.target===e[0],r=t.target===e[e.length-1];i&&n&&(t.preventDefault(),e[e.length-1].focus()),r&&!n&&(t.preventDefault(),e[0].focus())}},tW={beforeMount(t){t[Lv]=A_(t),Ko.push(t),Ko.length<=1&&document.addEventListener("keydown",w1)},updated(t){yt(()=>{t[Lv]=A_(t)})},unmounted(){Ko.shift(),Ko.length===0&&document.removeEventListener("keydown",w1)}};var S1=!1,Vo,Nv,Ov,zf,$f,Vx,Hf,Dv,Fv,Bv,zx,Uv,Vv,$x,Hx;function _r(){if(!S1){S1=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(Uv=/\b(iPhone|iP[ao]d)/.exec(t),Vv=/\b(iP[ao]d)/.exec(t),Bv=/Android/i.exec(t),$x=/FBAN\/\w+;/i.exec(t),Hx=/Mobile/i.exec(t),zx=!!/Win64/.exec(t),e){Vo=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,Vo&&document&&document.documentMode&&(Vo=document.documentMode);var i=/(?:Trident\/(\d+.\d+))/.exec(t);Vx=i?parseFloat(i[1])+4:Vo,Nv=e[2]?parseFloat(e[2]):NaN,Ov=e[3]?parseFloat(e[3]):NaN,zf=e[4]?parseFloat(e[4]):NaN,zf?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),$f=e&&e[1]?parseFloat(e[1]):NaN):$f=NaN}else Vo=Nv=Ov=$f=zf=NaN;if(n){if(n[1]){var r=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);Hf=r?parseFloat(r[1].replace("_",".")):!0}else Hf=!1;Dv=!!n[2],Fv=!!n[3]}else Hf=Dv=Fv=!1}}var zv={ie:function(){return _r()||Vo},ieCompatibilityMode:function(){return _r()||Vx>Vo},ie64:function(){return zv.ie()&&zx},firefox:function(){return _r()||Nv},opera:function(){return _r()||Ov},webkit:function(){return _r()||zf},safari:function(){return zv.webkit()},chrome:function(){return _r()||$f},windows:function(){return _r()||Dv},osx:function(){return _r()||Hf},linux:function(){return _r()||Fv},iphone:function(){return _r()||Uv},mobile:function(){return _r()||Uv||Vv||Bv||Hx},nativeApp:function(){return _r()||$x},android:function(){return _r()||Bv},ipad:function(){return _r()||Vv}},nW=zv,Jd=!!(typeof window<"u"&&window.document&&window.document.createElement),iW={canUseDOM:Jd,canUseWorkers:typeof Worker<"u",canUseEventListeners:Jd&&!!(window.addEventListener||window.attachEvent),canUseViewport:Jd&&!!window.screen,isInWorker:!Jd},Gx=iW,Wx;Gx.canUseDOM&&(Wx=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function rW(t,e){if(!Gx.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,i=n in document;if(!i){var r=document.createElement("div");r.setAttribute(n,"return;"),i=typeof r[n]=="function"}return!i&&Wx&&t==="wheel"&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}var aW=rW,C1=10,E1=40,x1=800;function Kx(t){var e=0,n=0,i=0,r=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),i=e*C1,r=n*C1,"deltaY"in t&&(r=t.deltaY),"deltaX"in t&&(i=t.deltaX),(i||r)&&t.deltaMode&&(t.deltaMode==1?(i*=E1,r*=E1):(i*=x1,r*=x1)),i&&!e&&(e=i<1?-1:1),r&&!n&&(n=r<1?-1:1),{spinX:e,spinY:n,pixelX:i,pixelY:r}}Kx.getEventType=function(){return nW.firefox()?"DOMMouseScroll":aW("wheel")?"wheel":"mousewheel"};var sW=Kx;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const oW=function(t,e){if(t&&t.addEventListener){const n=function(i){const r=sW(i);e&&Reflect.apply(e,this,[i,r])};t.addEventListener("wheel",n,{passive:!0})}},lW={beforeMount(t,e){oW(t,e.value)}},uW=Ge({role:{type:String,required:!0},spinnerDate:{type:_e(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:_e(String),default:""},...Lx}),cW=re({__name:"basic-time-spinner",props:uW,emits:["change","select-range","set-option"],setup(t,{emit:e}){const n=t,i=Fe("time"),{getHoursList:r,getMinutesList:a,getSecondsList:s}=Fx(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let o=!1;const u=W(),c=W(),h=W(),p=W(),v={hours:c,minutes:h,seconds:p},g=L(()=>n.showSeconds?m1:m1.slice(0,2)),y=L(()=>{const{spinnerDate:O}=n,V=O.hour(),ee=O.minute(),ce=O.second();return{hours:V,minutes:ee,seconds:ce}}),_=L(()=>{const{hours:O,minutes:V}=d(y);return{hours:r(n.role),minutes:a(O,n.role),seconds:s(O,V,n.role)}}),w=L(()=>{const{hours:O,minutes:V,seconds:ee}=d(y);return{hours:Qp(O,23),minutes:Qp(V,59),seconds:Qp(ee,59)}}),b=Rr(O=>{o=!1,x(O)},200),M=O=>{if(!!!n.amPmMode)return"";const ee=n.amPmMode==="A";let ce=O<12?" am":" pm";return ee&&(ce=ce.toUpperCase()),ce},C=O=>{let V;switch(O){case"hours":V=[0,2];break;case"minutes":V=[3,5];break;case"seconds":V=[6,8];break}const[ee,ce]=V;e("select-range",ee,ce),u.value=O},x=O=>{R(O,d(y)[O])},T=()=>{x("hours"),x("minutes"),x("seconds")},k=O=>O.querySelector(`.${i.namespace.value}-scrollbar__wrap`),R=(O,V)=>{if(n.arrowControl)return;const ee=d(v[O]);ee&&ee.$el&&(k(ee.$el).scrollTop=Math.max(0,V*D(O)))},D=O=>{const V=d(v[O]),ee=V==null?void 0:V.$el.querySelector("li");return ee&&Number.parseFloat(qs(ee,"height"))||0},U=()=>{N(1)},P=()=>{N(-1)},N=O=>{u.value||C("hours");const V=u.value,ee=d(y)[V],ce=u.value==="hours"?24:60,se=$(V,ee,O,ce);Q(V,se),R(V,se),yt(()=>C(V))},$=(O,V,ee,ce)=>{let se=(V+ee+ce)%ce;const le=d(_)[O];for(;le[se]&&se!==V;)se=(se+ee+ce)%ce;return se},Q=(O,V)=>{if(d(_)[O][V])return;const{hours:se,minutes:le,seconds:ye}=d(y);let Ce;switch(O){case"hours":Ce=n.spinnerDate.hour(V).minute(le).second(ye);break;case"minutes":Ce=n.spinnerDate.hour(se).minute(V).second(ye);break;case"seconds":Ce=n.spinnerDate.hour(se).minute(le).second(V);break}e("change",Ce)},Y=(O,{value:V,disabled:ee})=>{ee||(Q(O,V),C(O),R(O,V))},H=O=>{o=!0,b(O);const V=Math.min(Math.round((k(d(v[O]).$el).scrollTop-(B(O)*.5-10)/D(O)+3)/D(O)),O==="hours"?23:59);Q(O,V)},B=O=>d(v[O]).$el.offsetHeight,X=()=>{const O=V=>{const ee=d(v[V]);ee&&ee.$el&&(k(ee.$el).onscroll=()=>{H(V)})};O("hours"),O("minutes"),O("seconds")};wt(()=>{yt(()=>{!n.arrowControl&&X(),T(),n.role==="start"&&C("hours")})});const q=(O,V)=>{v[V].value=O};return e("set-option",[`${n.role}_scrollDown`,N]),e("set-option",[`${n.role}_emitSelectRange`,C]),Le(()=>n.spinnerDate,()=>{o||T()}),(O,V)=>(I(),K("div",{class:z([d(i).b("spinner"),{"has-seconds":O.showSeconds}])},[O.arrowControl?he("v-if",!0):(I(!0),K(ut,{key:0},Ut(d(g),ee=>(I(),we(d(as),{key:ee,ref_for:!0,ref:ce=>q(ce,ee),class:z(d(i).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":d(i).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:ce=>C(ee),onMousemove:ce=>x(ee)},{default:ne(()=>[(I(!0),K(ut,null,Ut(d(_)[ee],(ce,se)=>(I(),K("li",{key:se,class:z([d(i).be("spinner","item"),d(i).is("active",se===d(y)[ee]),d(i).is("disabled",ce)]),onClick:le=>Y(ee,{value:se,disabled:ce})},[ee==="hours"?(I(),K(ut,{key:0},[mt(Ne(("0"+(O.amPmMode?se%12||12:se)).slice(-2))+Ne(M(se)),1)],64)):(I(),K(ut,{key:1},[mt(Ne(("0"+se).slice(-2)),1)],64))],10,["onClick"]))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),O.arrowControl?(I(!0),K(ut,{key:1},Ut(d(g),ee=>(I(),K("div",{key:ee,class:z([d(i).be("spinner","wrapper"),d(i).is("arrow")]),onMouseenter:ce=>C(ee)},[Bt((I(),we(d(dt),{class:z(["arrow-up",d(i).be("spinner","arrow")])},{default:ne(()=>[J(d(Qg))]),_:1},8,["class"])),[[d(fh),P]]),Bt((I(),we(d(dt),{class:z(["arrow-down",d(i).be("spinner","arrow")])},{default:ne(()=>[J(d(Is))]),_:1},8,["class"])),[[d(fh),U]]),Z("ul",{class:z(d(i).be("spinner","list"))},[(I(!0),K(ut,null,Ut(d(w)[ee],(ce,se)=>(I(),K("li",{key:se,class:z([d(i).be("spinner","item"),d(i).is("active",ce===d(y)[ee]),d(i).is("disabled",d(_)[ee][ce])])},[typeof ce=="number"?(I(),K(ut,{key:0},[ee==="hours"?(I(),K(ut,{key:0},[mt(Ne(("0"+(O.amPmMode?ce%12||12:ce)).slice(-2))+Ne(M(ce)),1)],64)):(I(),K(ut,{key:1},[mt(Ne(("0"+ce).slice(-2)),1)],64))],64)):he("v-if",!0)],2))),128))],2)],42,["onMouseenter"]))),128)):he("v-if",!0)],2))}});var $v=We(cW,[["__file","basic-time-spinner.vue"]]);const dW=re({__name:"panel-time-pick",props:Q9,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,i=ct("EP_PICKER_BASE"),{arrowControl:r,disabledHours:a,disabledMinutes:s,disabledSeconds:o,defaultValue:u}=i.props,{getAvailableHours:c,getAvailableMinutes:h,getAvailableSeconds:p}=Bx(a,s,o),v=Fe("time"),{t:g,lang:y}=nn(),_=W([0,2]),w=Ux(n),b=L(()=>zn(n.actualVisible)?`${v.namespace.value}-zoom-in-top`:""),M=L(()=>n.format.includes("ss")),C=L(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),x=q=>{const O=Lt(q).locale(y.value),V=Y(O);return O.isSame(V)},T=()=>{e("pick",w.value,!1)},k=(q=!1,O=!1)=>{O||e("pick",n.parsedValue,q)},R=q=>{if(!n.visible)return;const O=Y(q).millisecond(0);e("pick",O,!0)},D=(q,O)=>{e("select-range",q,O),_.value=[q,O]},U=q=>{const O=[0,3].concat(M.value?[6]:[]),V=["hours","minutes"].concat(M.value?["seconds"]:[]),ce=(O.indexOf(_.value[0])+q+O.length)%O.length;N.start_emitSelectRange(V[ce])},P=q=>{const O=q.code,{left:V,right:ee,up:ce,down:se}=St;if([V,ee].includes(O)){U(O===V?-1:1),q.preventDefault();return}if([ce,se].includes(O)){const le=O===ce?-1:1;N.start_scrollDown(le),q.preventDefault();return}},{timePickerOptions:N,onSetOption:$,getAvailableTime:Q}=Dx({getAvailableHours:c,getAvailableMinutes:h,getAvailableSeconds:p}),Y=q=>Q(q,n.datetimeRole||"",!0),H=q=>q?Lt(q,n.format).locale(y.value):null,B=q=>q?q.format(n.format):null,X=()=>Lt(u).locale(y.value);return e("set-picker-option",["isValidValue",x]),e("set-picker-option",["formatToString",B]),e("set-picker-option",["parseUserInput",H]),e("set-picker-option",["handleKeydownInput",P]),e("set-picker-option",["getRangeAvailableTime",Y]),e("set-picker-option",["getDefaultValue",X]),(q,O)=>(I(),we(ui,{name:d(b)},{default:ne(()=>[q.actualVisible||q.visible?(I(),K("div",{key:0,class:z(d(v).b("panel"))},[Z("div",{class:z([d(v).be("panel","content"),{"has-seconds":d(M)}])},[J($v,{ref:"spinner",role:q.datetimeRole||"start","arrow-control":d(r),"show-seconds":d(M),"am-pm-mode":d(C),"spinner-date":q.parsedValue,"disabled-hours":d(a),"disabled-minutes":d(s),"disabled-seconds":d(o),onChange:R,onSetOption:d($),onSelectRange:D},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),Z("div",{class:z(d(v).be("panel","footer"))},[Z("button",{type:"button",class:z([d(v).be("panel","btn"),"cancel"]),onClick:T},Ne(d(g)("el.datepicker.cancel")),3),Z("button",{type:"button",class:z([d(v).be("panel","btn"),"confirm"]),onClick:V=>k()},Ne(d(g)("el.datepicker.confirm")),11,["onClick"])],2)],2)):he("v-if",!0)]),_:1},8,["name"]))}});var hh=We(dW,[["__file","panel-time-pick.vue"]]);const fW=Ge({...Nx,parsedValue:{type:_e(Array)}}),hW=re({__name:"panel-time-range",props:fW,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,i=(xe,G)=>{const He=[];for(let Qe=xe;Qe<=G;Qe++)He.push(Qe);return He},{t:r,lang:a}=nn(),s=Fe("time"),o=Fe("picker"),u=ct("EP_PICKER_BASE"),{arrowControl:c,disabledHours:h,disabledMinutes:p,disabledSeconds:v,defaultValue:g}=u.props,y=L(()=>[s.be("range-picker","body"),s.be("panel","content"),s.is("arrow",c),x.value?"has-seconds":""]),_=L(()=>[s.be("range-picker","body"),s.be("panel","content"),s.is("arrow",c),x.value?"has-seconds":""]),w=L(()=>n.parsedValue[0]),b=L(()=>n.parsedValue[1]),M=Ux(n),C=()=>{e("pick",M.value,!1)},x=L(()=>n.format.includes("ss")),T=L(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),k=(xe=!1)=>{e("pick",[w.value,b.value],xe)},R=xe=>{P(xe.millisecond(0),b.value)},D=xe=>{P(w.value,xe.millisecond(0))},U=xe=>{const G=xe.map(Qe=>Lt(Qe).locale(a.value)),He=ee(G);return G[0].isSame(He[0])&&G[1].isSame(He[1])},P=(xe,G)=>{e("pick",[xe,G],!0)},N=L(()=>w.value>b.value),$=W([0,2]),Q=(xe,G)=>{e("select-range",xe,G,"min"),$.value=[xe,G]},Y=L(()=>x.value?11:8),H=(xe,G)=>{e("select-range",xe,G,"max");const He=d(Y);$.value=[xe+He,G+He]},B=xe=>{const G=x.value?[0,3,6,11,14,17]:[0,3,8,11],He=["hours","minutes"].concat(x.value?["seconds"]:[]),at=(G.indexOf($.value[0])+xe+G.length)%G.length,rt=G.length/2;at<rt?ye.start_emitSelectRange(He[at]):ye.end_emitSelectRange(He[at-rt])},X=xe=>{const G=xe.code,{left:He,right:Qe,up:at,down:rt}=St;if([He,Qe].includes(G)){B(G===He?-1:1),xe.preventDefault();return}if([at,rt].includes(G)){const it=G===at?-1:1,qe=$.value[0]<Y.value?"start":"end";ye[`${qe}_scrollDown`](it),xe.preventDefault();return}},q=(xe,G)=>{const He=h?h(xe):[],Qe=xe==="start",rt=(G||(Qe?b.value:w.value)).hour(),it=Qe?i(rt+1,23):i(0,rt-1);return Hp(He,it)},O=(xe,G,He)=>{const Qe=p?p(xe,G):[],at=G==="start",rt=He||(at?b.value:w.value),it=rt.hour();if(xe!==it)return Qe;const qe=rt.minute(),te=at?i(qe+1,59):i(0,qe-1);return Hp(Qe,te)},V=(xe,G,He,Qe)=>{const at=v?v(xe,G,He):[],rt=He==="start",it=Qe||(rt?b.value:w.value),qe=it.hour(),te=it.minute();if(xe!==qe||G!==te)return at;const ae=it.second(),ke=rt?i(ae+1,59):i(0,ae-1);return Hp(at,ke)},ee=([xe,G])=>[Ce(xe,"start",!0,G),Ce(G,"end",!1,xe)],{getAvailableHours:ce,getAvailableMinutes:se,getAvailableSeconds:le}=Bx(q,O,V),{timePickerOptions:ye,getAvailableTime:Ce,onSetOption:pe}=Dx({getAvailableHours:ce,getAvailableMinutes:se,getAvailableSeconds:le}),ue=xe=>xe?Nt(xe)?xe.map(G=>Lt(G,n.format).locale(a.value)):Lt(xe,n.format).locale(a.value):null,Me=xe=>xe?Nt(xe)?xe.map(G=>G.format(n.format)):xe.format(n.format):null,De=()=>{if(Nt(g))return g.map(G=>Lt(G).locale(a.value));const xe=Lt(g).locale(a.value);return[xe,xe.add(60,"m")]};return e("set-picker-option",["formatToString",Me]),e("set-picker-option",["parseUserInput",ue]),e("set-picker-option",["isValidValue",U]),e("set-picker-option",["handleKeydownInput",X]),e("set-picker-option",["getDefaultValue",De]),e("set-picker-option",["getRangeAvailableTime",ee]),(xe,G)=>xe.actualVisible?(I(),K("div",{key:0,class:z([d(s).b("range-picker"),d(o).b("panel")])},[Z("div",{class:z(d(s).be("range-picker","content"))},[Z("div",{class:z(d(s).be("range-picker","cell"))},[Z("div",{class:z(d(s).be("range-picker","header"))},Ne(d(r)("el.datepicker.startTime")),3),Z("div",{class:z(d(y))},[J($v,{ref:"minSpinner",role:"start","show-seconds":d(x),"am-pm-mode":d(T),"arrow-control":d(c),"spinner-date":d(w),"disabled-hours":q,"disabled-minutes":O,"disabled-seconds":V,onChange:R,onSetOption:d(pe),onSelectRange:Q},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),Z("div",{class:z(d(s).be("range-picker","cell"))},[Z("div",{class:z(d(s).be("range-picker","header"))},Ne(d(r)("el.datepicker.endTime")),3),Z("div",{class:z(d(_))},[J($v,{ref:"maxSpinner",role:"end","show-seconds":d(x),"am-pm-mode":d(T),"arrow-control":d(c),"spinner-date":d(b),"disabled-hours":q,"disabled-minutes":O,"disabled-seconds":V,onChange:D,onSetOption:d(pe),onSelectRange:H},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),Z("div",{class:z(d(s).be("panel","footer"))},[Z("button",{type:"button",class:z([d(s).be("panel","btn"),"cancel"]),onClick:He=>C()},Ne(d(r)("el.datepicker.cancel")),11,["onClick"]),Z("button",{type:"button",class:z([d(s).be("panel","btn"),"confirm"]),disabled:d(N),onClick:He=>k()},Ne(d(r)("el.datepicker.confirm")),11,["disabled","onClick"])],2)],2)):he("v-if",!0)}});var pW=We(hW,[["__file","panel-time-range.vue"]]);Lt.extend(ny);var mW=re({name:"ElTimePicker",install:null,props:{...iy,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,e){const n=W(),[i,r]=t.isRange?["timerange",pW]:["time",hh],a=s=>e.emit("update:modelValue",s);return Zt("ElPopperOptions",t.popperOptions),e.expose({focus:s=>{var o;(o=n.value)==null||o.handleFocusInput(s)},blur:s=>{var o;(o=n.value)==null||o.handleBlurInput(s)},handleOpen:()=>{var s;(s=n.value)==null||s.handleOpen()},handleClose:()=>{var s;(s=n.value)==null||s.handleClose()}}),()=>{var s;const o=(s=t.format)!=null?s:Rv;return J(Ox,Ht(t,{ref:n,type:i,format:o,"onUpdate:modelValue":a}),{default:u=>J(r,u,null)})}}});const vW=Dt(mW),gW=(t,e)=>{const n=t.subtract(1,"month").endOf("month").date();return eo(e).map((i,r)=>n-(e-r-1))},yW=t=>{const e=t.daysInMonth();return eo(e).map((n,i)=>i+1)},_W=t=>eo(t.length/7).map(e=>{const n=e*7;return t.slice(n,n+7)}),bW=Ge({selectedDay:{type:_e(Object)},range:{type:_e(Array)},date:{type:_e(Object),required:!0},hideHeader:{type:Boolean}}),wW={pick:t=>bn(t)};var qx={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Mr,function(){return function(n,i,r){var a=i.prototype,s=function(p){return p&&(p.indexOf?p:p.s)},o=function(p,v,g,y,_){var w=p.name?p:p.$locale(),b=s(w[v]),M=s(w[g]),C=b||M.map(function(T){return T.slice(0,y)});if(!_)return C;var x=w.weekStart;return C.map(function(T,k){return C[(k+(x||0))%7]})},u=function(){return r.Ls[r.locale()]},c=function(p,v){return p.formats[v]||function(g){return g.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(y,_,w){return _||w.slice(1)})}(p.formats[v.toUpperCase()])},h=function(){var p=this;return{months:function(v){return v?v.format("MMMM"):o(p,"months")},monthsShort:function(v){return v?v.format("MMM"):o(p,"monthsShort","months",3)},firstDayOfWeek:function(){return p.$locale().weekStart||0},weekdays:function(v){return v?v.format("dddd"):o(p,"weekdays")},weekdaysMin:function(v){return v?v.format("dd"):o(p,"weekdaysMin","weekdays",2)},weekdaysShort:function(v){return v?v.format("ddd"):o(p,"weekdaysShort","weekdays",3)},longDateFormat:function(v){return c(p.$locale(),v)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return h.bind(this)()},r.localeData=function(){var p=u();return{firstDayOfWeek:function(){return p.weekStart||0},weekdays:function(){return r.weekdays()},weekdaysShort:function(){return r.weekdaysShort()},weekdaysMin:function(){return r.weekdaysMin()},months:function(){return r.months()},monthsShort:function(){return r.monthsShort()},longDateFormat:function(v){return c(p,v)},meridiem:p.meridiem,ordinal:p.ordinal}},r.months=function(){return o(u(),"months")},r.monthsShort=function(){return o(u(),"monthsShort","months",3)},r.weekdays=function(p){return o(u(),"weekdays",null,null,p)},r.weekdaysShort=function(p){return o(u(),"weekdaysShort","weekdays",3,p)},r.weekdaysMin=function(p){return o(u(),"weekdaysMin","weekdays",2,p)}}})})(qx);var SW=qx.exports;const Yx=Ua(SW),CW=(t,e)=>{Lt.extend(Yx);const n=Lt.localeData().firstDayOfWeek(),{t:i,lang:r}=nn(),a=Lt().locale(r.value),s=L(()=>!!t.range&&!!t.range.length),o=L(()=>{let v=[];if(s.value){const[g,y]=t.range,_=eo(y.date()-g.date()+1).map(M=>({text:g.date()+M,type:"current"}));let w=_.length%7;w=w===0?0:7-w;const b=eo(w).map((M,C)=>({text:C+1,type:"next"}));v=_.concat(b)}else{const g=t.date.startOf("month").day(),y=gW(t.date,(g-n+7)%7).map(M=>({text:M,type:"prev"})),_=yW(t.date).map(M=>({text:M,type:"current"}));v=[...y,..._];const w=7-(v.length%7||7),b=eo(w).map((M,C)=>({text:C+1,type:"next"}));v=v.concat(b)}return _W(v)}),u=L(()=>{const v=n;return v===0?Gp.map(g=>i(`el.datepicker.weeks.${g}`)):Gp.slice(v).concat(Gp.slice(0,v)).map(g=>i(`el.datepicker.weeks.${g}`))}),c=(v,g)=>{switch(g){case"prev":return t.date.startOf("month").subtract(1,"month").date(v);case"next":return t.date.startOf("month").add(1,"month").date(v);case"current":return t.date.date(v)}};return{now:a,isInRange:s,rows:o,weekDays:u,getFormattedDate:c,handlePickDay:({text:v,type:g})=>{const y=c(v,g);e("pick",y)},getSlotData:({text:v,type:g})=>{const y=c(v,g);return{isSelected:y.isSame(t.selectedDay),type:`${g}-month`,day:y.format("YYYY-MM-DD"),date:y.toDate()}}}},EW=re({name:"DateTable"}),xW=re({...EW,props:bW,emits:wW,setup(t,{expose:e,emit:n}){const i=t,{isInRange:r,now:a,rows:s,weekDays:o,getFormattedDate:u,handlePickDay:c,getSlotData:h}=CW(i,n),p=Fe("calendar-table"),v=Fe("calendar-day"),g=({text:y,type:_})=>{const w=[_];if(_==="current"){const b=u(y,_);b.isSame(i.selectedDay,"day")&&w.push(v.is("selected")),b.isSame(a,"day")&&w.push(v.is("today"))}return w};return e({getFormattedDate:u}),(y,_)=>(I(),K("table",{class:z([d(p).b(),d(p).is("range",d(r))]),cellspacing:"0",cellpadding:"0"},[y.hideHeader?he("v-if",!0):(I(),K("thead",{key:0},[(I(!0),K(ut,null,Ut(d(o),w=>(I(),K("th",{key:w},Ne(w),1))),128))])),Z("tbody",null,[(I(!0),K(ut,null,Ut(d(s),(w,b)=>(I(),K("tr",{key:b,class:z({[d(p).e("row")]:!0,[d(p).em("row","hide-border")]:b===0&&y.hideHeader})},[(I(!0),K(ut,null,Ut(w,(M,C)=>(I(),K("td",{key:C,class:z(g(M)),onClick:x=>d(c)(M)},[Z("div",{class:z(d(v).b())},[oe(y.$slots,"date-cell",{data:d(h)(M)},()=>[Z("span",null,Ne(M.text),1)])],2)],10,["onClick"]))),128))],2))),128))])],2))}});var M1=We(xW,[["__file","date-table.vue"]]);const MW=(t,e)=>{const n=t.endOf("month"),i=e.startOf("month"),a=n.isSame(i,"week")?i.add(1,"week"):i;return[[t,n],[a.startOf("week"),e]]},TW=(t,e)=>{const n=t.endOf("month"),i=t.add(1,"month").startOf("month"),r=n.isSame(i,"week")?i.add(1,"week"):i,a=r.endOf("month"),s=e.startOf("month"),o=a.isSame(s,"week")?s.add(1,"week"):s;return[[t,n],[r.startOf("week"),a],[o.startOf("week"),e]]},AW=(t,e,n)=>{const{lang:i}=nn(),r=W(),a=Lt().locale(i.value),s=L({get(){return t.modelValue?u.value:r.value},set(w){if(!w)return;r.value=w;const b=w.toDate();e(pr,b),e(Wt,b)}}),o=L(()=>{if(!t.range||!Nt(t.range)||t.range.length!==2||t.range.some(C=>!bu(C)))return[];const w=t.range.map(C=>Lt(C).locale(i.value)),[b,M]=w;return b.isAfter(M)?[]:b.isSame(M,"month")?g(b,M):b.add(1,"month").month()!==M.month()?[]:g(b,M)}),u=L(()=>t.modelValue?Lt(t.modelValue).locale(i.value):s.value||(o.value.length?o.value[0][0]:a)),c=L(()=>u.value.subtract(1,"month").date(1)),h=L(()=>u.value.add(1,"month").date(1)),p=L(()=>u.value.subtract(1,"year").date(1)),v=L(()=>u.value.add(1,"year").date(1)),g=(w,b)=>{const M=w.startOf("week"),C=b.endOf("week"),x=M.get("month"),T=C.get("month");return x===T?[[M,C]]:(x+1)%12===T?MW(M,C):x+2===T||(x+1)%11===T?TW(M,C):[]},y=w=>{s.value=w};return{calculateValidatedDateRange:g,date:u,realSelectedDay:s,pickDay:y,selectDate:w=>{const M={"prev-month":c.value,"next-month":h.value,"prev-year":p.value,"next-year":v.value,today:a}[w];M.isSame(u.value,"day")||y(M)},validatedRange:o}},kW=t=>Nt(t)&&t.length===2&&t.every(e=>bu(e)),IW=Ge({modelValue:{type:Date},range:{type:_e(Array),validator:kW}}),PW={[Wt]:t=>bu(t),[pr]:t=>bu(t)},RW="ElCalendar",LW=re({name:RW}),NW=re({...LW,props:IW,emits:PW,setup(t,{expose:e,emit:n}){const i=t,r=Fe("calendar"),{calculateValidatedDateRange:a,date:s,pickDay:o,realSelectedDay:u,selectDate:c,validatedRange:h}=AW(i,n),{t:p}=nn(),v=L(()=>{const g=`el.datepicker.month${s.value.format("M")}`;return`${s.value.year()} ${p("el.datepicker.year")} ${p(g)}`});return e({selectedDay:u,pickDay:o,selectDate:c,calculateValidatedDateRange:a}),(g,y)=>(I(),K("div",{class:z(d(r).b())},[Z("div",{class:z(d(r).e("header"))},[oe(g.$slots,"header",{date:d(v)},()=>[Z("div",{class:z(d(r).e("title"))},Ne(d(v)),3),d(h).length===0?(I(),K("div",{key:0,class:z(d(r).e("button-group"))},[J(d(Ax),null,{default:ne(()=>[J(d(Pi),{size:"small",onClick:_=>d(c)("prev-month")},{default:ne(()=>[mt(Ne(d(p)("el.datepicker.prevMonth")),1)]),_:1},8,["onClick"]),J(d(Pi),{size:"small",onClick:_=>d(c)("today")},{default:ne(()=>[mt(Ne(d(p)("el.datepicker.today")),1)]),_:1},8,["onClick"]),J(d(Pi),{size:"small",onClick:_=>d(c)("next-month")},{default:ne(()=>[mt(Ne(d(p)("el.datepicker.nextMonth")),1)]),_:1},8,["onClick"])]),_:1})],2)):he("v-if",!0)])],2),d(h).length===0?(I(),K("div",{key:0,class:z(d(r).e("body"))},[J(M1,{date:d(s),"selected-day":d(u),onPick:d(o)},oa({_:2},[g.$slots["date-cell"]?{name:"date-cell",fn:ne(_=>[oe(g.$slots,"date-cell",Ma(ol(_)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(I(),K("div",{key:1,class:z(d(r).e("body"))},[(I(!0),K(ut,null,Ut(d(h),(_,w)=>(I(),we(M1,{key:w,date:_[0],"selected-day":d(u),range:_,"hide-header":w!==0,onPick:d(o)},oa({_:2},[g.$slots["date-cell"]?{name:"date-cell",fn:ne(b=>[oe(g.$slots,"date-cell",Ma(ol(b)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var OW=We(NW,[["__file","calendar.vue"]]);const DW=Dt(OW),FW=Ge({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:_e([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),BW=re({name:"ElCard"}),UW=re({...BW,props:FW,setup(t){const e=Fe("card");return(n,i)=>(I(),K("div",{class:z([d(e).b(),d(e).is(`${n.shadow}-shadow`)])},[n.$slots.header||n.header?(I(),K("div",{key:0,class:z(d(e).e("header"))},[oe(n.$slots,"header",{},()=>[mt(Ne(n.header),1)])],2)):he("v-if",!0),Z("div",{class:z([d(e).e("body"),n.bodyClass]),style:_t(n.bodyStyle)},[oe(n.$slots,"default")],6),n.$slots.footer||n.footer?(I(),K("div",{key:1,class:z(d(e).e("footer"))},[oe(n.$slots,"footer",{},()=>[mt(Ne(n.footer),1)])],2)):he("v-if",!0)],2))}});var VW=We(UW,[["__file","card.vue"]]);const zW=Dt(VW),$W=Ge({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),HW={change:(t,e)=>[t,e].every(kt)},jx=Symbol("carouselContextKey"),Hv="ElCarouselItem",T1=300,GW=(t,e,n)=>{const{children:i,addChild:r,removeChild:a}=Y0(qt(),Hv),s=bi(),o=W(-1),u=W(null),c=W(!1),h=W(),p=W(0),v=W(!0),g=W(!0),y=W(!1),_=L(()=>t.arrow!=="never"&&!d(M)),w=L(()=>i.value.some(Ce=>Ce.props.label.toString().length>0)),b=L(()=>t.type==="card"),M=L(()=>t.direction==="vertical"),C=L(()=>t.height!=="auto"?{height:t.height}:{height:`${p.value}px`,overflow:"hidden"}),x=Jo(Ce=>{P(Ce)},T1,{trailing:!0}),T=Jo(Ce=>{O(Ce)},T1),k=Ce=>v.value?o.value<=1?Ce<=1:Ce>1:!0;function R(){u.value&&(clearInterval(u.value),u.value=null)}function D(){t.interval<=0||!t.autoplay||u.value||(u.value=setInterval(()=>U(),t.interval))}const U=()=>{g.value||(y.value=!0),g.value=!1,o.value<i.value.length-1?o.value=o.value+1:t.loop?o.value=0:y.value=!1};function P(Ce){if(g.value||(y.value=!0),g.value=!1,Gt(Ce)){const Me=i.value.filter(De=>De.props.name===Ce);Me.length>0&&(Ce=i.value.indexOf(Me[0]))}if(Ce=Number(Ce),Number.isNaN(Ce)||Ce!==Math.floor(Ce))return;const pe=i.value.length,ue=o.value;Ce<0?o.value=t.loop?pe-1:0:Ce>=pe?o.value=t.loop?0:pe-1:o.value=Ce,ue===o.value&&N(ue),ce()}function N(Ce){i.value.forEach((pe,ue)=>{pe.translateItem(ue,o.value,Ce)})}function $(Ce,pe){var ue,Me,De,xe;const G=d(i),He=G.length;if(He===0||!Ce.states.inStage)return!1;const Qe=pe+1,at=pe-1,rt=He-1,it=G[rt].states.active,qe=G[0].states.active,te=(Me=(ue=G[Qe])==null?void 0:ue.states)==null?void 0:Me.active,ae=(xe=(De=G[at])==null?void 0:De.states)==null?void 0:xe.active;return pe===rt&&qe||te?"left":pe===0&&it||ae?"right":!1}function Q(){c.value=!0,t.pauseOnHover&&R()}function Y(){c.value=!1,D()}function H(){y.value=!1}function B(Ce){d(M)||i.value.forEach((pe,ue)=>{Ce===$(pe,ue)&&(pe.states.hover=!0)})}function X(){d(M)||i.value.forEach(Ce=>{Ce.states.hover=!1})}function q(Ce){Ce!==o.value&&(g.value||(y.value=!0)),o.value=Ce}function O(Ce){t.trigger==="hover"&&Ce!==o.value&&(o.value=Ce,g.value||(y.value=!0))}function V(){P(o.value-1)}function ee(){P(o.value+1)}function ce(){R(),t.pauseOnHover||D()}function se(Ce){t.height==="auto"&&(p.value=Ce)}function le(){var Ce;const pe=(Ce=s.default)==null?void 0:Ce.call(s);if(!pe)return null;const Me=Qs(pe).filter(De=>ni(De)&&De.type.name===Hv);return(Me==null?void 0:Me.length)===2&&t.loop&&!b.value?(v.value=!0,Me):(v.value=!1,null)}Le(()=>o.value,(Ce,pe)=>{N(pe),v.value&&(Ce=Ce%2,pe=pe%2),pe>-1&&e("change",Ce,pe)}),Le(()=>t.autoplay,Ce=>{Ce?D():R()}),Le(()=>t.loop,()=>{P(o.value)}),Le(()=>t.interval,()=>{ce()});const ye=Mn();return wt(()=>{Le(()=>i.value,()=>{i.value.length>0&&P(t.initialIndex)},{immediate:!0}),ye.value=On(h.value,()=>{N()}),D()}),xn(()=>{R(),h.value&&ye.value&&ye.value.stop()}),Zt(jx,{root:h,isCardType:b,isVertical:M,items:i,loop:t.loop,cardScale:t.cardScale,addItem:r,removeItem:a,setActiveItem:P,setContainerHeight:se}),{root:h,activeIndex:o,arrowDisplay:_,hasLabel:w,hover:c,isCardType:b,isTransitioning:y,items:i,isVertical:M,containerStyle:C,isItemsTwoLength:v,handleButtonEnter:B,handleTransitionEnd:H,handleButtonLeave:X,handleIndicatorClick:q,handleMouseEnter:Q,handleMouseLeave:Y,setActiveItem:P,prev:V,next:ee,PlaceholderItem:le,isTwoLengthShow:k,throttledArrowClick:x,throttledIndicatorHover:T}},WW="ElCarousel",KW=re({name:WW}),qW=re({...KW,props:$W,emits:HW,setup(t,{expose:e,emit:n}){const i=t,{root:r,activeIndex:a,arrowDisplay:s,hasLabel:o,hover:u,isCardType:c,items:h,isVertical:p,containerStyle:v,handleButtonEnter:g,handleButtonLeave:y,isTransitioning:_,handleIndicatorClick:w,handleMouseEnter:b,handleMouseLeave:M,handleTransitionEnd:C,setActiveItem:x,prev:T,next:k,PlaceholderItem:R,isTwoLengthShow:D,throttledArrowClick:U,throttledIndicatorHover:P}=GW(i,n),N=Fe("carousel"),{t:$}=nn(),Q=L(()=>{const B=[N.b(),N.m(i.direction)];return d(c)&&B.push(N.m("card")),B}),Y=L(()=>{const B=[N.e("container")];return i.motionBlur&&d(_)&&h.value.length>1&&B.push(d(p)?`${N.namespace.value}-transitioning-vertical`:`${N.namespace.value}-transitioning`),B}),H=L(()=>{const B=[N.e("indicators"),N.em("indicators",i.direction)];return d(o)&&B.push(N.em("indicators","labels")),i.indicatorPosition==="outside"&&B.push(N.em("indicators","outside")),d(p)&&B.push(N.em("indicators","right")),B});return e({activeIndex:a,setActiveItem:x,prev:T,next:k}),(B,X)=>(I(),K("div",{ref_key:"root",ref:r,class:z(d(Q)),onMouseenter:xt(d(b),["stop"]),onMouseleave:xt(d(M),["stop"])},[d(s)?(I(),we(ui,{key:0,name:"carousel-arrow-left",persisted:""},{default:ne(()=>[Bt(Z("button",{type:"button",class:z([d(N).e("arrow"),d(N).em("arrow","left")]),"aria-label":d($)("el.carousel.leftArrow"),onMouseenter:q=>d(g)("left"),onMouseleave:d(y),onClick:xt(q=>d(U)(d(a)-1),["stop"])},[J(d(dt),null,{default:ne(()=>[J(d(ao))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[sn,(B.arrow==="always"||d(u))&&(i.loop||d(a)>0)]])]),_:1})):he("v-if",!0),d(s)?(I(),we(ui,{key:1,name:"carousel-arrow-right",persisted:""},{default:ne(()=>[Bt(Z("button",{type:"button",class:z([d(N).e("arrow"),d(N).em("arrow","right")]),"aria-label":d($)("el.carousel.rightArrow"),onMouseenter:q=>d(g)("right"),onMouseleave:d(y),onClick:xt(q=>d(U)(d(a)+1),["stop"])},[J(d(dt),null,{default:ne(()=>[J(d(hr))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[sn,(B.arrow==="always"||d(u))&&(i.loop||d(a)<d(h).length-1)]])]),_:1})):he("v-if",!0),Z("div",{class:z(d(Y)),style:_t(d(v)),onTransitionend:d(C)},[J(d(R)),oe(B.$slots,"default")],46,["onTransitionend"]),B.indicatorPosition!=="none"?(I(),K("ul",{key:2,class:z(d(H))},[(I(!0),K(ut,null,Ut(d(h),(q,O)=>Bt((I(),K("li",{key:O,class:z([d(N).e("indicator"),d(N).em("indicator",B.direction),d(N).is("active",O===d(a))]),onMouseenter:V=>d(P)(O),onClick:xt(V=>d(w)(O),["stop"])},[Z("button",{class:z(d(N).e("button")),"aria-label":d($)("el.carousel.indicator",{index:O+1})},[d(o)?(I(),K("span",{key:0},Ne(q.props.label),1)):he("v-if",!0)],10,["aria-label"])],42,["onMouseenter","onClick"])),[[sn,d(D)(O)]])),128))],2)):he("v-if",!0),i.motionBlur?(I(),K("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},[Z("defs",null,[Z("filter",{id:"elCarouselHorizontal"},[Z("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),Z("filter",{id:"elCarouselVertical"},[Z("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])])])):he("v-if",!0)],42,["onMouseenter","onMouseleave"]))}});var YW=We(qW,[["__file","carousel.vue"]]);const jW=Ge({name:{type:String,default:""},label:{type:[String,Number],default:""}}),XW=t=>{const e=ct(jx),n=qt(),i=W(),r=W(!1),a=W(0),s=W(1),o=W(!1),u=W(!1),c=W(!1),h=W(!1),{isCardType:p,isVertical:v,cardScale:g}=e;function y(C,x,T){const k=T-1,R=x-1,D=x+1,U=T/2;return x===0&&C===k?-1:x===k&&C===0?T:C<R&&x-C>=U?T+1:C>D&&C-x>=U?-2:C}function _(C,x){var T,k;const R=d(v)?((T=e.root.value)==null?void 0:T.offsetHeight)||0:((k=e.root.value)==null?void 0:k.offsetWidth)||0;return c.value?R*((2-g)*(C-x)+1)/4:C<x?-(1+g)*R/4:(3+g)*R/4}function w(C,x,T){const k=e.root.value;return k?((T?k.offsetHeight:k.offsetWidth)||0)*(C-x):0}const b=(C,x,T)=>{var k;const R=d(p),D=(k=e.items.value.length)!=null?k:Number.NaN,U=C===x;!R&&!zn(T)&&(h.value=U||C===T),!U&&D>2&&e.loop&&(C=y(C,x,D));const P=d(v);o.value=U,R?(c.value=Math.round(Math.abs(C-x))<=1,a.value=_(C,x),s.value=d(o)?1:g):a.value=w(C,x,P),u.value=!0,U&&i.value&&e.setContainerHeight(i.value.offsetHeight)};function M(){if(e&&d(p)){const C=e.items.value.findIndex(({uid:x})=>x===n.uid);e.setActiveItem(C)}}return wt(()=>{e.addItem({props:t,states:jt({hover:r,translate:a,scale:s,active:o,ready:u,inStage:c,animating:h}),uid:n.uid,translateItem:b})}),As(()=>{e.removeItem(n.uid)}),{carouselItemRef:i,active:o,animating:h,hover:r,inStage:c,isVertical:v,translate:a,isCardType:p,scale:s,ready:u,handleItemClick:M}},ZW=re({name:Hv}),QW=re({...ZW,props:jW,setup(t){const e=t,n=Fe("carousel"),{carouselItemRef:i,active:r,animating:a,hover:s,inStage:o,isVertical:u,translate:c,isCardType:h,scale:p,ready:v,handleItemClick:g}=XW(e),y=L(()=>[n.e("item"),n.is("active",r.value),n.is("in-stage",o.value),n.is("hover",s.value),n.is("animating",a.value),{[n.em("item","card")]:h.value,[n.em("item","card-vertical")]:h.value&&u.value}]),_=L(()=>{const b=`${`translate${d(u)?"Y":"X"}`}(${d(c)}px)`,M=`scale(${d(p)})`;return{transform:[b,M].join(" ")}});return(w,b)=>Bt((I(),K("div",{ref_key:"carouselItemRef",ref:i,class:z(d(y)),style:_t(d(_)),onClick:d(g)},[d(h)?Bt((I(),K("div",{key:0,class:z(d(n).e("mask"))},null,2)),[[sn,!d(r)]]):he("v-if",!0),oe(w.$slots,"default")],14,["onClick"])),[[sn,d(v)]])}});var Xx=We(QW,[["__file","carousel-item.vue"]]);const JW=Dt(YW,{CarouselItem:Xx}),e7=Bn(Xx),Zx={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:gi,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...Ui(["ariaControls"])},Qx={[Wt]:t=>Gt(t)||kt(t)||$n(t),change:t=>Gt(t)||kt(t)||$n(t)},ec=Symbol("checkboxGroupContextKey"),t7=({model:t,isChecked:e})=>{const n=ct(ec,void 0),i=L(()=>{var a,s;const o=(a=n==null?void 0:n.max)==null?void 0:a.value,u=(s=n==null?void 0:n.min)==null?void 0:s.value;return!zn(o)&&t.value.length>=o&&!e.value||!zn(u)&&t.value.length<=u&&e.value});return{isDisabled:ir(L(()=>(n==null?void 0:n.disabled.value)||i.value)),isLimitDisabled:i}},n7=(t,{model:e,isLimitExceeded:n,hasOwnLabel:i,isDisabled:r,isLabeledByFormItem:a})=>{const s=ct(ec,void 0),{formItem:o}=rr(),{emit:u}=qt();function c(y){var _,w,b,M;return[!0,t.trueValue,t.trueLabel].includes(y)?(w=(_=t.trueValue)!=null?_:t.trueLabel)!=null?w:!0:(M=(b=t.falseValue)!=null?b:t.falseLabel)!=null?M:!1}function h(y,_){u("change",c(y),_)}function p(y){if(n.value)return;const _=y.target;u("change",c(_.checked),y)}async function v(y){n.value||!i.value&&!r.value&&a.value&&(y.composedPath().some(b=>b.tagName==="LABEL")||(e.value=c([!1,t.falseValue,t.falseLabel].includes(e.value)),await yt(),h(e.value,y)))}const g=L(()=>(s==null?void 0:s.validateEvent)||t.validateEvent);return Le(()=>t.modelValue,()=>{g.value&&(o==null||o.validate("change").catch(y=>void 0))}),{handleChange:p,onClickRoot:v}},i7=t=>{const e=W(!1),{emit:n}=qt(),i=ct(ec,void 0),r=L(()=>zn(i)===!1),a=W(!1),s=L({get(){var o,u;return r.value?(o=i==null?void 0:i.modelValue)==null?void 0:o.value:(u=t.modelValue)!=null?u:e.value},set(o){var u,c;r.value&&Nt(o)?(a.value=((u=i==null?void 0:i.max)==null?void 0:u.value)!==void 0&&o.length>(i==null?void 0:i.max.value)&&o.length>s.value.length,a.value===!1&&((c=i==null?void 0:i.changeEvent)==null||c.call(i,o))):(n(Wt,o),e.value=o)}});return{model:s,isGroup:r,isLimitExceeded:a}},r7=(t,e,{model:n})=>{const i=ct(ec,void 0),r=W(!1),a=L(()=>cl(t.value)?t.label:t.value),s=L(()=>{const h=n.value;return $n(h)?h:Nt(h)?bn(a.value)?h.map(_u).some(p=>er(p,a.value)):h.map(_u).includes(a.value):h!=null?h===t.trueValue||h===t.trueLabel:!!h}),o=fi(L(()=>{var h;return(h=i==null?void 0:i.size)==null?void 0:h.value}),{prop:!0}),u=fi(L(()=>{var h;return(h=i==null?void 0:i.size)==null?void 0:h.value})),c=L(()=>!!e.default||!cl(a.value));return{checkboxButtonSize:o,isChecked:s,isFocused:r,checkboxSize:u,hasOwnLabel:c,actualValue:a}},Jx=(t,e)=>{const{formItem:n}=rr(),{model:i,isGroup:r,isLimitExceeded:a}=i7(t),{isFocused:s,isChecked:o,checkboxButtonSize:u,checkboxSize:c,hasOwnLabel:h,actualValue:p}=r7(t,e,{model:i}),{isDisabled:v}=t7({model:i,isChecked:o}),{inputId:g,isLabeledByFormItem:y}=Ba(t,{formItemContext:n,disableIdGeneration:h,disableIdManagement:r}),{handleChange:_,onClickRoot:w}=n7(t,{model:i,isLimitExceeded:a,hasOwnLabel:h,isDisabled:v,isLabeledByFormItem:y});return(()=>{function M(){var C,x;Nt(i.value)&&!i.value.includes(p.value)?i.value.push(p.value):i.value=(x=(C=t.trueValue)!=null?C:t.trueLabel)!=null?x:!0}t.checked&&M()})(),Js({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},L(()=>r.value&&cl(t.value))),Js({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},L(()=>!!t.trueLabel)),Js({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},L(()=>!!t.falseLabel)),{inputId:g,isLabeledByFormItem:y,isChecked:o,isDisabled:v,isFocused:s,checkboxButtonSize:u,checkboxSize:c,hasOwnLabel:h,model:i,actualValue:p,handleChange:_,onClickRoot:w}},a7=re({name:"ElCheckbox"}),s7=re({...a7,props:Zx,emits:Qx,setup(t){const e=t,n=bi(),{inputId:i,isLabeledByFormItem:r,isChecked:a,isDisabled:s,isFocused:o,checkboxSize:u,hasOwnLabel:c,model:h,actualValue:p,handleChange:v,onClickRoot:g}=Jx(e,n),y=Fe("checkbox"),_=L(()=>[y.b(),y.m(u.value),y.is("disabled",s.value),y.is("bordered",e.border),y.is("checked",a.value)]),w=L(()=>[y.e("input"),y.is("disabled",s.value),y.is("checked",a.value),y.is("indeterminate",e.indeterminate),y.is("focus",o.value)]);return(b,M)=>(I(),we(Vt(!d(c)&&d(r)?"span":"label"),{class:z(d(_)),"aria-controls":b.indeterminate?b.ariaControls:null,onClick:d(g)},{default:ne(()=>{var C,x,T,k;return[Z("span",{class:z(d(w))},[b.trueValue||b.falseValue||b.trueLabel||b.falseLabel?Bt((I(),K("input",{key:0,id:d(i),"onUpdate:modelValue":R=>Ji(h)?h.value=R:null,class:z(d(y).e("original")),type:"checkbox",indeterminate:b.indeterminate,name:b.name,tabindex:b.tabindex,disabled:d(s),"true-value":(x=(C=b.trueValue)!=null?C:b.trueLabel)!=null?x:!0,"false-value":(k=(T=b.falseValue)!=null?T:b.falseLabel)!=null?k:!1,onChange:d(v),onFocus:R=>o.value=!0,onBlur:R=>o.value=!1,onClick:xt(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[nh,d(h)]]):Bt((I(),K("input",{key:1,id:d(i),"onUpdate:modelValue":R=>Ji(h)?h.value=R:null,class:z(d(y).e("original")),type:"checkbox",indeterminate:b.indeterminate,disabled:d(s),value:d(p),name:b.name,tabindex:b.tabindex,onChange:d(v),onFocus:R=>o.value=!0,onBlur:R=>o.value=!1,onClick:xt(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","disabled","value","name","tabindex","onChange","onFocus","onBlur","onClick"])),[[nh,d(h)]]),Z("span",{class:z(d(y).e("inner"))},null,2)],2),d(c)?(I(),K("span",{key:0,class:z(d(y).e("label"))},[oe(b.$slots,"default"),b.$slots.default?he("v-if",!0):(I(),K(ut,{key:0},[mt(Ne(b.label),1)],64))],2)):he("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var o7=We(s7,[["__file","checkbox.vue"]]);const l7=re({name:"ElCheckboxButton"}),u7=re({...l7,props:Zx,emits:Qx,setup(t){const e=t,n=bi(),{isFocused:i,isChecked:r,isDisabled:a,checkboxButtonSize:s,model:o,actualValue:u,handleChange:c}=Jx(e,n),h=ct(ec,void 0),p=Fe("checkbox"),v=L(()=>{var y,_,w,b;const M=(_=(y=h==null?void 0:h.fill)==null?void 0:y.value)!=null?_:"";return{backgroundColor:M,borderColor:M,color:(b=(w=h==null?void 0:h.textColor)==null?void 0:w.value)!=null?b:"",boxShadow:M?`-1px 0 0 0 ${M}`:void 0}}),g=L(()=>[p.b("button"),p.bm("button",s.value),p.is("disabled",a.value),p.is("checked",r.value),p.is("focus",i.value)]);return(y,_)=>{var w,b,M,C;return I(),K("label",{class:z(d(g))},[y.trueValue||y.falseValue||y.trueLabel||y.falseLabel?Bt((I(),K("input",{key:0,"onUpdate:modelValue":x=>Ji(o)?o.value=x:null,class:z(d(p).be("button","original")),type:"checkbox",name:y.name,tabindex:y.tabindex,disabled:d(a),"true-value":(b=(w=y.trueValue)!=null?w:y.trueLabel)!=null?b:!0,"false-value":(C=(M=y.falseValue)!=null?M:y.falseLabel)!=null?C:!1,onChange:d(c),onFocus:x=>i.value=!0,onBlur:x=>i.value=!1,onClick:xt(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[nh,d(o)]]):Bt((I(),K("input",{key:1,"onUpdate:modelValue":x=>Ji(o)?o.value=x:null,class:z(d(p).be("button","original")),type:"checkbox",name:y.name,tabindex:y.tabindex,disabled:d(a),value:d(u),onChange:d(c),onFocus:x=>i.value=!0,onBlur:x=>i.value=!1,onClick:xt(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","value","onChange","onFocus","onBlur","onClick"])),[[nh,d(o)]]),y.$slots.default||y.label?(I(),K("span",{key:2,class:z(d(p).be("button","inner")),style:_t(d(r)?d(v):void 0)},[oe(y.$slots,"default",{},()=>[mt(Ne(y.label),1)])],6)):he("v-if",!0)],2)}}});var eM=We(u7,[["__file","checkbox-button.vue"]]);const c7=Ge({modelValue:{type:_e(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:gi,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...Ui(["ariaLabel"])}),d7={[Wt]:t=>Nt(t),change:t=>Nt(t)},f7=re({name:"ElCheckboxGroup"}),h7=re({...f7,props:c7,emits:d7,setup(t,{emit:e}){const n=t,i=Fe("checkbox"),{formItem:r}=rr(),{inputId:a,isLabeledByFormItem:s}=Ba(n,{formItemContext:r}),o=async c=>{e(Wt,c),await yt(),e("change",c)},u=L({get(){return n.modelValue},set(c){o(c)}});return Zt(ec,{...Ta(Ri(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:u,changeEvent:o}),Le(()=>n.modelValue,()=>{n.validateEvent&&(r==null||r.validate("change").catch(c=>void 0))}),(c,h)=>{var p;return I(),we(Vt(c.tag),{id:d(a),class:z(d(i).b("group")),role:"group","aria-label":d(s)?void 0:c.ariaLabel||"checkbox-group","aria-labelledby":d(s)?(p=d(r))==null?void 0:p.labelId:void 0},{default:ne(()=>[oe(c.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var tM=We(h7,[["__file","checkbox-group.vue"]]);const da=Dt(o7,{CheckboxButton:eM,CheckboxGroup:tM}),p7=Bn(eM),nM=Bn(tM),iM=Ge({modelValue:{type:[String,Number,Boolean],default:void 0},size:gi,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),m7=Ge({...iM,border:Boolean}),rM={[Wt]:t=>Gt(t)||kt(t)||$n(t),[Rn]:t=>Gt(t)||kt(t)||$n(t)},aM=Symbol("radioGroupKey"),sM=(t,e)=>{const n=W(),i=ct(aM,void 0),r=L(()=>!!i),a=L(()=>cl(t.value)?t.label:t.value),s=L({get(){return r.value?i.modelValue:t.modelValue},set(p){r.value?i.changeEvent(p):e&&e(Wt,p),n.value.checked=t.modelValue===a.value}}),o=fi(L(()=>i==null?void 0:i.size)),u=ir(L(()=>i==null?void 0:i.disabled)),c=W(!1),h=L(()=>u.value||r.value&&s.value!==a.value?-1:0);return Js({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},L(()=>r.value&&cl(t.value))),{radioRef:n,isGroup:r,radioGroup:i,focus:c,size:o,disabled:u,tabIndex:h,modelValue:s,actualValue:a}},v7=re({name:"ElRadio"}),g7=re({...v7,props:m7,emits:rM,setup(t,{emit:e}){const n=t,i=Fe("radio"),{radioRef:r,radioGroup:a,focus:s,size:o,disabled:u,modelValue:c,actualValue:h}=sM(n,e);function p(){yt(()=>e("change",c.value))}return(v,g)=>{var y;return I(),K("label",{class:z([d(i).b(),d(i).is("disabled",d(u)),d(i).is("focus",d(s)),d(i).is("bordered",v.border),d(i).is("checked",d(c)===d(h)),d(i).m(d(o))])},[Z("span",{class:z([d(i).e("input"),d(i).is("disabled",d(u)),d(i).is("checked",d(c)===d(h))])},[Bt(Z("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":_=>Ji(c)?c.value=_:null,class:z(d(i).e("original")),value:d(h),name:v.name||((y=d(a))==null?void 0:y.name),disabled:d(u),checked:d(c)===d(h),type:"radio",onFocus:_=>s.value=!0,onBlur:_=>s.value=!1,onChange:p,onClick:xt(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","checked","onFocus","onBlur","onClick"]),[[VC,d(c)]]),Z("span",{class:z(d(i).e("inner"))},null,2)],2),Z("span",{class:z(d(i).e("label")),onKeydown:xt(()=>{},["stop"])},[oe(v.$slots,"default",{},()=>[mt(Ne(v.label),1)])],42,["onKeydown"])],2)}}});var y7=We(g7,[["__file","radio.vue"]]);const _7=Ge({...iM}),b7=re({name:"ElRadioButton"}),w7=re({...b7,props:_7,setup(t){const e=t,n=Fe("radio"),{radioRef:i,focus:r,size:a,disabled:s,modelValue:o,radioGroup:u,actualValue:c}=sM(e),h=L(()=>({backgroundColor:(u==null?void 0:u.fill)||"",borderColor:(u==null?void 0:u.fill)||"",boxShadow:u!=null&&u.fill?`-1px 0 0 0 ${u.fill}`:"",color:(u==null?void 0:u.textColor)||""}));return(p,v)=>{var g;return I(),K("label",{class:z([d(n).b("button"),d(n).is("active",d(o)===d(c)),d(n).is("disabled",d(s)),d(n).is("focus",d(r)),d(n).bm("button",d(a))])},[Bt(Z("input",{ref_key:"radioRef",ref:i,"onUpdate:modelValue":y=>Ji(o)?o.value=y:null,class:z(d(n).be("button","original-radio")),value:d(c),type:"radio",name:p.name||((g=d(u))==null?void 0:g.name),disabled:d(s),onFocus:y=>r.value=!0,onBlur:y=>r.value=!1,onClick:xt(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","onFocus","onBlur","onClick"]),[[VC,d(o)]]),Z("span",{class:z(d(n).be("button","inner")),style:_t(d(o)===d(c)?d(h):{}),onKeydown:xt(()=>{},["stop"])},[oe(p.$slots,"default",{},()=>[mt(Ne(p.label),1)])],46,["onKeydown"])],2)}}});var oM=We(w7,[["__file","radio-button.vue"]]);const S7=Ge({id:{type:String,default:void 0},size:gi,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...Ui(["ariaLabel"])}),C7=rM,E7=re({name:"ElRadioGroup"}),x7=re({...E7,props:S7,emits:C7,setup(t,{emit:e}){const n=t,i=Fe("radio"),r=Bi(),a=W(),{formItem:s}=rr(),{inputId:o,isLabeledByFormItem:u}=Ba(n,{formItemContext:s}),c=p=>{e(Wt,p),yt(()=>e("change",p))};wt(()=>{const p=a.value.querySelectorAll("[type=radio]"),v=p[0];!Array.from(p).some(g=>g.checked)&&v&&(v.tabIndex=0)});const h=L(()=>n.name||r.value);return Zt(aM,jt({...Ri(n),changeEvent:c,name:h})),Le(()=>n.modelValue,()=>{n.validateEvent&&(s==null||s.validate("change").catch(p=>void 0))}),(p,v)=>(I(),K("div",{id:d(o),ref_key:"radioGroupRef",ref:a,class:z(d(i).b("group")),role:"radiogroup","aria-label":d(u)?void 0:p.ariaLabel||"radio-group","aria-labelledby":d(u)?d(s).labelId:void 0},[oe(p.$slots,"default")],10,["id","aria-label","aria-labelledby"]))}});var lM=We(x7,[["__file","radio-group.vue"]]);const uM=Dt(y7,{RadioButton:oM,RadioGroup:lM}),M7=Bn(lM),T7=Bn(oM);var A7=re({name:"NodeContent",setup(){return{ns:Fe("cascader-node")}},render(){const{ns:t}=this,{node:e,panel:n}=this.$parent,{data:i,label:r}=e,{renderLabelFn:a}=n;return Ct("span",{class:t.e("label")},a?a({node:e,data:i}):r)}});const ry=Symbol(),k7=re({name:"ElCascaderNode",components:{ElCheckbox:da,ElRadio:uM,NodeContent:A7,ElIcon:dt,Check:hd,Loading:Za,ArrowRight:hr},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(t,{emit:e}){const n=ct(ry),i=Fe("cascader-node"),r=L(()=>n.isHoverMenu),a=L(()=>n.config.multiple),s=L(()=>n.config.checkStrictly),o=L(()=>{var k;return(k=n.checkedNodes[0])==null?void 0:k.uid}),u=L(()=>t.node.isDisabled),c=L(()=>t.node.isLeaf),h=L(()=>s.value&&!c.value||!u.value),p=L(()=>g(n.expandingNode)),v=L(()=>s.value&&n.checkedNodes.some(g)),g=k=>{var R;const{level:D,uid:U}=t.node;return((R=k==null?void 0:k.pathNodes[D-1])==null?void 0:R.uid)===U},y=()=>{p.value||n.expandNode(t.node)},_=k=>{const{node:R}=t;k!==R.checked&&n.handleCheckChange(R,k)},w=()=>{n.lazyLoad(t.node,()=>{c.value||y()})},b=k=>{r.value&&(M(),!c.value&&e("expand",k))},M=()=>{const{node:k}=t;!h.value||k.loading||(k.loaded?y():w())},C=()=>{r.value&&!c.value||(c.value&&!u.value&&!s.value&&!a.value?T(!0):M())},x=k=>{s.value?(_(k),t.node.loaded&&y()):T(k)},T=k=>{t.node.loaded?(_(k),!s.value&&y()):w()};return{panel:n,isHoverMenu:r,multiple:a,checkStrictly:s,checkedNodeId:o,isDisabled:u,isLeaf:c,expandable:h,inExpandingPath:p,inCheckedPath:v,ns:i,handleHoverExpand:b,handleExpand:M,handleClick:C,handleCheck:T,handleSelectCheck:x}}});function I7(t,e,n,i,r,a){const s=At("el-checkbox"),o=At("el-radio"),u=At("check"),c=At("el-icon"),h=At("node-content"),p=At("loading"),v=At("arrow-right");return I(),K("li",{id:`${t.menuId}-${t.node.uid}`,role:"menuitem","aria-haspopup":!t.isLeaf,"aria-owns":t.isLeaf?null:t.menuId,"aria-expanded":t.inExpandingPath,tabindex:t.expandable?-1:void 0,class:z([t.ns.b(),t.ns.is("selectable",t.checkStrictly),t.ns.is("active",t.node.checked),t.ns.is("disabled",!t.expandable),t.inExpandingPath&&"in-active-path",t.inCheckedPath&&"in-checked-path"]),onMouseenter:t.handleHoverExpand,onFocus:t.handleHoverExpand,onClick:t.handleClick},[he(" prefix "),t.multiple?(I(),we(s,{key:0,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:t.isDisabled,onClick:xt(()=>{},["stop"]),"onUpdate:modelValue":t.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onClick","onUpdate:modelValue"])):t.checkStrictly?(I(),we(o,{key:1,"model-value":t.checkedNodeId,label:t.node.uid,disabled:t.isDisabled,"onUpdate:modelValue":t.handleSelectCheck,onClick:xt(()=>{},["stop"])},{default:ne(()=>[he(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),Z("span")]),_:1},8,["model-value","label","disabled","onUpdate:modelValue","onClick"])):t.isLeaf&&t.node.checked?(I(),we(c,{key:2,class:z(t.ns.e("prefix"))},{default:ne(()=>[J(u)]),_:1},8,["class"])):he("v-if",!0),he(" content "),J(h),he(" postfix "),t.isLeaf?he("v-if",!0):(I(),K(ut,{key:3},[t.node.loading?(I(),we(c,{key:0,class:z([t.ns.is("loading"),t.ns.e("postfix")])},{default:ne(()=>[J(p)]),_:1},8,["class"])):(I(),we(c,{key:1,class:z(["arrow-right",t.ns.e("postfix")])},{default:ne(()=>[J(v)]),_:1},8,["class"]))],64))],42,["id","aria-haspopup","aria-owns","aria-expanded","tabindex","onMouseenter","onFocus","onClick"])}var P7=We(k7,[["render",I7],["__file","node.vue"]]);const R7=re({name:"ElCascaderMenu",components:{Loading:Za,ElIcon:dt,ElScrollbar:as,ElCascaderNode:P7},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(t){const e=qt(),n=Fe("cascader-menu"),{t:i}=nn(),r=Bi();let a=null,s=null;const o=ct(ry),u=W(null),c=L(()=>!t.nodes.length),h=L(()=>!o.initialLoaded),p=L(()=>`${r.value}-${t.index}`),v=w=>{a=w.target},g=w=>{if(!(!o.isHoverMenu||!a||!u.value))if(a.contains(w.target)){y();const b=e.vnode.el,{left:M}=b.getBoundingClientRect(),{offsetWidth:C,offsetHeight:x}=b,T=w.clientX-M,k=a.offsetTop,R=k+a.offsetHeight;u.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${T} ${k} L${C} 0 V${k} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${T} ${R} L${C} ${x} V${R} Z" />
        `}else s||(s=window.setTimeout(_,o.config.hoverThreshold))},y=()=>{s&&(clearTimeout(s),s=null)},_=()=>{u.value&&(u.value.innerHTML="",y())};return{ns:n,panel:o,hoverZone:u,isEmpty:c,isLoading:h,menuId:p,t:i,handleExpand:v,handleMouseMove:g,clearHoverZone:_}}});function L7(t,e,n,i,r,a){const s=At("el-cascader-node"),o=At("loading"),u=At("el-icon"),c=At("el-scrollbar");return I(),we(c,{key:t.menuId,tag:"ul",role:"menu",class:z(t.ns.b()),"wrap-class":t.ns.e("wrap"),"view-class":[t.ns.e("list"),t.ns.is("empty",t.isEmpty)],onMousemove:t.handleMouseMove,onMouseleave:t.clearHoverZone},{default:ne(()=>{var h;return[(I(!0),K(ut,null,Ut(t.nodes,p=>(I(),we(s,{key:p.uid,node:p,"menu-id":t.menuId,onExpand:t.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),t.isLoading?(I(),K("div",{key:0,class:z(t.ns.e("empty-text"))},[J(u,{size:"14",class:z(t.ns.is("loading"))},{default:ne(()=>[J(o)]),_:1},8,["class"]),mt(" "+Ne(t.t("el.cascader.loading")),1)],2)):t.isEmpty?(I(),K("div",{key:1,class:z(t.ns.e("empty-text"))},[oe(t.$slots,"empty",{},()=>[mt(Ne(t.t("el.cascader.noData")),1)])],2)):(h=t.panel)!=null&&h.isHoverMenu?(I(),K("svg",{key:2,ref:"hoverZone",class:z(t.ns.e("hover-zone"))},null,2)):he("v-if",!0)]}),_:3},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var N7=We(R7,[["render",L7],["__file","menu.vue"]]);let O7=0;const D7=t=>{const e=[t];let{parent:n}=t;for(;n;)e.unshift(n),n=n.parent;return e};let Gv=class Wv{constructor(e,n,i,r=!1){this.data=e,this.config=n,this.parent=i,this.root=r,this.uid=O7++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:a,label:s,children:o}=n,u=e[o],c=D7(this);this.level=r?0:i?i.level+1:1,this.value=e[a],this.label=e[s],this.pathNodes=c,this.pathValues=c.map(h=>h.value),this.pathLabels=c.map(h=>h.label),this.childrenData=u,this.children=(u||[]).map(h=>new Wv(h,n,this)),this.loaded=!n.lazy||this.isLeaf||!zr(u)}get isDisabled(){const{data:e,parent:n,config:i}=this,{disabled:r,checkStrictly:a}=i;return(un(r)?r(e,this):!!e[r])||!a&&(n==null?void 0:n.isDisabled)}get isLeaf(){const{data:e,config:n,childrenData:i,loaded:r}=this,{lazy:a,leaf:s}=n,o=un(s)?s(e,this):e[s];return zn(o)?a&&!r?!1:!(Array.isArray(i)&&i.length):!!o}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:n,children:i}=this,r=new Wv(e,this.config,this);return Array.isArray(n)?n.push(e):this.childrenData=[e],i.push(r),r}calcText(e,n){const i=e?this.pathLabels.join(n):this.label;return this.text=i,i}broadcast(e,...n){const i=`onParent${Ga(e)}`;this.children.forEach(r=>{r&&(r.broadcast(e,...n),r[i]&&r[i](...n))})}emit(e,...n){const{parent:i}=this,r=`onChild${Ga(e)}`;i&&(i[r]&&i[r](...n),i.emit(e,...n))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,n=e.filter(r=>!r.isDisabled),i=n.length?n.every(r=>r.checked):!1;this.setCheckState(i)}setCheckState(e){const n=this.children.length,i=this.children.reduce((r,a)=>{const s=a.checked?1:a.indeterminate?.5:0;return r+s},0);this.checked=this.loaded&&this.children.filter(r=>!r.isDisabled).every(r=>r.loaded&&r.checked)&&e,this.indeterminate=this.loaded&&i!==n&&i>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:n,multiple:i}=this.config;n||!i?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}};const Kv=(t,e)=>t.reduce((n,i)=>(i.isLeaf?n.push(i):(!e&&n.push(i),n=n.concat(Kv(i.children,e))),n),[]);class A1{constructor(e,n){this.config=n;const i=(e||[]).map(r=>new Gv(r,this.config));this.nodes=i,this.allNodes=Kv(i,!1),this.leafNodes=Kv(i,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,n){const i=n?n.appendChild(e):new Gv(e,this.config);n||this.nodes.push(i),this.allNodes.push(i),i.isLeaf&&this.leafNodes.push(i)}appendNodes(e,n){e.forEach(i=>this.appendNode(i,n))}getNodeByValue(e,n=!1){return!e&&e!==0?null:this.getFlattedNodes(n).find(r=>er(r.value,e)||er(r.pathValues,e))||null}getSameNode(e){return e&&this.getFlattedNodes(!1).find(({value:i,level:r})=>er(e.value,i)&&e.level===r)||null}}const cM=Ge({modelValue:{type:_e([Number,String,Array])},options:{type:_e(Array),default:()=>[]},props:{type:_e(Object),default:()=>({})}}),F7={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:Kn,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},B7=t=>L(()=>({...F7,...t.props})),k1=t=>{if(!t)return 0;const e=t.id.split("-");return Number(e[e.length-2])},U7=t=>{if(!t)return;const e=t.querySelector("input");e?e.click():lE(t)&&t.click()},V7=(t,e)=>{const n=e.slice(0),i=n.map(a=>a.uid),r=t.reduce((a,s)=>{const o=i.indexOf(s.uid);return o>-1&&(a.push(s),n.splice(o,1),i.splice(o,1)),a},[]);return r.push(...n),r},z7=re({name:"ElCascaderPanel",components:{ElCascaderMenu:N7},props:{...cM,border:{type:Boolean,default:!0},renderLabel:Function},emits:[Wt,Rn,"close","expand-change"],setup(t,{emit:e,slots:n}){let i=!1;const r=Fe("cascader"),a=B7(t);let s=null;const o=W(!0),u=W([]),c=W(null),h=W([]),p=W(null),v=W([]),g=L(()=>a.value.expandTrigger==="hover"),y=L(()=>t.renderLabel||n.default),_=()=>{const{options:$}=t,Q=a.value;i=!1,s=new A1($,Q),h.value=[s.getNodes()],Q.lazy&&zr(t.options)?(o.value=!1,w(void 0,Y=>{Y&&(s=new A1(Y,Q),h.value=[s.getNodes()]),o.value=!0,D(!1,!0)})):D(!1,!0)},w=($,Q)=>{const Y=a.value;$=$||new Gv({},Y,void 0,!0),$.loading=!0;const H=B=>{const X=$,q=X.root?null:X;B&&(s==null||s.appendNodes(B,q)),X.loading=!1,X.loaded=!0,X.childrenData=X.childrenData||[],Q&&Q(B)};Y.lazyLoad($,H)},b=($,Q)=>{var Y;const{level:H}=$,B=h.value.slice(0,H);let X;$.isLeaf?X=$.pathNodes[H-2]:(X=$,B.push($.children)),((Y=p.value)==null?void 0:Y.uid)!==(X==null?void 0:X.uid)&&(p.value=$,h.value=B,!Q&&e("expand-change",($==null?void 0:$.pathValues)||[]))},M=($,Q,Y=!0)=>{const{checkStrictly:H,multiple:B}=a.value,X=v.value[0];i=!0,!B&&(X==null||X.doCheck(!1)),$.doCheck(Q),R(),Y&&!B&&!H&&e("close"),!Y&&!B&&!H&&C($)},C=$=>{$&&($=$.parent,C($),$&&b($))},x=$=>s==null?void 0:s.getFlattedNodes($),T=$=>{var Q;return(Q=x($))==null?void 0:Q.filter(Y=>Y.checked!==!1)},k=()=>{v.value.forEach($=>$.doCheck(!1)),R(),h.value=h.value.slice(0,1),p.value=null,e("expand-change",[])},R=()=>{var $;const{checkStrictly:Q,multiple:Y}=a.value,H=v.value,B=T(!Q),X=V7(H,B),q=X.map(O=>O.valueByOption);v.value=X,c.value=Y?q:($=q[0])!=null?$:null},D=($=!1,Q=!1)=>{const{modelValue:Y}=t,{lazy:H,multiple:B,checkStrictly:X}=a.value,q=!X;if(!(!o.value||i||!Q&&er(Y,c.value)))if(H&&!$){const V=Ab(EV(fr(Y))).map(ee=>s==null?void 0:s.getNodeByValue(ee)).filter(ee=>!!ee&&!ee.loaded&&!ee.loading);V.length?V.forEach(ee=>{w(ee,()=>D(!1,Q))}):D(!0,Q)}else{const O=B?fr(Y):[Y],V=Ab(O.map(ee=>s==null?void 0:s.getNodeByValue(ee,q)));U(V,Q),c.value=sh(Y)}},U=($,Q=!0)=>{const{checkStrictly:Y}=a.value,H=v.value,B=$.filter(O=>!!O&&(Y||O.isLeaf)),X=s==null?void 0:s.getSameNode(p.value),q=Q&&X||B[0];q?q.pathNodes.forEach(O=>b(O,!0)):p.value=null,H.forEach(O=>O.doCheck(!1)),jt(B).forEach(O=>O.doCheck(!0)),v.value=B,yt(P)},P=()=>{tn&&u.value.forEach($=>{const Q=$==null?void 0:$.$el;if(Q){const Y=Q.querySelector(`.${r.namespace.value}-scrollbar__wrap`),H=Q.querySelector(`.${r.b("node")}.${r.is("active")}`)||Q.querySelector(`.${r.b("node")}.in-active-path`);x0(Y,H)}})},N=$=>{const Q=$.target,{code:Y}=$;switch(Y){case St.up:case St.down:{$.preventDefault();const H=Y===St.up?-1:1;Ff(uE(Q,H,`.${r.b("node")}[tabindex="-1"]`));break}case St.left:{$.preventDefault();const H=u.value[k1(Q)-1],B=H==null?void 0:H.$el.querySelector(`.${r.b("node")}[aria-expanded="true"]`);Ff(B);break}case St.right:{$.preventDefault();const H=u.value[k1(Q)+1],B=H==null?void 0:H.$el.querySelector(`.${r.b("node")}[tabindex="-1"]`);Ff(B);break}case St.enter:U7(Q);break}};return Zt(ry,jt({config:a,expandingNode:p,checkedNodes:v,isHoverMenu:g,initialLoaded:o,renderLabelFn:y,lazyLoad:w,expandNode:b,handleCheckChange:M})),Le([a,()=>t.options],_,{deep:!0,immediate:!0}),Le(()=>t.modelValue,()=>{i=!1,D()},{deep:!0}),Le(()=>c.value,$=>{er($,t.modelValue)||(e(Wt,$),e(Rn,$))}),vI(()=>u.value=[]),wt(()=>!zr(t.modelValue)&&D()),{ns:r,menuList:u,menus:h,checkedNodes:v,handleKeyDown:N,handleCheckChange:M,getFlattedNodes:x,getCheckedNodes:T,clearCheckedNodes:k,calculateCheckedValue:R,scrollToExpandingNode:P}}});function $7(t,e,n,i,r,a){const s=At("el-cascader-menu");return I(),K("div",{class:z([t.ns.b("panel"),t.ns.is("bordered",t.border)]),onKeydown:t.handleKeyDown},[(I(!0),K(ut,null,Ut(t.menus,(o,u)=>(I(),we(s,{key:u,ref_for:!0,ref:c=>t.menuList[u]=c,index:u,nodes:[...o]},{empty:ne(()=>[oe(t.$slots,"empty")]),_:2},1032,["index","nodes"]))),128))],42,["onKeydown"])}var H7=We(z7,[["render",$7],["__file","index.vue"]]);const dM=Dt(H7),pl=Ge({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:is},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),G7={close:t=>t instanceof MouseEvent,click:t=>t instanceof MouseEvent},W7=re({name:"ElTag"}),K7=re({...W7,props:pl,emits:G7,setup(t,{emit:e}){const n=t,i=fi(),r=Fe("tag"),a=L(()=>{const{type:c,hit:h,effect:p,closable:v,round:g}=n;return[r.b(),r.is("closable",v),r.m(c||"primary"),r.m(i.value),r.m(p),r.is("hit",h),r.is("round",g)]}),s=c=>{e("close",c)},o=c=>{e("click",c)},u=c=>{c.component.subTree.component.bum=null};return(c,h)=>c.disableTransitions?(I(),K("span",{key:0,class:z(d(a)),style:_t({backgroundColor:c.color}),onClick:o},[Z("span",{class:z(d(r).e("content"))},[oe(c.$slots,"default")],2),c.closable?(I(),we(d(dt),{key:0,class:z(d(r).e("close")),onClick:xt(s,["stop"])},{default:ne(()=>[J(d(Ra))]),_:1},8,["class","onClick"])):he("v-if",!0)],6)):(I(),we(ui,{key:1,name:`${d(r).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:u},{default:ne(()=>[Z("span",{class:z(d(a)),style:_t({backgroundColor:c.color}),onClick:o},[Z("span",{class:z(d(r).e("content"))},[oe(c.$slots,"default")],2),c.closable?(I(),we(d(dt),{key:0,class:z(d(r).e("close")),onClick:xt(s,["stop"])},{default:ne(()=>[J(d(Ra))]),_:1},8,["class","onClick"])):he("v-if",!0)],6)]),_:3},8,["name"]))}});var q7=We(K7,[["__file","tag.vue"]]);const Jc=Dt(q7),Y7=Ge({...cM,size:gi,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:_e(Function),default:(t,e)=>t.text.includes(e)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:_e(Function),default:()=>!0},placement:{type:_e(String),values:Ls,default:"bottom-start"},fallbackPlacements:{type:_e(Array),default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:{type:String,default:""},teleported:Ii.teleported,tagType:{...pl.type,default:"info"},tagEffect:{...pl.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...Qu}),j7={[Wt]:t=>!0,[Rn]:t=>!0,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,visibleChange:t=>$n(t),expandChange:t=>!!t,removeTag:t=>!!t},X7="ElCascader",Z7=re({name:X7}),Q7=re({...Z7,props:Y7,emits:j7,setup(t,{expose:e,emit:n}){const i=t,r={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:de})=>{const{modifiersData:be,placement:Re}=de;["right","left","bottom","top"].includes(Re)||(be.arrow.x=35)},requires:["arrow"]}]},a=_l();let s=0,o=0;const u=Fe("cascader"),c=Fe("input"),{t:h}=nn(),{form:p,formItem:v}=rr(),{valueOnClear:g}=rp(i),{isComposing:y,handleComposition:_}=ip({afterComposition(de){var be;const Re=(be=de.target)==null?void 0:be.value;Te(Re)}}),w=W(null),b=W(null),M=W(null),C=W(null),x=W(null),T=W(!1),k=W(!1),R=W(!1),D=W(!1),U=W(""),P=W(""),N=W([]),$=W([]),Q=W([]),Y=L(()=>a.style),H=L(()=>i.disabled||(p==null?void 0:p.disabled)),B=L(()=>i.placeholder||h("el.cascader.placeholder")),X=L(()=>P.value||N.value.length>0||y.value?"":B.value),q=fi(),O=L(()=>["small"].includes(q.value)?"small":"default"),V=L(()=>!!i.props.multiple),ee=L(()=>!i.filterable||V.value),ce=L(()=>V.value?P.value:U.value),se=L(()=>{var de;return((de=C.value)==null?void 0:de.checkedNodes)||[]}),le=L(()=>!i.clearable||H.value||R.value||!k.value?!1:!!se.value.length),ye=L(()=>{const{showAllLevels:de,separator:be}=i,Re=se.value;return Re.length?V.value?"":Re[0].calcText(de,be):""}),Ce=L(()=>(v==null?void 0:v.validateState)||""),pe=L({get(){return sh(i.modelValue)},set(de){const be=de??g.value;n(Wt,be),n(Rn,be),i.validateEvent&&(v==null||v.validate("change").catch(Re=>void 0))}}),ue=L(()=>[u.b(),u.m(q.value),u.is("disabled",H.value),a.class]),Me=L(()=>[c.e("icon"),"icon-arrow-down",u.is("reverse",T.value)]),De=L(()=>u.is("focus",T.value||D.value)),xe=L(()=>{var de,be;return(be=(de=w.value)==null?void 0:de.popperRef)==null?void 0:be.contentRef}),G=de=>{var be,Re,gt;H.value||(de=de??!T.value,de!==T.value&&(T.value=de,(Re=(be=b.value)==null?void 0:be.input)==null||Re.setAttribute("aria-expanded",`${de}`),de?(He(),yt((gt=C.value)==null?void 0:gt.scrollToExpandingNode)):i.filterable&&Pe(),n("visibleChange",de)))},He=()=>{yt(()=>{var de;(de=w.value)==null||de.updatePopper()})},Qe=()=>{R.value=!1},at=de=>{const{showAllLevels:be,separator:Re}=i;return{node:de,key:de.uid,text:de.calcText(be,Re),hitState:!1,closable:!H.value&&!de.isDisabled,isCollapseTag:!1}},rt=de=>{var be;const Re=de.node;Re.doCheck(!1),(be=C.value)==null||be.calculateCheckedValue(),n("removeTag",Re.valueByOption)},it=()=>{if(!V.value)return;const de=se.value,be=[],Re=[];if(de.forEach(gt=>Re.push(at(gt))),$.value=Re,de.length){de.slice(0,i.maxCollapseTags).forEach(Ee=>be.push(at(Ee)));const gt=de.slice(i.maxCollapseTags),Ft=gt.length;Ft&&(i.collapseTags?be.push({key:-1,text:`+ ${Ft}`,closable:!1,isCollapseTag:!0}):gt.forEach(Ee=>be.push(at(Ee))))}N.value=be},qe=()=>{var de,be;const{filterMethod:Re,showAllLevels:gt,separator:Ft}=i,Ee=(be=(de=C.value)==null?void 0:de.getFlattedNodes(!i.props.checkStrictly))==null?void 0:be.filter(st=>st.isDisabled?!1:(st.calcText(gt,Ft),Re(st,ce.value)));V.value&&(N.value.forEach(st=>{st.hitState=!1}),$.value.forEach(st=>{st.hitState=!1})),R.value=!0,Q.value=Ee,He()},te=()=>{var de;let be;R.value&&x.value?be=x.value.$el.querySelector(`.${u.e("suggestion-item")}`):be=(de=C.value)==null?void 0:de.$el.querySelector(`.${u.b("node")}[tabindex="-1"]`),be&&(be.focus(),!R.value&&be.click())},ae=()=>{var de,be;const Re=(de=b.value)==null?void 0:de.input,gt=M.value,Ft=(be=x.value)==null?void 0:be.$el;if(!(!tn||!Re)){if(Ft){const Ee=Ft.querySelector(`.${u.e("suggestion-list")}`);Ee.style.minWidth=`${Re.offsetWidth}px`}if(gt){const{offsetHeight:Ee}=gt,st=N.value.length>0?`${Math.max(Ee+6,s)}px`:`${s}px`;Re.style.height=st,He()}}},ke=de=>{var be;return(be=C.value)==null?void 0:be.getCheckedNodes(de)},Be=de=>{He(),n("expandChange",de)},Ve=de=>{if(!y.value)switch(de.code){case St.enter:G();break;case St.down:G(!0),yt(te),de.preventDefault();break;case St.esc:T.value===!0&&(de.preventDefault(),de.stopPropagation(),G(!1));break;case St.tab:G(!1);break}},Ae=()=>{var de;(de=C.value)==null||de.clearCheckedNodes(),!T.value&&i.filterable&&Pe(),G(!1),n("clear")},Pe=()=>{const{value:de}=ye;U.value=de,P.value=de},Xe=de=>{var be,Re;const{checked:gt}=de;V.value?(be=C.value)==null||be.handleCheckChange(de,!gt,!1):(!gt&&((Re=C.value)==null||Re.handleCheckChange(de,!0,!1)),G(!1))},vt=de=>{const be=de.target,{code:Re}=de;switch(Re){case St.up:case St.down:{const gt=Re===St.up?-1:1;Ff(uE(be,gt,`.${u.e("suggestion-item")}[tabindex="-1"]`));break}case St.enter:be.click();break}},nt=()=>{const de=N.value,be=de[de.length-1];o=P.value?0:o+1,!(!be||!o||i.collapseTags&&de.length>1)&&(be.hitState?rt(be):be.hitState=!0)},Rt=de=>{const be=de.target,Re=u.e("search-input");be.className===Re&&(D.value=!0),n("focus",de)},Ye=de=>{D.value=!1,n("blur",de)},Et=Rr(()=>{const{value:de}=ce;if(!de)return;const be=i.beforeFilter(de);iv(be)?be.then(qe).catch(()=>{}):be!==!1?qe():Qe()},i.debounce),Te=(de,be)=>{!T.value&&G(!0),!(be!=null&&be.isComposing)&&(de?Et():Qe())},ze=de=>Number.parseFloat(DD(c.cssVarName("input-height"),de).value)-2;return Le(R,He),Le([se,H,()=>i.collapseTags],it),Le(N,()=>{yt(()=>ae())}),Le(q,async()=>{await yt();const de=b.value.input;s=ze(de)||s,ae()}),Le(ye,Pe,{immediate:!0}),wt(()=>{const de=b.value.input,be=ze(de);s=de.offsetHeight||be,On(de,ae)}),e({getCheckedNodes:ke,cascaderPanelRef:C,togglePopperVisible:G,contentRef:xe,presentText:ye}),(de,be)=>(I(),we(d(pi),{ref_key:"tooltipRef",ref:w,visible:T.value,teleported:de.teleported,"popper-class":[d(u).e("dropdown"),de.popperClass],"popper-options":r,"fallback-placements":de.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:de.placement,transition:`${d(u).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:de.persistent,onHide:Qe},{default:ne(()=>[Bt((I(),K("div",{class:z(d(ue)),style:_t(d(Y)),onClick:()=>G(d(ee)?void 0:!0),onKeydown:Ve,onMouseenter:Re=>k.value=!0,onMouseleave:Re=>k.value=!1},[J(d(Qi),{ref_key:"input",ref:b,modelValue:U.value,"onUpdate:modelValue":Re=>U.value=Re,placeholder:d(X),readonly:d(ee),disabled:d(H),"validate-event":!1,size:d(q),class:z(d(De)),tabindex:d(V)&&de.filterable&&!d(H)?-1:void 0,onCompositionstart:d(_),onCompositionupdate:d(_),onCompositionend:d(_),onFocus:Rt,onBlur:Ye,onInput:Te},{suffix:ne(()=>[d(le)?(I(),we(d(dt),{key:"clear",class:z([d(c).e("icon"),"icon-circle-close"]),onClick:xt(Ae,["stop"])},{default:ne(()=>[J(d(_o))]),_:1},8,["class","onClick"])):(I(),we(d(dt),{key:"arrow-down",class:z(d(Me)),onClick:xt(Re=>G(),["stop"])},{default:ne(()=>[J(d(Is))]),_:1},8,["class","onClick"]))]),_:1},8,["modelValue","onUpdate:modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),d(V)?(I(),K("div",{key:0,ref_key:"tagWrapper",ref:M,class:z([d(u).e("tags"),d(u).is("validate",!!d(Ce))])},[(I(!0),K(ut,null,Ut(N.value,Re=>(I(),we(d(Jc),{key:Re.key,type:de.tagType,size:d(O),effect:de.tagEffect,hit:Re.hitState,closable:Re.closable,"disable-transitions":"",onClose:gt=>rt(Re)},{default:ne(()=>[Re.isCollapseTag===!1?(I(),K("span",{key:0},Ne(Re.text),1)):(I(),we(d(pi),{key:1,disabled:T.value||!de.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:ne(()=>[Z("span",null,Ne(Re.text),1)]),content:ne(()=>[Z("div",{class:z(d(u).e("collapse-tags"))},[(I(!0),K(ut,null,Ut($.value.slice(de.maxCollapseTags),(gt,Ft)=>(I(),K("div",{key:Ft,class:z(d(u).e("collapse-tag"))},[(I(),we(d(Jc),{key:gt.key,class:"in-tooltip",type:de.tagType,size:d(O),effect:de.tagEffect,hit:gt.hitState,closable:gt.closable,"disable-transitions":"",onClose:Ee=>rt(gt)},{default:ne(()=>[Z("span",null,Ne(gt.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","effect","hit","closable","onClose"]))),128)),de.filterable&&!d(H)?Bt((I(),K("input",{key:0,"onUpdate:modelValue":Re=>P.value=Re,type:"text",class:z(d(u).e("search-input")),placeholder:d(ye)?"":d(B),onInput:Re=>Te(P.value,Re),onClick:xt(Re=>G(!0),["stop"]),onKeydown:mn(nt,["delete"]),onCompositionstart:d(_),onCompositionupdate:d(_),onCompositionend:d(_),onFocus:Rt,onBlur:Ye},null,42,["onUpdate:modelValue","placeholder","onInput","onClick","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend"])),[[Gg,P.value]]):he("v-if",!0)],2)):he("v-if",!0)],46,["onClick","onMouseenter","onMouseleave"])),[[d(xs),()=>G(!1),d(xe)]])]),content:ne(()=>[Bt(J(d(dM),{ref_key:"cascaderPanelRef",ref:C,modelValue:d(pe),"onUpdate:modelValue":Re=>Ji(pe)?pe.value=Re:null,options:de.options,props:i.props,border:!1,"render-label":de.$slots.default,onExpandChange:Be,onClose:Re=>de.$nextTick(()=>G(!1))},{empty:ne(()=>[oe(de.$slots,"empty")]),_:3},8,["modelValue","onUpdate:modelValue","options","props","render-label","onClose"]),[[sn,!R.value]]),de.filterable?Bt((I(),we(d(as),{key:0,ref_key:"suggestionPanel",ref:x,tag:"ul",class:z(d(u).e("suggestion-panel")),"view-class":d(u).e("suggestion-list"),onKeydown:vt},{default:ne(()=>[Q.value.length?(I(!0),K(ut,{key:0},Ut(Q.value,Re=>(I(),K("li",{key:Re.uid,class:z([d(u).e("suggestion-item"),d(u).is("checked",Re.checked)]),tabindex:-1,onClick:gt=>Xe(Re)},[Z("span",null,Ne(Re.text),1),Re.checked?(I(),we(d(dt),{key:0},{default:ne(()=>[J(d(hd))]),_:1})):he("v-if",!0)],10,["onClick"]))),128)):oe(de.$slots,"empty",{key:1},()=>[Z("li",{class:z(d(u).e("empty-text"))},Ne(d(h)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[sn,R.value]]):he("v-if",!0)]),_:3},8,["visible","teleported","popper-class","fallback-placements","placement","transition","persistent"]))}});var J7=We(Q7,[["__file","cascader.vue"]]);const eK=Dt(J7),tK=Ge({checked:Boolean,disabled:Boolean,type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),nK={"update:checked":t=>$n(t),[Rn]:t=>$n(t)},iK=re({name:"ElCheckTag"}),rK=re({...iK,props:tK,emits:nK,setup(t,{emit:e}){const n=t,i=Fe("check-tag"),r=L(()=>n.disabled),a=L(()=>[i.b(),i.is("checked",n.checked),i.is("disabled",r.value),i.m(n.type||"primary")]),s=()=>{if(r.value)return;const o=!n.checked;e(Rn,o),e("update:checked",o)};return(o,u)=>(I(),K("span",{class:z(d(a)),onClick:s},[oe(o.$slots,"default")],2))}});var aK=We(rK,[["__file","check-tag.vue"]]);const sK=Dt(aK),fM=Symbol("rowContextKey"),oK=["start","center","end","space-around","space-between","space-evenly"],lK=["top","middle","bottom"],uK=Ge({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:oK,default:"start"},align:{type:String,values:lK}}),cK=re({name:"ElRow"}),dK=re({...cK,props:uK,setup(t){const e=t,n=Fe("row"),i=L(()=>e.gutter);Zt(fM,{gutter:i});const r=L(()=>{const s={};return e.gutter&&(s.marginRight=s.marginLeft=`-${e.gutter/2}px`),s}),a=L(()=>[n.b(),n.is(`justify-${e.justify}`,e.justify!=="start"),n.is(`align-${e.align}`,!!e.align)]);return(s,o)=>(I(),we(Vt(s.tag),{class:z(d(a)),style:_t(d(r))},{default:ne(()=>[oe(s.$slots,"default")]),_:3},8,["class","style"]))}});var fK=We(dK,[["__file","row.vue"]]);const hK=Dt(fK),pK=Ge({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:_e([Number,Object]),default:()=>Fn({})},sm:{type:_e([Number,Object]),default:()=>Fn({})},md:{type:_e([Number,Object]),default:()=>Fn({})},lg:{type:_e([Number,Object]),default:()=>Fn({})},xl:{type:_e([Number,Object]),default:()=>Fn({})}}),mK=re({name:"ElCol"}),vK=re({...mK,props:pK,setup(t){const e=t,{gutter:n}=ct(fM,{gutter:L(()=>0)}),i=Fe("col"),r=L(()=>{const s={};return n.value&&(s.paddingLeft=s.paddingRight=`${n.value/2}px`),s}),a=L(()=>{const s=[];return["span","offset","pull","push"].forEach(c=>{const h=e[c];kt(h)&&(c==="span"?s.push(i.b(`${e[c]}`)):h>0&&s.push(i.b(`${c}-${e[c]}`)))}),["xs","sm","md","lg","xl"].forEach(c=>{kt(e[c])?s.push(i.b(`${c}-${e[c]}`)):bn(e[c])&&Object.entries(e[c]).forEach(([h,p])=>{s.push(h!=="span"?i.b(`${c}-${h}-${p}`):i.b(`${c}-${p}`))})}),n.value&&s.push(i.is("guttered")),[i.b(),s]});return(s,o)=>(I(),we(Vt(s.tag),{class:z(d(a)),style:_t(d(r))},{default:ne(()=>[oe(s.$slots,"default")]),_:3},8,["class","style"]))}});var gK=We(vK,[["__file","col.vue"]]);const yK=Dt(gK),I1=t=>kt(t)||Gt(t)||Nt(t),_K=Ge({accordion:Boolean,modelValue:{type:_e([Array,String,Number]),default:()=>Fn([])}}),bK={[Wt]:I1,[Rn]:I1},hM=Symbol("collapseContextKey"),wK=(t,e)=>{const n=W(Xi(t.modelValue)),i=a=>{n.value=a;const s=t.accordion?n.value[0]:n.value;e(Wt,s),e(Rn,s)},r=a=>{if(t.accordion)i([n.value[0]===a?"":a]);else{const s=[...n.value],o=s.indexOf(a);o>-1?s.splice(o,1):s.push(a),i(s)}};return Le(()=>t.modelValue,()=>n.value=Xi(t.modelValue),{deep:!0}),Zt(hM,{activeNames:n,handleItemClick:r}),{activeNames:n,setActiveNames:i}},SK=()=>{const t=Fe("collapse");return{rootKls:L(()=>t.b())}},CK=re({name:"ElCollapse"}),EK=re({...CK,props:_K,emits:bK,setup(t,{expose:e,emit:n}){const i=t,{activeNames:r,setActiveNames:a}=wK(i,n),{rootKls:s}=SK();return e({activeNames:r,setActiveNames:a}),(o,u)=>(I(),K("div",{class:z(d(s))},[oe(o.$slots,"default")],2))}});var xK=We(EK,[["__file","collapse.vue"]]);const MK=re({name:"ElCollapseTransition"}),TK=re({...MK,setup(t){const e=Fe("collapse-transition"),n=r=>{r.style.maxHeight="",r.style.overflow=r.dataset.oldOverflow,r.style.paddingTop=r.dataset.oldPaddingTop,r.style.paddingBottom=r.dataset.oldPaddingBottom},i={beforeEnter(r){r.dataset||(r.dataset={}),r.dataset.oldPaddingTop=r.style.paddingTop,r.dataset.oldPaddingBottom=r.style.paddingBottom,r.style.height&&(r.dataset.elExistsHeight=r.style.height),r.style.maxHeight=0,r.style.paddingTop=0,r.style.paddingBottom=0},enter(r){requestAnimationFrame(()=>{r.dataset.oldOverflow=r.style.overflow,r.dataset.elExistsHeight?r.style.maxHeight=r.dataset.elExistsHeight:r.scrollHeight!==0?r.style.maxHeight=`${r.scrollHeight}px`:r.style.maxHeight=0,r.style.paddingTop=r.dataset.oldPaddingTop,r.style.paddingBottom=r.dataset.oldPaddingBottom,r.style.overflow="hidden"})},afterEnter(r){r.style.maxHeight="",r.style.overflow=r.dataset.oldOverflow},enterCancelled(r){n(r)},beforeLeave(r){r.dataset||(r.dataset={}),r.dataset.oldPaddingTop=r.style.paddingTop,r.dataset.oldPaddingBottom=r.style.paddingBottom,r.dataset.oldOverflow=r.style.overflow,r.style.maxHeight=`${r.scrollHeight}px`,r.style.overflow="hidden"},leave(r){r.scrollHeight!==0&&(r.style.maxHeight=0,r.style.paddingTop=0,r.style.paddingBottom=0)},afterLeave(r){n(r)},leaveCancelled(r){n(r)}};return(r,a)=>(I(),we(ui,Ht({name:d(e).b()},NC(i)),{default:ne(()=>[oe(r.$slots,"default")]),_:3},16,["name"]))}});var AK=We(TK,[["__file","collapse-transition.vue"]]);const Ad=Dt(AK),kK=Ge({title:{type:String,default:""},name:{type:_e([String,Number]),default:void 0},icon:{type:wn,default:hr},disabled:Boolean}),IK=t=>{const e=ct(hM),{namespace:n}=Fe("collapse"),i=W(!1),r=W(!1),a=z0(),s=L(()=>a.current++),o=L(()=>{var v;return(v=t.name)!=null?v:`${n.value}-id-${a.prefix}-${d(s)}`}),u=L(()=>e==null?void 0:e.activeNames.value.includes(d(o)));return{focusing:i,id:s,isActive:u,handleFocus:()=>{setTimeout(()=>{r.value?r.value=!1:i.value=!0},50)},handleHeaderClick:()=>{t.disabled||(e==null||e.handleItemClick(d(o)),i.value=!1,r.value=!0)},handleEnterClick:()=>{e==null||e.handleItemClick(d(o))}}},PK=(t,{focusing:e,isActive:n,id:i})=>{const r=Fe("collapse"),a=L(()=>[r.b("item"),r.is("active",d(n)),r.is("disabled",t.disabled)]),s=L(()=>[r.be("item","header"),r.is("active",d(n)),{focusing:d(e)&&!t.disabled}]),o=L(()=>[r.be("item","arrow"),r.is("active",d(n))]),u=L(()=>r.be("item","wrap")),c=L(()=>r.be("item","content")),h=L(()=>r.b(`content-${d(i)}`)),p=L(()=>r.b(`head-${d(i)}`));return{arrowKls:o,headKls:s,rootKls:a,itemWrapperKls:u,itemContentKls:c,scopedContentId:h,scopedHeadId:p}},RK=re({name:"ElCollapseItem"}),LK=re({...RK,props:kK,setup(t,{expose:e}){const n=t,{focusing:i,id:r,isActive:a,handleFocus:s,handleHeaderClick:o,handleEnterClick:u}=IK(n),{arrowKls:c,headKls:h,rootKls:p,itemWrapperKls:v,itemContentKls:g,scopedContentId:y,scopedHeadId:_}=PK(n,{focusing:i,isActive:a,id:r});return e({isActive:a}),(w,b)=>(I(),K("div",{class:z(d(p))},[Z("button",{id:d(_),class:z(d(h)),"aria-expanded":d(a),"aria-controls":d(y),"aria-describedby":d(y),tabindex:w.disabled?-1:0,type:"button",onClick:d(o),onKeydown:mn(xt(d(u),["stop","prevent"]),["space","enter"]),onFocus:d(s),onBlur:M=>i.value=!1},[oe(w.$slots,"title",{},()=>[mt(Ne(w.title),1)]),oe(w.$slots,"icon",{isActive:d(a)},()=>[J(d(dt),{class:z(d(c))},{default:ne(()=>[(I(),we(Vt(w.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),J(d(Ad),null,{default:ne(()=>[Bt(Z("div",{id:d(y),role:"region",class:z(d(v)),"aria-hidden":!d(a),"aria-labelledby":d(_)},[Z("div",{class:z(d(g))},[oe(w.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[sn,d(a)]])]),_:3})],2))}});var pM=We(LK,[["__file","collapse-item.vue"]]);const NK=Dt(xK,{CollapseItem:pM}),OK=Bn(pM),DK=Ge({color:{type:_e(Object),required:!0},vertical:{type:Boolean,default:!1}});let tm=!1;function ed(t,e){if(!tn)return;const n=function(a){var s;(s=e.drag)==null||s.call(e,a)},i=function(a){var s;document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",i),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",i),document.onselectstart=null,document.ondragstart=null,tm=!1,(s=e.end)==null||s.call(e,a)},r=function(a){var s;tm||(a.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n),document.addEventListener("mouseup",i),document.addEventListener("touchmove",n),document.addEventListener("touchend",i),tm=!0,(s=e.start)==null||s.call(e,a))};t.addEventListener("mousedown",r),t.addEventListener("touchstart",r,{passive:!1})}const FK=t=>{const e=qt(),{t:n}=nn(),i=Mn(),r=Mn(),a=L(()=>t.color.get("alpha")),s=L(()=>n("el.colorpicker.alphaLabel"));function o(p){var v;p.target!==i.value&&u(p),(v=i.value)==null||v.focus()}function u(p){if(!r.value||!i.value)return;const g=e.vnode.el.getBoundingClientRect(),{clientX:y,clientY:_}=a0(p);if(t.vertical){let w=_-g.top;w=Math.max(i.value.offsetHeight/2,w),w=Math.min(w,g.height-i.value.offsetHeight/2),t.color.set("alpha",Math.round((w-i.value.offsetHeight/2)/(g.height-i.value.offsetHeight)*100))}else{let w=y-g.left;w=Math.max(i.value.offsetWidth/2,w),w=Math.min(w,g.width-i.value.offsetWidth/2),t.color.set("alpha",Math.round((w-i.value.offsetWidth/2)/(g.width-i.value.offsetWidth)*100))}}function c(p){const{code:v,shiftKey:g}=p,y=g?10:1;switch(v){case St.left:case St.down:p.preventDefault(),p.stopPropagation(),h(-y);break;case St.right:case St.up:p.preventDefault(),p.stopPropagation(),h(y);break}}function h(p){let v=a.value+p;v=v<0?0:v>100?100:v,t.color.set("alpha",v)}return{thumb:i,bar:r,alpha:a,alphaLabel:s,handleDrag:u,handleClick:o,handleKeydown:c}},BK=(t,{bar:e,thumb:n,handleDrag:i})=>{const r=qt(),a=Fe("color-alpha-slider"),s=W(0),o=W(0),u=W();function c(){if(!n.value||t.vertical)return 0;const M=r.vnode.el,C=t.color.get("alpha");return M?Math.round(C*(M.offsetWidth-n.value.offsetWidth/2)/100):0}function h(){if(!n.value)return 0;const M=r.vnode.el;if(!t.vertical)return 0;const C=t.color.get("alpha");return M?Math.round(C*(M.offsetHeight-n.value.offsetHeight/2)/100):0}function p(){if(t.color&&t.color.value){const{r:M,g:C,b:x}=t.color.toRgb();return`linear-gradient(to right, rgba(${M}, ${C}, ${x}, 0) 0%, rgba(${M}, ${C}, ${x}, 1) 100%)`}return""}function v(){s.value=c(),o.value=h(),u.value=p()}wt(()=>{if(!e.value||!n.value)return;const M={drag:C=>{i(C)},end:C=>{i(C)}};ed(e.value,M),ed(n.value,M),v()}),Le(()=>t.color.get("alpha"),()=>v()),Le(()=>t.color.value,()=>v());const g=L(()=>[a.b(),a.is("vertical",t.vertical)]),y=L(()=>a.e("bar")),_=L(()=>a.e("thumb")),w=L(()=>({background:u.value})),b=L(()=>({left:Xn(s.value),top:Xn(o.value)}));return{rootKls:g,barKls:y,barStyle:w,thumbKls:_,thumbStyle:b,update:v}},UK="ElColorAlphaSlider",VK=re({name:UK}),zK=re({...VK,props:DK,setup(t,{expose:e}){const n=t,{alpha:i,alphaLabel:r,bar:a,thumb:s,handleDrag:o,handleClick:u,handleKeydown:c}=FK(n),{rootKls:h,barKls:p,barStyle:v,thumbKls:g,thumbStyle:y,update:_}=BK(n,{bar:a,thumb:s,handleDrag:o});return e({update:_,bar:a,thumb:s}),(w,b)=>(I(),K("div",{class:z(d(h))},[Z("div",{ref_key:"bar",ref:a,class:z(d(p)),style:_t(d(v)),onClick:d(u)},null,14,["onClick"]),Z("div",{ref_key:"thumb",ref:s,class:z(d(g)),style:_t(d(y)),"aria-label":d(r),"aria-valuenow":d(i),"aria-orientation":w.vertical?"vertical":"horizontal","aria-valuemin":"0","aria-valuemax":"100",role:"slider",tabindex:"0",onKeydown:d(c)},null,46,["aria-label","aria-valuenow","aria-orientation","onKeydown"])],2))}});var $K=We(zK,[["__file","alpha-slider.vue"]]);const HK=re({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(t){const e=Fe("color-hue-slider"),n=qt(),i=W(),r=W(),a=W(0),s=W(0),o=L(()=>t.color.get("hue"));Le(()=>o.value,()=>{v()});function u(g){g.target!==i.value&&c(g)}function c(g){if(!r.value||!i.value)return;const _=n.vnode.el.getBoundingClientRect(),{clientX:w,clientY:b}=a0(g);let M;if(t.vertical){let C=b-_.top;C=Math.min(C,_.height-i.value.offsetHeight/2),C=Math.max(i.value.offsetHeight/2,C),M=Math.round((C-i.value.offsetHeight/2)/(_.height-i.value.offsetHeight)*360)}else{let C=w-_.left;C=Math.min(C,_.width-i.value.offsetWidth/2),C=Math.max(i.value.offsetWidth/2,C),M=Math.round((C-i.value.offsetWidth/2)/(_.width-i.value.offsetWidth)*360)}t.color.set("hue",M)}function h(){if(!i.value)return 0;const g=n.vnode.el;if(t.vertical)return 0;const y=t.color.get("hue");return g?Math.round(y*(g.offsetWidth-i.value.offsetWidth/2)/360):0}function p(){if(!i.value)return 0;const g=n.vnode.el;if(!t.vertical)return 0;const y=t.color.get("hue");return g?Math.round(y*(g.offsetHeight-i.value.offsetHeight/2)/360):0}function v(){a.value=h(),s.value=p()}return wt(()=>{if(!r.value||!i.value)return;const g={drag:y=>{c(y)},end:y=>{c(y)}};ed(r.value,g),ed(i.value,g),v()}),{bar:r,thumb:i,thumbLeft:a,thumbTop:s,hueValue:o,handleClick:u,update:v,ns:e}}});function GK(t,e,n,i,r,a){return I(),K("div",{class:z([t.ns.b(),t.ns.is("vertical",t.vertical)])},[Z("div",{ref:"bar",class:z(t.ns.e("bar")),onClick:t.handleClick},null,10,["onClick"]),Z("div",{ref:"thumb",class:z(t.ns.e("thumb")),style:_t({left:t.thumbLeft+"px",top:t.thumbTop+"px"})},null,6)],2)}var WK=We(HK,[["render",GK],["__file","hue-slider.vue"]]);const KK=Ge({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:gi,popperClass:{type:String,default:""},tabindex:{type:[String,Number],default:0},teleported:Ii.teleported,predefine:{type:_e(Array)},validateEvent:{type:Boolean,default:!0},...Ui(["ariaLabel"])}),qK={[Wt]:t=>Gt(t)||Mi(t),[Rn]:t=>Gt(t)||Mi(t),activeChange:t=>Gt(t)||Mi(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},mM=Symbol("colorPickerContextKey"),P1=function(t,e,n){return[t,e*n/((t=(2-e)*n)<1?t:2-t)||0,t/2]},YK=function(t){return typeof t=="string"&&t.includes(".")&&Number.parseFloat(t)===1},jK=function(t){return typeof t=="string"&&t.includes("%")},hu=function(t,e){YK(t)&&(t="100%");const n=jK(t);return t=Math.min(e,Math.max(0,Number.parseFloat(`${t}`))),n&&(t=Number.parseInt(`${t*e}`,10)/100),Math.abs(t-e)<1e-6?1:t%e/Number.parseFloat(e)},R1={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},Gf=t=>{t=Math.min(Math.round(t),255);const e=Math.floor(t/16),n=t%16;return`${R1[e]||e}${R1[n]||n}`},L1=function({r:t,g:e,b:n}){return Number.isNaN(+t)||Number.isNaN(+e)||Number.isNaN(+n)?"":`#${Gf(t)}${Gf(e)}${Gf(n)}`},nm={A:10,B:11,C:12,D:13,E:14,F:15},Ro=function(t){return t.length===2?(nm[t[0].toUpperCase()]||+t[0])*16+(nm[t[1].toUpperCase()]||+t[1]):nm[t[1].toUpperCase()]||+t[1]},XK=function(t,e,n){e=e/100,n=n/100;let i=e;const r=Math.max(n,.01);n*=2,e*=n<=1?n:2-n,i*=r<=1?r:2-r;const a=(n+e)/2,s=n===0?2*i/(r+i):2*e/(n+e);return{h:t,s:s*100,v:a*100}},N1=(t,e,n)=>{t=hu(t,255),e=hu(e,255),n=hu(n,255);const i=Math.max(t,e,n),r=Math.min(t,e,n);let a;const s=i,o=i-r,u=i===0?0:o/i;if(i===r)a=0;else{switch(i){case t:{a=(e-n)/o+(e<n?6:0);break}case e:{a=(n-t)/o+2;break}case n:{a=(t-e)/o+4;break}}a/=6}return{h:a*360,s:u*100,v:s*100}},bc=function(t,e,n){t=hu(t,360)*6,e=hu(e,100),n=hu(n,100);const i=Math.floor(t),r=t-i,a=n*(1-e),s=n*(1-r*e),o=n*(1-(1-r)*e),u=i%6,c=[n,s,a,a,o,n][u],h=[o,n,n,s,a,a][u],p=[a,a,o,n,n,s][u];return{r:Math.round(c*255),g:Math.round(h*255),b:Math.round(p*255)}};let Vc=class{constructor(e={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const n in e)Gi(e,n)&&(this[n]=e[n]);e.value?this.fromString(e.value):this.doOnChange()}set(e,n){if(arguments.length===1&&typeof e=="object"){for(const i in e)Gi(e,i)&&this.set(i,e[i]);return}this[`_${e}`]=n,this.doOnChange()}get(e){return e==="alpha"?Math.floor(this[`_${e}`]):this[`_${e}`]}toRgb(){return bc(this._hue,this._saturation,this._value)}fromString(e){if(!e){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const n=(i,r,a)=>{this._hue=Math.max(0,Math.min(360,i)),this._saturation=Math.max(0,Math.min(100,r)),this._value=Math.max(0,Math.min(100,a)),this.doOnChange()};if(e.includes("hsl")){const i=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,a)=>a>2?Number.parseFloat(r):Number.parseInt(r,10));if(i.length===4?this._alpha=Number.parseFloat(i[3])*100:i.length===3&&(this._alpha=100),i.length>=3){const{h:r,s:a,v:s}=XK(i[0],i[1],i[2]);n(r,a,s)}}else if(e.includes("hsv")){const i=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,a)=>a>2?Number.parseFloat(r):Number.parseInt(r,10));i.length===4?this._alpha=Number.parseFloat(i[3])*100:i.length===3&&(this._alpha=100),i.length>=3&&n(i[0],i[1],i[2])}else if(e.includes("rgb")){const i=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,a)=>a>2?Number.parseFloat(r):Number.parseInt(r,10));if(i.length===4?this._alpha=Number.parseFloat(i[3])*100:i.length===3&&(this._alpha=100),i.length>=3){const{h:r,s:a,v:s}=N1(i[0],i[1],i[2]);n(r,a,s)}}else if(e.includes("#")){const i=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(i))return;let r,a,s;i.length===3?(r=Ro(i[0]+i[0]),a=Ro(i[1]+i[1]),s=Ro(i[2]+i[2])):(i.length===6||i.length===8)&&(r=Ro(i.slice(0,2)),a=Ro(i.slice(2,4)),s=Ro(i.slice(4,6))),i.length===8?this._alpha=Ro(i.slice(6))/255*100:(i.length===3||i.length===6)&&(this._alpha=100);const{h:o,s:u,v:c}=N1(r,a,s);n(o,u,c)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:n,_value:i,_alpha:r,format:a}=this;if(this.enableAlpha)switch(a){case"hsl":{const s=P1(e,n/100,i/100);this.value=`hsla(${e}, ${Math.round(s[1]*100)}%, ${Math.round(s[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${e}, ${Math.round(n)}%, ${Math.round(i)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${L1(bc(e,n,i))}${Gf(r*255/100)}`;break}default:{const{r:s,g:o,b:u}=bc(e,n,i);this.value=`rgba(${s}, ${o}, ${u}, ${this.get("alpha")/100})`}}else switch(a){case"hsl":{const s=P1(e,n/100,i/100);this.value=`hsl(${e}, ${Math.round(s[1]*100)}%, ${Math.round(s[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${e}, ${Math.round(n)}%, ${Math.round(i)}%)`;break}case"rgb":{const{r:s,g:o,b:u}=bc(e,n,i);this.value=`rgb(${s}, ${o}, ${u})`;break}default:this.value=L1(bc(e,n,i))}}};const ZK=re({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0},enableAlpha:{type:Boolean,required:!0}},setup(t){const e=Fe("color-predefine"),{currentColor:n}=ct(mM),i=W(a(t.colors,t.color));Le(()=>n.value,s=>{const o=new Vc;o.fromString(s),i.value.forEach(u=>{u.selected=o.compare(u)})}),mi(()=>{i.value=a(t.colors,t.color)});function r(s){t.color.fromString(t.colors[s])}function a(s,o){return s.map(u=>{const c=new Vc;return c.enableAlpha=t.enableAlpha,c.format="rgba",c.fromString(u),c.selected=c.value===o.value,c})}return{rgbaColors:i,handleSelect:r,ns:e}}});function QK(t,e,n,i,r,a){return I(),K("div",{class:z(t.ns.b())},[Z("div",{class:z(t.ns.e("colors"))},[(I(!0),K(ut,null,Ut(t.rgbaColors,(s,o)=>(I(),K("div",{key:t.colors[o],class:z([t.ns.e("color-selector"),t.ns.is("alpha",s._alpha<100),{selected:s.selected}]),onClick:u=>t.handleSelect(o)},[Z("div",{style:_t({backgroundColor:s.value})},null,4)],10,["onClick"]))),128))],2)],2)}var JK=We(ZK,[["render",QK],["__file","predefine.vue"]]);const eq=re({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(t){const e=Fe("color-svpanel"),n=qt(),i=W(0),r=W(0),a=W("hsl(0, 100%, 50%)"),s=L(()=>{const c=t.color.get("hue"),h=t.color.get("value");return{hue:c,value:h}});function o(){const c=t.color.get("saturation"),h=t.color.get("value"),p=n.vnode.el,{clientWidth:v,clientHeight:g}=p;r.value=c*v/100,i.value=(100-h)*g/100,a.value=`hsl(${t.color.get("hue")}, 100%, 50%)`}function u(c){const p=n.vnode.el.getBoundingClientRect(),{clientX:v,clientY:g}=a0(c);let y=v-p.left,_=g-p.top;y=Math.max(0,y),y=Math.min(y,p.width),_=Math.max(0,_),_=Math.min(_,p.height),r.value=y,i.value=_,t.color.set({saturation:y/p.width*100,value:100-_/p.height*100})}return Le(()=>s.value,()=>{o()}),wt(()=>{ed(n.vnode.el,{drag:c=>{u(c)},end:c=>{u(c)}}),o()}),{cursorTop:i,cursorLeft:r,background:a,colorValue:s,handleDrag:u,update:o,ns:e}}});function tq(t,e,n,i,r,a){return I(),K("div",{class:z(t.ns.b()),style:_t({backgroundColor:t.background})},[Z("div",{class:z(t.ns.e("white"))},null,2),Z("div",{class:z(t.ns.e("black"))},null,2),Z("div",{class:z(t.ns.e("cursor")),style:_t({top:t.cursorTop+"px",left:t.cursorLeft+"px"})},[Z("div")],6)],6)}var nq=We(eq,[["render",tq],["__file","sv-panel.vue"]]);const iq=re({name:"ElColorPicker"}),rq=re({...iq,props:KK,emits:qK,setup(t,{expose:e,emit:n}){const i=t,{t:r}=nn(),a=Fe("color"),{formItem:s}=rr(),o=fi(),u=ir(),{inputId:c,isLabeledByFormItem:h}=Ba(i,{formItemContext:s}),p=W(),v=W(),g=W(),y=W(),_=W(),w=W(),{isFocused:b,handleFocus:M,handleBlur:C}=xd(_,{beforeFocus(){return u.value},beforeBlur(Me){var De;return(De=y.value)==null?void 0:De.isFocusInsideContent(Me)},afterBlur(){H(!1),O()}});let x=!0;const T=jt(new Vc({enableAlpha:i.showAlpha,format:i.colorFormat||"",value:i.modelValue})),k=W(!1),R=W(!1),D=W(""),U=L(()=>!i.modelValue&&!R.value?"transparent":Y(T,i.showAlpha)),P=L(()=>!i.modelValue&&!R.value?"":T.value),N=L(()=>h.value?void 0:i.ariaLabel||r("el.colorpicker.defaultLabel")),$=L(()=>h.value?s==null?void 0:s.labelId:void 0),Q=L(()=>[a.b("picker"),a.is("disabled",u.value),a.bm("picker",o.value),a.is("focused",b.value)]);function Y(Me,De){if(!(Me instanceof Vc))throw new TypeError("color should be instance of _color Class");const{r:xe,g:G,b:He}=Me.toRgb();return De?`rgba(${xe}, ${G}, ${He}, ${Me.get("alpha")/100})`:`rgb(${xe}, ${G}, ${He})`}function H(Me){k.value=Me}const B=Rr(H,100,{leading:!0});function X(){u.value||H(!0)}function q(){B(!1),O()}function O(){yt(()=>{i.modelValue?T.fromString(i.modelValue):(T.value="",yt(()=>{R.value=!1}))})}function V(){u.value||B(!k.value)}function ee(){T.fromString(D.value)}function ce(){const Me=T.value;n(Wt,Me),n("change",Me),i.validateEvent&&(s==null||s.validate("change").catch(De=>void 0)),B(!1),yt(()=>{const De=new Vc({enableAlpha:i.showAlpha,format:i.colorFormat||"",value:i.modelValue});T.compare(De)||O()})}function se(){B(!1),n(Wt,null),n("change",null),i.modelValue!==null&&i.validateEvent&&(s==null||s.validate("change").catch(Me=>void 0)),O()}function le(){k.value&&(q(),b.value&&pe())}function ye(Me){Me.preventDefault(),Me.stopPropagation(),H(!1),O()}function Ce(Me){switch(Me.code){case St.enter:case St.space:Me.preventDefault(),Me.stopPropagation(),X(),w.value.focus();break;case St.esc:ye(Me);break}}function pe(){_.value.focus()}function ue(){_.value.blur()}return wt(()=>{i.modelValue&&(D.value=P.value)}),Le(()=>i.modelValue,Me=>{Me?Me&&Me!==T.value&&(x=!1,T.fromString(Me)):R.value=!1}),Le(()=>[i.colorFormat,i.showAlpha],()=>{T.enableAlpha=i.showAlpha,T.format=i.colorFormat||T.format,T.doOnChange(),n(Wt,T.value)}),Le(()=>P.value,Me=>{D.value=Me,x&&n("activeChange",Me),x=!0}),Le(()=>T.value,()=>{!i.modelValue&&!R.value&&(R.value=!0)}),Le(()=>k.value,()=>{yt(()=>{var Me,De,xe;(Me=p.value)==null||Me.update(),(De=v.value)==null||De.update(),(xe=g.value)==null||xe.update()})}),Zt(mM,{currentColor:P}),e({color:T,show:X,hide:q,focus:pe,blur:ue}),(Me,De)=>(I(),we(d(pi),{ref_key:"popper",ref:y,visible:k.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[d(a).be("picker","panel"),d(a).b("dropdown"),Me.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:Me.teleported,transition:`${d(a).namespace.value}-zoom-in-top`,persistent:"",onHide:xe=>H(!1)},{content:ne(()=>[Bt((I(),K("div",{onKeydown:mn(ye,["esc"])},[Z("div",{class:z(d(a).be("dropdown","main-wrapper"))},[J(WK,{ref_key:"hue",ref:p,class:"hue-slider",color:d(T),vertical:""},null,8,["color"]),J(nq,{ref_key:"sv",ref:v,color:d(T)},null,8,["color"])],2),Me.showAlpha?(I(),we($K,{key:0,ref_key:"alpha",ref:g,color:d(T)},null,8,["color"])):he("v-if",!0),Me.predefine?(I(),we(JK,{key:1,ref:"predefine","enable-alpha":Me.showAlpha,color:d(T),colors:Me.predefine},null,8,["enable-alpha","color","colors"])):he("v-if",!0),Z("div",{class:z(d(a).be("dropdown","btns"))},[Z("span",{class:z(d(a).be("dropdown","value"))},[J(d(Qi),{ref_key:"inputRef",ref:w,modelValue:D.value,"onUpdate:modelValue":xe=>D.value=xe,"validate-event":!1,size:"small",onKeyup:mn(ee,["enter"]),onBlur:ee},null,8,["modelValue","onUpdate:modelValue","onKeyup"])],2),J(d(Pi),{class:z(d(a).be("dropdown","link-btn")),text:"",size:"small",onClick:se},{default:ne(()=>[mt(Ne(d(r)("el.colorpicker.clear")),1)]),_:1},8,["class"]),J(d(Pi),{plain:"",size:"small",class:z(d(a).be("dropdown","btn")),onClick:ce},{default:ne(()=>[mt(Ne(d(r)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,["onKeydown"])),[[d(xs),le]])]),default:ne(()=>[Z("div",Ht({id:d(c),ref_key:"triggerRef",ref:_},Me.$attrs,{class:d(Q),role:"button","aria-label":d(N),"aria-labelledby":d($),"aria-description":d(r)("el.colorpicker.description",{color:Me.modelValue||""}),"aria-disabled":d(u),tabindex:d(u)?-1:Me.tabindex,onKeydown:Ce,onFocus:d(M),onBlur:d(C)}),[d(u)?(I(),K("div",{key:0,class:z(d(a).be("picker","mask"))},null,2)):he("v-if",!0),Z("div",{class:z(d(a).be("picker","trigger")),onClick:V},[Z("span",{class:z([d(a).be("picker","color"),d(a).is("alpha",Me.showAlpha)])},[Z("span",{class:z(d(a).be("picker","color-inner")),style:_t({backgroundColor:d(U)})},[Bt(J(d(dt),{class:z([d(a).be("picker","icon"),d(a).is("icon-arrow-down")])},{default:ne(()=>[J(d(Is))]),_:1},8,["class"]),[[sn,Me.modelValue||R.value]]),Bt(J(d(dt),{class:z([d(a).be("picker","empty"),d(a).is("icon-close")])},{default:ne(()=>[J(d(Ra))]),_:1},8,["class"]),[[sn,!Me.modelValue&&!R.value]])],6)],2)],2)],16,["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex","onFocus","onBlur"])]),_:1},8,["visible","popper-class","teleported","transition","onHide"]))}});var aq=We(rq,[["__file","color-picker.vue"]]);const sq=Dt(aq),oq=re({name:"ElContainer"}),lq=re({...oq,props:{direction:{type:String}},setup(t){const e=t,n=bi(),i=Fe("container"),r=L(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:n&&n.default?n.default().some(s=>{const o=s.type.name;return o==="ElHeader"||o==="ElFooter"}):!1);return(a,s)=>(I(),K("section",{class:z([d(i).b(),d(i).is("vertical",d(r))])},[oe(a.$slots,"default")],2))}});var uq=We(lq,[["__file","container.vue"]]);const cq=re({name:"ElAside"}),dq=re({...cq,props:{width:{type:String,default:null}},setup(t){const e=t,n=Fe("aside"),i=L(()=>e.width?n.cssVarBlock({width:e.width}):{});return(r,a)=>(I(),K("aside",{class:z(d(n).b()),style:_t(d(i))},[oe(r.$slots,"default")],6))}});var vM=We(dq,[["__file","aside.vue"]]);const fq=re({name:"ElFooter"}),hq=re({...fq,props:{height:{type:String,default:null}},setup(t){const e=t,n=Fe("footer"),i=L(()=>e.height?n.cssVarBlock({height:e.height}):{});return(r,a)=>(I(),K("footer",{class:z(d(n).b()),style:_t(d(i))},[oe(r.$slots,"default")],6))}});var gM=We(hq,[["__file","footer.vue"]]);const pq=re({name:"ElHeader"}),mq=re({...pq,props:{height:{type:String,default:null}},setup(t){const e=t,n=Fe("header"),i=L(()=>e.height?n.cssVarBlock({height:e.height}):{});return(r,a)=>(I(),K("header",{class:z(d(n).b()),style:_t(d(i))},[oe(r.$slots,"default")],6))}});var yM=We(mq,[["__file","header.vue"]]);const vq=re({name:"ElMain"}),gq=re({...vq,setup(t){const e=Fe("main");return(n,i)=>(I(),K("main",{class:z(d(e).b())},[oe(n.$slots,"default")],2))}});var _M=We(gq,[["__file","main.vue"]]);const yq=Dt(uq,{Aside:vM,Footer:gM,Header:yM,Main:_M}),_q=Bn(vM),bq=Bn(gM),wq=Bn(yM),Sq=Bn(_M);var bM={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Mr,function(){return function(n,i){var r=i.prototype,a=r.format;r.format=function(s){var o=this,u=this.$locale();if(!this.isValid())return a.bind(this)(s);var c=this.$utils(),h=(s||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(p){switch(p){case"Q":return Math.ceil((o.$M+1)/3);case"Do":return u.ordinal(o.$D);case"gggg":return o.weekYear();case"GGGG":return o.isoWeekYear();case"wo":return u.ordinal(o.week(),"W");case"w":case"ww":return c.s(o.week(),p==="w"?1:2,"0");case"W":case"WW":return c.s(o.isoWeek(),p==="W"?1:2,"0");case"k":case"kk":return c.s(String(o.$H===0?24:o.$H),p==="k"?1:2,"0");case"X":return Math.floor(o.$d.getTime()/1e3);case"x":return o.$d.getTime();case"z":return"["+o.offsetName()+"]";case"zzz":return"["+o.offsetName("long")+"]";default:return p}});return a.bind(this)(h)}}})})(bM);var Cq=bM.exports;const Eq=Ua(Cq);var wM={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Mr,function(){var n="week",i="year";return function(r,a,s){var o=a.prototype;o.week=function(u){if(u===void 0&&(u=null),u!==null)return this.add(7*(u-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var h=s(this).startOf(i).add(1,i).date(c),p=s(this).endOf(n);if(h.isBefore(p))return 1}var v=s(this).startOf(i).date(c).startOf(n).subtract(1,"millisecond"),g=this.diff(v,n,!0);return g<0?s(this).startOf("week").week():Math.ceil(g)},o.weeks=function(u){return u===void 0&&(u=null),this.week(u)}}})})(wM);var xq=wM.exports;const Mq=Ua(xq);var SM={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Mr,function(){return function(n,i){i.prototype.weekYear=function(){var r=this.month(),a=this.week(),s=this.year();return a===1&&r===11?s+1:r===0&&a>=52?s-1:s}}})})(SM);var Tq=SM.exports;const Aq=Ua(Tq);var CM={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Mr,function(){return function(n,i,r){i.prototype.dayOfYear=function(a){var s=Math.round((r(this).startOf("day")-r(this).startOf("year"))/864e5)+1;return a==null?s:this.add(a-s,"day")}}})})(CM);var kq=CM.exports;const Iq=Ua(kq);var EM={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Mr,function(){return function(n,i){i.prototype.isSameOrAfter=function(r,a){return this.isSame(r,a)||this.isAfter(r,a)}}})})(EM);var Pq=EM.exports;const Rq=Ua(Pq);var xM={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Mr,function(){return function(n,i){i.prototype.isSameOrBefore=function(r,a){return this.isSame(r,a)||this.isBefore(r,a)}}})})(xM);var Lq=xM.exports;const Nq=Ua(Lq),up=Symbol(),Oq=Ge({...iy,type:{type:_e(String),default:"date"}}),Dq=["date","dates","year","years","month","months","week","range"],ay=Ge({disabledDate:{type:_e(Function)},date:{type:_e(Object),required:!0},minDate:{type:_e(Object)},maxDate:{type:_e(Object)},parsedValue:{type:_e([Object,Array])},rangeState:{type:_e(Object),default:()=>({endDate:null,selecting:!1})}}),MM=Ge({type:{type:_e(String),required:!0,values:YV},dateFormat:String,timeFormat:String}),sy=Ge({unlinkPanels:Boolean,parsedValue:{type:_e(Array)}}),oy=t=>({type:String,values:Dq,default:t}),Fq=Ge({...MM,parsedValue:{type:_e([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),Lu=t=>{if(!Nt(t))return!1;const[e,n]=t;return Lt.isDayjs(e)&&Lt.isDayjs(n)&&e.isSameOrBefore(n)},ly=(t,{lang:e,unit:n,unlinkPanels:i})=>{let r;if(Nt(t)){let[a,s]=t.map(o=>Lt(o).locale(e));return i||(s=a.add(1,n)),[a,s]}else t?r=Lt(t):r=Lt();return r=r.locale(e),[r,r.add(1,n)]},Bq=(t,e,{columnIndexOffset:n,startDate:i,nextEndDate:r,now:a,unit:s,relativeDateGetter:o,setCellMetadata:u,setRowMetadata:c})=>{for(let h=0;h<t.row;h++){const p=e[h];for(let v=0;v<t.column;v++){let g=p[v+n];g||(g={row:h,column:v,type:"normal",inRange:!1,start:!1,end:!1});const y=h*t.column+v,_=o(y);g.dayjs=_,g.date=_.toDate(),g.timestamp=_.valueOf(),g.type="normal",g.inRange=!!(i&&_.isSameOrAfter(i,s)&&r&&_.isSameOrBefore(r,s))||!!(i&&_.isSameOrBefore(i,s)&&r&&_.isSameOrAfter(r,s)),i!=null&&i.isSameOrAfter(r)?(g.start=!!r&&_.isSame(r,s),g.end=i&&_.isSame(i,s)):(g.start=!!i&&_.isSame(i,s),g.end=!!r&&_.isSame(r,s)),_.isSame(a,s)&&(g.type="today"),u==null||u(g,{rowIndex:h,columnIndex:v}),p[v+n]=g}c==null||c(p)}},ph=(t,e,n)=>{const i=Lt().locale(n).startOf("month").month(e).year(t),r=i.daysInMonth();return eo(r).map(a=>i.add(a,"day").toDate())},td=(t,e,n,i)=>{const r=Lt().year(t).month(e).startOf("month"),a=ph(t,e,n).find(s=>!(i!=null&&i(s)));return a?Lt(a).locale(n):r.locale(n)},qv=(t,e,n)=>{const i=t.year();if(!(n!=null&&n(t.toDate())))return t.locale(e);const r=t.month();if(!ph(i,r,e).every(n))return td(i,r,e,n);for(let a=0;a<12;a++)if(!ph(i,a,e).every(n))return td(i,a,e,n);return t},Uq=Ge({...ay,cellClassName:{type:_e(Function)},showWeekNumber:Boolean,selectionMode:oy("date")}),Vq=["changerange","pick","select"],Yv=(t="")=>["normal","today"].includes(t),zq=(t,e)=>{const{lang:n}=nn(),i=W(),r=W(),a=W(),s=W(),o=W([[],[],[],[],[],[]]);let u=!1;const c=t.date.$locale().weekStart||7,h=t.date.locale("en").localeData().weekdaysShort().map(O=>O.toLowerCase()),p=L(()=>c>3?7-c:-c),v=L(()=>{const O=t.date.startOf("month");return O.subtract(O.day()||7,"day")}),g=L(()=>h.concat(h).slice(c,c+7)),y=L(()=>TE(d(x)).some(O=>O.isCurrent)),_=L(()=>{const O=t.date.startOf("month"),V=O.day()||7,ee=O.daysInMonth(),ce=O.subtract(1,"month").daysInMonth();return{startOfMonthDay:V,dateCountOfMonth:ee,dateCountOfLastMonth:ce}}),w=L(()=>t.selectionMode==="dates"?fr(t.parsedValue):[]),b=(O,{count:V,rowIndex:ee,columnIndex:ce})=>{const{startOfMonthDay:se,dateCountOfMonth:le,dateCountOfLastMonth:ye}=d(_),Ce=d(p);if(ee>=0&&ee<=1){const pe=se+Ce<0?7+se+Ce:se+Ce;if(ce+ee*7>=pe)return O.text=V,!0;O.text=ye-(pe-ce%7)+1+ee*7,O.type="prev-month"}else return V<=le?O.text=V:(O.text=V-le,O.type="next-month"),!0;return!1},M=(O,{columnIndex:V,rowIndex:ee},ce)=>{const{disabledDate:se,cellClassName:le}=t,ye=d(w),Ce=b(O,{count:ce,rowIndex:ee,columnIndex:V}),pe=O.dayjs.toDate();return O.selected=ye.find(ue=>ue.isSame(O.dayjs,"day")),O.isSelected=!!O.selected,O.isCurrent=k(O),O.disabled=se==null?void 0:se(pe),O.customClass=le==null?void 0:le(pe),Ce},C=O=>{if(t.selectionMode==="week"){const[V,ee]=t.showWeekNumber?[1,7]:[0,6],ce=q(O[V+1]);O[V].inRange=ce,O[V].start=ce,O[ee].inRange=ce,O[ee].end=ce}},x=L(()=>{const{minDate:O,maxDate:V,rangeState:ee,showWeekNumber:ce}=t,se=d(p),le=d(o),ye="day";let Ce=1;if(ce)for(let pe=0;pe<6;pe++)le[pe][0]||(le[pe][0]={type:"week",text:d(v).add(pe*7+1,ye).week()});return Bq({row:6,column:7},le,{startDate:O,columnIndexOffset:ce?1:0,nextEndDate:ee.endDate||V||ee.selecting&&O||null,now:Lt().locale(d(n)).startOf(ye),unit:ye,relativeDateGetter:pe=>d(v).add(pe-se,ye),setCellMetadata:(...pe)=>{M(...pe,Ce)&&(Ce+=1)},setRowMetadata:C}),le});Le(()=>t.date,async()=>{var O;(O=d(i))!=null&&O.contains(document.activeElement)&&(await yt(),await T())});const T=async()=>{var O;return(O=d(r))==null?void 0:O.focus()},k=O=>t.selectionMode==="date"&&Yv(O.type)&&R(O,t.parsedValue),R=(O,V)=>V?Lt(V).locale(d(n)).isSame(t.date.date(Number(O.text)),"day"):!1,D=(O,V)=>{const ee=O*7+(V-(t.showWeekNumber?1:0))-d(p);return d(v).add(ee,"day")},U=O=>{var V;if(!t.rangeState.selecting)return;let ee=O.target;if(ee.tagName==="SPAN"&&(ee=(V=ee.parentNode)==null?void 0:V.parentNode),ee.tagName==="DIV"&&(ee=ee.parentNode),ee.tagName!=="TD")return;const ce=ee.parentNode.rowIndex-1,se=ee.cellIndex;d(x)[ce][se].disabled||(ce!==d(a)||se!==d(s))&&(a.value=ce,s.value=se,e("changerange",{selecting:!0,endDate:D(ce,se)}))},P=O=>!d(y)&&(O==null?void 0:O.text)===1&&O.type==="normal"||O.isCurrent,N=O=>{u||d(y)||t.selectionMode!=="date"||X(O,!0)},$=O=>{O.target.closest("td")&&(u=!0)},Q=O=>{O.target.closest("td")&&(u=!1)},Y=O=>{!t.rangeState.selecting||!t.minDate?(e("pick",{minDate:O,maxDate:null}),e("select",!0)):(O>=t.minDate?e("pick",{minDate:t.minDate,maxDate:O}):e("pick",{minDate:O,maxDate:t.minDate}),e("select",!1))},H=O=>{const V=O.week(),ee=`${O.year()}w${V}`;e("pick",{year:O.year(),week:V,value:ee,date:O.startOf("week")})},B=(O,V)=>{const ee=V?fr(t.parsedValue).filter(ce=>(ce==null?void 0:ce.valueOf())!==O.valueOf()):fr(t.parsedValue).concat([O]);e("pick",ee)},X=(O,V=!1)=>{const ee=O.target.closest("td");if(!ee)return;const ce=ee.parentNode.rowIndex-1,se=ee.cellIndex,le=d(x)[ce][se];if(le.disabled||le.type==="week")return;const ye=D(ce,se);switch(t.selectionMode){case"range":{Y(ye);break}case"date":{e("pick",ye,V);break}case"week":{H(ye);break}case"dates":{B(ye,!!le.selected);break}}},q=O=>{if(t.selectionMode!=="week")return!1;let V=t.date.startOf("day");if(O.type==="prev-month"&&(V=V.subtract(1,"month")),O.type==="next-month"&&(V=V.add(1,"month")),V=V.date(Number.parseInt(O.text,10)),t.parsedValue&&!Array.isArray(t.parsedValue)){const ee=(t.parsedValue.day()-c+7)%7-1;return t.parsedValue.subtract(ee,"day").isSame(V,"day")}return!1};return{WEEKS:g,rows:x,tbodyRef:i,currentCellRef:r,focus:T,isCurrent:k,isWeekActive:q,isSelectedCell:P,handlePickDate:X,handleMouseUp:Q,handleMouseDown:$,handleMouseMove:U,handleFocus:N}},$q=(t,{isCurrent:e,isWeekActive:n})=>{const i=Fe("date-table"),{t:r}=nn(),a=L(()=>[i.b(),{"is-week-mode":t.selectionMode==="week"}]),s=L(()=>r("el.datepicker.dateTablePrompt")),o=L(()=>r("el.datepicker.week"));return{tableKls:a,tableLabel:s,weekLabel:o,getCellClasses:h=>{const p=[];return Yv(h.type)&&!h.disabled?(p.push("available"),h.type==="today"&&p.push("today")):p.push(h.type),e(h)&&p.push("current"),h.inRange&&(Yv(h.type)||t.selectionMode==="week")&&(p.push("in-range"),h.start&&p.push("start-date"),h.end&&p.push("end-date")),h.disabled&&p.push("disabled"),h.selected&&p.push("selected"),h.customClass&&p.push(h.customClass),p.join(" ")},getRowKls:h=>[i.e("row"),{current:n(h)}],t:r}},Hq=Ge({cell:{type:_e(Object)}});var uy=re({name:"ElDatePickerCell",props:Hq,setup(t){const e=Fe("date-table-cell"),{slots:n}=ct(up);return()=>{const{cell:i}=t;return oe(n,"default",{...i},()=>{var r;return[J("div",{class:e.b()},[J("span",{class:e.e("text")},[(r=i==null?void 0:i.renderText)!=null?r:i==null?void 0:i.text])])]})}}});const Gq=re({__name:"basic-date-table",props:Uq,emits:Vq,setup(t,{expose:e,emit:n}){const i=t,{WEEKS:r,rows:a,tbodyRef:s,currentCellRef:o,focus:u,isCurrent:c,isWeekActive:h,isSelectedCell:p,handlePickDate:v,handleMouseUp:g,handleMouseDown:y,handleMouseMove:_,handleFocus:w}=zq(i,n),{tableLabel:b,tableKls:M,weekLabel:C,getCellClasses:x,getRowKls:T,t:k}=$q(i,{isCurrent:c,isWeekActive:h});return e({focus:u}),(R,D)=>(I(),K("table",{"aria-label":d(b),class:z(d(M)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:d(v),onMousemove:d(_),onMousedown:xt(d(y),["prevent"]),onMouseup:d(g)},[Z("tbody",{ref_key:"tbodyRef",ref:s},[Z("tr",null,[R.showWeekNumber?(I(),K("th",{key:0,scope:"col"},Ne(d(C)),1)):he("v-if",!0),(I(!0),K(ut,null,Ut(d(r),(U,P)=>(I(),K("th",{key:P,"aria-label":d(k)("el.datepicker.weeksFull."+U),scope:"col"},Ne(d(k)("el.datepicker.weeks."+U)),9,["aria-label"]))),128))]),(I(!0),K(ut,null,Ut(d(a),(U,P)=>(I(),K("tr",{key:P,class:z(d(T)(U[1]))},[(I(!0),K(ut,null,Ut(U,(N,$)=>(I(),K("td",{key:`${P}.${$}`,ref_for:!0,ref:Q=>d(p)(N)&&(o.value=Q),class:z(d(x)(N)),"aria-current":N.isCurrent?"date":void 0,"aria-selected":N.isCurrent,tabindex:d(p)(N)?0:-1,onFocus:d(w)},[J(d(uy),{cell:N},null,8,["cell"])],42,["aria-current","aria-selected","tabindex","onFocus"]))),128))],2))),128))],512)],42,["aria-label","onClick","onMousemove","onMousedown","onMouseup"]))}});var jv=We(Gq,[["__file","basic-date-table.vue"]]);const Wq=Ge({...ay,selectionMode:oy("month")}),Kq=re({__name:"basic-month-table",props:Wq,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const i=t,r=Fe("month-table"),{t:a,lang:s}=nn(),o=W(),u=W(),c=W(i.date.locale("en").localeData().monthsShort().map(C=>C.toLowerCase())),h=W([[],[],[]]),p=W(),v=W(),g=L(()=>{var C,x;const T=h.value,k=Lt().locale(s.value).startOf("month");for(let R=0;R<3;R++){const D=T[R];for(let U=0;U<4;U++){const P=D[U]||(D[U]={row:R,column:U,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});P.type="normal";const N=R*4+U,$=i.date.startOf("year").month(N),Q=i.rangeState.endDate||i.maxDate||i.rangeState.selecting&&i.minDate||null;P.inRange=!!(i.minDate&&$.isSameOrAfter(i.minDate,"month")&&Q&&$.isSameOrBefore(Q,"month"))||!!(i.minDate&&$.isSameOrBefore(i.minDate,"month")&&Q&&$.isSameOrAfter(Q,"month")),(C=i.minDate)!=null&&C.isSameOrAfter(Q)?(P.start=!!(Q&&$.isSame(Q,"month")),P.end=i.minDate&&$.isSame(i.minDate,"month")):(P.start=!!(i.minDate&&$.isSame(i.minDate,"month")),P.end=!!(Q&&$.isSame(Q,"month"))),k.isSame($)&&(P.type="today"),P.text=N,P.disabled=((x=i.disabledDate)==null?void 0:x.call(i,$.toDate()))||!1}}return T}),y=()=>{var C;(C=u.value)==null||C.focus()},_=C=>{const x={},T=i.date.year(),k=new Date,R=C.text;return x.disabled=i.disabledDate?ph(T,R,s.value).every(i.disabledDate):!1,x.current=fr(i.parsedValue).findIndex(D=>Lt.isDayjs(D)&&D.year()===T&&D.month()===R)>=0,x.today=k.getFullYear()===T&&k.getMonth()===R,C.inRange&&(x["in-range"]=!0,C.start&&(x["start-date"]=!0),C.end&&(x["end-date"]=!0)),x},w=C=>{const x=i.date.year(),T=C.text;return fr(i.date).findIndex(k=>k.year()===x&&k.month()===T)>=0},b=C=>{var x;if(!i.rangeState.selecting)return;let T=C.target;if(T.tagName==="SPAN"&&(T=(x=T.parentNode)==null?void 0:x.parentNode),T.tagName==="DIV"&&(T=T.parentNode),T.tagName!=="TD")return;const k=T.parentNode.rowIndex,R=T.cellIndex;g.value[k][R].disabled||(k!==p.value||R!==v.value)&&(p.value=k,v.value=R,n("changerange",{selecting:!0,endDate:i.date.startOf("year").month(k*4+R)}))},M=C=>{var x;const T=(x=C.target)==null?void 0:x.closest("td");if((T==null?void 0:T.tagName)!=="TD"||xr(T,"disabled"))return;const k=T.cellIndex,D=T.parentNode.rowIndex*4+k,U=i.date.startOf("year").month(D);if(i.selectionMode==="months"){if(C.type==="keydown"){n("pick",fr(i.parsedValue),!1);return}const P=td(i.date.year(),D,s.value,i.disabledDate),N=xr(T,"current")?fr(i.parsedValue).filter($=>($==null?void 0:$.month())!==P.month()):fr(i.parsedValue).concat([Lt(P)]);n("pick",N)}else i.selectionMode==="range"?i.rangeState.selecting?(i.minDate&&U>=i.minDate?n("pick",{minDate:i.minDate,maxDate:U}):n("pick",{minDate:U,maxDate:i.minDate}),n("select",!1)):(n("pick",{minDate:U,maxDate:null}),n("select",!0)):n("pick",D)};return Le(()=>i.date,async()=>{var C,x;(C=o.value)!=null&&C.contains(document.activeElement)&&(await yt(),(x=u.value)==null||x.focus())}),e({focus:y}),(C,x)=>(I(),K("table",{role:"grid","aria-label":d(a)("el.datepicker.monthTablePrompt"),class:z(d(r).b()),onClick:M,onMousemove:b},[Z("tbody",{ref_key:"tbodyRef",ref:o},[(I(!0),K(ut,null,Ut(d(g),(T,k)=>(I(),K("tr",{key:k},[(I(!0),K(ut,null,Ut(T,(R,D)=>(I(),K("td",{key:D,ref_for:!0,ref:U=>w(R)&&(u.value=U),class:z(_(R)),"aria-selected":`${w(R)}`,"aria-label":d(a)(`el.datepicker.month${+R.text+1}`),tabindex:w(R)?0:-1,onKeydown:[mn(xt(M,["prevent","stop"]),["space"]),mn(xt(M,["prevent","stop"]),["enter"])]},[J(d(uy),{cell:{...R,renderText:d(a)("el.datepicker.months."+c.value[R.text])}},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var Xv=We(Kq,[["__file","basic-month-table.vue"]]);const qq=Ge({...ay,selectionMode:oy("year")}),Yq=re({__name:"basic-year-table",props:qq,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const i=t,r=(x,T)=>{const k=Lt(String(x)).locale(T).startOf("year"),D=k.endOf("year").dayOfYear();return eo(D).map(U=>k.add(U,"day").toDate())},a=Fe("year-table"),{t:s,lang:o}=nn(),u=W(),c=W(),h=L(()=>Math.floor(i.date.year()/10)*10),p=W([[],[],[]]),v=W(),g=W(),y=L(()=>{var x;const T=p.value,k=Lt().locale(o.value).startOf("year");for(let R=0;R<3;R++){const D=T[R];for(let U=0;U<4&&!(R*4+U>=10);U++){let P=D[U];P||(P={row:R,column:U,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1}),P.type="normal";const N=R*4+U+h.value,$=Lt().year(N),Q=i.rangeState.endDate||i.maxDate||i.rangeState.selecting&&i.minDate||null;P.inRange=!!(i.minDate&&$.isSameOrAfter(i.minDate,"year")&&Q&&$.isSameOrBefore(Q,"year"))||!!(i.minDate&&$.isSameOrBefore(i.minDate,"year")&&Q&&$.isSameOrAfter(Q,"year")),(x=i.minDate)!=null&&x.isSameOrAfter(Q)?(P.start=!!(Q&&$.isSame(Q,"year")),P.end=!!(i.minDate&&$.isSame(i.minDate,"year"))):(P.start=!!(i.minDate&&$.isSame(i.minDate,"year")),P.end=!!(Q&&$.isSame(Q,"year"))),k.isSame($)&&(P.type="today"),P.text=N;const H=$.toDate();P.disabled=i.disabledDate&&i.disabledDate(H)||!1,D[U]=P}}return T}),_=()=>{var x;(x=c.value)==null||x.focus()},w=x=>{const T={},k=Lt().locale(o.value),R=x.text;return T.disabled=i.disabledDate?r(R,o.value).every(i.disabledDate):!1,T.today=k.year()===R,T.current=fr(i.parsedValue).findIndex(D=>D.year()===R)>=0,x.inRange&&(T["in-range"]=!0,x.start&&(T["start-date"]=!0),x.end&&(T["end-date"]=!0)),T},b=x=>{const T=x.text;return fr(i.date).findIndex(k=>k.year()===T)>=0},M=x=>{var T;const k=(T=x.target)==null?void 0:T.closest("td");if(!k||!k.textContent||xr(k,"disabled"))return;const R=k.cellIndex,U=k.parentNode.rowIndex*4+R+h.value,P=Lt().year(U);if(i.selectionMode==="range")i.rangeState.selecting?(i.minDate&&P>=i.minDate?n("pick",{minDate:i.minDate,maxDate:P}):n("pick",{minDate:P,maxDate:i.minDate}),n("select",!1)):(n("pick",{minDate:P,maxDate:null}),n("select",!0));else if(i.selectionMode==="years"){if(x.type==="keydown"){n("pick",fr(i.parsedValue),!1);return}const N=qv(P.startOf("year"),o.value,i.disabledDate),$=xr(k,"current")?fr(i.parsedValue).filter(Q=>(Q==null?void 0:Q.year())!==U):fr(i.parsedValue).concat([N]);n("pick",$)}else n("pick",U)},C=x=>{var T;if(!i.rangeState.selecting)return;const k=(T=x.target)==null?void 0:T.closest("td");if(!k)return;const R=k.parentNode.rowIndex,D=k.cellIndex;y.value[R][D].disabled||(R!==v.value||D!==g.value)&&(v.value=R,g.value=D,n("changerange",{selecting:!0,endDate:Lt().year(h.value).add(R*4+D,"year")}))};return Le(()=>i.date,async()=>{var x,T;(x=u.value)!=null&&x.contains(document.activeElement)&&(await yt(),(T=c.value)==null||T.focus())}),e({focus:_}),(x,T)=>(I(),K("table",{role:"grid","aria-label":d(s)("el.datepicker.yearTablePrompt"),class:z(d(a).b()),onClick:M,onMousemove:C},[Z("tbody",{ref_key:"tbodyRef",ref:u},[(I(!0),K(ut,null,Ut(d(y),(k,R)=>(I(),K("tr",{key:R},[(I(!0),K(ut,null,Ut(k,(D,U)=>(I(),K("td",{key:`${R}_${U}`,ref_for:!0,ref:P=>b(D)&&(c.value=P),class:z(["available",w(D)]),"aria-selected":b(D),"aria-label":String(D.text),tabindex:b(D)?0:-1,onKeydown:[mn(xt(M,["prevent","stop"]),["space"]),mn(xt(M,["prevent","stop"]),["enter"])]},[J(d(uy),{cell:D},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var Zv=We(Yq,[["__file","basic-year-table.vue"]]);const jq=re({__name:"panel-date-pick",props:Fq,emits:["pick","set-picker-option","panel-change"],setup(t,{emit:e}){const n=t,i=(Te,ze,de)=>!0,r=Fe("picker-panel"),a=Fe("date-picker"),s=_l(),o=bi(),{t:u,lang:c}=nn(),h=ct("EP_PICKER_BASE"),p=ct(lp),{shortcuts:v,disabledDate:g,cellClassName:y,defaultTime:_}=h.props,w=vn(h.props,"defaultValue"),b=W(),M=W(Lt().locale(c.value)),C=W(!1);let x=!1;const T=L(()=>Lt(_).locale(c.value)),k=L(()=>M.value.month()),R=L(()=>M.value.year()),D=W([]),U=W(null),P=W(null),N=Te=>D.value.length>0?i(Te,D.value,n.format||"HH:mm:ss"):!0,$=Te=>_&&!at.value&&!C.value&&!x?T.value.year(Te.year()).month(Te.month()).date(Te.date()):pe.value?Te.millisecond(0):Te.startOf("day"),Q=(Te,...ze)=>{if(!Te)e("pick",Te,...ze);else if(Nt(Te)){const de=Te.map($);e("pick",de,...ze)}else e("pick",$(Te),...ze);U.value=null,P.value=null,C.value=!1,x=!1},Y=async(Te,ze)=>{if(V.value==="date"){Te=Te;let de=n.parsedValue?n.parsedValue.year(Te.year()).month(Te.month()).date(Te.date()):Te;N(de)||(de=D.value[0][0].year(Te.year()).month(Te.month()).date(Te.date())),M.value=de,Q(de,pe.value||ze),n.type==="datetime"&&(await yt(),nt())}else V.value==="week"?Q(Te.date):V.value==="dates"&&Q(Te,!0)},H=Te=>{const ze=Te?"add":"subtract";M.value=M.value[ze](1,"month"),Et("month")},B=Te=>{const ze=M.value,de=Te?"add":"subtract";M.value=X.value==="year"?ze[de](10,"year"):ze[de](1,"year"),Et("year")},X=W("date"),q=L(()=>{const Te=u("el.datepicker.year");if(X.value==="year"){const ze=Math.floor(R.value/10)*10;return Te?`${ze} ${Te} - ${ze+9} ${Te}`:`${ze} - ${ze+9}`}return`${R.value} ${Te}`}),O=Te=>{const ze=un(Te.value)?Te.value():Te.value;if(ze){x=!0,Q(Lt(ze).locale(c.value));return}Te.onClick&&Te.onClick({attrs:s,slots:o,emit:e})},V=L(()=>{const{type:Te}=n;return["week","month","months","year","years","dates"].includes(Te)?Te:"date"}),ee=L(()=>V.value==="dates"||V.value==="months"||V.value==="years"),ce=L(()=>V.value==="date"?X.value:V.value),se=L(()=>!!v.length),le=async(Te,ze)=>{V.value==="month"?(M.value=td(M.value.year(),Te,c.value,g),Q(M.value,!1)):V.value==="months"?Q(Te,ze??!0):(M.value=td(M.value.year(),Te,c.value,g),X.value="date",["month","year","date","week"].includes(V.value)&&(Q(M.value,!0),await yt(),nt())),Et("month")},ye=async(Te,ze)=>{if(V.value==="year"){const de=M.value.startOf("year").year(Te);M.value=qv(de,c.value,g),Q(M.value,!1)}else if(V.value==="years")Q(Te,ze??!0);else{const de=M.value.year(Te);M.value=qv(de,c.value,g),X.value="month",["month","year","date","week"].includes(V.value)&&(Q(M.value,!0),await yt(),nt())}Et("year")},Ce=async Te=>{X.value=Te,await yt(),nt()},pe=L(()=>n.type==="datetime"||n.type==="datetimerange"),ue=L(()=>{const Te=pe.value||V.value==="dates",ze=V.value==="years",de=V.value==="months",be=X.value==="date",Re=X.value==="year",gt=X.value==="month";return Te&&be||ze&&Re||de&&gt}),Me=L(()=>g?n.parsedValue?Nt(n.parsedValue)?g(n.parsedValue[0].toDate()):g(n.parsedValue.toDate()):!0:!1),De=()=>{if(ee.value)Q(n.parsedValue);else{let Te=n.parsedValue;if(!Te){const ze=Lt(_).locale(c.value),de=vt();Te=ze.year(de.year()).month(de.month()).date(de.date())}M.value=Te,Q(Te)}},xe=L(()=>g?g(Lt().locale(c.value).toDate()):!1),G=()=>{const ze=Lt().locale(c.value).toDate();C.value=!0,(!g||!g(ze))&&N(ze)&&(M.value=Lt().locale(c.value),Q(M.value))},He=L(()=>n.timeFormat||Rx(n.format)),Qe=L(()=>n.dateFormat||Px(n.format)),at=L(()=>{if(P.value)return P.value;if(!(!n.parsedValue&&!w.value))return(n.parsedValue||M.value).format(He.value)}),rt=L(()=>{if(U.value)return U.value;if(!(!n.parsedValue&&!w.value))return(n.parsedValue||M.value).format(Qe.value)}),it=W(!1),qe=()=>{it.value=!0},te=()=>{it.value=!1},ae=Te=>({hour:Te.hour(),minute:Te.minute(),second:Te.second(),year:Te.year(),month:Te.month(),date:Te.date()}),ke=(Te,ze,de)=>{const{hour:be,minute:Re,second:gt}=ae(Te),Ft=n.parsedValue?n.parsedValue.hour(be).minute(Re).second(gt):Te;M.value=Ft,Q(M.value,!0),de||(it.value=ze)},Be=Te=>{const ze=Lt(Te,He.value).locale(c.value);if(ze.isValid()&&N(ze)){const{year:de,month:be,date:Re}=ae(M.value);M.value=ze.year(de).month(be).date(Re),P.value=null,it.value=!1,Q(M.value,!0)}},Ve=Te=>{const ze=Lt(Te,Qe.value).locale(c.value);if(ze.isValid()){if(g&&g(ze.toDate()))return;const{hour:de,minute:be,second:Re}=ae(M.value);M.value=ze.hour(de).minute(be).second(Re),U.value=null,Q(M.value,!0)}},Ae=Te=>Lt.isDayjs(Te)&&Te.isValid()&&(g?!g(Te.toDate()):!0),Pe=Te=>Nt(Te)?Te.map(ze=>ze.format(n.format)):Te.format(n.format),Xe=Te=>Lt(Te,n.format).locale(c.value),vt=()=>{const Te=Lt(w.value).locale(c.value);if(!w.value){const ze=T.value;return Lt().hour(ze.hour()).minute(ze.minute()).second(ze.second()).locale(c.value)}return Te},nt=async()=>{var Te;["week","month","year","date"].includes(V.value)&&((Te=b.value)==null||Te.focus(),V.value==="week"&&Ye(St.down))},Rt=Te=>{const{code:ze}=Te;[St.up,St.down,St.left,St.right,St.home,St.end,St.pageUp,St.pageDown].includes(ze)&&(Ye(ze),Te.stopPropagation(),Te.preventDefault()),[St.enter,St.space,St.numpadEnter].includes(ze)&&U.value===null&&P.value===null&&(Te.preventDefault(),Q(M.value,!1))},Ye=Te=>{var ze;const{up:de,down:be,left:Re,right:gt,home:Ft,end:Ee,pageUp:st,pageDown:ve}=St,et={year:{[de]:-4,[be]:4,[Re]:-1,[gt]:1,offset:(bt,$t)=>bt.setFullYear(bt.getFullYear()+$t)},month:{[de]:-4,[be]:4,[Re]:-1,[gt]:1,offset:(bt,$t)=>bt.setMonth(bt.getMonth()+$t)},week:{[de]:-1,[be]:1,[Re]:-1,[gt]:1,offset:(bt,$t)=>bt.setDate(bt.getDate()+$t*7)},date:{[de]:-7,[be]:7,[Re]:-1,[gt]:1,[Ft]:bt=>-bt.getDay(),[Ee]:bt=>-bt.getDay()+6,[st]:bt=>-new Date(bt.getFullYear(),bt.getMonth(),0).getDate(),[ve]:bt=>new Date(bt.getFullYear(),bt.getMonth()+1,0).getDate(),offset:(bt,$t)=>bt.setDate(bt.getDate()+$t)}},lt=M.value.toDate();for(;Math.abs(M.value.diff(lt,"year",!0))<1;){const bt=et[ce.value];if(!bt)return;if(bt.offset(lt,un(bt[Te])?bt[Te](lt):(ze=bt[Te])!=null?ze:0),g&&g(lt))break;const $t=Lt(lt).locale(c.value);M.value=$t,e("pick",$t,!0);break}},Et=Te=>{e("panel-change",M.value.toDate(),Te,X.value)};return Le(()=>V.value,Te=>{if(["month","year"].includes(Te)){X.value=Te;return}else if(Te==="years"){X.value="year";return}else if(Te==="months"){X.value="month";return}X.value="date"},{immediate:!0}),Le(()=>X.value,()=>{p==null||p.updatePopper()}),Le(()=>w.value,Te=>{Te&&(M.value=vt())},{immediate:!0}),Le(()=>n.parsedValue,Te=>{if(Te){if(ee.value||Array.isArray(Te))return;M.value=Te}else M.value=vt()},{immediate:!0}),e("set-picker-option",["isValidValue",Ae]),e("set-picker-option",["formatToString",Pe]),e("set-picker-option",["parseUserInput",Xe]),e("set-picker-option",["handleFocusPicker",nt]),(Te,ze)=>(I(),K("div",{class:z([d(r).b(),d(a).b(),{"has-sidebar":Te.$slots.sidebar||d(se),"has-time":d(pe)}])},[Z("div",{class:z(d(r).e("body-wrapper"))},[oe(Te.$slots,"sidebar",{class:z(d(r).e("sidebar"))}),d(se)?(I(),K("div",{key:0,class:z(d(r).e("sidebar"))},[(I(!0),K(ut,null,Ut(d(v),(de,be)=>(I(),K("button",{key:be,type:"button",class:z(d(r).e("shortcut")),onClick:Re=>O(de)},Ne(de.text),11,["onClick"]))),128))],2)):he("v-if",!0),Z("div",{class:z(d(r).e("body"))},[d(pe)?(I(),K("div",{key:0,class:z(d(a).e("time-header"))},[Z("span",{class:z(d(a).e("editor-wrap"))},[J(d(Qi),{placeholder:d(u)("el.datepicker.selectDate"),"model-value":d(rt),size:"small","validate-event":!1,onInput:de=>U.value=de,onChange:Ve},null,8,["placeholder","model-value","onInput"])],2),Bt((I(),K("span",{class:z(d(a).e("editor-wrap"))},[J(d(Qi),{placeholder:d(u)("el.datepicker.selectTime"),"model-value":d(at),size:"small","validate-event":!1,onFocus:qe,onInput:de=>P.value=de,onChange:Be},null,8,["placeholder","model-value","onInput"]),J(d(hh),{visible:it.value,format:d(He),"parsed-value":M.value,onPick:ke},null,8,["visible","format","parsed-value"])],2)),[[d(xs),te]])],2)):he("v-if",!0),Bt(Z("div",{class:z([d(a).e("header"),(X.value==="year"||X.value==="month")&&d(a).e("header--bordered")])},[Z("span",{class:z(d(a).e("prev-btn"))},[Z("button",{type:"button","aria-label":d(u)("el.datepicker.prevYear"),class:z(["d-arrow-left",d(r).e("icon-btn")]),onClick:de=>B(!1)},[oe(Te.$slots,"prev-year",{},()=>[J(d(dt),null,{default:ne(()=>[J(d(so))]),_:1})])],10,["aria-label","onClick"]),Bt(Z("button",{type:"button","aria-label":d(u)("el.datepicker.prevMonth"),class:z([d(r).e("icon-btn"),"arrow-left"]),onClick:de=>H(!1)},[oe(Te.$slots,"prev-month",{},()=>[J(d(dt),null,{default:ne(()=>[J(d(ao))]),_:1})])],10,["aria-label","onClick"]),[[sn,X.value==="date"]])],2),Z("span",{role:"button",class:z(d(a).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:mn(de=>Ce("year"),["enter"]),onClick:de=>Ce("year")},Ne(d(q)),43,["onKeydown","onClick"]),Bt(Z("span",{role:"button","aria-live":"polite",tabindex:"0",class:z([d(a).e("header-label"),{active:X.value==="month"}]),onKeydown:mn(de=>Ce("month"),["enter"]),onClick:de=>Ce("month")},Ne(d(u)(`el.datepicker.month${d(k)+1}`)),43,["onKeydown","onClick"]),[[sn,X.value==="date"]]),Z("span",{class:z(d(a).e("next-btn"))},[Bt(Z("button",{type:"button","aria-label":d(u)("el.datepicker.nextMonth"),class:z([d(r).e("icon-btn"),"arrow-right"]),onClick:de=>H(!0)},[oe(Te.$slots,"next-month",{},()=>[J(d(dt),null,{default:ne(()=>[J(d(hr))]),_:1})])],10,["aria-label","onClick"]),[[sn,X.value==="date"]]),Z("button",{type:"button","aria-label":d(u)("el.datepicker.nextYear"),class:z([d(r).e("icon-btn"),"d-arrow-right"]),onClick:de=>B(!0)},[oe(Te.$slots,"next-year",{},()=>[J(d(dt),null,{default:ne(()=>[J(d(oo))]),_:1})])],10,["aria-label","onClick"])],2)],2),[[sn,X.value!=="time"]]),Z("div",{class:z(d(r).e("content")),onKeydown:Rt},[X.value==="date"?(I(),we(jv,{key:0,ref_key:"currentViewRef",ref:b,"selection-mode":d(V),date:M.value,"parsed-value":Te.parsedValue,"disabled-date":d(g),"cell-class-name":d(y),onPick:Y},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):he("v-if",!0),X.value==="year"?(I(),we(Zv,{key:1,ref_key:"currentViewRef",ref:b,"selection-mode":d(V),date:M.value,"disabled-date":d(g),"parsed-value":Te.parsedValue,onPick:ye},null,8,["selection-mode","date","disabled-date","parsed-value"])):he("v-if",!0),X.value==="month"?(I(),we(Xv,{key:2,ref_key:"currentViewRef",ref:b,"selection-mode":d(V),date:M.value,"parsed-value":Te.parsedValue,"disabled-date":d(g),onPick:le},null,8,["selection-mode","date","parsed-value","disabled-date"])):he("v-if",!0)],34)],2)],2),Bt(Z("div",{class:z(d(r).e("footer"))},[Bt(J(d(Pi),{text:"",size:"small",class:z(d(r).e("link-btn")),disabled:d(xe),onClick:G},{default:ne(()=>[mt(Ne(d(u)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[sn,!d(ee)]]),J(d(Pi),{plain:"",size:"small",class:z(d(r).e("link-btn")),disabled:d(Me),onClick:De},{default:ne(()=>[mt(Ne(d(u)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[sn,d(ue)]])],2))}});var Xq=We(jq,[["__file","panel-date-pick.vue"]]);const Zq=Ge({...MM,...sy,visible:Boolean}),TM=t=>{const{emit:e}=qt(),n=_l(),i=bi();return a=>{const s=un(a.value)?a.value():a.value;if(s){e("pick",[Lt(s[0]).locale(t.value),Lt(s[1]).locale(t.value)]);return}a.onClick&&a.onClick({attrs:n,slots:i,emit:e})}},AM=(t,{defaultValue:e,leftDate:n,rightDate:i,unit:r,onParsedValueChanged:a})=>{const{emit:s}=qt(),{pickerNs:o}=ct(up),u=Fe("date-range-picker"),{t:c,lang:h}=nn(),p=TM(h),v=W(),g=W(),y=W({endDate:null,selecting:!1}),_=x=>{y.value=x},w=(x=!1)=>{const T=d(v),k=d(g);Lu([T,k])&&s("pick",[T,k],x)},b=x=>{y.value.selecting=x,x||(y.value.endDate=null)},M=x=>{if(Nt(x)&&x.length===2){const[T,k]=x;v.value=T,n.value=T,g.value=k,a(d(v),d(g))}else C()},C=()=>{const[x,T]=ly(d(e),{lang:d(h),unit:r,unlinkPanels:t.unlinkPanels});v.value=void 0,g.value=void 0,n.value=x,i.value=T};return Le(e,x=>{x&&C()},{immediate:!0}),Le(()=>t.parsedValue,M,{immediate:!0}),{minDate:v,maxDate:g,rangeState:y,lang:h,ppNs:o,drpNs:u,handleChangeRange:_,handleRangeConfirm:w,handleShortcutClick:p,onSelect:b,onReset:M,t:c}},ef="month",Qq=re({__name:"panel-date-range",props:Zq,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(t,{emit:e}){const n=t,i=ct("EP_PICKER_BASE"),{disabledDate:r,cellClassName:a,defaultTime:s,clearable:o}=i.props,u=vn(i.props,"format"),c=vn(i.props,"shortcuts"),h=vn(i.props,"defaultValue"),{lang:p}=nn(),v=W(Lt().locale(p.value)),g=W(Lt().locale(p.value).add(1,ef)),{minDate:y,maxDate:_,rangeState:w,ppNs:b,drpNs:M,handleChangeRange:C,handleRangeConfirm:x,handleShortcutClick:T,onSelect:k,onReset:R,t:D}=AM(n,{defaultValue:h,leftDate:v,rightDate:g,unit:ef,onParsedValueChanged:ze});Le(()=>n.visible,de=>{!de&&w.value.selecting&&(R(n.parsedValue),k(!1))});const U=W({min:null,max:null}),P=W({min:null,max:null}),N=L(()=>`${v.value.year()} ${D("el.datepicker.year")} ${D(`el.datepicker.month${v.value.month()+1}`)}`),$=L(()=>`${g.value.year()} ${D("el.datepicker.year")} ${D(`el.datepicker.month${g.value.month()+1}`)}`),Q=L(()=>v.value.year()),Y=L(()=>v.value.month()),H=L(()=>g.value.year()),B=L(()=>g.value.month()),X=L(()=>!!c.value.length),q=L(()=>U.value.min!==null?U.value.min:y.value?y.value.format(se.value):""),O=L(()=>U.value.max!==null?U.value.max:_.value||y.value?(_.value||y.value).format(se.value):""),V=L(()=>P.value.min!==null?P.value.min:y.value?y.value.format(ce.value):""),ee=L(()=>P.value.max!==null?P.value.max:_.value||y.value?(_.value||y.value).format(ce.value):""),ce=L(()=>n.timeFormat||Rx(u.value)),se=L(()=>n.dateFormat||Px(u.value)),le=de=>Lu(de)&&(r?!r(de[0].toDate())&&!r(de[1].toDate()):!0),ye=()=>{v.value=v.value.subtract(1,"year"),n.unlinkPanels||(g.value=v.value.add(1,"month")),He("year")},Ce=()=>{v.value=v.value.subtract(1,"month"),n.unlinkPanels||(g.value=v.value.add(1,"month")),He("month")},pe=()=>{n.unlinkPanels?g.value=g.value.add(1,"year"):(v.value=v.value.add(1,"year"),g.value=v.value.add(1,"month")),He("year")},ue=()=>{n.unlinkPanels?g.value=g.value.add(1,"month"):(v.value=v.value.add(1,"month"),g.value=v.value.add(1,"month")),He("month")},Me=()=>{v.value=v.value.add(1,"year"),He("year")},De=()=>{v.value=v.value.add(1,"month"),He("month")},xe=()=>{g.value=g.value.subtract(1,"year"),He("year")},G=()=>{g.value=g.value.subtract(1,"month"),He("month")},He=de=>{e("panel-change",[v.value.toDate(),g.value.toDate()],de)},Qe=L(()=>{const de=(Y.value+1)%12,be=Y.value+1>=12?1:0;return n.unlinkPanels&&new Date(Q.value+be,de)<new Date(H.value,B.value)}),at=L(()=>n.unlinkPanels&&H.value*12+B.value-(Q.value*12+Y.value+1)>=12),rt=L(()=>!(y.value&&_.value&&!w.value.selecting&&Lu([y.value,_.value]))),it=L(()=>n.type==="datetime"||n.type==="datetimerange"),qe=(de,be)=>{if(de)return s?Lt(s[be]||s).locale(p.value).year(de.year()).month(de.month()).date(de.date()):de},te=(de,be=!0)=>{const Re=de.minDate,gt=de.maxDate,Ft=qe(Re,0),Ee=qe(gt,1);_.value===Ee&&y.value===Ft||(e("calendar-change",[Re.toDate(),gt&&gt.toDate()]),_.value=Ee,y.value=Ft,!(!be||it.value)&&x())},ae=W(!1),ke=W(!1),Be=()=>{ae.value=!1},Ve=()=>{ke.value=!1},Ae=(de,be)=>{U.value[be]=de;const Re=Lt(de,se.value).locale(p.value);if(Re.isValid()){if(r&&r(Re.toDate()))return;be==="min"?(v.value=Re,y.value=(y.value||v.value).year(Re.year()).month(Re.month()).date(Re.date()),!n.unlinkPanels&&(!_.value||_.value.isBefore(y.value))&&(g.value=Re.add(1,"month"),_.value=y.value.add(1,"month"))):(g.value=Re,_.value=(_.value||g.value).year(Re.year()).month(Re.month()).date(Re.date()),!n.unlinkPanels&&(!y.value||y.value.isAfter(_.value))&&(v.value=Re.subtract(1,"month"),y.value=_.value.subtract(1,"month")))}},Pe=(de,be)=>{U.value[be]=null},Xe=(de,be)=>{P.value[be]=de;const Re=Lt(de,ce.value).locale(p.value);Re.isValid()&&(be==="min"?(ae.value=!0,y.value=(y.value||v.value).hour(Re.hour()).minute(Re.minute()).second(Re.second())):(ke.value=!0,_.value=(_.value||g.value).hour(Re.hour()).minute(Re.minute()).second(Re.second()),g.value=_.value))},vt=(de,be)=>{P.value[be]=null,be==="min"?(v.value=y.value,ae.value=!1,(!_.value||_.value.isBefore(y.value))&&(_.value=y.value)):(g.value=_.value,ke.value=!1,_.value&&_.value.isBefore(y.value)&&(y.value=_.value))},nt=(de,be,Re)=>{P.value.min||(de&&(v.value=de,y.value=(y.value||v.value).hour(de.hour()).minute(de.minute()).second(de.second())),Re||(ae.value=be),(!_.value||_.value.isBefore(y.value))&&(_.value=y.value,g.value=de))},Rt=(de,be,Re)=>{P.value.max||(de&&(g.value=de,_.value=(_.value||g.value).hour(de.hour()).minute(de.minute()).second(de.second())),Re||(ke.value=be),_.value&&_.value.isBefore(y.value)&&(y.value=_.value))},Ye=()=>{v.value=ly(d(h),{lang:d(p),unit:"month",unlinkPanels:n.unlinkPanels})[0],g.value=v.value.add(1,"month"),_.value=void 0,y.value=void 0,e("pick",null)},Et=de=>Nt(de)?de.map(be=>be.format(u.value)):de.format(u.value),Te=de=>Nt(de)?de.map(be=>Lt(be,u.value).locale(p.value)):Lt(de,u.value).locale(p.value);function ze(de,be){if(n.unlinkPanels&&be){const Re=(de==null?void 0:de.year())||0,gt=(de==null?void 0:de.month())||0,Ft=be.year(),Ee=be.month();g.value=Re===Ft&&gt===Ee?be.add(1,ef):be}else g.value=v.value.add(1,ef),be&&(g.value=g.value.hour(be.hour()).minute(be.minute()).second(be.second()))}return e("set-picker-option",["isValidValue",le]),e("set-picker-option",["parseUserInput",Te]),e("set-picker-option",["formatToString",Et]),e("set-picker-option",["handleClear",Ye]),(de,be)=>(I(),K("div",{class:z([d(b).b(),d(M).b(),{"has-sidebar":de.$slots.sidebar||d(X),"has-time":d(it)}])},[Z("div",{class:z(d(b).e("body-wrapper"))},[oe(de.$slots,"sidebar",{class:z(d(b).e("sidebar"))}),d(X)?(I(),K("div",{key:0,class:z(d(b).e("sidebar"))},[(I(!0),K(ut,null,Ut(d(c),(Re,gt)=>(I(),K("button",{key:gt,type:"button",class:z(d(b).e("shortcut")),onClick:Ft=>d(T)(Re)},Ne(Re.text),11,["onClick"]))),128))],2)):he("v-if",!0),Z("div",{class:z(d(b).e("body"))},[d(it)?(I(),K("div",{key:0,class:z(d(M).e("time-header"))},[Z("span",{class:z(d(M).e("editors-wrap"))},[Z("span",{class:z(d(M).e("time-picker-wrap"))},[J(d(Qi),{size:"small",disabled:d(w).selecting,placeholder:d(D)("el.datepicker.startDate"),class:z(d(M).e("editor")),"model-value":d(q),"validate-event":!1,onInput:Re=>Ae(Re,"min"),onChange:Re=>Pe(Re,"min")},null,8,["disabled","placeholder","class","model-value","onInput","onChange"])],2),Bt((I(),K("span",{class:z(d(M).e("time-picker-wrap"))},[J(d(Qi),{size:"small",class:z(d(M).e("editor")),disabled:d(w).selecting,placeholder:d(D)("el.datepicker.startTime"),"model-value":d(V),"validate-event":!1,onFocus:Re=>ae.value=!0,onInput:Re=>Xe(Re,"min"),onChange:Re=>vt(Re,"min")},null,8,["class","disabled","placeholder","model-value","onFocus","onInput","onChange"]),J(d(hh),{visible:ae.value,format:d(ce),"datetime-role":"start","parsed-value":v.value,onPick:nt},null,8,["visible","format","parsed-value"])],2)),[[d(xs),Be]])],2),Z("span",null,[J(d(dt),null,{default:ne(()=>[J(d(hr))]),_:1})]),Z("span",{class:z([d(M).e("editors-wrap"),"is-right"])},[Z("span",{class:z(d(M).e("time-picker-wrap"))},[J(d(Qi),{size:"small",class:z(d(M).e("editor")),disabled:d(w).selecting,placeholder:d(D)("el.datepicker.endDate"),"model-value":d(O),readonly:!d(y),"validate-event":!1,onInput:Re=>Ae(Re,"max"),onChange:Re=>Pe(Re,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onInput","onChange"])],2),Bt((I(),K("span",{class:z(d(M).e("time-picker-wrap"))},[J(d(Qi),{size:"small",class:z(d(M).e("editor")),disabled:d(w).selecting,placeholder:d(D)("el.datepicker.endTime"),"model-value":d(ee),readonly:!d(y),"validate-event":!1,onFocus:Re=>d(y)&&(ke.value=!0),onInput:Re=>Xe(Re,"max"),onChange:Re=>vt(Re,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onFocus","onInput","onChange"]),J(d(hh),{"datetime-role":"end",visible:ke.value,format:d(ce),"parsed-value":g.value,onPick:Rt},null,8,["visible","format","parsed-value"])],2)),[[d(xs),Ve]])],2)],2)):he("v-if",!0),Z("div",{class:z([[d(b).e("content"),d(M).e("content")],"is-left"])},[Z("div",{class:z(d(M).e("header"))},[Z("button",{type:"button",class:z([d(b).e("icon-btn"),"d-arrow-left"]),"aria-label":d(D)("el.datepicker.prevYear"),onClick:ye},[oe(de.$slots,"prev-year",{},()=>[J(d(dt),null,{default:ne(()=>[J(d(so))]),_:1})])],10,["aria-label"]),Z("button",{type:"button",class:z([d(b).e("icon-btn"),"arrow-left"]),"aria-label":d(D)("el.datepicker.prevMonth"),onClick:Ce},[oe(de.$slots,"prev-month",{},()=>[J(d(dt),null,{default:ne(()=>[J(d(ao))]),_:1})])],10,["aria-label"]),de.unlinkPanels?(I(),K("button",{key:0,type:"button",disabled:!d(at),class:z([[d(b).e("icon-btn"),{"is-disabled":!d(at)}],"d-arrow-right"]),"aria-label":d(D)("el.datepicker.nextYear"),onClick:Me},[oe(de.$slots,"next-year",{},()=>[J(d(dt),null,{default:ne(()=>[J(d(oo))]),_:1})])],10,["disabled","aria-label"])):he("v-if",!0),de.unlinkPanels?(I(),K("button",{key:1,type:"button",disabled:!d(Qe),class:z([[d(b).e("icon-btn"),{"is-disabled":!d(Qe)}],"arrow-right"]),"aria-label":d(D)("el.datepicker.nextMonth"),onClick:De},[oe(de.$slots,"next-month",{},()=>[J(d(dt),null,{default:ne(()=>[J(d(hr))]),_:1})])],10,["disabled","aria-label"])):he("v-if",!0),Z("div",null,Ne(d(N)),1)],2),J(jv,{"selection-mode":"range",date:v.value,"min-date":d(y),"max-date":d(_),"range-state":d(w),"disabled-date":d(r),"cell-class-name":d(a),onChangerange:d(C),onPick:te,onSelect:d(k)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),Z("div",{class:z([[d(b).e("content"),d(M).e("content")],"is-right"])},[Z("div",{class:z(d(M).e("header"))},[de.unlinkPanels?(I(),K("button",{key:0,type:"button",disabled:!d(at),class:z([[d(b).e("icon-btn"),{"is-disabled":!d(at)}],"d-arrow-left"]),"aria-label":d(D)("el.datepicker.prevYear"),onClick:xe},[oe(de.$slots,"prev-year",{},()=>[J(d(dt),null,{default:ne(()=>[J(d(so))]),_:1})])],10,["disabled","aria-label"])):he("v-if",!0),de.unlinkPanels?(I(),K("button",{key:1,type:"button",disabled:!d(Qe),class:z([[d(b).e("icon-btn"),{"is-disabled":!d(Qe)}],"arrow-left"]),"aria-label":d(D)("el.datepicker.prevMonth"),onClick:G},[oe(de.$slots,"prev-month",{},()=>[J(d(dt),null,{default:ne(()=>[J(d(ao))]),_:1})])],10,["disabled","aria-label"])):he("v-if",!0),Z("button",{type:"button","aria-label":d(D)("el.datepicker.nextYear"),class:z([d(b).e("icon-btn"),"d-arrow-right"]),onClick:pe},[oe(de.$slots,"next-year",{},()=>[J(d(dt),null,{default:ne(()=>[J(d(oo))]),_:1})])],10,["aria-label"]),Z("button",{type:"button",class:z([d(b).e("icon-btn"),"arrow-right"]),"aria-label":d(D)("el.datepicker.nextMonth"),onClick:ue},[oe(de.$slots,"next-month",{},()=>[J(d(dt),null,{default:ne(()=>[J(d(hr))]),_:1})])],10,["aria-label"]),Z("div",null,Ne(d($)),1)],2),J(jv,{"selection-mode":"range",date:g.value,"min-date":d(y),"max-date":d(_),"range-state":d(w),"disabled-date":d(r),"cell-class-name":d(a),onChangerange:d(C),onPick:te,onSelect:d(k)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),d(it)?(I(),K("div",{key:0,class:z(d(b).e("footer"))},[d(o)?(I(),we(d(Pi),{key:0,text:"",size:"small",class:z(d(b).e("link-btn")),onClick:Ye},{default:ne(()=>[mt(Ne(d(D)("el.datepicker.clear")),1)]),_:1},8,["class"])):he("v-if",!0),J(d(Pi),{plain:"",size:"small",class:z(d(b).e("link-btn")),disabled:d(rt),onClick:Re=>d(x)(!1)},{default:ne(()=>[mt(Ne(d(D)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled","onClick"])],2)):he("v-if",!0)],2))}});var Jq=We(Qq,[["__file","panel-date-range.vue"]]);const eY=Ge({...sy}),tY=["pick","set-picker-option","calendar-change"],nY=({unlinkPanels:t,leftDate:e,rightDate:n})=>{const{t:i}=nn(),r=()=>{e.value=e.value.subtract(1,"year"),t.value||(n.value=n.value.subtract(1,"year"))},a=()=>{t.value||(e.value=e.value.add(1,"year")),n.value=n.value.add(1,"year")},s=()=>{e.value=e.value.add(1,"year")},o=()=>{n.value=n.value.subtract(1,"year")},u=L(()=>`${e.value.year()} ${i("el.datepicker.year")}`),c=L(()=>`${n.value.year()} ${i("el.datepicker.year")}`),h=L(()=>e.value.year()),p=L(()=>n.value.year()===e.value.year()?e.value.year()+1:n.value.year());return{leftPrevYear:r,rightNextYear:a,leftNextYear:s,rightPrevYear:o,leftLabel:u,rightLabel:c,leftYear:h,rightYear:p}},tf="year",iY=re({name:"DatePickerMonthRange"}),rY=re({...iY,props:eY,emits:tY,setup(t,{emit:e}){const n=t,{lang:i}=nn(),r=ct("EP_PICKER_BASE"),{shortcuts:a,disabledDate:s}=r.props,o=vn(r.props,"format"),u=vn(r.props,"defaultValue"),c=W(Lt().locale(i.value)),h=W(Lt().locale(i.value).add(1,tf)),{minDate:p,maxDate:v,rangeState:g,ppNs:y,drpNs:_,handleChangeRange:w,handleRangeConfirm:b,handleShortcutClick:M,onSelect:C}=AM(n,{defaultValue:u,leftDate:c,rightDate:h,unit:tf,onParsedValueChanged:q}),x=L(()=>!!a.length),{leftPrevYear:T,rightNextYear:k,leftNextYear:R,rightPrevYear:D,leftLabel:U,rightLabel:P,leftYear:N,rightYear:$}=nY({unlinkPanels:vn(n,"unlinkPanels"),leftDate:c,rightDate:h}),Q=L(()=>n.unlinkPanels&&$.value>N.value+1),Y=(O,V=!0)=>{const ee=O.minDate,ce=O.maxDate;v.value===ce&&p.value===ee||(e("calendar-change",[ee.toDate(),ce&&ce.toDate()]),v.value=ce,p.value=ee,V&&b())},H=()=>{c.value=ly(d(u),{lang:d(i),unit:"year",unlinkPanels:n.unlinkPanels})[0],h.value=c.value.add(1,"year"),e("pick",null)},B=O=>Nt(O)?O.map(V=>V.format(o.value)):O.format(o.value),X=O=>Nt(O)?O.map(V=>Lt(V,o.value).locale(i.value)):Lt(O,o.value).locale(i.value);function q(O,V){if(n.unlinkPanels&&V){const ee=(O==null?void 0:O.year())||0,ce=V.year();h.value=ee===ce?V.add(1,tf):V}else h.value=c.value.add(1,tf)}return e("set-picker-option",["isValidValue",Lu]),e("set-picker-option",["formatToString",B]),e("set-picker-option",["parseUserInput",X]),e("set-picker-option",["handleClear",H]),(O,V)=>(I(),K("div",{class:z([d(y).b(),d(_).b(),{"has-sidebar":!!O.$slots.sidebar||d(x)}])},[Z("div",{class:z(d(y).e("body-wrapper"))},[oe(O.$slots,"sidebar",{class:z(d(y).e("sidebar"))}),d(x)?(I(),K("div",{key:0,class:z(d(y).e("sidebar"))},[(I(!0),K(ut,null,Ut(d(a),(ee,ce)=>(I(),K("button",{key:ce,type:"button",class:z(d(y).e("shortcut")),onClick:se=>d(M)(ee)},Ne(ee.text),11,["onClick"]))),128))],2)):he("v-if",!0),Z("div",{class:z(d(y).e("body"))},[Z("div",{class:z([[d(y).e("content"),d(_).e("content")],"is-left"])},[Z("div",{class:z(d(_).e("header"))},[Z("button",{type:"button",class:z([d(y).e("icon-btn"),"d-arrow-left"]),onClick:d(T)},[oe(O.$slots,"prev-year",{},()=>[J(d(dt),null,{default:ne(()=>[J(d(so))]),_:1})])],10,["onClick"]),O.unlinkPanels?(I(),K("button",{key:0,type:"button",disabled:!d(Q),class:z([[d(y).e("icon-btn"),{[d(y).is("disabled")]:!d(Q)}],"d-arrow-right"]),onClick:d(R)},[oe(O.$slots,"next-year",{},()=>[J(d(dt),null,{default:ne(()=>[J(d(oo))]),_:1})])],10,["disabled","onClick"])):he("v-if",!0),Z("div",null,Ne(d(U)),1)],2),J(Xv,{"selection-mode":"range",date:c.value,"min-date":d(p),"max-date":d(v),"range-state":d(g),"disabled-date":d(s),onChangerange:d(w),onPick:Y,onSelect:d(C)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),Z("div",{class:z([[d(y).e("content"),d(_).e("content")],"is-right"])},[Z("div",{class:z(d(_).e("header"))},[O.unlinkPanels?(I(),K("button",{key:0,type:"button",disabled:!d(Q),class:z([[d(y).e("icon-btn"),{"is-disabled":!d(Q)}],"d-arrow-left"]),onClick:d(D)},[oe(O.$slots,"prev-year",{},()=>[J(d(dt),null,{default:ne(()=>[J(d(so))]),_:1})])],10,["disabled","onClick"])):he("v-if",!0),Z("button",{type:"button",class:z([d(y).e("icon-btn"),"d-arrow-right"]),onClick:d(k)},[oe(O.$slots,"next-year",{},()=>[J(d(dt),null,{default:ne(()=>[J(d(oo))]),_:1})])],10,["onClick"]),Z("div",null,Ne(d(P)),1)],2),J(Xv,{"selection-mode":"range",date:h.value,"min-date":d(p),"max-date":d(v),"range-state":d(g),"disabled-date":d(s),onChangerange:d(w),onPick:Y,onSelect:d(C)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var aY=We(rY,[["__file","panel-month-range.vue"]]);const sY=Ge({...sy}),oY=["pick","set-picker-option","calendar-change"],lY=({unlinkPanels:t,leftDate:e,rightDate:n})=>{const i=()=>{e.value=e.value.subtract(10,"year"),t.value||(n.value=n.value.subtract(10,"year"))},r=()=>{t.value||(e.value=e.value.add(10,"year")),n.value=n.value.add(10,"year")},a=()=>{e.value=e.value.add(10,"year")},s=()=>{n.value=n.value.subtract(10,"year")},o=L(()=>{const p=Math.floor(e.value.year()/10)*10;return`${p}-${p+9}`}),u=L(()=>{const p=Math.floor(n.value.year()/10)*10;return`${p}-${p+9}`}),c=L(()=>Math.floor(e.value.year()/10)*10+9),h=L(()=>Math.floor(n.value.year()/10)*10);return{leftPrevYear:i,rightNextYear:r,leftNextYear:a,rightPrevYear:s,leftLabel:o,rightLabel:u,leftYear:c,rightYear:h}},O1="year",uY=re({name:"DatePickerYearRange"}),cY=re({...uY,props:sY,emits:oY,setup(t,{emit:e}){const n=t,{lang:i}=nn(),r=W(Lt().locale(i.value)),a=W(r.value.add(10,"year")),{pickerNs:s}=ct(up),o=Fe("date-range-picker"),u=L(()=>!!Y.length),c=L(()=>[s.b(),o.b(),{"has-sidebar":!!bi().sidebar||u.value}]),h=L(()=>({content:[s.e("content"),o.e("content"),"is-left"],arrowLeftBtn:[s.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[s.e("icon-btn"),{[s.is("disabled")]:!T.value},"d-arrow-right"]})),p=L(()=>({content:[s.e("content"),o.e("content"),"is-right"],arrowLeftBtn:[s.e("icon-btn"),{"is-disabled":!T.value},"d-arrow-left"],arrowRightBtn:[s.e("icon-btn"),"d-arrow-right"]})),v=TM(i),{leftPrevYear:g,rightNextYear:y,leftNextYear:_,rightPrevYear:w,leftLabel:b,rightLabel:M,leftYear:C,rightYear:x}=lY({unlinkPanels:vn(n,"unlinkPanels"),leftDate:r,rightDate:a}),T=L(()=>n.unlinkPanels&&x.value>C.value+1),k=W(),R=W(),D=W({endDate:null,selecting:!1}),U=se=>{D.value=se},P=(se,le=!0)=>{const ye=se.minDate,Ce=se.maxDate;R.value===Ce&&k.value===ye||(e("calendar-change",[ye.toDate(),Ce&&Ce.toDate()]),R.value=Ce,k.value=ye,le&&N())},N=(se=!1)=>{Lu([k.value,R.value])&&e("pick",[k.value,R.value],se)},$=se=>{D.value.selecting=se,se||(D.value.endDate=null)},Q=ct("EP_PICKER_BASE"),{shortcuts:Y,disabledDate:H}=Q.props,B=vn(Q.props,"format"),X=vn(Q.props,"defaultValue"),q=()=>{let se;if(Nt(X.value)){const le=Lt(X.value[0]);let ye=Lt(X.value[1]);return n.unlinkPanels||(ye=le.add(10,O1)),[le,ye]}else X.value?se=Lt(X.value):se=Lt();return se=se.locale(i.value),[se,se.add(10,O1)]};Le(()=>X.value,se=>{if(se){const le=q();r.value=le[0],a.value=le[1]}},{immediate:!0}),Le(()=>n.parsedValue,se=>{if(se&&se.length===2)if(k.value=se[0],R.value=se[1],r.value=k.value,n.unlinkPanels&&R.value){const le=k.value.year(),ye=R.value.year();a.value=le===ye?R.value.add(10,"year"):R.value}else a.value=r.value.add(10,"year");else{const le=q();k.value=void 0,R.value=void 0,r.value=le[0],a.value=le[1]}},{immediate:!0});const O=se=>Nt(se)?se.map(le=>Lt(le,B.value).locale(i.value)):Lt(se,B.value).locale(i.value),V=se=>Nt(se)?se.map(le=>le.format(B.value)):se.format(B.value),ee=se=>Lu(se)&&(H?!H(se[0].toDate())&&!H(se[1].toDate()):!0),ce=()=>{const se=q();r.value=se[0],a.value=se[1],R.value=void 0,k.value=void 0,e("pick",null)};return e("set-picker-option",["isValidValue",ee]),e("set-picker-option",["parseUserInput",O]),e("set-picker-option",["formatToString",V]),e("set-picker-option",["handleClear",ce]),(se,le)=>(I(),K("div",{class:z(d(c))},[Z("div",{class:z(d(s).e("body-wrapper"))},[oe(se.$slots,"sidebar",{class:z(d(s).e("sidebar"))}),d(u)?(I(),K("div",{key:0,class:z(d(s).e("sidebar"))},[(I(!0),K(ut,null,Ut(d(Y),(ye,Ce)=>(I(),K("button",{key:Ce,type:"button",class:z(d(s).e("shortcut")),onClick:pe=>d(v)(ye)},Ne(ye.text),11,["onClick"]))),128))],2)):he("v-if",!0),Z("div",{class:z(d(s).e("body"))},[Z("div",{class:z(d(h).content)},[Z("div",{class:z(d(o).e("header"))},[Z("button",{type:"button",class:z(d(h).arrowLeftBtn),onClick:d(g)},[oe(se.$slots,"prev-year",{},()=>[J(d(dt),null,{default:ne(()=>[J(d(so))]),_:1})])],10,["onClick"]),se.unlinkPanels?(I(),K("button",{key:0,type:"button",disabled:!d(T),class:z(d(h).arrowRightBtn),onClick:d(_)},[oe(se.$slots,"next-year",{},()=>[J(d(dt),null,{default:ne(()=>[J(d(oo))]),_:1})])],10,["disabled","onClick"])):he("v-if",!0),Z("div",null,Ne(d(b)),1)],2),J(Zv,{"selection-mode":"range",date:r.value,"min-date":k.value,"max-date":R.value,"range-state":D.value,"disabled-date":d(H),onChangerange:U,onPick:P,onSelect:$},null,8,["date","min-date","max-date","range-state","disabled-date"])],2),Z("div",{class:z(d(p).content)},[Z("div",{class:z(d(o).e("header"))},[se.unlinkPanels?(I(),K("button",{key:0,type:"button",disabled:!d(T),class:z(d(p).arrowLeftBtn),onClick:d(w)},[oe(se.$slots,"prev-year",{},()=>[J(d(dt),null,{default:ne(()=>[J(d(so))]),_:1})])],10,["disabled","onClick"])):he("v-if",!0),Z("button",{type:"button",class:z(d(p).arrowRightBtn),onClick:d(y)},[oe(se.$slots,"next-year",{},()=>[J(d(dt),null,{default:ne(()=>[J(d(oo))]),_:1})])],10,["onClick"]),Z("div",null,Ne(d(M)),1)],2),J(Zv,{"selection-mode":"range",date:a.value,"min-date":k.value,"max-date":R.value,"range-state":D.value,"disabled-date":d(H),onChangerange:U,onPick:P,onSelect:$},null,8,["date","min-date","max-date","range-state","disabled-date"])],2)],2)],2)],2))}});var dY=We(cY,[["__file","panel-year-range.vue"]]);const fY=function(t){switch(t){case"daterange":case"datetimerange":return Jq;case"monthrange":return aY;case"yearrange":return dY;default:return Xq}};Lt.extend(Yx);Lt.extend(Eq);Lt.extend(ny);Lt.extend(Mq);Lt.extend(Aq);Lt.extend(Iq);Lt.extend(Rq);Lt.extend(Nq);var hY=re({name:"ElDatePicker",install:null,props:Oq,emits:["update:modelValue"],setup(t,{expose:e,emit:n,slots:i}){const r=Fe("picker-panel");Zt("ElPopperOptions",jt(vn(t,"popperOptions"))),Zt(up,{slots:i,pickerNs:r});const a=W();e({focus:(u=!0)=>{var c;(c=a.value)==null||c.focus(u)},handleOpen:()=>{var u;(u=a.value)==null||u.handleOpen()},handleClose:()=>{var u;(u=a.value)==null||u.handleClose()}});const o=u=>{n("update:modelValue",u)};return()=>{var u;const c=(u=t.format)!=null?u:j9[t.type]||tu,h=fY(t.type);return J(Ox,Ht(t,{format:c,type:t.type,ref:a,"onUpdate:modelValue":o}),{default:p=>J(h,p,{"prev-month":i["prev-month"],"next-month":i["next-month"],"prev-year":i["prev-year"],"next-year":i["next-year"]}),"range-separator":i["range-separator"]})}}});const pY=Dt(hY),cy=Symbol("elDescriptions");var wc=re({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:ct(cy,{})}},render(){var t;const e=ZV(this.cell),n=(((t=this.cell)==null?void 0:t.dirs)||[]).map(w=>{const{dir:b,arg:M,modifiers:C,value:x}=w;return[b,x,M,C]}),{border:i,direction:r}=this.descriptions,a=r==="vertical",s=()=>{var w,b,M;return((M=(b=(w=this.cell)==null?void 0:w.children)==null?void 0:b.label)==null?void 0:M.call(b))||e.label},o=()=>{var w,b,M;return(M=(b=(w=this.cell)==null?void 0:w.children)==null?void 0:b.default)==null?void 0:M.call(b)},u=e.span,c=e.rowspan,h=e.align?`is-${e.align}`:"",p=e.labelAlign?`is-${e.labelAlign}`:h,v=e.className,g=e.labelClassName,y={width:Xn(e.width),minWidth:Xn(e.minWidth)},_=Fe("descriptions");switch(this.type){case"label":return Bt(Ct(this.tag,{style:y,class:[_.e("cell"),_.e("label"),_.is("bordered-label",i),_.is("vertical-label",a),p,g],colSpan:a?u:1,rowspan:a?1:c},s()),n);case"content":return Bt(Ct(this.tag,{style:y,class:[_.e("cell"),_.e("content"),_.is("bordered-content",i),_.is("vertical-content",a),h,v],colSpan:a?u:u*2-1,rowspan:a?c*2-1:c},o()),n);default:{const w=s();return Bt(Ct("td",{style:y,class:[_.e("cell"),h],colSpan:u,rowspan:c},[Mi(w)?void 0:Ct("span",{class:[_.e("label"),g]},w),Ct("span",{class:[_.e("content"),v]},o())]),n)}}}});const mY=Ge({row:{type:_e(Array),default:()=>[]}}),vY=re({name:"ElDescriptionsRow"}),gY=re({...vY,props:mY,setup(t){const e=ct(cy,{});return(n,i)=>d(e).direction==="vertical"?(I(),K(ut,{key:0},[Z("tr",null,[(I(!0),K(ut,null,Ut(n.row,(r,a)=>(I(),we(d(wc),{key:`tr1-${a}`,cell:r,tag:"th",type:"label"},null,8,["cell"]))),128))]),Z("tr",null,[(I(!0),K(ut,null,Ut(n.row,(r,a)=>(I(),we(d(wc),{key:`tr2-${a}`,cell:r,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(I(),K("tr",{key:1},[(I(!0),K(ut,null,Ut(n.row,(r,a)=>(I(),K(ut,{key:`tr3-${a}`},[d(e).border?(I(),K(ut,{key:0},[J(d(wc),{cell:r,tag:"td",type:"label"},null,8,["cell"]),J(d(wc),{cell:r,tag:"td",type:"content"},null,8,["cell"])],64)):(I(),we(d(wc),{key:1,cell:r,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var yY=We(gY,[["__file","descriptions-row.vue"]]);const _Y=Ge({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:gi,title:{type:String,default:""},extra:{type:String,default:""}}),bY=re({name:"ElDescriptions"}),wY=re({...bY,props:_Y,setup(t){const e=t,n=Fe("descriptions"),i=fi(),r=bi();Zt(cy,e);const a=L(()=>[n.b(),n.m(i.value)]),s=(u,c,h,p=!1)=>(u.props||(u.props={}),c>h&&(u.props.span=h),p&&(u.props.span=c),u),o=()=>{if(!r.default)return[];const u=Qs(r.default()).filter(y=>{var _;return((_=y==null?void 0:y.type)==null?void 0:_.name)==="ElDescriptionsItem"}),c=[];let h=[],p=e.column,v=0;const g=[];return u.forEach((y,_)=>{var w,b,M;const C=((w=y.props)==null?void 0:w.span)||1,x=((b=y.props)==null?void 0:b.rowspan)||1,T=c.length;if(g[T]||(g[T]=0),x>1)for(let k=1;k<x;k++)g[M=T+k]||(g[M]=0),g[T+k]++,v++;if(g[T]>0&&(p-=g[T],g[T]=0),_<u.length-1&&(v+=C>p?p:C),_===u.length-1){const k=e.column-v%e.column;h.push(s(y,k,p,!0)),c.push(h);return}C<p?(p-=C,h.push(y)):(h.push(s(y,C,p)),c.push(h),p=e.column,h=[])}),c};return(u,c)=>(I(),K("div",{class:z(d(a))},[u.title||u.extra||u.$slots.title||u.$slots.extra?(I(),K("div",{key:0,class:z(d(n).e("header"))},[Z("div",{class:z(d(n).e("title"))},[oe(u.$slots,"title",{},()=>[mt(Ne(u.title),1)])],2),Z("div",{class:z(d(n).e("extra"))},[oe(u.$slots,"extra",{},()=>[mt(Ne(u.extra),1)])],2)],2)):he("v-if",!0),Z("div",{class:z(d(n).e("body"))},[Z("table",{class:z([d(n).e("table"),d(n).is("bordered",u.border)])},[Z("tbody",null,[(I(!0),K(ut,null,Ut(o(),(h,p)=>(I(),we(yY,{key:p,row:h},null,8,["row"]))),128))])],2)],2)],2))}});var SY=We(wY,[["__file","description.vue"]]);const CY=Ge({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),kM=re({name:"ElDescriptionsItem",props:CY}),EY=Dt(SY,{DescriptionsItem:kM}),xY=Bn(kM),MY=Ge({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:_e([String,Array,Object])},zIndex:{type:_e([String,Number])}}),TY={click:t=>t instanceof MouseEvent},AY="overlay";var kY=re({name:"ElOverlay",props:MY,emits:TY,setup(t,{slots:e,emit:n}){const i=Fe(AY),r=u=>{n("click",u)},{onClick:a,onMousedown:s,onMouseup:o}=V0(t.customMaskEvent?void 0:r);return()=>t.mask?J("div",{class:[i.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:a,onMousedown:s,onMouseup:o},[oe(e,"default")],Jr.STYLE|Jr.CLASS|Jr.PROPS,["onClick","onMouseup","onMousedown"]):Ct("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[oe(e,"default")])}});const dy=kY,IM=Symbol("dialogInjectionKey"),PM=Ge({center:Boolean,alignCenter:Boolean,closeIcon:{type:wn},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),IY={close:()=>!0},PY=re({name:"ElDialogContent"}),RY=re({...PY,props:PM,emits:IY,setup(t,{expose:e}){const n=t,{t:i}=nn(),{Close:r}=M0,{dialogRef:a,headerRef:s,bodyId:o,ns:u,style:c}=ct(IM),{focusTrapRef:h}=ct(J0),p=L(()=>[u.b(),u.is("fullscreen",n.fullscreen),u.is("draggable",n.draggable),u.is("align-center",n.alignCenter),{[u.m("center")]:n.center}]),v=Qh(h,a),g=L(()=>n.draggable),y=L(()=>n.overflow),{resetPosition:_}=x2(a,s,g,y);return e({resetPosition:_}),(w,b)=>(I(),K("div",{ref:d(v),class:z(d(p)),style:_t(d(c)),tabindex:"-1"},[Z("header",{ref_key:"headerRef",ref:s,class:z([d(u).e("header"),{"show-close":w.showClose}])},[oe(w.$slots,"header",{},()=>[Z("span",{role:"heading","aria-level":w.ariaLevel,class:z(d(u).e("title"))},Ne(w.title),11,["aria-level"])]),w.showClose?(I(),K("button",{key:0,"aria-label":d(i)("el.dialog.close"),class:z(d(u).e("headerbtn")),type:"button",onClick:M=>w.$emit("close")},[J(d(dt),{class:z(d(u).e("close"))},{default:ne(()=>[(I(),we(Vt(w.closeIcon||d(r))))]),_:1},8,["class"])],10,["aria-label","onClick"])):he("v-if",!0)],2),Z("div",{id:d(o),class:z(d(u).e("body"))},[oe(w.$slots,"default")],10,["id"]),w.$slots.footer?(I(),K("footer",{key:0,class:z(d(u).e("footer"))},[oe(w.$slots,"footer")],2)):he("v-if",!0)],6))}});var LY=We(RY,[["__file","dialog-content.vue"]]);const RM=Ge({...PM,appendToBody:Boolean,appendTo:{type:_e([String,Object]),default:"body"},beforeClose:{type:_e(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),LM={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Wt]:t=>$n(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},NM=(t,e)=>{var n;const r=qt().emit,{nextZIndex:a}=Xu();let s="";const o=Bi(),u=Bi(),c=W(!1),h=W(!1),p=W(!1),v=W((n=t.zIndex)!=null?n:a());let g,y;const _=ap("namespace",Dc),w=L(()=>{const H={},B=`--${_.value}-dialog`;return t.fullscreen||(t.top&&(H[`${B}-margin-top`]=t.top),t.width&&(H[`${B}-width`]=Xn(t.width))),H}),b=L(()=>t.alignCenter?{display:"flex"}:{});function M(){r("opened")}function C(){r("closed"),r(Wt,!1),t.destroyOnClose&&(p.value=!1)}function x(){r("close")}function T(){y==null||y(),g==null||g(),t.openDelay&&t.openDelay>0?{stop:g}=ll(()=>U(),t.openDelay):U()}function k(){g==null||g(),y==null||y(),t.closeDelay&&t.closeDelay>0?{stop:y}=ll(()=>P(),t.closeDelay):P()}function R(){function H(B){B||(h.value=!0,c.value=!1)}t.beforeClose?t.beforeClose(H):k()}function D(){t.closeOnClickModal&&R()}function U(){tn&&(c.value=!0)}function P(){c.value=!1}function N(){r("openAutoFocus")}function $(){r("closeAutoFocus")}function Q(H){var B;((B=H.detail)==null?void 0:B.focusReason)==="pointer"&&H.preventDefault()}t.lockScroll&&P0(c);function Y(){t.closeOnPressEscape&&R()}return Le(()=>t.modelValue,H=>{H?(h.value=!1,T(),p.value=!0,v.value=y2(t.zIndex)?a():v.value++,yt(()=>{r("open"),e.value&&(e.value.scrollTop=0)})):c.value&&k()}),Le(()=>t.fullscreen,H=>{e.value&&(H?(s=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=s)}),wt(()=>{t.modelValue&&(c.value=!0,p.value=!0,T())}),{afterEnter:M,afterLeave:C,beforeLeave:x,handleClose:R,onModalClick:D,close:k,doClose:P,onOpenAutoFocus:N,onCloseAutoFocus:$,onCloseRequested:Y,onFocusoutPrevented:Q,titleId:o,bodyId:u,closed:h,style:w,overlayDialogStyle:b,rendered:p,visible:c,zIndex:v}},NY=re({name:"ElDialog",inheritAttrs:!1}),OY=re({...NY,props:RM,emits:LM,setup(t,{expose:e}){const n=t,i=bi();Js({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},L(()=>!!i.title));const r=Fe("dialog"),a=W(),s=W(),o=W(),{visible:u,titleId:c,bodyId:h,style:p,overlayDialogStyle:v,rendered:g,zIndex:y,afterEnter:_,afterLeave:w,beforeLeave:b,handleClose:M,onModalClick:C,onOpenAutoFocus:x,onCloseAutoFocus:T,onCloseRequested:k,onFocusoutPrevented:R}=NM(n,a);Zt(IM,{dialogRef:a,headerRef:s,bodyId:h,ns:r,rendered:g,style:p});const D=V0(C),U=L(()=>n.draggable&&!n.fullscreen);return e({visible:u,dialogContentRef:o,resetPosition:()=>{var N;(N=o.value)==null||N.resetPosition()}}),(N,$)=>(I(),we(d(Ju),{to:N.appendTo,disabled:N.appendTo!=="body"?!1:!N.appendToBody},{default:ne(()=>[J(ui,{name:"dialog-fade",onAfterEnter:d(_),onAfterLeave:d(w),onBeforeLeave:d(b),persisted:""},{default:ne(()=>[Bt(J(d(dy),{"custom-mask-event":"",mask:N.modal,"overlay-class":N.modalClass,"z-index":d(y)},{default:ne(()=>[Z("div",{role:"dialog","aria-modal":"true","aria-label":N.title||void 0,"aria-labelledby":N.title?void 0:d(c),"aria-describedby":d(h),class:z(`${d(r).namespace.value}-overlay-dialog`),style:_t(d(v)),onClick:d(D).onClick,onMousedown:d(D).onMousedown,onMouseup:d(D).onMouseup},[J(d(Td),{loop:"",trapped:d(u),"focus-start-el":"container",onFocusAfterTrapped:d(x),onFocusAfterReleased:d(T),onFocusoutPrevented:d(R),onReleaseRequested:d(k)},{default:ne(()=>[d(g)?(I(),we(LY,Ht({key:0,ref_key:"dialogContentRef",ref:o},N.$attrs,{center:N.center,"align-center":N.alignCenter,"close-icon":N.closeIcon,draggable:d(U),overflow:N.overflow,fullscreen:N.fullscreen,"show-close":N.showClose,title:N.title,"aria-level":N.headerAriaLevel,onClose:d(M)}),oa({header:ne(()=>[N.$slots.title?oe(N.$slots,"title",{key:1}):oe(N.$slots,"header",{key:0,close:d(M),titleId:d(c),titleClass:d(r).e("title")})]),default:ne(()=>[oe(N.$slots,"default")]),_:2},[N.$slots.footer?{name:"footer",fn:ne(()=>[oe(N.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):he("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[sn,d(u)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var DY=We(OY,[["__file","dialog.vue"]]);const FY=Dt(DY),BY=Ge({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:_e(String),default:"solid"}}),UY=re({name:"ElDivider"}),VY=re({...UY,props:BY,setup(t){const e=t,n=Fe("divider"),i=L(()=>n.cssVar({"border-style":e.borderStyle}));return(r,a)=>(I(),K("div",{class:z([d(n).b(),d(n).m(r.direction)]),style:_t(d(i)),role:"separator"},[r.$slots.default&&r.direction!=="vertical"?(I(),K("div",{key:0,class:z([d(n).e("text"),d(n).is(r.contentPosition)])},[oe(r.$slots,"default")],2)):he("v-if",!0)],6))}});var zY=We(VY,[["__file","divider.vue"]]);const fy=Dt(zY),$Y=Ge({...RM,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),HY=LM,GY=re({name:"ElDrawer",inheritAttrs:!1}),WY=re({...GY,props:$Y,emits:HY,setup(t,{expose:e}){const n=t,i=bi();Js({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},L(()=>!!i.title));const r=W(),a=W(),s=Fe("drawer"),{t:o}=nn(),{afterEnter:u,afterLeave:c,beforeLeave:h,visible:p,rendered:v,titleId:g,bodyId:y,zIndex:_,onModalClick:w,onOpenAutoFocus:b,onCloseAutoFocus:M,onFocusoutPrevented:C,onCloseRequested:x,handleClose:T}=NM(n,r),k=L(()=>n.direction==="rtl"||n.direction==="ltr"),R=L(()=>Xn(n.size));return e({handleClose:T,afterEnter:u,afterLeave:c}),(D,U)=>(I(),we(d(Ju),{to:D.appendTo,disabled:D.appendTo!=="body"?!1:!D.appendToBody},{default:ne(()=>[J(ui,{name:d(s).b("fade"),onAfterEnter:d(u),onAfterLeave:d(c),onBeforeLeave:d(h),persisted:""},{default:ne(()=>[Bt(J(d(dy),{mask:D.modal,"overlay-class":D.modalClass,"z-index":d(_),onClick:d(w)},{default:ne(()=>[J(d(Td),{loop:"",trapped:d(p),"focus-trap-el":r.value,"focus-start-el":a.value,onFocusAfterTrapped:d(b),onFocusAfterReleased:d(M),onFocusoutPrevented:d(C),onReleaseRequested:d(x)},{default:ne(()=>[Z("div",Ht({ref_key:"drawerRef",ref:r,"aria-modal":"true","aria-label":D.title||void 0,"aria-labelledby":D.title?void 0:d(g),"aria-describedby":d(y)},D.$attrs,{class:[d(s).b(),D.direction,d(p)&&"open"],style:d(k)?"width: "+d(R):"height: "+d(R),role:"dialog",onClick:xt(()=>{},["stop"])}),[Z("span",{ref_key:"focusStartRef",ref:a,class:z(d(s).e("sr-focus")),tabindex:"-1"},null,2),D.withHeader?(I(),K("header",{key:0,class:z(d(s).e("header"))},[D.$slots.title?oe(D.$slots,"title",{key:1},()=>[he(" DEPRECATED SLOT ")]):oe(D.$slots,"header",{key:0,close:d(T),titleId:d(g),titleClass:d(s).e("title")},()=>[D.$slots.title?he("v-if",!0):(I(),K("span",{key:0,id:d(g),role:"heading","aria-level":D.headerAriaLevel,class:z(d(s).e("title"))},Ne(D.title),11,["id","aria-level"]))]),D.showClose?(I(),K("button",{key:2,"aria-label":d(o)("el.drawer.close"),class:z(d(s).e("close-btn")),type:"button",onClick:d(T)},[J(d(dt),{class:z(d(s).e("close"))},{default:ne(()=>[J(d(Ra))]),_:1},8,["class"])],10,["aria-label","onClick"])):he("v-if",!0)],2)):he("v-if",!0),d(v)?(I(),K("div",{key:1,id:d(y),class:z(d(s).e("body"))},[oe(D.$slots,"default")],10,["id"])):he("v-if",!0),D.$slots.footer?(I(),K("div",{key:2,class:z(d(s).e("footer"))},[oe(D.$slots,"footer")],2)):he("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[sn,d(p)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var KY=We(WY,[["__file","drawer.vue"]]);const qY=Dt(KY),YY=re({inheritAttrs:!1});function jY(t,e,n,i,r,a){return oe(t.$slots,"default")}var XY=We(YY,[["render",jY],["__file","collection.vue"]]);const ZY=re({name:"ElCollectionItem",inheritAttrs:!1});function QY(t,e,n,i,r,a){return oe(t.$slots,"default")}var JY=We(ZY,[["render",QY],["__file","collection-item.vue"]]);const OM="data-el-collection-item",DM=t=>{const e=`El${t}Collection`,n=`${e}Item`,i=Symbol(e),r=Symbol(n),a={...XY,name:e,setup(){const o=W(null),u=new Map;Zt(i,{itemMap:u,getItems:()=>{const h=d(o);if(!h)return[];const p=Array.from(h.querySelectorAll(`[${OM}]`));return[...u.values()].sort((g,y)=>p.indexOf(g.ref)-p.indexOf(y.ref))},collectionRef:o})}},s={...JY,name:n,setup(o,{attrs:u}){const c=W(null),h=ct(i,void 0);Zt(r,{collectionItemRef:c}),wt(()=>{const p=d(c);p&&h.itemMap.set(p,{ref:p,...u})}),xn(()=>{const p=d(c);h.itemMap.delete(p)})}};return{COLLECTION_INJECTION_KEY:i,COLLECTION_ITEM_INJECTION_KEY:r,ElCollection:a,ElCollectionItem:s}},ej=Ge({style:{type:_e([String,Array,Object])},currentTabId:{type:_e(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:_e(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:tj,ElCollectionItem:nj,COLLECTION_INJECTION_KEY:hy,COLLECTION_ITEM_INJECTION_KEY:ij}=DM("RovingFocusGroup"),py=Symbol("elRovingFocusGroup"),FM=Symbol("elRovingFocusGroupItem"),rj={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},aj=(t,e)=>t,sj=(t,e,n)=>{const i=aj(t.key);return rj[i]},oj=(t,e)=>t.map((n,i)=>t[(i+e)%t.length]),my=t=>{const{activeElement:e}=document;for(const n of t)if(n===e||(n.focus(),e!==document.activeElement))return},D1="currentTabIdChange",F1="rovingFocusGroup.entryFocus",lj={bubbles:!1,cancelable:!0},uj=re({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:ej,emits:[D1,"entryFocus"],setup(t,{emit:e}){var n;const i=W((n=t.currentTabId||t.defaultCurrentTabId)!=null?n:null),r=W(!1),a=W(!1),s=W(null),{getItems:o}=ct(hy,void 0),u=L(()=>[{outline:"none"},t.style]),c=_=>{e(D1,_)},h=()=>{r.value=!0},p=qn(_=>{var w;(w=t.onMousedown)==null||w.call(t,_)},()=>{a.value=!0}),v=qn(_=>{var w;(w=t.onFocus)==null||w.call(t,_)},_=>{const w=!d(a),{target:b,currentTarget:M}=_;if(b===M&&w&&!d(r)){const C=new Event(F1,lj);if(M==null||M.dispatchEvent(C),!C.defaultPrevented){const x=o().filter(U=>U.focusable),T=x.find(U=>U.active),k=x.find(U=>U.id===d(i)),D=[T,k,...x].filter(Boolean).map(U=>U.ref);my(D)}}a.value=!1}),g=qn(_=>{var w;(w=t.onBlur)==null||w.call(t,_)},()=>{r.value=!1}),y=(..._)=>{e("entryFocus",..._)};Zt(py,{currentTabbedId:Wu(i),loop:vn(t,"loop"),tabIndex:L(()=>d(r)?-1:0),rovingFocusGroupRef:s,rovingFocusGroupRootStyle:u,orientation:vn(t,"orientation"),dir:vn(t,"dir"),onItemFocus:c,onItemShiftTab:h,onBlur:g,onFocus:v,onMousedown:p}),Le(()=>t.currentTabId,_=>{i.value=_??null}),yn(s,F1,y)}});function cj(t,e,n,i,r,a){return oe(t.$slots,"default")}var dj=We(uj,[["render",cj],["__file","roving-focus-group-impl.vue"]]);const fj=re({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:tj,ElRovingFocusGroupImpl:dj}});function hj(t,e,n,i,r,a){const s=At("el-roving-focus-group-impl"),o=At("el-focus-group-collection");return I(),we(o,null,{default:ne(()=>[J(s,Ma(ol(t.$attrs)),{default:ne(()=>[oe(t.$slots,"default")]),_:3},16)]),_:3})}var pj=We(fj,[["render",hj],["__file","roving-focus-group.vue"]]);const mj=re({components:{ElRovingFocusCollectionItem:nj},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(t,{emit:e}){const{currentTabbedId:n,loop:i,onItemFocus:r,onItemShiftTab:a}=ct(py,void 0),{getItems:s}=ct(hy,void 0),o=Bi(),u=W(null),c=qn(g=>{e("mousedown",g)},g=>{t.focusable?r(d(o)):g.preventDefault()}),h=qn(g=>{e("focus",g)},()=>{r(d(o))}),p=qn(g=>{e("keydown",g)},g=>{const{key:y,shiftKey:_,target:w,currentTarget:b}=g;if(y===St.tab&&_){a();return}if(w!==b)return;const M=sj(g);if(M){g.preventDefault();let x=s().filter(T=>T.focusable).map(T=>T.ref);switch(M){case"last":{x.reverse();break}case"prev":case"next":{M==="prev"&&x.reverse();const T=x.indexOf(b);x=i.value?oj(x,T+1):x.slice(T+1);break}}yt(()=>{my(x)})}}),v=L(()=>n.value===d(o));return Zt(FM,{rovingFocusGroupItemRef:u,tabIndex:L(()=>d(v)?0:-1),handleMousedown:c,handleFocus:h,handleKeydown:p}),{id:o,handleKeydown:p,handleFocus:h,handleMousedown:c}}});function vj(t,e,n,i,r,a){const s=At("el-roving-focus-collection-item");return I(),we(s,{id:t.id,focusable:t.focusable,active:t.active},{default:ne(()=>[oe(t.$slots,"default")]),_:3},8,["id","focusable","active"])}var gj=We(mj,[["render",vj],["__file","roving-focus-item.vue"]]);const Wf=Ge({trigger:Qc.trigger,effect:{...Ii.effect,default:"light"},type:{type:_e(String)},placement:{type:_e(String),default:"bottom"},popperOptions:{type:_e(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:_e([Number,String]),default:0},maxHeight:{type:_e([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,default:"menu"},buttonProps:{type:_e(Object)},teleported:Ii.teleported}),BM=Ge({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:wn}}),yj=Ge({onKeydown:{type:_e(Function)}}),_j=[St.down,St.pageDown,St.home],UM=[St.up,St.pageUp,St.end],bj=[..._j,...UM],{ElCollection:wj,ElCollectionItem:Sj,COLLECTION_INJECTION_KEY:Cj,COLLECTION_ITEM_INJECTION_KEY:Ej}=DM("Dropdown"),cp=Symbol("elDropdown"),{ButtonGroup:xj}=Pi,Mj=re({name:"ElDropdown",components:{ElButton:Pi,ElButtonGroup:xj,ElScrollbar:as,ElDropdownCollection:wj,ElTooltip:pi,ElRovingFocusGroup:pj,ElOnlyChild:hx,ElIcon:dt,ArrowDown:Is},props:Wf,emits:["visible-change","click","command"],setup(t,{emit:e}){const n=qt(),i=Fe("dropdown"),{t:r}=nn(),a=W(),s=W(),o=W(null),u=W(null),c=W(null),h=W(null),p=W(!1),v=[St.enter,St.space,St.down],g=L(()=>({maxHeight:Xn(t.maxHeight)})),y=L(()=>[i.m(T.value)]),_=L(()=>Xi(t.trigger)),w=Bi().value,b=L(()=>t.id||w);Le([a,_],([X,q],[O])=>{var V,ee,ce;(V=O==null?void 0:O.$el)!=null&&V.removeEventListener&&O.$el.removeEventListener("pointerenter",R),(ee=X==null?void 0:X.$el)!=null&&ee.removeEventListener&&X.$el.removeEventListener("pointerenter",R),(ce=X==null?void 0:X.$el)!=null&&ce.addEventListener&&q.includes("hover")&&X.$el.addEventListener("pointerenter",R)},{immediate:!0}),xn(()=>{var X,q;(q=(X=a.value)==null?void 0:X.$el)!=null&&q.removeEventListener&&a.value.$el.removeEventListener("pointerenter",R)});function M(){C()}function C(){var X;(X=o.value)==null||X.onClose()}function x(){var X;(X=o.value)==null||X.onOpen()}const T=fi();function k(...X){e("command",...X)}function R(){var X,q;(q=(X=a.value)==null?void 0:X.$el)==null||q.focus()}function D(){}function U(){const X=d(u);_.value.includes("hover")&&(X==null||X.focus()),h.value=null}function P(X){h.value=X}function N(X){p.value||(X.preventDefault(),X.stopImmediatePropagation())}function $(){e("visible-change",!0)}function Q(X){(X==null?void 0:X.type)==="keydown"&&u.value.focus()}function Y(){e("visible-change",!1)}return Zt(cp,{contentRef:u,role:L(()=>t.role),triggerId:b,isUsingKeyboard:p,onItemEnter:D,onItemLeave:U}),Zt("elDropdown",{instance:n,dropdownSize:T,handleClick:M,commandHandler:k,trigger:vn(t,"trigger"),hideOnClick:vn(t,"hideOnClick")}),{t:r,ns:i,scrollbar:c,wrapStyle:g,dropdownTriggerKls:y,dropdownSize:T,triggerId:b,triggerKeys:v,currentTabId:h,handleCurrentTabIdChange:P,handlerMainButtonClick:X=>{e("click",X)},handleEntryFocus:N,handleClose:C,handleOpen:x,handleBeforeShowTooltip:$,handleShowTooltip:Q,handleBeforeHideTooltip:Y,onFocusAfterTrapped:X=>{var q,O;X.preventDefault(),(O=(q=u.value)==null?void 0:q.focus)==null||O.call(q,{preventScroll:!0})},popperRef:o,contentRef:u,triggeringElementRef:a,referenceElementRef:s}}});function Tj(t,e,n,i,r,a){var s;const o=At("el-dropdown-collection"),u=At("el-roving-focus-group"),c=At("el-scrollbar"),h=At("el-only-child"),p=At("el-tooltip"),v=At("el-button"),g=At("arrow-down"),y=At("el-icon"),_=At("el-button-group");return I(),K("div",{class:z([t.ns.b(),t.ns.is("disabled",t.disabled)])},[J(p,{ref:"popperRef",role:t.role,effect:t.effect,"fallback-placements":["bottom","top"],"popper-options":t.popperOptions,"gpu-acceleration":!1,"hide-after":t.trigger==="hover"?t.hideTimeout:0,"manual-mode":!0,placement:t.placement,"popper-class":[t.ns.e("popper"),t.popperClass],"reference-element":(s=t.referenceElementRef)==null?void 0:s.$el,trigger:t.trigger,"trigger-keys":t.triggerKeys,"trigger-target-el":t.contentRef,"show-after":t.trigger==="hover"?t.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":t.triggeringElementRef,"virtual-triggering":t.splitButton,disabled:t.disabled,transition:`${t.ns.namespace.value}-zoom-in-top`,teleported:t.teleported,pure:"",persistent:"",onBeforeShow:t.handleBeforeShowTooltip,onShow:t.handleShowTooltip,onBeforeHide:t.handleBeforeHideTooltip},oa({content:ne(()=>[J(c,{ref:"scrollbar","wrap-style":t.wrapStyle,tag:"div","view-class":t.ns.e("list")},{default:ne(()=>[J(u,{loop:t.loop,"current-tab-id":t.currentTabId,orientation:"horizontal",onCurrentTabIdChange:t.handleCurrentTabIdChange,onEntryFocus:t.handleEntryFocus},{default:ne(()=>[J(o,null,{default:ne(()=>[oe(t.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[t.splitButton?void 0:{name:"default",fn:ne(()=>[J(h,{id:t.triggerId,ref:"triggeringElementRef",role:"button",tabindex:t.tabindex},{default:ne(()=>[oe(t.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),t.splitButton?(I(),we(_,{key:0},{default:ne(()=>[J(v,Ht({ref:"referenceElementRef"},t.buttonProps,{size:t.dropdownSize,type:t.type,disabled:t.disabled,tabindex:t.tabindex,onClick:t.handlerMainButtonClick}),{default:ne(()=>[oe(t.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),J(v,Ht({id:t.triggerId,ref:"triggeringElementRef"},t.buttonProps,{role:"button",size:t.dropdownSize,type:t.type,class:t.ns.e("caret-button"),disabled:t.disabled,tabindex:t.tabindex,"aria-label":t.t("el.dropdown.toggleDropdown")}),{default:ne(()=>[J(y,{class:z(t.ns.e("icon"))},{default:ne(()=>[J(g)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):he("v-if",!0)],2)}var Aj=We(Mj,[["render",Tj],["__file","dropdown.vue"]]);const kj=re({name:"DropdownItemImpl",components:{ElIcon:dt},props:BM,emits:["pointermove","pointerleave","click","clickimpl"],setup(t,{emit:e}){const n=Fe("dropdown"),{role:i}=ct(cp,void 0),{collectionItemRef:r}=ct(Ej,void 0),{collectionItemRef:a}=ct(ij,void 0),{rovingFocusGroupItemRef:s,tabIndex:o,handleFocus:u,handleKeydown:c,handleMousedown:h}=ct(FM,void 0),p=Qh(r,a,s),v=L(()=>i.value==="menu"?"menuitem":i.value==="navigation"?"link":"button"),g=qn(y=>{const{code:_}=y;if(_===St.enter||_===St.space)return y.preventDefault(),y.stopImmediatePropagation(),e("clickimpl",y),!0},c);return{ns:n,itemRef:p,dataset:{[OM]:""},role:v,tabIndex:o,handleFocus:u,handleKeydown:g,handleMousedown:h}}});function Ij(t,e,n,i,r,a){const s=At("el-icon");return I(),K(ut,null,[t.divided?(I(),K("li",Ht({key:0,role:"separator",class:t.ns.bem("menu","item","divided")},t.$attrs),null,16)):he("v-if",!0),Z("li",Ht({ref:t.itemRef},{...t.dataset,...t.$attrs},{"aria-disabled":t.disabled,class:[t.ns.be("menu","item"),t.ns.is("disabled",t.disabled)],tabindex:t.tabIndex,role:t.role,onClick:o=>t.$emit("clickimpl",o),onFocus:t.handleFocus,onKeydown:xt(t.handleKeydown,["self"]),onMousedown:t.handleMousedown,onPointermove:o=>t.$emit("pointermove",o),onPointerleave:o=>t.$emit("pointerleave",o)}),[t.icon?(I(),we(s,{key:0},{default:ne(()=>[(I(),we(Vt(t.icon)))]),_:1})):he("v-if",!0),oe(t.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var Pj=We(kj,[["render",Ij],["__file","dropdown-item-impl.vue"]]);const VM=()=>{const t=ct("elDropdown",{}),e=L(()=>t==null?void 0:t.dropdownSize);return{elDropdown:t,_elDropdownSize:e}},Rj=re({name:"ElDropdownItem",components:{ElDropdownCollectionItem:Sj,ElRovingFocusItem:gj,ElDropdownItemImpl:Pj},inheritAttrs:!1,props:BM,emits:["pointermove","pointerleave","click"],setup(t,{emit:e,attrs:n}){const{elDropdown:i}=VM(),r=qt(),a=W(null),s=L(()=>{var g,y;return(y=(g=d(a))==null?void 0:g.textContent)!=null?y:""}),{onItemEnter:o,onItemLeave:u}=ct(cp,void 0),c=qn(g=>(e("pointermove",g),g.defaultPrevented),k_(g=>{if(t.disabled){u(g);return}const y=g.currentTarget;y===document.activeElement||y.contains(document.activeElement)||(o(g),g.defaultPrevented||y==null||y.focus())})),h=qn(g=>(e("pointerleave",g),g.defaultPrevented),k_(u)),p=qn(g=>{if(!t.disabled)return e("click",g),g.type!=="keydown"&&g.defaultPrevented},g=>{var y,_,w;if(t.disabled){g.stopImmediatePropagation();return}(y=i==null?void 0:i.hideOnClick)!=null&&y.value&&((_=i.handleClick)==null||_.call(i)),(w=i.commandHandler)==null||w.call(i,t.command,r,g)}),v=L(()=>({...t,...n}));return{handleClick:p,handlePointerMove:c,handlePointerLeave:h,textContent:s,propsAndAttrs:v}}});function Lj(t,e,n,i,r,a){var s;const o=At("el-dropdown-item-impl"),u=At("el-roving-focus-item"),c=At("el-dropdown-collection-item");return I(),we(c,{disabled:t.disabled,"text-value":(s=t.textValue)!=null?s:t.textContent},{default:ne(()=>[J(u,{focusable:!t.disabled},{default:ne(()=>[J(o,Ht(t.propsAndAttrs,{onPointerleave:t.handlePointerLeave,onPointermove:t.handlePointerMove,onClickimpl:t.handleClick}),{default:ne(()=>[oe(t.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var zM=We(Rj,[["render",Lj],["__file","dropdown-item.vue"]]);const Nj=re({name:"ElDropdownMenu",props:yj,setup(t){const e=Fe("dropdown"),{_elDropdownSize:n}=VM(),i=n.value,{focusTrapRef:r,onKeydown:a}=ct(J0,void 0),{contentRef:s,role:o,triggerId:u}=ct(cp,void 0),{collectionRef:c,getItems:h}=ct(Cj,void 0),{rovingFocusGroupRef:p,rovingFocusGroupRootStyle:v,tabIndex:g,onBlur:y,onFocus:_,onMousedown:w}=ct(py,void 0),{collectionRef:b}=ct(hy,void 0),M=L(()=>[e.b("menu"),e.bm("menu",i==null?void 0:i.value)]),C=Qh(s,c,r,p,b),x=qn(k=>{var R;(R=t.onKeydown)==null||R.call(t,k)},k=>{const{currentTarget:R,code:D,target:U}=k;if(R.contains(U),St.tab===D&&k.stopImmediatePropagation(),k.preventDefault(),U!==d(s)||!bj.includes(D))return;const N=h().filter($=>!$.disabled).map($=>$.ref);UM.includes(D)&&N.reverse(),my(N)});return{size:i,rovingFocusGroupRootStyle:v,tabIndex:g,dropdownKls:M,role:o,triggerId:u,dropdownListWrapperRef:C,handleKeydown:k=>{x(k),a(k)},onBlur:y,onFocus:_,onMousedown:w}}});function Oj(t,e,n,i,r,a){return I(),K("ul",{ref:t.dropdownListWrapperRef,class:z(t.dropdownKls),style:_t(t.rovingFocusGroupRootStyle),tabindex:-1,role:t.role,"aria-labelledby":t.triggerId,onBlur:t.onBlur,onFocus:t.onFocus,onKeydown:xt(t.handleKeydown,["self"]),onMousedown:xt(t.onMousedown,["self"])},[oe(t.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}var $M=We(Nj,[["render",Oj],["__file","dropdown-menu.vue"]]);const Dj=Dt(Aj,{DropdownItem:zM,DropdownMenu:$M}),Fj=Bn(zM),Bj=Bn($M),Uj=re({name:"ImgEmpty"}),Vj=re({...Uj,setup(t){const e=Fe("empty"),n=Bi();return(i,r)=>(I(),K("svg",{viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[Z("defs",null,[Z("linearGradient",{id:`linearGradient-1-${d(n)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[Z("stop",{"stop-color":`var(${d(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),Z("stop",{"stop-color":`var(${d(e).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),Z("linearGradient",{id:`linearGradient-2-${d(n)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[Z("stop",{"stop-color":`var(${d(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),Z("stop",{"stop-color":`var(${d(e).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),Z("rect",{id:`path-3-${d(n)}`,x:"0",y:"0",width:"17",height:"36"},null,8,["id"])]),Z("g",{id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[Z("g",{id:"B-type",transform:"translate(-1268.000000, -535.000000)"},[Z("g",{id:"Group-2",transform:"translate(1268.000000, 535.000000)"},[Z("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${d(e).cssVarBlockName("fill-color-3")})`},null,8,["fill"]),Z("polygon",{id:"Rectangle-Copy-14",fill:`var(${d(e).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,["fill"]),Z("g",{id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},[Z("polygon",{id:"Rectangle-Copy-10",fill:`var(${d(e).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,["fill"]),Z("polygon",{id:"Rectangle-Copy-11",fill:`var(${d(e).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,["fill"]),Z("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${d(n)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,["fill"]),Z("polygon",{id:"Rectangle-Copy-13",fill:`var(${d(e).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,["fill"])]),Z("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${d(n)})`,x:"13",y:"45",width:"40",height:"36"},null,8,["fill"]),Z("g",{id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},[Z("use",{id:"Mask",fill:`var(${d(e).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${d(n)}`},null,8,["fill","xlink:href"]),Z("polygon",{id:"Rectangle-Copy",fill:`var(${d(e).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${d(n)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,["fill","mask"])]),Z("polygon",{id:"Rectangle-Copy-18",fill:`var(${d(e).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,["fill"])])])])]))}});var zj=We(Vj,[["__file","img-empty.vue"]]);const $j=Ge({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),Hj=re({name:"ElEmpty"}),Gj=re({...Hj,props:$j,setup(t){const e=t,{t:n}=nn(),i=Fe("empty"),r=L(()=>e.description||n("el.table.emptyText")),a=L(()=>({width:Xn(e.imageSize)}));return(s,o)=>(I(),K("div",{class:z(d(i).b())},[Z("div",{class:z(d(i).e("image")),style:_t(d(a))},[s.image?(I(),K("img",{key:0,src:s.image,ondragstart:"return false"},null,8,["src"])):oe(s.$slots,"image",{key:1},()=>[J(zj)])],6),Z("div",{class:z(d(i).e("description"))},[s.$slots.description?oe(s.$slots,"description",{key:0}):(I(),K("p",{key:1},Ne(d(r)),1))],2),s.$slots.default?(I(),K("div",{key:0,class:z(d(i).e("bottom"))},[oe(s.$slots,"default")],2)):he("v-if",!0)],2))}});var Wj=We(Gj,[["__file","empty.vue"]]);const HM=Dt(Wj),Kj=Ge({urlList:{type:_e(Array),default:()=>Fn([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:_e(String)}}),qj={close:()=>!0,switch:t=>kt(t),rotate:t=>kt(t)},Yj=re({name:"ElImageViewer"}),jj=re({...Yj,props:Kj,emits:qj,setup(t,{expose:e,emit:n}){var i;const r=t,a={CONTAIN:{name:"contain",icon:Qo(EO)},ORIGINAL:{name:"original",icon:Qo(KO)}},{t:s}=nn(),o=Fe("image-viewer"),{nextZIndex:u}=Xu(),c=W(),h=W([]),p=gI(),v=W(!0),g=W(r.initialIndex),y=Mn(a.CONTAIN),_=W({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),w=W((i=r.zIndex)!=null?i:u()),b=L(()=>{const{urlList:V}=r;return V.length<=1}),M=L(()=>g.value===0),C=L(()=>g.value===r.urlList.length-1),x=L(()=>r.urlList[g.value]),T=L(()=>[o.e("btn"),o.e("prev"),o.is("disabled",!r.infinite&&M.value)]),k=L(()=>[o.e("btn"),o.e("next"),o.is("disabled",!r.infinite&&C.value)]),R=L(()=>{const{scale:V,deg:ee,offsetX:ce,offsetY:se,enableTransition:le}=_.value;let ye=ce/V,Ce=se/V;const pe=ee*Math.PI/180,ue=Math.cos(pe),Me=Math.sin(pe);ye=ye*ue+Ce*Me,Ce=Ce*ue-ce/V*Me;const De={transform:`scale(${V}) rotate(${ee}deg) translate(${ye}px, ${Ce}px)`,transition:le?"transform .3s":""};return y.value.name===a.CONTAIN.name&&(De.maxWidth=De.maxHeight="100%"),De});function D(){P(),n("close")}function U(){const V=Jo(ce=>{switch(ce.code){case St.esc:r.closeOnPressEscape&&D();break;case St.space:H();break;case St.left:X();break;case St.up:O("zoomIn");break;case St.right:q();break;case St.down:O("zoomOut");break}}),ee=Jo(ce=>{const se=ce.deltaY||ce.deltaX;O(se<0?"zoomIn":"zoomOut",{zoomRate:r.zoomRate,enableTransition:!1})});p.run(()=>{yn(document,"keydown",V),yn(document,"wheel",ee)})}function P(){p.stop()}function N(){v.value=!1}function $(V){v.value=!1,V.target.alt=s("el.image.error")}function Q(V){if(v.value||V.button!==0||!c.value)return;_.value.enableTransition=!1;const{offsetX:ee,offsetY:ce}=_.value,se=V.pageX,le=V.pageY,ye=Jo(pe=>{_.value={..._.value,offsetX:ee+pe.pageX-se,offsetY:ce+pe.pageY-le}}),Ce=yn(document,"mousemove",ye);yn(document,"mouseup",()=>{Ce()}),V.preventDefault()}function Y(){_.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function H(){if(v.value)return;const V=Eu(a),ee=Object.values(a),ce=y.value.name,le=(ee.findIndex(ye=>ye.name===ce)+1)%V.length;y.value=a[V[le]],Y()}function B(V){const ee=r.urlList.length;g.value=(V+ee)%ee}function X(){M.value&&!r.infinite||B(g.value-1)}function q(){C.value&&!r.infinite||B(g.value+1)}function O(V,ee={}){if(v.value)return;const{minScale:ce,maxScale:se}=r,{zoomRate:le,rotateDeg:ye,enableTransition:Ce}={zoomRate:r.zoomRate,rotateDeg:90,enableTransition:!0,...ee};switch(V){case"zoomOut":_.value.scale>ce&&(_.value.scale=Number.parseFloat((_.value.scale/le).toFixed(3)));break;case"zoomIn":_.value.scale<se&&(_.value.scale=Number.parseFloat((_.value.scale*le).toFixed(3)));break;case"clockwise":_.value.deg+=ye,n("rotate",_.value.deg);break;case"anticlockwise":_.value.deg-=ye,n("rotate",_.value.deg);break}_.value.enableTransition=Ce}return Le(x,()=>{yt(()=>{const V=h.value[0];V!=null&&V.complete||(v.value=!0)})}),Le(g,V=>{Y(),n("switch",V)}),wt(()=>{var V,ee;U(),(ee=(V=c.value)==null?void 0:V.focus)==null||ee.call(V)}),e({setActiveItem:B}),(V,ee)=>(I(),we(d(Ju),{to:"body",disabled:!V.teleported},{default:ne(()=>[J(ui,{name:"viewer-fade",appear:""},{default:ne(()=>[Z("div",{ref_key:"wrapper",ref:c,tabindex:-1,class:z(d(o).e("wrapper")),style:_t({zIndex:w.value})},[Z("div",{class:z(d(o).e("mask")),onClick:xt(ce=>V.hideOnClickModal&&D(),["self"])},null,10,["onClick"]),he(" CLOSE "),Z("span",{class:z([d(o).e("btn"),d(o).e("close")]),onClick:D},[J(d(dt),null,{default:ne(()=>[J(d(Ra))]),_:1})],2),he(" ARROW "),d(b)?he("v-if",!0):(I(),K(ut,{key:0},[Z("span",{class:z(d(T)),onClick:X},[J(d(dt),null,{default:ne(()=>[J(d(ao))]),_:1})],2),Z("span",{class:z(d(k)),onClick:q},[J(d(dt),null,{default:ne(()=>[J(d(hr))]),_:1})],2)],64)),he(" ACTIONS "),Z("div",{class:z([d(o).e("btn"),d(o).e("actions")])},[Z("div",{class:z(d(o).e("actions__inner"))},[J(d(dt),{onClick:ce=>O("zoomOut")},{default:ne(()=>[J(d(lD))]),_:1},8,["onClick"]),J(d(dt),{onClick:ce=>O("zoomIn")},{default:ne(()=>[J(d(oE))]),_:1},8,["onClick"]),Z("i",{class:z(d(o).e("actions__divider"))},null,2),J(d(dt),{onClick:H},{default:ne(()=>[(I(),we(Vt(d(y).icon)))]),_:1}),Z("i",{class:z(d(o).e("actions__divider"))},null,2),J(d(dt),{onClick:ce=>O("anticlockwise")},{default:ne(()=>[J(d($O))]),_:1},8,["onClick"]),J(d(dt),{onClick:ce=>O("clockwise")},{default:ne(()=>[J(d(GO))]),_:1},8,["onClick"])],2)],2),he(" CANVAS "),Z("div",{class:z(d(o).e("canvas"))},[(I(!0),K(ut,null,Ut(V.urlList,(ce,se)=>Bt((I(),K("img",{ref_for:!0,ref:le=>h.value[se]=le,key:ce,src:ce,style:_t(d(R)),class:z(d(o).e("img")),crossorigin:V.crossorigin,onLoad:N,onError:$,onMousedown:Q},null,46,["src","crossorigin"])),[[sn,se===g.value]])),128))],2),oe(V.$slots,"default")],6)]),_:3})]),_:3},8,["disabled"]))}});var Xj=We(jj,[["__file","image-viewer.vue"]]);const GM=Dt(Xj),Zj=Ge({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:_e([String,Object])},previewSrcList:{type:_e(Array),default:()=>Fn([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:_e(String)}}),Qj={load:t=>t instanceof Event,error:t=>t instanceof Event,switch:t=>kt(t),close:()=>!0,show:()=>!0},Jj=re({name:"ElImage",inheritAttrs:!1}),eX=re({...Jj,props:Zj,emits:Qj,setup(t,{emit:e}){const n=t;let i="";const{t:r}=nn(),a=Fe("image"),s=_l(),o=L(()=>qc(Object.entries(s).filter(([q])=>/^(data-|on[A-Z])/i.test(q)||["id","style"].includes(q)))),u=k0({excludeListeners:!0,excludeKeys:L(()=>Object.keys(o.value))}),c=W(),h=W(!1),p=W(!0),v=W(!1),g=W(),y=W(),_=tn&&"loading"in HTMLImageElement.prototype;let w,b;const M=L(()=>[a.e("inner"),x.value&&a.e("preview"),p.value&&a.is("loading")]),C=L(()=>{const{fit:q}=n;return tn&&q?{objectFit:q}:{}}),x=L(()=>{const{previewSrcList:q}=n;return Array.isArray(q)&&q.length>0}),T=L(()=>{const{previewSrcList:q,initialIndex:O}=n;let V=O;return O>q.length-1&&(V=0),V}),k=L(()=>n.loading==="eager"?!1:!_&&n.loading==="lazy"||n.lazy),R=()=>{tn&&(p.value=!0,h.value=!1,c.value=n.src)};function D(q){p.value=!1,h.value=!1,e("load",q)}function U(q){p.value=!1,h.value=!0,e("error",q)}function P(){ZD(g.value,y.value)&&(R(),Q())}const N=dE(P,200,!0);async function $(){var q;if(!tn)return;await yt();const{scrollContainer:O}=n;Hr(O)?y.value=O:Gt(O)&&O!==""?y.value=(q=document.querySelector(O))!=null?q:void 0:g.value&&(y.value=E0(g.value)),y.value&&(w=yn(y,"scroll",N),setTimeout(()=>P(),100))}function Q(){!tn||!y.value||!N||(w==null||w(),y.value=void 0)}function Y(q){if(q.ctrlKey){if(q.deltaY<0)return q.preventDefault(),!1;if(q.deltaY>0)return q.preventDefault(),!1}}function H(){x.value&&(b=yn("wheel",Y,{passive:!1}),i=document.body.style.overflow,document.body.style.overflow="hidden",v.value=!0,e("show"))}function B(){b==null||b(),document.body.style.overflow=i,v.value=!1,e("close")}function X(q){e("switch",q)}return Le(()=>n.src,()=>{k.value?(p.value=!0,h.value=!1,Q(),$()):R()}),wt(()=>{k.value?$():R()}),(q,O)=>(I(),K("div",Ht({ref_key:"container",ref:g},d(o),{class:[d(a).b(),q.$attrs.class]}),[h.value?oe(q.$slots,"error",{key:0},()=>[Z("div",{class:z(d(a).e("error"))},Ne(d(r)("el.image.error")),3)]):(I(),K(ut,{key:1},[c.value!==void 0?(I(),K("img",Ht({key:0},d(u),{src:c.value,loading:q.loading,style:d(C),class:d(M),crossorigin:q.crossorigin,onClick:H,onLoad:D,onError:U}),null,16,["src","loading","crossorigin"])):he("v-if",!0),p.value?(I(),K("div",{key:1,class:z(d(a).e("wrapper"))},[oe(q.$slots,"placeholder",{},()=>[Z("div",{class:z(d(a).e("placeholder"))},null,2)])],2)):he("v-if",!0)],64)),d(x)?(I(),K(ut,{key:2},[v.value?(I(),we(d(GM),{key:0,"z-index":q.zIndex,"initial-index":d(T),infinite:q.infinite,"zoom-rate":q.zoomRate,"min-scale":q.minScale,"max-scale":q.maxScale,"url-list":q.previewSrcList,crossorigin:q.crossorigin,"hide-on-click-modal":q.hideOnClickModal,teleported:q.previewTeleported,"close-on-press-escape":q.closeOnPressEscape,onClose:B,onSwitch:X},{default:ne(()=>[q.$slots.viewer?(I(),K("div",{key:0},[oe(q.$slots,"viewer")])):he("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):he("v-if",!0)],64)):he("v-if",!0)],16))}});var tX=We(eX,[["__file","image.vue"]]);const nX=Dt(tX),iX=Ge({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:gi,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:t=>t===null||kt(t)||["min","max"].includes(t),default:null},name:String,placeholder:String,precision:{type:Number,validator:t=>t>=0&&t===Number.parseInt(`${t}`,10)},validateEvent:{type:Boolean,default:!0},...Ui(["ariaLabel"])}),rX={[Rn]:(t,e)=>e!==t,blur:t=>t instanceof FocusEvent,focus:t=>t instanceof FocusEvent,[pr]:t=>kt(t)||Mi(t),[Wt]:t=>kt(t)||Mi(t)},aX=re({name:"ElInputNumber"}),sX=re({...aX,props:iX,emits:rX,setup(t,{expose:e,emit:n}){const i=t,{t:r}=nn(),a=Fe("input-number"),s=W(),o=jt({currentValue:i.modelValue,userInput:null}),{formItem:u}=rr(),c=L(()=>kt(i.modelValue)&&i.modelValue<=i.min),h=L(()=>kt(i.modelValue)&&i.modelValue>=i.max),p=L(()=>{const H=b(i.step);return zn(i.precision)?Math.max(b(i.modelValue),H):(H>i.precision,i.precision)}),v=L(()=>i.controls&&i.controlsPosition==="right"),g=fi(),y=ir(),_=L(()=>{if(o.userInput!==null)return o.userInput;let H=o.currentValue;if(Mi(H))return"";if(kt(H)){if(Number.isNaN(H))return"";zn(i.precision)||(H=H.toFixed(i.precision))}return H}),w=(H,B)=>{if(zn(B)&&(B=p.value),B===0)return Math.round(H);let X=String(H);const q=X.indexOf(".");if(q===-1||!X.replace(".","").split("")[q+B])return H;const ee=X.length;return X.charAt(ee-1)==="5"&&(X=`${X.slice(0,Math.max(0,ee-1))}6`),Number.parseFloat(Number(X).toFixed(B))},b=H=>{if(Mi(H))return 0;const B=H.toString(),X=B.indexOf(".");let q=0;return X!==-1&&(q=B.length-X-1),q},M=(H,B=1)=>kt(H)?w(H+i.step*B):o.currentValue,C=()=>{if(i.readonly||y.value||h.value)return;const H=Number(_.value)||0,B=M(H);k(B),n(pr,o.currentValue),Q()},x=()=>{if(i.readonly||y.value||c.value)return;const H=Number(_.value)||0,B=M(H,-1);k(B),n(pr,o.currentValue),Q()},T=(H,B)=>{const{max:X,min:q,step:O,precision:V,stepStrictly:ee,valueOnClear:ce}=i;X<q&&vi("InputNumber","min should not be greater than max.");let se=Number(H);if(Mi(H)||Number.isNaN(se))return null;if(H===""){if(ce===null)return null;se=Gt(ce)?{min:q,max:X}[ce]:ce}return ee&&(se=w(Math.round(se/O)*O,V),se!==H&&B&&n(Wt,se)),zn(V)||(se=w(se,V)),(se>X||se<q)&&(se=se>X?X:q,B&&n(Wt,se)),se},k=(H,B=!0)=>{var X;const q=o.currentValue,O=T(H);if(!B){n(Wt,O);return}q===O&&H||(o.userInput=null,n(Wt,O),q!==O&&n(Rn,O,q),i.validateEvent&&((X=u==null?void 0:u.validate)==null||X.call(u,"change").catch(V=>void 0)),o.currentValue=O)},R=H=>{o.userInput=H;const B=H===""?null:Number(H);n(pr,B),k(B,!1)},D=H=>{const B=H!==""?Number(H):"";(kt(B)&&!Number.isNaN(B)||H==="")&&k(B),Q(),o.userInput=null},U=()=>{var H,B;(B=(H=s.value)==null?void 0:H.focus)==null||B.call(H)},P=()=>{var H,B;(B=(H=s.value)==null?void 0:H.blur)==null||B.call(H)},N=H=>{n("focus",H)},$=H=>{var B;o.userInput=null,n("blur",H),i.validateEvent&&((B=u==null?void 0:u.validate)==null||B.call(u,"blur").catch(X=>void 0))},Q=()=>{o.currentValue!==i.modelValue&&(o.currentValue=i.modelValue)},Y=H=>{document.activeElement===H.target&&H.preventDefault()};return Le(()=>i.modelValue,(H,B)=>{const X=T(H,!0);o.userInput===null&&X!==B&&(o.currentValue=X)},{immediate:!0}),wt(()=>{var H;const{min:B,max:X,modelValue:q}=i,O=(H=s.value)==null?void 0:H.input;if(O.setAttribute("role","spinbutton"),Number.isFinite(X)?O.setAttribute("aria-valuemax",String(X)):O.removeAttribute("aria-valuemax"),Number.isFinite(B)?O.setAttribute("aria-valuemin",String(B)):O.removeAttribute("aria-valuemin"),O.setAttribute("aria-valuenow",o.currentValue||o.currentValue===0?String(o.currentValue):""),O.setAttribute("aria-disabled",String(y.value)),!kt(q)&&q!=null){let V=Number(q);Number.isNaN(V)&&(V=null),n(Wt,V)}O.addEventListener("wheel",Y,{passive:!1})}),yo(()=>{var H,B;const X=(H=s.value)==null?void 0:H.input;X==null||X.setAttribute("aria-valuenow",`${(B=o.currentValue)!=null?B:""}`)}),e({focus:U,blur:P}),(H,B)=>(I(),K("div",{class:z([d(a).b(),d(a).m(d(g)),d(a).is("disabled",d(y)),d(a).is("without-controls",!H.controls),d(a).is("controls-right",d(v))]),onDragstart:xt(()=>{},["prevent"])},[H.controls?Bt((I(),K("span",{key:0,role:"button","aria-label":d(r)("el.inputNumber.decrease"),class:z([d(a).e("decrease"),d(a).is("disabled",d(c))]),onKeydown:mn(x,["enter"])},[oe(H.$slots,"decrease-icon",{},()=>[J(d(dt),null,{default:ne(()=>[d(v)?(I(),we(d(Is),{key:0})):(I(),we(d(IO),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[d(fh),x]]):he("v-if",!0),H.controls?Bt((I(),K("span",{key:1,role:"button","aria-label":d(r)("el.inputNumber.increase"),class:z([d(a).e("increase"),d(a).is("disabled",d(h))]),onKeydown:mn(C,["enter"])},[oe(H.$slots,"increase-icon",{},()=>[J(d(dt),null,{default:ne(()=>[d(v)?(I(),we(d(Qg),{key:0})):(I(),we(d(aE),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[d(fh),C]]):he("v-if",!0),J(d(Qi),{id:H.id,ref_key:"input",ref:s,type:"number",step:H.step,"model-value":d(_),placeholder:H.placeholder,readonly:H.readonly,disabled:d(y),size:d(g),max:H.max,min:H.min,name:H.name,"aria-label":H.ariaLabel,"validate-event":!1,onKeydown:[mn(xt(C,["prevent"]),["up"]),mn(xt(x,["prevent"]),["down"])],onBlur:$,onFocus:N,onInput:R,onChange:D},oa({_:2},[H.$slots.prefix?{name:"prefix",fn:ne(()=>[oe(H.$slots,"prefix")])}:void 0,H.$slots.suffix?{name:"suffix",fn:ne(()=>[oe(H.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var oX=We(sX,[["__file","input-number.vue"]]);const WM=Dt(oX),lX=Ge({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:Boolean,href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:wn}}),uX={click:t=>t instanceof MouseEvent},cX=re({name:"ElLink"}),dX=re({...cX,props:lX,emits:uX,setup(t,{emit:e}){const n=t,i=Fe("link"),r=L(()=>[i.b(),i.m(n.type),i.is("disabled",n.disabled),i.is("underline",n.underline&&!n.disabled)]);function a(s){n.disabled||e("click",s)}return(s,o)=>(I(),K("a",{class:z(d(r)),href:s.disabled||!s.href?void 0:s.href,target:s.disabled||!s.href?void 0:s.target,onClick:a},[s.icon?(I(),we(d(dt),{key:0},{default:ne(()=>[(I(),we(Vt(s.icon)))]),_:1})):he("v-if",!0),s.$slots.default?(I(),K("span",{key:1,class:z(d(i).e("inner"))},[oe(s.$slots,"default")],2)):he("v-if",!0),s.$slots.icon?oe(s.$slots,"icon",{key:2}):he("v-if",!0)],10,["href","target"]))}});var fX=We(dX,[["__file","link.vue"]]);const hX=Dt(fX);let pX=class{constructor(e,n){this.parent=e,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",i=>{let r=!1;switch(i.code){case St.down:{this.gotoSubIndex(this.subIndex+1),r=!0;break}case St.up:{this.gotoSubIndex(this.subIndex-1),r=!0;break}case St.tab:{Df(e,"mouseleave");break}case St.enter:case St.space:{r=!0,i.currentTarget.click();break}}return r&&(i.preventDefault(),i.stopPropagation()),!1})})}},mX=class{constructor(e,n){this.domNode=e,this.submenu=null,this.submenu=null,this.init(n)}init(e){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${e}-menu`);n&&(this.submenu=new pX(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let n=!1;switch(e.code){case St.down:{Df(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case St.up:{Df(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case St.tab:{Df(e.currentTarget,"mouseleave");break}case St.enter:case St.space:{n=!0,e.currentTarget.click();break}}n&&e.preventDefault()})}},vX=class{constructor(e,n){this.domNode=e,this.init(n)}init(e){const n=this.domNode.childNodes;Array.from(n).forEach(i=>{i.nodeType===1&&new mX(i,e)})}};const gX=re({name:"ElMenuCollapseTransition",setup(){const t=Fe("menu");return{listeners:{onBeforeEnter:n=>n.style.opacity="0.2",onEnter(n,i){ia(n,`${t.namespace.value}-opacity-transition`),n.style.opacity="1",i()},onAfterEnter(n){tr(n,`${t.namespace.value}-opacity-transition`),n.style.opacity=""},onBeforeLeave(n){n.dataset||(n.dataset={}),xr(n,t.m("collapse"))?(tr(n,t.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),ia(n,t.m("collapse"))):(ia(n,t.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),tr(n,t.m("collapse"))),n.style.width=`${n.scrollWidth}px`,n.style.overflow="hidden"},onLeave(n){ia(n,"horizontal-collapse-transition"),n.style.width=`${n.dataset.scrollWidth}px`}}}}});function yX(t,e,n,i,r,a){return I(),we(ui,Ht({mode:"out-in"},t.listeners),{default:ne(()=>[oe(t.$slots,"default")]),_:3},16)}var _X=We(gX,[["render",yX],["__file","menu-collapse-transition.vue"]]);function KM(t,e){const n=L(()=>{let r=t.parent;const a=[e.value];for(;r.type.name!=="ElMenu";)r.props.index&&a.unshift(r.props.index),r=r.parent;return a});return{parentMenu:L(()=>{let r=t.parent;for(;r&&!["ElMenu","ElSubMenu"].includes(r.type.name);)r=r.parent;return r}),indexPath:n}}function bX(t){return L(()=>{const n=t.backgroundColor;return n?new Mx(n).shade(20).toString():""})}const qM=(t,e)=>{const n=Fe("menu");return L(()=>n.cssVarBlock({"text-color":t.textColor||"","hover-text-color":t.textColor||"","bg-color":t.backgroundColor||"","hover-bg-color":bX(t).value||"","active-color":t.activeTextColor||"",level:`${e}`}))},wX=Ge({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:wn},expandOpenIcon:{type:wn},collapseCloseIcon:{type:wn},collapseOpenIcon:{type:wn}}),im="ElSubMenu";var vy=re({name:im,props:wX,setup(t,{slots:e,expose:n}){const i=qt(),{indexPath:r,parentMenu:a}=KM(i,L(()=>t.index)),s=Fe("menu"),o=Fe("sub-menu"),u=ct("rootMenu");u||vi(im,"can not inject root menu");const c=ct(`subMenu:${a.value.uid}`);c||vi(im,"can not inject sub menu");const h=W({}),p=W({});let v;const g=W(!1),y=W(),_=W(null),w=L(()=>D.value==="horizontal"&&M.value?"bottom-start":"right-start"),b=L(()=>D.value==="horizontal"&&M.value||D.value==="vertical"&&!u.props.collapse?t.expandCloseIcon&&t.expandOpenIcon?k.value?t.expandOpenIcon:t.expandCloseIcon:Is:t.collapseCloseIcon&&t.collapseOpenIcon?k.value?t.collapseOpenIcon:t.collapseCloseIcon:hr),M=L(()=>c.level===0),C=L(()=>{const V=t.teleported;return V===void 0?M.value:V}),x=L(()=>u.props.collapse?`${s.namespace.value}-zoom-in-left`:`${s.namespace.value}-zoom-in-top`),T=L(()=>D.value==="horizontal"&&M.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),k=L(()=>u.openedMenus.includes(t.index)),R=L(()=>{let V=!1;return Object.values(h.value).forEach(ee=>{ee.active&&(V=!0)}),Object.values(p.value).forEach(ee=>{ee.active&&(V=!0)}),V}),D=L(()=>u.props.mode),U=jt({index:t.index,indexPath:r,active:R}),P=qM(u.props,c.level+1),N=L(()=>{var V;return(V=t.popperOffset)!=null?V:u.props.popperOffset}),$=L(()=>{var V;return(V=t.popperClass)!=null?V:u.props.popperClass}),Q=L(()=>{var V;return(V=t.showTimeout)!=null?V:u.props.showTimeout}),Y=L(()=>{var V;return(V=t.hideTimeout)!=null?V:u.props.hideTimeout}),H=()=>{var V,ee,ce;return(ce=(ee=(V=_.value)==null?void 0:V.popperRef)==null?void 0:ee.popperInstanceRef)==null?void 0:ce.destroy()},B=V=>{V||H()},X=()=>{u.props.menuTrigger==="hover"&&u.props.mode==="horizontal"||u.props.collapse&&u.props.mode==="vertical"||t.disabled||u.handleSubMenuClick({index:t.index,indexPath:r.value,active:R.value})},q=(V,ee=Q.value)=>{var ce;if(V.type!=="focus"){if(u.props.menuTrigger==="click"&&u.props.mode==="horizontal"||!u.props.collapse&&u.props.mode==="vertical"||t.disabled){c.mouseInChild.value=!0;return}c.mouseInChild.value=!0,v==null||v(),{stop:v}=ll(()=>{u.openMenu(t.index,r.value)},ee),C.value&&((ce=a.value.vnode.el)==null||ce.dispatchEvent(new MouseEvent("mouseenter")))}},O=(V=!1)=>{var ee;if(u.props.menuTrigger==="click"&&u.props.mode==="horizontal"||!u.props.collapse&&u.props.mode==="vertical"){c.mouseInChild.value=!1;return}v==null||v(),c.mouseInChild.value=!1,{stop:v}=ll(()=>!g.value&&u.closeMenu(t.index,r.value),Y.value),C.value&&V&&((ee=c.handleMouseleave)==null||ee.call(c,!0))};Le(()=>u.props.collapse,V=>B(!!V));{const V=ce=>{p.value[ce.index]=ce},ee=ce=>{delete p.value[ce.index]};Zt(`subMenu:${i.uid}`,{addSubMenu:V,removeSubMenu:ee,handleMouseleave:O,mouseInChild:g,level:c.level+1})}return n({opened:k}),wt(()=>{u.addSubMenu(U),c.addSubMenu(U)}),xn(()=>{c.removeSubMenu(U),u.removeSubMenu(U)}),()=>{var V;const ee=[(V=e.title)==null?void 0:V.call(e),Ct(dt,{class:o.e("icon-arrow"),style:{transform:k.value?t.expandCloseIcon&&t.expandOpenIcon||t.collapseCloseIcon&&t.collapseOpenIcon&&u.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>Gt(b.value)?Ct(i.appContext.components[b.value]):Ct(b.value)})],ce=u.isMenuPopup?Ct(pi,{ref:_,visible:k.value,effect:"light",pure:!0,offset:N.value,showArrow:!1,persistent:!0,popperClass:$.value,placement:w.value,teleported:C.value,fallbackPlacements:T.value,transition:x.value,gpuAcceleration:!1},{content:()=>{var se;return Ct("div",{class:[s.m(D.value),s.m("popup-container"),$.value],onMouseenter:le=>q(le,100),onMouseleave:()=>O(!0),onFocus:le=>q(le,100)},[Ct("ul",{class:[s.b(),s.m("popup"),s.m(`popup-${w.value}`)],style:P.value},[(se=e.default)==null?void 0:se.call(e)])])},default:()=>Ct("div",{class:o.e("title"),onClick:X},ee)}):Ct(ut,{},[Ct("div",{class:o.e("title"),ref:y,onClick:X},ee),Ct(Ad,{},{default:()=>{var se;return Bt(Ct("ul",{role:"menu",class:[s.b(),s.m("inline")],style:P.value},[(se=e.default)==null?void 0:se.call(e)]),[[sn,k.value]])}})]);return Ct("li",{class:[o.b(),o.is("active",R.value),o.is("opened",k.value),o.is("disabled",t.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:k.value,onMouseenter:q,onMouseleave:()=>O(),onFocus:q},[ce])}}});const SX=Ge({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:_e(Array),default:()=>Fn([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:wn,default:()=>LO},popperEffect:{type:_e(String),default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),rm=t=>Array.isArray(t)&&t.every(e=>Gt(e)),CX={close:(t,e)=>Gt(t)&&rm(e),open:(t,e)=>Gt(t)&&rm(e),select:(t,e,n,i)=>Gt(t)&&rm(e)&&bn(n)&&(i===void 0||i instanceof Promise)};var EX=re({name:"ElMenu",props:SX,emits:CX,setup(t,{emit:e,slots:n,expose:i}){const r=qt(),a=r.appContext.config.globalProperties.$router,s=W(),o=Fe("menu"),u=Fe("sub-menu"),c=W(-1),h=W(t.defaultOpeneds&&!t.collapse?t.defaultOpeneds.slice(0):[]),p=W(t.defaultActive),v=W({}),g=W({}),y=L(()=>t.mode==="horizontal"||t.mode==="vertical"&&t.collapse),_=()=>{const H=p.value&&v.value[p.value];if(!H||t.mode==="horizontal"||t.collapse)return;H.indexPath.forEach(X=>{const q=g.value[X];q&&w(X,q.indexPath)})},w=(H,B)=>{h.value.includes(H)||(t.uniqueOpened&&(h.value=h.value.filter(X=>B.includes(X))),h.value.push(H),e("open",H,B))},b=H=>{const B=h.value.indexOf(H);B!==-1&&h.value.splice(B,1)},M=(H,B)=>{b(H),e("close",H,B)},C=({index:H,indexPath:B})=>{h.value.includes(H)?M(H,B):w(H,B)},x=H=>{(t.mode==="horizontal"||t.collapse)&&(h.value=[]);const{index:B,indexPath:X}=H;if(!(Mi(B)||Mi(X)))if(t.router&&a){const q=H.route||B,O=a.push(q).then(V=>(V||(p.value=B),V));e("select",B,X,{index:B,indexPath:X,route:q},O)}else p.value=B,e("select",B,X,{index:B,indexPath:X})},T=H=>{const B=v.value,X=B[H]||p.value&&B[p.value]||B[t.defaultActive];X?p.value=X.index:p.value=H},k=H=>{const B=getComputedStyle(H),X=Number.parseInt(B.marginLeft,10),q=Number.parseInt(B.marginRight,10);return H.offsetWidth+X+q||0},R=()=>{var H,B;if(!s.value)return-1;const X=Array.from((B=(H=s.value)==null?void 0:H.childNodes)!=null?B:[]).filter(ye=>ye.nodeName!=="#comment"&&(ye.nodeName!=="#text"||ye.nodeValue)),q=64,O=getComputedStyle(s.value),V=Number.parseInt(O.paddingLeft,10),ee=Number.parseInt(O.paddingRight,10),ce=s.value.clientWidth-V-ee;let se=0,le=0;return X.forEach((ye,Ce)=>{se+=k(ye),se<=ce-q&&(le=Ce+1)}),le===X.length?-1:le},D=H=>g.value[H].indexPath,U=(H,B=33.34)=>{let X;return()=>{X&&clearTimeout(X),X=setTimeout(()=>{H()},B)}};let P=!0;const N=()=>{if(c.value===R())return;const H=()=>{c.value=-1,yt(()=>{c.value=R()})};P?H():U(H)(),P=!1};Le(()=>t.defaultActive,H=>{v.value[H]||(p.value=""),T(H)}),Le(()=>t.collapse,H=>{H&&(h.value=[])}),Le(v.value,_);let $;mi(()=>{t.mode==="horizontal"&&t.ellipsis?$=On(s,N).stop:$==null||$()});const Q=W(!1);{const H=O=>{g.value[O.index]=O},B=O=>{delete g.value[O.index]};Zt("rootMenu",jt({props:t,openedMenus:h,items:v,subMenus:g,activeIndex:p,isMenuPopup:y,addMenuItem:O=>{v.value[O.index]=O},removeMenuItem:O=>{delete v.value[O.index]},addSubMenu:H,removeSubMenu:B,openMenu:w,closeMenu:M,handleMenuItemClick:x,handleSubMenuClick:C})),Zt(`subMenu:${r.uid}`,{addSubMenu:H,removeSubMenu:B,mouseInChild:Q,level:0})}wt(()=>{t.mode==="horizontal"&&new vX(r.vnode.el,o.namespace.value)}),i({open:B=>{const{indexPath:X}=g.value[B];X.forEach(q=>w(q,X))},close:b,handleResize:N});const Y=qM(t,0);return()=>{var H,B;let X=(B=(H=n.default)==null?void 0:H.call(n))!=null?B:[];const q=[];if(t.mode==="horizontal"&&s.value){const ee=Qs(X),ce=c.value===-1?ee:ee.slice(0,c.value),se=c.value===-1?[]:ee.slice(c.value);se!=null&&se.length&&t.ellipsis&&(X=ce,q.push(Ct(vy,{index:"sub-menu-more",class:u.e("hide-arrow"),popperOffset:t.popperOffset},{title:()=>Ct(dt,{class:u.e("icon-more")},{default:()=>Ct(t.ellipsisIcon)}),default:()=>se})))}const O=t.closeOnClickOutside?[[xs,()=>{h.value.length&&(Q.value||(h.value.forEach(ee=>e("close",ee,D(ee))),h.value=[]))}]]:[],V=Bt(Ct("ul",{key:String(t.collapse),role:"menubar",ref:s,style:Y.value,class:{[o.b()]:!0,[o.m(t.mode)]:!0,[o.m("collapse")]:t.collapse}},[...X,...q]),O);return t.collapseTransition&&t.mode==="vertical"?Ct(_X,()=>V):V}}});const xX=Ge({index:{type:_e([String,null]),default:null},route:{type:_e([String,Object])},disabled:Boolean}),MX={click:t=>Gt(t.index)&&Array.isArray(t.indexPath)},am="ElMenuItem",TX=re({name:am,components:{ElTooltip:pi},props:xX,emits:MX,setup(t,{emit:e}){const n=qt(),i=ct("rootMenu"),r=Fe("menu"),a=Fe("menu-item");i||vi(am,"can not inject root menu");const{parentMenu:s,indexPath:o}=KM(n,vn(t,"index")),u=ct(`subMenu:${s.value.uid}`);u||vi(am,"can not inject sub menu");const c=L(()=>t.index===i.activeIndex),h=jt({index:t.index,indexPath:o,active:c}),p=()=>{t.disabled||(i.handleMenuItemClick({index:t.index,indexPath:o.value,route:t.route}),e("click",h))};return wt(()=>{u.addSubMenu(h),i.addMenuItem(h)}),xn(()=>{u.removeSubMenu(h),i.removeMenuItem(h)}),{parentMenu:s,rootMenu:i,active:c,nsMenu:r,nsMenuItem:a,handleClick:p}}});function AX(t,e,n,i,r,a){const s=At("el-tooltip");return I(),K("li",{class:z([t.nsMenuItem.b(),t.nsMenuItem.is("active",t.active),t.nsMenuItem.is("disabled",t.disabled)]),role:"menuitem",tabindex:"-1",onClick:t.handleClick},[t.parentMenu.type.name==="ElMenu"&&t.rootMenu.props.collapse&&t.$slots.title?(I(),we(s,{key:0,effect:t.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:ne(()=>[oe(t.$slots,"title")]),default:ne(()=>[Z("div",{class:z(t.nsMenu.be("tooltip","trigger"))},[oe(t.$slots,"default")],2)]),_:3},8,["effect"])):(I(),K(ut,{key:1},[oe(t.$slots,"default"),oe(t.$slots,"title")],64))],10,["onClick"])}var YM=We(TX,[["render",AX],["__file","menu-item.vue"]]);const kX={title:String},IX="ElMenuItemGroup",PX=re({name:IX,props:kX,setup(){return{ns:Fe("menu-item-group")}}});function RX(t,e,n,i,r,a){return I(),K("li",{class:z(t.ns.b())},[Z("div",{class:z(t.ns.e("title"))},[t.$slots.title?oe(t.$slots,"title",{key:1}):(I(),K(ut,{key:0},[mt(Ne(t.title),1)],64))],2),Z("ul",null,[oe(t.$slots,"default")])],2)}var jM=We(PX,[["render",RX],["__file","menu-item-group.vue"]]);const LX=Dt(EX,{MenuItem:YM,MenuItemGroup:jM,SubMenu:vy}),NX=Bn(YM),OX=Bn(jM),DX=Bn(vy),FX=Ge({icon:{type:wn,default:()=>Q3},title:String,content:{type:String,default:""}}),BX={back:()=>!0},UX=re({name:"ElPageHeader"}),VX=re({...UX,props:FX,emits:BX,setup(t,{emit:e}){const n=bi(),{t:i}=nn(),r=Fe("page-header"),a=L(()=>[r.b(),{[r.m("has-breadcrumb")]:!!n.breadcrumb,[r.m("has-extra")]:!!n.extra,[r.is("contentful")]:!!n.default}]);function s(){e("back")}return(o,u)=>(I(),K("div",{class:z(d(a))},[o.$slots.breadcrumb?(I(),K("div",{key:0,class:z(d(r).e("breadcrumb"))},[oe(o.$slots,"breadcrumb")],2)):he("v-if",!0),Z("div",{class:z(d(r).e("header"))},[Z("div",{class:z(d(r).e("left"))},[Z("div",{class:z(d(r).e("back")),role:"button",tabindex:"0",onClick:s},[o.icon||o.$slots.icon?(I(),K("div",{key:0,"aria-label":o.title||d(i)("el.pageHeader.title"),class:z(d(r).e("icon"))},[oe(o.$slots,"icon",{},()=>[o.icon?(I(),we(d(dt),{key:0},{default:ne(()=>[(I(),we(Vt(o.icon)))]),_:1})):he("v-if",!0)])],10,["aria-label"])):he("v-if",!0),Z("div",{class:z(d(r).e("title"))},[oe(o.$slots,"title",{},()=>[mt(Ne(o.title||d(i)("el.pageHeader.title")),1)])],2)],2),J(d(fy),{direction:"vertical"}),Z("div",{class:z(d(r).e("content"))},[oe(o.$slots,"content",{},()=>[mt(Ne(o.content),1)])],2)],2),o.$slots.extra?(I(),K("div",{key:0,class:z(d(r).e("extra"))},[oe(o.$slots,"extra")],2)):he("v-if",!0)],2),o.$slots.default?(I(),K("div",{key:1,class:z(d(r).e("main"))},[oe(o.$slots,"default")],2)):he("v-if",!0)],2))}});var zX=We(VX,[["__file","page-header.vue"]]);const $X=Dt(zX),XM=Symbol("elPaginationKey"),HX=Ge({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:wn}}),GX={click:t=>t instanceof MouseEvent},WX=re({name:"ElPaginationPrev"}),KX=re({...WX,props:HX,emits:GX,setup(t){const e=t,{t:n}=nn(),i=L(()=>e.disabled||e.currentPage<=1);return(r,a)=>(I(),K("button",{type:"button",class:"btn-prev",disabled:d(i),"aria-label":r.prevText||d(n)("el.pagination.prev"),"aria-disabled":d(i),onClick:s=>r.$emit("click",s)},[r.prevText?(I(),K("span",{key:0},Ne(r.prevText),1)):(I(),we(d(dt),{key:1},{default:ne(()=>[(I(),we(Vt(r.prevIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var qX=We(KX,[["__file","prev.vue"]]);const YX=Ge({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:wn}}),jX=re({name:"ElPaginationNext"}),XX=re({...jX,props:YX,emits:["click"],setup(t){const e=t,{t:n}=nn(),i=L(()=>e.disabled||e.currentPage===e.pageCount||e.pageCount===0);return(r,a)=>(I(),K("button",{type:"button",class:"btn-next",disabled:d(i),"aria-label":r.nextText||d(n)("el.pagination.next"),"aria-disabled":d(i),onClick:s=>r.$emit("click",s)},[r.nextText?(I(),K("span",{key:0},Ne(r.nextText),1)):(I(),we(d(dt),{key:1},{default:ne(()=>[(I(),we(Vt(r.nextIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var ZX=We(XX,[["__file","next.vue"]]);const ZM=Symbol("ElSelectGroup"),tc=Symbol("ElSelect");function QX(t,e){const n=ct(tc),i=ct(ZM,{disabled:!1}),r=L(()=>h(Xi(n.props.modelValue),t.value)),a=L(()=>{var g;if(n.props.multiple){const y=Xi((g=n.props.modelValue)!=null?g:[]);return!r.value&&y.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),s=L(()=>t.label||(bn(t.value)?"":t.value)),o=L(()=>t.value||t.label||""),u=L(()=>t.disabled||e.groupDisabled||a.value),c=qt(),h=(g=[],y)=>{if(bn(t.value)){const _=n.props.valueKey;return g&&g.some(w=>_u(ei(w,_))===ei(y,_))}else return g&&g.includes(y)},p=()=>{!t.disabled&&!i.disabled&&(n.states.hoveringIndex=n.optionsArray.indexOf(c.proxy))},v=g=>{const y=new RegExp(C0(g),"i");e.visible=y.test(s.value)||t.created};return Le(()=>s.value,()=>{!t.created&&!n.props.remote&&n.setSelected()}),Le(()=>t.value,(g,y)=>{const{remote:_,valueKey:w}=n.props;if(g!==y&&(n.onOptionDestroy(y,c.proxy),n.onOptionCreate(c.proxy)),!t.created&&!_){if(w&&bn(g)&&bn(y)&&g[w]===y[w])return;n.setSelected()}}),Le(()=>i.disabled,()=>{e.groupDisabled=i.disabled},{immediate:!0}),{select:n,currentLabel:s,currentValue:o,itemSelected:r,isDisabled:u,hoverItem:p,updateOption:v}}const JX=re({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(t){const e=Fe("select"),n=Bi(),i=L(()=>[e.be("dropdown","item"),e.is("disabled",d(o)),e.is("selected",d(s)),e.is("hovering",d(v))]),r=jt({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:a,itemSelected:s,isDisabled:o,select:u,hoverItem:c,updateOption:h}=QX(t,r),{visible:p,hover:v}=Ri(r),g=qt().proxy;u.onOptionCreate(g),xn(()=>{const _=g.value,{selected:w}=u.states,M=(u.props.multiple?w:[w]).some(C=>C.value===g.value);yt(()=>{u.states.cachedOptions.get(_)===g&&!M&&u.states.cachedOptions.delete(_)}),u.onOptionDestroy(_,g)});function y(){o.value||u.handleOptionSelect(g)}return{ns:e,id:n,containerKls:i,currentLabel:a,itemSelected:s,isDisabled:o,select:u,hoverItem:c,updateOption:h,visible:p,hover:v,selectOptionClick:y,states:r}}});function eZ(t,e,n,i,r,a){return Bt((I(),K("li",{id:t.id,class:z(t.containerKls),role:"option","aria-disabled":t.isDisabled||void 0,"aria-selected":t.itemSelected,onMouseenter:t.hoverItem,onClick:xt(t.selectOptionClick,["stop"])},[oe(t.$slots,"default",{},()=>[Z("span",null,Ne(t.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMouseenter","onClick"])),[[sn,t.visible]])}var gy=We(JX,[["render",eZ],["__file","option.vue"]]);const tZ=re({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const t=ct(tc),e=Fe("select"),n=L(()=>t.props.popperClass),i=L(()=>t.props.multiple),r=L(()=>t.props.fitInputWidth),a=W("");function s(){var o;a.value=`${(o=t.selectRef)==null?void 0:o.offsetWidth}px`}return wt(()=>{s(),On(t.selectRef,s)}),{ns:e,minWidth:a,popperClass:n,isMultiple:i,isFitInputWidth:r}}});function nZ(t,e,n,i,r,a){return I(),K("div",{class:z([t.ns.b("dropdown"),t.ns.is("multiple",t.isMultiple),t.popperClass]),style:_t({[t.isFitInputWidth?"width":"minWidth"]:t.minWidth})},[t.$slots.header?(I(),K("div",{key:0,class:z(t.ns.be("dropdown","header"))},[oe(t.$slots,"header")],2)):he("v-if",!0),oe(t.$slots,"default"),t.$slots.footer?(I(),K("div",{key:1,class:z(t.ns.be("dropdown","footer"))},[oe(t.$slots,"footer")],2)):he("v-if",!0)],6)}var iZ=We(tZ,[["render",nZ],["__file","select-dropdown.vue"]]);const rZ=11,aZ=(t,e)=>{const{t:n}=nn(),i=Bi(),r=Fe("select"),a=Fe("input"),s=jt({inputValue:"",options:new Map,cachedOptions:new Map,disabledOptions:new Map,optionValues:[],selected:[],selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),o=W(null),u=W(null),c=W(null),h=W(null),p=W(null),v=W(null),g=W(null),y=W(null),_=W(null),w=W(null),b=W(null),M=W(null),{isComposing:C,handleCompositionStart:x,handleCompositionUpdate:T,handleCompositionEnd:k}=ip({afterComposition:tt=>vt(tt)}),{wrapperRef:R,isFocused:D}=xd(p,{beforeFocus(){return B.value},afterFocus(){t.automaticDropdown&&!U.value&&(U.value=!0,s.menuVisibleOnFocus=!0)},beforeBlur(tt){var Pt,dn;return((Pt=c.value)==null?void 0:Pt.isFocusInsideContent(tt))||((dn=h.value)==null?void 0:dn.isFocusInsideContent(tt))},afterBlur(){U.value=!1,s.menuVisibleOnFocus=!1}}),U=W(!1),P=W(),{form:N,formItem:$}=rr(),{inputId:Q}=Ba(t,{formItemContext:$}),{valueOnClear:Y,isEmptyValue:H}=rp(t),B=L(()=>t.disabled||(N==null?void 0:N.disabled)),X=L(()=>Nt(t.modelValue)?t.modelValue.length>0:!H(t.modelValue)),q=L(()=>t.clearable&&!B.value&&s.inputHovering&&X.value),O=L(()=>t.remote&&t.filterable&&!t.remoteShowSuffix?"":t.suffixIcon),V=L(()=>r.is("reverse",O.value&&U.value)),ee=L(()=>($==null?void 0:$.validateState)||""),ce=L(()=>A0[ee.value]),se=L(()=>t.remote?300:0),le=L(()=>t.loading?t.loadingText||n("el.select.loading"):t.remote&&!s.inputValue&&s.options.size===0?!1:t.filterable&&s.inputValue&&s.options.size>0&&ye.value===0?t.noMatchText||n("el.select.noMatch"):s.options.size===0?t.noDataText||n("el.select.noData"):null),ye=L(()=>Ce.value.filter(tt=>tt.visible).length),Ce=L(()=>{const tt=Array.from(s.options.values()),Pt=[];return s.optionValues.forEach(dn=>{const cn=tt.findIndex(Ai=>Ai.value===dn);cn>-1&&Pt.push(tt[cn])}),Pt.length>=tt.length?Pt:tt}),pe=L(()=>Array.from(s.cachedOptions.values())),ue=L(()=>{const tt=Ce.value.filter(Pt=>!Pt.created).some(Pt=>Pt.currentLabel===s.inputValue);return t.filterable&&t.allowCreate&&s.inputValue!==""&&!tt}),Me=()=>{t.filterable&&un(t.filterMethod)||t.filterable&&t.remote&&un(t.remoteMethod)||Ce.value.forEach(tt=>{var Pt;(Pt=tt.updateOption)==null||Pt.call(tt,s.inputValue)})},De=fi(),xe=L(()=>["small"].includes(De.value)?"small":"default"),G=L({get(){return U.value&&le.value!==!1},set(tt){U.value=tt}}),He=L(()=>{if(t.multiple&&!zn(t.modelValue))return Xi(t.modelValue).length===0&&!s.inputValue;const tt=Nt(t.modelValue)?t.modelValue[0]:t.modelValue;return t.filterable||zn(tt)?!s.inputValue:!0}),Qe=L(()=>{var tt;const Pt=(tt=t.placeholder)!=null?tt:n("el.select.placeholder");return t.multiple||!X.value?Pt:s.selectedLabel}),at=L(()=>lv?null:"mouseenter");Le(()=>t.modelValue,(tt,Pt)=>{t.multiple&&t.filterable&&!t.reserveKeyword&&(s.inputValue="",rt("")),qe(),!er(tt,Pt)&&t.validateEvent&&($==null||$.validate("change").catch(dn=>void 0))},{flush:"post",deep:!0}),Le(()=>U.value,tt=>{tt?rt(s.inputValue):(s.inputValue="",s.previousQuery=null,s.isBeforeHide=!0),e("visible-change",tt)}),Le(()=>s.options.entries(),()=>{var tt;if(!tn)return;const Pt=((tt=o.value)==null?void 0:tt.querySelectorAll("input"))||[];(!t.filterable&&!t.defaultFirstOption&&!zn(t.modelValue)||!Array.from(Pt).includes(document.activeElement))&&qe(),t.defaultFirstOption&&(t.filterable||t.remote)&&ye.value&&it()},{flush:"post"}),Le(()=>s.hoveringIndex,tt=>{kt(tt)&&tt>-1?P.value=Ce.value[tt]||{}:P.value={},Ce.value.forEach(Pt=>{Pt.hover=P.value===Pt})}),mi(()=>{s.isBeforeHide||Me()});const rt=tt=>{s.previousQuery===tt||C.value||(s.previousQuery=tt,t.filterable&&un(t.filterMethod)?t.filterMethod(tt):t.filterable&&t.remote&&un(t.remoteMethod)&&t.remoteMethod(tt),t.defaultFirstOption&&(t.filterable||t.remote)&&ye.value?yt(it):yt(ae))},it=()=>{const tt=Ce.value.filter(cn=>cn.visible&&!cn.disabled&&!cn.states.groupDisabled),Pt=tt.find(cn=>cn.created),dn=tt[0];s.hoveringIndex=be(Ce.value,Pt||dn)},qe=()=>{if(t.multiple)s.selectedLabel="";else{const Pt=Nt(t.modelValue)?t.modelValue[0]:t.modelValue,dn=te(Pt);s.selectedLabel=dn.currentLabel,s.selected=[dn];return}const tt=[];zn(t.modelValue)||Xi(t.modelValue).forEach(Pt=>{tt.push(te(Pt))}),s.selected=tt},te=tt=>{let Pt;const dn=Fp(tt).toLowerCase()==="object",cn=Fp(tt).toLowerCase()==="null",Ai=Fp(tt).toLowerCase()==="undefined";for(let Ue=s.cachedOptions.size-1;Ue>=0;Ue--){const Ke=pe.value[Ue];if(dn?ei(Ke.value,t.valueKey)===ei(tt,t.valueKey):Ke.value===tt){Pt={value:tt,currentLabel:Ke.currentLabel,get isDisabled(){return Ke.isDisabled}};break}}if(Pt)return Pt;const ri=dn?tt.label:!cn&&!Ai?tt:"";return{value:tt,currentLabel:ri}},ae=()=>{s.hoveringIndex=Ce.value.findIndex(tt=>s.selected.some(Pt=>kn(Pt)===kn(tt)))},ke=()=>{s.selectionWidth=u.value.getBoundingClientRect().width},Be=()=>{s.calculatorWidth=v.value.getBoundingClientRect().width},Ve=()=>{s.collapseItemWidth=b.value.getBoundingClientRect().width},Ae=()=>{var tt,Pt;(Pt=(tt=c.value)==null?void 0:tt.updatePopper)==null||Pt.call(tt)},Pe=()=>{var tt,Pt;(Pt=(tt=h.value)==null?void 0:tt.updatePopper)==null||Pt.call(tt)},Xe=()=>{s.inputValue.length>0&&!U.value&&(U.value=!0),rt(s.inputValue)},vt=tt=>{if(s.inputValue=tt.target.value,t.remote)nt();else return Xe()},nt=Rr(()=>{Xe()},se.value),Rt=tt=>{er(t.modelValue,tt)||e(Rn,tt)},Ye=tt=>g2(tt,Pt=>!s.disabledOptions.has(Pt)),Et=tt=>{if(t.multiple&&tt.code!==St.delete&&tt.target.value.length<=0){const Pt=Xi(t.modelValue).slice(),dn=Ye(Pt);if(dn<0)return;const cn=Pt[dn];Pt.splice(dn,1),e(Wt,Pt),Rt(Pt),e("remove-tag",cn)}},Te=(tt,Pt)=>{const dn=s.selected.indexOf(Pt);if(dn>-1&&!B.value){const cn=Xi(t.modelValue).slice();cn.splice(dn,1),e(Wt,cn),Rt(cn),e("remove-tag",Pt.value)}tt.stopPropagation(),ve()},ze=tt=>{tt.stopPropagation();const Pt=t.multiple?[]:Y.value;if(t.multiple)for(const dn of s.selected)dn.isDisabled&&Pt.push(dn.value);e(Wt,Pt),Rt(Pt),s.hoveringIndex=-1,U.value=!1,e("clear"),ve()},de=tt=>{var Pt;if(t.multiple){const dn=Xi((Pt=t.modelValue)!=null?Pt:[]).slice(),cn=be(dn,tt.value);cn>-1?dn.splice(cn,1):(t.multipleLimit<=0||dn.length<t.multipleLimit)&&dn.push(tt.value),e(Wt,dn),Rt(dn),tt.created&&rt(""),t.filterable&&!t.reserveKeyword&&(s.inputValue="")}else e(Wt,tt.value),Rt(tt.value),U.value=!1;ve(),!U.value&&yt(()=>{Re(tt)})},be=(tt=[],Pt)=>{if(!bn(Pt))return tt.indexOf(Pt);const dn=t.valueKey;let cn=-1;return tt.some((Ai,ri)=>_u(ei(Ai,dn))===ei(Pt,dn)?(cn=ri,!0):!1),cn},Re=tt=>{var Pt,dn,cn,Ai,ri;const me=Nt(tt)?tt[0]:tt;let Ue=null;if(me!=null&&me.value){const Ke=Ce.value.filter(Je=>Je.value===me.value);Ke.length>0&&(Ue=Ke[0].$el)}if(c.value&&Ue){const Ke=(Ai=(cn=(dn=(Pt=c.value)==null?void 0:Pt.popperRef)==null?void 0:dn.contentRef)==null?void 0:cn.querySelector)==null?void 0:Ai.call(cn,`.${r.be("dropdown","wrap")}`);Ke&&x0(Ke,Ue)}(ri=M.value)==null||ri.handleScroll()},gt=tt=>{s.options.set(tt.value,tt),s.cachedOptions.set(tt.value,tt),tt.disabled&&s.disabledOptions.set(tt.value,tt)},Ft=(tt,Pt)=>{s.options.get(tt)===Pt&&s.options.delete(tt)},Ee=L(()=>{var tt,Pt;return(Pt=(tt=c.value)==null?void 0:tt.popperRef)==null?void 0:Pt.contentRef}),st=()=>{s.isBeforeHide=!1,yt(()=>Re(s.selected))},ve=()=>{var tt;(tt=p.value)==null||tt.focus()},et=()=>{var tt;(tt=p.value)==null||tt.blur()},lt=tt=>{ze(tt)},bt=()=>{U.value=!1,D.value&&et()},$t=()=>{s.inputValue.length>0?s.inputValue="":U.value=!1},hn=()=>{B.value||(lv&&(s.inputHovering=!0),s.menuVisibleOnFocus?s.menuVisibleOnFocus=!1:U.value=!U.value)},ft=()=>{U.value?Ce.value[s.hoveringIndex]&&de(Ce.value[s.hoveringIndex]):hn()},kn=tt=>bn(tt.value)?ei(tt.value,t.valueKey):tt.value,Zn=L(()=>Ce.value.filter(tt=>tt.visible).every(tt=>tt.disabled)),pn=L(()=>t.multiple?t.collapseTags?s.selected.slice(0,t.maxCollapseTags):s.selected:[]),Un=L(()=>t.multiple?t.collapseTags?s.selected.slice(t.maxCollapseTags):[]:[]),ci=tt=>{if(!U.value){U.value=!0;return}if(!(s.options.size===0||s.filteredOptionsCount===0||C.value)&&!Zn.value){tt==="next"?(s.hoveringIndex++,s.hoveringIndex===s.options.size&&(s.hoveringIndex=0)):tt==="prev"&&(s.hoveringIndex--,s.hoveringIndex<0&&(s.hoveringIndex=s.options.size-1));const Pt=Ce.value[s.hoveringIndex];(Pt.disabled===!0||Pt.states.groupDisabled===!0||!Pt.visible)&&ci(tt),yt(()=>Re(P.value))}},ha=()=>{if(!u.value)return 0;const tt=window.getComputedStyle(u.value);return Number.parseFloat(tt.gap||"6px")},ar=L(()=>{const tt=ha();return{maxWidth:`${b.value&&t.maxCollapseTags===1?s.selectionWidth-s.collapseItemWidth-tt:s.selectionWidth}px`}}),Nr=L(()=>({maxWidth:`${s.selectionWidth}px`})),hi=L(()=>({width:`${Math.max(s.calculatorWidth,rZ)}px`}));return On(u,ke),On(v,Be),On(_,Ae),On(R,Ae),On(w,Pe),On(b,Ve),wt(()=>{qe()}),{inputId:Q,contentId:i,nsSelect:r,nsInput:a,states:s,isFocused:D,expanded:U,optionsArray:Ce,hoverOption:P,selectSize:De,filteredOptionsCount:ye,resetCalculatorWidth:Be,updateTooltip:Ae,updateTagTooltip:Pe,debouncedOnInputChange:nt,onInput:vt,deletePrevTag:Et,deleteTag:Te,deleteSelected:ze,handleOptionSelect:de,scrollToOption:Re,hasModelValue:X,shouldShowPlaceholder:He,currentPlaceholder:Qe,mouseEnterEventName:at,showClose:q,iconComponent:O,iconReverse:V,validateState:ee,validateIcon:ce,showNewOption:ue,updateOptions:Me,collapseTagSize:xe,setSelected:qe,selectDisabled:B,emptyText:le,handleCompositionStart:x,handleCompositionUpdate:T,handleCompositionEnd:k,onOptionCreate:gt,onOptionDestroy:Ft,handleMenuEnter:st,focus:ve,blur:et,handleClearClick:lt,handleClickOutside:bt,handleEsc:$t,toggleMenu:hn,selectOption:ft,getValueKey:kn,navigateOptions:ci,dropdownMenuVisible:G,showTagList:pn,collapseTagList:Un,tagStyle:ar,collapseTagStyle:Nr,inputStyle:hi,popperRef:Ee,inputRef:p,tooltipRef:c,tagTooltipRef:h,calculatorRef:v,prefixRef:g,suffixRef:y,selectRef:o,wrapperRef:R,selectionRef:u,scrollbarRef:M,menuRef:_,tagMenuRef:w,collapseItemRef:b}};var sZ=re({name:"ElOptions",setup(t,{slots:e}){const n=ct(tc);let i=[];return()=>{var r,a;const s=(r=e.default)==null?void 0:r.call(e),o=[];function u(c){Nt(c)&&c.forEach(h=>{var p,v,g,y;const _=(p=(h==null?void 0:h.type)||{})==null?void 0:p.name;_==="ElOptionGroup"?u(!Gt(h.children)&&!Nt(h.children)&&un((v=h.children)==null?void 0:v.default)?(g=h.children)==null?void 0:g.default():h.children):_==="ElOption"?o.push((y=h.props)==null?void 0:y.value):Nt(h.children)&&u(h.children)})}return s.length&&u((a=s[0])==null?void 0:a.children),er(o,i)||(i=o,n&&(n.states.optionValues=o)),s}}});const oZ=Ge({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:gi,effect:{type:_e(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:_e(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:Ii.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:wn,default:_o},fitInputWidth:Boolean,suffixIcon:{type:wn,default:Is},tagType:{...pl.type,default:"info"},tagEffect:{...pl.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,placement:{type:_e(String),values:Ls,default:"bottom-start"},fallbackPlacements:{type:_e(Array),default:["bottom-start","top-start","right","left"]},appendTo:String,...Qu,...Ui(["ariaLabel"])}),B1="ElSelect",lZ=re({name:B1,componentName:B1,components:{ElSelectMenu:iZ,ElOption:gy,ElOptions:sZ,ElTag:Jc,ElScrollbar:as,ElTooltip:pi,ElIcon:dt},directives:{ClickOutside:xs},props:oZ,emits:[Wt,Rn,"remove-tag","clear","visible-change","focus","blur"],setup(t,{emit:e}){const n=L(()=>{const{modelValue:a,multiple:s}=t,o=s?[]:void 0;return Nt(a)?s?a:o:s?o:a}),i=jt({...Ri(t),modelValue:n}),r=aZ(i,e);return Zt(tc,jt({props:i,states:r.states,optionsArray:r.optionsArray,handleOptionSelect:r.handleOptionSelect,onOptionCreate:r.onOptionCreate,onOptionDestroy:r.onOptionDestroy,selectRef:r.selectRef,setSelected:r.setSelected})),{...r,modelValue:n}}});function uZ(t,e,n,i,r,a){const s=At("el-tag"),o=At("el-tooltip"),u=At("el-icon"),c=At("el-option"),h=At("el-options"),p=At("el-scrollbar"),v=At("el-select-menu"),g=zh("click-outside");return Bt((I(),K("div",{ref:"selectRef",class:z([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),[yI(t.mouseEnterEventName)]:y=>t.states.inputHovering=!0,onMouseleave:y=>t.states.inputHovering=!1},[J(o,{ref:"tooltipRef",visible:t.dropdownMenuVisible,placement:t.placement,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,pure:"",trigger:"click",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:t.persistent,"append-to":t.appendTo,onBeforeShow:t.handleMenuEnter,onHide:y=>t.states.isBeforeHide=!1},{default:ne(()=>{var y;return[Z("div",{ref:"wrapperRef",class:z([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)]),onClick:xt(t.toggleMenu,["prevent"])},[t.$slots.prefix?(I(),K("div",{key:0,ref:"prefixRef",class:z(t.nsSelect.e("prefix"))},[oe(t.$slots,"prefix")],2)):he("v-if",!0),Z("div",{ref:"selectionRef",class:z([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.states.selected.length)])},[t.multiple?oe(t.$slots,"tag",{key:0},()=>[(I(!0),K(ut,null,Ut(t.showTagList,_=>(I(),K("div",{key:t.getValueKey(_),class:z(t.nsSelect.e("selected-item"))},[J(s,{closable:!t.selectDisabled&&!_.isDisabled,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:_t(t.tagStyle),onClose:w=>t.deleteTag(w,_)},{default:ne(()=>[Z("span",{class:z(t.nsSelect.e("tags-text"))},[oe(t.$slots,"label",{label:_.currentLabel,value:_.value},()=>[mt(Ne(_.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),t.collapseTags&&t.states.selected.length>t.maxCollapseTags?(I(),we(o,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:ne(()=>[Z("div",{ref:"collapseItemRef",class:z(t.nsSelect.e("selected-item"))},[J(s,{closable:!1,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:_t(t.collapseTagStyle)},{default:ne(()=>[Z("span",{class:z(t.nsSelect.e("tags-text"))}," + "+Ne(t.states.selected.length-t.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:ne(()=>[Z("div",{ref:"tagMenuRef",class:z(t.nsSelect.e("selection"))},[(I(!0),K(ut,null,Ut(t.collapseTagList,_=>(I(),K("div",{key:t.getValueKey(_),class:z(t.nsSelect.e("selected-item"))},[J(s,{class:"in-tooltip",closable:!t.selectDisabled&&!_.isDisabled,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",onClose:w=>t.deleteTag(w,_)},{default:ne(()=>[Z("span",{class:z(t.nsSelect.e("tags-text"))},[oe(t.$slots,"label",{label:_.currentLabel,value:_.value},()=>[mt(Ne(_.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):he("v-if",!0)]):he("v-if",!0),t.selectDisabled?he("v-if",!0):(I(),K("div",{key:1,class:z([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[Bt(Z("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":_=>t.states.inputValue=_,type:"text",name:t.name,class:z([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,autocomplete:t.autocomplete,style:_t(t.inputStyle),role:"combobox",readonly:!t.filterable,spellcheck:"false","aria-activedescendant":((y=t.hoverOption)==null?void 0:y.id)||"","aria-controls":t.contentId,"aria-expanded":t.dropdownMenuVisible,"aria-label":t.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[mn(xt(_=>t.navigateOptions("next"),["stop","prevent"]),["down"]),mn(xt(_=>t.navigateOptions("prev"),["stop","prevent"]),["up"]),mn(xt(t.handleEsc,["stop","prevent"]),["esc"]),mn(xt(t.selectOption,["stop","prevent"]),["enter"]),mn(xt(t.deletePrevTag,["stop"]),["delete"])],onCompositionstart:t.handleCompositionStart,onCompositionupdate:t.handleCompositionUpdate,onCompositionend:t.handleCompositionEnd,onInput:t.onInput,onClick:xt(t.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[Gg,t.states.inputValue]]),t.filterable?(I(),K("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:z(t.nsSelect.e("input-calculator")),textContent:Ne(t.states.inputValue)},null,10,["textContent"])):he("v-if",!0)],2)),t.shouldShowPlaceholder?(I(),K("div",{key:2,class:z([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[t.hasModelValue?oe(t.$slots,"label",{key:0,label:t.currentPlaceholder,value:t.modelValue},()=>[Z("span",null,Ne(t.currentPlaceholder),1)]):(I(),K("span",{key:1},Ne(t.currentPlaceholder),1))],2)):he("v-if",!0)],2),Z("div",{ref:"suffixRef",class:z(t.nsSelect.e("suffix"))},[t.iconComponent&&!t.showClose?(I(),we(u,{key:0,class:z([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.iconReverse])},{default:ne(()=>[(I(),we(Vt(t.iconComponent)))]),_:1},8,["class"])):he("v-if",!0),t.showClose&&t.clearIcon?(I(),we(u,{key:1,class:z([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.nsSelect.e("clear")]),onClick:t.handleClearClick},{default:ne(()=>[(I(),we(Vt(t.clearIcon)))]),_:1},8,["class","onClick"])):he("v-if",!0),t.validateState&&t.validateIcon?(I(),we(u,{key:2,class:z([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:ne(()=>[(I(),we(Vt(t.validateIcon)))]),_:1},8,["class"])):he("v-if",!0)],2)],10,["onClick"])]}),content:ne(()=>[J(v,{ref:"menuRef"},{default:ne(()=>[t.$slots.header?(I(),K("div",{key:0,class:z(t.nsSelect.be("dropdown","header")),onClick:xt(()=>{},["stop"])},[oe(t.$slots,"header")],10,["onClick"])):he("v-if",!0),Bt(J(p,{id:t.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":t.nsSelect.be("dropdown","wrap"),"view-class":t.nsSelect.be("dropdown","list"),class:z([t.nsSelect.is("empty",t.filteredOptionsCount===0)]),role:"listbox","aria-label":t.ariaLabel,"aria-orientation":"vertical"},{default:ne(()=>[t.showNewOption?(I(),we(c,{key:0,value:t.states.inputValue,created:!0},null,8,["value"])):he("v-if",!0),J(h,null,{default:ne(()=>[oe(t.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[sn,t.states.options.size>0&&!t.loading]]),t.$slots.loading&&t.loading?(I(),K("div",{key:1,class:z(t.nsSelect.be("dropdown","loading"))},[oe(t.$slots,"loading")],2)):t.loading||t.filteredOptionsCount===0?(I(),K("div",{key:2,class:z(t.nsSelect.be("dropdown","empty"))},[oe(t.$slots,"empty",{},()=>[Z("span",null,Ne(t.emptyText),1)])],2)):he("v-if",!0),t.$slots.footer?(I(),K("div",{key:3,class:z(t.nsSelect.be("dropdown","footer")),onClick:xt(()=>{},["stop"])},[oe(t.$slots,"footer")],10,["onClick"])):he("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","append-to","onBeforeShow","onHide"])],16,["onMouseleave"])),[[g,t.handleClickOutside,t.popperRef]])}var cZ=We(lZ,[["render",uZ],["__file","select.vue"]]);const dZ=re({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(t){const e=Fe("select"),n=W(null),i=qt(),r=W([]);Zt(ZM,jt({...Ri(t)}));const a=L(()=>r.value.some(c=>c.visible===!0)),s=c=>{var h,p;return((h=c.type)==null?void 0:h.name)==="ElOption"&&!!((p=c.component)!=null&&p.proxy)},o=c=>{const h=Xi(c),p=[];return h.forEach(v=>{var g,y;s(v)?p.push(v.component.proxy):(g=v.children)!=null&&g.length?p.push(...o(v.children)):(y=v.component)!=null&&y.subTree&&p.push(...o(v.component.subTree))}),p},u=()=>{r.value=o(i.subTree)};return wt(()=>{u()}),hE(n,u,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:a,ns:e}}});function fZ(t,e,n,i,r,a){return Bt((I(),K("ul",{ref:"groupRef",class:z(t.ns.be("group","wrap"))},[Z("li",{class:z(t.ns.be("group","title"))},Ne(t.label),3),Z("li",null,[Z("ul",{class:z(t.ns.b("group"))},[oe(t.$slots,"default")],2)])],2)),[[sn,t.visible]])}var QM=We(dZ,[["render",fZ],["__file","option-group.vue"]]);const ml=Dt(cZ,{Option:gy,OptionGroup:QM}),mh=Bn(gy),hZ=Bn(QM),yy=()=>ct(XM,{}),pZ=Ge({pageSize:{type:Number,required:!0},pageSizes:{type:_e(Array),default:()=>Fn([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:is},appendSizeTo:String}),mZ=re({name:"ElPaginationSizes"}),vZ=re({...mZ,props:pZ,emits:["page-size-change"],setup(t,{emit:e}){const n=t,{t:i}=nn(),r=Fe("pagination"),a=yy(),s=W(n.pageSize);Le(()=>n.pageSizes,(c,h)=>{if(!er(c,h)&&Array.isArray(c)){const p=c.includes(n.pageSize)?n.pageSize:n.pageSizes[0];e("page-size-change",p)}}),Le(()=>n.pageSize,c=>{s.value=c});const o=L(()=>n.pageSizes);function u(c){var h;c!==s.value&&(s.value=c,(h=a.handleSizeChange)==null||h.call(a,Number(c)))}return(c,h)=>(I(),K("span",{class:z(d(r).e("sizes"))},[J(d(ml),{"model-value":s.value,disabled:c.disabled,"popper-class":c.popperClass,size:c.size,teleported:c.teleported,"validate-event":!1,"append-to":c.appendSizeTo,onChange:u},{default:ne(()=>[(I(!0),K(ut,null,Ut(d(o),p=>(I(),we(d(mh),{key:p,value:p,label:p+d(i)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported","append-to"])],2))}});var gZ=We(vZ,[["__file","sizes.vue"]]);const yZ=Ge({size:{type:String,values:is}}),_Z=re({name:"ElPaginationJumper"}),bZ=re({..._Z,props:yZ,setup(t){const{t:e}=nn(),n=Fe("pagination"),{pageCount:i,disabled:r,currentPage:a,changeEvent:s}=yy(),o=W(),u=L(()=>{var p;return(p=o.value)!=null?p:a==null?void 0:a.value});function c(p){o.value=p?+p:""}function h(p){p=Math.trunc(+p),s==null||s(p),o.value=void 0}return(p,v)=>(I(),K("span",{class:z(d(n).e("jump")),disabled:d(r)},[Z("span",{class:z([d(n).e("goto")])},Ne(d(e)("el.pagination.goto")),3),J(d(Qi),{size:p.size,class:z([d(n).e("editor"),d(n).is("in-pagination")]),min:1,max:d(i),disabled:d(r),"model-value":d(u),"validate-event":!1,"aria-label":d(e)("el.pagination.page"),type:"number","onUpdate:modelValue":c,onChange:h},null,8,["size","class","max","disabled","model-value","aria-label"]),Z("span",{class:z([d(n).e("classifier")])},Ne(d(e)("el.pagination.pageClassifier")),3)],10,["disabled"]))}});var wZ=We(bZ,[["__file","jumper.vue"]]);const SZ=Ge({total:{type:Number,default:1e3}}),CZ=re({name:"ElPaginationTotal"}),EZ=re({...CZ,props:SZ,setup(t){const{t:e}=nn(),n=Fe("pagination"),{disabled:i}=yy();return(r,a)=>(I(),K("span",{class:z(d(n).e("total")),disabled:d(i)},Ne(d(e)("el.pagination.total",{total:r.total})),11,["disabled"]))}});var xZ=We(EZ,[["__file","total.vue"]]);const MZ=Ge({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),TZ=re({name:"ElPaginationPager"}),AZ=re({...TZ,props:MZ,emits:["change"],setup(t,{emit:e}){const n=t,i=Fe("pager"),r=Fe("icon"),{t:a}=nn(),s=W(!1),o=W(!1),u=W(!1),c=W(!1),h=W(!1),p=W(!1),v=L(()=>{const x=n.pagerCount,T=(x-1)/2,k=Number(n.currentPage),R=Number(n.pageCount);let D=!1,U=!1;R>x&&(k>x-T&&(D=!0),k<R-T&&(U=!0));const P=[];if(D&&!U){const N=R-(x-2);for(let $=N;$<R;$++)P.push($)}else if(!D&&U)for(let N=2;N<x;N++)P.push(N);else if(D&&U){const N=Math.floor(x/2)-1;for(let $=k-N;$<=k+N;$++)P.push($)}else for(let N=2;N<R;N++)P.push(N);return P}),g=L(()=>["more","btn-quickprev",r.b(),i.is("disabled",n.disabled)]),y=L(()=>["more","btn-quicknext",r.b(),i.is("disabled",n.disabled)]),_=L(()=>n.disabled?-1:0);mi(()=>{const x=(n.pagerCount-1)/2;s.value=!1,o.value=!1,n.pageCount>n.pagerCount&&(n.currentPage>n.pagerCount-x&&(s.value=!0),n.currentPage<n.pageCount-x&&(o.value=!0))});function w(x=!1){n.disabled||(x?u.value=!0:c.value=!0)}function b(x=!1){x?h.value=!0:p.value=!0}function M(x){const T=x.target;if(T.tagName.toLowerCase()==="li"&&Array.from(T.classList).includes("number")){const k=Number(T.textContent);k!==n.currentPage&&e("change",k)}else T.tagName.toLowerCase()==="li"&&Array.from(T.classList).includes("more")&&C(x)}function C(x){const T=x.target;if(T.tagName.toLowerCase()==="ul"||n.disabled)return;let k=Number(T.textContent);const R=n.pageCount,D=n.currentPage,U=n.pagerCount-2;T.className.includes("more")&&(T.className.includes("quickprev")?k=D-U:T.className.includes("quicknext")&&(k=D+U)),Number.isNaN(+k)||(k<1&&(k=1),k>R&&(k=R)),k!==D&&e("change",k)}return(x,T)=>(I(),K("ul",{class:z(d(i).b()),onClick:C,onKeyup:mn(M,["enter"])},[x.pageCount>0?(I(),K("li",{key:0,class:z([[d(i).is("active",x.currentPage===1),d(i).is("disabled",x.disabled)],"number"]),"aria-current":x.currentPage===1,"aria-label":d(a)("el.pagination.currentPage",{pager:1}),tabindex:d(_)}," 1 ",10,["aria-current","aria-label","tabindex"])):he("v-if",!0),s.value?(I(),K("li",{key:1,class:z(d(g)),tabindex:d(_),"aria-label":d(a)("el.pagination.prevPages",{pager:x.pagerCount-2}),onMouseenter:k=>w(!0),onMouseleave:k=>u.value=!1,onFocus:k=>b(!0),onBlur:k=>h.value=!1},[(u.value||h.value)&&!x.disabled?(I(),we(d(so),{key:0})):(I(),we(d(M_),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):he("v-if",!0),(I(!0),K(ut,null,Ut(d(v),k=>(I(),K("li",{key:k,class:z([[d(i).is("active",x.currentPage===k),d(i).is("disabled",x.disabled)],"number"]),"aria-current":x.currentPage===k,"aria-label":d(a)("el.pagination.currentPage",{pager:k}),tabindex:d(_)},Ne(k),11,["aria-current","aria-label","tabindex"]))),128)),o.value?(I(),K("li",{key:2,class:z(d(y)),tabindex:d(_),"aria-label":d(a)("el.pagination.nextPages",{pager:x.pagerCount-2}),onMouseenter:k=>w(),onMouseleave:k=>c.value=!1,onFocus:k=>b(),onBlur:k=>p.value=!1},[(c.value||p.value)&&!x.disabled?(I(),we(d(oo),{key:0})):(I(),we(d(M_),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):he("v-if",!0),x.pageCount>1?(I(),K("li",{key:3,class:z([[d(i).is("active",x.currentPage===x.pageCount),d(i).is("disabled",x.disabled)],"number"]),"aria-current":x.currentPage===x.pageCount,"aria-label":d(a)("el.pagination.currentPage",{pager:x.pageCount}),tabindex:d(_)},Ne(x.pageCount),11,["aria-current","aria-label","tabindex"])):he("v-if",!0)],42,["onKeyup"]))}});var kZ=We(AZ,[["__file","pager.vue"]]);const lr=t=>typeof t!="number",IZ=Ge({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:t=>kt(t)&&Math.trunc(t)===t&&t>4&&t<22&&t%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:_e(Array),default:()=>Fn([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:wn,default:()=>ao},nextText:{type:String,default:""},nextIcon:{type:wn,default:()=>hr},teleported:{type:Boolean,default:!0},small:Boolean,size:gi,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean,appendSizeTo:String}),PZ={"update:current-page":t=>kt(t),"update:page-size":t=>kt(t),"size-change":t=>kt(t),change:(t,e)=>kt(t)&&kt(e),"current-change":t=>kt(t),"prev-click":t=>kt(t),"next-click":t=>kt(t)},U1="ElPagination";var RZ=re({name:U1,props:IZ,emits:PZ,setup(t,{emit:e,slots:n}){const{t:i}=nn(),r=Fe("pagination"),a=qt().vnode.props||{},s=ix(),o=L(()=>{var T;return t.small?"small":(T=t.size)!=null?T:s.value});Js({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},L(()=>!!t.small));const u="onUpdate:currentPage"in a||"onUpdate:current-page"in a||"onCurrentChange"in a,c="onUpdate:pageSize"in a||"onUpdate:page-size"in a||"onSizeChange"in a,h=L(()=>{if(lr(t.total)&&lr(t.pageCount)||!lr(t.currentPage)&&!u)return!1;if(t.layout.includes("sizes")){if(lr(t.pageCount)){if(!lr(t.total)&&!lr(t.pageSize)&&!c)return!1}else if(!c)return!1}return!0}),p=W(lr(t.defaultPageSize)?10:t.defaultPageSize),v=W(lr(t.defaultCurrentPage)?1:t.defaultCurrentPage),g=L({get(){return lr(t.pageSize)?p.value:t.pageSize},set(T){lr(t.pageSize)&&(p.value=T),c&&(e("update:page-size",T),e("size-change",T))}}),y=L(()=>{let T=0;return lr(t.pageCount)?lr(t.total)||(T=Math.max(1,Math.ceil(t.total/g.value))):T=t.pageCount,T}),_=L({get(){return lr(t.currentPage)?v.value:t.currentPage},set(T){let k=T;T<1?k=1:T>y.value&&(k=y.value),lr(t.currentPage)&&(v.value=k),u&&(e("update:current-page",k),e("current-change",k))}});Le(y,T=>{_.value>T&&(_.value=T)}),Le([_,g],T=>{e("change",...T)},{flush:"post"});function w(T){_.value=T}function b(T){g.value=T;const k=y.value;_.value>k&&(_.value=k)}function M(){t.disabled||(_.value-=1,e("prev-click",_.value))}function C(){t.disabled||(_.value+=1,e("next-click",_.value))}function x(T,k){T&&(T.props||(T.props={}),T.props.class=[T.props.class,k].join(" "))}return Zt(XM,{pageCount:y,disabled:L(()=>t.disabled),currentPage:_,changeEvent:w,handleSizeChange:b}),()=>{var T,k;if(!h.value)return i("el.pagination.deprecationWarning"),null;if(!t.layout||t.hideOnSinglePage&&y.value<=1)return null;const R=[],D=[],U=Ct("div",{class:r.e("rightwrapper")},D),P={prev:Ct(qX,{disabled:t.disabled,currentPage:_.value,prevText:t.prevText,prevIcon:t.prevIcon,onClick:M}),jumper:Ct(wZ,{size:o.value}),pager:Ct(kZ,{currentPage:_.value,pageCount:y.value,pagerCount:t.pagerCount,onChange:w,disabled:t.disabled}),next:Ct(ZX,{disabled:t.disabled,currentPage:_.value,pageCount:y.value,nextText:t.nextText,nextIcon:t.nextIcon,onClick:C}),sizes:Ct(gZ,{pageSize:g.value,pageSizes:t.pageSizes,popperClass:t.popperClass,disabled:t.disabled,teleported:t.teleported,size:o.value,appendSizeTo:t.appendSizeTo}),slot:(k=(T=n==null?void 0:n.default)==null?void 0:T.call(n))!=null?k:null,total:Ct(xZ,{total:lr(t.total)?0:t.total})},N=t.layout.split(",").map(Q=>Q.trim());let $=!1;return N.forEach(Q=>{if(Q==="->"){$=!0;return}$?D.push(P[Q]):R.push(P[Q])}),x(R[0],r.is("first")),x(R[R.length-1],r.is("last")),$&&D.length>0&&(x(D[0],r.is("first")),x(D[D.length-1],r.is("last")),R.push(U)),Ct("div",{class:[r.b(),r.is("background",t.background),r.m(o.value)]},R)}}});const LZ=Dt(RZ),NZ=Ge({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:kv,default:"primary"},cancelButtonType:{type:String,values:kv,default:"text"},icon:{type:wn,default:()=>BO},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:Ii.teleported,persistent:Ii.persistent,width:{type:[String,Number],default:150}}),OZ={confirm:t=>t instanceof MouseEvent,cancel:t=>t instanceof MouseEvent},DZ=re({name:"ElPopconfirm"}),FZ=re({...DZ,props:NZ,emits:OZ,setup(t,{emit:e}){const n=t,{t:i}=nn(),r=Fe("popconfirm"),a=W(),s=()=>{var v,g;(g=(v=a.value)==null?void 0:v.onClose)==null||g.call(v)},o=L(()=>({width:Xn(n.width)})),u=v=>{e("confirm",v),s()},c=v=>{e("cancel",v),s()},h=L(()=>n.confirmButtonText||i("el.popconfirm.confirmButtonText")),p=L(()=>n.cancelButtonText||i("el.popconfirm.cancelButtonText"));return(v,g)=>(I(),we(d(pi),Ht({ref_key:"tooltipRef",ref:a,trigger:"click",effect:"light"},v.$attrs,{"popper-class":`${d(r).namespace.value}-popover`,"popper-style":d(o),teleported:v.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":v.hideAfter,persistent:v.persistent}),{content:ne(()=>[Z("div",{class:z(d(r).b())},[Z("div",{class:z(d(r).e("main"))},[!v.hideIcon&&v.icon?(I(),we(d(dt),{key:0,class:z(d(r).e("icon")),style:_t({color:v.iconColor})},{default:ne(()=>[(I(),we(Vt(v.icon)))]),_:1},8,["class","style"])):he("v-if",!0),mt(" "+Ne(v.title),1)],2),Z("div",{class:z(d(r).e("action"))},[oe(v.$slots,"actions",{confirm:u,cancel:c},()=>[J(d(Pi),{size:"small",type:v.cancelButtonType==="text"?"":v.cancelButtonType,text:v.cancelButtonType==="text",onClick:c},{default:ne(()=>[mt(Ne(d(p)),1)]),_:1},8,["type","text"]),J(d(Pi),{size:"small",type:v.confirmButtonType==="text"?"":v.confirmButtonType,text:v.confirmButtonType==="text",onClick:u},{default:ne(()=>[mt(Ne(d(h)),1)]),_:1},8,["type","text"])])],2)],2)]),default:ne(()=>[v.$slots.reference?oe(v.$slots,"reference",{key:0}):he("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var BZ=We(FZ,[["__file","popconfirm.vue"]]);const UZ=Dt(BZ),VZ=Ge({trigger:Qc.trigger,placement:Wf.placement,disabled:Qc.disabled,visible:Ii.visible,transition:Ii.transition,popperOptions:Wf.popperOptions,tabindex:Wf.tabindex,content:Ii.content,popperStyle:Ii.popperStyle,popperClass:Ii.popperClass,enterable:{...Ii.enterable,default:!0},effect:{...Ii.effect,default:"light"},teleported:Ii.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),zZ={"update:visible":t=>$n(t),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},$Z="onUpdate:visible",HZ=re({name:"ElPopover"}),GZ=re({...HZ,props:VZ,emits:zZ,setup(t,{expose:e,emit:n}){const i=t,r=L(()=>i[$Z]),a=Fe("popover"),s=W(),o=L(()=>{var w;return(w=d(s))==null?void 0:w.popperRef}),u=L(()=>[{width:Xn(i.width)},i.popperStyle]),c=L(()=>[a.b(),i.popperClass,{[a.m("plain")]:!!i.content}]),h=L(()=>i.transition===`${a.namespace.value}-fade-in-linear`),p=()=>{var w;(w=s.value)==null||w.hide()},v=()=>{n("before-enter")},g=()=>{n("before-leave")},y=()=>{n("after-enter")},_=()=>{n("update:visible",!1),n("after-leave")};return e({popperRef:o,hide:p}),(w,b)=>(I(),we(d(pi),Ht({ref_key:"tooltipRef",ref:s},w.$attrs,{trigger:w.trigger,placement:w.placement,disabled:w.disabled,visible:w.visible,transition:w.transition,"popper-options":w.popperOptions,tabindex:w.tabindex,content:w.content,offset:w.offset,"show-after":w.showAfter,"hide-after":w.hideAfter,"auto-close":w.autoClose,"show-arrow":w.showArrow,"aria-label":w.title,effect:w.effect,enterable:w.enterable,"popper-class":d(c),"popper-style":d(u),teleported:w.teleported,persistent:w.persistent,"gpu-acceleration":d(h),"onUpdate:visible":d(r),onBeforeShow:v,onBeforeHide:g,onShow:y,onHide:_}),{content:ne(()=>[w.title?(I(),K("div",{key:0,class:z(d(a).e("title")),role:"title"},Ne(w.title),3)):he("v-if",!0),oe(w.$slots,"default",{},()=>[mt(Ne(w.content),1)])]),default:ne(()=>[w.$slots.reference?oe(w.$slots,"reference",{key:0}):he("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var WZ=We(GZ,[["__file","popover.vue"]]);const V1=(t,e)=>{const n=e.arg||e.value,i=n==null?void 0:n.popperRef;i&&(i.triggerRef=t)};var KZ={mounted(t,e){V1(t,e)},updated(t,e){V1(t,e)}};const qZ="popover",JM=qV(KZ,qZ),YZ=Dt(WZ,{directive:JM}),jZ=Ge({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:_e(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:_e([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:_e(Function),default:t=>`${t}%`}}),XZ=re({name:"ElProgress"}),ZZ=re({...XZ,props:jZ,setup(t){const e=t,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},i=Fe("progress"),r=L(()=>{const C={width:`${e.percentage}%`,animationDuration:`${e.duration}s`},x=M(e.percentage);return x.includes("gradient")?C.background=x:C.backgroundColor=x,C}),a=L(()=>(e.strokeWidth/e.width*100).toFixed(1)),s=L(()=>["circle","dashboard"].includes(e.type)?Number.parseInt(`${50-Number.parseFloat(a.value)/2}`,10):0),o=L(()=>{const C=s.value,x=e.type==="dashboard";return`
          M 50 50
          m 0 ${x?"":"-"}${C}
          a ${C} ${C} 0 1 1 0 ${x?"-":""}${C*2}
          a ${C} ${C} 0 1 1 0 ${x?"":"-"}${C*2}
          `}),u=L(()=>2*Math.PI*s.value),c=L(()=>e.type==="dashboard"?.75:1),h=L(()=>`${-1*u.value*(1-c.value)/2}px`),p=L(()=>({strokeDasharray:`${u.value*c.value}px, ${u.value}px`,strokeDashoffset:h.value})),v=L(()=>({strokeDasharray:`${u.value*c.value*(e.percentage/100)}px, ${u.value}px`,strokeDashoffset:h.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),g=L(()=>{let C;return e.color?C=M(e.percentage):C=n[e.status]||n.default,C}),y=L(()=>e.status==="warning"?Hh:e.type==="line"?e.status==="success"?Jg:_o:e.status==="success"?hd:Ra),_=L(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),w=L(()=>e.format(e.percentage));function b(C){const x=100/C.length;return C.map((k,R)=>Gt(k)?{color:k,percentage:(R+1)*x}:k).sort((k,R)=>k.percentage-R.percentage)}const M=C=>{var x;const{color:T}=e;if(un(T))return T(C);if(Gt(T))return T;{const k=b(T);for(const R of k)if(R.percentage>C)return R.color;return(x=k[k.length-1])==null?void 0:x.color}};return(C,x)=>(I(),K("div",{class:z([d(i).b(),d(i).m(C.type),d(i).is(C.status),{[d(i).m("without-text")]:!C.showText,[d(i).m("text-inside")]:C.textInside}]),role:"progressbar","aria-valuenow":C.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[C.type==="line"?(I(),K("div",{key:0,class:z(d(i).b("bar"))},[Z("div",{class:z(d(i).be("bar","outer")),style:_t({height:`${C.strokeWidth}px`})},[Z("div",{class:z([d(i).be("bar","inner"),{[d(i).bem("bar","inner","indeterminate")]:C.indeterminate},{[d(i).bem("bar","inner","striped")]:C.striped},{[d(i).bem("bar","inner","striped-flow")]:C.stripedFlow}]),style:_t(d(r))},[(C.showText||C.$slots.default)&&C.textInside?(I(),K("div",{key:0,class:z(d(i).be("bar","innerText"))},[oe(C.$slots,"default",{percentage:C.percentage},()=>[Z("span",null,Ne(d(w)),1)])],2)):he("v-if",!0)],6)],6)],2)):(I(),K("div",{key:1,class:z(d(i).b("circle")),style:_t({height:`${C.width}px`,width:`${C.width}px`})},[(I(),K("svg",{viewBox:"0 0 100 100"},[Z("path",{class:z(d(i).be("circle","track")),d:d(o),stroke:`var(${d(i).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":C.strokeLinecap,"stroke-width":d(a),fill:"none",style:_t(d(p))},null,14,["d","stroke","stroke-linecap","stroke-width"]),Z("path",{class:z(d(i).be("circle","path")),d:d(o),stroke:d(g),fill:"none",opacity:C.percentage?1:0,"stroke-linecap":C.strokeLinecap,"stroke-width":d(a),style:_t(d(v))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(C.showText||C.$slots.default)&&!C.textInside?(I(),K("div",{key:2,class:z(d(i).e("text")),style:_t({fontSize:`${d(_)}px`})},[oe(C.$slots,"default",{percentage:C.percentage},()=>[C.status?(I(),we(d(dt),{key:1},{default:ne(()=>[(I(),we(Vt(d(y))))]),_:1})):(I(),K("span",{key:0},Ne(d(w)),1))])],6)):he("v-if",!0)],10,["aria-valuenow"]))}});var QZ=We(ZZ,[["__file","progress.vue"]]);const eT=Dt(QZ),JZ=Ge({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:_e([Array,Object]),default:()=>Fn(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:_e([Array,Object]),default:()=>[Vd,Vd,Vd]},voidIcon:{type:wn,default:()=>tD},disabledVoidIcon:{type:wn,default:()=>Vd},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:_e(Array),default:()=>Fn(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:gi,clearable:Boolean,...Ui(["ariaLabel"])}),eQ={[Rn]:t=>kt(t),[Wt]:t=>kt(t)},tQ=re({name:"ElRate"}),nQ=re({...tQ,props:JZ,emits:eQ,setup(t,{expose:e,emit:n}){const i=t;function r(B,X){const q=ee=>bn(ee),O=Object.keys(X).map(ee=>+ee).filter(ee=>{const ce=X[ee];return(q(ce)?ce.excluded:!1)?B<ee:B<=ee}).sort((ee,ce)=>ee-ce),V=X[O[0]];return q(V)&&V.value||V}const a=ct(Cl,void 0),s=ct(ts,void 0),o=fi(),u=Fe("rate"),{inputId:c,isLabeledByFormItem:h}=Ba(i,{formItemContext:s}),p=W(i.modelValue),v=W(-1),g=W(!0),y=L(()=>[u.b(),u.m(o.value)]),_=L(()=>i.disabled||(a==null?void 0:a.disabled)),w=L(()=>u.cssVarBlock({"void-color":i.voidColor,"disabled-void-color":i.disabledVoidColor,"fill-color":x.value})),b=L(()=>{let B="";return i.showScore?B=i.scoreTemplate.replace(/\{\s*value\s*\}/,_.value?`${i.modelValue}`:`${p.value}`):i.showText&&(B=i.texts[Math.ceil(p.value)-1]),B}),M=L(()=>i.modelValue*100-Math.floor(i.modelValue)*100),C=L(()=>Nt(i.colors)?{[i.lowThreshold]:i.colors[0],[i.highThreshold]:{value:i.colors[1],excluded:!0},[i.max]:i.colors[2]}:i.colors),x=L(()=>{const B=r(p.value,C.value);return bn(B)?"":B}),T=L(()=>{let B="";return _.value?B=`${M.value}%`:i.allowHalf&&(B="50%"),{color:x.value,width:B}}),k=L(()=>{let B=Nt(i.icons)?[...i.icons]:{...i.icons};return B=Qo(B),Nt(B)?{[i.lowThreshold]:B[0],[i.highThreshold]:{value:B[1],excluded:!0},[i.max]:B[2]}:B}),R=L(()=>r(i.modelValue,k.value)),D=L(()=>_.value?Gt(i.disabledVoidIcon)?i.disabledVoidIcon:Qo(i.disabledVoidIcon):Gt(i.voidIcon)?i.voidIcon:Qo(i.voidIcon)),U=L(()=>r(p.value,k.value));function P(B){const X=_.value&&M.value>0&&B-1<i.modelValue&&B>i.modelValue,q=i.allowHalf&&g.value&&B-.5<=p.value&&B>p.value;return X||q}function N(B){i.clearable&&B===i.modelValue&&(B=0),n(Wt,B),i.modelValue!==B&&n("change",B)}function $(B){_.value||(i.allowHalf&&g.value?N(p.value):N(B))}function Q(B){if(_.value)return;let X=p.value;const q=B.code;return q===St.up||q===St.right?(i.allowHalf?X+=.5:X+=1,B.stopPropagation(),B.preventDefault()):(q===St.left||q===St.down)&&(i.allowHalf?X-=.5:X-=1,B.stopPropagation(),B.preventDefault()),X=X<0?0:X,X=X>i.max?i.max:X,n(Wt,X),n("change",X),X}function Y(B,X){if(!_.value){if(i.allowHalf&&X){let q=X.target;xr(q,u.e("item"))&&(q=q.querySelector(`.${u.e("icon")}`)),(q.clientWidth===0||xr(q,u.e("decimal")))&&(q=q.parentNode),g.value=X.offsetX*2<=q.clientWidth,p.value=g.value?B-.5:B}else p.value=B;v.value=B}}function H(){_.value||(i.allowHalf&&(g.value=i.modelValue!==Math.floor(i.modelValue)),p.value=i.modelValue,v.value=-1)}return Le(()=>i.modelValue,B=>{p.value=B,g.value=i.modelValue!==Math.floor(i.modelValue)}),i.modelValue||n(Wt,0),e({setCurrentValue:Y,resetCurrentValue:H}),(B,X)=>{var q;return I(),K("div",{id:d(c),class:z([d(y),d(u).is("disabled",d(_))]),role:"slider","aria-label":d(h)?void 0:B.ariaLabel||"rating","aria-labelledby":d(h)?(q=d(s))==null?void 0:q.labelId:void 0,"aria-valuenow":p.value,"aria-valuetext":d(b)||void 0,"aria-valuemin":"0","aria-valuemax":B.max,tabindex:"0",style:_t(d(w)),onKeydown:Q},[(I(!0),K(ut,null,Ut(B.max,(O,V)=>(I(),K("span",{key:V,class:z(d(u).e("item")),onMousemove:ee=>Y(O,ee),onMouseleave:H,onClick:ee=>$(O)},[J(d(dt),{class:z([d(u).e("icon"),{hover:v.value===O},d(u).is("active",O<=p.value)])},{default:ne(()=>[P(O)?he("v-if",!0):(I(),K(ut,{key:0},[Bt((I(),we(Vt(d(U)),null,null,512)),[[sn,O<=p.value]]),Bt((I(),we(Vt(d(D)),null,null,512)),[[sn,!(O<=p.value)]])],64)),P(O)?(I(),K(ut,{key:1},[(I(),we(Vt(d(D)),{class:z([d(u).em("decimal","box")])},null,8,["class"])),J(d(dt),{style:_t(d(T)),class:z([d(u).e("icon"),d(u).e("decimal")])},{default:ne(()=>[(I(),we(Vt(d(R))))]),_:1},8,["style","class"])],64)):he("v-if",!0)]),_:2},1032,["class"])],42,["onMousemove","onClick"]))),128)),B.showText||B.showScore?(I(),K("span",{key:0,class:z(d(u).e("text")),style:_t({color:B.textColor})},Ne(d(b)),7)):he("v-if",!0)],46,["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"])}}});var iQ=We(nQ,[["__file","rate.vue"]]);const rQ=Dt(iQ),au={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},z1={[au.success]:oO,[au.warning]:Hh,[au.error]:e0,[au.info]:t0},aQ=Ge({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),sQ=re({name:"ElResult"}),oQ=re({...sQ,props:aQ,setup(t){const e=t,n=Fe("result"),i=L(()=>{const r=e.icon,a=r&&au[r]?au[r]:"icon-info",s=z1[a]||z1["icon-info"];return{class:a,component:s}});return(r,a)=>(I(),K("div",{class:z(d(n).b())},[Z("div",{class:z(d(n).e("icon"))},[oe(r.$slots,"icon",{},()=>[d(i).component?(I(),we(Vt(d(i).component),{key:0,class:z(d(i).class)},null,8,["class"])):he("v-if",!0)])],2),r.title||r.$slots.title?(I(),K("div",{key:0,class:z(d(n).e("title"))},[oe(r.$slots,"title",{},()=>[Z("p",null,Ne(r.title),1)])],2)):he("v-if",!0),r.subTitle||r.$slots["sub-title"]?(I(),K("div",{key:1,class:z(d(n).e("subtitle"))},[oe(r.$slots,"sub-title",{},()=>[Z("p",null,Ne(r.subTitle),1)])],2)):he("v-if",!0),r.$slots.extra?(I(),K("div",{key:2,class:z(d(n).e("extra"))},[oe(r.$slots,"extra")],2)):he("v-if",!0)],2))}});var lQ=We(oQ,[["__file","result.vue"]]);const uQ=Dt(lQ);var $1=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function cQ(t,e){return!!(t===e||$1(t)&&$1(e))}function dQ(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!cQ(t[n],e[n]))return!1;return!0}function fQ(t,e){e===void 0&&(e=dQ);var n=null;function i(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];if(n&&n.lastThis===this&&e(r,n.lastArgs))return n.lastResult;var s=t.apply(this,r);return n={lastResult:s,lastArgs:r,lastThis:this},s}return i.clear=function(){n=null},i}const tT=()=>{const e=qt().proxy.$props;return L(()=>{const n=(i,r,a)=>({});return e.perfMode?Yh(n):fQ(n)})},Qv=50,vh="itemRendered",gh="scroll",su="forward",yh="backward",ra="auto",dp="smart",nd="start",qa="center",id="end",Nu="horizontal",_y="vertical",hQ="ltr",pu="rtl",rd="negative",by="positive-ascending",wy="positive-descending",pQ={[Nu]:"left",[_y]:"top"},mQ=20,vQ={[Nu]:"deltaX",[_y]:"deltaY"},gQ=({atEndEdge:t,atStartEdge:e,layout:n},i)=>{let r,a=0;const s=u=>u<0&&e.value||u>0&&t.value;return{hasReachedEdge:s,onWheel:u=>{dl(r);const c=u[vQ[n.value]];s(a)&&s(a+c)||(a+=c,r0()||u.preventDefault(),r=uo(()=>{i(a),a=0}))}}},Jv=Da({type:_e([Number,Function]),required:!0}),eg=Da({type:Number}),tg=Da({type:Number,default:2}),yQ=Da({type:String,values:["ltr","rtl"],default:"ltr"}),ng=Da({type:Number,default:0}),_h=Da({type:Number,required:!0}),nT=Da({type:String,values:["horizontal","vertical"],default:_y}),iT=Ge({className:{type:String,default:""},containerElement:{type:_e([String,Object]),default:"div"},data:{type:_e(Array),default:()=>Fn([])},direction:yQ,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:_e([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),rT=Ge({cache:tg,estimatedItemSize:eg,layout:nT,initScrollOffset:ng,total:_h,itemSize:Jv,...iT}),ig={type:Number,default:6},aT={type:Number,default:0},sT={type:Number,default:2},nl=Ge({columnCache:tg,columnWidth:Jv,estimatedColumnWidth:eg,estimatedRowHeight:eg,initScrollLeft:ng,initScrollTop:ng,itemKey:{type:_e(Function),default:({columnIndex:t,rowIndex:e})=>`${e}:${t}`},rowCache:tg,rowHeight:Jv,totalColumn:_h,totalRow:_h,hScrollbarSize:ig,vScrollbarSize:ig,scrollbarStartGap:aT,scrollbarEndGap:sT,role:String,...iT}),oT=Ge({alwaysOn:Boolean,class:String,layout:nT,total:_h,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:ig,startGap:aT,endGap:sT,visible:Boolean}),qo=(t,e)=>t<e?su:yh,ad=t=>t===hQ||t===pu||t===Nu,H1=t=>t===pu;let Nl=null;function bh(t=!1){if(Nl===null||t){const e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const i=document.createElement("div"),r=i.style;return r.width="100px",r.height="100px",e.appendChild(i),document.body.appendChild(e),e.scrollLeft>0?Nl=wy:(e.scrollLeft=1,e.scrollLeft===0?Nl=rd:Nl=by),document.body.removeChild(e),Nl}return Nl}function _Q({move:t,size:e,bar:n},i){const r={},a=`translate${n.axis}(${t}px)`;return r[n.size]=e,r.transform=a,r.msTransform=a,r.webkitTransform=a,i==="horizontal"?r.height="100%":r.width="100%",r}const rg=re({name:"ElVirtualScrollBar",props:oT,emits:["scroll","start-move","stop-move"],setup(t,{emit:e}){const n=L(()=>t.startGap+t.endGap),i=Fe("virtual-scrollbar"),r=Fe("scrollbar"),a=W(),s=W();let o=null,u=null;const c=jt({isDragging:!1,traveled:0}),h=L(()=>ux[t.layout]),p=L(()=>t.clientSize-d(n)),v=L(()=>({position:"absolute",width:`${Nu===t.layout?p.value:t.scrollbarSize}px`,height:`${Nu===t.layout?t.scrollbarSize:p.value}px`,[pQ[t.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),g=L(()=>{const k=t.ratio,R=t.clientSize;if(k>=100)return Number.POSITIVE_INFINITY;if(k>=50)return k*R/100;const D=R/3;return Math.floor(Math.min(Math.max(k*R,mQ),D))}),y=L(()=>{if(!Number.isFinite(g.value))return{display:"none"};const k=`${g.value}px`;return _Q({bar:h.value,size:k,move:c.traveled},t.layout)}),_=L(()=>Math.floor(t.clientSize-g.value-d(n))),w=()=>{window.addEventListener("mousemove",x),window.addEventListener("mouseup",C);const k=d(s);k&&(u=document.onselectstart,document.onselectstart=()=>!1,k.addEventListener("touchmove",x,{passive:!0}),k.addEventListener("touchend",C))},b=()=>{window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",C),document.onselectstart=u,u=null;const k=d(s);k&&(k.removeEventListener("touchmove",x),k.removeEventListener("touchend",C))},M=k=>{k.stopImmediatePropagation(),!(k.ctrlKey||[1,2].includes(k.button))&&(c.isDragging=!0,c[h.value.axis]=k.currentTarget[h.value.offset]-(k[h.value.client]-k.currentTarget.getBoundingClientRect()[h.value.direction]),e("start-move"),w())},C=()=>{c.isDragging=!1,c[h.value.axis]=0,e("stop-move"),b()},x=k=>{const{isDragging:R}=c;if(!R||!s.value||!a.value)return;const D=c[h.value.axis];if(!D)return;dl(o);const U=(a.value.getBoundingClientRect()[h.value.direction]-k[h.value.client])*-1,P=s.value[h.value.offset]-D,N=U-P;o=uo(()=>{c.traveled=Math.max(t.startGap,Math.min(N,_.value)),e("scroll",N,_.value)})},T=k=>{const R=Math.abs(k.target.getBoundingClientRect()[h.value.direction]-k[h.value.client]),D=s.value[h.value.offset]/2,U=R-D;c.traveled=Math.max(0,Math.min(U,_.value)),e("scroll",U,_.value)};return Le(()=>t.scrollFrom,k=>{c.isDragging||(c.traveled=Math.ceil(k*_.value))}),xn(()=>{b()}),()=>Ct("div",{role:"presentation",ref:a,class:[i.b(),t.class,(t.alwaysOn||c.isDragging)&&"always-on"],style:v.value,onMousedown:xt(T,["stop","prevent"]),onTouchstartPrevent:M},Ct("div",{ref:s,class:r.e("thumb"),style:y.value,onMousedown:M},[]))}}),lT=({name:t,getOffset:e,getItemSize:n,getItemOffset:i,getEstimatedTotalSize:r,getStartIndexForOffset:a,getStopIndexForStartIndex:s,initCache:o,clearCache:u,validateProps:c})=>re({name:t??"ElVirtualList",props:rT,emits:[vh,gh],setup(h,{emit:p,expose:v}){c(h);const g=qt(),y=Fe("vl"),_=W(o(h,g)),w=tT(),b=W(),M=W(),C=W(),x=W({isScrolling:!1,scrollDir:"forward",scrollOffset:kt(h.initScrollOffset)?h.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:h.scrollbarAlwaysOn}),T=L(()=>{const{total:se,cache:le}=h,{isScrolling:ye,scrollDir:Ce,scrollOffset:pe}=d(x);if(se===0)return[0,0,0,0];const ue=a(h,pe,d(_)),Me=s(h,ue,pe,d(_)),De=!ye||Ce===yh?Math.max(1,le):1,xe=!ye||Ce===su?Math.max(1,le):1;return[Math.max(0,ue-De),Math.max(0,Math.min(se-1,Me+xe)),ue,Me]}),k=L(()=>r(h,d(_))),R=L(()=>ad(h.layout)),D=L(()=>[{position:"relative",[`overflow-${R.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:h.direction,height:kt(h.height)?`${h.height}px`:h.height,width:kt(h.width)?`${h.width}px`:h.width},h.style]),U=L(()=>{const se=d(k),le=d(R);return{height:le?"100%":`${se}px`,pointerEvents:d(x).isScrolling?"none":void 0,width:le?`${se}px`:"100%"}}),P=L(()=>R.value?h.width:h.height),{onWheel:N}=gQ({atStartEdge:L(()=>x.value.scrollOffset<=0),atEndEdge:L(()=>x.value.scrollOffset>=k.value),layout:L(()=>h.layout)},se=>{var le,ye;(ye=(le=C.value).onMouseUp)==null||ye.call(le),X(Math.min(x.value.scrollOffset+se,k.value-P.value))});yn(b,"wheel",N,{passive:!1});const $=()=>{const{total:se}=h;if(se>0){const[pe,ue,Me,De]=d(T);p(vh,pe,ue,Me,De)}const{scrollDir:le,scrollOffset:ye,updateRequested:Ce}=d(x);p(gh,le,ye,Ce)},Q=se=>{const{clientHeight:le,scrollHeight:ye,scrollTop:Ce}=se.currentTarget,pe=d(x);if(pe.scrollOffset===Ce)return;const ue=Math.max(0,Math.min(Ce,ye-le));x.value={...pe,isScrolling:!0,scrollDir:qo(pe.scrollOffset,ue),scrollOffset:ue,updateRequested:!1},yt(V)},Y=se=>{const{clientWidth:le,scrollLeft:ye,scrollWidth:Ce}=se.currentTarget,pe=d(x);if(pe.scrollOffset===ye)return;const{direction:ue}=h;let Me=ye;if(ue===pu)switch(bh()){case rd:{Me=-ye;break}case wy:{Me=Ce-le-ye;break}}Me=Math.max(0,Math.min(Me,Ce-le)),x.value={...pe,isScrolling:!0,scrollDir:qo(pe.scrollOffset,Me),scrollOffset:Me,updateRequested:!1},yt(V)},H=se=>{d(R)?Y(se):Q(se),$()},B=(se,le)=>{const ye=(k.value-P.value)/le*se;X(Math.min(k.value-P.value,ye))},X=se=>{se=Math.max(se,0),se!==d(x).scrollOffset&&(x.value={...d(x),scrollOffset:se,scrollDir:qo(d(x).scrollOffset,se),updateRequested:!0},yt(V))},q=(se,le=ra)=>{const{scrollOffset:ye}=d(x);se=Math.max(0,Math.min(se,h.total-1)),X(e(h,se,le,ye,d(_)))},O=se=>{const{direction:le,itemSize:ye,layout:Ce}=h,pe=w.value(u&&ye,u&&Ce,u&&le);let ue;if(Gi(pe,String(se)))ue=pe[se];else{const Me=i(h,se,d(_)),De=n(h,se,d(_)),xe=d(R),G=le===pu,He=xe?Me:0;pe[se]=ue={position:"absolute",left:G?void 0:`${He}px`,right:G?`${He}px`:void 0,top:xe?0:`${Me}px`,height:xe?"100%":`${De}px`,width:xe?`${De}px`:"100%"}}return ue},V=()=>{x.value.isScrolling=!1,yt(()=>{w.value(-1,null,null)})},ee=()=>{const se=b.value;se&&(se.scrollTop=0)};wt(()=>{if(!tn)return;const{initScrollOffset:se}=h,le=d(b);kt(se)&&le&&(d(R)?le.scrollLeft=se:le.scrollTop=se),$()}),yo(()=>{const{direction:se,layout:le}=h,{scrollOffset:ye,updateRequested:Ce}=d(x),pe=d(b);if(Ce&&pe)if(le===Nu)if(se===pu)switch(bh()){case rd:{pe.scrollLeft=-ye;break}case by:{pe.scrollLeft=ye;break}default:{const{clientWidth:ue,scrollWidth:Me}=pe;pe.scrollLeft=Me-ue-ye;break}}else pe.scrollLeft=ye;else pe.scrollTop=ye}),BC(()=>{d(b).scrollTop=d(x).scrollOffset});const ce={ns:y,clientSize:P,estimatedTotalSize:k,windowStyle:D,windowRef:b,innerRef:M,innerStyle:U,itemsToRender:T,scrollbarRef:C,states:x,getItemStyle:O,onScroll:H,onScrollbarScroll:B,onWheel:N,scrollTo:X,scrollToItem:q,resetScrollTop:ee};return v({windowRef:b,innerRef:M,getItemStyleCache:w,scrollTo:X,scrollToItem:q,resetScrollTop:ee,states:x}),ce},render(h){var p;const{$slots:v,className:g,clientSize:y,containerElement:_,data:w,getItemStyle:b,innerElement:M,itemsToRender:C,innerStyle:x,layout:T,total:k,onScroll:R,onScrollbarScroll:D,states:U,useIsScrolling:P,windowStyle:N,ns:$}=h,[Q,Y]=C,H=Vt(_),B=Vt(M),X=[];if(k>0)for(let ee=Q;ee<=Y;ee++)X.push(Ct(ut,{key:ee},(p=v.default)==null?void 0:p.call(v,{data:w,index:ee,isScrolling:P?U.isScrolling:void 0,style:b(ee)})));const q=[Ct(B,{style:x,ref:"innerRef"},Gt(B)?X:{default:()=>X})],O=Ct(rg,{ref:"scrollbarRef",clientSize:y,layout:T,onScroll:D,ratio:y*100/this.estimatedTotalSize,scrollFrom:U.scrollOffset/(this.estimatedTotalSize-y),total:k}),V=Ct(H,{class:[$.e("window"),g],style:N,onScroll:R,ref:"windowRef",key:0},Gt(H)?[q]:{default:()=>[q]});return Ct("div",{key:0,class:[$.e("wrapper"),U.scrollbarAlwaysOn?"always-on":""]},[V,O])}}),uT=lT({name:"ElFixedSizeList",getItemOffset:({itemSize:t},e)=>e*t,getItemSize:({itemSize:t})=>t,getEstimatedTotalSize:({total:t,itemSize:e})=>e*t,getOffset:({height:t,total:e,itemSize:n,layout:i,width:r},a,s,o)=>{const u=ad(i)?r:t,c=Math.max(0,e*n-u),h=Math.min(c,a*n),p=Math.max(0,(a+1)*n-u);switch(s===dp&&(o>=p-u&&o<=h+u?s=ra:s=qa),s){case nd:return h;case id:return p;case qa:{const v=Math.round(p+(h-p)/2);return v<Math.ceil(u/2)?0:v>c+Math.floor(u/2)?c:v}case ra:default:return o>=p&&o<=h?o:o<p?p:h}},getStartIndexForOffset:({total:t,itemSize:e},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getStopIndexForStartIndex:({height:t,total:e,itemSize:n,layout:i,width:r},a,s)=>{const o=a*n,u=ad(i)?r:t,c=Math.ceil((u+s-o)/n);return Math.max(0,Math.min(e-1,a+c-1))},initCache(){},clearCache:!0,validateProps(){}}),ou=(t,e,n)=>{const{itemSize:i}=t,{items:r,lastVisitedIndex:a}=n;if(e>a){let s=0;if(a>=0){const o=r[a];s=o.offset+o.size}for(let o=a+1;o<=e;o++){const u=i(o);r[o]={offset:s,size:u},s+=u}n.lastVisitedIndex=e}return r[e]},bQ=(t,e,n)=>{const{items:i,lastVisitedIndex:r}=e;return(r>0?i[r].offset:0)>=n?cT(t,e,0,r,n):wQ(t,e,Math.max(0,r),n)},cT=(t,e,n,i,r)=>{for(;n<=i;){const a=n+Math.floor((i-n)/2),s=ou(t,a,e).offset;if(s===r)return a;s<r?n=a+1:s>r&&(i=a-1)}return Math.max(0,n-1)},wQ=(t,e,n,i)=>{const{total:r}=t;let a=1;for(;n<r&&ou(t,n,e).offset<i;)n+=a,a*=2;return cT(t,e,Math.floor(n/2),Math.min(n,r-1),i)},G1=({total:t},{items:e,estimatedItemSize:n,lastVisitedIndex:i})=>{let r=0;if(i>=t&&(i=t-1),i>=0){const o=e[i];r=o.offset+o.size}const s=(t-i-1)*n;return r+s},SQ=lT({name:"ElDynamicSizeList",getItemOffset:(t,e,n)=>ou(t,e,n).offset,getItemSize:(t,e,{items:n})=>n[e].size,getEstimatedTotalSize:G1,getOffset:(t,e,n,i,r)=>{const{height:a,layout:s,width:o}=t,u=ad(s)?o:a,c=ou(t,e,r),h=G1(t,r),p=Math.max(0,Math.min(h-u,c.offset)),v=Math.max(0,c.offset-u+c.size);switch(n===dp&&(i>=v-u&&i<=p+u?n=ra:n=qa),n){case nd:return p;case id:return v;case qa:return Math.round(v+(p-v)/2);case ra:default:return i>=v&&i<=p?i:i<v?v:p}},getStartIndexForOffset:(t,e,n)=>bQ(t,n,e),getStopIndexForStartIndex:(t,e,n,i)=>{const{height:r,total:a,layout:s,width:o}=t,u=ad(s)?o:r,c=ou(t,e,i),h=n+u;let p=c.offset+c.size,v=e;for(;v<a-1&&p<h;)v++,p+=ou(t,v,i).size;return v},initCache({estimatedItemSize:t=Qv},e){const n={items:{},estimatedItemSize:t,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(i,r=!0)=>{var a,s;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,i-1),(a=e.exposed)==null||a.getItemStyleCache(-1),r&&((s=e.proxy)==null||s.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:t})=>{}}),CQ=({atXEndEdge:t,atXStartEdge:e,atYEndEdge:n,atYStartEdge:i},r)=>{let a=null,s=0,o=0;const u=(h,p)=>{const v=h<=0&&e.value||h>=0&&t.value,g=p<=0&&i.value||p>=0&&n.value;return v&&g};return{hasReachedEdge:u,onWheel:h=>{dl(a);let p=h.deltaX,v=h.deltaY;Math.abs(p)>Math.abs(v)?v=0:p=0,h.shiftKey&&v!==0&&(p=v,v=0),!(u(s,o)&&u(s+p,o+v))&&(s+=p,o+=v,h.preventDefault(),a=uo(()=>{r(s,o),s=0,o=0}))}}},dT=({name:t,clearCache:e,getColumnPosition:n,getColumnStartIndexForOffset:i,getColumnStopIndexForStartIndex:r,getEstimatedTotalHeight:a,getEstimatedTotalWidth:s,getColumnOffset:o,getRowOffset:u,getRowPosition:c,getRowStartIndexForOffset:h,getRowStopIndexForStartIndex:p,initCache:v,injectToInstance:g,validateProps:y})=>re({name:t??"ElVirtualList",props:nl,emits:[vh,gh],setup(_,{emit:w,expose:b,slots:M}){const C=Fe("vl");y(_);const x=qt(),T=W(v(_,x));g==null||g(x,T);const k=W(),R=W(),D=W(),U=W(null),P=W({isScrolling:!1,scrollLeft:kt(_.initScrollLeft)?_.initScrollLeft:0,scrollTop:kt(_.initScrollTop)?_.initScrollTop:0,updateRequested:!1,xAxisScrollDir:su,yAxisScrollDir:su}),N=tT(),$=L(()=>Number.parseInt(`${_.height}`,10)),Q=L(()=>Number.parseInt(`${_.width}`,10)),Y=L(()=>{const{totalColumn:it,totalRow:qe,columnCache:te}=_,{isScrolling:ae,xAxisScrollDir:ke,scrollLeft:Be}=d(P);if(it===0||qe===0)return[0,0,0,0];const Ve=i(_,Be,d(T)),Ae=r(_,Ve,Be,d(T)),Pe=!ae||ke===yh?Math.max(1,te):1,Xe=!ae||ke===su?Math.max(1,te):1;return[Math.max(0,Ve-Pe),Math.max(0,Math.min(it-1,Ae+Xe)),Ve,Ae]}),H=L(()=>{const{totalColumn:it,totalRow:qe,rowCache:te}=_,{isScrolling:ae,yAxisScrollDir:ke,scrollTop:Be}=d(P);if(it===0||qe===0)return[0,0,0,0];const Ve=h(_,Be,d(T)),Ae=p(_,Ve,Be,d(T)),Pe=!ae||ke===yh?Math.max(1,te):1,Xe=!ae||ke===su?Math.max(1,te):1;return[Math.max(0,Ve-Pe),Math.max(0,Math.min(qe-1,Ae+Xe)),Ve,Ae]}),B=L(()=>a(_,d(T))),X=L(()=>s(_,d(T))),q=L(()=>{var it;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:_.direction,height:kt(_.height)?`${_.height}px`:_.height,width:kt(_.width)?`${_.width}px`:_.width},(it=_.style)!=null?it:{}]}),O=L(()=>{const it=`${d(X)}px`;return{height:`${d(B)}px`,pointerEvents:d(P).isScrolling?"none":void 0,width:it}}),V=()=>{const{totalColumn:it,totalRow:qe}=_;if(it>0&&qe>0){const[Ae,Pe,Xe,vt]=d(Y),[nt,Rt,Ye,Et]=d(H);w(vh,{columnCacheStart:Ae,columnCacheEnd:Pe,rowCacheStart:nt,rowCacheEnd:Rt,columnVisibleStart:Xe,columnVisibleEnd:vt,rowVisibleStart:Ye,rowVisibleEnd:Et})}const{scrollLeft:te,scrollTop:ae,updateRequested:ke,xAxisScrollDir:Be,yAxisScrollDir:Ve}=d(P);w(gh,{xAxisScrollDir:Be,scrollLeft:te,yAxisScrollDir:Ve,scrollTop:ae,updateRequested:ke})},ee=it=>{const{clientHeight:qe,clientWidth:te,scrollHeight:ae,scrollLeft:ke,scrollTop:Be,scrollWidth:Ve}=it.currentTarget,Ae=d(P);if(Ae.scrollTop===Be&&Ae.scrollLeft===ke)return;let Pe=ke;if(H1(_.direction))switch(bh()){case rd:Pe=-ke;break;case wy:Pe=Ve-te-ke;break}P.value={...Ae,isScrolling:!0,scrollLeft:Pe,scrollTop:Math.max(0,Math.min(Be,ae-qe)),updateRequested:!0,xAxisScrollDir:qo(Ae.scrollLeft,Pe),yAxisScrollDir:qo(Ae.scrollTop,Be)},yt(()=>ue()),Me(),V()},ce=(it,qe)=>{const te=d($),ae=(B.value-te)/qe*it;ye({scrollTop:Math.min(B.value-te,ae)})},se=(it,qe)=>{const te=d(Q),ae=(X.value-te)/qe*it;ye({scrollLeft:Math.min(X.value-te,ae)})},{onWheel:le}=CQ({atXStartEdge:L(()=>P.value.scrollLeft<=0),atXEndEdge:L(()=>P.value.scrollLeft>=X.value-d(Q)),atYStartEdge:L(()=>P.value.scrollTop<=0),atYEndEdge:L(()=>P.value.scrollTop>=B.value-d($))},(it,qe)=>{var te,ae,ke,Be;(ae=(te=R.value)==null?void 0:te.onMouseUp)==null||ae.call(te),(Be=(ke=D.value)==null?void 0:ke.onMouseUp)==null||Be.call(ke);const Ve=d(Q),Ae=d($);ye({scrollLeft:Math.min(P.value.scrollLeft+it,X.value-Ve),scrollTop:Math.min(P.value.scrollTop+qe,B.value-Ae)})});yn(k,"wheel",le,{passive:!1});const ye=({scrollLeft:it=P.value.scrollLeft,scrollTop:qe=P.value.scrollTop})=>{it=Math.max(it,0),qe=Math.max(qe,0);const te=d(P);qe===te.scrollTop&&it===te.scrollLeft||(P.value={...te,xAxisScrollDir:qo(te.scrollLeft,it),yAxisScrollDir:qo(te.scrollTop,qe),scrollLeft:it,scrollTop:qe,updateRequested:!0},yt(()=>ue()),Me(),V())},Ce=(it=0,qe=0,te=ra)=>{const ae=d(P);qe=Math.max(0,Math.min(qe,_.totalColumn-1)),it=Math.max(0,Math.min(it,_.totalRow-1));const ke=w2(C.namespace.value),Be=d(T),Ve=a(_,Be),Ae=s(_,Be);ye({scrollLeft:o(_,qe,te,ae.scrollLeft,Be,Ae>_.width?ke:0),scrollTop:u(_,it,te,ae.scrollTop,Be,Ve>_.height?ke:0)})},pe=(it,qe)=>{const{columnWidth:te,direction:ae,rowHeight:ke}=_,Be=N.value(e&&te,e&&ke,e&&ae),Ve=`${it},${qe}`;if(Gi(Be,Ve))return Be[Ve];{const[,Ae]=n(_,qe,d(T)),Pe=d(T),Xe=H1(ae),[vt,nt]=c(_,it,Pe),[Rt]=n(_,qe,Pe);return Be[Ve]={position:"absolute",left:Xe?void 0:`${Ae}px`,right:Xe?`${Ae}px`:void 0,top:`${nt}px`,height:`${vt}px`,width:`${Rt}px`},Be[Ve]}},ue=()=>{P.value.isScrolling=!1,yt(()=>{N.value(-1,null,null)})};wt(()=>{if(!tn)return;const{initScrollLeft:it,initScrollTop:qe}=_,te=d(k);te&&(kt(it)&&(te.scrollLeft=it),kt(qe)&&(te.scrollTop=qe)),V()});const Me=()=>{const{direction:it}=_,{scrollLeft:qe,scrollTop:te,updateRequested:ae}=d(P),ke=d(k);if(ae&&ke){if(it===pu)switch(bh()){case rd:{ke.scrollLeft=-qe;break}case by:{ke.scrollLeft=qe;break}default:{const{clientWidth:Be,scrollWidth:Ve}=ke;ke.scrollLeft=Ve-Be-qe;break}}else ke.scrollLeft=Math.max(0,qe);ke.scrollTop=Math.max(0,te)}},{resetAfterColumnIndex:De,resetAfterRowIndex:xe,resetAfter:G}=x.proxy;b({windowRef:k,innerRef:U,getItemStyleCache:N,scrollTo:ye,scrollToItem:Ce,states:P,resetAfterColumnIndex:De,resetAfterRowIndex:xe,resetAfter:G});const He=()=>{const{scrollbarAlwaysOn:it,scrollbarStartGap:qe,scrollbarEndGap:te,totalColumn:ae,totalRow:ke}=_,Be=d(Q),Ve=d($),Ae=d(X),Pe=d(B),{scrollLeft:Xe,scrollTop:vt}=d(P),nt=Ct(rg,{ref:R,alwaysOn:it,startGap:qe,endGap:te,class:C.e("horizontal"),clientSize:Be,layout:"horizontal",onScroll:se,ratio:Be*100/Ae,scrollFrom:Xe/(Ae-Be),total:ke,visible:!0}),Rt=Ct(rg,{ref:D,alwaysOn:it,startGap:qe,endGap:te,class:C.e("vertical"),clientSize:Ve,layout:"vertical",onScroll:ce,ratio:Ve*100/Pe,scrollFrom:vt/(Pe-Ve),total:ae,visible:!0});return{horizontalScrollbar:nt,verticalScrollbar:Rt}},Qe=()=>{var it;const[qe,te]=d(Y),[ae,ke]=d(H),{data:Be,totalColumn:Ve,totalRow:Ae,useIsScrolling:Pe,itemKey:Xe}=_,vt=[];if(Ae>0&&Ve>0)for(let nt=ae;nt<=ke;nt++)for(let Rt=qe;Rt<=te;Rt++){const Ye=Xe({columnIndex:Rt,data:Be,rowIndex:nt});vt.push(Ct(ut,{key:Ye},(it=M.default)==null?void 0:it.call(M,{columnIndex:Rt,data:Be,isScrolling:Pe?d(P).isScrolling:void 0,style:pe(nt,Rt),rowIndex:nt})))}return vt},at=()=>{const it=Vt(_.innerElement),qe=Qe();return[Ct(it,{style:d(O),ref:U},Gt(it)?qe:{default:()=>qe})]};return()=>{const it=Vt(_.containerElement),{horizontalScrollbar:qe,verticalScrollbar:te}=He(),ae=at();return Ct("div",{key:0,class:C.e("wrapper"),role:_.role},[Ct(it,{class:_.className,style:d(q),onScroll:ee,ref:k},Gt(it)?ae:{default:()=>ae}),qe,te])}}}),EQ=dT({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:t},e)=>[t,e*t],getRowPosition:({rowHeight:t},e)=>[t,e*t],getEstimatedTotalHeight:({totalRow:t,rowHeight:e})=>e*t,getEstimatedTotalWidth:({totalColumn:t,columnWidth:e})=>e*t,getColumnOffset:({totalColumn:t,columnWidth:e,width:n},i,r,a,s,o)=>{n=Number(n);const u=Math.max(0,t*e-n),c=Math.min(u,i*e),h=Math.max(0,i*e-n+o+e);switch(r==="smart"&&(a>=h-n&&a<=c+n?r=ra:r=qa),r){case nd:return c;case id:return h;case qa:{const p=Math.round(h+(c-h)/2);return p<Math.ceil(n/2)?0:p>u+Math.floor(n/2)?u:p}case ra:default:return a>=h&&a<=c?a:h>c||a<h?h:c}},getRowOffset:({rowHeight:t,height:e,totalRow:n},i,r,a,s,o)=>{e=Number(e);const u=Math.max(0,n*t-e),c=Math.min(u,i*t),h=Math.max(0,i*t-e+o+t);switch(r===dp&&(a>=h-e&&a<=c+e?r=ra:r=qa),r){case nd:return c;case id:return h;case qa:{const p=Math.round(h+(c-h)/2);return p<Math.ceil(e/2)?0:p>u+Math.floor(e/2)?u:p}case ra:default:return a>=h&&a<=c?a:h>c||a<h?h:c}},getColumnStartIndexForOffset:({columnWidth:t,totalColumn:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getColumnStopIndexForStartIndex:({columnWidth:t,totalColumn:e,width:n},i,r)=>{const a=i*t,s=Math.ceil((n+r-a)/t);return Math.max(0,Math.min(e-1,i+s-1))},getRowStartIndexForOffset:({rowHeight:t,totalRow:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getRowStopIndexForStartIndex:({rowHeight:t,totalRow:e,height:n},i,r)=>{const a=i*t,s=Math.ceil((n+r-a)/t);return Math.max(0,Math.min(e-1,i+s-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:t,rowHeight:e})=>{}}),{max:wh,min:fT,floor:hT}=Math,xQ={column:"columnWidth",row:"rowHeight"},ag={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},_s=(t,e,n,i)=>{const[r,a,s]=[n[i],t[xQ[i]],n[ag[i]]];if(e>s){let o=0;if(s>=0){const u=r[s];o=u.offset+u.size}for(let u=s+1;u<=e;u++){const c=a(u);r[u]={offset:o,size:c},o+=c}n[ag[i]]=e}return r[e]},pT=(t,e,n,i,r,a)=>{for(;n<=i;){const s=n+hT((i-n)/2),o=_s(t,s,e,a).offset;if(o===r)return s;o<r?n=s+1:i=s-1}return wh(0,n-1)},MQ=(t,e,n,i,r)=>{const a=r==="column"?t.totalColumn:t.totalRow;let s=1;for(;n<a&&_s(t,n,e,r).offset<i;)n+=s,s*=2;return pT(t,e,hT(n/2),fT(n,a-1),i,r)},W1=(t,e,n,i)=>{const[r,a]=[e[i],e[ag[i]]];return(a>0?r[a].offset:0)>=n?pT(t,e,0,a,n,i):MQ(t,e,wh(0,a),n,i)},mT=({totalRow:t},{estimatedRowHeight:e,lastVisitedRowIndex:n,row:i})=>{let r=0;if(n>=t&&(n=t-1),n>=0){const o=i[n];r=o.offset+o.size}const s=(t-n-1)*e;return r+s},vT=({totalColumn:t},{column:e,estimatedColumnWidth:n,lastVisitedColumnIndex:i})=>{let r=0;if(i>t&&(i=t-1),i>=0){const o=e[i];r=o.offset+o.size}const s=(t-i-1)*n;return r+s},TQ={column:vT,row:mT},K1=(t,e,n,i,r,a,s)=>{const[o,u]=[a==="row"?t.height:t.width,TQ[a]],c=_s(t,e,r,a),h=u(t,r),p=wh(0,fT(h-o,c.offset)),v=wh(0,c.offset-o+s+c.size);switch(n===dp&&(i>=v-o&&i<=p+o?n=ra:n=qa),n){case nd:return p;case id:return v;case qa:return Math.round(v+(p-v)/2);case ra:default:return i>=v&&i<=p?i:v>p||i<v?v:p}},AQ=dT({name:"ElDynamicSizeGrid",getColumnPosition:(t,e,n)=>{const i=_s(t,e,n,"column");return[i.size,i.offset]},getRowPosition:(t,e,n)=>{const i=_s(t,e,n,"row");return[i.size,i.offset]},getColumnOffset:(t,e,n,i,r,a)=>K1(t,e,n,i,r,"column",a),getRowOffset:(t,e,n,i,r,a)=>K1(t,e,n,i,r,"row",a),getColumnStartIndexForOffset:(t,e,n)=>W1(t,n,e,"column"),getColumnStopIndexForStartIndex:(t,e,n,i)=>{const r=_s(t,e,i,"column"),a=n+t.width;let s=r.offset+r.size,o=e;for(;o<t.totalColumn-1&&s<a;)o++,s+=_s(t,e,i,"column").size;return o},getEstimatedTotalHeight:mT,getEstimatedTotalWidth:vT,getRowStartIndexForOffset:(t,e,n)=>W1(t,n,e,"row"),getRowStopIndexForStartIndex:(t,e,n,i)=>{const{totalRow:r,height:a}=t,s=_s(t,e,i,"row"),o=n+a;let u=s.size+s.offset,c=e;for(;c<r-1&&u<o;)c++,u+=_s(t,c,i,"row").size;return c},injectToInstance:(t,e)=>{const n=({columnIndex:a,rowIndex:s},o)=>{var u,c;o=zn(o)?!0:o,kt(a)&&(e.value.lastVisitedColumnIndex=Math.min(e.value.lastVisitedColumnIndex,a-1)),kt(s)&&(e.value.lastVisitedRowIndex=Math.min(e.value.lastVisitedRowIndex,s-1)),(u=t.exposed)==null||u.getItemStyleCache.value(-1,null,null),o&&((c=t.proxy)==null||c.$forceUpdate())},i=(a,s)=>{n({columnIndex:a},s)},r=(a,s)=>{n({rowIndex:a},s)};Object.assign(t.proxy,{resetAfterColumnIndex:i,resetAfterRowIndex:r,resetAfter:n})},initCache:({estimatedColumnWidth:t=Qv,estimatedRowHeight:e=Qv})=>({column:{},estimatedColumnWidth:t,estimatedRowHeight:e,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:t,rowHeight:e})=>{}}),kQ=re({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup(){return{ns:Fe("select")}}});function IQ(t,e,n,i,r,a){return I(),K("div",{class:z(t.ns.be("group","title")),style:_t({...t.style,lineHeight:`${t.height}px`})},Ne(t.item.label),7)}var PQ=We(kQ,[["render",IQ],["__file","group-item.vue"]]);function RQ(t,{emit:e}){return{hoverItem:()=>{t.disabled||e("hover",t.index)},selectOptionClick:()=>{t.disabled||e("select",t.item,t.index)}}}const gT={label:"label",value:"value",disabled:"disabled",options:"options"};function fp(t){const e=L(()=>({...gT,...t.props}));return{aliasProps:e,getLabel:s=>ei(s,e.value.label),getValue:s=>ei(s,e.value.value),getDisabled:s=>ei(s,e.value.disabled),getOptions:s=>ei(s,e.value.options)}}const LQ=Ge({allowCreate:Boolean,autocomplete:{type:_e(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:wn,default:_o},effect:{type:_e(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:_e([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:_e(Array),required:!0},placeholder:{type:String},teleported:Ii.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:_e(Object),default:()=>({})},remote:Boolean,size:gi,props:{type:_e(Object),default:()=>gT},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},placement:{type:_e(String),values:Ls,default:"bottom-start"},fallbackPlacements:{type:_e(Array),default:["bottom-start","top-start","right","left"]},tagType:{...pl.type,default:"info"},tagEffect:{...pl.effect,default:"light"},...Qu,...Ui(["ariaLabel"])}),NQ=Ge({data:Array,disabled:Boolean,hovering:Boolean,item:{type:_e(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),OQ={[Wt]:t=>!0,[Rn]:t=>!0,"remove-tag":t=>!0,"visible-change":t=>!0,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0},DQ={hover:t=>kt(t),select:(t,e)=>!0},Sy=Symbol("ElSelectV2Injection"),FQ=re({props:NQ,emits:DQ,setup(t,{emit:e}){const n=ct(Sy),i=Fe("select"),{hoverItem:r,selectOptionClick:a}=RQ(t,{emit:e}),{getLabel:s}=fp(n.props);return{ns:i,hoverItem:r,selectOptionClick:a,getLabel:s}}});function BQ(t,e,n,i,r,a){return I(),K("li",{"aria-selected":t.selected,style:_t(t.style),class:z([t.ns.be("dropdown","item"),t.ns.is("selected",t.selected),t.ns.is("disabled",t.disabled),t.ns.is("created",t.created),t.ns.is("hovering",t.hovering)]),onMouseenter:t.hoverItem,onClick:xt(t.selectOptionClick,["stop"])},[oe(t.$slots,"default",{item:t.item,index:t.index,disabled:t.disabled},()=>[Z("span",null,Ne(t.getLabel(t.item)),1)])],46,["aria-selected","onMouseenter","onClick"])}var UQ=We(FQ,[["render",BQ],["__file","option-item.vue"]]);const VQ={loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number};var zQ=re({name:"ElSelectDropdown",props:VQ,setup(t,{slots:e,expose:n}){const i=ct(Sy),r=Fe("select"),{getLabel:a,getValue:s,getDisabled:o}=fp(i.props),u=W([]),c=W(),h=L(()=>t.data.length);Le(()=>h.value,()=>{var N,$;($=(N=i.tooltipRef.value).updatePopper)==null||$.call(N)});const p=L(()=>zn(i.props.estimatedOptionHeight)),v=L(()=>p.value?{itemSize:i.props.itemHeight}:{estimatedSize:i.props.estimatedOptionHeight,itemSize:N=>u.value[N]}),g=(N=[],$)=>{const{props:{valueKey:Q}}=i;return bn($)?N&&N.some(Y=>_u(ei(Y,Q))===ei($,Q)):N.includes($)},y=(N,$)=>{if(bn($)){const{valueKey:Q}=i.props;return ei(N,Q)===ei($,Q)}else return N===$},_=(N,$)=>i.props.multiple?g(N,s($)):y(N,s($)),w=(N,$)=>{const{disabled:Q,multiple:Y,multipleLimit:H}=i.props;return Q||!$&&(Y?H>0&&N.length>=H:!1)},b=N=>t.hoveringIndex===N;n({listRef:c,isSized:p,isItemDisabled:w,isItemHovering:b,isItemSelected:_,scrollToItem:N=>{const $=c.value;$&&$.scrollToItem(N)},resetScrollTop:()=>{const N=c.value;N&&N.resetScrollTop()}});const T=N=>{const{index:$,data:Q,style:Y}=N,H=d(p),{itemSize:B,estimatedSize:X}=d(v),{modelValue:q}=i.props,{onSelect:O,onHover:V}=i,ee=Q[$];if(ee.type==="Group")return J(PQ,{item:ee,style:Y,height:H?B:X},null);const ce=_(q,ee),se=w(q,ce),le=b($);return J(UQ,Ht(N,{selected:ce,disabled:o(ee)||se,created:!!ee.created,hovering:le,item:ee,onSelect:O,onHover:V}),{default:ye=>{var Ce;return((Ce=e.default)==null?void 0:Ce.call(e,ye))||J("span",null,[a(ee)])}})},{onKeyboardNavigate:k,onKeyboardSelect:R}=i,D=()=>{k("forward")},U=()=>{k("backward")},P=N=>{const{code:$}=N,{tab:Q,esc:Y,down:H,up:B,enter:X}=St;switch($!==Q&&(N.preventDefault(),N.stopPropagation()),$){case Q:case Y:break;case H:{D();break}case B:{U();break}case X:{R();break}}};return()=>{var N,$,Q,Y;const{data:H,width:B}=t,{height:X,multiple:q,scrollbarAlwaysOn:O}=i.props,V=d(p)?uT:SQ;return J("div",{class:[r.b("dropdown"),r.is("multiple",q)],style:{width:`${B}px`}},[(N=e.header)==null?void 0:N.call(e),(($=e.loading)==null?void 0:$.call(e))||((Q=e.empty)==null?void 0:Q.call(e))||J(V,Ht({ref:c},d(v),{className:r.be("dropdown","list"),scrollbarAlwaysOn:O,data:H,height:X,width:B,total:H.length,onKeydown:P}),{default:ee=>J(T,ee,null)}),(Y=e.footer)==null?void 0:Y.call(e)])}}});function $Q(t,e){const{aliasProps:n,getLabel:i,getValue:r}=fp(t),a=W(0),s=W(),o=L(()=>t.allowCreate&&t.filterable);function u(g){const y=_=>i(_)===g;return t.options&&t.options.some(y)||e.createdOptions.some(y)}function c(g){o.value&&(t.multiple&&g.created?a.value++:s.value=g)}function h(g){if(o.value)if(g&&g.length>0){if(u(g))return;const y={[n.value.value]:g,[n.value.label]:g,created:!0,[n.value.disabled]:!1};e.createdOptions.length>=a.value?e.createdOptions[a.value]=y:e.createdOptions.push(y)}else if(t.multiple)e.createdOptions.length=a.value;else{const y=s.value;e.createdOptions.length=0,y&&y.created&&e.createdOptions.push(y)}}function p(g){if(!o.value||!g||!g.created||g.created&&t.reserveKeyword&&e.inputValue===i(g))return;const y=e.createdOptions.findIndex(_=>r(_)===r(g));~y&&(e.createdOptions.splice(y,1),a.value--)}function v(){o.value&&(e.createdOptions.length=0,a.value=0)}return{createNewOption:h,removeNewOption:p,selectNewOption:c,clearAllNewOption:v}}const HQ=11,GQ=(t,e)=>{const{t:n}=nn(),i=Fe("select"),r=Fe("input"),{form:a,formItem:s}=rr(),{inputId:o}=Ba(t,{formItemContext:s}),{aliasProps:u,getLabel:c,getValue:h,getDisabled:p,getOptions:v}=fp(t),{valueOnClear:g,isEmptyValue:y}=rp(t),_=jt({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),w=W(-1),b=W(),M=W(),C=W(),x=W(),T=W(),k=W(),R=W(),D=W(),U=W(),P=W(),N=W(),{isComposing:$,handleCompositionStart:Q,handleCompositionEnd:Y,handleCompositionUpdate:H}=ip({afterComposition:Se=>Ai(Se)}),{wrapperRef:B,isFocused:X}=xd(T,{beforeFocus(){return ee.value},afterFocus(){t.automaticDropdown&&!V.value&&(V.value=!0,_.menuVisibleOnFocus=!0)},beforeBlur(Se){var $e,ht;return(($e=C.value)==null?void 0:$e.isFocusInsideContent(Se))||((ht=x.value)==null?void 0:ht.isFocusInsideContent(Se))},afterBlur(){V.value=!1,_.menuVisibleOnFocus=!1}}),q=W([]),O=W([]),V=W(!1),ee=L(()=>t.disabled||(a==null?void 0:a.disabled)),ce=L(()=>{const Se=O.value.length*t.itemHeight;return Se>t.height?t.height:Se}),se=L(()=>t.multiple?Nt(t.modelValue)&&t.modelValue.length>0:!y(t.modelValue)),le=L(()=>t.clearable&&!ee.value&&_.inputHovering&&se.value),ye=L(()=>t.remote&&t.filterable?"":Is),Ce=L(()=>ye.value&&i.is("reverse",V.value)),pe=L(()=>(s==null?void 0:s.validateState)||""),ue=L(()=>{if(pe.value)return A0[pe.value]}),Me=L(()=>t.remote?300:0),De=L(()=>t.loading?t.loadingText||n("el.select.loading"):t.remote&&!_.inputValue&&q.value.length===0?!1:t.filterable&&_.inputValue&&q.value.length>0&&O.value.length===0?t.noMatchText||n("el.select.noMatch"):q.value.length===0?t.noDataText||n("el.select.noData"):null),xe=Se=>{const $e=ht=>{if(t.filterable&&un(t.filterMethod)||t.filterable&&t.remote&&un(t.remoteMethod))return!0;const Tt=new RegExp(C0(Se),"i");return Se?Tt.test(c(ht)||""):!0};return t.loading?[]:[..._.createdOptions,...t.options].reduce((ht,Tt)=>{const Kt=v(Tt);if(Nt(Kt)){const Qt=Kt.filter($e);Qt.length>0&&ht.push({label:c(Tt),type:"Group"},...Qt)}else(t.remote||$e(Tt))&&ht.push(Tt);return ht},[])},G=()=>{q.value=xe(""),O.value=xe(_.inputValue)},He=L(()=>{const Se=new Map;return q.value.forEach(($e,ht)=>{Se.set(et(h($e)),{option:$e,index:ht})}),Se}),Qe=L(()=>{const Se=new Map;return O.value.forEach(($e,ht)=>{Se.set(et(h($e)),{option:$e,index:ht})}),Se}),at=L(()=>O.value.every(Se=>p(Se))),rt=fi(),it=L(()=>rt.value==="small"?"small":"default"),qe=()=>{var Se;w.value=((Se=b.value)==null?void 0:Se.offsetWidth)||200},te=()=>{if(!M.value)return 0;const Se=window.getComputedStyle(M.value);return Number.parseFloat(Se.gap||"6px")},ae=L(()=>{const Se=te();return{maxWidth:`${N.value&&t.maxCollapseTags===1?_.selectionWidth-_.collapseItemWidth-Se:_.selectionWidth}px`}}),ke=L(()=>({maxWidth:`${_.selectionWidth}px`})),Be=L(()=>({width:`${Math.max(_.calculatorWidth,HQ)}px`})),Ve=L(()=>Nt(t.modelValue)?t.modelValue.length===0&&!_.inputValue:t.filterable?!_.inputValue:!0),Ae=L(()=>{var Se;const $e=(Se=t.placeholder)!=null?Se:n("el.select.placeholder");return t.multiple||!se.value?$e:_.selectedLabel}),Pe=L(()=>{var Se,$e;return($e=(Se=C.value)==null?void 0:Se.popperRef)==null?void 0:$e.contentRef}),Xe=L(()=>{if(t.multiple){const Se=t.modelValue.length;if(t.modelValue.length>0&&Qe.value.has(t.modelValue[Se-1])){const{index:$e}=Qe.value.get(t.modelValue[Se-1]);return $e}}else if(t.modelValue&&Qe.value.has(t.modelValue)){const{index:Se}=Qe.value.get(t.modelValue);return Se}return-1}),vt=L({get(){return V.value&&De.value!==!1},set(Se){V.value=Se}}),nt=L(()=>t.multiple?t.collapseTags?_.cachedOptions.slice(0,t.maxCollapseTags):_.cachedOptions:[]),Rt=L(()=>t.multiple?t.collapseTags?_.cachedOptions.slice(t.maxCollapseTags):[]:[]),{createNewOption:Ye,removeNewOption:Et,selectNewOption:Te,clearAllNewOption:ze}=$Q(t,_),de=()=>{ee.value||(_.menuVisibleOnFocus?_.menuVisibleOnFocus=!1:V.value=!V.value)},be=()=>{_.inputValue.length>0&&!V.value&&(V.value=!0),Ye(_.inputValue),gt(_.inputValue)},Re=Rr(be,Me.value),gt=Se=>{_.previousQuery===Se||$.value||(_.previousQuery=Se,t.filterable&&un(t.filterMethod)?t.filterMethod(Se):t.filterable&&t.remote&&un(t.remoteMethod)&&t.remoteMethod(Se),t.defaultFirstOption&&(t.filterable||t.remote)&&O.value.length?yt(Ft):yt(cn))},Ft=()=>{const Se=O.value.filter(Tt=>!Tt.disabled&&Tt.type!=="Group"),$e=Se.find(Tt=>Tt.created),ht=Se[0];_.hoveringIndex=ve(O.value,$e||ht)},Ee=Se=>{er(t.modelValue,Se)||e(Rn,Se)},st=Se=>{e(Wt,Se),Ee(Se),_.previousValue=t.multiple?String(Se):Se},ve=(Se=[],$e)=>{if(!bn($e))return Se.indexOf($e);const ht=t.valueKey;let Tt=-1;return Se.some((Kt,Qt)=>ei(Kt,ht)===ei($e,ht)?(Tt=Qt,!0):!1),Tt},et=Se=>bn(Se)?ei(Se,t.valueKey):Se,lt=()=>{qe()},bt=()=>{_.selectionWidth=M.value.getBoundingClientRect().width},$t=()=>{_.calculatorWidth=k.value.getBoundingClientRect().width},hn=()=>{_.collapseItemWidth=N.value.getBoundingClientRect().width},ft=()=>{var Se,$e;($e=(Se=C.value)==null?void 0:Se.updatePopper)==null||$e.call(Se)},kn=()=>{var Se,$e;($e=(Se=x.value)==null?void 0:Se.updatePopper)==null||$e.call(Se)},Zn=Se=>{if(t.multiple){let $e=t.modelValue.slice();const ht=ve($e,h(Se));ht>-1?($e=[...$e.slice(0,ht),...$e.slice(ht+1)],_.cachedOptions.splice(ht,1),Et(Se)):(t.multipleLimit<=0||$e.length<t.multipleLimit)&&($e=[...$e,h(Se)],_.cachedOptions.push(Se),Te(Se)),st($e),Se.created&&gt(""),t.filterable&&!t.reserveKeyword&&(_.inputValue="")}else _.selectedLabel=c(Se),st(h(Se)),V.value=!1,Te(Se),Se.created||ze();Un()},pn=(Se,$e)=>{let ht=t.modelValue.slice();const Tt=ve(ht,h($e));Tt>-1&&!ee.value&&(ht=[...t.modelValue.slice(0,Tt),...t.modelValue.slice(Tt+1)],_.cachedOptions.splice(Tt,1),st(ht),e("remove-tag",h($e)),Et($e)),Se.stopPropagation(),Un()},Un=()=>{var Se;(Se=T.value)==null||Se.focus()},ci=()=>{var Se;(Se=T.value)==null||Se.blur()},ha=()=>{_.inputValue.length>0?_.inputValue="":V.value=!1},ar=Se=>g2(Se,$e=>!_.cachedOptions.some(ht=>h(ht)===$e&&p(ht))),Nr=Se=>{if(t.multiple&&Se.code!==St.delete&&_.inputValue.length===0){Se.preventDefault();const $e=t.modelValue.slice(),ht=ar($e);if(ht<0)return;const Tt=$e[ht];$e.splice(ht,1);const Kt=_.cachedOptions[ht];_.cachedOptions.splice(ht,1),Et(Kt),st($e),e("remove-tag",Tt)}},hi=()=>{let Se;Nt(t.modelValue)?Se=[]:Se=g.value,t.multiple?_.cachedOptions=[]:_.selectedLabel="",V.value=!1,st(Se),e("clear"),ze(),Un()},tt=(Se,$e=void 0)=>{const ht=O.value;if(!["forward","backward"].includes(Se)||ee.value||ht.length<=0||at.value||$.value)return;if(!V.value)return de();$e===void 0&&($e=_.hoveringIndex);let Tt=-1;Se==="forward"?(Tt=$e+1,Tt>=ht.length&&(Tt=0)):Se==="backward"&&(Tt=$e-1,(Tt<0||Tt>=ht.length)&&(Tt=ht.length-1));const Kt=ht[Tt];if(p(Kt)||Kt.type==="Group")return tt(Se,Tt);_.hoveringIndex=Tt,Ue(Tt)},Pt=()=>{if(V.value)~_.hoveringIndex&&O.value[_.hoveringIndex]&&Zn(O.value[_.hoveringIndex]);else return de()},dn=Se=>{_.hoveringIndex=Se??-1},cn=()=>{t.multiple?_.hoveringIndex=O.value.findIndex(Se=>t.modelValue.some($e=>et($e)===et(Se))):_.hoveringIndex=O.value.findIndex(Se=>et(Se)===et(t.modelValue))},Ai=Se=>{if(_.inputValue=Se.target.value,t.remote)Re();else return be()},ri=()=>{V.value=!1,X.value&&ci()},me=()=>(_.isBeforeHide=!1,yt(()=>{~Xe.value&&Ue(_.hoveringIndex)})),Ue=Se=>{U.value.scrollToItem(Se)},Ke=(Se,$e)=>{const ht=et(Se);if(He.value.has(ht)){const{option:Tt}=He.value.get(ht);return Tt}if($e&&$e.length){const Tt=$e.find(Kt=>et(h(Kt))===ht);if(Tt)return Tt}return{[u.value.value]:Se,[u.value.label]:Se}},Je=()=>{if(t.multiple)if(t.modelValue.length>0){const Se=_.cachedOptions.slice();_.cachedOptions.length=0,_.previousValue=t.modelValue.toString();for(const $e of t.modelValue){const ht=Ke($e,Se);_.cachedOptions.push(ht)}}else _.cachedOptions=[],_.previousValue=void 0;else if(se.value){_.previousValue=t.modelValue;const Se=O.value,$e=Se.findIndex(ht=>et(h(ht))===et(t.modelValue));~$e?_.selectedLabel=c(Se[$e]):_.selectedLabel=et(t.modelValue)}else _.selectedLabel="",_.previousValue=void 0;ze(),qe()};return Le(V,Se=>{Se?gt(""):(_.inputValue="",_.previousQuery=null,_.isBeforeHide=!0,Ye("")),e("visible-change",Se)}),Le(()=>t.modelValue,(Se,$e)=>{var ht;(!Se||t.multiple&&Se.toString()!==_.previousValue||!t.multiple&&et(Se)!==et(_.previousValue))&&Je(),!er(Se,$e)&&t.validateEvent&&((ht=s==null?void 0:s.validate)==null||ht.call(s,"change").catch(Tt=>void 0))},{deep:!0}),Le(()=>t.options,()=>{const Se=T.value;(!Se||Se&&document.activeElement!==Se)&&Je()},{deep:!0,flush:"post"}),Le(()=>O.value,()=>U.value&&yt(U.value.resetScrollTop)),mi(()=>{_.isBeforeHide||G()}),mi(()=>{const{valueKey:Se,options:$e}=t,ht=new Map;for(const Tt of $e){const Kt=h(Tt);let Qt=Kt;if(bn(Qt)&&(Qt=ei(Kt,Se)),ht.get(Qt))break;ht.set(Qt,!0)}}),wt(()=>{Je()}),On(b,lt),On(M,bt),On(k,$t),On(U,ft),On(B,ft),On(P,kn),On(N,hn),{inputId:o,collapseTagSize:it,currentPlaceholder:Ae,expanded:V,emptyText:De,popupHeight:ce,debounce:Me,allOptions:q,filteredOptions:O,iconComponent:ye,iconReverse:Ce,tagStyle:ae,collapseTagStyle:ke,inputStyle:Be,popperSize:w,dropdownMenuVisible:vt,hasModelValue:se,shouldShowPlaceholder:Ve,selectDisabled:ee,selectSize:rt,showClearBtn:le,states:_,isFocused:X,nsSelect:i,nsInput:r,calculatorRef:k,inputRef:T,menuRef:U,tagMenuRef:P,tooltipRef:C,tagTooltipRef:x,selectRef:b,wrapperRef:B,selectionRef:M,prefixRef:R,suffixRef:D,collapseItemRef:N,popperRef:Pe,validateState:pe,validateIcon:ue,showTagList:nt,collapseTagList:Rt,debouncedOnInputChange:Re,deleteTag:pn,getLabel:c,getValue:h,getDisabled:p,getValueKey:et,handleClear:hi,handleClickOutside:ri,handleDel:Nr,handleEsc:ha,focus:Un,blur:ci,handleMenuEnter:me,handleResize:lt,resetSelectionWidth:bt,resetCalculatorWidth:$t,updateTooltip:ft,updateTagTooltip:kn,updateOptions:G,toggleMenu:de,scrollTo:Ue,onInput:Ai,onKeyboardNavigate:tt,onKeyboardSelect:Pt,onSelect:Zn,onHover:dn,handleCompositionStart:Q,handleCompositionEnd:Y,handleCompositionUpdate:H}},WQ=re({name:"ElSelectV2",components:{ElSelectMenu:zQ,ElTag:Jc,ElTooltip:pi,ElIcon:dt},directives:{ClickOutside:xs},props:LQ,emits:OQ,setup(t,{emit:e}){const n=L(()=>{const{modelValue:r,multiple:a}=t,s=a?[]:void 0;return Nt(r)?a?r:s:a?s:r}),i=GQ(jt({...Ri(t),modelValue:n}),e);return Zt(Sy,{props:jt({...Ri(t),height:i.popupHeight,modelValue:n}),expanded:i.expanded,tooltipRef:i.tooltipRef,onSelect:i.onSelect,onHover:i.onHover,onKeyboardNavigate:i.onKeyboardNavigate,onKeyboardSelect:i.onKeyboardSelect}),{...i,modelValue:n}}});function KQ(t,e,n,i,r,a){const s=At("el-tag"),o=At("el-tooltip"),u=At("el-icon"),c=At("el-select-menu"),h=zh("click-outside");return Bt((I(),K("div",{ref:"selectRef",class:z([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),onMouseenter:p=>t.states.inputHovering=!0,onMouseleave:p=>t.states.inputHovering=!1},[J(o,{ref:"tooltipRef",visible:t.dropdownMenuVisible,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,placement:t.placement,pure:"",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:t.persistent,onBeforeShow:t.handleMenuEnter,onHide:p=>t.states.isBeforeHide=!1},{default:ne(()=>[Z("div",{ref:"wrapperRef",class:z([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)]),onClick:xt(t.toggleMenu,["prevent"])},[t.$slots.prefix?(I(),K("div",{key:0,ref:"prefixRef",class:z(t.nsSelect.e("prefix"))},[oe(t.$slots,"prefix")],2)):he("v-if",!0),Z("div",{ref:"selectionRef",class:z([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.modelValue.length)])},[t.multiple?oe(t.$slots,"tag",{key:0},()=>[(I(!0),K(ut,null,Ut(t.showTagList,p=>(I(),K("div",{key:t.getValueKey(t.getValue(p)),class:z(t.nsSelect.e("selected-item"))},[J(s,{closable:!t.selectDisabled&&!t.getDisabled(p),size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:_t(t.tagStyle),onClose:v=>t.deleteTag(v,p)},{default:ne(()=>[Z("span",{class:z(t.nsSelect.e("tags-text"))},[oe(t.$slots,"label",{label:t.getLabel(p),value:t.getValue(p)},()=>[mt(Ne(t.getLabel(p)),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),t.collapseTags&&t.modelValue.length>t.maxCollapseTags?(I(),we(o,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:ne(()=>[Z("div",{ref:"collapseItemRef",class:z(t.nsSelect.e("selected-item"))},[J(s,{closable:!1,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,style:_t(t.collapseTagStyle),"disable-transitions":""},{default:ne(()=>[Z("span",{class:z(t.nsSelect.e("tags-text"))}," + "+Ne(t.modelValue.length-t.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:ne(()=>[Z("div",{ref:"tagMenuRef",class:z(t.nsSelect.e("selection"))},[(I(!0),K(ut,null,Ut(t.collapseTagList,p=>(I(),K("div",{key:t.getValueKey(t.getValue(p)),class:z(t.nsSelect.e("selected-item"))},[J(s,{class:"in-tooltip",closable:!t.selectDisabled&&!t.getDisabled(p),size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",onClose:v=>t.deleteTag(v,p)},{default:ne(()=>[Z("span",{class:z(t.nsSelect.e("tags-text"))},[oe(t.$slots,"label",{label:t.getLabel(p),value:t.getValue(p)},()=>[mt(Ne(t.getLabel(p)),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):he("v-if",!0)]):he("v-if",!0),t.selectDisabled?he("v-if",!0):(I(),K("div",{key:1,class:z([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[Bt(Z("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":p=>t.states.inputValue=p,style:_t(t.inputStyle),autocomplete:t.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":t.expanded,"aria-label":t.ariaLabel,class:z([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",name:t.name,onInput:t.onInput,onCompositionstart:t.handleCompositionStart,onCompositionupdate:t.handleCompositionUpdate,onCompositionend:t.handleCompositionEnd,onKeydown:[mn(xt(p=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"]),mn(xt(p=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"]),mn(xt(t.onKeyboardSelect,["stop","prevent"]),["enter"]),mn(xt(t.handleEsc,["stop","prevent"]),["esc"]),mn(xt(t.handleDel,["stop"]),["delete"])],onClick:xt(t.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","autocomplete","aria-expanded","aria-label","disabled","readonly","name","onInput","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown","onClick"]),[[Gg,t.states.inputValue]]),t.filterable?(I(),K("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:z(t.nsSelect.e("input-calculator")),textContent:Ne(t.states.inputValue)},null,10,["textContent"])):he("v-if",!0)],2)),t.shouldShowPlaceholder?(I(),K("div",{key:2,class:z([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[t.hasModelValue?oe(t.$slots,"label",{key:0,label:t.currentPlaceholder,value:t.modelValue},()=>[Z("span",null,Ne(t.currentPlaceholder),1)]):(I(),K("span",{key:1},Ne(t.currentPlaceholder),1))],2)):he("v-if",!0)],2),Z("div",{ref:"suffixRef",class:z(t.nsSelect.e("suffix"))},[t.iconComponent?Bt((I(),we(u,{key:0,class:z([t.nsSelect.e("caret"),t.nsInput.e("icon"),t.iconReverse])},{default:ne(()=>[(I(),we(Vt(t.iconComponent)))]),_:1},8,["class"])),[[sn,!t.showClearBtn]]):he("v-if",!0),t.showClearBtn&&t.clearIcon?(I(),we(u,{key:1,class:z([t.nsSelect.e("caret"),t.nsInput.e("icon"),t.nsSelect.e("clear")]),onClick:xt(t.handleClear,["prevent","stop"])},{default:ne(()=>[(I(),we(Vt(t.clearIcon)))]),_:1},8,["class","onClick"])):he("v-if",!0),t.validateState&&t.validateIcon?(I(),we(u,{key:2,class:z([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:ne(()=>[(I(),we(Vt(t.validateIcon)))]),_:1},8,["class"])):he("v-if",!0)],2)],10,["onClick"])]),content:ne(()=>[J(c,{ref:"menuRef",data:t.filteredOptions,width:t.popperSize,"hovering-index":t.states.hoveringIndex,"scrollbar-always-on":t.scrollbarAlwaysOn},oa({default:ne(p=>[oe(t.$slots,"default",Ma(ol(p)))]),_:2},[t.$slots.header?{name:"header",fn:ne(()=>[Z("div",{class:z(t.nsSelect.be("dropdown","header"))},[oe(t.$slots,"header")],2)])}:void 0,t.$slots.loading&&t.loading?{name:"loading",fn:ne(()=>[Z("div",{class:z(t.nsSelect.be("dropdown","loading"))},[oe(t.$slots,"loading")],2)])}:t.loading||t.filteredOptions.length===0?{name:"empty",fn:ne(()=>[Z("div",{class:z(t.nsSelect.be("dropdown","empty"))},[oe(t.$slots,"empty",{},()=>[Z("span",null,Ne(t.emptyText),1)])],2)])}:void 0,t.$slots.footer?{name:"footer",fn:ne(()=>[Z("div",{class:z(t.nsSelect.be("dropdown","footer"))},[oe(t.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","onBeforeShow","onHide"])],42,["onMouseenter","onMouseleave"])),[[h,t.handleClickOutside,t.popperRef]])}var qQ=We(WQ,[["render",KQ],["__file","select.vue"]]);const YQ=Dt(qQ),jQ=Ge({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),XQ=Ge({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),ZQ=re({name:"ElSkeletonItem"}),QQ=re({...ZQ,props:XQ,setup(t){const e=Fe("skeleton");return(n,i)=>(I(),K("div",{class:z([d(e).e("item"),d(e).e(n.variant)])},[n.variant==="image"?(I(),we(d(OO),{key:0})):he("v-if",!0)],2))}});var Sh=We(QQ,[["__file","skeleton-item.vue"]]);const JQ=re({name:"ElSkeleton"}),eJ=re({...JQ,props:jQ,setup(t,{expose:e}){const n=t,i=Fe("skeleton"),r=pz(vn(n,"loading"),n.throttle);return e({uiLoading:r}),(a,s)=>d(r)?(I(),K("div",Ht({key:0,class:[d(i).b(),d(i).is("animated",a.animated)]},a.$attrs),[(I(!0),K(ut,null,Ut(a.count,o=>(I(),K(ut,{key:o},[a.loading?oe(a.$slots,"template",{key:o},()=>[J(Sh,{class:z(d(i).is("first")),variant:"p"},null,8,["class"]),(I(!0),K(ut,null,Ut(a.rows,u=>(I(),we(Sh,{key:u,class:z([d(i).e("paragraph"),d(i).is("last",u===a.rows&&a.rows>1)]),variant:"p"},null,8,["class"]))),128))]):he("v-if",!0)],64))),128))],16)):oe(a.$slots,"default",Ma(Ht({key:1},a.$attrs)))}});var tJ=We(eJ,[["__file","skeleton.vue"]]);const nJ=Dt(tJ,{SkeletonItem:Sh}),iJ=Bn(Sh),yT=Symbol("sliderContextKey"),rJ=Ge({modelValue:{type:_e([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:gi,inputSize:gi,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:_e(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:_e(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Ls,default:"top"},marks:{type:_e(Object)},validateEvent:{type:Boolean,default:!0},...Ui(["ariaLabel"])}),sm=t=>kt(t)||Nt(t)&&t.every(kt),aJ={[Wt]:sm,[pr]:sm,[Rn]:sm},sJ=(t,e,n)=>{const i=W();return wt(async()=>{t.range?(Array.isArray(t.modelValue)?(e.firstValue=Math.max(t.min,t.modelValue[0]),e.secondValue=Math.min(t.max,t.modelValue[1])):(e.firstValue=t.min,e.secondValue=t.max),e.oldValue=[e.firstValue,e.secondValue]):(typeof t.modelValue!="number"||Number.isNaN(t.modelValue)?e.firstValue=t.min:e.firstValue=Math.min(t.max,Math.max(t.min,t.modelValue)),e.oldValue=e.firstValue),yn(window,"resize",n),await yt(),n()}),{sliderWrapper:i}},oJ=t=>L(()=>t.marks?Object.keys(t.marks).map(Number.parseFloat).sort((n,i)=>n-i).filter(n=>n<=t.max&&n>=t.min).map(n=>({point:n,position:(n-t.min)*100/(t.max-t.min),mark:t.marks[n]})):[]),lJ=(t,e,n)=>{const{form:i,formItem:r}=rr(),a=Mn(),s=W(),o=W(),u={firstButton:s,secondButton:o},c=L(()=>t.disabled||(i==null?void 0:i.disabled)||!1),h=L(()=>Math.min(e.firstValue,e.secondValue)),p=L(()=>Math.max(e.firstValue,e.secondValue)),v=L(()=>t.range?`${100*(p.value-h.value)/(t.max-t.min)}%`:`${100*(e.firstValue-t.min)/(t.max-t.min)}%`),g=L(()=>t.range?`${100*(h.value-t.min)/(t.max-t.min)}%`:"0%"),y=L(()=>t.vertical?{height:t.height}:{}),_=L(()=>t.vertical?{height:v.value,bottom:g.value}:{width:v.value,left:g.value}),w=()=>{a.value&&(e.sliderSize=a.value[`client${t.vertical?"Height":"Width"}`])},b=$=>{const Q=t.min+$*(t.max-t.min)/100;if(!t.range)return s;let Y;return Math.abs(h.value-Q)<Math.abs(p.value-Q)?Y=e.firstValue<e.secondValue?"firstButton":"secondButton":Y=e.firstValue>e.secondValue?"firstButton":"secondButton",u[Y]},M=$=>{const Q=b($);return Q.value.setPosition($),Q},C=$=>{e.firstValue=$??t.min,T(t.range?[h.value,p.value]:$??t.min)},x=$=>{e.secondValue=$,t.range&&T([h.value,p.value])},T=$=>{n(Wt,$),n(pr,$)},k=async()=>{await yt(),n(Rn,t.range?[h.value,p.value]:t.modelValue)},R=$=>{var Q,Y,H,B,X,q;if(c.value||e.dragging)return;w();let O=0;if(t.vertical){const V=(H=(Y=(Q=$.touches)==null?void 0:Q.item(0))==null?void 0:Y.clientY)!=null?H:$.clientY;O=(a.value.getBoundingClientRect().bottom-V)/e.sliderSize*100}else{const V=(q=(X=(B=$.touches)==null?void 0:B.item(0))==null?void 0:X.clientX)!=null?q:$.clientX,ee=a.value.getBoundingClientRect().left;O=(V-ee)/e.sliderSize*100}if(!(O<0||O>100))return M(O)};return{elFormItem:r,slider:a,firstButton:s,secondButton:o,sliderDisabled:c,minValue:h,maxValue:p,runwayStyle:y,barStyle:_,resetSize:w,setPosition:M,emitChange:k,onSliderWrapperPrevent:$=>{var Q,Y;((Q=u.firstButton.value)!=null&&Q.dragging||(Y=u.secondButton.value)!=null&&Y.dragging)&&$.preventDefault()},onSliderClick:$=>{R($)&&k()},onSliderDown:async $=>{const Q=R($);Q&&(await yt(),Q.value.onButtonDown($))},onSliderMarkerDown:$=>{c.value||e.dragging||M($)},setFirstValue:C,setSecondValue:x}},{left:uJ,down:cJ,right:dJ,up:fJ,home:hJ,end:pJ,pageUp:mJ,pageDown:vJ}=St,gJ=(t,e,n)=>{const i=W(),r=W(!1),a=L(()=>e.value instanceof Function),s=L(()=>a.value&&e.value(t.modelValue)||t.modelValue),o=Rr(()=>{n.value&&(r.value=!0)},50),u=Rr(()=>{n.value&&(r.value=!1)},50);return{tooltip:i,tooltipVisible:r,formatValue:s,displayTooltip:o,hideTooltip:u}},yJ=(t,e,n)=>{const{disabled:i,min:r,max:a,step:s,showTooltip:o,precision:u,sliderSize:c,formatTooltip:h,emitChange:p,resetSize:v,updateDragging:g}=ct(yT),{tooltip:y,tooltipVisible:_,formatValue:w,displayTooltip:b,hideTooltip:M}=gJ(t,h,o),C=W(),x=L(()=>`${(t.modelValue-r.value)/(a.value-r.value)*100}%`),T=L(()=>t.vertical?{bottom:x.value}:{left:x.value}),k=()=>{e.hovering=!0,b()},R=()=>{e.hovering=!1,e.dragging||M()},D=ce=>{i.value||(ce.preventDefault(),q(ce),window.addEventListener("mousemove",O),window.addEventListener("touchmove",O),window.addEventListener("mouseup",V),window.addEventListener("touchend",V),window.addEventListener("contextmenu",V),C.value.focus())},U=ce=>{i.value||(e.newPosition=Number.parseFloat(x.value)+ce/(a.value-r.value)*100,ee(e.newPosition),p())},P=()=>{U(-s.value)},N=()=>{U(s.value)},$=()=>{U(-s.value*4)},Q=()=>{U(s.value*4)},Y=()=>{i.value||(ee(0),p())},H=()=>{i.value||(ee(100),p())},B=ce=>{let se=!0;[uJ,cJ].includes(ce.key)?P():[dJ,fJ].includes(ce.key)?N():ce.key===hJ?Y():ce.key===pJ?H():ce.key===vJ?$():ce.key===mJ?Q():se=!1,se&&ce.preventDefault()},X=ce=>{let se,le;return ce.type.startsWith("touch")?(le=ce.touches[0].clientY,se=ce.touches[0].clientX):(le=ce.clientY,se=ce.clientX),{clientX:se,clientY:le}},q=ce=>{e.dragging=!0,e.isClick=!0;const{clientX:se,clientY:le}=X(ce);t.vertical?e.startY=le:e.startX=se,e.startPosition=Number.parseFloat(x.value),e.newPosition=e.startPosition},O=ce=>{if(e.dragging){e.isClick=!1,b(),v();let se;const{clientX:le,clientY:ye}=X(ce);t.vertical?(e.currentY=ye,se=(e.startY-e.currentY)/c.value*100):(e.currentX=le,se=(e.currentX-e.startX)/c.value*100),e.newPosition=e.startPosition+se,ee(e.newPosition)}},V=()=>{e.dragging&&(setTimeout(()=>{e.dragging=!1,e.hovering||M(),e.isClick||ee(e.newPosition),p()},0),window.removeEventListener("mousemove",O),window.removeEventListener("touchmove",O),window.removeEventListener("mouseup",V),window.removeEventListener("touchend",V),window.removeEventListener("contextmenu",V))},ee=async ce=>{if(ce===null||Number.isNaN(+ce))return;ce<0?ce=0:ce>100&&(ce=100);const se=100/((a.value-r.value)/s.value);let ye=Math.round(ce/se)*se*(a.value-r.value)*.01+r.value;ye=Number.parseFloat(ye.toFixed(u.value)),ye!==t.modelValue&&n(Wt,ye),!e.dragging&&t.modelValue!==e.oldValue&&(e.oldValue=t.modelValue),await yt(),e.dragging&&b(),y.value.updatePopper()};return Le(()=>e.dragging,ce=>{g(ce)}),yn(C,"touchstart",D,{passive:!1}),{disabled:i,button:C,tooltip:y,tooltipVisible:_,showTooltip:o,wrapperStyle:T,formatValue:w,handleMouseEnter:k,handleMouseLeave:R,onButtonDown:D,onKeyDown:B,setPosition:ee}},_J=(t,e,n,i)=>({stops:L(()=>{if(!t.showStops||t.min>t.max)return[];if(t.step===0)return[];const s=(t.max-t.min)/t.step,o=100*t.step/(t.max-t.min),u=Array.from({length:s-1}).map((c,h)=>(h+1)*o);return t.range?u.filter(c=>c<100*(n.value-t.min)/(t.max-t.min)||c>100*(i.value-t.min)/(t.max-t.min)):u.filter(c=>c>100*(e.firstValue-t.min)/(t.max-t.min))}),getStopStyle:s=>t.vertical?{bottom:`${s}%`}:{left:`${s}%`}}),bJ=(t,e,n,i,r,a)=>{const s=c=>{r(Wt,c),r(pr,c)},o=()=>t.range?![n.value,i.value].every((c,h)=>c===e.oldValue[h]):t.modelValue!==e.oldValue,u=()=>{var c,h;t.min>t.max&&vi("Slider","min should not be greater than max.");const p=t.modelValue;t.range&&Array.isArray(p)?p[1]<t.min?s([t.min,t.min]):p[0]>t.max?s([t.max,t.max]):p[0]<t.min?s([t.min,p[1]]):p[1]>t.max?s([p[0],t.max]):(e.firstValue=p[0],e.secondValue=p[1],o()&&(t.validateEvent&&((c=a==null?void 0:a.validate)==null||c.call(a,"change").catch(v=>void 0)),e.oldValue=p.slice())):!t.range&&typeof p=="number"&&!Number.isNaN(p)&&(p<t.min?s(t.min):p>t.max?s(t.max):(e.firstValue=p,o()&&(t.validateEvent&&((h=a==null?void 0:a.validate)==null||h.call(a,"change").catch(v=>void 0)),e.oldValue=p)))};u(),Le(()=>e.dragging,c=>{c||u()}),Le(()=>t.modelValue,(c,h)=>{e.dragging||Array.isArray(c)&&Array.isArray(h)&&c.every((p,v)=>p===h[v])&&e.firstValue===c[0]&&e.secondValue===c[1]||u()},{deep:!0}),Le(()=>[t.min,t.max],()=>{u()})},wJ=Ge({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Ls,default:"top"}}),SJ={[Wt]:t=>kt(t)},CJ=re({name:"ElSliderButton"}),EJ=re({...CJ,props:wJ,emits:SJ,setup(t,{expose:e,emit:n}){const i=t,r=Fe("slider"),a=jt({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:i.modelValue}),{disabled:s,button:o,tooltip:u,showTooltip:c,tooltipVisible:h,wrapperStyle:p,formatValue:v,handleMouseEnter:g,handleMouseLeave:y,onButtonDown:_,onKeyDown:w,setPosition:b}=yJ(i,a,n),{hovering:M,dragging:C}=Ri(a);return e({onButtonDown:_,onKeyDown:w,setPosition:b,hovering:M,dragging:C}),(x,T)=>(I(),K("div",{ref_key:"button",ref:o,class:z([d(r).e("button-wrapper"),{hover:d(M),dragging:d(C)}]),style:_t(d(p)),tabindex:d(s)?-1:0,onMouseenter:d(g),onMouseleave:d(y),onMousedown:d(_),onFocus:d(g),onBlur:d(y),onKeydown:d(w)},[J(d(pi),{ref_key:"tooltip",ref:u,visible:d(h),placement:x.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":x.tooltipClass,disabled:!d(c),persistent:""},{content:ne(()=>[Z("span",null,Ne(d(v)),1)]),default:ne(()=>[Z("div",{class:z([d(r).e("button"),{hover:d(M),dragging:d(C)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}});var q1=We(EJ,[["__file","button.vue"]]);const xJ=Ge({mark:{type:_e([String,Object]),default:void 0}});var MJ=re({name:"ElSliderMarker",props:xJ,setup(t){const e=Fe("slider"),n=L(()=>Gt(t.mark)?t.mark:t.mark.label),i=L(()=>Gt(t.mark)?void 0:t.mark.style);return()=>Ct("div",{class:e.e("marks-text"),style:i.value},n.value)}});const TJ=re({name:"ElSlider"}),AJ=re({...TJ,props:rJ,emits:aJ,setup(t,{expose:e,emit:n}){const i=t,r=Fe("slider"),{t:a}=nn(),s=jt({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:o,slider:u,firstButton:c,secondButton:h,sliderDisabled:p,minValue:v,maxValue:g,runwayStyle:y,barStyle:_,resetSize:w,emitChange:b,onSliderWrapperPrevent:M,onSliderClick:C,onSliderDown:x,onSliderMarkerDown:T,setFirstValue:k,setSecondValue:R}=lJ(i,s,n),{stops:D,getStopStyle:U}=_J(i,s,v,g),{inputId:P,isLabeledByFormItem:N}=Ba(i,{formItemContext:o}),$=fi(),Q=L(()=>i.inputSize||$.value),Y=L(()=>i.ariaLabel||a("el.slider.defaultLabel",{min:i.min,max:i.max})),H=L(()=>i.range?i.rangeStartLabel||a("el.slider.defaultRangeStartLabel"):Y.value),B=L(()=>i.formatValueText?i.formatValueText(se.value):`${se.value}`),X=L(()=>i.rangeEndLabel||a("el.slider.defaultRangeEndLabel")),q=L(()=>i.formatValueText?i.formatValueText(le.value):`${le.value}`),O=L(()=>[r.b(),r.m($.value),r.is("vertical",i.vertical),{[r.m("with-input")]:i.showInput}]),V=oJ(i);bJ(i,s,v,g,n,o);const ee=L(()=>{const pe=[i.min,i.max,i.step].map(ue=>{const Me=`${ue}`.split(".")[1];return Me?Me.length:0});return Math.max.apply(null,pe)}),{sliderWrapper:ce}=sJ(i,s,w),{firstValue:se,secondValue:le,sliderSize:ye}=Ri(s),Ce=pe=>{s.dragging=pe};return yn(ce,"touchstart",M,{passive:!1}),yn(ce,"touchmove",M,{passive:!1}),Zt(yT,{...Ri(i),sliderSize:ye,disabled:p,precision:ee,emitChange:b,resetSize:w,updateDragging:Ce}),e({onSliderClick:C}),(pe,ue)=>{var Me,De;return I(),K("div",{id:pe.range?d(P):void 0,ref_key:"sliderWrapper",ref:ce,class:z(d(O)),role:pe.range?"group":void 0,"aria-label":pe.range&&!d(N)?d(Y):void 0,"aria-labelledby":pe.range&&d(N)?(Me=d(o))==null?void 0:Me.labelId:void 0},[Z("div",{ref_key:"slider",ref:u,class:z([d(r).e("runway"),{"show-input":pe.showInput&&!pe.range},d(r).is("disabled",d(p))]),style:_t(d(y)),onMousedown:d(x),onTouchstartPassive:d(x)},[Z("div",{class:z(d(r).e("bar")),style:_t(d(_))},null,6),J(q1,{id:pe.range?void 0:d(P),ref_key:"firstButton",ref:c,"model-value":d(se),vertical:pe.vertical,"tooltip-class":pe.tooltipClass,placement:pe.placement,role:"slider","aria-label":pe.range||!d(N)?d(H):void 0,"aria-labelledby":!pe.range&&d(N)?(De=d(o))==null?void 0:De.labelId:void 0,"aria-valuemin":pe.min,"aria-valuemax":pe.range?d(le):pe.max,"aria-valuenow":d(se),"aria-valuetext":d(B),"aria-orientation":pe.vertical?"vertical":"horizontal","aria-disabled":d(p),"onUpdate:modelValue":d(k)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),pe.range?(I(),we(q1,{key:0,ref_key:"secondButton",ref:h,"model-value":d(le),vertical:pe.vertical,"tooltip-class":pe.tooltipClass,placement:pe.placement,role:"slider","aria-label":d(X),"aria-valuemin":d(se),"aria-valuemax":pe.max,"aria-valuenow":d(le),"aria-valuetext":d(q),"aria-orientation":pe.vertical?"vertical":"horizontal","aria-disabled":d(p),"onUpdate:modelValue":d(R)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):he("v-if",!0),pe.showStops?(I(),K("div",{key:1},[(I(!0),K(ut,null,Ut(d(D),(xe,G)=>(I(),K("div",{key:G,class:z(d(r).e("stop")),style:_t(d(U)(xe))},null,6))),128))])):he("v-if",!0),d(V).length>0?(I(),K(ut,{key:2},[Z("div",null,[(I(!0),K(ut,null,Ut(d(V),(xe,G)=>(I(),K("div",{key:G,style:_t(d(U)(xe.position)),class:z([d(r).e("stop"),d(r).e("marks-stop")])},null,6))),128))]),Z("div",{class:z(d(r).e("marks"))},[(I(!0),K(ut,null,Ut(d(V),(xe,G)=>(I(),we(d(MJ),{key:G,mark:xe.mark,style:_t(d(U)(xe.position)),onMousedown:xt(He=>d(T)(xe.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):he("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),pe.showInput&&!pe.range?(I(),we(d(WM),{key:0,ref:"input","model-value":d(se),class:z(d(r).e("input")),step:pe.step,disabled:d(p),controls:pe.showInputControls,min:pe.min,max:pe.max,precision:d(ee),debounce:pe.debounce,size:d(Q),"onUpdate:modelValue":d(k),onChange:d(b)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):he("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});var kJ=We(AJ,[["__file","slider.vue"]]);const IJ=Dt(kJ),PJ=Ge({prefixCls:{type:String}}),Y1=re({name:"ElSpaceItem",props:PJ,setup(t,{slots:e}){const n=Fe("space"),i=L(()=>`${t.prefixCls||n.b()}__item`);return()=>Ct("div",{class:i.value},oe(e,"default"))}}),j1={small:8,default:12,large:16};function RJ(t){const e=Fe("space"),n=L(()=>[e.b(),e.m(t.direction),t.class]),i=W(0),r=W(0),a=L(()=>{const o=t.wrap||t.fill?{flexWrap:"wrap"}:{},u={alignItems:t.alignment},c={rowGap:`${r.value}px`,columnGap:`${i.value}px`};return[o,u,c,t.style]}),s=L(()=>t.fill?{flexGrow:1,minWidth:`${t.fillRatio}%`}:{});return mi(()=>{const{size:o="small",wrap:u,direction:c,fill:h}=t;if(Nt(o)){const[p=0,v=0]=o;i.value=p,r.value=v}else{let p;kt(o)?p=o:p=j1[o||"small"]||j1.small,(u||h)&&c==="horizontal"?i.value=r.value=p:c==="horizontal"?(i.value=p,r.value=0):(r.value=p,i.value=0)}}),{classes:n,containerStyle:a,itemStyle:s}}const LJ=Ge({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:_e([String,Object,Array]),default:""},style:{type:_e([String,Array,Object]),default:""},alignment:{type:_e(String),default:"center"},prefixCls:{type:String},spacer:{type:_e([Object,String,Number,Array]),default:null,validator:t=>ni(t)||kt(t)||Gt(t)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:is,validator:t=>kt(t)||Nt(t)&&t.length===2&&t.every(kt)}}),NJ=re({name:"ElSpace",props:LJ,setup(t,{slots:e}){const{classes:n,containerStyle:i,itemStyle:r}=RJ(t);function a(s,o="",u=[]){const{prefixCls:c}=t;return s.forEach((h,p)=>{yv(h)?Nt(h.children)&&h.children.forEach((v,g)=>{yv(v)&&Nt(v.children)?a(v.children,`${o+g}-`,u):u.push(J(Y1,{style:r.value,prefixCls:c,key:`nested-${o+g}`},{default:()=>[v]},Jr.PROPS|Jr.STYLE,["style","prefixCls"]))}):XV(h)&&u.push(J(Y1,{style:r.value,prefixCls:c,key:`LoopKey${o+p}`},{default:()=>[h]},Jr.PROPS|Jr.STYLE,["style","prefixCls"]))}),u}return()=>{var s;const{spacer:o,direction:u}=t,c=oe(e,"default",{key:0},()=>[]);if(((s=c.children)!=null?s:[]).length===0)return null;if(Nt(c.children)){let h=a(c.children);if(o){const p=h.length-1;h=h.reduce((v,g,y)=>{const _=[...v,g];return y!==p&&_.push(J("span",{style:[r.value,u==="vertical"?"width: 100%":null],key:y},[ni(o)?o:mt(o,Jr.TEXT)],Jr.STYLE)),_},[])}return J("div",{class:n.value,style:i.value},h,Jr.STYLE|Jr.CLASS)}return c.children}}}),OJ=Dt(NJ),DJ=Ge({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:_e([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:_e([String,Object,Array])}}),FJ=re({name:"ElStatistic"}),BJ=re({...FJ,props:DJ,setup(t,{expose:e}){const n=t,i=Fe("statistic"),r=L(()=>{const{value:a,formatter:s,precision:o,decimalSeparator:u,groupSeparator:c}=n;if(un(s))return s(a);if(!kt(a)||Number.isNaN(a))return a;let[h,p=""]=String(a).split(".");return p=p.padEnd(o,"0").slice(0,o>0?o:0),h=h.replace(/\B(?=(\d{3})+(?!\d))/g,c),[h,p].join(p?u:"")});return e({displayValue:r}),(a,s)=>(I(),K("div",{class:z(d(i).b())},[a.$slots.title||a.title?(I(),K("div",{key:0,class:z(d(i).e("head"))},[oe(a.$slots,"title",{},()=>[mt(Ne(a.title),1)])],2)):he("v-if",!0),Z("div",{class:z(d(i).e("content"))},[a.$slots.prefix||a.prefix?(I(),K("div",{key:0,class:z(d(i).e("prefix"))},[oe(a.$slots,"prefix",{},()=>[Z("span",null,Ne(a.prefix),1)])],2)):he("v-if",!0),Z("span",{class:z(d(i).e("number")),style:_t(a.valueStyle)},Ne(d(r)),7),a.$slots.suffix||a.suffix?(I(),K("div",{key:1,class:z(d(i).e("suffix"))},[oe(a.$slots,"suffix",{},()=>[Z("span",null,Ne(a.suffix),1)])],2)):he("v-if",!0)],2)],2))}});var UJ=We(BJ,[["__file","statistic.vue"]]);const _T=Dt(UJ),VJ=Ge({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:_e([Number,Object]),default:0},valueStyle:{type:_e([String,Object,Array])}}),zJ={finish:()=>!0,[Rn]:t=>kt(t)},$J=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],X1=t=>kt(t)?new Date(t).getTime():t.valueOf(),Z1=(t,e)=>{let n=t;const i=/\[([^\]]*)]/g;return $J.reduce((a,[s,o])=>{const u=new RegExp(`${s}+(?![^\\[\\]]*\\])`,"g");if(u.test(a)){const c=Math.floor(n/o);return n-=c*o,a.replace(u,h=>String(c).padStart(h.length,"0"))}return a},e).replace(i,"$1")},HJ=re({name:"ElCountdown"}),GJ=re({...HJ,props:VJ,emits:zJ,setup(t,{expose:e,emit:n}){const i=t;let r;const a=W(0),s=L(()=>Z1(a.value,i.format)),o=h=>Z1(h,i.format),u=()=>{r&&(dl(r),r=void 0)},c=()=>{const h=X1(i.value),p=()=>{let v=h-Date.now();n("change",v),v<=0?(v=0,u(),n("finish")):r=uo(p),a.value=v};r=uo(p)};return wt(()=>{a.value=X1(i.value)-Date.now(),Le(()=>[i.value,i.format],()=>{u(),c()},{immediate:!0})}),xn(()=>{u()}),e({displayValue:s}),(h,p)=>(I(),we(d(_T),{value:a.value,title:h.title,prefix:h.prefix,suffix:h.suffix,"value-style":h.valueStyle,formatter:o},oa({_:2},[Ut(h.$slots,(v,g)=>({name:g,fn:ne(()=>[oe(h.$slots,g)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var WJ=We(GJ,[["__file","countdown.vue"]]);const KJ=Dt(WJ),qJ=Ge({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),YJ={[Rn]:(t,e)=>[t,e].every(kt)},jJ=re({name:"ElSteps"}),XJ=re({...jJ,props:qJ,emits:YJ,setup(t,{emit:e}){const n=t,i=Fe("steps"),{children:r,addChild:a,removeChild:s}=Y0(qt(),"ElStep");return Le(r,()=>{r.value.forEach((o,u)=>{o.setIndex(u)})}),Zt("ElSteps",{props:n,steps:r,addStep:a,removeStep:s}),Le(()=>n.active,(o,u)=>{e(Rn,o,u)}),(o,u)=>(I(),K("div",{class:z([d(i).b(),d(i).m(o.simple?"simple":o.direction)])},[oe(o.$slots,"default")],2))}});var ZJ=We(XJ,[["__file","steps.vue"]]);const QJ=Ge({title:{type:String,default:""},icon:{type:wn},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),JJ=re({name:"ElStep"}),eee=re({...JJ,props:QJ,setup(t){const e=t,n=Fe("step"),i=W(-1),r=W({}),a=W(""),s=ct("ElSteps"),o=qt();wt(()=>{Le([()=>s.props.active,()=>s.props.processStatus,()=>s.props.finishStatus],([k])=>{x(k)},{immediate:!0})}),xn(()=>{s.removeStep(T.uid)});const u=L(()=>e.status||a.value),c=L(()=>{const k=s.steps.value[i.value-1];return k?k.currentStatus:"wait"}),h=L(()=>s.props.alignCenter),p=L(()=>s.props.direction==="vertical"),v=L(()=>s.props.simple),g=L(()=>s.steps.value.length),y=L(()=>{var k;return((k=s.steps.value[g.value-1])==null?void 0:k.uid)===(o==null?void 0:o.uid)}),_=L(()=>v.value?"":s.props.space),w=L(()=>[n.b(),n.is(v.value?"simple":s.props.direction),n.is("flex",y.value&&!_.value&&!h.value),n.is("center",h.value&&!p.value&&!v.value)]),b=L(()=>{const k={flexBasis:kt(_.value)?`${_.value}px`:_.value?_.value:`${100/(g.value-(h.value?0:1))}%`};return p.value||y.value&&(k.maxWidth=`${100/g.value}%`),k}),M=k=>{i.value=k},C=k=>{const R=k==="wait",D={transitionDelay:`${R?"-":""}${150*i.value}ms`},U=k===s.props.processStatus||R?0:100;D.borderWidth=U&&!v.value?"1px":0,D[s.props.direction==="vertical"?"height":"width"]=`${U}%`,r.value=D},x=k=>{k>i.value?a.value=s.props.finishStatus:k===i.value&&c.value!=="error"?a.value=s.props.processStatus:a.value="wait";const R=s.steps.value[i.value-1];R&&R.calcProgress(a.value)},T=jt({uid:o.uid,currentStatus:u,setIndex:M,calcProgress:C});return s.addStep(T),(k,R)=>(I(),K("div",{style:_t(d(b)),class:z(d(w))},[he(" icon & line "),Z("div",{class:z([d(n).e("head"),d(n).is(d(u))])},[d(v)?he("v-if",!0):(I(),K("div",{key:0,class:z(d(n).e("line"))},[Z("i",{class:z(d(n).e("line-inner")),style:_t(r.value)},null,6)],2)),Z("div",{class:z([d(n).e("icon"),d(n).is(k.icon||k.$slots.icon?"icon":"text")])},[oe(k.$slots,"icon",{},()=>[k.icon?(I(),we(d(dt),{key:0,class:z(d(n).e("icon-inner"))},{default:ne(()=>[(I(),we(Vt(k.icon)))]),_:1},8,["class"])):d(u)==="success"?(I(),we(d(dt),{key:1,class:z([d(n).e("icon-inner"),d(n).is("status")])},{default:ne(()=>[J(d(hd))]),_:1},8,["class"])):d(u)==="error"?(I(),we(d(dt),{key:2,class:z([d(n).e("icon-inner"),d(n).is("status")])},{default:ne(()=>[J(d(Ra))]),_:1},8,["class"])):d(v)?he("v-if",!0):(I(),K("div",{key:3,class:z(d(n).e("icon-inner"))},Ne(i.value+1),3))])],2)],2),he(" title & description "),Z("div",{class:z(d(n).e("main"))},[Z("div",{class:z([d(n).e("title"),d(n).is(d(u))])},[oe(k.$slots,"title",{},()=>[mt(Ne(k.title),1)])],2),d(v)?(I(),K("div",{key:0,class:z(d(n).e("arrow"))},null,2)):(I(),K("div",{key:1,class:z([d(n).e("description"),d(n).is(d(u))])},[oe(k.$slots,"description",{},()=>[mt(Ne(k.description),1)])],2))],2)],6))}});var bT=We(eee,[["__file","item.vue"]]);const tee=Dt(ZJ,{Step:bT}),nee=Bn(bT),iee=Ge({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:E2},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:wn},activeActionIcon:{type:wn},activeIcon:{type:wn},inactiveIcon:{type:wn},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:_e(Function)},id:String,tabindex:{type:[String,Number]},...Ui(["ariaLabel"])}),ree={[Wt]:t=>$n(t)||Gt(t)||kt(t),[Rn]:t=>$n(t)||Gt(t)||kt(t),[pr]:t=>$n(t)||Gt(t)||kt(t)},wT="ElSwitch",aee=re({name:wT}),see=re({...aee,props:iee,emits:ree,setup(t,{expose:e,emit:n}){const i=t,{formItem:r}=rr(),a=fi(),s=Fe("switch"),{inputId:o}=Ba(i,{formItemContext:r}),u=ir(L(()=>i.loading)),c=W(i.modelValue!==!1),h=W(),p=W(),v=L(()=>[s.b(),s.m(a.value),s.is("disabled",u.value),s.is("checked",b.value)]),g=L(()=>[s.e("label"),s.em("label","left"),s.is("active",!b.value)]),y=L(()=>[s.e("label"),s.em("label","right"),s.is("active",b.value)]),_=L(()=>({width:Xn(i.width)}));Le(()=>i.modelValue,()=>{c.value=!0});const w=L(()=>c.value?i.modelValue:!1),b=L(()=>w.value===i.activeValue);[i.activeValue,i.inactiveValue].includes(w.value)||(n(Wt,i.inactiveValue),n(Rn,i.inactiveValue),n(pr,i.inactiveValue)),Le(b,T=>{var k;h.value.checked=T,i.validateEvent&&((k=r==null?void 0:r.validate)==null||k.call(r,"change").catch(R=>void 0))});const M=()=>{const T=b.value?i.inactiveValue:i.activeValue;n(Wt,T),n(Rn,T),n(pr,T),yt(()=>{h.value.checked=b.value})},C=()=>{if(u.value)return;const{beforeChange:T}=i;if(!T){M();return}const k=T();[iv(k),$n(k)].includes(!0)||vi(wT,"beforeChange must return type `Promise<boolean>` or `boolean`"),iv(k)?k.then(D=>{D&&M()}).catch(D=>{}):k&&M()},x=()=>{var T,k;(k=(T=h.value)==null?void 0:T.focus)==null||k.call(T)};return wt(()=>{h.value.checked=b.value}),e({focus:x,checked:b}),(T,k)=>(I(),K("div",{class:z(d(v)),onClick:xt(C,["prevent"])},[Z("input",{id:d(o),ref_key:"input",ref:h,class:z(d(s).e("input")),type:"checkbox",role:"switch","aria-checked":d(b),"aria-disabled":d(u),"aria-label":T.ariaLabel,name:T.name,"true-value":T.activeValue,"false-value":T.inactiveValue,disabled:d(u),tabindex:T.tabindex,onChange:M,onKeydown:mn(C,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!T.inlinePrompt&&(T.inactiveIcon||T.inactiveText)?(I(),K("span",{key:0,class:z(d(g))},[T.inactiveIcon?(I(),we(d(dt),{key:0},{default:ne(()=>[(I(),we(Vt(T.inactiveIcon)))]),_:1})):he("v-if",!0),!T.inactiveIcon&&T.inactiveText?(I(),K("span",{key:1,"aria-hidden":d(b)},Ne(T.inactiveText),9,["aria-hidden"])):he("v-if",!0)],2)):he("v-if",!0),Z("span",{ref_key:"core",ref:p,class:z(d(s).e("core")),style:_t(d(_))},[T.inlinePrompt?(I(),K("div",{key:0,class:z(d(s).e("inner"))},[T.activeIcon||T.inactiveIcon?(I(),we(d(dt),{key:0,class:z(d(s).is("icon"))},{default:ne(()=>[(I(),we(Vt(d(b)?T.activeIcon:T.inactiveIcon)))]),_:1},8,["class"])):T.activeText||T.inactiveText?(I(),K("span",{key:1,class:z(d(s).is("text")),"aria-hidden":!d(b)},Ne(d(b)?T.activeText:T.inactiveText),11,["aria-hidden"])):he("v-if",!0)],2)):he("v-if",!0),Z("div",{class:z(d(s).e("action"))},[T.loading?(I(),we(d(dt),{key:0,class:z(d(s).is("loading"))},{default:ne(()=>[J(d(Za))]),_:1},8,["class"])):d(b)?oe(T.$slots,"active-action",{key:1},()=>[T.activeActionIcon?(I(),we(d(dt),{key:0},{default:ne(()=>[(I(),we(Vt(T.activeActionIcon)))]),_:1})):he("v-if",!0)]):d(b)?he("v-if",!0):oe(T.$slots,"inactive-action",{key:2},()=>[T.inactiveActionIcon?(I(),we(d(dt),{key:0},{default:ne(()=>[(I(),we(Vt(T.inactiveActionIcon)))]),_:1})):he("v-if",!0)])],2)],6),!T.inlinePrompt&&(T.activeIcon||T.activeText)?(I(),K("span",{key:1,class:z(d(y))},[T.activeIcon?(I(),we(d(dt),{key:0},{default:ne(()=>[(I(),we(Vt(T.activeIcon)))]),_:1})):he("v-if",!0),!T.activeIcon&&T.activeText?(I(),K("span",{key:1,"aria-hidden":!d(b)},Ne(T.activeText),9,["aria-hidden"])):he("v-if",!0)],2)):he("v-if",!0)],10,["onClick"]))}});var oee=We(see,[["__file","switch.vue"]]);const lee=Dt(oee),om=function(t){var e;return(e=t.target)==null?void 0:e.closest("td")},uee=function(t,e,n,i,r){if(!e&&!i&&(!r||Array.isArray(r)&&!r.length))return t;typeof n=="string"?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const a=i?null:function(o,u){return r?(Array.isArray(r)||(r=[r]),r.map(c=>typeof c=="string"?ei(o,c):c(o,u,t))):(e!=="$key"&&bn(o)&&"$value"in o&&(o=o.$value),[bn(o)?ei(o,e):o])},s=function(o,u){if(i)return i(o.value,u.value);for(let c=0,h=o.key.length;c<h;c++){if(o.key[c]<u.key[c])return-1;if(o.key[c]>u.key[c])return 1}return 0};return t.map((o,u)=>({value:o,index:u,key:a?a(o,u):null})).sort((o,u)=>{let c=s(o,u);return c||(c=o.index-u.index),c*+n}).map(o=>o.value)},ST=function(t,e){let n=null;return t.columns.forEach(i=>{i.id===e&&(n=i)}),n},cee=function(t,e){let n=null;for(let i=0;i<t.columns.length;i++){const r=t.columns[i];if(r.columnKey===e){n=r;break}}return n||vi("ElTable",`No column matching with column-key: ${e}`),n},Q1=function(t,e,n){const i=(e.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return i?ST(t,i[0]):null},Zi=(t,e)=>{if(!t)throw new Error("Row is required when get row identity");if(typeof e=="string"){if(!e.includes("."))return`${t[e]}`;const n=e.split(".");let i=t;for(const r of n)i=i[r];return`${i}`}else if(typeof e=="function")return e.call(null,t)},Yo=function(t,e){const n={};return(t||[]).forEach((i,r)=>{n[Zi(i,e)]={row:i,index:r}}),n};function dee(t,e){const n={};let i;for(i in t)n[i]=t[i];for(i in e)if(Gi(e,i)){const r=e[i];typeof r<"u"&&(n[i]=r)}return n}function Cy(t){return t===""||t!==void 0&&(t=Number.parseInt(t,10),Number.isNaN(t)&&(t="")),t}function CT(t){return t===""||t!==void 0&&(t=Cy(t),Number.isNaN(t)&&(t=80)),t}function fee(t){return typeof t=="number"?t:typeof t=="string"?/^\d+(?:px)?$/.test(t)?Number.parseInt(t,10):t:null}function hee(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function Ch(t,e,n,i,r,a){let s=a??0,o=!1;const u=t.indexOf(e),c=u!==-1,h=r==null?void 0:r.call(null,e,a),p=g=>{g==="add"?t.push(e):t.splice(u,1),o=!0},v=g=>{let y=0;const _=(i==null?void 0:i.children)&&g[i.children];return _&&Nt(_)&&(y+=_.length,_.forEach(w=>{y+=v(w)})),y};return(!r||h)&&($n(n)?n&&!c?p("add"):!n&&c&&p("remove"):p(c?"remove":"add")),!(i!=null&&i.checkStrictly)&&(i!=null&&i.children)&&Nt(e[i.children])&&e[i.children].forEach(g=>{Ch(t,g,n??!c,i,r,s+1),s+=v(g)+1}),o}function pee(t,e,n="children",i="hasChildren"){const r=s=>!(Array.isArray(s)&&s.length);function a(s,o,u){e(s,o,u),o.forEach(c=>{if(c[i]){e(c,null,u+1);return}const h=c[n];r(h)||a(c,h,u+1)})}t.forEach(s=>{if(s[i]){e(s,null,0);return}const o=s[n];r(o)||a(s,o,0)})}let Zr=null;function mee(t,e,n,i){if((Zr==null?void 0:Zr.trigger)===n)return;Zr==null||Zr();const r=i==null?void 0:i.refs.tableWrapper,a=r==null?void 0:r.dataset.prefix,s={strategy:"fixed",...t.popperOptions},o=J(pi,{content:e,virtualTriggering:!0,virtualRef:n,appendTo:r,placement:"top",transition:"none",offset:0,hideAfter:0,...t,popperOptions:s,onHide:()=>{Zr==null||Zr()}});o.appContext={...i.appContext,...i};const u=document.createElement("div");ro(o,u),o.component.exposed.onOpen();const c=r==null?void 0:r.querySelector(`.${a}-scrollbar__wrap`);Zr=()=>{ro(null,u),c==null||c.removeEventListener("scroll",Zr),Zr=null},Zr.trigger=n,c==null||c.addEventListener("scroll",Zr)}function ET(t){return t.children?SV(t.children,ET):[t]}function J1(t,e){return t+e.colSpan}const xT=(t,e,n,i)=>{let r=0,a=t;const s=n.states.columns.value;if(i){const u=ET(i[t]);r=s.slice(0,s.indexOf(u[0])).reduce(J1,0),a=r+u.reduce(J1,0)-1}else r=t;let o;switch(e){case"left":a<n.states.fixedLeafColumnsLength.value&&(o="left");break;case"right":r>=s.length-n.states.rightFixedLeafColumnsLength.value&&(o="right");break;default:a<n.states.fixedLeafColumnsLength.value?o="left":r>=s.length-n.states.rightFixedLeafColumnsLength.value&&(o="right")}return o?{direction:o,start:r,after:a}:{}},Ey=(t,e,n,i,r,a=0)=>{const s=[],{direction:o,start:u,after:c}=xT(e,n,i,r);if(o){const h=o==="left";s.push(`${t}-fixed-column--${o}`),h&&c+a===i.states.fixedLeafColumnsLength.value-1?s.push("is-last-column"):!h&&u-a===i.states.columns.value.length-i.states.rightFixedLeafColumnsLength.value&&s.push("is-first-column")}return s};function ew(t,e){return t+(e.realWidth===null||Number.isNaN(e.realWidth)?Number(e.width):e.realWidth)}const xy=(t,e,n,i)=>{const{direction:r,start:a=0,after:s=0}=xT(t,e,n,i);if(!r)return;const o={},u=r==="left",c=n.states.columns.value;return u?o.left=c.slice(0,a).reduce(ew,0):o.right=c.slice(s+1).reverse().reduce(ew,0),o},Ou=(t,e)=>{t&&(Number.isNaN(t[e])||(t[e]=`${t[e]}px`))};function vee(t){const e=qt(),n=W(!1),i=W([]);return{updateExpandRows:()=>{const u=t.data.value||[],c=t.rowKey.value;if(n.value)i.value=u.slice();else if(c){const h=Yo(i.value,c);i.value=u.reduce((p,v)=>{const g=Zi(v,c);return h[g]&&p.push(v),p},[])}else i.value=[]},toggleRowExpansion:(u,c)=>{Ch(i.value,u,c)&&e.emit("expand-change",u,i.value.slice())},setExpandRowKeys:u=>{e.store.assertRowKey();const c=t.data.value||[],h=t.rowKey.value,p=Yo(c,h);i.value=u.reduce((v,g)=>{const y=p[g];return y&&v.push(y.row),v},[])},isRowExpanded:u=>{const c=t.rowKey.value;return c?!!Yo(i.value,c)[Zi(u,c)]:i.value.includes(u)},states:{expandRows:i,defaultExpandAll:n}}}function gee(t){const e=qt(),n=W(null),i=W(null),r=c=>{e.store.assertRowKey(),n.value=c,s(c)},a=()=>{n.value=null},s=c=>{const{data:h,rowKey:p}=t;let v=null;p.value&&(v=(d(h)||[]).find(g=>Zi(g,p.value)===c)),i.value=v,e.emit("current-change",i.value,null)};return{setCurrentRowKey:r,restoreCurrentRowKey:a,setCurrentRowByKey:s,updateCurrentRow:c=>{const h=i.value;if(c&&c!==h){i.value=c,e.emit("current-change",i.value,h);return}!c&&h&&(i.value=null,e.emit("current-change",null,h))},updateCurrentRowData:()=>{const c=t.rowKey.value,h=t.data.value||[],p=i.value;if(!h.includes(p)&&p){if(c){const v=Zi(p,c);s(v)}else i.value=null;i.value===null&&e.emit("current-change",null,p)}else n.value&&(s(n.value),a())},states:{_currentRowKey:n,currentRow:i}}}function yee(t){const e=W([]),n=W({}),i=W(16),r=W(!1),a=W({}),s=W("hasChildren"),o=W("children"),u=W(!1),c=qt(),h=L(()=>{if(!t.rowKey.value)return{};const C=t.data.value||[];return v(C)}),p=L(()=>{const C=t.rowKey.value,x=Object.keys(a.value),T={};return x.length&&x.forEach(k=>{if(a.value[k].length){const R={children:[]};a.value[k].forEach(D=>{const U=Zi(D,C);R.children.push(U),D[s.value]&&!T[U]&&(T[U]={children:[]})}),T[k]=R}}),T}),v=C=>{const x=t.rowKey.value,T={};return pee(C,(k,R,D)=>{const U=Zi(k,x);Array.isArray(R)?T[U]={children:R.map(P=>Zi(P,x)),level:D}:r.value&&(T[U]={children:[],lazy:!0,level:D})},o.value,s.value),T},g=(C=!1,x=(T=>(T=c.store)==null?void 0:T.states.defaultExpandAll.value)())=>{var T;const k=h.value,R=p.value,D=Object.keys(k),U={};if(D.length){const P=d(n),N=[],$=(Y,H)=>{if(C)return e.value?x||e.value.includes(H):!!(x||Y!=null&&Y.expanded);{const B=x||e.value&&e.value.includes(H);return!!(Y!=null&&Y.expanded||B)}};D.forEach(Y=>{const H=P[Y],B={...k[Y]};if(B.expanded=$(H,Y),B.lazy){const{loaded:X=!1,loading:q=!1}=H||{};B.loaded=!!X,B.loading=!!q,N.push(Y)}U[Y]=B});const Q=Object.keys(R);r.value&&Q.length&&N.length&&Q.forEach(Y=>{const H=P[Y],B=R[Y].children;if(N.includes(Y)){if(U[Y].children.length!==0)throw new Error("[ElTable]children must be an empty array.");U[Y].children=B}else{const{loaded:X=!1,loading:q=!1}=H||{};U[Y]={lazy:!0,loaded:!!X,loading:!!q,expanded:$(H,Y),children:B,level:""}}})}n.value=U,(T=c.store)==null||T.updateTableScrollY()};Le(()=>e.value,()=>{g(!0)}),Le(()=>h.value,()=>{g()}),Le(()=>p.value,()=>{g()});const y=C=>{e.value=C,g()},_=(C,x)=>{c.store.assertRowKey();const T=t.rowKey.value,k=Zi(C,T),R=k&&n.value[k];if(k&&R&&"expanded"in R){const D=R.expanded;x=typeof x>"u"?!R.expanded:x,n.value[k].expanded=x,D!==x&&c.emit("expand-change",C,x),c.store.updateTableScrollY()}},w=C=>{c.store.assertRowKey();const x=t.rowKey.value,T=Zi(C,x),k=n.value[T];r.value&&k&&"loaded"in k&&!k.loaded?b(C,T,k):_(C,void 0)},b=(C,x,T)=>{const{load:k}=c.props;k&&!n.value[x].loaded&&(n.value[x].loading=!0,k(C,T,R=>{if(!Array.isArray(R))throw new TypeError("[ElTable] data must be an array");n.value[x].loading=!1,n.value[x].loaded=!0,n.value[x].expanded=!0,R.length&&(a.value[x]=R),c.emit("expand-change",C,!0)}))};return{loadData:b,loadOrToggle:w,toggleTreeExpansion:_,updateTreeExpandKeys:y,updateTreeData:g,updateKeyChildren:(C,x)=>{const{lazy:T,rowKey:k}=c.props;if(T){if(!k)throw new Error("[Table] rowKey is required in updateKeyChild");a.value[C]&&(a.value[C]=x)}},normalize:v,states:{expandRowKeys:e,treeData:n,indent:i,lazy:r,lazyTreeNodeMap:a,lazyColumnIdentifier:s,childrenColumnName:o,checkStrictly:u}}}const _ee=(t,e)=>{const n=e.sortingColumn;return!n||typeof n.sortable=="string"?t:uee(t,e.sortProp,e.sortOrder,n.sortMethod,n.sortBy)},Kf=t=>{const e=[];return t.forEach(n=>{n.children&&n.children.length>0?e.push.apply(e,Kf(n.children)):e.push(n)}),e};function bee(){var t;const e=qt(),{size:n}=Ri((t=e.proxy)==null?void 0:t.$props),i=W(null),r=W([]),a=W([]),s=W(!1),o=W([]),u=W([]),c=W([]),h=W([]),p=W([]),v=W([]),g=W([]),y=W([]),_=[],w=W(0),b=W(0),M=W(0),C=W(!1),x=W([]),T=W(!1),k=W(!1),R=W(null),D=W({}),U=W(null),P=W(null),N=W(null),$=W(null),Q=W(null);Le(r,()=>e.state&&q(!1),{deep:!0});const Y=()=>{if(!i.value)throw new Error("[ElTable] prop row-key is required")},H=Te=>{var ze;(ze=Te.children)==null||ze.forEach(de=>{de.fixed=Te.fixed,H(de)})};let B;const X=()=>{o.value.forEach(Re=>{H(Re)}),h.value=o.value.filter(Re=>Re.fixed===!0||Re.fixed==="left"),p.value=o.value.filter(Re=>Re.fixed==="right"),zn(B)&&o.value[0]&&o.value[0].type==="selection"&&(B=!!o.value[0].fixed),h.value.length>0&&o.value[0]&&o.value[0].type==="selection"&&(o.value[0].fixed?h.value.some(gt=>gt.type!=="selection")?B=void 0:(o.value[0].fixed=B,B||h.value.shift()):(o.value[0].fixed=!0,h.value.unshift(o.value[0])));const Te=o.value.filter(Re=>!Re.fixed);u.value=[].concat(h.value).concat(Te).concat(p.value);const ze=Kf(Te),de=Kf(h.value),be=Kf(p.value);w.value=ze.length,b.value=de.length,M.value=be.length,c.value=[].concat(de).concat(ze).concat(be),s.value=h.value.length>0||p.value.length>0},q=(Te,ze=!1)=>{Te&&X(),ze?e.state.doLayout():e.state.debouncedUpdateLayout()},O=Te=>x.value.some(ze=>er(ze,Te)),V=()=>{C.value=!1;const Te=x.value;x.value=[],Te.length&&e.emit("selection-change",[])},ee=()=>{let Te;if(i.value){Te=[];const ze=Yo(x.value,i.value),de=Yo(r.value,i.value);for(const be in ze)Gi(ze,be)&&!de[be]&&Te.push(ze[be].row)}else Te=x.value.filter(ze=>!r.value.includes(ze));if(Te.length){const ze=x.value.filter(de=>!Te.includes(de));x.value=ze,e.emit("selection-change",ze.slice())}},ce=()=>(x.value||[]).slice(),se=(Te,ze,de=!0,be=!1)=>{var Re,gt,Ft,Ee;const st={children:(gt=(Re=e==null?void 0:e.store)==null?void 0:Re.states)==null?void 0:gt.childrenColumnName.value,checkStrictly:(Ee=(Ft=e==null?void 0:e.store)==null?void 0:Ft.states)==null?void 0:Ee.checkStrictly.value};if(Ch(x.value,Te,ze,st,be?void 0:R.value)){const et=(x.value||[]).slice();de&&e.emit("select",et,Te),e.emit("selection-change",et)}},le=()=>{var Te,ze;const de=k.value?!C.value:!(C.value||x.value.length);C.value=de;let be=!1,Re=0;const gt=(ze=(Te=e==null?void 0:e.store)==null?void 0:Te.states)==null?void 0:ze.rowKey.value,{childrenColumnName:Ft}=e.store.states,Ee={children:Ft.value,checkStrictly:!1};r.value.forEach((st,ve)=>{const et=ve+Re;Ch(x.value,st,de,Ee,R.value,et)&&(be=!0),Re+=pe(Zi(st,gt))}),be&&e.emit("selection-change",x.value?x.value.slice():[]),e.emit("select-all",(x.value||[]).slice())},ye=()=>{const Te=Yo(x.value,i.value);r.value.forEach(ze=>{const de=Zi(ze,i.value),be=Te[de];be&&(x.value[be.index]=ze)})},Ce=()=>{var Te;if(((Te=r.value)==null?void 0:Te.length)===0){C.value=!1;return}const{childrenColumnName:ze}=e.store.states,de=i.value?Yo(x.value,i.value):void 0;let be=0,Re=0;const gt=st=>de?!!de[Zi(st,i.value)]:x.value.includes(st),Ft=st=>{var ve;for(const et of st){const lt=R.value&&R.value.call(null,et,be);if(gt(et))Re++;else if(!R.value||lt)return!1;if(be++,(ve=et[ze.value])!=null&&ve.length&&!Ft(et[ze.value]))return!1}return!0},Ee=Ft(r.value||[]);C.value=Re===0?!1:Ee},pe=Te=>{var ze;if(!e||!e.store)return 0;const{treeData:de}=e.store.states;let be=0;const Re=(ze=de.value[Te])==null?void 0:ze.children;return Re&&(be+=Re.length,Re.forEach(gt=>{be+=pe(gt)})),be},ue=(Te,ze)=>{Array.isArray(Te)||(Te=[Te]);const de={};return Te.forEach(be=>{D.value[be.id]=ze,de[be.columnKey||be.id]=ze}),de},Me=(Te,ze,de)=>{P.value&&P.value!==Te&&(P.value.order=null),P.value=Te,N.value=ze,$.value=de},De=()=>{let Te=d(a);Object.keys(D.value).forEach(ze=>{const de=D.value[ze];if(!de||de.length===0)return;const be=ST({columns:c.value},ze);be&&be.filterMethod&&(Te=Te.filter(Re=>de.some(gt=>be.filterMethod.call(null,gt,Re,be))))}),U.value=Te},xe=()=>{r.value=_ee(U.value,{sortingColumn:P.value,sortProp:N.value,sortOrder:$.value})},G=(Te=void 0)=>{Te&&Te.filter||De(),xe()},He=Te=>{const{tableHeaderRef:ze}=e.refs;if(!ze)return;const de=Object.assign({},ze.filterPanels),be=Object.keys(de);if(be.length)if(typeof Te=="string"&&(Te=[Te]),Array.isArray(Te)){const Re=Te.map(gt=>cee({columns:c.value},gt));be.forEach(gt=>{const Ft=Re.find(Ee=>Ee.id===gt);Ft&&(Ft.filteredValue=[])}),e.store.commit("filterChange",{column:Re,values:[],silent:!0,multi:!0})}else be.forEach(Re=>{const gt=c.value.find(Ft=>Ft.id===Re);gt&&(gt.filteredValue=[])}),D.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},Qe=()=>{P.value&&(Me(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:at,toggleRowExpansion:rt,updateExpandRows:it,states:qe,isRowExpanded:te}=vee({data:r,rowKey:i}),{updateTreeExpandKeys:ae,toggleTreeExpansion:ke,updateTreeData:Be,updateKeyChildren:Ve,loadOrToggle:Ae,states:Pe}=yee({data:r,rowKey:i}),{updateCurrentRowData:Xe,updateCurrentRow:vt,setCurrentRowKey:nt,states:Rt}=gee({data:r,rowKey:i});return{assertRowKey:Y,updateColumns:X,scheduleLayout:q,isSelected:O,clearSelection:V,cleanSelection:ee,getSelectionRows:ce,toggleRowSelection:se,_toggleAllSelection:le,toggleAllSelection:null,updateSelectionByRowKey:ye,updateAllSelected:Ce,updateFilters:ue,updateCurrentRow:vt,updateSort:Me,execFilter:De,execSort:xe,execQuery:G,clearFilter:He,clearSort:Qe,toggleRowExpansion:rt,setExpandRowKeysAdapter:Te=>{at(Te),ae(Te)},setCurrentRowKey:nt,toggleRowExpansionAdapter:(Te,ze)=>{c.value.some(({type:be})=>be==="expand")?rt(Te,ze):ke(Te,ze)},isRowExpanded:te,updateExpandRows:it,updateCurrentRowData:Xe,loadOrToggle:Ae,updateTreeData:Be,updateKeyChildren:Ve,states:{tableSize:n,rowKey:i,data:r,_data:a,isComplex:s,_columns:o,originColumns:u,columns:c,fixedColumns:h,rightFixedColumns:p,leafColumns:v,fixedLeafColumns:g,rightFixedLeafColumns:y,updateOrderFns:_,leafColumnsLength:w,fixedLeafColumnsLength:b,rightFixedLeafColumnsLength:M,isAllSelected:C,selection:x,reserveSelection:T,selectOnIndeterminate:k,selectable:R,filters:D,filteredData:U,sortingColumn:P,sortProp:N,sortOrder:$,hoverRow:Q,...qe,...Pe,...Rt}}}function sg(t,e){return t.map(n=>{var i;return n.id===e.id?e:((i=n.children)!=null&&i.length&&(n.children=sg(n.children,e)),n)})}function og(t){t.forEach(e=>{var n,i;e.no=(n=e.getColumnIndex)==null?void 0:n.call(e),(i=e.children)!=null&&i.length&&og(e.children)}),t.sort((e,n)=>e.no-n.no)}function wee(){const t=qt(),e=bee();return{ns:Fe("table"),...e,mutations:{setData(s,o){const u=d(s._data)!==o;s.data.value=o,s._data.value=o,t.store.execQuery(),t.store.updateCurrentRowData(),t.store.updateExpandRows(),t.store.updateTreeData(t.store.states.defaultExpandAll.value),d(s.reserveSelection)?(t.store.assertRowKey(),t.store.updateSelectionByRowKey()):u?t.store.clearSelection():t.store.cleanSelection(),t.store.updateAllSelected(),t.$ready&&t.store.scheduleLayout()},insertColumn(s,o,u,c){const h=d(s._columns);let p=[];u?(u&&!u.children&&(u.children=[]),u.children.push(o),p=sg(h,u)):(h.push(o),p=h),og(p),s._columns.value=p,s.updateOrderFns.push(c),o.type==="selection"&&(s.selectable.value=o.selectable,s.reserveSelection.value=o.reserveSelection),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},updateColumnOrder(s,o){var u;((u=o.getColumnIndex)==null?void 0:u.call(o))!==o.no&&(og(s._columns.value),t.$ready&&t.store.updateColumns())},removeColumn(s,o,u,c){const h=d(s._columns)||[];if(u)u.children.splice(u.children.findIndex(v=>v.id===o.id),1),yt(()=>{var v;((v=u.children)==null?void 0:v.length)===0&&delete u.children}),s._columns.value=sg(h,u);else{const v=h.indexOf(o);v>-1&&(h.splice(v,1),s._columns.value=h)}const p=s.updateOrderFns.indexOf(c);p>-1&&s.updateOrderFns.splice(p,1),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},sort(s,o){const{prop:u,order:c,init:h}=o;if(u){const p=d(s.columns).find(v=>v.property===u);p&&(p.order=c,t.store.updateSort(p,u,c),t.store.commit("changeSortCondition",{init:h}))}},changeSortCondition(s,o){const{sortingColumn:u,sortProp:c,sortOrder:h}=s,p=d(u),v=d(c),g=d(h);g===null&&(s.sortingColumn.value=null,s.sortProp.value=null);const y={filter:!0};t.store.execQuery(y),(!o||!(o.silent||o.init))&&t.emit("sort-change",{column:p,prop:v,order:g}),t.store.updateTableScrollY()},filterChange(s,o){const{column:u,values:c,silent:h}=o,p=t.store.updateFilters(u,c);t.store.execQuery(),h||t.emit("filter-change",p),t.store.updateTableScrollY()},toggleAllSelection(){t.store.toggleAllSelection()},rowSelectedChanged(s,o){t.store.toggleRowSelection(o),t.store.updateAllSelected()},setHoverRow(s,o){s.hoverRow.value=o},setCurrentRow(s,o){t.store.updateCurrentRow(o)}},commit:function(s,...o){const u=t.store.mutations;if(u[s])u[s].apply(t,[t.store.states].concat(o));else throw new Error(`Action not found: ${s}`)},updateTableScrollY:function(){yt(()=>t.layout.updateScrollY.apply(t.layout))}}}const zc={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function See(t,e){if(!t)throw new Error("Table is required.");const n=wee();return n.toggleAllSelection=Rr(n._toggleAllSelection,10),Object.keys(zc).forEach(i=>{MT(TT(e,i),i,n)}),Cee(n,e),n}function Cee(t,e){Object.keys(zc).forEach(n=>{Le(()=>TT(e,n),i=>{MT(i,n,t)})})}function MT(t,e,n){let i=t,r=zc[e];typeof zc[e]=="object"&&(r=r.key,i=i||zc[e].default),n.states[r].value=i}function TT(t,e){if(e.includes(".")){const n=e.split(".");let i=t;return n.forEach(r=>{i=i[r]}),i}else return t[e]}class Eee{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=W(null),this.scrollX=W(!1),this.scrollY=W(!1),this.bodyWidth=W(null),this.fixedWidth=W(null),this.rightFixedWidth=W(null),this.gutterWidth=0;for(const n in e)Gi(e,n)&&(Ji(this[n])?this[n].value=e[n]:this[n]=e[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(n!=null&&n.wrapRef)){let i=!0;const r=this.scrollY.value;return i=n.wrapRef.scrollHeight>n.wrapRef.clientHeight,this.scrollY.value=i,r!==i}return!1}setHeight(e,n="height"){if(!tn)return;const i=this.table.vnode.el;if(e=fee(e),this.height.value=Number(e),!i&&(e||e===0))return yt(()=>this.setHeight(e,n));typeof e=="number"?(i.style[n]=`${e}px`,this.updateElsHeight()):typeof e=="string"&&(i.style[n]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach(i=>{i.isColumnGroup?e.push.apply(e,i.columns):e.push(i)}),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let n=e;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){if(!tn)return;const e=this.fit,n=this.table.vnode.el.clientWidth;let i=0;const r=this.getFlattenColumns(),a=r.filter(u=>typeof u.width!="number");if(r.forEach(u=>{typeof u.width=="number"&&u.realWidth&&(u.realWidth=null)}),a.length>0&&e){if(r.forEach(u=>{i+=Number(u.width||u.minWidth||80)}),i<=n){this.scrollX.value=!1;const u=n-i;if(a.length===1)a[0].realWidth=Number(a[0].minWidth||80)+u;else{const c=a.reduce((v,g)=>v+Number(g.minWidth||80),0),h=u/c;let p=0;a.forEach((v,g)=>{if(g===0)return;const y=Math.floor(Number(v.minWidth||80)*h);p+=y,v.realWidth=Number(v.minWidth||80)+y}),a[0].realWidth=Number(a[0].minWidth||80)+u-p}}else this.scrollX.value=!0,a.forEach(u=>{u.realWidth=Number(u.minWidth)});this.bodyWidth.value=Math.max(i,n),this.table.state.resizeState.value.width=this.bodyWidth.value}else r.forEach(u=>{!u.width&&!u.minWidth?u.realWidth=80:u.realWidth=Number(u.width||u.minWidth),i+=u.realWidth}),this.scrollX.value=i>n,this.bodyWidth.value=i;const s=this.store.states.fixedColumns.value;if(s.length>0){let u=0;s.forEach(c=>{u+=Number(c.realWidth||c.width)}),this.fixedWidth.value=u}const o=this.store.states.rightFixedColumns.value;if(o.length>0){let u=0;o.forEach(c=>{u+=Number(c.realWidth||c.width)}),this.rightFixedWidth.value=u}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const n=this.observers.indexOf(e);n!==-1&&this.observers.splice(n,1)}notifyObservers(e){this.observers.forEach(i=>{var r,a;switch(e){case"columns":(r=i.state)==null||r.onColumnsChange(this);break;case"scrollable":(a=i.state)==null||a.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}})}}const{CheckboxGroup:xee}=da,Mee=re({name:"ElTableFilterPanel",components:{ElCheckbox:da,ElCheckboxGroup:xee,ElScrollbar:as,ElTooltip:pi,ElIcon:dt,ArrowDown:Is,ArrowUp:Qg},directives:{ClickOutside:xs},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:{type:String}},setup(t){const e=qt(),{t:n}=nn(),i=Fe("table-filter"),r=e==null?void 0:e.parent;r.filterPanels.value[t.column.id]||(r.filterPanels.value[t.column.id]=e);const a=W(!1),s=W(null),o=L(()=>t.column&&t.column.filters),u=L(()=>t.column.filterClassName?`${i.b()} ${t.column.filterClassName}`:i.b()),c=L({get:()=>{var T;return(((T=t.column)==null?void 0:T.filteredValue)||[])[0]},set:T=>{h.value&&(typeof T<"u"&&T!==null?h.value.splice(0,1,T):h.value.splice(0,1))}}),h=L({get(){return t.column?t.column.filteredValue||[]:[]},set(T){t.column&&t.upDataColumn("filteredValue",T)}}),p=L(()=>t.column?t.column.filterMultiple:!0),v=T=>T.value===c.value,g=()=>{a.value=!1},y=T=>{T.stopPropagation(),a.value=!a.value},_=()=>{a.value=!1},w=()=>{C(h.value),g()},b=()=>{h.value=[],C(h.value),g()},M=T=>{c.value=T,C(typeof T<"u"&&T!==null?h.value:[]),g()},C=T=>{t.store.commit("filterChange",{column:t.column,values:T}),t.store.updateAllSelected()};Le(a,T=>{t.column&&t.upDataColumn("filterOpened",T)},{immediate:!0});const x=L(()=>{var T,k;return(k=(T=s.value)==null?void 0:T.popperRef)==null?void 0:k.contentRef});return{tooltipVisible:a,multiple:p,filterClassName:u,filteredValue:h,filterValue:c,filters:o,handleConfirm:w,handleReset:b,handleSelect:M,isActive:v,t:n,ns:i,showFilterPanel:y,hideFilterPanel:_,popperPaneRef:x,tooltip:s}}});function Tee(t,e,n,i,r,a){const s=At("el-checkbox"),o=At("el-checkbox-group"),u=At("el-scrollbar"),c=At("arrow-up"),h=At("arrow-down"),p=At("el-icon"),v=At("el-tooltip"),g=zh("click-outside");return I(),we(v,{ref:"tooltip",visible:t.tooltipVisible,offset:0,placement:t.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":t.filterClassName,persistent:"","append-to":t.appendTo},{content:ne(()=>[t.multiple?(I(),K("div",{key:0},[Z("div",{class:z(t.ns.e("content"))},[J(u,{"wrap-class":t.ns.e("wrap")},{default:ne(()=>[J(o,{modelValue:t.filteredValue,"onUpdate:modelValue":y=>t.filteredValue=y,class:z(t.ns.e("checkbox-group"))},{default:ne(()=>[(I(!0),K(ut,null,Ut(t.filters,y=>(I(),we(s,{key:y.value,value:y.value},{default:ne(()=>[mt(Ne(y.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"])]),_:1},8,["wrap-class"])],2),Z("div",{class:z(t.ns.e("bottom"))},[Z("button",{class:z({[t.ns.is("disabled")]:t.filteredValue.length===0}),disabled:t.filteredValue.length===0,type:"button",onClick:t.handleConfirm},Ne(t.t("el.table.confirmFilter")),11,["disabled","onClick"]),Z("button",{type:"button",onClick:t.handleReset},Ne(t.t("el.table.resetFilter")),9,["onClick"])],2)])):(I(),K("ul",{key:1,class:z(t.ns.e("list"))},[Z("li",{class:z([t.ns.e("list-item"),{[t.ns.is("active")]:t.filterValue===void 0||t.filterValue===null}]),onClick:y=>t.handleSelect(null)},Ne(t.t("el.table.clearFilter")),11,["onClick"]),(I(!0),K(ut,null,Ut(t.filters,y=>(I(),K("li",{key:y.value,class:z([t.ns.e("list-item"),t.ns.is("active",t.isActive(y))]),label:y.value,onClick:_=>t.handleSelect(y.value)},Ne(y.text),11,["label","onClick"]))),128))],2))]),default:ne(()=>[Bt((I(),K("span",{class:z([`${t.ns.namespace.value}-table__column-filter-trigger`,`${t.ns.namespace.value}-none-outline`]),onClick:t.showFilterPanel},[J(p,null,{default:ne(()=>[oe(t.$slots,"filter-icon",{},()=>[t.column.filterOpened?(I(),we(c,{key:0})):(I(),we(h,{key:1}))])]),_:3})],10,["onClick"])),[[g,t.hideFilterPanel,t.popperPaneRef]])]),_:3},8,["visible","placement","popper-class","append-to"])}var Aee=We(Mee,[["render",Tee],["__file","filter-panel.vue"]]);function AT(t){const e=qt();Hg(()=>{n.value.addObserver(e)}),wt(()=>{i(n.value),r(n.value)}),yo(()=>{i(n.value),r(n.value)}),As(()=>{n.value.removeObserver(e)});const n=L(()=>{const a=t.layout;if(!a)throw new Error("Can not find table layout.");return a}),i=a=>{var s;const o=((s=t.vnode.el)==null?void 0:s.querySelectorAll("colgroup > col"))||[];if(!o.length)return;const u=a.getFlattenColumns(),c={};u.forEach(h=>{c[h.id]=h});for(let h=0,p=o.length;h<p;h++){const v=o[h],g=v.getAttribute("name"),y=c[g];y&&v.setAttribute("width",y.realWidth||y.width)}},r=a=>{var s,o;const u=((s=t.vnode.el)==null?void 0:s.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let h=0,p=u.length;h<p;h++)u[h].setAttribute("width",a.scrollY.value?a.gutterWidth:"0");const c=((o=t.vnode.el)==null?void 0:o.querySelectorAll("th.gutter"))||[];for(let h=0,p=c.length;h<p;h++){const v=c[h];v.style.width=a.scrollY.value?`${a.gutterWidth}px`:"0",v.style.display=a.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:i,onScrollableChange:r}}const ss=Symbol("ElTable");function kee(t,e){const n=qt(),i=ct(ss),r=_=>{_.stopPropagation()},a=(_,w)=>{!w.filters&&w.sortable?y(_,w,!1):w.filterable&&!w.sortable&&r(_),i==null||i.emit("header-click",w,_)},s=(_,w)=>{i==null||i.emit("header-contextmenu",w,_)},o=W(null),u=W(!1),c=W({}),h=(_,w)=>{if(tn&&!(w.children&&w.children.length>0)&&o.value&&t.border){u.value=!0;const b=i;e("set-drag-visible",!0);const C=(b==null?void 0:b.vnode.el).getBoundingClientRect().left,x=n.vnode.el.querySelector(`th.${w.id}`),T=x.getBoundingClientRect(),k=T.left-C+30;ia(x,"noclick"),c.value={startMouseLeft:_.clientX,startLeft:T.right-C,startColumnLeft:T.left-C,tableLeft:C};const R=b==null?void 0:b.refs.resizeProxy;R.style.left=`${c.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const D=P=>{const N=P.clientX-c.value.startMouseLeft,$=c.value.startLeft+N;R.style.left=`${Math.max(k,$)}px`},U=()=>{if(u.value){const{startColumnLeft:P,startLeft:N}=c.value,Q=Number.parseInt(R.style.left,10)-P;w.width=w.realWidth=Q,b==null||b.emit("header-dragend",w.width,N-P,w,_),requestAnimationFrame(()=>{t.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",u.value=!1,o.value=null,c.value={},e("set-drag-visible",!1)}document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",U),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{tr(x,"noclick")},0)};document.addEventListener("mousemove",D),document.addEventListener("mouseup",U)}},p=(_,w)=>{if(w.children&&w.children.length>0)return;const b=_.target;if(!Hr(b))return;const M=b==null?void 0:b.closest("th");if(!(!w||!w.resizable)&&!u.value&&t.border){const C=M.getBoundingClientRect(),x=document.body.style;C.width>12&&C.right-_.pageX<8?(x.cursor="col-resize",xr(M,"is-sortable")&&(M.style.cursor="col-resize"),o.value=w):u.value||(x.cursor="",xr(M,"is-sortable")&&(M.style.cursor="pointer"),o.value=null)}},v=()=>{tn&&(document.body.style.cursor="")},g=({order:_,sortOrders:w})=>{if(_==="")return w[0];const b=w.indexOf(_||null);return w[b>w.length-2?0:b+1]},y=(_,w,b)=>{var M;_.stopPropagation();const C=w.order===b?null:b||g(w),x=(M=_.target)==null?void 0:M.closest("th");if(x&&xr(x,"noclick")){tr(x,"noclick");return}if(!w.sortable)return;const T=_.currentTarget;if(["ascending","descending"].some(P=>xr(T,P)&&!w.sortOrders.includes(P)))return;const k=t.store.states;let R=k.sortProp.value,D;const U=k.sortingColumn.value;(U!==w||U===w&&U.order===null)&&(U&&(U.order=null),k.sortingColumn.value=w,R=w.property),C?D=w.order=C:D=w.order=null,k.sortProp.value=R,k.sortOrder.value=D,i==null||i.store.commit("changeSortCondition")};return{handleHeaderClick:a,handleHeaderContextMenu:s,handleMouseDown:h,handleMouseMove:p,handleMouseOut:v,handleSortClick:y,handleFilterClick:r}}function Iee(t){const e=ct(ss),n=Fe("table");return{getHeaderRowStyle:o=>{const u=e==null?void 0:e.props.headerRowStyle;return typeof u=="function"?u.call(null,{rowIndex:o}):u},getHeaderRowClass:o=>{const u=[],c=e==null?void 0:e.props.headerRowClassName;return typeof c=="string"?u.push(c):typeof c=="function"&&u.push(c.call(null,{rowIndex:o})),u.join(" ")},getHeaderCellStyle:(o,u,c,h)=>{var p;let v=(p=e==null?void 0:e.props.headerCellStyle)!=null?p:{};typeof v=="function"&&(v=v.call(null,{rowIndex:o,columnIndex:u,row:c,column:h}));const g=xy(u,h.fixed,t.store,c);return Ou(g,"left"),Ou(g,"right"),Object.assign({},v,g)},getHeaderCellClass:(o,u,c,h)=>{const p=Ey(n.b(),u,h.fixed,t.store,c),v=[h.id,h.order,h.headerAlign,h.className,h.labelClassName,...p];h.children||v.push("is-leaf"),h.sortable&&v.push("is-sortable");const g=e==null?void 0:e.props.headerCellClassName;return typeof g=="string"?v.push(g):typeof g=="function"&&v.push(g.call(null,{rowIndex:o,columnIndex:u,row:c,column:h})),v.push(n.e("cell")),v.filter(y=>!!y).join(" ")}}}const kT=t=>{const e=[];return t.forEach(n=>{n.children?(e.push(n),e.push.apply(e,kT(n.children))):e.push(n)}),e},IT=t=>{let e=1;const n=(a,s)=>{if(s&&(a.level=s.level+1,e<a.level&&(e=a.level)),a.children){let o=0;a.children.forEach(u=>{n(u,a),o+=u.colSpan}),a.colSpan=o}else a.colSpan=1};t.forEach(a=>{a.level=1,n(a,void 0)});const i=[];for(let a=0;a<e;a++)i.push([]);return kT(t).forEach(a=>{a.children?(a.rowSpan=1,a.children.forEach(s=>s.isSubColumn=!0)):a.rowSpan=e-a.level+1,i[a.level-1].push(a)}),i};function Pee(t){const e=ct(ss),n=L(()=>IT(t.store.states.originColumns.value));return{isGroup:L(()=>{const a=n.value.length>1;return a&&e&&(e.state.isGroup.value=!0),a}),toggleAllSelection:a=>{a.stopPropagation(),e==null||e.store.commit("toggleAllSelection")},columnRows:n}}var Ree=re({name:"ElTableHeader",components:{ElCheckbox:da},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})},appendFilterPanelTo:{type:String}},setup(t,{emit:e}){const n=qt(),i=ct(ss),r=Fe("table"),a=W({}),{onColumnsChange:s,onScrollableChange:o}=AT(i);wt(async()=>{await yt(),await yt();const{prop:k,order:R}=t.defaultSort;i==null||i.store.commit("sort",{prop:k,order:R,init:!0})});const{handleHeaderClick:u,handleHeaderContextMenu:c,handleMouseDown:h,handleMouseMove:p,handleMouseOut:v,handleSortClick:g,handleFilterClick:y}=kee(t,e),{getHeaderRowStyle:_,getHeaderRowClass:w,getHeaderCellStyle:b,getHeaderCellClass:M}=Iee(t),{isGroup:C,toggleAllSelection:x,columnRows:T}=Pee(t);return n.state={onColumnsChange:s,onScrollableChange:o},n.filterPanels=a,{ns:r,filterPanels:a,onColumnsChange:s,onScrollableChange:o,columnRows:T,getHeaderRowClass:w,getHeaderRowStyle:_,getHeaderCellClass:M,getHeaderCellStyle:b,handleHeaderClick:u,handleHeaderContextMenu:c,handleMouseDown:h,handleMouseMove:p,handleMouseOut:v,handleSortClick:g,handleFilterClick:y,isGroup:C,toggleAllSelection:x}},render(){const{ns:t,isGroup:e,columnRows:n,getHeaderCellStyle:i,getHeaderCellClass:r,getHeaderRowClass:a,getHeaderRowStyle:s,handleHeaderClick:o,handleHeaderContextMenu:u,handleMouseDown:c,handleMouseMove:h,handleSortClick:p,handleMouseOut:v,store:g,$parent:y}=this;let _=1;return Ct("thead",{class:{[t.is("group")]:e}},n.map((w,b)=>Ct("tr",{class:a(b),key:b,style:s(b)},w.map((M,C)=>(M.rowSpan>_&&(_=M.rowSpan),Ct("th",{class:r(b,C,w,M),colspan:M.colSpan,key:`${M.id}-thead`,rowspan:M.rowSpan,style:i(b,C,w,M),onClick:x=>{x.currentTarget.classList.contains("noclick")||o(x,M)},onContextmenu:x=>u(x,M),onMousedown:x=>c(x,M),onMousemove:x=>h(x,M),onMouseout:v},[Ct("div",{class:["cell",M.filteredValue&&M.filteredValue.length>0?"highlight":""]},[M.renderHeader?M.renderHeader({column:M,$index:C,store:g,_self:y}):M.label,M.sortable&&Ct("span",{onClick:x=>p(x,M),class:"caret-wrapper"},[Ct("i",{onClick:x=>p(x,M,"ascending"),class:"sort-caret ascending"}),Ct("i",{onClick:x=>p(x,M,"descending"),class:"sort-caret descending"})]),M.filterable&&Ct(Aee,{store:g,placement:M.filterPlacement||"bottom-start",appendTo:y.appendFilterPanelTo,column:M,upDataColumn:(x,T)=>{M[x]=T}},{"filter-icon":()=>M.renderFilterIcon?M.renderFilterIcon({filterOpened:M.filterOpened}):null})])]))))))}});function lm(t,e,n=.03){return t-e>n}function Lee(t){const e=ct(ss),n=W(""),i=W(Ct("div")),r=(y,_,w)=>{var b;const M=e,C=om(y);let x;const T=(b=M==null?void 0:M.vnode.el)==null?void 0:b.dataset.prefix;C&&(x=Q1({columns:t.store.states.columns.value},C,T),x&&(M==null||M.emit(`cell-${w}`,_,x,C,y))),M==null||M.emit(`row-${w}`,_,x,y)},a=(y,_)=>{r(y,_,"dblclick")},s=(y,_)=>{t.store.commit("setCurrentRow",_),r(y,_,"click")},o=(y,_)=>{r(y,_,"contextmenu")},u=Rr(y=>{t.store.commit("setHoverRow",y)},30),c=Rr(()=>{t.store.commit("setHoverRow",null)},30),h=y=>{const _=window.getComputedStyle(y,null),w=Number.parseInt(_.paddingLeft,10)||0,b=Number.parseInt(_.paddingRight,10)||0,M=Number.parseInt(_.paddingTop,10)||0,C=Number.parseInt(_.paddingBottom,10)||0;return{left:w,right:b,top:M,bottom:C}},p=(y,_,w)=>{let b=_.target.parentNode;for(;y>1&&(b=b==null?void 0:b.nextSibling,!(!b||b.nodeName!=="TR"));)w(b,"hover-row hover-fixed-row"),y--};return{handleDoubleClick:a,handleClick:s,handleContextMenu:o,handleMouseEnter:u,handleMouseLeave:c,handleCellMouseEnter:(y,_,w)=>{var b;const M=e,C=om(y),x=(b=M==null?void 0:M.vnode.el)==null?void 0:b.dataset.prefix;if(C){const X=Q1({columns:t.store.states.columns.value},C,x);C.rowSpan>1&&p(C.rowSpan,y,ia);const q=M.hoverState={cell:C,column:X,row:_};M==null||M.emit("cell-mouse-enter",q.row,q.column,q.cell,y)}if(!w)return;const T=y.target.querySelector(".cell");if(!(xr(T,`${x}-tooltip`)&&T.childNodes.length))return;const k=document.createRange();k.setStart(T,0),k.setEnd(T,T.childNodes.length);const{width:R,height:D}=k.getBoundingClientRect(),{width:U,height:P}=T.getBoundingClientRect(),{top:N,left:$,right:Q,bottom:Y}=h(T),H=$+Q,B=N+Y;(lm(R+H,U)||lm(D+B,P)||lm(T.scrollWidth,U))&&mee(w,C.innerText||C.textContent,C,M)},handleCellMouseLeave:y=>{const _=om(y);if(!_)return;_.rowSpan>1&&p(_.rowSpan,y,tr);const w=e==null?void 0:e.hoverState;e==null||e.emit("cell-mouse-leave",w==null?void 0:w.row,w==null?void 0:w.column,w==null?void 0:w.cell,y)},tooltipContent:n,tooltipTrigger:i}}function Nee(t){const e=ct(ss),n=Fe("table");return{getRowStyle:(c,h)=>{const p=e==null?void 0:e.props.rowStyle;return typeof p=="function"?p.call(null,{row:c,rowIndex:h}):p||null},getRowClass:(c,h)=>{const p=[n.e("row")];e!=null&&e.props.highlightCurrentRow&&c===t.store.states.currentRow.value&&p.push("current-row"),t.stripe&&h%2===1&&p.push(n.em("row","striped"));const v=e==null?void 0:e.props.rowClassName;return typeof v=="string"?p.push(v):typeof v=="function"&&p.push(v.call(null,{row:c,rowIndex:h})),p},getCellStyle:(c,h,p,v)=>{const g=e==null?void 0:e.props.cellStyle;let y=g??{};typeof g=="function"&&(y=g.call(null,{rowIndex:c,columnIndex:h,row:p,column:v}));const _=xy(h,t==null?void 0:t.fixed,t.store);return Ou(_,"left"),Ou(_,"right"),Object.assign({},y,_)},getCellClass:(c,h,p,v,g)=>{const y=Ey(n.b(),h,t==null?void 0:t.fixed,t.store,void 0,g),_=[v.id,v.align,v.className,...y],w=e==null?void 0:e.props.cellClassName;return typeof w=="string"?_.push(w):typeof w=="function"&&_.push(w.call(null,{rowIndex:c,columnIndex:h,row:p,column:v})),_.push(n.e("cell")),_.filter(b=>!!b).join(" ")},getSpan:(c,h,p,v)=>{let g=1,y=1;const _=e==null?void 0:e.props.spanMethod;if(typeof _=="function"){const w=_({row:c,column:h,rowIndex:p,columnIndex:v});Array.isArray(w)?(g=w[0],y=w[1]):typeof w=="object"&&(g=w.rowspan,y=w.colspan)}return{rowspan:g,colspan:y}},getColspanRealWidth:(c,h,p)=>{if(h<1)return c[p].realWidth;const v=c.map(({realWidth:g,width:y})=>g||y).slice(p,p+h);return Number(v.reduce((g,y)=>Number(g)+Number(y),-1))}}}function Oee(t){const e=ct(ss),n=Fe("table"),{handleDoubleClick:i,handleClick:r,handleContextMenu:a,handleMouseEnter:s,handleMouseLeave:o,handleCellMouseEnter:u,handleCellMouseLeave:c,tooltipContent:h,tooltipTrigger:p}=Lee(t),{getRowStyle:v,getRowClass:g,getCellStyle:y,getCellClass:_,getSpan:w,getColspanRealWidth:b}=Nee(t),M=L(()=>t.store.states.columns.value.findIndex(({type:R})=>R==="default")),C=(R,D)=>{const U=e.props.rowKey;return U?Zi(R,U):D},x=(R,D,U,P=!1)=>{const{tooltipEffect:N,tooltipOptions:$,store:Q}=t,{indent:Y,columns:H}=Q.states,B=g(R,D);let X=!0;return U&&(B.push(n.em("row",`level-${U.level}`)),X=U.display),Ct("tr",{style:[X?null:{display:"none"},v(R,D)],class:B,key:C(R,D),onDblclick:O=>i(O,R),onClick:O=>r(O,R),onContextmenu:O=>a(O,R),onMouseenter:()=>s(D),onMouseleave:o},H.value.map((O,V)=>{const{rowspan:ee,colspan:ce}=w(R,O,D,V);if(!ee||!ce)return null;const se=Object.assign({},O);se.realWidth=b(H.value,ce,V);const le={store:t.store,_self:t.context||e,column:se,row:R,$index:D,cellIndex:V,expanded:P};V===M.value&&U&&(le.treeNode={indent:U.level*Y.value,level:U.level},typeof U.expanded=="boolean"&&(le.treeNode.expanded=U.expanded,"loading"in U&&(le.treeNode.loading=U.loading),"noLazyChildren"in U&&(le.treeNode.noLazyChildren=U.noLazyChildren)));const ye=`${C(R,D)},${V}`,Ce=se.columnKey||se.rawColumnKey||"",pe=T(V,O,le),ue=O.showOverflowTooltip&&MV({effect:N},$,O.showOverflowTooltip);return Ct("td",{style:y(D,V,R,O),class:_(D,V,R,O,ce-1),key:`${Ce}${ye}`,rowspan:ee,colspan:ce,onMouseenter:Me=>u(Me,R,ue),onMouseleave:c},[pe])}))},T=(R,D,U)=>D.renderCell(U);return{wrappedRowRender:(R,D)=>{const U=t.store,{isRowExpanded:P,assertRowKey:N}=U,{treeData:$,lazyTreeNodeMap:Q,childrenColumnName:Y,rowKey:H}=U.states,B=U.states.columns.value;if(B.some(({type:q})=>q==="expand")){const q=P(R),O=x(R,D,void 0,q),V=e.renderExpanded;return q?V?[[O,Ct("tr",{key:`expanded-row__${O.key}`},[Ct("td",{colspan:B.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[V({row:R,$index:D,store:U,expanded:q})])])]]:(console.error("[Element Error]renderExpanded is required."),O):[[O]]}else if(Object.keys($.value).length){N();const q=Zi(R,H.value);let O=$.value[q],V=null;O&&(V={expanded:O.expanded,level:O.level,display:!0},typeof O.lazy=="boolean"&&(typeof O.loaded=="boolean"&&O.loaded&&(V.noLazyChildren=!(O.children&&O.children.length)),V.loading=O.loading));const ee=[x(R,D,V)];if(O){let ce=0;const se=(ye,Ce)=>{ye&&ye.length&&Ce&&ye.forEach(pe=>{const ue={display:Ce.display&&Ce.expanded,level:Ce.level+1,expanded:!1,noLazyChildren:!1,loading:!1},Me=Zi(pe,H.value);if(Me==null)throw new Error("For nested data item, row-key is required.");if(O={...$.value[Me]},O&&(ue.expanded=O.expanded,O.level=O.level||ue.level,O.display=!!(O.expanded&&ue.display),typeof O.lazy=="boolean"&&(typeof O.loaded=="boolean"&&O.loaded&&(ue.noLazyChildren=!(O.children&&O.children.length)),ue.loading=O.loading)),ce++,ee.push(x(pe,D+ce,ue)),O){const De=Q.value[Me]||pe[Y.value];se(De,O)}})};O.display=!0;const le=Q.value[q]||R[Y.value];se(le,O)}return ee}else return x(R,D,void 0)},tooltipContent:h,tooltipTrigger:p}}const Dee={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var Fee=re({name:"ElTableBody",props:Dee,setup(t){const e=qt(),n=ct(ss),i=Fe("table"),{wrappedRowRender:r,tooltipContent:a,tooltipTrigger:s}=Oee(t),{onColumnsChange:o,onScrollableChange:u}=AT(n),c=[];return Le(t.store.states.hoverRow,(h,p)=>{var v;const g=e==null?void 0:e.vnode.el,y=Array.from((g==null?void 0:g.children)||[]).filter(b=>b==null?void 0:b.classList.contains(`${i.e("row")}`));let _=h;const w=(v=y[_])==null?void 0:v.childNodes;if(w!=null&&w.length){let b=0;Array.from(w).reduce((C,x,T)=>{var k,R;return((k=w[T])==null?void 0:k.colSpan)>1&&(b=(R=w[T])==null?void 0:R.colSpan),x.nodeName!=="TD"&&b===0&&C.push(T),b>0&&b--,C},[]).forEach(C=>{var x;for(_=h;_>0;){const T=(x=y[_-1])==null?void 0:x.childNodes;if(T[C]&&T[C].nodeName==="TD"&&T[C].rowSpan>1){ia(T[C],"hover-cell"),c.push(T[C]);break}_--}})}else c.forEach(b=>tr(b,"hover-cell")),c.length=0;!t.store.states.isComplex.value||!tn||uo(()=>{const b=y[p],M=y[h];b&&!b.classList.contains("hover-fixed-row")&&tr(b,"hover-row"),M&&ia(M,"hover-row")})}),As(()=>{var h;(h=Zr)==null||h()}),{ns:i,onColumnsChange:o,onScrollableChange:u,wrappedRowRender:r,tooltipContent:a,tooltipTrigger:s}},render(){const{wrappedRowRender:t,store:e}=this,n=e.states.data.value||[];return Ct("tbody",{tabIndex:-1},[n.reduce((i,r)=>i.concat(t(r,i.length)),[])])}});function Bee(){const t=ct(ss),e=t==null?void 0:t.store,n=L(()=>e.states.fixedLeafColumnsLength.value),i=L(()=>e.states.rightFixedColumns.value.length),r=L(()=>e.states.columns.value.length),a=L(()=>e.states.fixedColumns.value.length),s=L(()=>e.states.rightFixedColumns.value.length);return{leftFixedLeafCount:n,rightFixedLeafCount:i,columnsCount:r,leftFixedCount:a,rightFixedCount:s,columns:e.states.columns}}function Uee(t){const{columns:e}=Bee(),n=Fe("table");return{getCellClasses:(a,s)=>{const o=a[s],u=[n.e("cell"),o.id,o.align,o.labelClassName,...Ey(n.b(),s,o.fixed,t.store)];return o.className&&u.push(o.className),o.children||u.push(n.is("leaf")),u},getCellStyles:(a,s)=>{const o=xy(s,a.fixed,t.store);return Ou(o,"left"),Ou(o,"right"),o},columns:e}}var Vee=re({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t){const{getCellClasses:e,getCellStyles:n,columns:i}=Uee(t);return{ns:Fe("table"),getCellClasses:e,getCellStyles:n,columns:i}},render(){const{columns:t,getCellStyles:e,getCellClasses:n,summaryMethod:i,sumText:r}=this,a=this.store.states.data.value;let s=[];return i?s=i({columns:t,data:a}):t.forEach((o,u)=>{if(u===0){s[u]=r;return}const c=a.map(g=>Number(g[o.property])),h=[];let p=!0;c.forEach(g=>{if(!Number.isNaN(+g)){p=!1;const y=`${g}`.split(".")[1];h.push(y?y.length:0)}});const v=Math.max.apply(null,h);p?s[u]="":s[u]=c.reduce((g,y)=>{const _=Number(y);return Number.isNaN(+_)?g:Number.parseFloat((g+y).toFixed(Math.min(v,20)))},0)}),Ct(Ct("tfoot",[Ct("tr",{},[...t.map((o,u)=>Ct("td",{key:u,colspan:o.colSpan,rowspan:o.rowSpan,class:n(t,u),style:e(o,u)},[Ct("div",{class:["cell",o.labelClassName]},[s[u]])]))])]))}});function zee(t){return{setCurrentRow:p=>{t.commit("setCurrentRow",p)},getSelectionRows:()=>t.getSelectionRows(),toggleRowSelection:(p,v,g=!0)=>{t.toggleRowSelection(p,v,!1,g),t.updateAllSelected()},clearSelection:()=>{t.clearSelection()},clearFilter:p=>{t.clearFilter(p)},toggleAllSelection:()=>{t.commit("toggleAllSelection")},toggleRowExpansion:(p,v)=>{t.toggleRowExpansionAdapter(p,v)},clearSort:()=>{t.clearSort()},sort:(p,v)=>{t.commit("sort",{prop:p,order:v})},updateKeyChildren:(p,v)=>{t.updateKeyChildren(p,v)}}}function $ee(t,e,n,i){const r=W(!1),a=W(null),s=W(!1),o=O=>{s.value=O},u=W({width:null,height:null,headerHeight:null}),c=W(!1),h={display:"inline-block",verticalAlign:"middle"},p=W(),v=W(0),g=W(0),y=W(0),_=W(0),w=W(0);mi(()=>{e.setHeight(t.height)}),mi(()=>{e.setMaxHeight(t.maxHeight)}),Le(()=>[t.currentRowKey,n.states.rowKey],([O,V])=>{!d(V)||!d(O)||n.setCurrentRowKey(`${O}`)},{immediate:!0}),Le(()=>t.data,O=>{i.store.commit("setData",O)},{immediate:!0,deep:!0}),mi(()=>{t.expandRowKeys&&n.setExpandRowKeysAdapter(t.expandRowKeys)});const b=()=>{i.store.commit("setHoverRow",null),i.hoverState&&(i.hoverState=null)},M=(O,V)=>{const{pixelX:ee,pixelY:ce}=V;Math.abs(ee)>=Math.abs(ce)&&(i.refs.bodyWrapper.scrollLeft+=V.pixelX/5)},C=L(()=>t.height||t.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),x=L(()=>({width:e.bodyWidth.value?`${e.bodyWidth.value}px`:""})),T=()=>{C.value&&e.updateElsHeight(),e.updateColumnsWidth(),requestAnimationFrame(U)};wt(async()=>{await yt(),n.updateColumns(),P(),requestAnimationFrame(T);const O=i.vnode.el,V=i.refs.headerWrapper;t.flexible&&O&&O.parentElement&&(O.parentElement.style.minWidth="0"),u.value={width:p.value=O.offsetWidth,height:O.offsetHeight,headerHeight:t.showHeader&&V?V.offsetHeight:null},n.states.columns.value.forEach(ee=>{ee.filteredValue&&ee.filteredValue.length&&i.store.commit("filterChange",{column:ee,values:ee.filteredValue,silent:!0})}),i.$ready=!0});const k=(O,V)=>{if(!O)return;const ee=Array.from(O.classList).filter(ce=>!ce.startsWith("is-scrolling-"));ee.push(e.scrollX.value?V:"is-scrolling-none"),O.className=ee.join(" ")},R=O=>{const{tableWrapper:V}=i.refs;k(V,O)},D=O=>{const{tableWrapper:V}=i.refs;return!!(V&&V.classList.contains(O))},U=function(){if(!i.refs.scrollBarRef)return;if(!e.scrollX.value){const Ce="is-scrolling-none";D(Ce)||R(Ce);return}const O=i.refs.scrollBarRef.wrapRef;if(!O)return;const{scrollLeft:V,offsetWidth:ee,scrollWidth:ce}=O,{headerWrapper:se,footerWrapper:le}=i.refs;se&&(se.scrollLeft=V),le&&(le.scrollLeft=V);const ye=ce-ee-1;V>=ye?R("is-scrolling-right"):R(V===0?"is-scrolling-left":"is-scrolling-middle")},P=()=>{i.refs.scrollBarRef&&(i.refs.scrollBarRef.wrapRef&&yn(i.refs.scrollBarRef.wrapRef,"scroll",U,{passive:!0}),t.fit?On(i.vnode.el,N):yn(window,"resize",N),On(i.refs.bodyWrapper,()=>{var O,V;N(),(V=(O=i.refs)==null?void 0:O.scrollBarRef)==null||V.update()}))},N=()=>{var O,V,ee,ce;const se=i.vnode.el;if(!i.$ready||!se)return;let le=!1;const{width:ye,height:Ce,headerHeight:pe}=u.value,ue=p.value=se.offsetWidth;ye!==ue&&(le=!0);const Me=se.offsetHeight;(t.height||C.value)&&Ce!==Me&&(le=!0);const De=t.tableLayout==="fixed"?i.refs.headerWrapper:(O=i.refs.tableHeaderRef)==null?void 0:O.$el;t.showHeader&&(De==null?void 0:De.offsetHeight)!==pe&&(le=!0),v.value=((V=i.refs.tableWrapper)==null?void 0:V.scrollHeight)||0,y.value=(De==null?void 0:De.scrollHeight)||0,_.value=((ee=i.refs.footerWrapper)==null?void 0:ee.offsetHeight)||0,w.value=((ce=i.refs.appendWrapper)==null?void 0:ce.offsetHeight)||0,g.value=v.value-y.value-_.value-w.value,le&&(u.value={width:ue,height:Me,headerHeight:t.showHeader&&(De==null?void 0:De.offsetHeight)||0},T())},$=fi(),Q=L(()=>{const{bodyWidth:O,scrollY:V,gutterWidth:ee}=e;return O.value?`${O.value-(V.value?ee:0)}px`:""}),Y=L(()=>t.maxHeight?"fixed":t.tableLayout),H=L(()=>{if(t.data&&t.data.length)return null;let O="100%";t.height&&g.value&&(O=`${g.value}px`);const V=p.value;return{width:V?`${V}px`:"",height:O}}),B=L(()=>t.height?{height:Number.isNaN(Number(t.height))?t.height:`${t.height}px`}:t.maxHeight?{maxHeight:Number.isNaN(Number(t.maxHeight))?t.maxHeight:`${t.maxHeight}px`}:{}),X=L(()=>t.height?{height:"100%"}:t.maxHeight?Number.isNaN(Number(t.maxHeight))?{maxHeight:`calc(${t.maxHeight} - ${y.value+_.value}px)`}:{maxHeight:`${t.maxHeight-y.value-_.value}px`}:{});return{isHidden:r,renderExpanded:a,setDragVisible:o,isGroup:c,handleMouseLeave:b,handleHeaderFooterMousewheel:M,tableSize:$,emptyBlockStyle:H,handleFixedMousewheel:(O,V)=>{const ee=i.refs.bodyWrapper;if(Math.abs(V.spinY)>0){const ce=ee.scrollTop;V.pixelY<0&&ce!==0&&O.preventDefault(),V.pixelY>0&&ee.scrollHeight-ee.clientHeight>ce&&O.preventDefault(),ee.scrollTop+=Math.ceil(V.pixelY/5)}else ee.scrollLeft+=Math.ceil(V.pixelX/5)},resizeProxyVisible:s,bodyWidth:Q,resizeState:u,doLayout:T,tableBodyStyles:x,tableLayout:Y,scrollbarViewStyle:h,tableInnerStyle:B,scrollbarStyle:X}}function Hee(t){const e=W(),n=()=>{const r=t.vnode.el.querySelector(".hidden-columns"),a={childList:!0,subtree:!0},s=t.store.states.updateOrderFns;e.value=new MutationObserver(()=>{s.forEach(o=>o())}),e.value.observe(r,a)};wt(()=>{n()}),As(()=>{var i;(i=e.value)==null||i.disconnect()})}var Gee={data:{type:Array,default:()=>[]},size:gi,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0}};function PT(t){const e=t.tableLayout==="auto";let n=t.columns||[];e&&n.every(r=>r.width===void 0)&&(n=[]);const i=r=>{const a={key:`${t.tableLayout}_${r.id}`,style:{},name:void 0};return e?a.style={width:`${r.width}px`}:a.name=r.id,a};return Ct("colgroup",{},n.map(r=>Ct("col",i(r))))}PT.props=["columns","tableLayout"];const Wee=()=>{const t=W(),e=(a,s)=>{const o=t.value;o&&o.scrollTo(a,s)},n=(a,s)=>{const o=t.value;o&&kt(s)&&["Top","Left"].includes(a)&&o[`setScroll${a}`](s)};return{scrollBarRef:t,scrollTo:e,setScrollTop:a=>n("Top",a),setScrollLeft:a=>n("Left",a)}};let Kee=1;const qee=re({name:"ElTable",directives:{Mousewheel:lW},components:{TableHeader:Ree,TableBody:Fee,TableFooter:Vee,ElScrollbar:as,hColgroup:PT},props:Gee,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(t){const{t:e}=nn(),n=Fe("table"),i=qt();Zt(ss,i);const r=See(i,t);i.store=r;const a=new Eee({store:i.store,table:i,fit:t.fit,showHeader:t.showHeader});i.layout=a;const s=L(()=>(r.states.data.value||[]).length===0),{setCurrentRow:o,getSelectionRows:u,toggleRowSelection:c,clearSelection:h,clearFilter:p,toggleAllSelection:v,toggleRowExpansion:g,clearSort:y,sort:_,updateKeyChildren:w}=zee(r),{isHidden:b,renderExpanded:M,setDragVisible:C,isGroup:x,handleMouseLeave:T,handleHeaderFooterMousewheel:k,tableSize:R,emptyBlockStyle:D,handleFixedMousewheel:U,resizeProxyVisible:P,bodyWidth:N,resizeState:$,doLayout:Q,tableBodyStyles:Y,tableLayout:H,scrollbarViewStyle:B,tableInnerStyle:X,scrollbarStyle:q}=$ee(t,a,r,i),{scrollBarRef:O,scrollTo:V,setScrollLeft:ee,setScrollTop:ce}=Wee(),se=Rr(Q,50),le=`${n.namespace.value}-table_${Kee++}`;i.tableId=le,i.state={isGroup:x,resizeState:$,doLayout:Q,debouncedUpdateLayout:se};const ye=L(()=>{var ue;return(ue=t.sumText)!=null?ue:e("el.table.sumText")}),Ce=L(()=>{var ue;return(ue=t.emptyText)!=null?ue:e("el.table.emptyText")}),pe=L(()=>IT(r.states.originColumns.value)[0]);return Hee(i),{ns:n,layout:a,store:r,columns:pe,handleHeaderFooterMousewheel:k,handleMouseLeave:T,tableId:le,tableSize:R,isHidden:b,isEmpty:s,renderExpanded:M,resizeProxyVisible:P,resizeState:$,isGroup:x,bodyWidth:N,tableBodyStyles:Y,emptyBlockStyle:D,debouncedUpdateLayout:se,handleFixedMousewheel:U,setCurrentRow:o,getSelectionRows:u,toggleRowSelection:c,clearSelection:h,clearFilter:p,toggleAllSelection:v,toggleRowExpansion:g,clearSort:y,doLayout:Q,sort:_,updateKeyChildren:w,t:e,setDragVisible:C,context:i,computedSumText:ye,computedEmptyText:Ce,tableLayout:H,scrollbarViewStyle:B,tableInnerStyle:X,scrollbarStyle:q,scrollBarRef:O,scrollTo:V,setScrollLeft:ee,setScrollTop:ce}}});function Yee(t,e,n,i,r,a){const s=At("hColgroup"),o=At("table-header"),u=At("table-body"),c=At("table-footer"),h=At("el-scrollbar"),p=zh("mousewheel");return I(),K("div",{ref:"tableWrapper",class:z([{[t.ns.m("fit")]:t.fit,[t.ns.m("striped")]:t.stripe,[t.ns.m("border")]:t.border||t.isGroup,[t.ns.m("hidden")]:t.isHidden,[t.ns.m("group")]:t.isGroup,[t.ns.m("fluid-height")]:t.maxHeight,[t.ns.m("scrollable-x")]:t.layout.scrollX.value,[t.ns.m("scrollable-y")]:t.layout.scrollY.value,[t.ns.m("enable-row-hover")]:!t.store.states.isComplex.value,[t.ns.m("enable-row-transition")]:(t.store.states.data.value||[]).length!==0&&(t.store.states.data.value||[]).length<100,"has-footer":t.showSummary},t.ns.m(t.tableSize),t.className,t.ns.b(),t.ns.m(`layout-${t.tableLayout}`)]),style:_t(t.style),"data-prefix":t.ns.namespace.value,onMouseleave:t.handleMouseLeave},[Z("div",{class:z(t.ns.e("inner-wrapper")),style:_t(t.tableInnerStyle)},[Z("div",{ref:"hiddenColumns",class:"hidden-columns"},[oe(t.$slots,"default")],512),t.showHeader&&t.tableLayout==="fixed"?Bt((I(),K("div",{key:0,ref:"headerWrapper",class:z(t.ns.e("header-wrapper"))},[Z("table",{ref:"tableHeader",class:z(t.ns.e("header")),style:_t(t.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[J(s,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),J(o,{ref:"tableHeaderRef",border:t.border,"default-sort":t.defaultSort,store:t.store,"append-filter-panel-to":t.appendFilterPanelTo,onSetDragVisible:t.setDragVisible},null,8,["border","default-sort","store","append-filter-panel-to","onSetDragVisible"])],6)],2)),[[p,t.handleHeaderFooterMousewheel]]):he("v-if",!0),Z("div",{ref:"bodyWrapper",class:z(t.ns.e("body-wrapper"))},[J(h,{ref:"scrollBarRef","view-style":t.scrollbarViewStyle,"wrap-style":t.scrollbarStyle,always:t.scrollbarAlwaysOn,tabindex:t.scrollbarTabindex},{default:ne(()=>[Z("table",{ref:"tableBody",class:z(t.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:_t({width:t.bodyWidth,tableLayout:t.tableLayout})},[J(s,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),t.showHeader&&t.tableLayout==="auto"?(I(),we(o,{key:0,ref:"tableHeaderRef",class:z(t.ns.e("body-header")),border:t.border,"default-sort":t.defaultSort,store:t.store,"append-filter-panel-to":t.appendFilterPanelTo,onSetDragVisible:t.setDragVisible},null,8,["class","border","default-sort","store","append-filter-panel-to","onSetDragVisible"])):he("v-if",!0),J(u,{context:t.context,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"tooltip-effect":t.tooltipEffect,"tooltip-options":t.tooltipOptions,"row-style":t.rowStyle,store:t.store,stripe:t.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),t.showSummary&&t.tableLayout==="auto"?(I(),we(c,{key:1,class:z(t.ns.e("body-footer")),border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):he("v-if",!0)],6),t.isEmpty?(I(),K("div",{key:0,ref:"emptyBlock",style:_t(t.emptyBlockStyle),class:z(t.ns.e("empty-block"))},[Z("span",{class:z(t.ns.e("empty-text"))},[oe(t.$slots,"empty",{},()=>[mt(Ne(t.computedEmptyText),1)])],2)],6)):he("v-if",!0),t.$slots.append?(I(),K("div",{key:1,ref:"appendWrapper",class:z(t.ns.e("append-wrapper"))},[oe(t.$slots,"append")],2)):he("v-if",!0)]),_:3},8,["view-style","wrap-style","always","tabindex"])],2),t.showSummary&&t.tableLayout==="fixed"?Bt((I(),K("div",{key:1,ref:"footerWrapper",class:z(t.ns.e("footer-wrapper"))},[Z("table",{class:z(t.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:_t(t.tableBodyStyles)},[J(s,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),J(c,{border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[sn,!t.isEmpty],[p,t.handleHeaderFooterMousewheel]]):he("v-if",!0),t.border||t.isGroup?(I(),K("div",{key:2,class:z(t.ns.e("border-left-patch"))},null,2)):he("v-if",!0)],6),Bt(Z("div",{ref:"resizeProxy",class:z(t.ns.e("column-resize-proxy"))},null,2),[[sn,t.resizeProxyVisible]])],46,["data-prefix","onMouseleave"])}var jee=We(qee,[["render",Yee],["__file","table.vue"]]);const Xee={selection:"table-column--selection",expand:"table__expand-column"},Zee={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},Qee=t=>Xee[t]||"",Jee={selection:{renderHeader({store:t,column:e}){function n(){return t.states.data.value&&t.states.data.value.length===0}return Ct(da,{disabled:n(),size:t.states.tableSize.value,indeterminate:t.states.selection.value.length>0&&!t.states.isAllSelected.value,"onUpdate:modelValue":t.toggleAllSelection,modelValue:t.states.isAllSelected.value,ariaLabel:e.label})},renderCell({row:t,column:e,store:n,$index:i}){return Ct(da,{disabled:e.selectable?!e.selectable.call(null,t,i):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",t)},onClick:r=>r.stopPropagation(),modelValue:n.isSelected(t),ariaLabel:e.label})},sortable:!1,resizable:!1},index:{renderHeader({column:t}){return t.label||"#"},renderCell({column:t,$index:e}){let n=e+1;const i=t.index;return typeof i=="number"?n=e+i:typeof i=="function"&&(n=i(e)),Ct("div",{},[n])},sortable:!1},expand:{renderHeader({column:t}){return t.label||""},renderCell({row:t,store:e,expanded:n}){const{ns:i}=e,r=[i.e("expand-icon")];return n&&r.push(i.em("expand-icon","expanded")),Ct("div",{class:r,onClick:function(s){s.stopPropagation(),e.toggleRowExpansion(t)}},{default:()=>[Ct(dt,null,{default:()=>[Ct(hr)]})]})},sortable:!1,resizable:!1}};function ete({row:t,column:e,$index:n}){var i;const r=e.property,a=r&&Bf(t,r).value;return e&&e.formatter?e.formatter(t,e,a,n):((i=a==null?void 0:a.toString)==null?void 0:i.call(a))||""}function tte({row:t,treeNode:e,store:n},i=!1){const{ns:r}=n;if(!e)return i?[Ct("span",{class:r.e("placeholder")})]:null;const a=[],s=function(o){o.stopPropagation(),!e.loading&&n.loadOrToggle(t)};if(e.indent&&a.push(Ct("span",{class:r.e("indent"),style:{"padding-left":`${e.indent}px`}})),typeof e.expanded=="boolean"&&!e.noLazyChildren){const o=[r.e("expand-icon"),e.expanded?r.em("expand-icon","expanded"):""];let u=hr;e.loading&&(u=Za),a.push(Ct("div",{class:o,onClick:s},{default:()=>[Ct(dt,{class:{[r.is("loading")]:e.loading}},{default:()=>[Ct(u)]})]}))}else a.push(Ct("span",{class:r.e("placeholder")}));return a}function tw(t,e){return t.reduce((n,i)=>(n[i]=i,n),e)}function nte(t,e){const n=qt();return{registerComplexWatchers:()=>{const a=["fixed"],s={realWidth:"width",realMinWidth:"minWidth"},o=tw(a,s);Object.keys(o).forEach(u=>{const c=s[u];Gi(e,c)&&Le(()=>e[c],h=>{let p=h;c==="width"&&u==="realWidth"&&(p=Cy(h)),c==="minWidth"&&u==="realMinWidth"&&(p=CT(h)),n.columnConfig.value[c]=p,n.columnConfig.value[u]=p;const v=c==="fixed";t.value.store.scheduleLayout(v)})})},registerNormalWatchers:()=>{const a=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],s={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},o=tw(a,s);Object.keys(o).forEach(u=>{const c=s[u];Gi(e,c)&&Le(()=>e[c],h=>{n.columnConfig.value[u]=h})})}}}function ite(t,e,n){const i=qt(),r=W(""),a=W(!1),s=W(),o=W(),u=Fe("table");mi(()=>{s.value=t.align?`is-${t.align}`:null,s.value}),mi(()=>{o.value=t.headerAlign?`is-${t.headerAlign}`:s.value,o.value});const c=L(()=>{let x=i.vnode.vParent||i.parent;for(;x&&!x.tableId&&!x.columnId;)x=x.vnode.vParent||x.parent;return x}),h=L(()=>{const{store:x}=i.parent;if(!x)return!1;const{treeData:T}=x.states,k=T.value;return k&&Object.keys(k).length>0}),p=W(Cy(t.width)),v=W(CT(t.minWidth)),g=x=>(p.value&&(x.width=p.value),v.value&&(x.minWidth=v.value),!p.value&&v.value&&(x.width=void 0),x.minWidth||(x.minWidth=80),x.realWidth=Number(x.width===void 0?x.minWidth:x.width),x),y=x=>{const T=x.type,k=Jee[T]||{};Object.keys(k).forEach(D=>{const U=k[D];D!=="className"&&U!==void 0&&(x[D]=U)});const R=Qee(T);if(R){const D=`${d(u.namespace)}-${R}`;x.className=x.className?`${x.className} ${D}`:D}return x},_=x=>{Array.isArray(x)?x.forEach(k=>T(k)):T(x);function T(k){var R;((R=k==null?void 0:k.type)==null?void 0:R.name)==="ElTableColumn"&&(k.vParent=i)}};return{columnId:r,realAlign:s,isSubColumn:a,realHeaderAlign:o,columnOrTableParent:c,setColumnWidth:g,setColumnForcedProps:y,setColumnRenders:x=>{t.renderHeader||x.type!=="selection"&&(x.renderHeader=k=>(i.columnConfig.value.label,oe(e,"header",k,()=>[x.label]))),e["filter-icon"]&&(x.renderFilterIcon=k=>oe(e,"filter-icon",k));let T=x.renderCell;return x.type==="expand"?(x.renderCell=k=>Ct("div",{class:"cell"},[T(k)]),n.value.renderExpanded=k=>e.default?e.default(k):e.default):(T=T||ete,x.renderCell=k=>{let R=null;if(e.default){const Q=e.default(k);R=Q.some(Y=>Y.type!==$g)?Q:T(k)}else R=T(k);const{columns:D}=n.value.store.states,U=D.value.findIndex(Q=>Q.type==="default"),P=h.value&&k.cellIndex===U,N=tte(k,P),$={class:"cell",style:{}};return x.showOverflowTooltip&&($.class=`${$.class} ${d(u.namespace)}-tooltip`,$.style={width:`${(k.column.realWidth||Number(k.column.width))-1}px`}),_(R),Ct("div",$,[N,R])}),x},getPropsData:(...x)=>x.reduce((T,k)=>(Array.isArray(k)&&k.forEach(R=>{T[R]=t[R]}),T),{}),getColumnElIndex:(x,T)=>Array.prototype.indexOf.call(x,T),updateColumnOrder:()=>{n.value.store.commit("updateColumnOrder",i.columnConfig.value)}}}var rte={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:t=>t.every(e=>["ascending","descending",null].includes(e))}};let ate=1;var RT=re({name:"ElTableColumn",components:{ElCheckbox:da},props:rte,setup(t,{slots:e}){const n=qt(),i=W({}),r=L(()=>{let C=n.parent;for(;C&&!C.tableId;)C=C.parent;return C}),{registerNormalWatchers:a,registerComplexWatchers:s}=nte(r,t),{columnId:o,isSubColumn:u,realHeaderAlign:c,columnOrTableParent:h,setColumnWidth:p,setColumnForcedProps:v,setColumnRenders:g,getPropsData:y,getColumnElIndex:_,realAlign:w,updateColumnOrder:b}=ite(t,e,r),M=h.value;o.value=`${M.tableId||M.columnId}_column_${ate++}`,Hg(()=>{u.value=r.value!==M;const C=t.type||"default",x=t.sortable===""?!0:t.sortable,T=zn(t.showOverflowTooltip)?M.props.showOverflowTooltip:t.showOverflowTooltip,k={...Zee[C],id:o.value,type:C,property:t.prop||t.property,align:w,headerAlign:c,showOverflowTooltip:T,filterable:t.filters||t.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:x,index:t.index,rawColumnKey:n.vnode.key};let N=y(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);N=dee(k,N),N=hee(g,p,v)(N),i.value=N,a(),s()}),wt(()=>{var C;const x=h.value,T=u.value?x.vnode.el.children:(C=x.refs.hiddenColumns)==null?void 0:C.children,k=()=>_(T||[],n.vnode.el);i.value.getColumnIndex=k,k()>-1&&r.value.store.commit("insertColumn",i.value,u.value?x.columnConfig.value:null,b)}),xn(()=>{const C=i.value.getColumnIndex;(C?C():-1)>-1&&r.value.store.commit("removeColumn",i.value,u.value?M.columnConfig.value:null,b)}),n.columnId=o.value,n.columnConfig=i},render(){var t,e,n;try{const i=(e=(t=this.$slots).default)==null?void 0:e.call(t,{row:{},column:{},$index:-1}),r=[];if(Array.isArray(i))for(const s of i)((n=s.type)==null?void 0:n.name)==="ElTableColumn"||s.shapeFlag&2?r.push(s):s.type===ut&&Array.isArray(s.children)&&s.children.forEach(o=>{(o==null?void 0:o.patchFlag)!==1024&&!Gt(o==null?void 0:o.children)&&r.push(o)});return Ct("div",r)}catch{return Ct("div",[])}}});const ste=Dt(jee,{TableColumn:RT}),ote=Bn(RT);var sd=(t=>(t.ASC="asc",t.DESC="desc",t))(sd||{}),od=(t=>(t.CENTER="center",t.RIGHT="right",t))(od||{}),LT=(t=>(t.LEFT="left",t.RIGHT="right",t))(LT||{});const lg={asc:"desc",desc:"asc"},ld=Symbol("placeholder"),lte=(t,e,n)=>{var i;const r={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:t.flexGrow||0,flexShrink:t.flexShrink||1}};n||(r.flexShrink=1);const a={...(i=t.style)!=null?i:{},...r,flexBasis:"auto",width:t.width};return e||(t.maxWidth&&(a.maxWidth=t.maxWidth),t.minWidth&&(a.minWidth=t.minWidth)),a};function ute(t,e,n){const i=L(()=>d(e).map((w,b)=>{var M,C;return{...w,key:(C=(M=w.key)!=null?M:w.dataKey)!=null?C:b}})),r=L(()=>d(i).filter(w=>!w.hidden)),a=L(()=>d(r).filter(w=>w.fixed==="left"||w.fixed===!0)),s=L(()=>d(r).filter(w=>w.fixed==="right")),o=L(()=>d(r).filter(w=>!w.fixed)),u=L(()=>{const w=[];return d(a).forEach(b=>{w.push({...b,placeholderSign:ld})}),d(o).forEach(b=>{w.push(b)}),d(s).forEach(b=>{w.push({...b,placeholderSign:ld})}),w}),c=L(()=>d(a).length||d(s).length),h=L(()=>d(i).reduce((w,b)=>(w[b.key]=lte(b,d(n),t.fixed),w),{})),p=L(()=>d(r).reduce((w,b)=>w+b.width,0)),v=w=>d(i).find(b=>b.key===w),g=w=>d(h)[w],y=(w,b)=>{w.width=b};function _(w){var b;const{key:M}=w.currentTarget.dataset;if(!M)return;const{sortState:C,sortBy:x}=t;let T=sd.ASC;bn(C)?T=lg[C[M]]:T=lg[x.order],(b=t.onColumnSort)==null||b.call(t,{column:v(M),key:M,order:T})}return{columns:i,columnsStyles:h,columnsTotalWidth:p,fixedColumnsOnLeft:a,fixedColumnsOnRight:s,hasFixedColumns:c,mainColumns:u,normalColumns:o,visibleColumns:r,getColumn:v,getColumnStyle:g,updateColumnWidth:y,onColumnSorted:_}}const cte=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:i,onMaybeEndReached:r})=>{const a=W({scrollLeft:0,scrollTop:0});function s(g){var y,_,w;const{scrollTop:b}=g;(y=e.value)==null||y.scrollTo(g),(_=n.value)==null||_.scrollToTop(b),(w=i.value)==null||w.scrollToTop(b)}function o(g){a.value=g,s(g)}function u(g){a.value.scrollTop=g,s(d(a))}function c(g){var y,_;a.value.scrollLeft=g,(_=(y=e.value)==null?void 0:y.scrollTo)==null||_.call(y,d(a))}function h(g){var y;o(g),(y=t.onScroll)==null||y.call(t,g)}function p({scrollTop:g}){const{scrollTop:y}=d(a);g!==y&&u(g)}function v(g,y="auto"){var _;(_=e.value)==null||_.scrollToRow(g,y)}return Le(()=>d(a).scrollTop,(g,y)=>{g>y&&r()}),{scrollPos:a,scrollTo:o,scrollToLeft:c,scrollToTop:u,scrollToRow:v,onScroll:h,onVerticalScroll:p}},dte=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:i,tableInstance:r,ns:a,isScrolling:s})=>{const o=qt(),{emit:u}=o,c=Mn(!1),h=W(t.defaultExpandedRowKeys||[]),p=W(-1),v=Mn(null),g=W({}),y=W({}),_=Mn({}),w=Mn({}),b=Mn({}),M=L(()=>kt(t.estimatedRowHeight));function C(P){var N;(N=t.onRowsRendered)==null||N.call(t,P),P.rowCacheEnd>d(p)&&(p.value=P.rowCacheEnd)}function x({hovered:P,rowKey:N}){if(s.value)return;r.vnode.el.querySelectorAll(`[rowkey="${String(N)}"]`).forEach(Y=>{P?Y.classList.add(a.is("hovered")):Y.classList.remove(a.is("hovered"))})}function T({expanded:P,rowData:N,rowIndex:$,rowKey:Q}){var Y,H;const B=[...d(h)],X=B.indexOf(Q);P?X===-1&&B.push(Q):X>-1&&B.splice(X,1),h.value=B,u("update:expandedRowKeys",B),(Y=t.onRowExpand)==null||Y.call(t,{expanded:P,rowData:N,rowIndex:$,rowKey:Q}),(H=t.onExpandedRowsChange)==null||H.call(t,B)}const k=Rr(()=>{var P,N,$,Q;c.value=!0,g.value={...d(g),...d(y)},R(d(v),!1),y.value={},v.value=null,(P=e.value)==null||P.forceUpdate(),(N=n.value)==null||N.forceUpdate(),($=i.value)==null||$.forceUpdate(),(Q=o.proxy)==null||Q.$forceUpdate(),c.value=!1},0);function R(P,N=!1){d(M)&&[e,n,i].forEach($=>{const Q=d($);Q&&Q.resetAfterRowIndex(P,N)})}function D(P,N,$){const Q=d(v);(Q===null||Q>$)&&(v.value=$),y.value[P]=N}function U({rowKey:P,height:N,rowIndex:$},Q){Q?Q===LT.RIGHT?b.value[P]=N:_.value[P]=N:w.value[P]=N;const Y=Math.max(...[_,b,w].map(H=>H.value[P]||0));d(g)[P]!==Y&&(D(P,Y,$),k())}return{expandedRowKeys:h,lastRenderedRowIndex:p,isDynamic:M,isResetting:c,rowHeights:g,resetAfterIndex:R,onRowExpanded:T,onRowHovered:x,onRowsRendered:C,onRowHeightChange:U}},fte=(t,{expandedRowKeys:e,lastRenderedRowIndex:n,resetAfterIndex:i})=>{const r=W({}),a=L(()=>{const o={},{data:u,rowKey:c}=t,h=d(e);if(!h||!h.length)return u;const p=[],v=new Set;h.forEach(y=>v.add(y));let g=u.slice();for(g.forEach(y=>o[y[c]]=0);g.length>0;){const y=g.shift();p.push(y),v.has(y[c])&&Array.isArray(y.children)&&y.children.length>0&&(g=[...y.children,...g],y.children.forEach(_=>o[_[c]]=o[y[c]]+1))}return r.value=o,p}),s=L(()=>{const{data:o,expandColumnKey:u}=t;return u?d(a):o});return Le(s,(o,u)=>{o!==u&&(n.value=-1,i(0,!0))}),{data:s,depthMap:r}},hte=(t,e)=>t+e,qf=t=>Nt(t)?t.reduce(hte,0):t,vl=(t,e,n={})=>un(t)?t(e):t??n,js=t=>(["width","maxWidth","minWidth","height"].forEach(e=>{t[e]=Xn(t[e])}),t),NT=t=>ni(t)?e=>Ct(t,e):t,pte=(t,{columnsTotalWidth:e,data:n,fixedColumnsOnLeft:i,fixedColumnsOnRight:r})=>{const a=L(()=>{const{fixed:C,width:x,vScrollbarSize:T}=t,k=x-T;return C?Math.max(Math.round(d(e)),k):k}),s=L(()=>d(a)+t.vScrollbarSize),o=L(()=>{const{height:C=0,maxHeight:x=0,footerHeight:T,hScrollbarSize:k}=t;if(x>0){const R=d(y),D=d(u),P=d(g)+R+D+k;return Math.min(P,x-T)}return C-T}),u=L(()=>{const{rowHeight:C,estimatedRowHeight:x}=t,T=d(n);return kt(x)?T.length*x:T.length*C}),c=L(()=>{const{maxHeight:C}=t,x=d(o);if(kt(C)&&C>0)return x;const T=d(u)+d(g)+d(y);return Math.min(x,T)}),h=C=>C.width,p=L(()=>qf(d(i).map(h))),v=L(()=>qf(d(r).map(h))),g=L(()=>qf(t.headerHeight)),y=L(()=>{var C;return(((C=t.fixedData)==null?void 0:C.length)||0)*t.rowHeight}),_=L(()=>d(o)-d(g)-d(y)),w=L(()=>{const{style:C={},height:x,width:T}=t;return js({...C,height:x,width:T})}),b=L(()=>js({height:t.footerHeight})),M=L(()=>({top:Xn(d(g)),bottom:Xn(t.footerHeight),width:Xn(t.width)}));return{bodyWidth:a,fixedTableHeight:c,mainTableHeight:o,leftTableWidth:p,rightTableWidth:v,headerWidth:s,rowsHeight:u,windowHeight:_,footerHeight:b,emptyStyle:M,rootStyle:w,headerHeight:g}},mte=t=>{const e=W(),n=W(0),i=W(0);let r;return wt(()=>{r=On(e,([a])=>{const{width:s,height:o}=a.contentRect,{paddingLeft:u,paddingRight:c,paddingTop:h,paddingBottom:p}=getComputedStyle(a.target),v=Number.parseInt(u)||0,g=Number.parseInt(c)||0,y=Number.parseInt(h)||0,_=Number.parseInt(p)||0;n.value=s-v-g,i.value=o-y-_}).stop}),xn(()=>{r==null||r()}),Le([n,i],([a,s])=>{var o;(o=t.onResize)==null||o.call(t,{width:a,height:s})}),{sizer:e,width:n,height:i}};function vte(t){const e=W(),n=W(),i=W(),{columns:r,columnsStyles:a,columnsTotalWidth:s,fixedColumnsOnLeft:o,fixedColumnsOnRight:u,hasFixedColumns:c,mainColumns:h,onColumnSorted:p}=ute(t,vn(t,"columns"),vn(t,"fixed")),{scrollTo:v,scrollToLeft:g,scrollToTop:y,scrollToRow:_,onScroll:w,onVerticalScroll:b,scrollPos:M}=cte(t,{mainTableRef:e,leftTableRef:n,rightTableRef:i,onMaybeEndReached:He}),C=Fe("table-v2"),x=qt(),T=Mn(!1),{expandedRowKeys:k,lastRenderedRowIndex:R,isDynamic:D,isResetting:U,rowHeights:P,resetAfterIndex:N,onRowExpanded:$,onRowHeightChange:Q,onRowHovered:Y,onRowsRendered:H}=dte(t,{mainTableRef:e,leftTableRef:n,rightTableRef:i,tableInstance:x,ns:C,isScrolling:T}),{data:B,depthMap:X}=fte(t,{expandedRowKeys:k,lastRenderedRowIndex:R,resetAfterIndex:N}),{bodyWidth:q,fixedTableHeight:O,mainTableHeight:V,leftTableWidth:ee,rightTableWidth:ce,headerWidth:se,rowsHeight:le,windowHeight:ye,footerHeight:Ce,emptyStyle:pe,rootStyle:ue,headerHeight:Me}=pte(t,{columnsTotalWidth:s,data:B,fixedColumnsOnLeft:o,fixedColumnsOnRight:u}),De=W(),xe=L(()=>{const Qe=d(B).length===0;return Nt(t.fixedData)?t.fixedData.length===0&&Qe:Qe});function G(Qe){const{estimatedRowHeight:at,rowHeight:rt,rowKey:it}=t;return at?d(P)[d(B)[Qe][it]]||at:rt}function He(){const{onEndReached:Qe}=t;if(!Qe)return;const{scrollTop:at}=d(M),rt=d(le),it=d(ye),qe=rt-(at+it)+t.hScrollbarSize;d(R)>=0&&rt===at+d(V)-d(Me)&&Qe(qe)}return Le(()=>t.expandedRowKeys,Qe=>k.value=Qe,{deep:!0}),{columns:r,containerRef:De,mainTableRef:e,leftTableRef:n,rightTableRef:i,isDynamic:D,isResetting:U,isScrolling:T,hasFixedColumns:c,columnsStyles:a,columnsTotalWidth:s,data:B,expandedRowKeys:k,depthMap:X,fixedColumnsOnLeft:o,fixedColumnsOnRight:u,mainColumns:h,bodyWidth:q,emptyStyle:pe,rootStyle:ue,headerWidth:se,footerHeight:Ce,mainTableHeight:V,fixedTableHeight:O,leftTableWidth:ee,rightTableWidth:ce,showEmpty:xe,getRowHeight:G,onColumnSorted:p,onRowHovered:Y,onRowExpanded:$,onRowsRendered:H,onRowHeightChange:Q,scrollTo:v,scrollToLeft:g,scrollToTop:y,scrollToRow:_,onScroll:w,onVerticalScroll:b}}const My=Symbol("tableV2"),OT=String,kd={type:_e(Array),required:!0},Ty={type:_e(Array)},DT={...Ty,required:!0},gte=String,nw={type:_e(Array),default:()=>Fn([])},zo={type:Number,required:!0},FT={type:_e([String,Number,Symbol]),default:"id"},iw={type:_e(Object)},jo=Ge({class:String,columns:kd,columnsStyles:{type:_e(Object),required:!0},depth:Number,expandColumnKey:gte,estimatedRowHeight:{...nl.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:_e(Function)},onRowHover:{type:_e(Function)},onRowHeightChange:{type:_e(Function)},rowData:{type:_e(Object),required:!0},rowEventHandlers:{type:_e(Object)},rowIndex:{type:Number,required:!0},rowKey:FT,style:{type:_e(Object)}}),um={type:Number,required:!0},Ay=Ge({class:String,columns:kd,fixedHeaderData:{type:_e(Array)},headerData:{type:_e(Array),required:!0},headerHeight:{type:_e([Number,Array]),default:50},rowWidth:um,rowHeight:{type:Number,default:50},height:um,width:um}),Yf=Ge({columns:kd,data:DT,fixedData:Ty,estimatedRowHeight:jo.estimatedRowHeight,width:zo,height:zo,headerWidth:zo,headerHeight:Ay.headerHeight,bodyWidth:zo,rowHeight:zo,cache:rT.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:nl.scrollbarAlwaysOn,scrollbarStartGap:nl.scrollbarStartGap,scrollbarEndGap:nl.scrollbarEndGap,class:OT,style:iw,containerStyle:iw,getRowHeight:{type:_e(Function),required:!0},rowKey:jo.rowKey,onRowsRendered:{type:_e(Function)},onScroll:{type:_e(Function)}}),yte=Ge({cache:Yf.cache,estimatedRowHeight:jo.estimatedRowHeight,rowKey:FT,headerClass:{type:_e([String,Function])},headerProps:{type:_e([Object,Function])},headerCellProps:{type:_e([Object,Function])},headerHeight:Ay.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:_e([String,Function])},rowProps:{type:_e([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:_e([Object,Function])},columns:kd,data:DT,dataGetter:{type:_e(Function)},fixedData:Ty,expandColumnKey:jo.expandColumnKey,expandedRowKeys:nw,defaultExpandedRowKeys:nw,class:OT,fixed:Boolean,style:{type:_e(Object)},width:zo,height:zo,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:nl.hScrollbarSize,vScrollbarSize:nl.vScrollbarSize,scrollbarAlwaysOn:oT.alwaysOn,sortBy:{type:_e(Object),default:()=>({})},sortState:{type:_e(Object),default:void 0},onColumnSort:{type:_e(Function)},onExpandedRowsChange:{type:_e(Function)},onEndReached:{type:_e(Function)},onRowExpand:jo.onRowExpand,onScroll:Yf.onScroll,onRowsRendered:Yf.onRowsRendered,rowEventHandlers:jo.rowEventHandlers}),ky=(t,{slots:e})=>{var n;const{cellData:i,style:r}=t,a=((n=i==null?void 0:i.toString)==null?void 0:n.call(i))||"",s=oe(e,"default",t,()=>[a]);return J("div",{class:t.class,title:a,style:r},[s])};ky.displayName="ElTableV2Cell";ky.inheritAttrs=!1;const Iy=(t,{slots:e})=>oe(e,"default",t,()=>{var n,i;return[J("div",{class:t.class,title:(n=t.column)==null?void 0:n.title},[(i=t.column)==null?void 0:i.title])]});Iy.displayName="ElTableV2HeaderCell";Iy.inheritAttrs=!1;const _te=Ge({class:String,columns:kd,columnsStyles:{type:_e(Object),required:!0},headerIndex:Number,style:{type:_e(Object)}}),bte=re({name:"ElTableV2HeaderRow",props:_te,setup(t,{slots:e}){return()=>{const{columns:n,columnsStyles:i,headerIndex:r,style:a}=t;let s=n.map((o,u)=>e.cell({columns:n,column:o,columnIndex:u,headerIndex:r,style:i[o.key]}));return e.header&&(s=e.header({cells:s.map(o=>Nt(o)&&o.length===1?o[0]:o),columns:n,headerIndex:r})),J("div",{class:t.class,style:a,role:"row"},[s])}}}),wte="ElTableV2Header",Ste=re({name:wte,props:Ay,setup(t,{slots:e,expose:n}){const i=Fe("table-v2"),r=W(),a=L(()=>js({width:t.width,height:t.height})),s=L(()=>js({width:t.rowWidth,height:t.height})),o=L(()=>Xi(d(t.headerHeight))),u=p=>{const v=d(r);yt(()=>{v!=null&&v.scroll&&v.scroll({left:p})})},c=()=>{const p=i.e("fixed-header-row"),{columns:v,fixedHeaderData:g,rowHeight:y}=t;return g==null?void 0:g.map((_,w)=>{var b;const M=js({height:y,width:"100%"});return(b=e.fixed)==null?void 0:b.call(e,{class:p,columns:v,rowData:_,rowIndex:-(w+1),style:M})})},h=()=>{const p=i.e("dynamic-header-row"),{columns:v}=t;return d(o).map((g,y)=>{var _;const w=js({width:"100%",height:g});return(_=e.dynamic)==null?void 0:_.call(e,{class:p,columns:v,headerIndex:y,style:w})})};return n({scrollToLeft:u}),()=>{if(!(t.height<=0))return J("div",{ref:r,class:t.class,style:d(a),role:"rowgroup"},[J("div",{style:d(s),class:i.e("header")},[h(),c()])])}}}),Cte=t=>{const{isScrolling:e}=ct(My),n=W(!1),i=W(),r=L(()=>kt(t.estimatedRowHeight)&&t.rowIndex>=0),a=(u=!1)=>{const c=d(i);if(!c)return;const{columns:h,onRowHeightChange:p,rowKey:v,rowIndex:g,style:y}=t,{height:_}=c.getBoundingClientRect();n.value=!0,yt(()=>{if(u||_!==Number.parseInt(y.height)){const w=h[0],b=(w==null?void 0:w.placeholderSign)===ld;p==null||p({rowKey:v,height:_,rowIndex:g},w&&!b&&w.fixed)}})},s=L(()=>{const{rowData:u,rowIndex:c,rowKey:h,onRowHover:p}=t,v=t.rowEventHandlers||{},g={};return Object.entries(v).forEach(([y,_])=>{un(_)&&(g[y]=w=>{_({event:w,rowData:u,rowIndex:c,rowKey:h})})}),p&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:y,hovered:_})=>{const w=g[y];g[y]=b=>{p({event:b,hovered:_,rowData:u,rowIndex:c,rowKey:h}),w==null||w(b)}}),g}),o=u=>{const{onRowExpand:c,rowData:h,rowIndex:p,rowKey:v}=t;c==null||c({expanded:u,rowData:h,rowIndex:p,rowKey:v})};return wt(()=>{d(r)&&a(!0)}),{isScrolling:e,measurable:r,measured:n,rowRef:i,eventHandlers:s,onExpand:o}},Ete="ElTableV2TableRow",xte=re({name:Ete,props:jo,setup(t,{expose:e,slots:n,attrs:i}){const{eventHandlers:r,isScrolling:a,measurable:s,measured:o,rowRef:u,onExpand:c}=Cte(t);return e({onExpand:c}),()=>{const{columns:h,columnsStyles:p,expandColumnKey:v,depth:g,rowData:y,rowIndex:_,style:w}=t;let b=h.map((M,C)=>{const x=Nt(y.children)&&y.children.length>0&&M.key===v;return n.cell({column:M,columns:h,columnIndex:C,depth:g,style:p[M.key],rowData:y,rowIndex:_,isScrolling:d(a),expandIconProps:x?{rowData:y,rowIndex:_,onExpand:c}:void 0})});if(n.row&&(b=n.row({cells:b.map(M=>Nt(M)&&M.length===1?M[0]:M),style:w,columns:h,depth:g,rowData:y,rowIndex:_,isScrolling:d(a)})),d(s)){const{height:M,...C}=w||{},x=d(o);return J("div",Ht({ref:u,class:t.class,style:x?w:C,role:"row"},i,d(r)),[b])}return J("div",Ht(i,{ref:u,class:t.class,style:w,role:"row"},d(r)),[b])}}}),Mte=t=>{const{sortOrder:e}=t;return J(dt,{size:14,class:t.class},{default:()=>[e===sd.ASC?J(QO,null,null):J(XO,null,null)]})},Tte=t=>{const{expanded:e,expandable:n,onExpand:i,style:r,size:a}=t,s={onClick:n?()=>i(!e):void 0,class:t.class};return J(dt,Ht(s,{size:a,style:r}),{default:()=>[J(hr,null,null)]})},Ate="ElTableV2Grid",kte=t=>{const e=W(),n=W(),i=L(()=>{const{data:_,rowHeight:w,estimatedRowHeight:b}=t;if(!b)return _.length*w}),r=L(()=>{const{fixedData:_,rowHeight:w}=t;return((_==null?void 0:_.length)||0)*w}),a=L(()=>qf(t.headerHeight)),s=L(()=>{const{height:_}=t;return Math.max(0,_-d(a)-d(r))}),o=L(()=>d(a)+d(r)>0),u=({data:_,rowIndex:w})=>_[w][t.rowKey];function c({rowCacheStart:_,rowCacheEnd:w,rowVisibleStart:b,rowVisibleEnd:M}){var C;(C=t.onRowsRendered)==null||C.call(t,{rowCacheStart:_,rowCacheEnd:w,rowVisibleStart:b,rowVisibleEnd:M})}function h(_,w){var b;(b=n.value)==null||b.resetAfterRowIndex(_,w)}function p(_,w){const b=d(e),M=d(n);bn(_)?(b==null||b.scrollToLeft(_.scrollLeft),M==null||M.scrollTo(_)):(b==null||b.scrollToLeft(_),M==null||M.scrollTo({scrollLeft:_,scrollTop:w}))}function v(_){var w;(w=d(n))==null||w.scrollTo({scrollTop:_})}function g(_,w){var b;(b=d(n))==null||b.scrollToItem(_,1,w)}function y(){var _,w;(_=d(n))==null||_.$forceUpdate(),(w=d(e))==null||w.$forceUpdate()}return{bodyRef:n,forceUpdate:y,fixedRowHeight:r,gridHeight:s,hasHeader:o,headerHeight:a,headerRef:e,totalHeight:i,itemKey:u,onItemRendered:c,resetAfterRowIndex:h,scrollTo:p,scrollToTop:v,scrollToRow:g}},Py=re({name:Ate,props:Yf,setup(t,{slots:e,expose:n}){const{ns:i}=ct(My),{bodyRef:r,fixedRowHeight:a,gridHeight:s,hasHeader:o,headerRef:u,headerHeight:c,totalHeight:h,forceUpdate:p,itemKey:v,onItemRendered:g,resetAfterRowIndex:y,scrollTo:_,scrollToTop:w,scrollToRow:b}=kte(t);n({forceUpdate:p,totalHeight:h,scrollTo:_,scrollToTop:w,scrollToRow:b,resetAfterRowIndex:y});const M=()=>t.bodyWidth;return()=>{const{cache:C,columns:x,data:T,fixedData:k,useIsScrolling:R,scrollbarAlwaysOn:D,scrollbarEndGap:U,scrollbarStartGap:P,style:N,rowHeight:$,bodyWidth:Q,estimatedRowHeight:Y,headerWidth:H,height:B,width:X,getRowHeight:q,onScroll:O}=t,V=kt(Y),ee=V?AQ:EQ,ce=d(c);return J("div",{role:"table",class:[i.e("table"),t.class],style:N},[J(ee,{ref:r,data:T,useIsScrolling:R,itemKey:v,columnCache:0,columnWidth:V?M:Q,totalColumn:1,totalRow:T.length,rowCache:C,rowHeight:V?q:$,width:X,height:d(s),class:i.e("body"),role:"rowgroup",scrollbarStartGap:P,scrollbarEndGap:U,scrollbarAlwaysOn:D,onScroll:O,onItemRendered:g,perfMode:!1},{default:se=>{var le;const ye=T[se.rowIndex];return(le=e.row)==null?void 0:le.call(e,{...se,columns:x,rowData:ye})}}),d(o)&&J(Ste,{ref:u,class:i.e("header-wrapper"),columns:x,headerData:T,headerHeight:t.headerHeight,fixedHeaderData:k,rowWidth:H,rowHeight:$,width:X,height:Math.min(ce+d(a),B)},{dynamic:e.header,fixed:e.row})])}}});function Ite(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ni(t)}const Pte=(t,{slots:e})=>{const{mainTableRef:n,...i}=t;return J(Py,Ht({ref:n},i),Ite(e)?e:{default:()=>[e]})};function Rte(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ni(t)}const Lte=(t,{slots:e})=>{if(!t.columns.length)return;const{leftTableRef:n,...i}=t;return J(Py,Ht({ref:n},i),Rte(e)?e:{default:()=>[e]})};function Nte(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ni(t)}const Ote=(t,{slots:e})=>{if(!t.columns.length)return;const{rightTableRef:n,...i}=t;return J(Py,Ht({ref:n},i),Nte(e)?e:{default:()=>[e]})};function Dte(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ni(t)}const Fte=(t,{slots:e})=>{const{columns:n,columnsStyles:i,depthMap:r,expandColumnKey:a,expandedRowKeys:s,estimatedRowHeight:o,hasFixedColumns:u,rowData:c,rowIndex:h,style:p,isScrolling:v,rowProps:g,rowClass:y,rowKey:_,rowEventHandlers:w,ns:b,onRowHovered:M,onRowExpanded:C}=t,x=vl(y,{columns:n,rowData:c,rowIndex:h},""),T=vl(g,{columns:n,rowData:c,rowIndex:h}),k=c[_],R=r[k]||0,D=!!a,U=h<0,P=[b.e("row"),x,{[b.e(`row-depth-${R}`)]:D&&h>=0,[b.is("expanded")]:D&&s.includes(k),[b.is("fixed")]:!R&&U,[b.is("customized")]:!!e.row}],N=u?M:void 0,$={...T,columns:n,columnsStyles:i,class:P,depth:R,expandColumnKey:a,estimatedRowHeight:U?void 0:o,isScrolling:v,rowIndex:h,rowData:c,rowKey:k,rowEventHandlers:w,style:p};return J(xte,Ht($,{onRowExpand:C,onMouseenter:H=>{N==null||N({hovered:!0,rowKey:k,event:H,rowData:c,rowIndex:h})},onMouseleave:H=>{N==null||N({hovered:!1,rowKey:k,event:H,rowData:c,rowIndex:h})},rowkey:k}),Dte(e)?e:{default:()=>[e]})},ug=({columns:t,column:e,columnIndex:n,depth:i,expandIconProps:r,isScrolling:a,rowData:s,rowIndex:o,style:u,expandedRowKeys:c,ns:h,cellProps:p,expandColumnKey:v,indentSize:g,iconSize:y,rowKey:_},{slots:w})=>{const b=js(u);if(e.placeholderSign===ld)return J("div",{class:h.em("row-cell","placeholder"),style:b},null);const{cellRenderer:M,dataKey:C,dataGetter:x}=e,T=un(x)?x({columns:t,column:e,columnIndex:n,rowData:s,rowIndex:o}):ei(s,C??""),k=vl(p,{cellData:T,columns:t,column:e,columnIndex:n,rowIndex:o,rowData:s}),R={class:h.e("cell-text"),columns:t,column:e,columnIndex:n,cellData:T,isScrolling:a,rowData:s,rowIndex:o},D=NT(M),U=D?D(R):oe(w,"default",R,()=>[J(ky,R,null)]),P=[h.e("row-cell"),e.class,e.align===od.CENTER&&h.is("align-center"),e.align===od.RIGHT&&h.is("align-right")],N=o>=0&&v&&e.key===v,$=o>=0&&c.includes(s[_]);let Q;const Y=`margin-inline-start: ${i*g}px;`;return N&&(bn(r)?Q=J(Tte,Ht(r,{class:[h.e("expand-icon"),h.is("expanded",$)],size:y,expanded:$,style:Y,expandable:!0}),null):Q=J("div",{style:[Y,`width: ${y}px; height: ${y}px;`].join(" ")},null)),J("div",Ht({class:P,style:b},k,{role:"cell"}),[Q,U])};ug.inheritAttrs=!1;function Bte(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ni(t)}const Ute=({columns:t,columnsStyles:e,headerIndex:n,style:i,headerClass:r,headerProps:a,ns:s},{slots:o})=>{const u={columns:t,headerIndex:n},c=[s.e("header-row"),vl(r,u,""),{[s.is("customized")]:!!o.header}],h={...vl(a,u),columnsStyles:e,class:c,columns:t,headerIndex:n,style:i};return J(bte,h,Bte(o)?o:{default:()=>[o]})},rw=(t,{slots:e})=>{const{column:n,ns:i,style:r,onColumnSorted:a}=t,s=js(r);if(n.placeholderSign===ld)return J("div",{class:i.em("header-row-cell","placeholder"),style:s},null);const{headerCellRenderer:o,headerClass:u,sortable:c}=n,h={...t,class:i.e("header-cell-text")},p=NT(o),v=p?p(h):oe(e,"default",h,()=>[J(Iy,h,null)]),{sortBy:g,sortState:y,headerCellProps:_}=t;let w,b;if(y){const x=y[n.key];w=!!lg[x],b=w?x:sd.ASC}else w=n.key===g.key,b=w?g.order:sd.ASC;const M=[i.e("header-cell"),vl(u,t,""),n.align===od.CENTER&&i.is("align-center"),n.align===od.RIGHT&&i.is("align-right"),c&&i.is("sortable")],C={...vl(_,t),onClick:n.sortable?a:void 0,class:M,style:s,"data-key":n.key};return J("div",Ht(C,{role:"columnheader"}),[v,c&&J(Mte,{class:[i.e("sort-icon"),w&&i.is("sorting")],sortOrder:b},null)])},BT=(t,{slots:e})=>{var n;return J("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};BT.displayName="ElTableV2Footer";const UT=(t,{slots:e})=>{const n=oe(e,"default",{},()=>[J(HM,null,null)]);return J("div",{class:t.class,style:t.style},[n])};UT.displayName="ElTableV2Empty";const VT=(t,{slots:e})=>{var n;return J("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};VT.displayName="ElTableV2Overlay";function Sc(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ni(t)}const Vte="ElTableV2",zte=re({name:Vte,props:yte,setup(t,{slots:e,expose:n}){const i=Fe("table-v2"),{columnsStyles:r,fixedColumnsOnLeft:a,fixedColumnsOnRight:s,mainColumns:o,mainTableHeight:u,fixedTableHeight:c,leftTableWidth:h,rightTableWidth:p,data:v,depthMap:g,expandedRowKeys:y,hasFixedColumns:_,mainTableRef:w,leftTableRef:b,rightTableRef:M,isDynamic:C,isResetting:x,isScrolling:T,bodyWidth:k,emptyStyle:R,rootStyle:D,headerWidth:U,footerHeight:P,showEmpty:N,scrollTo:$,scrollToLeft:Q,scrollToTop:Y,scrollToRow:H,getRowHeight:B,onColumnSorted:X,onRowHeightChange:q,onRowHovered:O,onRowExpanded:V,onRowsRendered:ee,onScroll:ce,onVerticalScroll:se}=vte(t);return n({scrollTo:$,scrollToLeft:Q,scrollToTop:Y,scrollToRow:H}),Zt(My,{ns:i,isResetting:x,isScrolling:T}),()=>{const{cache:le,cellProps:ye,estimatedRowHeight:Ce,expandColumnKey:pe,fixedData:ue,headerHeight:Me,headerClass:De,headerProps:xe,headerCellProps:G,sortBy:He,sortState:Qe,rowHeight:at,rowClass:rt,rowEventHandlers:it,rowKey:qe,rowProps:te,scrollbarAlwaysOn:ae,indentSize:ke,iconSize:Be,useIsScrolling:Ve,vScrollbarSize:Ae,width:Pe}=t,Xe=d(v),vt={cache:le,class:i.e("main"),columns:d(o),data:Xe,fixedData:ue,estimatedRowHeight:Ce,bodyWidth:d(k)+Ae,headerHeight:Me,headerWidth:d(U),height:d(u),mainTableRef:w,rowKey:qe,rowHeight:at,scrollbarAlwaysOn:ae,scrollbarStartGap:2,scrollbarEndGap:Ae,useIsScrolling:Ve,width:Pe,getRowHeight:B,onRowsRendered:ee,onScroll:ce},nt=d(h),Rt=d(c),Ye={cache:le,class:i.e("left"),columns:d(a),data:Xe,estimatedRowHeight:Ce,leftTableRef:b,rowHeight:at,bodyWidth:nt,headerWidth:nt,headerHeight:Me,height:Rt,rowKey:qe,scrollbarAlwaysOn:ae,scrollbarStartGap:2,scrollbarEndGap:Ae,useIsScrolling:Ve,width:nt,getRowHeight:B,onScroll:se},Te=d(p)+Ae,ze={cache:le,class:i.e("right"),columns:d(s),data:Xe,estimatedRowHeight:Ce,rightTableRef:M,rowHeight:at,bodyWidth:Te,headerWidth:Te,headerHeight:Me,height:Rt,rowKey:qe,scrollbarAlwaysOn:ae,scrollbarStartGap:2,scrollbarEndGap:Ae,width:Te,style:`--${d(i.namespace)}-table-scrollbar-size: ${Ae}px`,useIsScrolling:Ve,getRowHeight:B,onScroll:se},de=d(r),be={ns:i,depthMap:d(g),columnsStyles:de,expandColumnKey:pe,expandedRowKeys:d(y),estimatedRowHeight:Ce,hasFixedColumns:d(_),rowProps:te,rowClass:rt,rowKey:qe,rowEventHandlers:it,onRowHovered:O,onRowExpanded:V,onRowHeightChange:q},Re={cellProps:ye,expandColumnKey:pe,indentSize:ke,iconSize:Be,rowKey:qe,expandedRowKeys:d(y),ns:i},gt={ns:i,headerClass:De,headerProps:xe,columnsStyles:de},Ft={ns:i,sortBy:He,sortState:Qe,headerCellProps:G,onColumnSorted:X},Ee={row:et=>J(Fte,Ht(et,be),{row:e.row,cell:lt=>{let bt;return e.cell?J(ug,Ht(lt,Re,{style:de[lt.column.key]}),Sc(bt=e.cell(lt))?bt:{default:()=>[bt]}):J(ug,Ht(lt,Re,{style:de[lt.column.key]}),null)}}),header:et=>J(Ute,Ht(et,gt),{header:e.header,cell:lt=>{let bt;return e["header-cell"]?J(rw,Ht(lt,Ft,{style:de[lt.column.key]}),Sc(bt=e["header-cell"](lt))?bt:{default:()=>[bt]}):J(rw,Ht(lt,Ft,{style:de[lt.column.key]}),null)}})},st=[t.class,i.b(),i.e("root"),{[i.is("dynamic")]:d(C)}],ve={class:i.e("footer"),style:d(P)};return J("div",{class:st,style:d(D)},[J(Pte,vt,Sc(Ee)?Ee:{default:()=>[Ee]}),J(Lte,Ye,Sc(Ee)?Ee:{default:()=>[Ee]}),J(Ote,ze,Sc(Ee)?Ee:{default:()=>[Ee]}),e.footer&&J(BT,ve,{default:e.footer}),d(N)&&J(UT,{class:i.e("empty"),style:d(R)},{default:e.empty}),e.overlay&&J(VT,{class:i.e("overlay")},{default:e.overlay})])}}}),$te=Ge({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:_e(Function)}}),Hte=re({name:"ElAutoResizer",props:$te,setup(t,{slots:e}){const n=Fe("auto-resizer"),{height:i,width:r,sizer:a}=mte(t),s={width:"100%",height:"100%"};return()=>{var o;return J("div",{ref:a,class:n.b(),style:s},[(o=e.default)==null?void 0:o.call(e,{height:i.value,width:r.value})])}}}),Gte=Dt(zte),Wte=Dt(Hte),hp=Symbol("tabsRootContextKey"),Kte=Ge({tabs:{type:_e(Array),default:()=>Fn([])}}),zT="ElTabBar",qte=re({name:zT}),Yte=re({...qte,props:Kte,setup(t,{expose:e}){const n=t,i=qt(),r=ct(hp);r||vi(zT,"<el-tabs><el-tab-bar /></el-tabs>");const a=Fe("tabs"),s=W(),o=W(),u=()=>{let g=0,y=0;const _=["top","bottom"].includes(r.props.tabPosition)?"width":"height",w=_==="width"?"x":"y",b=w==="x"?"left":"top";return n.tabs.every(M=>{var C,x;const T=(x=(C=i.parent)==null?void 0:C.refs)==null?void 0:x[`tab-${M.uid}`];if(!T)return!1;if(!M.active)return!0;g=T[`offset${Ga(b)}`],y=T[`client${Ga(_)}`];const k=window.getComputedStyle(T);return _==="width"&&(y-=Number.parseFloat(k.paddingLeft)+Number.parseFloat(k.paddingRight),g+=Number.parseFloat(k.paddingLeft)),!1}),{[_]:`${y}px`,transform:`translate${Ga(w)}(${g}px)`}},c=()=>o.value=u(),h=[],p=()=>{var g;h.forEach(_=>_.stop()),h.length=0;const y=(g=i.parent)==null?void 0:g.refs;if(y){for(const _ in y)if(_.startsWith("tab-")){const w=y[_];w&&h.push(On(w,c))}}};Le(()=>n.tabs,async()=>{await yt(),c(),p()},{immediate:!0});const v=On(s,()=>c());return xn(()=>{h.forEach(g=>g.stop()),h.length=0,v.stop()}),e({ref:s,update:c}),(g,y)=>(I(),K("div",{ref_key:"barRef",ref:s,class:z([d(a).e("active-bar"),d(a).is(d(r).props.tabPosition)]),style:_t(o.value)},null,6))}});var jte=We(Yte,[["__file","tab-bar.vue"]]);const Xte=Ge({panes:{type:_e(Array),default:()=>Fn([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),Zte={tabClick:(t,e,n)=>n instanceof Event,tabRemove:(t,e)=>e instanceof Event},aw="ElTabNav",Qte=re({name:aw,props:Xte,emits:Zte,setup(t,{expose:e,emit:n}){const i=ct(hp);i||vi(aw,"<el-tabs><tab-nav /></el-tabs>");const r=Fe("tabs"),a=FD(),s=jD(),o=W(),u=W(),c=W(),h=W(),p=W(!1),v=W(0),g=W(!1),y=W(!0),_=L(()=>["top","bottom"].includes(i.props.tabPosition)?"width":"height"),w=L(()=>({transform:`translate${_.value==="width"?"X":"Y"}(-${v.value}px)`})),b=()=>{if(!o.value)return;const D=o.value[`offset${Ga(_.value)}`],U=v.value;if(!U)return;const P=U>D?U-D:0;v.value=P},M=()=>{if(!o.value||!u.value)return;const D=u.value[`offset${Ga(_.value)}`],U=o.value[`offset${Ga(_.value)}`],P=v.value;if(D-P<=U)return;const N=D-P>U*2?P+U:D-U;v.value=N},C=async()=>{const D=u.value;if(!p.value||!c.value||!o.value||!D)return;await yt();const U=c.value.querySelector(".is-active");if(!U)return;const P=o.value,N=["top","bottom"].includes(i.props.tabPosition),$=U.getBoundingClientRect(),Q=P.getBoundingClientRect(),Y=N?D.offsetWidth-Q.width:D.offsetHeight-Q.height,H=v.value;let B=H;N?($.left<Q.left&&(B=H-(Q.left-$.left)),$.right>Q.right&&(B=H+$.right-Q.right)):($.top<Q.top&&(B=H-(Q.top-$.top)),$.bottom>Q.bottom&&(B=H+($.bottom-Q.bottom))),B=Math.max(B,0),v.value=Math.min(B,Y)},x=()=>{var D;if(!u.value||!o.value)return;t.stretch&&((D=h.value)==null||D.update());const U=u.value[`offset${Ga(_.value)}`],P=o.value[`offset${Ga(_.value)}`],N=v.value;P<U?(p.value=p.value||{},p.value.prev=N,p.value.next=N+P<U,U-N<P&&(v.value=U-P)):(p.value=!1,N>0&&(v.value=0))},T=D=>{const U=D.code,{up:P,down:N,left:$,right:Q}=St;if(![P,N,$,Q].includes(U))return;const Y=Array.from(D.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),H=Y.indexOf(D.target);let B;U===$||U===P?H===0?B=Y.length-1:B=H-1:H<Y.length-1?B=H+1:B=0,Y[B].focus({preventScroll:!0}),Y[B].click(),k()},k=()=>{y.value&&(g.value=!0)},R=()=>g.value=!1;return Le(a,D=>{D==="hidden"?y.value=!1:D==="visible"&&setTimeout(()=>y.value=!0,50)}),Le(s,D=>{D?setTimeout(()=>y.value=!0,50):y.value=!1}),On(c,x),wt(()=>setTimeout(()=>C(),0)),yo(()=>x()),e({scrollToActiveTab:C,removeFocus:R}),()=>{const D=p.value?[J("span",{class:[r.e("nav-prev"),r.is("disabled",!p.value.prev)],onClick:b},[J(dt,null,{default:()=>[J(ao,null,null)]})]),J("span",{class:[r.e("nav-next"),r.is("disabled",!p.value.next)],onClick:M},[J(dt,null,{default:()=>[J(hr,null,null)]})])]:null,U=t.panes.map((P,N)=>{var $,Q,Y,H;const B=P.uid,X=P.props.disabled,q=(Q=($=P.props.name)!=null?$:P.index)!=null?Q:`${N}`,O=!X&&(P.isClosable||t.editable);P.index=`${N}`;const V=O?J(dt,{class:"is-icon-close",onClick:se=>n("tabRemove",P,se)},{default:()=>[J(Ra,null,null)]}):null,ee=((H=(Y=P.slots).label)==null?void 0:H.call(Y))||P.props.label,ce=!X&&P.active?0:-1;return J("div",{ref:`tab-${B}`,class:[r.e("item"),r.is(i.props.tabPosition),r.is("active",P.active),r.is("disabled",X),r.is("closable",O),r.is("focus",g.value)],id:`tab-${q}`,key:`tab-${B}`,"aria-controls":`pane-${q}`,role:"tab","aria-selected":P.active,tabindex:ce,onFocus:()=>k(),onBlur:()=>R(),onClick:se=>{R(),n("tabClick",P,q,se)},onKeydown:se=>{O&&(se.code===St.delete||se.code===St.backspace)&&n("tabRemove",P,se)}},[ee,V])});return J("div",{ref:c,class:[r.e("nav-wrap"),r.is("scrollable",!!p.value),r.is(i.props.tabPosition)]},[D,J("div",{class:r.e("nav-scroll"),ref:o},[J("div",{class:[r.e("nav"),r.is(i.props.tabPosition),r.is("stretch",t.stretch&&["top","bottom"].includes(i.props.tabPosition))],ref:u,style:w.value,role:"tablist",onKeydown:T},[t.type?null:J(jte,{ref:h,tabs:[...t.panes]},null),U])])])}}}),Jte=Ge({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:_e(Function),default:()=>!0},stretch:Boolean}),cm=t=>Gt(t)||kt(t),ene={[Wt]:t=>cm(t),tabClick:(t,e)=>e instanceof Event,tabChange:t=>cm(t),edit:(t,e)=>["remove","add"].includes(e),tabRemove:t=>cm(t),tabAdd:()=>!0},tne=re({name:"ElTabs",props:Jte,emits:ene,setup(t,{emit:e,slots:n,expose:i}){var r;const a=Fe("tabs"),s=L(()=>["left","right"].includes(t.tabPosition)),{children:o,addChild:u,removeChild:c}=Y0(qt(),"ElTabPane"),h=W(),p=W((r=t.modelValue)!=null?r:"0"),v=async(b,M=!1)=>{var C,x,T;if(!(p.value===b||zn(b)))try{await((C=t.beforeLeave)==null?void 0:C.call(t,b,p.value))!==!1&&(p.value=b,M&&(e(Wt,b),e("tabChange",b)),(T=(x=h.value)==null?void 0:x.removeFocus)==null||T.call(x))}catch{}},g=(b,M,C)=>{b.props.disabled||(v(M,!0),e("tabClick",b,C))},y=(b,M)=>{b.props.disabled||zn(b.props.name)||(M.stopPropagation(),e("edit",b.props.name,"remove"),e("tabRemove",b.props.name))},_=()=>{e("edit",void 0,"add"),e("tabAdd")};Le(()=>t.modelValue,b=>v(b)),Le(p,async()=>{var b;await yt(),(b=h.value)==null||b.scrollToActiveTab()}),Zt(hp,{props:t,currentName:p,registerPane:b=>{o.value.push(b)},sortPane:u,unregisterPane:c}),i({currentName:p});const w=({render:b})=>b();return()=>{const b=n["add-icon"],M=t.editable||t.addable?J("div",{class:[a.e("new-tab"),s.value&&a.e("new-tab-vertical")],tabindex:"0",onClick:_,onKeydown:T=>{T.code===St.enter&&_()}},[b?oe(n,"add-icon"):J(dt,{class:a.is("icon-plus")},{default:()=>[J(aE,null,null)]})]):null,C=J("div",{class:[a.e("header"),s.value&&a.e("header-vertical"),a.is(t.tabPosition)]},[J(w,{render:()=>{const T=o.value.some(k=>k.slots.label);return J(Qte,{ref:h,currentName:p.value,editable:t.editable,type:t.type,panes:o.value,stretch:t.stretch,onTabClick:g,onTabRemove:y},{$stable:!T})}},null),M]),x=J("div",{class:a.e("content")},[oe(n,"default")]);return J("div",{class:[a.b(),a.m(t.tabPosition),{[a.m("card")]:t.type==="card",[a.m("border-card")]:t.type==="border-card"}]},[x,C])}}}),nne=Ge({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),$T="ElTabPane",ine=re({name:$T}),rne=re({...ine,props:nne,setup(t){const e=t,n=qt(),i=bi(),r=ct(hp);r||vi($T,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const a=Fe("tab-pane"),s=W(),o=L(()=>e.closable||r.props.closable),u=R_(()=>{var g;return r.currentName.value===((g=e.name)!=null?g:s.value)}),c=W(u.value),h=L(()=>{var g;return(g=e.name)!=null?g:s.value}),p=R_(()=>!e.lazy||c.value||u.value);Le(u,g=>{g&&(c.value=!0)});const v=jt({uid:n.uid,slots:i,props:e,paneName:h,active:u,index:s,isClosable:o});return r.registerPane(v),wt(()=>{r.sortPane(v)}),As(()=>{r.unregisterPane(v.uid)}),(g,y)=>d(p)?Bt((I(),K("div",{key:0,id:`pane-${d(h)}`,class:z(d(a).b()),role:"tabpanel","aria-hidden":!d(u),"aria-labelledby":`tab-${d(h)}`},[oe(g.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[sn,d(u)]]):he("v-if",!0)}});var HT=We(rne,[["__file","tab-pane.vue"]]);const ane=Dt(tne,{TabPane:HT}),sne=Bn(HT),one=Ge({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:is,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),lne=re({name:"ElText"}),une=re({...lne,props:one,setup(t){const e=t,n=fi(),i=Fe("text"),r=L(()=>[i.b(),i.m(e.type),i.m(n.value),i.is("truncated",e.truncated),i.is("line-clamp",!zn(e.lineClamp))]);return(a,s)=>(I(),we(Vt(a.tag),{class:z(d(r)),style:_t({"-webkit-line-clamp":a.lineClamp})},{default:ne(()=>[oe(a.$slots,"default")]),_:3},8,["class","style"]))}});var cne=We(une,[["__file","text.vue"]]);const dne=Dt(cne),fne=Ge({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:_e(String),default:"light"},clearable:{type:Boolean,default:!0},size:gi,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:_e([String,Object]),default:()=>rE},clearIcon:{type:_e([String,Object]),default:()=>_o},...Qu}),bs=t=>{const e=(t||"").split(":");if(e.length>=2){let n=Number.parseInt(e[0],10);const i=Number.parseInt(e[1],10),r=t.toUpperCase();return r.includes("AM")&&n===12?n=0:r.includes("PM")&&n!==12&&(n+=12),{hours:n,minutes:i}}return null},dm=(t,e)=>{const n=bs(t);if(!n)return-1;const i=bs(e);if(!i)return-1;const r=n.minutes+n.hours*60,a=i.minutes+i.hours*60;return r===a?0:r>a?1:-1},sw=t=>`${t}`.padStart(2,"0"),nu=t=>`${sw(t.hours)}:${sw(t.minutes)}`,hne=(t,e)=>{const n=bs(t);if(!n)return"";const i=bs(e);if(!i)return"";const r={hours:n.hours,minutes:n.minutes};return r.minutes+=i.minutes,r.hours+=i.hours,r.hours+=Math.floor(r.minutes/60),r.minutes=r.minutes%60,nu(r)},pne=re({name:"ElTimeSelect"}),mne=re({...pne,props:fne,emits:["change","blur","focus","clear","update:modelValue"],setup(t,{expose:e}){const n=t;Lt.extend(ny);const{Option:i}=ml,r=Fe("input"),a=W(),s=ir(),{lang:o}=nn(),u=L(()=>n.modelValue),c=L(()=>{const b=bs(n.start);return b?nu(b):null}),h=L(()=>{const b=bs(n.end);return b?nu(b):null}),p=L(()=>{const b=bs(n.step);return b?nu(b):null}),v=L(()=>{const b=bs(n.minTime||"");return b?nu(b):null}),g=L(()=>{const b=bs(n.maxTime||"");return b?nu(b):null}),y=L(()=>{const b=[];if(n.start&&n.end&&n.step){let M=c.value,C;for(;M&&h.value&&dm(M,h.value)<=0;)C=Lt(M,"HH:mm").locale(o.value).format(n.format),b.push({value:C,disabled:dm(M,v.value||"-1:-1")<=0||dm(M,g.value||"100:100")>=0}),M=hne(M,p.value)}return b});return e({blur:()=>{var b,M;(M=(b=a.value)==null?void 0:b.blur)==null||M.call(b)},focus:()=>{var b,M;(M=(b=a.value)==null?void 0:b.focus)==null||M.call(b)}}),(b,M)=>(I(),we(d(ml),{ref_key:"select",ref:a,"model-value":d(u),disabled:d(s),clearable:b.clearable,"clear-icon":b.clearIcon,size:b.size,effect:b.effect,placeholder:b.placeholder,"default-first-option":"",filterable:b.editable,"empty-values":b.emptyValues,"value-on-clear":b.valueOnClear,"onUpdate:modelValue":C=>b.$emit("update:modelValue",C),onChange:C=>b.$emit("change",C),onBlur:C=>b.$emit("blur",C),onFocus:C=>b.$emit("focus",C),onClear:()=>b.$emit("clear")},{prefix:ne(()=>[b.prefixIcon?(I(),we(d(dt),{key:0,class:z(d(r).e("prefix-icon"))},{default:ne(()=>[(I(),we(Vt(b.prefixIcon)))]),_:1},8,["class"])):he("v-if",!0)]),default:ne(()=>[(I(!0),K(ut,null,Ut(d(y),C=>(I(),we(d(i),{key:C.value,label:C.value,value:C.value,disabled:C.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","onUpdate:modelValue","onChange","onBlur","onFocus","onClear"]))}});var vne=We(mne,[["__file","time-select.vue"]]);const gne=Dt(vne),yne=re({name:"ElTimeline",setup(t,{slots:e}){const n=Fe("timeline");return Zt("timeline",e),()=>Ct("ul",{class:[n.b()]},[oe(e,"default")])}}),_ne=Ge({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:wn},hollow:Boolean}),bne=re({name:"ElTimelineItem"}),wne=re({...bne,props:_ne,setup(t){const e=t,n=Fe("timeline-item"),i=L(()=>[n.e("node"),n.em("node",e.size||""),n.em("node",e.type||""),n.is("hollow",e.hollow)]);return(r,a)=>(I(),K("li",{class:z([d(n).b(),{[d(n).e("center")]:r.center}])},[Z("div",{class:z(d(n).e("tail"))},null,2),r.$slots.dot?he("v-if",!0):(I(),K("div",{key:0,class:z(d(i)),style:_t({backgroundColor:r.color})},[r.icon?(I(),we(d(dt),{key:0,class:z(d(n).e("icon"))},{default:ne(()=>[(I(),we(Vt(r.icon)))]),_:1},8,["class"])):he("v-if",!0)],6)),r.$slots.dot?(I(),K("div",{key:1,class:z(d(n).e("dot"))},[oe(r.$slots,"dot")],2)):he("v-if",!0),Z("div",{class:z(d(n).e("wrapper"))},[!r.hideTimestamp&&r.placement==="top"?(I(),K("div",{key:0,class:z([d(n).e("timestamp"),d(n).is("top")])},Ne(r.timestamp),3)):he("v-if",!0),Z("div",{class:z(d(n).e("content"))},[oe(r.$slots,"default")],2),!r.hideTimestamp&&r.placement==="bottom"?(I(),K("div",{key:1,class:z([d(n).e("timestamp"),d(n).is("bottom")])},Ne(r.timestamp),3)):he("v-if",!0)],2)],2))}});var GT=We(wne,[["__file","timeline-item.vue"]]);const Sne=Dt(yne,{TimelineItem:GT}),Cne=Bn(GT),WT=Ge({nowrap:Boolean});var KT=(t=>(t.top="top",t.bottom="bottom",t.left="left",t.right="right",t))(KT||{});const Ene=Object.values(KT),Ry=Ge({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:_e(Object),default:null}}),xne=Ge({side:{type:_e(String),values:Ene,required:!0}}),Mne=["absolute","fixed"],Tne=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],Ly=Ge({arrowPadding:{type:_e(Number),default:5},effect:{type:_e(String),default:"light"},contentClass:String,placement:{type:_e(String),values:Tne,default:"bottom"},reference:{type:_e(Object),default:null},offset:{type:Number,default:8},strategy:{type:_e(String),values:Mne,default:"absolute"},showArrow:Boolean,...Ui(["ariaLabel"])}),Ny=Ge({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:_e(Function)},"onUpdate:open":{type:_e(Function)}}),Ol={type:_e(Function)},Oy=Ge({onBlur:Ol,onClick:Ol,onFocus:Ol,onMouseDown:Ol,onMouseEnter:Ol,onMouseLeave:Ol}),Ane=Ge({...Ny,...Ry,...Oy,...Ly,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:_e(Object),default:null},teleported:Boolean,to:{type:_e(String),default:"body"}}),pp=Symbol("tooltipV2"),qT=Symbol("tooltipV2Content"),fm="tooltip_v2.open",kne=re({name:"ElTooltipV2Root"}),Ine=re({...kne,props:Ny,setup(t,{expose:e}){const n=t,i=W(n.defaultOpen),r=W(null),a=L({get:()=>cl(n.open)?i.value:n.open,set:w=>{var b;i.value=w,(b=n["onUpdate:open"])==null||b.call(n,w)}}),s=L(()=>kt(n.delayDuration)&&n.delayDuration>0),{start:o,stop:u}=ll(()=>{a.value=!0},L(()=>n.delayDuration),{immediate:!1}),c=Fe("tooltip-v2"),h=Bi(),p=()=>{u(),a.value=!0},v=()=>{d(s)?o():p()},g=p,y=()=>{u(),a.value=!1};return Le(a,w=>{var b;w&&(document.dispatchEvent(new CustomEvent(fm)),g()),(b=n.onOpenChange)==null||b.call(n,w)}),wt(()=>{document.addEventListener(fm,y)}),xn(()=>{u(),document.removeEventListener(fm,y)}),Zt(pp,{contentId:h,triggerRef:r,ns:c,onClose:y,onDelayOpen:v,onOpen:g}),e({onOpen:g,onClose:y}),(w,b)=>oe(w.$slots,"default",{open:d(a)})}});var Pne=We(Ine,[["__file","root.vue"]]);const Rne=re({name:"ElTooltipV2Arrow"}),Lne=re({...Rne,props:{...Ry,...xne},setup(t){const e=t,{ns:n}=ct(pp),{arrowRef:i}=ct(qT),r=L(()=>{const{style:a,width:s,height:o}=e,u=n.namespace.value;return{[`--${u}-tooltip-v2-arrow-width`]:`${s}px`,[`--${u}-tooltip-v2-arrow-height`]:`${o}px`,[`--${u}-tooltip-v2-arrow-border-width`]:`${s/2}px`,[`--${u}-tooltip-v2-arrow-cover-width`]:s/2-1,...a||{}}});return(a,s)=>(I(),K("span",{ref_key:"arrowRef",ref:i,style:_t(d(r)),class:z(d(n).e("arrow"))},null,6))}});var ow=We(Lne,[["__file","arrow.vue"]]);const Nne=Ge({style:{type:_e([String,Object,Array]),default:()=>({})}}),One=re({name:"ElVisuallyHidden"}),Dne=re({...One,props:Nne,setup(t){const e=t,n=L(()=>[e.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(i,r)=>(I(),K("span",Ht(i.$attrs,{style:d(n)}),[oe(i.$slots,"default")],16))}});var Fne=We(Dne,[["__file","visual-hidden.vue"]]);const Bne=re({name:"ElTooltipV2Content"}),Une=re({...Bne,props:{...Ly,...WT},setup(t){const e=t,{triggerRef:n,contentId:i}=ct(pp),r=W(e.placement),a=W(e.strategy),s=W(null),{referenceRef:o,contentRef:u,middlewareData:c,x:h,y:p,update:v}=r$({placement:r,strategy:a,middleware:L(()=>{const C=[J2(e.offset)];return e.showArrow&&C.push(a$({arrowRef:s})),C})}),g=Xu().nextZIndex(),y=Fe("tooltip-v2"),_=L(()=>r.value.split("-")[0]),w=L(()=>({position:d(a),top:`${d(p)||0}px`,left:`${d(h)||0}px`,zIndex:g})),b=L(()=>{if(!e.showArrow)return{};const{arrow:C}=d(c);return{[`--${y.namespace.value}-tooltip-v2-arrow-x`]:`${C==null?void 0:C.x}px`||"",[`--${y.namespace.value}-tooltip-v2-arrow-y`]:`${C==null?void 0:C.y}px`||""}}),M=L(()=>[y.e("content"),y.is("dark",e.effect==="dark"),y.is(d(a)),e.contentClass]);return Le(s,()=>v()),Le(()=>e.placement,C=>r.value=C),wt(()=>{Le(()=>e.reference||n.value,C=>{o.value=C||void 0},{immediate:!0})}),Zt(qT,{arrowRef:s}),(C,x)=>(I(),K("div",{ref_key:"contentRef",ref:u,style:_t(d(w)),"data-tooltip-v2-root":""},[C.nowrap?he("v-if",!0):(I(),K("div",{key:0,"data-side":d(_),class:z(d(M))},[oe(C.$slots,"default",{contentStyle:d(w),contentClass:d(M)}),J(d(Fne),{id:d(i),role:"tooltip"},{default:ne(()=>[C.ariaLabel?(I(),K(ut,{key:0},[mt(Ne(C.ariaLabel),1)],64)):oe(C.$slots,"default",{key:1})]),_:3},8,["id"]),oe(C.$slots,"arrow",{style:_t(d(b)),side:d(_)})],10,["data-side"]))],4))}});var lw=We(Une,[["__file","content.vue"]]);const Vne=Ge({setRef:{type:_e(Function),required:!0},onlyChild:Boolean});var zne=re({props:Vne,setup(t,{slots:e}){const n=W(),i=Qh(n,r=>{r?t.setRef(r.nextElementSibling):t.setRef(null)});return()=>{var r;const[a]=((r=e.default)==null?void 0:r.call(e))||[],s=t.onlyChild?QV(a.children):a.children;return J(ut,{ref:i},[s])}}});const $ne=re({name:"ElTooltipV2Trigger"}),Hne=re({...$ne,props:{...WT,...Oy},setup(t){const e=t,{onClose:n,onOpen:i,onDelayOpen:r,triggerRef:a,contentId:s}=ct(pp);let o=!1;const u=M=>{a.value=M},c=()=>{o=!1},h=qn(e.onMouseEnter,r),p=qn(e.onMouseLeave,n),v=qn(e.onMouseDown,()=>{n(),o=!0,document.addEventListener("mouseup",c,{once:!0})}),g=qn(e.onFocus,()=>{o||i()}),y=qn(e.onBlur,n),_=qn(e.onClick,M=>{M.detail===0&&n()}),w={blur:y,click:_,focus:g,mousedown:v,mouseenter:h,mouseleave:p},b=(M,C,x)=>{M&&Object.entries(C).forEach(([T,k])=>{M[x](T,k)})};return Le(a,(M,C)=>{b(M,w,"addEventListener"),b(C,w,"removeEventListener"),M&&M.setAttribute("aria-describedby",s.value)}),xn(()=>{b(a.value,w,"removeEventListener"),document.removeEventListener("mouseup",c)}),(M,C)=>M.nowrap?(I(),we(d(zne),{key:0,"set-ref":u,"only-child":""},{default:ne(()=>[oe(M.$slots,"default")]),_:3})):(I(),K("button",Ht({key:1,ref_key:"triggerRef",ref:a},M.$attrs),[oe(M.$slots,"default")],16))}});var Gne=We(Hne,[["__file","trigger.vue"]]);const Wne=re({name:"ElTooltipV2"}),Kne=re({...Wne,props:Ane,setup(t){const n=Ri(t),i=jt(Ta(n,Object.keys(Ry))),r=jt(Ta(n,Object.keys(Ly))),a=jt(Ta(n,Object.keys(Ny))),s=jt(Ta(n,Object.keys(Oy)));return(o,u)=>(I(),we(Pne,Ma(ol(a)),{default:ne(({open:c})=>[J(Gne,Ht(s,{nowrap:""}),{default:ne(()=>[oe(o.$slots,"trigger")]),_:3},16),J(d(Ju),{to:o.to,disabled:!o.teleported},{default:ne(()=>[o.fullTransition?(I(),we(ui,Ma(Ht({key:0},o.transitionProps)),{default:ne(()=>[o.alwaysOn||c?(I(),we(lw,Ma(Ht({key:0},r)),{arrow:ne(({style:h,side:p})=>[o.showArrow?(I(),we(ow,Ht({key:0},i,{style:h,side:p}),null,16,["style","side"])):he("v-if",!0)]),default:ne(()=>[oe(o.$slots,"default")]),_:3},16)):he("v-if",!0)]),_:2},1040)):(I(),K(ut,{key:1},[o.alwaysOn||c?(I(),we(lw,Ma(Ht({key:0},r)),{arrow:ne(({style:h,side:p})=>[o.showArrow?(I(),we(ow,Ht({key:0},i,{style:h,side:p}),null,16,["style","side"])):he("v-if",!0)]),default:ne(()=>[oe(o.$slots,"default")]),_:3},16)):he("v-if",!0)],64))]),_:2},1032,["to","disabled"])]),_:3},16))}});var qne=We(Kne,[["__file","tooltip.vue"]]);const Yne=Dt(qne),YT="left-check-change",jT="right-check-change",iu=Ge({data:{type:_e(Array),default:()=>[]},titles:{type:_e(Array),default:()=>[]},buttonTexts:{type:_e(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:_e(Function)},leftDefaultChecked:{type:_e(Array),default:()=>[]},rightDefaultChecked:{type:_e(Array),default:()=>[]},renderContent:{type:_e(Function)},modelValue:{type:_e(Array),default:()=>[]},format:{type:_e(Object),default:()=>({})},filterable:Boolean,props:{type:_e(Object),default:()=>Fn({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),cg=(t,e)=>[t,e].every(Nt)||Nt(t)&&Mi(e),jne={[Rn]:(t,e,n)=>[t,n].every(Nt)&&["left","right"].includes(e),[Wt]:t=>Nt(t),[YT]:cg,[jT]:cg},dg="checked-change",Xne=Ge({data:iu.data,optionRender:{type:_e(Function)},placeholder:String,title:String,filterable:Boolean,format:iu.format,filterMethod:iu.filterMethod,defaultChecked:iu.leftDefaultChecked,props:iu.props}),Zne={[dg]:cg},Id=t=>{const e={label:"label",key:"key",disabled:"disabled"};return L(()=>({...e,...t.props}))},Qne=(t,e,n)=>{const i=Id(t),r=L(()=>t.data.filter(h=>un(t.filterMethod)?t.filterMethod(e.query,h):String(h[i.value.label]||h[i.value.key]).toLowerCase().includes(e.query.toLowerCase()))),a=L(()=>r.value.filter(h=>!h[i.value.disabled])),s=L(()=>{const h=e.checked.length,p=t.data.length,{noChecked:v,hasChecked:g}=t.format;return v&&g?h>0?g.replace(/\${checked}/g,h.toString()).replace(/\${total}/g,p.toString()):v.replace(/\${total}/g,p.toString()):`${h}/${p}`}),o=L(()=>{const h=e.checked.length;return h>0&&h<a.value.length}),u=()=>{const h=a.value.map(p=>p[i.value.key]);e.allChecked=h.length>0&&h.every(p=>e.checked.includes(p))},c=h=>{e.checked=h?a.value.map(p=>p[i.value.key]):[]};return Le(()=>e.checked,(h,p)=>{if(u(),e.checkChangeByUser){const v=h.concat(p).filter(g=>!h.includes(g)||!p.includes(g));n(dg,h,v)}else n(dg,h),e.checkChangeByUser=!0}),Le(a,()=>{u()}),Le(()=>t.data,()=>{const h=[],p=r.value.map(v=>v[i.value.key]);e.checked.forEach(v=>{p.includes(v)&&h.push(v)}),e.checkChangeByUser=!1,e.checked=h}),Le(()=>t.defaultChecked,(h,p)=>{if(p&&h.length===p.length&&h.every(y=>p.includes(y)))return;const v=[],g=a.value.map(y=>y[i.value.key]);h.forEach(y=>{g.includes(y)&&v.push(y)}),e.checkChangeByUser=!1,e.checked=v},{immediate:!0}),{filteredData:r,checkableData:a,checkedSummary:s,isIndeterminate:o,updateAllChecked:u,handleAllCheckedChange:c}},Jne=(t,e)=>({onSourceCheckedChange:(r,a)=>{t.leftChecked=r,a&&e(YT,r,a)},onTargetCheckedChange:(r,a)=>{t.rightChecked=r,a&&e(jT,r,a)}}),eie=t=>{const e=Id(t),n=L(()=>t.data.reduce((a,s)=>(a[s[e.value.key]]=s)&&a,{})),i=L(()=>t.data.filter(a=>!t.modelValue.includes(a[e.value.key]))),r=L(()=>t.targetOrder==="original"?t.data.filter(a=>t.modelValue.includes(a[e.value.key])):t.modelValue.reduce((a,s)=>{const o=n.value[s];return o&&a.push(o),a},[]));return{sourceData:i,targetData:r}},tie=(t,e,n)=>{const i=Id(t),r=(o,u,c)=>{n(Wt,o),n(Rn,o,u,c)};return{addToLeft:()=>{const o=t.modelValue.slice();e.rightChecked.forEach(u=>{const c=o.indexOf(u);c>-1&&o.splice(c,1)}),r(o,"left",e.rightChecked)},addToRight:()=>{let o=t.modelValue.slice();const u=t.data.filter(c=>{const h=c[i.value.key];return e.leftChecked.includes(h)&&!t.modelValue.includes(h)}).map(c=>c[i.value.key]);o=t.targetOrder==="unshift"?u.concat(o):o.concat(u),t.targetOrder==="original"&&(o=t.data.filter(c=>o.includes(c[i.value.key])).map(c=>c[i.value.key])),r(o,"right",e.leftChecked)}}},nie=re({name:"ElTransferPanel"}),iie=re({...nie,props:Xne,emits:Zne,setup(t,{expose:e,emit:n}){const i=t,r=bi(),a=({option:C})=>C,{t:s}=nn(),o=Fe("transfer"),u=jt({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),c=Id(i),{filteredData:h,checkedSummary:p,isIndeterminate:v,handleAllCheckedChange:g}=Qne(i,u,n),y=L(()=>!zr(u.query)&&zr(h.value)),_=L(()=>!zr(r.default()[0].children)),{checked:w,allChecked:b,query:M}=Ri(u);return e({query:M}),(C,x)=>(I(),K("div",{class:z(d(o).b("panel"))},[Z("p",{class:z(d(o).be("panel","header"))},[J(d(da),{modelValue:d(b),"onUpdate:modelValue":T=>Ji(b)?b.value=T:null,indeterminate:d(v),"validate-event":!1,onChange:d(g)},{default:ne(()=>[mt(Ne(C.title)+" ",1),Z("span",null,Ne(d(p)),1)]),_:1},8,["modelValue","onUpdate:modelValue","indeterminate","onChange"])],2),Z("div",{class:z([d(o).be("panel","body"),d(o).is("with-footer",d(_))])},[C.filterable?(I(),we(d(Qi),{key:0,modelValue:d(M),"onUpdate:modelValue":T=>Ji(M)?M.value=T:null,class:z(d(o).be("panel","filter")),size:"default",placeholder:C.placeholder,"prefix-icon":d(YO),clearable:"","validate-event":!1},null,8,["modelValue","onUpdate:modelValue","class","placeholder","prefix-icon"])):he("v-if",!0),Bt(J(d(nM),{modelValue:d(w),"onUpdate:modelValue":T=>Ji(w)?w.value=T:null,"validate-event":!1,class:z([d(o).is("filterable",C.filterable),d(o).be("panel","list")])},{default:ne(()=>[(I(!0),K(ut,null,Ut(d(h),T=>(I(),we(d(da),{key:T[d(c).key],class:z(d(o).be("panel","item")),value:T[d(c).key],disabled:T[d(c).disabled],"validate-event":!1},{default:ne(()=>{var k;return[J(a,{option:(k=C.optionRender)==null?void 0:k.call(C,T)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"]),[[sn,!d(y)&&!d(zr)(C.data)]]),Bt(Z("p",{class:z(d(o).be("panel","empty"))},Ne(d(y)?d(s)("el.transfer.noMatch"):d(s)("el.transfer.noData")),3),[[sn,d(y)||d(zr)(C.data)]])],2),d(_)?(I(),K("p",{key:0,class:z(d(o).be("panel","footer"))},[oe(C.$slots,"default")],2)):he("v-if",!0)],2))}});var uw=We(iie,[["__file","transfer-panel.vue"]]);const rie=re({name:"ElTransfer"}),aie=re({...rie,props:iu,emits:jne,setup(t,{expose:e,emit:n}){const i=t,r=bi(),{t:a}=nn(),s=Fe("transfer"),{formItem:o}=rr(),u=jt({leftChecked:[],rightChecked:[]}),c=Id(i),{sourceData:h,targetData:p}=eie(i),{onSourceCheckedChange:v,onTargetCheckedChange:g}=Jne(u,n),{addToLeft:y,addToRight:_}=tie(i,u,n),w=W(),b=W(),M=D=>{switch(D){case"left":w.value.query="";break;case"right":b.value.query="";break}},C=L(()=>i.buttonTexts.length===2),x=L(()=>i.titles[0]||a("el.transfer.titles.0")),T=L(()=>i.titles[1]||a("el.transfer.titles.1")),k=L(()=>i.filterPlaceholder||a("el.transfer.filterPlaceholder"));Le(()=>i.modelValue,()=>{var D;i.validateEvent&&((D=o==null?void 0:o.validate)==null||D.call(o,"change").catch(U=>void 0))});const R=L(()=>D=>i.renderContent?i.renderContent(Ct,D):r.default?r.default({option:D}):Ct("span",D[c.value.label]||D[c.value.key]));return e({clearQuery:M,leftPanel:w,rightPanel:b}),(D,U)=>(I(),K("div",{class:z(d(s).b())},[J(uw,{ref_key:"leftPanel",ref:w,data:d(h),"option-render":d(R),placeholder:d(k),title:d(x),filterable:D.filterable,format:D.format,"filter-method":D.filterMethod,"default-checked":D.leftDefaultChecked,props:i.props,onCheckedChange:d(v)},{default:ne(()=>[oe(D.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),Z("div",{class:z(d(s).e("buttons"))},[J(d(Pi),{type:"primary",class:z([d(s).e("button"),d(s).is("with-texts",d(C))]),disabled:d(zr)(u.rightChecked),onClick:d(y)},{default:ne(()=>[J(d(dt),null,{default:ne(()=>[J(d(ao))]),_:1}),d(zn)(D.buttonTexts[0])?he("v-if",!0):(I(),K("span",{key:0},Ne(D.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),J(d(Pi),{type:"primary",class:z([d(s).e("button"),d(s).is("with-texts",d(C))]),disabled:d(zr)(u.leftChecked),onClick:d(_)},{default:ne(()=>[d(zn)(D.buttonTexts[1])?he("v-if",!0):(I(),K("span",{key:0},Ne(D.buttonTexts[1]),1)),J(d(dt),null,{default:ne(()=>[J(d(hr))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),J(uw,{ref_key:"rightPanel",ref:b,data:d(p),"option-render":d(R),placeholder:d(k),filterable:D.filterable,format:D.format,"filter-method":D.filterMethod,title:d(T),"default-checked":D.rightDefaultChecked,props:i.props,onCheckedChange:d(g)},{default:ne(()=>[oe(D.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var sie=We(aie,[["__file","transfer.vue"]]);const oie=Dt(sie),mu="$treeNodeId",cw=function(t,e){!e||e[mu]||Object.defineProperty(e,mu,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},Dy=function(t,e){return t?e[t]:e[mu]},fg=(t,e,n)=>{const i=t.value.currentNode;n();const r=t.value.currentNode;i!==r&&e("current-change",r?r.data:null,r)},hg=t=>{let e=!0,n=!0,i=!0;for(let r=0,a=t.length;r<a;r++){const s=t[r];(s.checked!==!0||s.indeterminate)&&(e=!1,s.disabled||(i=!1)),(s.checked!==!1||s.indeterminate)&&(n=!1)}return{all:e,none:n,allWithoutDisable:i,half:!e&&!n}},Ic=function(t){if(t.childNodes.length===0||t.loading)return;const{all:e,none:n,half:i}=hg(t.childNodes);e?(t.checked=!0,t.indeterminate=!1):i?(t.checked=!1,t.indeterminate=!0):n&&(t.checked=!1,t.indeterminate=!1);const r=t.parent;!r||r.level===0||t.store.checkStrictly||Ic(r)},nf=function(t,e){const n=t.store.props,i=t.data||{},r=n[e];if(typeof r=="function")return r(i,t);if(typeof r=="string")return i[r];if(typeof r>"u"){const a=i[e];return a===void 0?"":a}};let lie=0,pg=class jf{constructor(e){this.id=lie++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in e)Gi(e,n)&&(this[n]=e[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const n=e.props;if(n&&typeof n.isLeaf<"u"){const a=nf(this,"isLeaf");typeof a=="boolean"&&(this.isLeafByUser=a)}if(e.lazy!==!0&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&!this.isLeafByUser&&this.expand(),Array.isArray(this.data)||cw(this,this.data),!this.data)return;const i=e.defaultExpandedKeys,r=e.key;r&&i&&i.includes(this.key)&&this.expand(null,e.autoExpandParent),r&&e.currentNodeKey!==void 0&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(e){Array.isArray(e)||cw(this,e),this.data=e,this.childNodes=[];let n;this.level===0&&Array.isArray(this.data)?n=this.data:n=nf(this,"children")||[];for(let i=0,r=n.length;i<r;i++)this.insertChild({data:n[i]})}get label(){return nf(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return nf(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return e.childNodes[n+1]}return null}get previousSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return n>0?e.childNodes[n-1]:null}return null}contains(e,n=!0){return(this.childNodes||[]).some(i=>i===e||n&&i.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,n,i){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof jf)){if(!i){const r=this.getChildren(!0);r.includes(e.data)||(typeof n>"u"||n<0?r.push(e.data):r.splice(n,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=jt(new jf(e)),e instanceof jf&&e.initialize()}e.level=this.level+1,typeof n>"u"||n<0?this.childNodes.push(e):this.childNodes.splice(n,0,e),this.updateLeafState()}insertBefore(e,n){let i;n&&(i=this.childNodes.indexOf(n)),this.insertChild(e,i)}insertAfter(e,n){let i;n&&(i=this.childNodes.indexOf(n),i!==-1&&(i+=1)),this.insertChild(e,i)}removeChild(e){const n=this.getChildren()||[],i=n.indexOf(e.data);i>-1&&n.splice(i,1);const r=this.childNodes.indexOf(e);r>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(r,1)),this.updateLeafState()}removeChildByData(e){let n=null;for(let i=0;i<this.childNodes.length;i++)if(this.childNodes[i].data===e){n=this.childNodes[i];break}n&&this.removeChild(n)}expand(e,n){const i=()=>{if(n){let r=this.parent;for(;r.level>0;)r.expanded=!0,r=r.parent}this.expanded=!0,e&&e(),this.childNodes.forEach(r=>{r.canFocus=!0})};this.shouldLoadData()?this.loadData(r=>{Array.isArray(r)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Ic(this),i())}):i()}doCreateChildren(e,n={}){e.forEach(i=>{this.insertChild(Object.assign({data:i},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(e=>{e.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0;return}this.isLeaf=!1}setChecked(e,n,i,r){if(this.indeterminate=e==="half",this.checked=e===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:s,allWithoutDisable:o}=hg(this.childNodes);!this.isLeaf&&!s&&o&&(this.checked=!1,e=!1);const u=()=>{if(n){const c=this.childNodes;for(let v=0,g=c.length;v<g;v++){const y=c[v];r=r||e!==!1;const _=y.disabled?y.checked:r;y.setChecked(_,n,!0,r)}const{half:h,all:p}=hg(c);p||(this.checked=p,this.indeterminate=h)}};if(this.shouldLoadData()){this.loadData(()=>{u(),Ic(this)},{checked:e!==!1});return}else u()}const a=this.parent;!a||a.level===0||i||Ic(a)}getChildren(e=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const i=this.store.props;let r="children";return i&&(r=i.children||"children"),n[r]===void 0&&(n[r]=null),e&&!n[r]&&(n[r]=[]),n[r]}updateChildren(){const e=this.getChildren()||[],n=this.childNodes.map(a=>a.data),i={},r=[];e.forEach((a,s)=>{const o=a[mu];!!o&&n.findIndex(c=>c[mu]===o)>=0?i[o]={index:s,data:a}:r.push({index:s,data:a})}),this.store.lazy||n.forEach(a=>{i[a[mu]]||this.removeChildByData(a)}),r.forEach(({index:a,data:s})=>{this.insertChild({data:s},a)}),this.updateLeafState()}loadData(e,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const i=a=>{this.childNodes=[],this.doCreateChildren(a,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,a)},r=()=>{this.loading=!1};this.store.load(this,i,r)}else e&&e.call(this)}eachNode(e){const n=[this];for(;n.length;){const i=n.shift();n.unshift(...i.childNodes),e(i)}}reInitChecked(){this.store.checkStrictly||Ic(this)}};class uie{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const n in e)Gi(e,n)&&(this[n]=e[n]);this.nodesMap={}}initialize(){if(this.root=new pg({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const e=this.load;e(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(e){const n=this.filterNodeMethod,i=this.lazy,r=function(a){const s=a.root?a.root.childNodes:a.childNodes;if(s.forEach(o=>{o.visible=n.call(o,e,o.data,o),r(o)}),!a.visible&&s.length){let o=!0;o=!s.some(u=>u.visible),a.root?a.root.visible=o===!1:a.visible=o===!1}e&&a.visible&&!a.isLeaf&&(!i||a.loaded)&&a.expand()};r(this)}setData(e){e!==this.root.data?(this.nodesMap={},this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(e){if(e instanceof pg)return e;const n=bn(e)?Dy(this.key,e):e;return this.nodesMap[n]||null}insertBefore(e,n){const i=this.getNode(n);i.parent.insertBefore({data:e},i)}insertAfter(e,n){const i=this.getNode(n);i.parent.insertAfter({data:e},i)}remove(e){const n=this.getNode(e);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(e,n){const i=cl(n)?this.root:this.getNode(n);i&&i.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],n=this.nodesMap;e.forEach(i=>{const r=n[i];r&&r.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){(this.defaultCheckedKeys||[]).includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const n=this.key;!e||!e.data||(n?e.key!==void 0&&(this.nodesMap[e.key]=e):this.nodesMap[e.id]=e)}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(i=>{this.deregisterNode(i)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,n=!1){const i=[],r=function(a){(a.root?a.root.childNodes:a.childNodes).forEach(o=>{(o.checked||n&&o.indeterminate)&&(!e||e&&o.isLeaf)&&i.push(o.data),r(o)})};return r(this),i}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const e=[],n=function(i){(i.root?i.root.childNodes:i.childNodes).forEach(a=>{a.indeterminate&&e.push(a.data),n(a)})};return n(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],n=this.nodesMap;for(const i in n)Gi(n,i)&&e.push(n[i]);return e}updateChildren(e,n){const i=this.nodesMap[e];if(!i)return;const r=i.childNodes;for(let a=r.length-1;a>=0;a--){const s=r[a];this.remove(s.data)}for(let a=0,s=n.length;a<s;a++){const o=n[a];this.append(o,i.data)}}_setCheckedKeys(e,n=!1,i){const r=this._getAllNodes().sort((u,c)=>u.level-c.level),a=Object.create(null),s=Object.keys(i);r.forEach(u=>u.setChecked(!1,!1));const o=u=>{u.childNodes.forEach(c=>{var h;a[c.data[e]]=!0,(h=c.childNodes)!=null&&h.length&&o(c)})};for(let u=0,c=r.length;u<c;u++){const h=r[u],p=h.data[e].toString();if(!s.includes(p)){h.checked&&!a[p]&&h.setChecked(!1,!1);continue}if(h.childNodes.length&&o(h),h.isLeaf||this.checkStrictly){h.setChecked(!0,!1);continue}if(h.setChecked(!0,!0),n){h.setChecked(!1,!1);const g=function(y){y.childNodes.forEach(w=>{w.isLeaf||w.setChecked(!1,!1),g(w)})};g(h)}}}setCheckedNodes(e,n=!1){const i=this.key,r={};e.forEach(a=>{r[(a||{})[i]]=!0}),this._setCheckedKeys(i,n,r)}setCheckedKeys(e,n=!1){this.defaultCheckedKeys=e;const i=this.key,r={};e.forEach(a=>{r[a]=!0}),this._setCheckedKeys(i,n,r)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(n=>{const i=this.getNode(n);i&&i.expand(null,this.autoExpandParent)})}setChecked(e,n,i){const r=this.getNode(e);r&&r.setChecked(!!n,i)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,n=!0){const i=e[this.key],r=this.nodesMap[i];this.setCurrentNode(r),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,n=!0){if(e==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const i=this.getNode(e);i&&(this.setCurrentNode(i),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const cie=re({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(t){const e=Fe("tree"),n=ct("NodeInstance"),i=ct("RootTree");return()=>{const r=t.node,{data:a,store:s}=r;return t.renderContent?t.renderContent(Ct,{_self:n,node:r,data:a,store:s}):oe(i.ctx.slots,"default",{node:r,data:a},()=>[Ct("span",{class:e.be("node","label")},[r.label])])}}});var die=We(cie,[["__file","tree-node-content.vue"]]);function XT(t){const e=ct("TreeNodeMap",null),n={treeNodeExpand:i=>{t.node!==i&&t.node.collapse()},children:[]};return e&&e.children.push(n),Zt("TreeNodeMap",n),{broadcastExpanded:i=>{if(t.accordion)for(const r of n.children)r.treeNodeExpand(i)}}}const ZT=Symbol("dragEvents");function fie({props:t,ctx:e,el$:n,dropIndicator$:i,store:r}){const a=Fe("tree"),s=W({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Zt(ZT,{treeNodeDragStart:({event:h,treeNode:p})=>{if(typeof t.allowDrag=="function"&&!t.allowDrag(p.node))return h.preventDefault(),!1;h.dataTransfer.effectAllowed="move";try{h.dataTransfer.setData("text/plain","")}catch{}s.value.draggingNode=p,e.emit("node-drag-start",p.node,h)},treeNodeDragOver:({event:h,treeNode:p})=>{const v=p,g=s.value.dropNode;g&&g.node.id!==v.node.id&&tr(g.$el,a.is("drop-inner"));const y=s.value.draggingNode;if(!y||!v)return;let _=!0,w=!0,b=!0,M=!0;typeof t.allowDrop=="function"&&(_=t.allowDrop(y.node,v.node,"prev"),M=w=t.allowDrop(y.node,v.node,"inner"),b=t.allowDrop(y.node,v.node,"next")),h.dataTransfer.dropEffect=w||_||b?"move":"none",(_||w||b)&&(g==null?void 0:g.node.id)!==v.node.id&&(g&&e.emit("node-drag-leave",y.node,g.node,h),e.emit("node-drag-enter",y.node,v.node,h)),_||w||b?s.value.dropNode=v:s.value.dropNode=null,v.node.nextSibling===y.node&&(b=!1),v.node.previousSibling===y.node&&(_=!1),v.node.contains(y.node,!1)&&(w=!1),(y.node===v.node||y.node.contains(v.node))&&(_=!1,w=!1,b=!1);const C=v.$el.querySelector(`.${a.be("node","content")}`).getBoundingClientRect(),x=n.value.getBoundingClientRect();let T;const k=_?w?.25:b?.45:1:-1,R=b?w?.75:_?.55:0:1;let D=-9999;const U=h.clientY-C.top;U<C.height*k?T="before":U>C.height*R?T="after":w?T="inner":T="none";const P=v.$el.querySelector(`.${a.be("node","expand-icon")}`).getBoundingClientRect(),N=i.value;T==="before"?D=P.top-x.top:T==="after"&&(D=P.bottom-x.top),N.style.top=`${D}px`,N.style.left=`${P.right-x.left}px`,T==="inner"?ia(v.$el,a.is("drop-inner")):tr(v.$el,a.is("drop-inner")),s.value.showDropIndicator=T==="before"||T==="after",s.value.allowDrop=s.value.showDropIndicator||M,s.value.dropType=T,e.emit("node-drag-over",y.node,v.node,h)},treeNodeDragEnd:h=>{const{draggingNode:p,dropType:v,dropNode:g}=s.value;if(h.preventDefault(),h.dataTransfer&&(h.dataTransfer.dropEffect="move"),p&&g){const y={data:p.node.data};v!=="none"&&p.node.remove(),v==="before"?g.node.parent.insertBefore(y,g.node):v==="after"?g.node.parent.insertAfter(y,g.node):v==="inner"&&g.node.insertChild(y),v!=="none"&&(r.value.registerNode(y),r.value.key&&p.node.eachNode(_=>{var w;(w=r.value.nodesMap[_.data[r.value.key]])==null||w.setChecked(_.checked,!r.value.checkStrictly)})),tr(g.$el,a.is("drop-inner")),e.emit("node-drag-end",p.node,g.node,v,h),v!=="none"&&e.emit("node-drop",p.node,g.node,v,h)}p&&!g&&e.emit("node-drag-end",p.node,null,v,h),s.value.showDropIndicator=!1,s.value.draggingNode=null,s.value.dropNode=null,s.value.allowDrop=!0}}),{dragState:s}}const hie=re({name:"ElTreeNode",components:{ElCollapseTransition:Ad,ElCheckbox:da,NodeContent:die,ElIcon:dt,Loading:Za},props:{node:{type:pg,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(t,e){const n=Fe("tree"),{broadcastExpanded:i}=XT(t),r=ct("RootTree"),a=W(!1),s=W(!1),o=W(null),u=W(null),c=W(null),h=ct(ZT),p=qt();Zt("NodeInstance",p),t.node.expanded&&(a.value=!0,s.value=!0);const v=r.props.props.children||"children";Le(()=>{const U=t.node.data[v];return U&&[...U]},()=>{t.node.updateChildren()}),Le(()=>t.node.indeterminate,U=>{_(t.node.checked,U)}),Le(()=>t.node.checked,U=>{_(U,t.node.indeterminate)}),Le(()=>t.node.childNodes.length,()=>t.node.reInitChecked()),Le(()=>t.node.expanded,U=>{yt(()=>a.value=U),U&&(s.value=!0)});const g=U=>Dy(r.props.nodeKey,U.data),y=U=>{const P=t.props.class;if(!P)return{};let N;if(un(P)){const{data:$}=U;N=P($,U)}else N=P;return Gt(N)?{[N]:!0}:N},_=(U,P)=>{(o.value!==U||u.value!==P)&&r.ctx.emit("check-change",t.node.data,U,P),o.value=U,u.value=P},w=U=>{fg(r.store,r.ctx.emit,()=>r.store.value.setCurrentNode(t.node)),r.currentNode.value=t.node,r.props.expandOnClickNode&&M(),r.props.checkOnClickNode&&!t.node.disabled&&C(null,{target:{checked:!t.node.checked}}),r.ctx.emit("node-click",t.node.data,t.node,p,U)},b=U=>{r.instance.vnode.props.onNodeContextmenu&&(U.stopPropagation(),U.preventDefault()),r.ctx.emit("node-contextmenu",U,t.node.data,t.node,p)},M=()=>{t.node.isLeaf||(a.value?(r.ctx.emit("node-collapse",t.node.data,t.node,p),t.node.collapse()):t.node.expand(()=>{e.emit("node-expand",t.node.data,t.node,p)}))},C=(U,P)=>{t.node.setChecked(P.target.checked,!r.props.checkStrictly),yt(()=>{const N=r.store.value;r.ctx.emit("check",t.node.data,{checkedNodes:N.getCheckedNodes(),checkedKeys:N.getCheckedKeys(),halfCheckedNodes:N.getHalfCheckedNodes(),halfCheckedKeys:N.getHalfCheckedKeys()})})};return{ns:n,node$:c,tree:r,expanded:a,childNodeRendered:s,oldChecked:o,oldIndeterminate:u,getNodeKey:g,getNodeClass:y,handleSelectChange:_,handleClick:w,handleContextMenu:b,handleExpandIconClick:M,handleCheckChange:C,handleChildNodeExpand:(U,P,N)=>{i(P),r.ctx.emit("node-expand",U,P,N)},handleDragStart:U=>{r.props.draggable&&h.treeNodeDragStart({event:U,treeNode:t})},handleDragOver:U=>{U.preventDefault(),r.props.draggable&&h.treeNodeDragOver({event:U,treeNode:{$el:c.value,node:t.node}})},handleDrop:U=>{U.preventDefault()},handleDragEnd:U=>{r.props.draggable&&h.treeNodeDragEnd(U)},CaretRight:nE}}});function pie(t,e,n,i,r,a){const s=At("el-icon"),o=At("el-checkbox"),u=At("loading"),c=At("node-content"),h=At("el-tree-node"),p=At("el-collapse-transition");return Bt((I(),K("div",{ref:"node$",class:z([t.ns.b("node"),t.ns.is("expanded",t.expanded),t.ns.is("current",t.node.isCurrent),t.ns.is("hidden",!t.node.visible),t.ns.is("focusable",!t.node.disabled),t.ns.is("checked",!t.node.disabled&&t.node.checked),t.getNodeClass(t.node)]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.props.draggable,"data-key":t.getNodeKey(t.node),onClick:xt(t.handleClick,["stop"]),onContextmenu:t.handleContextMenu,onDragstart:xt(t.handleDragStart,["stop"]),onDragover:xt(t.handleDragOver,["stop"]),onDragend:xt(t.handleDragEnd,["stop"]),onDrop:xt(t.handleDrop,["stop"])},[Z("div",{class:z(t.ns.be("node","content")),style:_t({paddingLeft:(t.node.level-1)*t.tree.props.indent+"px"})},[t.tree.props.icon||t.CaretRight?(I(),we(s,{key:0,class:z([t.ns.be("node","expand-icon"),t.ns.is("leaf",t.node.isLeaf),{expanded:!t.node.isLeaf&&t.expanded}]),onClick:xt(t.handleExpandIconClick,["stop"])},{default:ne(()=>[(I(),we(Vt(t.tree.props.icon||t.CaretRight)))]),_:1},8,["class","onClick"])):he("v-if",!0),t.showCheckbox?(I(),we(o,{key:1,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:!!t.node.disabled,onClick:xt(()=>{},["stop"]),onChange:t.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):he("v-if",!0),t.node.loading?(I(),we(s,{key:2,class:z([t.ns.be("node","loading-icon"),t.ns.is("loading")])},{default:ne(()=>[J(u)]),_:1},8,["class"])):he("v-if",!0),J(c,{node:t.node,"render-content":t.renderContent},null,8,["node","render-content"])],6),J(p,null,{default:ne(()=>[!t.renderAfterExpand||t.childNodeRendered?Bt((I(),K("div",{key:0,class:z(t.ns.be("node","children")),role:"group","aria-expanded":t.expanded},[(I(!0),K(ut,null,Ut(t.node.childNodes,v=>(I(),we(h,{key:t.getNodeKey(v),"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:v,accordion:t.accordion,props:t.props,onNodeExpand:t.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded"])),[[sn,t.expanded]]):he("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[sn,t.node.visible]])}var mie=We(hie,[["render",pie],["__file","tree-node.vue"]]);function vie({el$:t},e){const n=Fe("tree"),i=Mn([]),r=Mn([]);wt(()=>{s()}),yo(()=>{i.value=Array.from(t.value.querySelectorAll("[role=treeitem]")),r.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"))}),Le(r,o=>{o.forEach(u=>{u.setAttribute("tabindex","-1")})}),yn(t,"keydown",o=>{const u=o.target;if(!u.className.includes(n.b("node")))return;const c=o.code;i.value=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));const h=i.value.indexOf(u);let p;if([St.up,St.down].includes(c)){if(o.preventDefault(),c===St.up){p=h===-1?0:h!==0?h-1:i.value.length-1;const g=p;for(;!e.value.getNode(i.value[p].dataset.key).canFocus;){if(p--,p===g){p=-1;break}p<0&&(p=i.value.length-1)}}else{p=h===-1?0:h<i.value.length-1?h+1:0;const g=p;for(;!e.value.getNode(i.value[p].dataset.key).canFocus;){if(p++,p===g){p=-1;break}p>=i.value.length&&(p=0)}}p!==-1&&i.value[p].focus()}[St.left,St.right].includes(c)&&(o.preventDefault(),u.click());const v=u.querySelector('[type="checkbox"]');[St.enter,St.space].includes(c)&&v&&(o.preventDefault(),v.click())});const s=()=>{var o;i.value=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),r.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"));const u=t.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(u.length){u[0].setAttribute("tabindex","0");return}(o=i.value[0])==null||o.setAttribute("tabindex","0")}}const gie=re({name:"ElTree",components:{ElTreeNode:mie},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:wn}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(t,e){const{t:n}=nn(),i=Fe("tree"),r=ct(tc,null),a=W(new uie({key:t.nodeKey,data:t.data,lazy:t.lazy,props:t.props,load:t.load,currentNodeKey:t.currentNodeKey,checkStrictly:t.checkStrictly,checkDescendants:t.checkDescendants,defaultCheckedKeys:t.defaultCheckedKeys,defaultExpandedKeys:t.defaultExpandedKeys,autoExpandParent:t.autoExpandParent,defaultExpandAll:t.defaultExpandAll,filterNodeMethod:t.filterNodeMethod}));a.value.initialize();const s=W(a.value.root),o=W(null),u=W(null),c=W(null),{broadcastExpanded:h}=XT(t),{dragState:p}=fie({props:t,ctx:e,el$:u,dropIndicator$:c,store:a});vie({el$:u},a);const v=L(()=>{const{childNodes:q}=s.value,O=r?r.hasFilteredOptions!==0:!1;return(!q||q.length===0||q.every(({visible:V})=>!V))&&!O});Le(()=>t.currentNodeKey,q=>{a.value.setCurrentNodeKey(q)}),Le(()=>t.defaultCheckedKeys,q=>{a.value.setDefaultCheckedKey(q)}),Le(()=>t.defaultExpandedKeys,q=>{a.value.setDefaultExpandedKeys(q)}),Le(()=>t.data,q=>{a.value.setData(q)},{deep:!0}),Le(()=>t.checkStrictly,q=>{a.value.checkStrictly=q});const g=q=>{if(!t.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");a.value.filter(q)},y=q=>Dy(t.nodeKey,q.data),_=q=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const O=a.value.getNode(q);if(!O)return[];const V=[O.data];let ee=O.parent;for(;ee&&ee!==s.value;)V.push(ee.data),ee=ee.parent;return V.reverse()},w=(q,O)=>a.value.getCheckedNodes(q,O),b=q=>a.value.getCheckedKeys(q),M=()=>{const q=a.value.getCurrentNode();return q?q.data:null},C=()=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const q=M();return q?q[t.nodeKey]:null},x=(q,O)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");a.value.setCheckedNodes(q,O)},T=(q,O)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");a.value.setCheckedKeys(q,O)},k=(q,O,V)=>{a.value.setChecked(q,O,V)},R=()=>a.value.getHalfCheckedNodes(),D=()=>a.value.getHalfCheckedKeys(),U=(q,O=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");fg(a,e.emit,()=>{h(q),a.value.setUserCurrentNode(q,O)})},P=(q,O=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");fg(a,e.emit,()=>{h(),a.value.setCurrentNodeKey(q,O)})},N=q=>a.value.getNode(q),$=q=>{a.value.remove(q)},Q=(q,O)=>{a.value.append(q,O)},Y=(q,O)=>{a.value.insertBefore(q,O)},H=(q,O)=>{a.value.insertAfter(q,O)},B=(q,O,V)=>{h(O),e.emit("node-expand",q,O,V)},X=(q,O)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");a.value.updateChildren(q,O)};return Zt("RootTree",{ctx:e,props:t,store:a,root:s,currentNode:o,instance:qt()}),Zt(ts,void 0),{ns:i,store:a,root:s,currentNode:o,dragState:p,el$:u,dropIndicator$:c,isEmpty:v,filter:g,getNodeKey:y,getNodePath:_,getCheckedNodes:w,getCheckedKeys:b,getCurrentNode:M,getCurrentKey:C,setCheckedNodes:x,setCheckedKeys:T,setChecked:k,getHalfCheckedNodes:R,getHalfCheckedKeys:D,setCurrentNode:U,setCurrentKey:P,t:n,getNode:N,remove:$,append:Q,insertBefore:Y,insertAfter:H,handleNodeExpand:B,updateKeyChildren:X}}});function yie(t,e,n,i,r,a){const s=At("el-tree-node");return I(),K("div",{ref:"el$",class:z([t.ns.b(),t.ns.is("dragging",!!t.dragState.draggingNode),t.ns.is("drop-not-allow",!t.dragState.allowDrop),t.ns.is("drop-inner",t.dragState.dropType==="inner"),{[t.ns.m("highlight-current")]:t.highlightCurrent}]),role:"tree"},[(I(!0),K(ut,null,Ut(t.root.childNodes,o=>(I(),we(s,{key:t.getNodeKey(o),node:o,props:t.props,accordion:t.accordion,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent,onNodeExpand:t.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),t.isEmpty?(I(),K("div",{key:0,class:z(t.ns.e("empty-block"))},[oe(t.$slots,"empty",{},()=>{var o;return[Z("span",{class:z(t.ns.e("empty-text"))},Ne((o=t.emptyText)!=null?o:t.t("el.tree.emptyText")),3)]})],2)):he("v-if",!0),Bt(Z("div",{ref:"dropIndicator$",class:z(t.ns.e("drop-indicator"))},null,2),[[sn,t.dragState.showDropIndicator]])],2)}var _ie=We(gie,[["render",yie],["__file","tree.vue"]]);const Eh=Dt(_ie),bie=(t,{attrs:e,emit:n},{select:i,tree:r,key:a})=>{const s=Fe("tree-select");return Le(()=>t.data,()=>{t.filterable&&yt(()=>{var u,c;(c=r.value)==null||c.filter((u=i.value)==null?void 0:u.states.inputValue)})},{flush:"post"}),{...Ta(Ri(t),Object.keys(ml.props)),...e,"onUpdate:modelValue":u=>n(Wt,u),valueKey:a,popperClass:L(()=>{const u=[s.e("popper")];return t.popperClass&&u.push(t.popperClass),u.join(" ")}),filterMethod:(u="")=>{var c;t.filterMethod?t.filterMethod(u):t.remoteMethod?t.remoteMethod(u):(c=r.value)==null||c.filter(u)}}},wie=re({extends:mh,setup(t,e){const n=mh.setup(t,e);delete n.selectOptionClick;const i=qt().proxy;return yt(()=>{n.select.states.cachedOptions.get(i.value)||n.select.onOptionCreate(i)}),Le(()=>e.attrs.visible,r=>{n.states.visible=r},{immediate:!0}),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function mg(t){return t||t===0}function Fy(t){return Array.isArray(t)&&t.length}function Dl(t){return Array.isArray(t)?t:mg(t)?[t]:[]}function Xf(t,e,n,i,r){for(let a=0;a<t.length;a++){const s=t[a];if(e(s,a,t,r))return i?i(s,a,t,r):s;{const o=n(s);if(Fy(o)){const u=Xf(o,e,n,i,s);if(u)return u}}}}function Zf(t,e,n,i){for(let r=0;r<t.length;r++){const a=t[r];e(a,r,t,i);const s=n(a);Fy(s)&&Zf(s,e,n,a)}}const Sie=(t,{attrs:e,slots:n,emit:i},{select:r,tree:a,key:s})=>{Le(()=>t.modelValue,()=>{t.showCheckbox&&yt(()=>{const v=a.value;v&&!er(v.getCheckedKeys(),Dl(t.modelValue))&&v.setCheckedKeys(Dl(t.modelValue))})},{immediate:!0,deep:!0});const o=L(()=>({value:s.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...t.props})),u=(v,g)=>{var y;const _=o.value[v];return un(_)?_(g,(y=a.value)==null?void 0:y.getNode(u("value",g))):g[_]},c=Dl(t.modelValue).map(v=>Xf(t.data||[],g=>u("value",g)===v,g=>u("children",g),(g,y,_,w)=>w&&u("value",w))).filter(v=>mg(v)),h=L(()=>{if(!t.renderAfterExpand&&!t.lazy)return[];const v=[];return Zf(t.data.concat(t.cacheData),g=>{const y=u("value",g);v.push({value:y,currentLabel:u("label",g),isDisabled:u("disabled",g)})},g=>u("children",g)),v}),p=()=>{var v;return(v=a.value)==null?void 0:v.getCheckedKeys().filter(g=>{var y;const _=(y=a.value)==null?void 0:y.getNode(g);return!Mi(_)&&zr(_.childNodes)})};return{...Ta(Ri(t),Object.keys(Eh.props)),...e,nodeKey:s,expandOnClickNode:L(()=>!t.checkStrictly&&t.expandOnClickNode),defaultExpandedKeys:L(()=>t.defaultExpandedKeys?t.defaultExpandedKeys.concat(c):c),renderContent:(v,{node:g,data:y,store:_})=>v(wie,{value:u("value",y),label:u("label",y),disabled:u("disabled",y),visible:g.visible},t.renderContent?()=>t.renderContent(v,{node:g,data:y,store:_}):n.default?()=>n.default({node:g,data:y,store:_}):void 0),filterNodeMethod:(v,g,y)=>t.filterNodeMethod?t.filterNodeMethod(v,g,y):v?new RegExp(C0(v),"i").test(u("label",g)||""):!0,onNodeClick:(v,g,y)=>{var _,w,b,M;if((_=e.onNodeClick)==null||_.call(e,v,g,y),!(t.showCheckbox&&t.checkOnClickNode)){if(!t.showCheckbox&&(t.checkStrictly||g.isLeaf)){if(!u("disabled",v)){const C=(w=r.value)==null?void 0:w.states.options.get(u("value",v));(b=r.value)==null||b.handleOptionSelect(C)}}else t.expandOnClickNode&&y.proxy.handleExpandIconClick();(M=r.value)==null||M.focus()}},onCheck:(v,g)=>{var y;if(!t.showCheckbox)return;const _=u("value",v),w={};Zf([a.value.store.root],x=>w[x.key]=x,x=>x.childNodes);const b=g.checkedKeys,M=t.multiple?Dl(t.modelValue).filter(x=>!(x in w)&&!b.includes(x)):[],C=M.concat(b);if(t.checkStrictly)i(Wt,t.multiple?C:C.includes(_)?_:void 0);else if(t.multiple){const x=p();i(Wt,M.concat(x))}else{const x=Xf([v],R=>!Fy(u("children",R))&&!u("disabled",R),R=>u("children",R)),T=x?u("value",x):void 0,k=mg(t.modelValue)&&!!Xf([v],R=>u("value",R)===t.modelValue,R=>u("children",R));i(Wt,T===t.modelValue||k?void 0:T)}yt(()=>{var x;const T=Dl(t.modelValue);a.value.setCheckedKeys(T),(x=e.onCheck)==null||x.call(e,v,{checkedKeys:a.value.getCheckedKeys(),checkedNodes:a.value.getCheckedNodes(),halfCheckedKeys:a.value.getHalfCheckedKeys(),halfCheckedNodes:a.value.getHalfCheckedNodes()})}),(y=r.value)==null||y.focus()},onNodeExpand:(v,g,y)=>{var _;(_=e.onNodeExpand)==null||_.call(e,v,g,y),yt(()=>{if(!t.checkStrictly&&t.lazy&&t.multiple&&g.checked){const w={},b=a.value.getCheckedKeys();Zf([a.value.store.root],x=>w[x.key]=x,x=>x.childNodes);const M=Dl(t.modelValue).filter(x=>!(x in w)&&!b.includes(x)),C=p();i(Wt,M.concat(C))}})},cacheOptions:h}};var Cie=re({props:{data:{type:Array,default:()=>[]}},setup(t){const e=ct(tc);return Le(()=>t.data,()=>{var n;t.data.forEach(r=>{e.states.cachedOptions.has(r.value)||e.states.cachedOptions.set(r.value,r)});const i=((n=e.selectRef)==null?void 0:n.querySelectorAll("input"))||[];tn&&!Array.from(i).includes(document.activeElement)&&e.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const Eie=re({name:"ElTreeSelect",inheritAttrs:!1,props:{...ml.props,...Eh.props,cacheData:{type:Array,default:()=>[]}},setup(t,e){const{slots:n,expose:i}=e,r=W(),a=W(),s=L(()=>t.nodeKey||t.valueKey||"value"),o=bie(t,e,{select:r,tree:a,key:s}),{cacheOptions:u,...c}=Sie(t,e,{select:r,tree:a,key:s}),h=jt({});return i(h),wt(()=>{Object.assign(h,{...Ta(a.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...Ta(r.value,["focus","blur"])})}),()=>Ct(ml,jt({...o,ref:p=>r.value=p}),{...n,default:()=>[Ct(Cie,{data:u.value}),Ct(Eh,jt({...c,ref:p=>a.value=p}))]})}});var xie=We(Eie,[["__file","tree-select.vue"]]);const Mie=Dt(xie),By=Symbol(),Tie={key:-1,level:-1,data:{}};var Pc=(t=>(t.KEY="id",t.LABEL="label",t.CHILDREN="children",t.DISABLED="disabled",t))(Pc||{}),vg=(t=>(t.ADD="add",t.DELETE="delete",t))(vg||{});const QT={type:Number,default:26},Aie=Ge({data:{type:_e(Array),default:()=>Fn([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:_e(Object),default:()=>Fn({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:_e(Array),default:()=>Fn([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:_e(Array),default:()=>Fn([])},indent:{type:Number,default:16},itemSize:QT,icon:{type:wn},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:_e([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:_e(Function)},perfMode:{type:Boolean,default:!0}}),kie=Ge({node:{type:_e(Object),default:()=>Fn(Tie)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:QT}),Iie=Ge({node:{type:_e(Object),required:!0}}),JT="node-click",eA="node-drop",tA="node-expand",nA="node-collapse",iA="current-change",rA="check",aA="check-change",sA="node-contextmenu",Pie={[JT]:(t,e,n)=>t&&e&&n,[eA]:(t,e,n)=>t&&e&&n,[tA]:(t,e)=>t&&e,[nA]:(t,e)=>t&&e,[iA]:(t,e)=>t&&e,[rA]:(t,e)=>t&&e,[aA]:(t,e)=>t&&typeof e=="boolean",[sA]:(t,e,n)=>t&&e&&n},Rie={click:(t,e)=>!!(t&&e),drop:(t,e)=>!!(t&&e),toggle:t=>!!t,check:(t,e)=>t&&typeof e=="boolean"};function Lie(t,e){const n=W(new Set),i=W(new Set),{emit:r}=qt();Le([()=>e.value,()=>t.defaultCheckedKeys],()=>yt(()=>{M(t.defaultCheckedKeys)}),{immediate:!0});const a=()=>{if(!e.value||!t.showCheckbox||t.checkStrictly)return;const{levelTreeNodeMap:C,maxLevel:x}=e.value,T=n.value,k=new Set;for(let R=x-1;R>=1;--R){const D=C.get(R);D&&D.forEach(U=>{const P=U.children;if(P){let N=!0,$=!1;for(const Q of P){const Y=Q.key;if(T.has(Y))$=!0;else if(k.has(Y)){N=!1,$=!0;break}else N=!1}N?T.add(U.key):$?(k.add(U.key),T.delete(U.key)):(T.delete(U.key),k.delete(U.key))}})}i.value=k},s=C=>n.value.has(C.key),o=C=>i.value.has(C.key),u=(C,x,T=!0)=>{const k=n.value,R=(D,U)=>{k[U?vg.ADD:vg.DELETE](D.key);const P=D.children;!t.checkStrictly&&P&&P.forEach(N=>{N.disabled||R(N,U)})};R(C,x),a(),T&&c(C,x)},c=(C,x)=>{const{checkedNodes:T,checkedKeys:k}=y(),{halfCheckedNodes:R,halfCheckedKeys:D}=_();r(rA,C.data,{checkedKeys:k,checkedNodes:T,halfCheckedKeys:D,halfCheckedNodes:R}),r(aA,C.data,x)};function h(C=!1){return y(C).checkedKeys}function p(C=!1){return y(C).checkedNodes}function v(){return _().halfCheckedKeys}function g(){return _().halfCheckedNodes}function y(C=!1){const x=[],T=[];if(e!=null&&e.value&&t.showCheckbox){const{treeNodeMap:k}=e.value;n.value.forEach(R=>{const D=k.get(R);D&&(!C||C&&D.isLeaf)&&(T.push(R),x.push(D.data))})}return{checkedKeys:T,checkedNodes:x}}function _(){const C=[],x=[];if(e!=null&&e.value&&t.showCheckbox){const{treeNodeMap:T}=e.value;i.value.forEach(k=>{const R=T.get(k);R&&(x.push(k),C.push(R.data))})}return{halfCheckedNodes:C,halfCheckedKeys:x}}function w(C){n.value.clear(),i.value.clear(),yt(()=>{M(C)})}function b(C,x){if(e!=null&&e.value&&t.showCheckbox){const T=e.value.treeNodeMap.get(C);T&&u(T,x,!1)}}function M(C){if(e!=null&&e.value){const{treeNodeMap:x}=e.value;if(t.showCheckbox&&x&&C)for(const T of C){const k=x.get(T);k&&!s(k)&&u(k,!0,!1)}}}return{updateCheckedKeys:a,toggleCheckbox:u,isChecked:s,isIndeterminate:o,getCheckedKeys:h,getCheckedNodes:p,getHalfCheckedKeys:v,getHalfCheckedNodes:g,setChecked:b,setCheckedKeys:w}}function Nie(t,e){const n=W(new Set([])),i=W(new Set([])),r=L(()=>un(t.filterMethod));function a(o){var u;if(!r.value)return;const c=new Set,h=i.value,p=n.value,v=[],g=((u=e.value)==null?void 0:u.treeNodes)||[],y=t.filterMethod;p.clear();function _(w){w.forEach(b=>{v.push(b),y!=null&&y(o,b.data)?v.forEach(C=>{c.add(C.key)}):b.isLeaf&&p.add(b.key);const M=b.children;if(M&&_(M),!b.isLeaf){if(!c.has(b.key))p.add(b.key);else if(M){let C=!0;for(const x of M)if(!p.has(x.key)){C=!1;break}C?h.add(b.key):h.delete(b.key)}}v.pop()})}return _(g),c}function s(o){return i.value.has(o.key)}return{hiddenExpandIconKeySet:i,hiddenNodeKeySet:n,doFilter:a,isForceHiddenExpandIcon:s}}function Oie(t,e){const n=W(new Set(t.defaultExpandedKeys)),i=W(),r=Mn(),a=W();Le(()=>t.currentNodeKey,G=>{i.value=G},{immediate:!0}),Le(()=>t.data,G=>{ue(G)},{immediate:!0});const{isIndeterminate:s,isChecked:o,toggleCheckbox:u,getCheckedKeys:c,getCheckedNodes:h,getHalfCheckedKeys:p,getHalfCheckedNodes:v,setChecked:g,setCheckedKeys:y}=Lie(t,r),{doFilter:_,hiddenNodeKeySet:w,isForceHiddenExpandIcon:b}=Nie(t,r),M=L(()=>{var G;return((G=t.props)==null?void 0:G.value)||Pc.KEY}),C=L(()=>{var G;return((G=t.props)==null?void 0:G.children)||Pc.CHILDREN}),x=L(()=>{var G;return((G=t.props)==null?void 0:G.disabled)||Pc.DISABLED}),T=L(()=>{var G;return((G=t.props)==null?void 0:G.label)||Pc.LABEL}),k=L(()=>{var G;const He=n.value,Qe=w.value,at=[],rt=((G=r.value)==null?void 0:G.treeNodes)||[],it=[];for(let qe=rt.length-1;qe>=0;--qe)it.push(rt[qe]);for(;it.length;){const qe=it.pop();if(!Qe.has(qe.key)&&(at.push(qe),qe.children&&He.has(qe.key)))for(let te=qe.children.length-1;te>=0;--te)it.push(qe.children[te])}return at}),R=L(()=>k.value.length>0);function D(G){const He=new Map,Qe=new Map;let at=1;function rt(qe,te=1,ae=void 0){var ke;const Be=[];for(const Ve of qe){const Ae=N(Ve),Pe={level:te,key:Ae,data:Ve};Pe.label=Q(Ve),Pe.parent=ae;const Xe=P(Ve);Pe.disabled=$(Ve),Pe.isLeaf=!Xe||Xe.length===0,Xe&&Xe.length&&(Pe.children=rt(Xe,te+1,Pe)),Be.push(Pe),He.set(Ae,Pe),Qe.has(te)||Qe.set(te,[]),(ke=Qe.get(te))==null||ke.push(Pe)}return te>at&&(at=te),Be}const it=rt(G);return{treeNodeMap:He,levelTreeNodeMap:Qe,maxLevel:at,treeNodes:it}}function U(G){const He=_(G);He&&(n.value=He)}function P(G){return G[C.value]}function N(G){return G?G[M.value]:""}function $(G){return G[x.value]}function Q(G){return G[T.value]}function Y(G){n.value.has(G.key)?ee(G):V(G)}function H(G){const He=new Set,Qe=r.value.treeNodeMap;G.forEach(at=>{let rt=Qe.get(at);for(;rt&&!He.has(rt.key);)He.add(rt.key),rt=rt.parent}),n.value=He}function B(G,He){e(JT,G.data,G,He),q(G),t.expandOnClickNode&&Y(G),t.showCheckbox&&t.checkOnClickNode&&!G.disabled&&u(G,!o(G),!0)}function X(G,He){e(eA,G.data,G,He)}function q(G){le(G)||(i.value=G.key,e(iA,G.data,G))}function O(G,He){u(G,He)}function V(G){const He=n.value;if(r.value&&t.accordion){const{treeNodeMap:Qe}=r.value;He.forEach(at=>{const rt=Qe.get(at);G&&G.level===(rt==null?void 0:rt.level)&&He.delete(at)})}He.add(G.key),e(tA,G.data,G)}function ee(G){n.value.delete(G.key),e(nA,G.data,G)}function ce(G){return n.value.has(G.key)}function se(G){return!!G.disabled}function le(G){const He=i.value;return He!==void 0&&He===G.key}function ye(){var G,He;if(i.value)return(He=(G=r.value)==null?void 0:G.treeNodeMap.get(i.value))==null?void 0:He.data}function Ce(){return i.value}function pe(G){i.value=G}function ue(G){yt(()=>r.value=D(G))}function Me(G){var He;const Qe=bn(G)?N(G):G;return(He=r.value)==null?void 0:He.treeNodeMap.get(Qe)}function De(G,He="auto"){const Qe=Me(G);Qe&&a.value&&a.value.scrollToItem(k.value.indexOf(Qe),He)}function xe(G){var He;(He=a.value)==null||He.scrollTo(G)}return{tree:r,flattenTree:k,isNotEmpty:R,listRef:a,getKey:N,getChildren:P,toggleExpand:Y,toggleCheckbox:u,isExpanded:ce,isChecked:o,isIndeterminate:s,isDisabled:se,isCurrent:le,isForceHiddenExpandIcon:b,handleNodeClick:B,handleNodeDrop:X,handleNodeCheck:O,getCurrentNode:ye,getCurrentKey:Ce,setCurrentKey:pe,getCheckedKeys:c,getCheckedNodes:h,getHalfCheckedKeys:p,getHalfCheckedNodes:v,setChecked:g,setCheckedKeys:y,filter:U,setData:ue,getNode:Me,expandNode:V,collapseNode:ee,setExpandedKeys:H,scrollToNode:De,scrollTo:xe}}var Die=re({name:"ElTreeNodeContent",props:Iie,setup(t){const e=ct(By),n=Fe("tree");return()=>{const i=t.node,{data:r}=i;return e!=null&&e.ctx.slots.default?e.ctx.slots.default({node:i,data:r}):Ct("span",{class:n.be("node","label")},[i==null?void 0:i.label])}}});const Fie=re({name:"ElTreeNode"}),Bie=re({...Fie,props:kie,emits:Rie,setup(t,{emit:e}){const n=t,i=ct(By),r=Fe("tree"),a=L(()=>{var v;return(v=i==null?void 0:i.props.indent)!=null?v:16}),s=L(()=>{var v;return(v=i==null?void 0:i.props.icon)!=null?v:nE}),o=v=>{e("click",n.node,v)},u=v=>{e("drop",n.node,v)},c=()=>{e("toggle",n.node)},h=v=>{e("check",n.node,v)},p=v=>{var g,y,_,w;(_=(y=(g=i==null?void 0:i.instance)==null?void 0:g.vnode)==null?void 0:y.props)!=null&&_.onNodeContextmenu&&(v.stopPropagation(),v.preventDefault()),i==null||i.ctx.emit(sA,v,(w=n.node)==null?void 0:w.data,n.node)};return(v,g)=>{var y,_,w;return I(),K("div",{ref:"node$",class:z([d(r).b("node"),d(r).is("expanded",v.expanded),d(r).is("current",v.current),d(r).is("focusable",!v.disabled),d(r).is("checked",!v.disabled&&v.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":v.expanded,"aria-disabled":v.disabled,"aria-checked":v.checked,"data-key":(y=v.node)==null?void 0:y.key,onClick:xt(o,["stop"]),onContextmenu:p,onDragover:xt(()=>{},["prevent"]),onDragenter:xt(()=>{},["prevent"]),onDrop:xt(u,["stop"])},[Z("div",{class:z(d(r).be("node","content")),style:_t({paddingLeft:`${(v.node.level-1)*d(a)}px`,height:v.itemSize+"px"})},[d(s)?(I(),we(d(dt),{key:0,class:z([d(r).is("leaf",!!((_=v.node)!=null&&_.isLeaf)),d(r).is("hidden",v.hiddenExpandIcon),{expanded:!((w=v.node)!=null&&w.isLeaf)&&v.expanded},d(r).be("node","expand-icon")]),onClick:xt(c,["stop"])},{default:ne(()=>[(I(),we(Vt(d(s))))]),_:1},8,["class","onClick"])):he("v-if",!0),v.showCheckbox?(I(),we(d(da),{key:1,"model-value":v.checked,indeterminate:v.indeterminate,disabled:v.disabled,onChange:h,onClick:xt(()=>{},["stop"])},null,8,["model-value","indeterminate","disabled","onClick"])):he("v-if",!0),J(d(Die),{node:v.node},null,8,["node"])],6)],42,["aria-expanded","aria-disabled","aria-checked","data-key","onClick","onDragover","onDragenter","onDrop"])}}});var Uie=We(Bie,[["__file","tree-node.vue"]]);const Vie=re({name:"ElTreeV2"}),zie=re({...Vie,props:Aie,emits:Pie,setup(t,{expose:e,emit:n}){const i=t,r=bi(),a=L(()=>i.itemSize);Zt(By,{ctx:{emit:n,slots:r},props:i,instance:qt()}),Zt(ts,void 0);const{t:s}=nn(),o=Fe("tree"),{flattenTree:u,isNotEmpty:c,listRef:h,toggleExpand:p,isExpanded:v,isIndeterminate:g,isChecked:y,isDisabled:_,isCurrent:w,isForceHiddenExpandIcon:b,handleNodeClick:M,handleNodeDrop:C,handleNodeCheck:x,toggleCheckbox:T,getCurrentNode:k,getCurrentKey:R,setCurrentKey:D,getCheckedKeys:U,getCheckedNodes:P,getHalfCheckedKeys:N,getHalfCheckedNodes:$,setChecked:Q,setCheckedKeys:Y,filter:H,setData:B,getNode:X,expandNode:q,collapseNode:O,setExpandedKeys:V,scrollToNode:ee,scrollTo:ce}=Oie(i,n);return e({toggleCheckbox:T,getCurrentNode:k,getCurrentKey:R,setCurrentKey:D,getCheckedKeys:U,getCheckedNodes:P,getHalfCheckedKeys:N,getHalfCheckedNodes:$,setChecked:Q,setCheckedKeys:Y,filter:H,setData:B,getNode:X,expandNode:q,collapseNode:O,setExpandedKeys:V,scrollToNode:ee,scrollTo:ce}),(se,le)=>{var ye;return I(),K("div",{class:z([d(o).b(),{[d(o).m("highlight-current")]:se.highlightCurrent}]),role:"tree"},[d(c)?(I(),we(d(uT),{key:0,ref_key:"listRef",ref:h,"class-name":d(o).b("virtual-list"),data:d(u),total:d(u).length,height:se.height,"item-size":d(a),"perf-mode":se.perfMode},{default:ne(({data:Ce,index:pe,style:ue})=>[(I(),we(Uie,{key:Ce[pe].key,style:_t(ue),node:Ce[pe],expanded:d(v)(Ce[pe]),"show-checkbox":se.showCheckbox,checked:d(y)(Ce[pe]),indeterminate:d(g)(Ce[pe]),"item-size":d(a),disabled:d(_)(Ce[pe]),current:d(w)(Ce[pe]),"hidden-expand-icon":d(b)(Ce[pe]),onClick:d(M),onToggle:d(p),onCheck:d(x),onDrop:d(C)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck","onDrop"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(I(),K("div",{key:1,class:z(d(o).e("empty-block"))},[Z("span",{class:z(d(o).e("empty-text"))},Ne((ye=se.emptyText)!=null?ye:d(s)("el.tree.emptyText")),3)],2))],2)}}});var $ie=We(zie,[["__file","tree.vue"]]);const Hie=Dt($ie),oA=Symbol("uploadContextKey"),Gie="ElUpload";class Wie extends Error{constructor(e,n,i,r){super(e),this.name="UploadAjaxError",this.status=n,this.method=i,this.url=r}}function dw(t,e,n){let i;return n.response?i=`${n.response.error||n.response}`:n.responseText?i=`${n.responseText}`:i=`fail to ${e.method} ${t} ${n.status}`,new Wie(i,n.status,e.method,t)}function Kie(t){const e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}const qie=t=>{typeof XMLHttpRequest>"u"&&vi(Gie,"XMLHttpRequest is undefined");const e=new XMLHttpRequest,n=t.action;e.upload&&e.upload.addEventListener("progress",a=>{const s=a;s.percent=a.total>0?a.loaded/a.total*100:0,t.onProgress(s)});const i=new FormData;if(t.data)for(const[a,s]of Object.entries(t.data))Nt(s)&&s.length?i.append(a,...s):i.append(a,s);i.append(t.filename,t.file,t.file.name),e.addEventListener("error",()=>{t.onError(dw(n,t,e))}),e.addEventListener("load",()=>{if(e.status<200||e.status>=300)return t.onError(dw(n,t,e));t.onSuccess(Kie(e))}),e.open(t.method,n,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const r=t.headers||{};if(r instanceof Headers)r.forEach((a,s)=>e.setRequestHeader(s,a));else for(const[a,s]of Object.entries(r))Mi(s)||e.setRequestHeader(a,String(s));return e.send(i),e},lA=["text","picture","picture-card"];let Yie=1;const gg=()=>Date.now()+Yie++,uA=Ge({action:{type:String,default:"#"},headers:{type:_e(Object)},method:{type:String,default:"post"},data:{type:_e([Object,Function,Promise]),default:()=>Fn({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:_e(Array),default:()=>Fn([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:lA,default:"text"},httpRequest:{type:_e(Function),default:qie},disabled:Boolean,limit:Number}),jie=Ge({...uA,beforeUpload:{type:_e(Function),default:Kn},beforeRemove:{type:_e(Function)},onRemove:{type:_e(Function),default:Kn},onChange:{type:_e(Function),default:Kn},onPreview:{type:_e(Function),default:Kn},onSuccess:{type:_e(Function),default:Kn},onProgress:{type:_e(Function),default:Kn},onError:{type:_e(Function),default:Kn},onExceed:{type:_e(Function),default:Kn},crossorigin:{type:_e(String)}}),Xie=Ge({files:{type:_e(Array),default:()=>Fn([])},disabled:{type:Boolean,default:!1},handlePreview:{type:_e(Function),default:Kn},listType:{type:String,values:lA,default:"text"},crossorigin:{type:_e(String)}}),Zie={remove:t=>!!t},Qie=re({name:"ElUploadList"}),Jie=re({...Qie,props:Xie,emits:Zie,setup(t,{emit:e}){const n=t,{t:i}=nn(),r=Fe("upload"),a=Fe("icon"),s=Fe("list"),o=ir(),u=W(!1),c=L(()=>[r.b("list"),r.bm("list",n.listType),r.is("disabled",n.disabled)]),h=p=>{e("remove",p)};return(p,v)=>(I(),we(FC,{tag:"ul",class:z(d(c)),name:d(s).b()},{default:ne(()=>[(I(!0),K(ut,null,Ut(p.files,(g,y)=>(I(),K("li",{key:g.uid||g.name,class:z([d(r).be("list","item"),d(r).is(g.status),{focusing:u.value}]),tabindex:"0",onKeydown:mn(_=>!d(o)&&h(g),["delete"]),onFocus:_=>u.value=!0,onBlur:_=>u.value=!1,onClick:_=>u.value=!1},[oe(p.$slots,"default",{file:g,index:y},()=>[p.listType==="picture"||g.status!=="uploading"&&p.listType==="picture-card"?(I(),K("img",{key:0,class:z(d(r).be("list","item-thumbnail")),src:g.url,crossorigin:p.crossorigin,alt:""},null,10,["src","crossorigin"])):he("v-if",!0),g.status==="uploading"||p.listType!=="picture-card"?(I(),K("div",{key:1,class:z(d(r).be("list","item-info"))},[Z("a",{class:z(d(r).be("list","item-name")),onClick:xt(_=>p.handlePreview(g),["prevent"])},[J(d(dt),{class:z(d(a).m("document"))},{default:ne(()=>[J(d(bO))]),_:1},8,["class"]),Z("span",{class:z(d(r).be("list","item-file-name")),title:g.name},Ne(g.name),11,["title"])],10,["onClick"]),g.status==="uploading"?(I(),we(d(eT),{key:0,type:p.listType==="picture-card"?"circle":"line","stroke-width":p.listType==="picture-card"?6:2,percentage:Number(g.percentage),style:_t(p.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):he("v-if",!0)],2)):he("v-if",!0),Z("label",{class:z(d(r).be("list","item-status-label"))},[p.listType==="text"?(I(),we(d(dt),{key:0,class:z([d(a).m("upload-success"),d(a).m("circle-check")])},{default:ne(()=>[J(d(Jg))]),_:1},8,["class"])):["picture-card","picture"].includes(p.listType)?(I(),we(d(dt),{key:1,class:z([d(a).m("upload-success"),d(a).m("check")])},{default:ne(()=>[J(d(hd))]),_:1},8,["class"])):he("v-if",!0)],2),d(o)?he("v-if",!0):(I(),we(d(dt),{key:2,class:z(d(a).m("close")),onClick:_=>h(g)},{default:ne(()=>[J(d(Ra))]),_:2},1032,["class","onClick"])),he(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),he(" This is a bug which needs to be fixed "),he(" TODO: Fix the incorrect navigation interaction "),d(o)?he("v-if",!0):(I(),K("i",{key:3,class:z(d(a).m("close-tip"))},Ne(d(i)("el.upload.deleteTip")),3)),p.listType==="picture-card"?(I(),K("span",{key:4,class:z(d(r).be("list","item-actions"))},[Z("span",{class:z(d(r).be("list","item-preview")),onClick:_=>p.handlePreview(g)},[J(d(dt),{class:z(d(a).m("zoom-in"))},{default:ne(()=>[J(d(oE))]),_:1},8,["class"])],10,["onClick"]),d(o)?he("v-if",!0):(I(),K("span",{key:0,class:z(d(r).be("list","item-delete")),onClick:_=>h(g)},[J(d(dt),{class:z(d(a).m("delete"))},{default:ne(()=>[J(d(yO))]),_:1},8,["class"])],10,["onClick"]))],2)):he("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),oe(p.$slots,"append")]),_:3},8,["class","name"]))}});var fw=We(Jie,[["__file","upload-list.vue"]]);const ere=Ge({disabled:{type:Boolean,default:!1}}),tre={file:t=>Nt(t)},cA="ElUploadDrag",nre=re({name:cA}),ire=re({...nre,props:ere,emits:tre,setup(t,{emit:e}){ct(oA)||vi(cA,"usage: <el-upload><el-upload-dragger /></el-upload>");const i=Fe("upload"),r=W(!1),a=ir(),s=u=>{if(a.value)return;r.value=!1,u.stopPropagation();const c=Array.from(u.dataTransfer.files);e("file",c)},o=()=>{a.value||(r.value=!0)};return(u,c)=>(I(),K("div",{class:z([d(i).b("dragger"),d(i).is("dragover",r.value)]),onDrop:xt(s,["prevent"]),onDragover:xt(o,["prevent"]),onDragleave:xt(h=>r.value=!1,["prevent"])},[oe(u.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var rre=We(ire,[["__file","upload-dragger.vue"]]);const are=Ge({...uA,beforeUpload:{type:_e(Function),default:Kn},onRemove:{type:_e(Function),default:Kn},onStart:{type:_e(Function),default:Kn},onSuccess:{type:_e(Function),default:Kn},onProgress:{type:_e(Function),default:Kn},onError:{type:_e(Function),default:Kn},onExceed:{type:_e(Function),default:Kn}}),sre=re({name:"ElUploadContent",inheritAttrs:!1}),ore=re({...sre,props:are,setup(t,{expose:e}){const n=t,i=Fe("upload"),r=ir(),a=Mn({}),s=Mn(),o=_=>{if(_.length===0)return;const{autoUpload:w,limit:b,fileList:M,multiple:C,onStart:x,onExceed:T}=n;if(b&&M.length+_.length>b){T(_,M);return}C||(_=_.slice(0,1));for(const k of _){const R=k;R.uid=gg(),x(R),w&&u(R)}},u=async _=>{if(s.value.value="",!n.beforeUpload)return h(_);let w,b={};try{const C=n.data,x=n.beforeUpload(_);b=C_(n.data)?sh(n.data):n.data,w=await x,C_(n.data)&&er(C,b)&&(b=sh(n.data))}catch{w=!1}if(w===!1){n.onRemove(_);return}let M=_;w instanceof Blob&&(w instanceof File?M=w:M=new File([w],_.name,{type:_.type})),h(Object.assign(M,{uid:_.uid}),b)},c=async(_,w)=>un(_)?_(w):_,h=async(_,w)=>{const{headers:b,data:M,method:C,withCredentials:x,name:T,action:k,onProgress:R,onSuccess:D,onError:U,httpRequest:P}=n;try{w=await c(w??M,_)}catch{n.onRemove(_);return}const{uid:N}=_,$={headers:b||{},withCredentials:x,file:_,data:w,method:C,filename:T,action:k,onProgress:Y=>{R(Y,_)},onSuccess:Y=>{D(Y,_),delete a.value[N]},onError:Y=>{U(Y,_),delete a.value[N]}},Q=P($);a.value[N]=Q,Q instanceof Promise&&Q.then($.onSuccess,$.onError)},p=_=>{const w=_.target.files;w&&o(Array.from(w))},v=()=>{r.value||(s.value.value="",s.value.click())},g=()=>{v()};return e({abort:_=>{$V(a.value).filter(_?([b])=>String(_.uid)===b:()=>!0).forEach(([b,M])=>{M instanceof XMLHttpRequest&&M.abort(),delete a.value[b]})},upload:u}),(_,w)=>(I(),K("div",{class:z([d(i).b(),d(i).m(_.listType),d(i).is("drag",_.drag),d(i).is("disabled",d(r))]),tabindex:d(r)?"-1":"0",onClick:v,onKeydown:mn(xt(g,["self"]),["enter","space"])},[_.drag?(I(),we(rre,{key:0,disabled:d(r),onFile:o},{default:ne(()=>[oe(_.$slots,"default")]),_:3},8,["disabled"])):oe(_.$slots,"default",{key:1}),Z("input",{ref_key:"inputRef",ref:s,class:z(d(i).e("input")),name:_.name,disabled:d(r),multiple:_.multiple,accept:_.accept,type:"file",onChange:p,onClick:xt(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}});var hw=We(ore,[["__file","upload-content.vue"]]);const pw="ElUpload",mw=t=>{var e;(e=t.url)!=null&&e.startsWith("blob:")&&URL.revokeObjectURL(t.url)},lre=(t,e)=>{const n=pE(t,"fileList",void 0,{passive:!0}),i=g=>n.value.find(y=>y.uid===g.uid);function r(g){var y;(y=e.value)==null||y.abort(g)}function a(g=["ready","uploading","success","fail"]){n.value=n.value.filter(y=>!g.includes(y.status))}function s(g){n.value=n.value.filter(y=>y!==g)}const o=(g,y)=>{const _=i(y);_&&(console.error(g),_.status="fail",s(_),t.onError(g,_,n.value),t.onChange(_,n.value))},u=(g,y)=>{const _=i(y);_&&(t.onProgress(g,_,n.value),_.status="uploading",_.percentage=Math.round(g.percent))},c=(g,y)=>{const _=i(y);_&&(_.status="success",_.response=g,t.onSuccess(g,_,n.value),t.onChange(_,n.value))},h=g=>{Mi(g.uid)&&(g.uid=gg());const y={name:g.name,percentage:0,status:"ready",size:g.size,raw:g,uid:g.uid};if(t.listType==="picture-card"||t.listType==="picture")try{y.url=URL.createObjectURL(g)}catch(_){_.message,t.onError(_,y,n.value)}n.value=[...n.value,y],t.onChange(y,n.value)},p=async g=>{const y=g instanceof File?i(g):g;y||vi(pw,"file to be removed not found");const _=w=>{r(w),s(w),t.onRemove(w,n.value),mw(w)};t.beforeRemove?await t.beforeRemove(y,n.value)!==!1&&_(y):_(y)};function v(){n.value.filter(({status:g})=>g==="ready").forEach(({raw:g})=>{var y;return g&&((y=e.value)==null?void 0:y.upload(g))})}return Le(()=>t.listType,g=>{g!=="picture-card"&&g!=="picture"||(n.value=n.value.map(y=>{const{raw:_,url:w}=y;if(!w&&_)try{y.url=URL.createObjectURL(_)}catch(b){t.onError(b,y,n.value)}return y}))}),Le(n,g=>{for(const y of g)y.uid||(y.uid=gg()),y.status||(y.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:r,clearFiles:a,handleError:o,handleProgress:u,handleStart:h,handleSuccess:c,handleRemove:p,submit:v,revokeFileObjectURL:mw}},ure=re({name:"ElUpload"}),cre=re({...ure,props:jie,setup(t,{expose:e}){const n=t,i=ir(),r=Mn(),{abort:a,submit:s,clearFiles:o,uploadFiles:u,handleStart:c,handleError:h,handleRemove:p,handleSuccess:v,handleProgress:g,revokeFileObjectURL:y}=lre(n,r),_=L(()=>n.listType==="picture-card"),w=L(()=>({...n,fileList:u.value,onStart:c,onProgress:g,onSuccess:v,onError:h,onRemove:p}));return xn(()=>{u.value.forEach(y)}),Zt(oA,{accept:vn(n,"accept")}),e({abort:a,submit:s,clearFiles:o,handleStart:c,handleRemove:p}),(b,M)=>(I(),K("div",null,[d(_)&&b.showFileList?(I(),we(fw,{key:0,disabled:d(i),"list-type":b.listType,files:d(u),crossorigin:b.crossorigin,"handle-preview":b.onPreview,onRemove:d(p)},oa({append:ne(()=>[J(hw,Ht({ref_key:"uploadRef",ref:r},d(w)),{default:ne(()=>[b.$slots.trigger?oe(b.$slots,"trigger",{key:0}):he("v-if",!0),!b.$slots.trigger&&b.$slots.default?oe(b.$slots,"default",{key:1}):he("v-if",!0)]),_:3},16)]),_:2},[b.$slots.file?{name:"default",fn:ne(({file:C,index:x})=>[oe(b.$slots,"file",{file:C,index:x})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):he("v-if",!0),!d(_)||d(_)&&!b.showFileList?(I(),we(hw,Ht({key:1,ref_key:"uploadRef",ref:r},d(w)),{default:ne(()=>[b.$slots.trigger?oe(b.$slots,"trigger",{key:0}):he("v-if",!0),!b.$slots.trigger&&b.$slots.default?oe(b.$slots,"default",{key:1}):he("v-if",!0)]),_:3},16)):he("v-if",!0),b.$slots.trigger?oe(b.$slots,"default",{key:2}):he("v-if",!0),oe(b.$slots,"tip"),!d(_)&&b.showFileList?(I(),we(fw,{key:3,disabled:d(i),"list-type":b.listType,files:d(u),crossorigin:b.crossorigin,"handle-preview":b.onPreview,onRemove:d(p)},oa({_:2},[b.$slots.file?{name:"default",fn:ne(({file:C,index:x})=>[oe(b.$slots,"file",{file:C,index:x})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):he("v-if",!0)]))}});var dre=We(cre,[["__file","upload.vue"]]);const fre=Dt(dre),hre=Ge({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:_e([String,Array]),default:"Element Plus"},font:{type:_e(Object)},gap:{type:_e(Array),default:()=>[100,100]},offset:{type:_e(Array)}});function pre(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function mre(t){return Object.keys(t).map(e=>`${pre(e)}: ${t[e]};`).join(" ")}function vre(){return window.devicePixelRatio||1}const gre=(t,e)=>{let n=!1;return t.removedNodes.length&&e&&(n=Array.from(t.removedNodes).includes(e)),t.type==="attributes"&&t.target===e&&(n=!0),n},dA=3;function hm(t,e,n=1){const i=document.createElement("canvas"),r=i.getContext("2d"),a=t*n,s=e*n;return i.setAttribute("width",`${a}px`),i.setAttribute("height",`${s}px`),r.save(),[r,i,a,s]}function yre(){function t(e,n,i,r,a,s,o,u){const[c,h,p,v]=hm(r,a,i);if(e instanceof HTMLImageElement)c.drawImage(e,0,0,p,v);else{const{color:ee,fontSize:ce,fontStyle:se,fontWeight:le,fontFamily:ye,textAlign:Ce,textBaseline:pe}=s,ue=Number(ce)*i;c.font=`${se} normal ${le} ${ue}px/${a}px ${ye}`,c.fillStyle=ee,c.textAlign=Ce,c.textBaseline=pe;const Me=Array.isArray(e)?e:[e];Me==null||Me.forEach((De,xe)=>{c.fillText(De??"",p/2,xe*(ue+dA*i))})}const g=Math.PI/180*Number(n),y=Math.max(r,a),[_,w,b]=hm(y,y,i);_.translate(b/2,b/2),_.rotate(g),p>0&&v>0&&_.drawImage(h,-p/2,-v/2);function M(ee,ce){const se=ee*Math.cos(g)-ce*Math.sin(g),le=ee*Math.sin(g)+ce*Math.cos(g);return[se,le]}let C=0,x=0,T=0,k=0;const R=p/2,D=v/2;[[0-R,0-D],[0+R,0-D],[0+R,0+D],[0-R,0+D]].forEach(([ee,ce])=>{const[se,le]=M(ee,ce);C=Math.min(C,se),x=Math.max(x,se),T=Math.min(T,le),k=Math.max(k,le)});const P=C+b/2,N=T+b/2,$=x-C,Q=k-T,Y=o*i,H=u*i,B=($+Y)*2,X=Q+H,[q,O]=hm(B,X);function V(ee=0,ce=0){q.drawImage(w,P,N,$,Q,ee,ce,$,Q)}return V(),V($+Y,-Q/2-H/2),V($+Y,+Q/2+H/2),[O.toDataURL(),B/i,X/i]}return t}const _re=re({name:"ElWatermark"}),bre=re({..._re,props:hre,setup(t){const e=t,n={position:"relative"},i=L(()=>{var P,N;return(N=(P=e.font)==null?void 0:P.color)!=null?N:"rgba(0,0,0,.15)"}),r=L(()=>{var P,N;return(N=(P=e.font)==null?void 0:P.fontSize)!=null?N:16}),a=L(()=>{var P,N;return(N=(P=e.font)==null?void 0:P.fontWeight)!=null?N:"normal"}),s=L(()=>{var P,N;return(N=(P=e.font)==null?void 0:P.fontStyle)!=null?N:"normal"}),o=L(()=>{var P,N;return(N=(P=e.font)==null?void 0:P.fontFamily)!=null?N:"sans-serif"}),u=L(()=>{var P,N;return(N=(P=e.font)==null?void 0:P.textAlign)!=null?N:"center"}),c=L(()=>{var P,N;return(N=(P=e.font)==null?void 0:P.textBaseline)!=null?N:"hanging"}),h=L(()=>e.gap[0]),p=L(()=>e.gap[1]),v=L(()=>h.value/2),g=L(()=>p.value/2),y=L(()=>{var P,N;return(N=(P=e.offset)==null?void 0:P[0])!=null?N:v.value}),_=L(()=>{var P,N;return(N=(P=e.offset)==null?void 0:P[1])!=null?N:g.value}),w=()=>{const P={zIndex:e.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let N=y.value-v.value,$=_.value-g.value;return N>0&&(P.left=`${N}px`,P.width=`calc(100% - ${N}px)`,N=0),$>0&&(P.top=`${$}px`,P.height=`calc(100% - ${$}px)`,$=0),P.backgroundPosition=`${N}px ${$}px`,P},b=Mn(null),M=Mn(),C=W(!1),x=()=>{M.value&&(M.value.remove(),M.value=void 0)},T=(P,N)=>{var $;b.value&&M.value&&(C.value=!0,M.value.setAttribute("style",mre({...w(),backgroundImage:`url('${P}')`,backgroundSize:`${Math.floor(N)}px`})),($=b.value)==null||$.append(M.value),setTimeout(()=>{C.value=!1}))},k=P=>{let N=120,$=64;const Q=e.image,Y=e.content,H=e.width,B=e.height;if(!Q&&P.measureText){P.font=`${Number(r.value)}px ${o.value}`;const X=Array.isArray(Y)?Y:[Y],q=X.map(O=>{const V=P.measureText(O);return[V.width,V.fontBoundingBoxAscent!==void 0?V.fontBoundingBoxAscent+V.fontBoundingBoxDescent:V.actualBoundingBoxAscent+V.actualBoundingBoxDescent]});N=Math.ceil(Math.max(...q.map(O=>O[0]))),$=Math.ceil(Math.max(...q.map(O=>O[1])))*X.length+(X.length-1)*dA}return[H??N,B??$]},R=yre(),D=()=>{const N=document.createElement("canvas").getContext("2d"),$=e.image,Q=e.content,Y=e.rotate;if(N){M.value||(M.value=document.createElement("div"));const H=vre(),[B,X]=k(N),q=O=>{const[V,ee]=R(O||"",Y,H,B,X,{color:i.value,fontSize:r.value,fontStyle:s.value,fontWeight:a.value,fontFamily:o.value,textAlign:u.value,textBaseline:c.value},h.value,p.value);T(V,ee)};if($){const O=new Image;O.onload=()=>{q(O)},O.onerror=()=>{q(Q)},O.crossOrigin="anonymous",O.referrerPolicy="no-referrer",O.src=$}else q(Q)}};return wt(()=>{D()}),Le(()=>e,()=>{D()},{deep:!0,flush:"post"}),xn(()=>{x()}),hE(b,P=>{C.value||P.forEach(N=>{gre(N,M.value)&&(x(),D())})},{attributes:!0,subtree:!0,childList:!0}),(P,N)=>(I(),K("div",{ref_key:"containerRef",ref:b,style:_t([n])},[oe(P.$slots,"default")],4))}});var wre=We(bre,[["__file","watermark.vue"]]);const Sre=Dt(wre),Cre=Ge({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:_e(Object)},targetAreaClickable:{type:Boolean,default:!0}}),Ere=(t,e,n,i,r)=>{const a=W(null),s=()=>{let p;return Gt(t.value)?p=document.querySelector(t.value):un(t.value)?p=t.value():p=t.value,p},o=()=>{const p=s();if(!p||!e.value){a.value=null;return}!xre(p)&&e.value&&p.scrollIntoView(r.value);const{left:v,top:g,width:y,height:_}=p.getBoundingClientRect();a.value={left:v,top:g,width:y,height:_,radius:0}};wt(()=>{Le([e,t],()=>{o()},{immediate:!0}),window.addEventListener("resize",o)}),xn(()=>{window.removeEventListener("resize",o)});const u=p=>{var v;return(v=Nt(n.value.offset)?n.value.offset[p]:n.value.offset)!=null?v:6},c=L(()=>{var p;if(!a.value)return a.value;const v=u(0),g=u(1),y=((p=n.value)==null?void 0:p.radius)||2;return{left:a.value.left-v,top:a.value.top-g,width:a.value.width+v*2,height:a.value.height+g*2,radius:y}}),h=L(()=>{const p=s();return!i.value||!p||!window.DOMRect?p||void 0:{getBoundingClientRect(){var v,g,y,_;return window.DOMRect.fromRect({width:((v=c.value)==null?void 0:v.width)||0,height:((g=c.value)==null?void 0:g.height)||0,x:((y=c.value)==null?void 0:y.left)||0,y:((_=c.value)==null?void 0:_.top)||0})}}});return{mergedPosInfo:c,triggerTarget:h}},mp=Symbol("ElTour");function xre(t){const e=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,{top:i,right:r,bottom:a,left:s}=t.getBoundingClientRect();return i>=0&&s>=0&&r<=e&&a<=n}const Mre=(t,e,n,i,r,a,s,o)=>{const u=W(),c=W(),h=W({}),p={x:u,y:c,placement:i,strategy:r,middlewareData:h},v=L(()=>{const b=[J2(d(a)),n$(),t$(),Tre()];return d(o)&&d(n)&&b.push(ex({element:d(n)})),b}),g=async()=>{if(!tn)return;const b=d(t),M=d(e);if(!b||!M)return;const C=await tx(b,M,{placement:d(i),strategy:d(r),middleware:d(v)});Eu(p).forEach(x=>{p[x].value=C[x]})},y=L(()=>{if(!d(t))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:d(s)};const{overflow:b}=d(h);return{position:d(r),zIndex:d(s),top:d(c)!=null?`${d(c)}px`:"",left:d(u)!=null?`${d(u)}px`:"",maxWidth:b!=null&&b.maxWidth?`${b==null?void 0:b.maxWidth}px`:""}}),_=L(()=>{if(!d(o))return{};const{arrow:b}=d(h);return{left:(b==null?void 0:b.x)!=null?`${b==null?void 0:b.x}px`:"",top:(b==null?void 0:b.y)!=null?`${b==null?void 0:b.y}px`:""}});let w;return wt(()=>{const b=d(t),M=d(e);b&&M&&(w=Jz(b,M,g)),mi(()=>{g()})}),xn(()=>{w&&w()}),{update:g,contentStyle:y,arrowStyle:_}},Tre=()=>({name:"overflow",async fn(t){const e=await e$(t);let n=0;return e.left>0&&(n=e.left),e.right>0&&(n=e.right),{data:{maxWidth:t.rects.floating.width-n}}}}),Are=re({name:"ElTourMask",inheritAttrs:!1}),kre=re({...Are,props:Cre,setup(t){const e=t,{ns:n}=ct(mp),i=L(()=>{var o,u;return(u=(o=e.pos)==null?void 0:o.radius)!=null?u:2}),r=L(()=>{const o=i.value,u=`a${o},${o} 0 0 1`;return{topRight:`${u} ${o},${o}`,bottomRight:`${u} ${-o},${o}`,bottomLeft:`${u} ${-o},${-o}`,topLeft:`${u} ${o},${-o}`}}),a=L(()=>{const o=window.innerWidth,u=window.innerHeight,c=r.value,h=`M${o},0 L0,0 L0,${u} L${o},${u} L${o},0 Z`,p=i.value;return e.pos?`${h} M${e.pos.left+p},${e.pos.top} h${e.pos.width-p*2} ${c.topRight} v${e.pos.height-p*2} ${c.bottomRight} h${-e.pos.width+p*2} ${c.bottomLeft} v${-e.pos.height+p*2} ${c.topLeft} z`:h}),s=L(()=>({fill:e.fill,pointerEvents:"auto",cursor:"auto"}));return P0(vn(e,"visible"),{ns:n}),(o,u)=>o.visible?(I(),K("div",Ht({key:0,class:d(n).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:o.zIndex,pointerEvents:o.pos&&o.targetAreaClickable?"none":"auto"}},o.$attrs),[(I(),K("svg",{style:{width:"100%",height:"100%"}},[Z("path",{class:z(d(n).e("hollow")),style:_t(d(s)),d:d(a)},null,14,["d"])]))],16)):he("v-if",!0)}});var Ire=We(kre,[["__file","mask.vue"]]);const Pre=["absolute","fixed"],Rre=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],Uy=Ge({placement:{type:_e(String),values:Rre,default:"bottom"},reference:{type:_e(Object),default:null},strategy:{type:_e(String),values:Pre,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),Lre={close:()=>!0},Nre=re({name:"ElTourContent"}),Ore=re({...Nre,props:Uy,emits:Lre,setup(t,{emit:e}){const n=t,i=W(n.placement),r=W(n.strategy),a=W(null),s=W(null);Le(()=>n.placement,()=>{i.value=n.placement});const{contentStyle:o,arrowStyle:u}=Mre(vn(n,"reference"),a,s,i,r,vn(n,"offset"),vn(n,"zIndex"),vn(n,"showArrow")),c=L(()=>i.value.split("-")[0]),{ns:h}=ct(mp),p=()=>{e("close")},v=g=>{g.detail.focusReason==="pointer"&&g.preventDefault()};return(g,y)=>(I(),K("div",{ref_key:"contentRef",ref:a,style:_t(d(o)),class:z(d(h).e("content")),"data-side":d(c),tabindex:"-1"},[J(d(Td),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":a.value||void 0,onReleaseRequested:p,onFocusoutPrevented:v},{default:ne(()=>[oe(g.$slots,"default")]),_:3},8,["focus-trap-el"]),g.showArrow?(I(),K("span",{key:0,ref_key:"arrowRef",ref:s,style:_t(d(u)),class:z(d(h).e("arrow"))},null,6)):he("v-if",!0)],14,["data-side"]))}});var Dre=We(Ore,[["__file","content.vue"]]),Fre=re({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(t,{slots:e,emit:n}){let i=0;return()=>{var r,a;const s=(r=e.default)==null?void 0:r.call(e),o=[];let u=0;function c(h){Nt(h)&&h.forEach(p=>{var v;((v=(p==null?void 0:p.type)||{})==null?void 0:v.name)==="ElTourStep"&&(o.push(p),u+=1)})}return s.length&&c(Qs((a=s[0])==null?void 0:a.children)),i!==u&&(i=u,n("update-total",u)),o.length?o[t.current]:null}}});const Bre=Ge({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:wn},placement:Uy.placement,contentStyle:{type:_e([Object])},mask:{type:_e([Boolean,Object]),default:!0},gap:{type:_e(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:_e([Boolean,Object]),default:()=>({block:"center"})},type:{type:_e(String)},appendTo:{type:_e([String,Object]),default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),Ure={[Wt]:t=>$n(t),"update:current":t=>kt(t),close:t=>kt(t),finish:()=>!0,change:t=>kt(t)},Vre=re({name:"ElTour"}),zre=re({...Vre,props:Bre,emits:Ure,setup(t,{emit:e}){const n=t,i=Fe("tour"),r=W(0),a=W(),s=pE(n,"current",e,{passive:!0}),o=L(()=>{var U;return(U=a.value)==null?void 0:U.target}),u=L(()=>[i.b(),w.value==="primary"?i.m("primary"):""]),c=L(()=>{var U;return((U=a.value)==null?void 0:U.placement)||n.placement}),h=L(()=>{var U,P;return(P=(U=a.value)==null?void 0:U.contentStyle)!=null?P:n.contentStyle}),p=L(()=>{var U,P;return(P=(U=a.value)==null?void 0:U.mask)!=null?P:n.mask}),v=L(()=>!!p.value&&n.modelValue),g=L(()=>$n(p.value)?void 0:p.value),y=L(()=>{var U,P;return!!o.value&&((P=(U=a.value)==null?void 0:U.showArrow)!=null?P:n.showArrow)}),_=L(()=>{var U,P;return(P=(U=a.value)==null?void 0:U.scrollIntoViewOptions)!=null?P:n.scrollIntoViewOptions}),w=L(()=>{var U,P;return(P=(U=a.value)==null?void 0:U.type)!=null?P:n.type}),{nextZIndex:b}=Xu(),M=b(),C=L(()=>{var U;return(U=n.zIndex)!=null?U:M}),{mergedPosInfo:x,triggerTarget:T}=Ere(o,vn(n,"modelValue"),vn(n,"gap"),p,_);Le(()=>n.modelValue,U=>{U||(s.value=0)});const k=()=>{n.closeOnPressEscape&&(e("update:modelValue",!1),e("close",s.value))},R=U=>{r.value=U},D=bi();return Zt(mp,{currentStep:a,current:s,total:r,showClose:vn(n,"showClose"),closeIcon:vn(n,"closeIcon"),mergedType:w,ns:i,slots:D,updateModelValue(U){e("update:modelValue",U)},onClose(){e("close",s.value)},onFinish(){e("finish")},onChange(){e("change",s.value)}}),(U,P)=>(I(),K(ut,null,[J(d(Ju),{to:U.appendTo},{default:ne(()=>{var N,$;return[Z("div",Ht({class:d(u)},U.$attrs),[J(Ire,{visible:d(v),fill:(N=d(g))==null?void 0:N.color,style:_t(($=d(g))==null?void 0:$.style),pos:d(x),"z-index":d(C),"target-area-clickable":U.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),U.modelValue?(I(),we(Dre,{key:d(s),reference:d(T),placement:d(c),"show-arrow":d(y),"z-index":d(C),style:_t(d(h)),onClose:k},{default:ne(()=>[J(d(Fre),{current:d(s),onUpdateTotal:R},{default:ne(()=>[oe(U.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):he("v-if",!0)],16)]}),_:3},8,["to"]),he(" just for IDE "),he("v-if",!0)],64))}});var $re=We(zre,[["__file","tour.vue"]]);const Hre=Ge({target:{type:_e([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:wn},showArrow:{type:Boolean,default:void 0},placement:Uy.placement,mask:{type:_e([Boolean,Object]),default:void 0},contentStyle:{type:_e([Object])},prevButtonProps:{type:_e(Object)},nextButtonProps:{type:_e(Object)},scrollIntoViewOptions:{type:_e([Boolean,Object]),default:void 0},type:{type:_e(String)}}),Gre={close:()=>!0},Wre=re({name:"ElTourStep"}),Kre=re({...Wre,props:Hre,emits:Gre,setup(t,{emit:e}){const n=t,{Close:i}=M0,{t:r}=nn(),{currentStep:a,current:s,total:o,showClose:u,closeIcon:c,mergedType:h,ns:p,slots:v,updateModelValue:g,onClose:y,onFinish:_,onChange:w}=ct(mp);Le(n,D=>{a.value=D},{immediate:!0});const b=L(()=>{var D;return(D=n.showClose)!=null?D:u.value}),M=L(()=>{var D,U;return(U=(D=n.closeIcon)!=null?D:c.value)!=null?U:i}),C=D=>{if(D)return RV(D,["children","onClick"])},x=()=>{var D,U;s.value-=1,(D=n.prevButtonProps)!=null&&D.onClick&&((U=n.prevButtonProps)==null||U.onClick()),w()},T=()=>{var D;s.value>=o.value-1?k():s.value+=1,(D=n.nextButtonProps)!=null&&D.onClick&&n.nextButtonProps.onClick(),w()},k=()=>{R(),_()},R=()=>{g(!1),y(),e("close")};return(D,U)=>(I(),K(ut,null,[d(b)?(I(),K("button",{key:0,"aria-label":"Close",class:z(d(p).e("closebtn")),type:"button",onClick:R},[J(d(dt),{class:z(d(p).e("close"))},{default:ne(()=>[(I(),we(Vt(d(M))))]),_:1},8,["class"])],2)):he("v-if",!0),Z("header",{class:z([d(p).e("header"),{"show-close":d(u)}])},[oe(D.$slots,"header",{},()=>[Z("span",{role:"heading",class:z(d(p).e("title"))},Ne(D.title),3)])],2),Z("div",{class:z(d(p).e("body"))},[oe(D.$slots,"default",{},()=>[Z("span",null,Ne(D.description),1)])],2),Z("footer",{class:z(d(p).e("footer"))},[Z("div",{class:z(d(p).b("indicators"))},[d(v).indicators?(I(),we(Vt(d(v).indicators),{key:0,current:d(s),total:d(o)},null,8,["current","total"])):(I(!0),K(ut,{key:1},Ut(d(o),(P,N)=>(I(),K("span",{key:P,class:z([d(p).b("indicator"),N===d(s)?"is-active":""])},null,2))),128))],2),Z("div",{class:z(d(p).b("buttons"))},[d(s)>0?(I(),we(d(Pi),Ht({key:0,size:"small",type:d(h)},C(D.prevButtonProps),{onClick:x}),{default:ne(()=>{var P,N;return[mt(Ne((N=(P=D.prevButtonProps)==null?void 0:P.children)!=null?N:d(r)("el.tour.previous")),1)]}),_:1},16,["type"])):he("v-if",!0),d(s)<=d(o)-1?(I(),we(d(Pi),Ht({key:1,size:"small",type:d(h)==="primary"?"default":"primary"},C(D.nextButtonProps),{onClick:T}),{default:ne(()=>{var P,N;return[mt(Ne((N=(P=D.nextButtonProps)==null?void 0:P.children)!=null?N:d(s)===d(o)-1?d(r)("el.tour.finish"):d(r)("el.tour.next")),1)]}),_:1},16,["type"])):he("v-if",!0)],2)],2)],64))}});var fA=We(Kre,[["__file","step.vue"]]);const qre=Dt($re,{TourStep:fA}),Yre=Bn(fA),jre=Ge({container:{type:_e([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:_e(String),default:"default"},direction:{type:_e(String),default:"vertical"}}),Xre={change:t=>Gt(t),click:(t,e)=>t instanceof MouseEvent&&(Gt(e)||zn(e))},hA=Symbol("anchor"),Zre=re({name:"ElAnchor"}),Qre=re({...Zre,props:jre,emits:Xre,setup(t,{expose:e,emit:n}){const i=t,r=W(""),a=W(null),s=W(null),o=W(),u={};let c=!1,h=0;const p=Fe("anchor"),v=L(()=>[p.b(),i.type==="underline"?p.m("underline"):"",p.m(i.direction)]),g=D=>{u[D.href]=D.el},y=D=>{delete u[D]},_=D=>{r.value!==D&&(r.value=D,n("change",D))};let w=null;const b=D=>{if(!o.value)return;const U=Hd(D);if(!U)return;w&&w(),c=!0;const P=xb(U,o.value),N=uv(U,P),$=P.scrollHeight-P.clientHeight,Q=Math.min(N-i.offset,$);w=WV(o.value,h,Q,i.duration,()=>{setTimeout(()=>{c=!1},20)})},M=D=>{D&&(_(D),b(D))},C=(D,U)=>{n("click",D,U),M(U)},x=e6(()=>{o.value&&(h=Mb(o.value));const D=T();c||zn(D)||_(D)}),T=()=>{if(!o.value)return;const D=Mb(o.value),U=[];for(const P of Object.keys(u)){const N=Hd(P);if(!N)continue;const $=xb(N,o.value),Q=uv(N,$);U.push({top:Q-i.offset-i.bound,href:P})}U.sort((P,N)=>P.top-N.top);for(let P=0;P<U.length;P++){const N=U[P],$=U[P+1];if(P===0&&D===0)return"";if(N.top<=D&&(!$||$.top>D))return N.href}},k=()=>{const D=Hd(i.container);!D||Zh(D)?o.value=window:o.value=D};yn(o,"scroll",x);const R=L(()=>{if(!a.value||!s.value||!r.value)return{};const D=u[r.value];if(!D)return{};const U=a.value.getBoundingClientRect(),P=s.value.getBoundingClientRect(),N=D.getBoundingClientRect();return i.direction==="horizontal"?{left:`${N.left-U.left}px`,width:`${N.width}px`,opacity:1}:{top:`${N.top-U.top+(N.height-P.height)/2}px`,opacity:1}});return wt(()=>{k();const D=decodeURIComponent(window.location.hash);Hd(D)?M(D):x()}),Le(()=>i.container,()=>{k()}),Zt(hA,{ns:p,direction:i.direction,currentAnchor:r,addLink:g,removeLink:y,handleClick:C}),e({scrollTo:M}),(D,U)=>(I(),K("div",{ref_key:"anchorRef",ref:a,class:z(d(v))},[D.marker?(I(),K("div",{key:0,ref_key:"markerRef",ref:s,class:z(d(p).e("marker")),style:_t(d(R))},null,6)):he("v-if",!0),Z("div",{class:z(d(p).e("list"))},[oe(D.$slots,"default")],2)],2))}});var Jre=We(Qre,[["__file","anchor.vue"]]);const eae=Ge({title:String,href:String}),tae=re({name:"ElAnchorLink"}),nae=re({...tae,props:eae,setup(t){const e=t,n=W(null),{ns:i,direction:r,currentAnchor:a,addLink:s,removeLink:o,handleClick:u}=ct(hA),c=L(()=>[i.e("link"),i.is("active",a.value===e.href)]),h=p=>{u(p,e.href)};return Le(()=>e.href,(p,v)=>{yt(()=>{v&&o(v),p&&s({href:p,el:n.value})})}),wt(()=>{const{href:p}=e;p&&s({href:p,el:n.value})}),xn(()=>{const{href:p}=e;p&&o(p)}),(p,v)=>(I(),K("div",{class:z(d(i).e("item"))},[Z("a",{ref_key:"linkRef",ref:n,class:z(d(c)),href:p.href,onClick:h},[oe(p.$slots,"default",{},()=>[mt(Ne(p.title),1)])],10,["href"]),p.$slots["sub-link"]&&d(r)==="vertical"?(I(),K("div",{key:0,class:z(d(i).e("list"))},[oe(p.$slots,"sub-link")],2)):he("v-if",!0)],2))}});var pA=We(nae,[["__file","anchor-link.vue"]]);const iae=Dt(Jre,{AnchorLink:pA}),rae=Bn(pA),aae=Ge({options:{type:_e(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},block:Boolean,size:gi,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...Ui(["ariaLabel"])}),sae={[Wt]:t=>Gt(t)||kt(t)||$n(t),[Rn]:t=>Gt(t)||kt(t)||$n(t)},oae=re({name:"ElSegmented"}),lae=re({...oae,props:aae,emits:sae,setup(t,{emit:e}){const n=t,i=Fe("segmented"),r=Bi(),a=fi(),s=ir(),{formItem:o}=rr(),{inputId:u,isLabeledByFormItem:c}=Ba(n,{formItemContext:o}),h=W(null),p=ND(),v=jt({isInit:!1,width:0,translateX:0,focusVisible:!1}),g=U=>{const P=y(U);e(Wt,P),e(Rn,P)},y=U=>bn(U)?U.value:U,_=U=>bn(U)?U.label:U,w=U=>!!(s.value||bn(U)&&U.disabled),b=U=>n.modelValue===y(U),M=U=>n.options.find(P=>y(P)===U),C=U=>[i.e("item"),i.is("selected",b(U)),i.is("disabled",w(U))],x=()=>{if(!h.value)return;const U=h.value.querySelector(".is-selected"),P=h.value.querySelector(".is-selected input");if(!U||!P){v.width=0,v.translateX=0,v.focusVisible=!1;return}const N=U.getBoundingClientRect();v.isInit=!0,v.width=N.width,v.translateX=U.offsetLeft;try{v.focusVisible=P.matches(":focus-visible")}catch{}},T=L(()=>[i.b(),i.m(a.value),i.is("block",n.block)]),k=L(()=>({width:`${v.width}px`,transform:`translateX(${v.translateX}px)`,display:v.isInit?"block":"none"})),R=L(()=>[i.e("item-selected"),i.is("disabled",w(M(n.modelValue))),i.is("focus-visible",v.focusVisible)]),D=L(()=>n.name||r.value);return On(h,x),Le(p,x),Le(()=>n.modelValue,()=>{var U;x(),n.validateEvent&&((U=o==null?void 0:o.validate)==null||U.call(o,"change").catch(P=>void 0))},{flush:"post"}),(U,P)=>(I(),K("div",{id:d(u),ref_key:"segmentedRef",ref:h,class:z(d(T)),role:"radiogroup","aria-label":d(c)?void 0:U.ariaLabel||"segmented","aria-labelledby":d(c)?d(o).labelId:void 0},[Z("div",{class:z(d(i).e("group"))},[Z("div",{style:_t(d(k)),class:z(d(R))},null,6),(I(!0),K(ut,null,Ut(U.options,(N,$)=>(I(),K("label",{key:$,class:z(C(N))},[Z("input",{class:z(d(i).e("item-input")),type:"radio",name:d(D),disabled:w(N),checked:b(N),onChange:Q=>g(N)},null,42,["name","disabled","checked","onChange"]),Z("div",{class:z(d(i).e("item-label"))},[oe(U.$slots,"default",{item:N},()=>[mt(Ne(_(N)),1)])],2)],2))),128))],2)],10,["id","aria-label","aria-labelledby"]))}});var uae=We(lae,[["__file","segmented.vue"]]);const cae=Dt(uae),dae=(t,e)=>{const n=t.toLowerCase();return(e.label||e.value).toLowerCase().includes(n)},fae=(t,e,n)=>{const{selectionEnd:i}=t;if(i===null)return;const r=t.value,a=Xi(e);let s=-1,o;for(let u=i-1;u>=0;--u){const c=r[u];if(c===n||c===`
`||c==="\r"){s=u;continue}if(a.includes(c)){const h=s===-1?i:s;o={pattern:r.slice(u+1,h),start:u+1,end:h,prefix:c,prefixIndex:u,splitIndex:s,selectionEnd:i};break}}return o},hae=(t,e={debug:!1,useSelectionEnd:!1})=>{const n=t.selectionStart!==null?t.selectionStart:0,i=t.selectionEnd!==null?t.selectionEnd:0,r=e.useSelectionEnd?i:n,a=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"];if(e.debug){const v=document.querySelector("#input-textarea-caret-position-mirror-div");v!=null&&v.parentNode&&v.parentNode.removeChild(v)}const s=document.createElement("div");s.id="input-textarea-caret-position-mirror-div",document.body.appendChild(s);const o=s.style,u=window.getComputedStyle(t),c=t.nodeName==="INPUT";o.whiteSpace=c?"nowrap":"pre-wrap",c||(o.wordWrap="break-word"),o.position="absolute",e.debug||(o.visibility="hidden"),a.forEach(v=>{if(c&&v==="lineHeight")if(u.boxSizing==="border-box"){const g=Number.parseInt(u.height),y=Number.parseInt(u.paddingTop)+Number.parseInt(u.paddingBottom)+Number.parseInt(u.borderTopWidth)+Number.parseInt(u.borderBottomWidth),_=y+Number.parseInt(u.lineHeight);g>_?o.lineHeight=`${g-y}px`:g===_?o.lineHeight=u.lineHeight:o.lineHeight="0"}else o.lineHeight=u.height;else o[v]=u[v]}),r0()?t.scrollHeight>Number.parseInt(u.height)&&(o.overflowY="scroll"):o.overflow="hidden",s.textContent=t.value.slice(0,Math.max(0,r)),c&&s.textContent&&(s.textContent=s.textContent.replace(/\s/g," "));const h=document.createElement("span");h.textContent=t.value.slice(Math.max(0,r))||".",h.style.position="relative",h.style.left=`${-t.scrollLeft}px`,h.style.top=`${-t.scrollTop}px`,s.appendChild(h);const p={top:h.offsetTop+Number.parseInt(u.borderTopWidth),left:h.offsetLeft+Number.parseInt(u.borderLeftWidth),height:Number.parseInt(u.fontSize)*1.5};return e.debug?h.style.backgroundColor="#aaa":document.body.removeChild(s),p.left>=t.clientWidth&&(p.left=t.clientWidth),p},pae=Ge({...X0,options:{type:_e(Array),default:()=>[]},prefix:{type:_e([String,Array]),default:"@",validator:t=>Gt(t)?t.length===1:t.every(e=>Gt(e)&&e.length===1)},split:{type:String,default:" ",validator:t=>t.length===1},filterOption:{type:_e([Boolean,Function]),default:()=>dae,validator:t=>t===!1?!0:un(t)},placement:{type:_e(String),default:"bottom"},showArrow:Boolean,offset:{type:Number,default:0},whole:Boolean,checkIsWhole:{type:_e(Function)},modelValue:String,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:_e(Object),default:()=>({})}}),mae={[Wt]:t=>Gt(t),search:(t,e)=>Gt(t)&&Gt(e),select:(t,e)=>Gt(t.value)&&Gt(e),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},vae=Ge({options:{type:_e(Array),default:()=>[]},loading:Boolean,disabled:Boolean,contentId:String,ariaLabel:String}),gae={select:t=>Gt(t.value)},yae=re({name:"ElMentionDropdown"}),_ae=re({...yae,props:vae,emits:gae,setup(t,{expose:e,emit:n}){const i=t,r=Fe("mention"),{t:a}=nn(),s=W(-1),o=W(),u=W(),c=W(),h=(C,x)=>[r.be("dropdown","item"),r.is("hovering",s.value===x),r.is("disabled",C.disabled||i.disabled)],p=C=>{C.disabled||i.disabled||n("select",C)},v=C=>{s.value=C},g=L(()=>i.disabled||i.options.every(C=>C.disabled)),y=L(()=>i.options[s.value]),_=()=>{y.value&&n("select",y.value)},w=C=>{const{options:x}=i;if(x.length===0||g.value)return;C==="next"?(s.value++,s.value===x.length&&(s.value=0)):C==="prev"&&(s.value--,s.value<0&&(s.value=x.length-1));const T=x[s.value];if(T.disabled){w(C);return}yt(()=>b(T))},b=C=>{var x,T,k,R;const{options:D}=i,U=D.findIndex(N=>N.value===C.value),P=(x=u.value)==null?void 0:x[U];if(P){const N=(k=(T=c.value)==null?void 0:T.querySelector)==null?void 0:k.call(T,`.${r.be("dropdown","wrap")}`);N&&x0(N,P)}(R=o.value)==null||R.handleScroll()};return Le(()=>i.options,()=>{g.value||i.options.length===0?s.value=-1:s.value=0},{immediate:!0}),e({hoveringIndex:s,navigateOptions:w,selectHoverOption:_,hoverOption:y}),(C,x)=>(I(),K("div",{ref_key:"dropdownRef",ref:c,class:z(d(r).b("dropdown"))},[C.$slots.header?(I(),K("div",{key:0,class:z(d(r).be("dropdown","header"))},[oe(C.$slots,"header")],2)):he("v-if",!0),Bt(J(d(as),{id:C.contentId,ref_key:"scrollbarRef",ref:o,tag:"ul","wrap-class":d(r).be("dropdown","wrap"),"view-class":d(r).be("dropdown","list"),role:"listbox","aria-label":C.ariaLabel,"aria-orientation":"vertical"},{default:ne(()=>[(I(!0),K(ut,null,Ut(C.options,(T,k)=>(I(),K("li",{id:`${C.contentId}-${k}`,ref_for:!0,ref_key:"optionRefs",ref:u,key:T.value,class:z(h(T,k)),role:"option","aria-disabled":T.disabled||C.disabled||void 0,"aria-selected":s.value===k,onMouseenter:R=>v(k),onClick:xt(R=>p(T),["stop"])},[oe(C.$slots,"label",{item:T,index:k},()=>{var R;return[Z("span",null,Ne((R=T.label)!=null?R:T.value),1)]})],42,["id","aria-disabled","aria-selected","onMouseenter","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class","aria-label"]),[[sn,C.options.length>0&&!C.loading]]),C.loading?(I(),K("div",{key:1,class:z(d(r).be("dropdown","loading"))},[oe(C.$slots,"loading",{},()=>[mt(Ne(d(a)("el.mention.loading")),1)])],2)):he("v-if",!0),C.$slots.footer?(I(),K("div",{key:2,class:z(d(r).be("dropdown","footer"))},[oe(C.$slots,"footer")],2)):he("v-if",!0)],2))}});var bae=We(_ae,[["__file","mention-dropdown.vue"]]);const wae=re({name:"ElMention"}),Sae=re({...wae,props:pae,emits:mae,setup(t,{expose:e,emit:n}){const i=t,r=L(()=>Ta(i,Object.keys(X0))),a=Fe("mention"),s=ir(),o=Bi(),u=W(),c=W(),h=W(),p=W(!1),v=W(),g=W(),y=L(()=>i.showArrow?i.placement:`${i.placement}-start`),_=L(()=>i.showArrow?["bottom","top"]:["bottom-start","top-start"]),w=L(()=>{const{filterOption:$,options:Q}=i;return!g.value||!$?Q:Q.filter(Y=>$(g.value.pattern,Y))}),b=L(()=>p.value&&(!!w.value.length||i.loading)),M=L(()=>{var $;return`${o.value}-${($=h.value)==null?void 0:$.hoveringIndex}`}),C=$=>{n("update:modelValue",$),U()},x=$=>{var Q,Y,H,B;if("key"in $&&!((Q=u.value)!=null&&Q.isComposing)){if(["ArrowLeft","ArrowRight"].includes($.key))U();else if(["ArrowUp","ArrowDown"].includes($.key)){if(!p.value)return;$.preventDefault();const X=$.key==="ArrowUp"?"prev":"next";(Y=h.value)==null||Y.navigateOptions(X)}else if(["Enter"].includes($.key)){if(!p.value)return;$.preventDefault(),(H=h.value)!=null&&H.hoverOption?(B=h.value)==null||B.selectHoverOption():p.value=!1}else if(["Escape"].includes($.key)){if(!p.value)return;$.preventDefault(),p.value=!1}else if(["Backspace"].includes($.key)&&i.whole&&g.value){const{splitIndex:X,selectionEnd:q,pattern:O,prefixIndex:V,prefix:ee}=g.value,ce=D();if(!ce)return;const se=ce.value,le=i.options.find(Ce=>Ce.value===O);if((un(i.checkIsWhole)?i.checkIsWhole(O,ee):le)&&X!==-1&&X+1===q){$.preventDefault();const Ce=se.slice(0,V)+se.slice(X+1);n(Wt,Ce);const pe=V;yt(()=>{ce.selectionStart=pe,ce.selectionEnd=pe,N()})}}}},{wrapperRef:T}=xd(u,{beforeFocus(){return s.value},afterFocus(){U()},beforeBlur($){var Q;return(Q=c.value)==null?void 0:Q.isFocusInsideContent($)},afterBlur(){p.value=!1}}),k=()=>{U()},R=$=>{if(!g.value)return;const Q=D();if(!Q)return;const Y=Q.value,{split:H}=i,B=Y.slice(g.value.end),X=B.startsWith(H),q=`${$.value}${X?"":H}`,O=Y.slice(0,g.value.start)+q+B;n(Wt,O),n("select",$,g.value.prefix);const V=g.value.start+q.length+(X?1:0);yt(()=>{Q.selectionStart=V,Q.selectionEnd=V,Q.focus(),N()})},D=()=>{var $,Q;return i.type==="textarea"?($=u.value)==null?void 0:$.textarea:(Q=u.value)==null?void 0:Q.input},U=()=>{setTimeout(()=>{P(),N(),yt(()=>{var $;return($=c.value)==null?void 0:$.updatePopper()})},0)},P=()=>{const $=D();if(!$)return;const Q=hae($),Y=$.getBoundingClientRect(),H=u.value.$el.getBoundingClientRect();v.value={position:"absolute",width:0,height:`${Q.height}px`,left:`${Q.left+Y.left-H.left}px`,top:`${Q.top+Y.top-H.top}px`}},N=()=>{const $=D();if(document.activeElement!==$){p.value=!1;return}const{prefix:Q,split:Y}=i;if(g.value=fae($,Q,Y),g.value&&g.value.splitIndex===-1){p.value=!0,n("search",g.value.pattern,g.value.prefix);return}p.value=!1};return e({input:u,tooltip:c}),($,Q)=>(I(),K("div",{ref_key:"wrapperRef",ref:T,class:z(d(a).b())},[J(d(Qi),Ht(Ht(d(r),$.$attrs),{ref_key:"elInputRef",ref:u,"model-value":$.modelValue,disabled:d(s),role:d(b)?"combobox":void 0,"aria-activedescendant":d(b)?d(M)||"":void 0,"aria-controls":d(b)?d(o):void 0,"aria-expanded":d(b)||void 0,"aria-label":$.ariaLabel,"aria-autocomplete":d(b)?"none":void 0,"aria-haspopup":d(b)?"listbox":void 0,onInput:C,onKeydown:x,onMousedown:k}),oa({_:2},[Ut($.$slots,(Y,H)=>({name:H,fn:ne(B=>[oe($.$slots,H,Ma(ol(B)))])}))]),1040,["model-value","disabled","role","aria-activedescendant","aria-controls","aria-expanded","aria-label","aria-autocomplete","aria-haspopup"]),J(d(pi),{ref_key:"tooltipRef",ref:c,visible:d(b),"popper-class":[d(a).e("popper"),$.popperClass],"popper-options":$.popperOptions,placement:d(y),"fallback-placements":d(_),effect:"light",pure:"",offset:$.offset,"show-arrow":$.showArrow},{default:ne(()=>[Z("div",{style:_t(v.value)},null,4)]),content:ne(()=>{var Y;return[J(bae,{ref_key:"dropdownRef",ref:h,options:d(w),disabled:d(s),loading:$.loading,"content-id":d(o),"aria-label":$.ariaLabel,onSelect:R,onClick:xt((Y=u.value)==null?void 0:Y.focus,["stop"])},oa({_:2},[Ut($.$slots,(H,B)=>({name:B,fn:ne(X=>[oe($.$slots,B,Ma(ol(X)))])}))]),1032,["options","disabled","loading","content-id","aria-label","onClick"])]}),_:3},8,["visible","popper-class","popper-options","placement","fallback-placements","offset","show-arrow"])],2))}});var Cae=We(Sae,[["__file","mention.vue"]]);const Eae=Dt(Cae);var xae=[S$,L$,QG,Wte,r9,d9,wx,C9,E9,Pi,Ax,DW,zW,JW,e7,eK,dM,sK,da,p7,nM,yK,NK,OK,Ad,sq,p$,yq,_q,bq,wq,Sq,pY,EY,xY,FY,fy,qY,Dj,Fj,Bj,HM,xH,MH,dt,nX,GM,Qi,WM,hX,LX,NX,OX,DX,$X,LZ,UZ,YZ,yx,eT,uM,T7,M7,rQ,uQ,hK,as,ml,mh,hZ,YQ,nJ,iJ,IJ,OJ,_T,KJ,tee,nee,lee,ste,ote,Gte,ane,sne,Jc,dne,vW,gne,Sne,Cne,pi,Yne,oie,Eh,Mie,Hie,fre,Sre,qre,Yre,iae,rae,cae,Eae];const ea="ElInfiniteScroll",Mae=50,Tae=200,Aae=0,kae={delay:{type:Number,default:Tae},distance:{type:Number,default:Aae},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},Vy=(t,e)=>Object.entries(kae).reduce((n,[i,r])=>{var a,s;const{type:o,default:u}=r,c=t.getAttribute(`infinite-scroll-${i}`);let h=(s=(a=e[c])!=null?a:c)!=null?s:u;return h=h==="false"?!1:h,h=o(h),n[i]=Number.isNaN(h)?u:h,n},{}),mA=t=>{const{observer:e}=t[ea];e&&(e.disconnect(),delete t[ea].observer)},Iae=(t,e)=>{const{container:n,containerEl:i,instance:r,observer:a,lastScrollTop:s}=t[ea],{disabled:o,distance:u}=Vy(t,r),{clientHeight:c,scrollHeight:h,scrollTop:p}=i,v=p-s;if(t[ea].lastScrollTop=p,a||o||v<0)return;let g=!1;if(n===t)g=h-(c+p)<=u;else{const{clientTop:y,scrollHeight:_}=t,w=uv(t,i);g=p+c>=w+y+_-u}g&&e.call(r)};function pm(t,e){const{containerEl:n,instance:i}=t[ea],{disabled:r}=Vy(t,i);r||n.clientHeight===0||(n.scrollHeight<=n.clientHeight?e.call(i):mA(t))}const Pae={async mounted(t,e){const{instance:n,value:i}=e;un(i)||vi(ea,"'v-infinite-scroll' binding value must be a function"),await yt();const{delay:r,immediate:a}=Vy(t,n),s=E0(t,!0),o=s===window?document.documentElement:s,u=Jo(Iae.bind(null,t,i),r);if(s){if(t[ea]={instance:n,container:s,containerEl:o,delay:r,cb:i,onScroll:u,lastScrollTop:o.scrollTop},a){const c=new MutationObserver(Jo(pm.bind(null,t,i),Mae));t[ea].observer=c,c.observe(t,{childList:!0,subtree:!0}),pm(t,i)}s.addEventListener("scroll",u)}},unmounted(t){if(!t[ea])return;const{container:e,onScroll:n}=t[ea];e==null||e.removeEventListener("scroll",n),mA(t)},async updated(t){if(!t[ea])await yt();else{const{containerEl:e,cb:n,observer:i}=t[ea];e.clientHeight&&i&&pm(t,n)}}},yg=Pae;yg.install=t=>{t.directive("InfiniteScroll",yg)};const Rae=yg;function Lae(t){let e;const n=W(!1),i=jt({...t,originalPosition:"",originalOverflow:"",visible:!1});function r(v){i.text=v}function a(){const v=i.parent,g=p.ns;if(!v.vLoadingAddClassList){let y=v.getAttribute("loading-number");y=Number.parseInt(y)-1,y?v.setAttribute("loading-number",y.toString()):(tr(v,g.bm("parent","relative")),v.removeAttribute("loading-number")),tr(v,g.bm("parent","hidden"))}s(),h.unmount()}function s(){var v,g;(g=(v=p.$el)==null?void 0:v.parentNode)==null||g.removeChild(p.$el)}function o(){var v;t.beforeClose&&!t.beforeClose()||(n.value=!0,clearTimeout(e),e=setTimeout(u,400),i.visible=!1,(v=t.closed)==null||v.call(t))}function u(){if(!n.value)return;const v=i.parent;n.value=!1,v.vLoadingAddClassList=void 0,a()}const c=re({name:"ElLoading",setup(v,{expose:g}){const{ns:y,zIndex:_}=sp("loading");return g({ns:y,zIndex:_}),()=>{const w=i.spinner||i.svg,b=Ct("svg",{class:"circular",viewBox:i.svgViewBox?i.svgViewBox:"0 0 50 50",...w?{innerHTML:w}:{}},[Ct("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),M=i.text?Ct("p",{class:y.b("text")},[i.text]):void 0;return Ct(ui,{name:y.b("fade"),onAfterLeave:u},{default:ne(()=>[Bt(J("div",{style:{backgroundColor:i.background||""},class:[y.b("mask"),i.customClass,i.fullscreen?"is-fullscreen":""]},[Ct("div",{class:y.b("spinner")},[b,M])]),[[sn,i.visible]])])})}}}),h=_I(c),p=h.mount(document.createElement("div"));return{...Ri(i),setText:r,removeElLoadingChild:s,close:o,handleAfterLeave:u,vm:p,get $el(){return p.$el}}}let rf;const _g=function(t={}){if(!tn)return;const e=Nae(t);if(e.fullscreen&&rf)return rf;const n=Lae({...e,closed:()=>{var r;(r=e.closed)==null||r.call(e),e.fullscreen&&(rf=void 0)}});Oae(e,e.parent,n),vw(e,e.parent,n),e.parent.vLoadingAddClassList=()=>vw(e,e.parent,n);let i=e.parent.getAttribute("loading-number");return i?i=`${Number.parseInt(i)+1}`:i="1",e.parent.setAttribute("loading-number",i),e.parent.appendChild(n.$el),yt(()=>n.visible.value=e.visible),e.fullscreen&&(rf=n),n},Nae=t=>{var e,n,i,r;let a;return Gt(t.target)?a=(e=document.querySelector(t.target))!=null?e:document.body:a=t.target||document.body,{parent:a===document.body||t.body?document.body:a,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:a===document.body&&((n=t.fullscreen)!=null?n:!0),lock:(i=t.lock)!=null?i:!1,customClass:t.customClass||"",visible:(r=t.visible)!=null?r:!0,beforeClose:t.beforeClose,closed:t.closed,target:a}},Oae=async(t,e,n)=>{const{nextZIndex:i}=n.vm.zIndex||n.vm._.exposed.zIndex,r={};if(t.fullscreen)n.originalPosition.value=qs(document.body,"position"),n.originalOverflow.value=qs(document.body,"overflow"),r.zIndex=i();else if(t.parent===document.body){n.originalPosition.value=qs(document.body,"position"),await yt();for(const a of["top","left"]){const s=a==="top"?"scrollTop":"scrollLeft";r[a]=`${t.target.getBoundingClientRect()[a]+document.body[s]+document.documentElement[s]-Number.parseInt(qs(document.body,`margin-${a}`),10)}px`}for(const a of["height","width"])r[a]=`${t.target.getBoundingClientRect()[a]}px`}else n.originalPosition.value=qs(e,"position");for(const[a,s]of Object.entries(r))n.$el.style[a]=s},vw=(t,e,n)=>{const i=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?tr(e,i.bm("parent","relative")):ia(e,i.bm("parent","relative")),t.fullscreen&&t.lock?ia(e,i.bm("parent","hidden")):tr(e,i.bm("parent","hidden"))},Qf=Symbol("ElLoading"),gw=(t,e)=>{var n,i,r,a;const s=e.instance,o=v=>bn(e.value)?e.value[v]:void 0,u=v=>{const g=Gt(v)&&(s==null?void 0:s[v])||v;return g&&W(g)},c=v=>u(o(v)||t.getAttribute(`element-loading-${bI(v)}`)),h=(n=o("fullscreen"))!=null?n:e.modifiers.fullscreen,p={text:c("text"),svg:c("svg"),svgViewBox:c("svgViewBox"),spinner:c("spinner"),background:c("background"),customClass:c("customClass"),fullscreen:h,target:(i=o("target"))!=null?i:h?void 0:t,body:(r=o("body"))!=null?r:e.modifiers.body,lock:(a=o("lock"))!=null?a:e.modifiers.lock};t[Qf]={options:p,instance:_g(p)}},Dae=(t,e)=>{for(const n of Object.keys(e))Ji(e[n])&&(e[n].value=t[n])},yw={mounted(t,e){e.value&&gw(t,e)},updated(t,e){const n=t[Qf];e.oldValue!==e.value&&(e.value&&!e.oldValue?gw(t,e):e.value&&e.oldValue?bn(e.value)&&Dae(e.value,n.options):n==null||n.instance.close())},unmounted(t){var e;(e=t[Qf])==null||e.instance.close(),t[Qf]=null}},Fae={install(t){t.directive("loading",yw),t.config.globalProperties.$loading=_g},directive:yw,service:_g},vA=["success","info","warning","error"],ji=Fn({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:tn?document.body:void 0}),Bae=Ge({customClass:{type:String,default:ji.customClass},center:{type:Boolean,default:ji.center},dangerouslyUseHTMLString:{type:Boolean,default:ji.dangerouslyUseHTMLString},duration:{type:Number,default:ji.duration},icon:{type:wn,default:ji.icon},id:{type:String,default:ji.id},message:{type:_e([String,Object,Function]),default:ji.message},onClose:{type:_e(Function),default:ji.onClose},showClose:{type:Boolean,default:ji.showClose},type:{type:String,values:vA,default:ji.type},plain:{type:Boolean,default:ji.plain},offset:{type:Number,default:ji.offset},zIndex:{type:Number,default:ji.zIndex},grouping:{type:Boolean,default:ji.grouping},repeatNum:{type:Number,default:ji.repeatNum}}),Uae={destroy:()=>!0},Aa=wI([]),Vae=t=>{const e=Aa.findIndex(r=>r.id===t),n=Aa[e];let i;return e>0&&(i=Aa[e-1]),{current:n,prev:i}},zae=t=>{const{prev:e}=Vae(t);return e?e.vm.exposed.bottom.value:0},$ae=(t,e)=>Aa.findIndex(i=>i.id===t)>0?16:e,Hae=re({name:"ElMessage"}),Gae=re({...Hae,props:Bae,emits:Uae,setup(t,{expose:e}){const n=t,{Close:i}=T0,{ns:r,zIndex:a}=sp("message"),{currentZIndex:s,nextZIndex:o}=a,u=W(),c=W(!1),h=W(0);let p;const v=L(()=>n.type?n.type==="error"?"danger":n.type:"info"),g=L(()=>{const R=n.type;return{[r.bm("icon",R)]:R&&co[R]}}),y=L(()=>n.icon||co[n.type]||""),_=L(()=>zae(n.id)),w=L(()=>$ae(n.id,n.offset)+_.value),b=L(()=>h.value+w.value),M=L(()=>({top:`${w.value}px`,zIndex:s.value}));function C(){n.duration!==0&&({stop:p}=ll(()=>{T()},n.duration))}function x(){p==null||p()}function T(){c.value=!1}function k({code:R}){R===St.esc&&T()}return wt(()=>{C(),o(),c.value=!0}),Le(()=>n.repeatNum,()=>{x(),C()}),yn(document,"keydown",k),On(u,()=>{h.value=u.value.getBoundingClientRect().height}),e({visible:c,bottom:b,close:T}),(R,D)=>(I(),we(ui,{name:d(r).b("fade"),onBeforeLeave:R.onClose,onAfterLeave:U=>R.$emit("destroy"),persisted:""},{default:ne(()=>[Bt(Z("div",{id:R.id,ref_key:"messageRef",ref:u,class:z([d(r).b(),{[d(r).m(R.type)]:R.type},d(r).is("center",R.center),d(r).is("closable",R.showClose),d(r).is("plain",R.plain),R.customClass]),style:_t(d(M)),role:"alert",onMouseenter:x,onMouseleave:C},[R.repeatNum>1?(I(),we(d(wx),{key:0,value:R.repeatNum,type:d(v),class:z(d(r).e("badge"))},null,8,["value","type","class"])):he("v-if",!0),d(y)?(I(),we(d(dt),{key:1,class:z([d(r).e("icon"),d(g)])},{default:ne(()=>[(I(),we(Vt(d(y))))]),_:1},8,["class"])):he("v-if",!0),oe(R.$slots,"default",{},()=>[R.dangerouslyUseHTMLString?(I(),K(ut,{key:1},[he(" Caution here, message could've been compromised, never use user's input as message "),Z("p",{class:z(d(r).e("content")),innerHTML:R.message},null,10,["innerHTML"])],2112)):(I(),K("p",{key:0,class:z(d(r).e("content"))},Ne(R.message),3))]),R.showClose?(I(),we(d(dt),{key:2,class:z(d(r).e("closeBtn")),onClick:xt(T,["stop"])},{default:ne(()=>[J(d(i))]),_:1},8,["class","onClick"])):he("v-if",!0)],46,["id"]),[[sn,c.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var Wae=We(Gae,[["__file","message.vue"]]);let Kae=1;const gA=t=>{const e=!t||Gt(t)||ni(t)||un(t)?{message:t}:t,n={...ji,...e};if(!n.appendTo)n.appendTo=document.body;else if(Gt(n.appendTo)){let i=document.querySelector(n.appendTo);Hr(i)||(i=document.body),n.appendTo=i}return $n(Sa.grouping)&&!n.grouping&&(n.grouping=Sa.grouping),kt(Sa.duration)&&n.duration===3e3&&(n.duration=Sa.duration),kt(Sa.offset)&&n.offset===16&&(n.offset=Sa.offset),$n(Sa.showClose)&&!n.showClose&&(n.showClose=Sa.showClose),n},qae=t=>{const e=Aa.indexOf(t);if(e===-1)return;Aa.splice(e,1);const{handler:n}=t;n.close()},Yae=({appendTo:t,...e},n)=>{const i=`message_${Kae++}`,r=e.onClose,a=document.createElement("div"),s={...e,id:i,onClose:()=>{r==null||r(),qae(h)},onDestroy:()=>{ro(null,a)}},o=J(Wae,s,un(s.message)||ni(s.message)?{default:un(s.message)?s.message:()=>s.message}:null);o.appContext=n||Du._context,ro(o,a),t.appendChild(a.firstElementChild);const u=o.component,h={id:i,vnode:o,vm:u,handler:{close:()=>{u.exposed.visible.value=!1}},props:o.component.props};return h},Du=(t={},e)=>{if(!tn)return{close:()=>{}};const n=gA(t);if(n.grouping&&Aa.length){const r=Aa.find(({vnode:a})=>{var s;return((s=a.props)==null?void 0:s.message)===n.message});if(r)return r.props.repeatNum+=1,r.props.type=n.type,r.handler}if(kt(Sa.max)&&Aa.length>=Sa.max)return{close:()=>{}};const i=Yae(n,e);return Aa.push(i),i.handler};vA.forEach(t=>{Du[t]=(e={},n)=>{const i=gA(e);return Du({...i,type:t},n)}});function jae(t){for(const e of Aa)(!t||t===e.props.type)&&e.handler.close()}Du.closeAll=jae;Du._context=null;const Xo=C2(Du,"$message"),Xae=re({name:"ElMessageBox",directives:{TrapFocus:tW},components:{ElButton:Pi,ElFocusTrap:Td,ElInput:Qi,ElOverlay:dy,ElIcon:dt,...T0},inheritAttrs:!1,props:{buttonSize:{type:String,validator:E2},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(t,{emit:e}){const{locale:n,zIndex:i,ns:r,size:a}=sp("message-box",L(()=>t.buttonSize)),{t:s}=n,{nextZIndex:o}=i,u=W(!1),c=jt({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:Qo(Za),cancelButtonLoadingIcon:Qo(Za),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:o()}),h=L(()=>{const B=c.type;return{[r.bm("icon",B)]:B&&co[B]}}),p=Bi(),v=Bi(),g=L(()=>c.icon||co[c.type]||""),y=L(()=>!!c.message),_=W(),w=W(),b=W(),M=W(),C=W(),x=L(()=>c.confirmButtonClass);Le(()=>c.inputValue,async B=>{await yt(),t.boxType==="prompt"&&B!==null&&$()},{immediate:!0}),Le(()=>u.value,B=>{var X,q;B&&(t.boxType!=="prompt"&&(c.autofocus?b.value=(q=(X=C.value)==null?void 0:X.$el)!=null?q:_.value:b.value=_.value),c.zIndex=o()),t.boxType==="prompt"&&(B?yt().then(()=>{var O;M.value&&M.value.$el&&(c.autofocus?b.value=(O=Q())!=null?O:_.value:b.value=_.value)}):(c.editorErrorMessage="",c.validateError=!1))});const T=L(()=>t.draggable),k=L(()=>t.overflow);x2(_,w,T,k),wt(async()=>{await yt(),t.closeOnHashChange&&window.addEventListener("hashchange",R)}),xn(()=>{t.closeOnHashChange&&window.removeEventListener("hashchange",R)});function R(){u.value&&(u.value=!1,yt(()=>{c.action&&e("action",c.action)}))}const D=()=>{t.closeOnClickModal&&N(c.distinguishCancelAndClose?"close":"cancel")},U=V0(D),P=B=>{if(c.inputType!=="textarea")return B.preventDefault(),N("confirm")},N=B=>{var X;t.boxType==="prompt"&&B==="confirm"&&!$()||(c.action=B,c.beforeClose?(X=c.beforeClose)==null||X.call(c,B,c,R):R())},$=()=>{if(t.boxType==="prompt"){const B=c.inputPattern;if(B&&!B.test(c.inputValue||""))return c.editorErrorMessage=c.inputErrorMessage||s("el.messagebox.error"),c.validateError=!0,!1;const X=c.inputValidator;if(typeof X=="function"){const q=X(c.inputValue);if(q===!1)return c.editorErrorMessage=c.inputErrorMessage||s("el.messagebox.error"),c.validateError=!0,!1;if(typeof q=="string")return c.editorErrorMessage=q,c.validateError=!0,!1}}return c.editorErrorMessage="",c.validateError=!1,!0},Q=()=>{const B=M.value.$refs;return B.input||B.textarea},Y=()=>{N("close")},H=()=>{t.closeOnPressEscape&&Y()};return t.lockScroll&&P0(u),{...Ri(c),ns:r,overlayEvent:U,visible:u,hasMessage:y,typeClass:h,contentId:p,inputId:v,btnSize:a,iconComponent:g,confirmButtonClasses:x,rootRef:_,focusStartRef:b,headerRef:w,inputRef:M,confirmRef:C,doClose:R,handleClose:Y,onCloseRequested:H,handleWrapperClick:D,handleInputEnter:P,handleAction:N,t:s}}});function Zae(t,e,n,i,r,a){const s=At("el-icon"),o=At("close"),u=At("el-input"),c=At("el-button"),h=At("el-focus-trap"),p=At("el-overlay");return I(),we(ui,{name:"fade-in-linear",onAfterLeave:v=>t.$emit("vanish"),persisted:""},{default:ne(()=>[Bt(J(p,{"z-index":t.zIndex,"overlay-class":[t.ns.is("message-box"),t.modalClass],mask:t.modal},{default:ne(()=>[Z("div",{role:"dialog","aria-label":t.title,"aria-modal":"true","aria-describedby":t.showInput?void 0:t.contentId,class:z(`${t.ns.namespace.value}-overlay-message-box`),onClick:t.overlayEvent.onClick,onMousedown:t.overlayEvent.onMousedown,onMouseup:t.overlayEvent.onMouseup},[J(h,{loop:"",trapped:t.visible,"focus-trap-el":t.rootRef,"focus-start-el":t.focusStartRef,onReleaseRequested:t.onCloseRequested},{default:ne(()=>[Z("div",{ref:"rootRef",class:z([t.ns.b(),t.customClass,t.ns.is("draggable",t.draggable),{[t.ns.m("center")]:t.center}]),style:_t(t.customStyle),tabindex:"-1",onClick:xt(()=>{},["stop"])},[t.title!==null&&t.title!==void 0?(I(),K("div",{key:0,ref:"headerRef",class:z([t.ns.e("header"),{"show-close":t.showClose}])},[Z("div",{class:z(t.ns.e("title"))},[t.iconComponent&&t.center?(I(),we(s,{key:0,class:z([t.ns.e("status"),t.typeClass])},{default:ne(()=>[(I(),we(Vt(t.iconComponent)))]),_:1},8,["class"])):he("v-if",!0),Z("span",null,Ne(t.title),1)],2),t.showClose?(I(),K("button",{key:0,type:"button",class:z(t.ns.e("headerbtn")),"aria-label":t.t("el.messagebox.close"),onClick:v=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),onKeydown:mn(xt(v=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"])},[J(s,{class:z(t.ns.e("close"))},{default:ne(()=>[J(o)]),_:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):he("v-if",!0)],2)):he("v-if",!0),Z("div",{id:t.contentId,class:z(t.ns.e("content"))},[Z("div",{class:z(t.ns.e("container"))},[t.iconComponent&&!t.center&&t.hasMessage?(I(),we(s,{key:0,class:z([t.ns.e("status"),t.typeClass])},{default:ne(()=>[(I(),we(Vt(t.iconComponent)))]),_:1},8,["class"])):he("v-if",!0),t.hasMessage?(I(),K("div",{key:1,class:z(t.ns.e("message"))},[oe(t.$slots,"default",{},()=>[t.dangerouslyUseHTMLString?(I(),we(Vt(t.showInput?"label":"p"),{key:1,for:t.showInput?t.inputId:void 0,innerHTML:t.message},null,8,["for","innerHTML"])):(I(),we(Vt(t.showInput?"label":"p"),{key:0,for:t.showInput?t.inputId:void 0},{default:ne(()=>[mt(Ne(t.dangerouslyUseHTMLString?"":t.message),1)]),_:1},8,["for"]))])],2)):he("v-if",!0)],2),Bt(Z("div",{class:z(t.ns.e("input"))},[J(u,{id:t.inputId,ref:"inputRef",modelValue:t.inputValue,"onUpdate:modelValue":v=>t.inputValue=v,type:t.inputType,placeholder:t.inputPlaceholder,"aria-invalid":t.validateError,class:z({invalid:t.validateError}),onKeydown:mn(t.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),Z("div",{class:z(t.ns.e("errormsg")),style:_t({visibility:t.editorErrorMessage?"visible":"hidden"})},Ne(t.editorErrorMessage),7)],2),[[sn,t.showInput]])],10,["id"]),Z("div",{class:z(t.ns.e("btns"))},[t.showCancelButton?(I(),we(c,{key:0,loading:t.cancelButtonLoading,"loading-icon":t.cancelButtonLoadingIcon,class:z([t.cancelButtonClass]),round:t.roundButton,size:t.btnSize,onClick:v=>t.handleAction("cancel"),onKeydown:mn(xt(v=>t.handleAction("cancel"),["prevent"]),["enter"])},{default:ne(()=>[mt(Ne(t.cancelButtonText||t.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):he("v-if",!0),Bt(J(c,{ref:"confirmRef",type:"primary",loading:t.confirmButtonLoading,"loading-icon":t.confirmButtonLoadingIcon,class:z([t.confirmButtonClasses]),round:t.roundButton,disabled:t.confirmButtonDisabled,size:t.btnSize,onClick:v=>t.handleAction("confirm"),onKeydown:mn(xt(v=>t.handleAction("confirm"),["prevent"]),["enter"])},{default:ne(()=>[mt(Ne(t.confirmButtonText||t.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[sn,t.showConfirmButton]])],2)],14,["onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["z-index","overlay-class","mask"]),[[sn,t.visible]])]),_:3},8,["onAfterLeave"])}var Qae=We(Xae,[["render",Zae],["__file","index.vue"]]);const ud=new Map,Jae=t=>{let e=document.body;return t.appendTo&&(Gt(t.appendTo)&&(e=document.querySelector(t.appendTo)),Hr(t.appendTo)&&(e=t.appendTo),Hr(e)||(e=document.body)),e},ese=(t,e,n=null)=>{const i=J(Qae,t,un(t.message)||ni(t.message)?{default:un(t.message)?t.message:()=>t.message}:null);return i.appContext=n,ro(i,e),Jae(t).appendChild(e.firstElementChild),i.component},tse=()=>document.createElement("div"),nse=(t,e)=>{const n=tse();t.onVanish=()=>{ro(null,n),ud.delete(r)},t.onAction=a=>{const s=ud.get(r);let o;t.showInput?o={value:r.inputValue,action:a}:o=a,t.callback?t.callback(o,i.proxy):a==="cancel"||a==="close"?t.distinguishCancelAndClose&&a!=="cancel"?s.reject("close"):s.reject("cancel"):s.resolve(o)};const i=ese(t,n,e),r=i.proxy;for(const a in t)Gi(t,a)&&!Gi(r.$props,a)&&(r[a]=t[a]);return r.visible=!0,r};function nc(t,e=null){if(!tn)return Promise.reject();let n;return Gt(t)||ni(t)?t={message:t}:n=t.callback,new Promise((i,r)=>{const a=nse(t,e??nc._context);ud.set(a,{options:t,callback:n,resolve:i,reject:r})})}const ise=["alert","confirm","prompt"],rse={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};ise.forEach(t=>{nc[t]=ase(t)});function ase(t){return(e,n,i,r)=>{let a="";return bn(n)?(i=n,a=""):zn(n)?a="":a=n,nc(Object.assign({title:a,message:e,type:"",...rse[t]},i,{boxType:t}),r)}}nc.close=()=>{ud.forEach((t,e)=>{e.doClose()}),ud.clear()};nc._context=null;const Ks=nc;Ks.install=t=>{Ks._context=t._context,t.config.globalProperties.$msgbox=Ks,t.config.globalProperties.$messageBox=Ks,t.config.globalProperties.$alert=Ks.alert,t.config.globalProperties.$confirm=Ks.confirm,t.config.globalProperties.$prompt=Ks.prompt};const sse=Ks,yA=["success","info","warning","error"],ose=Ge({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:wn},id:{type:String,default:""},message:{type:_e([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:_e(Function),default:()=>{}},onClose:{type:_e(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...yA,""],default:""},zIndex:Number}),lse={destroy:()=>!0},use=re({name:"ElNotification"}),cse=re({...use,props:ose,emits:lse,setup(t,{expose:e}){const n=t,{ns:i,zIndex:r}=sp("notification"),{nextZIndex:a,currentZIndex:s}=r,{Close:o}=M0,u=W(!1);let c;const h=L(()=>{const C=n.type;return C&&co[n.type]?i.m(C):""}),p=L(()=>n.type&&co[n.type]||n.icon),v=L(()=>n.position.endsWith("right")?"right":"left"),g=L(()=>n.position.startsWith("top")?"top":"bottom"),y=L(()=>{var C;return{[g.value]:`${n.offset}px`,zIndex:(C=n.zIndex)!=null?C:s.value}});function _(){n.duration>0&&({stop:c}=ll(()=>{u.value&&b()},n.duration))}function w(){c==null||c()}function b(){u.value=!1}function M({code:C}){C===St.delete||C===St.backspace?w():C===St.esc?u.value&&b():_()}return wt(()=>{_(),a(),u.value=!0}),yn(document,"keydown",M),e({visible:u,close:b}),(C,x)=>(I(),we(ui,{name:d(i).b("fade"),onBeforeLeave:C.onClose,onAfterLeave:T=>C.$emit("destroy"),persisted:""},{default:ne(()=>[Bt(Z("div",{id:C.id,class:z([d(i).b(),C.customClass,d(v)]),style:_t(d(y)),role:"alert",onMouseenter:w,onMouseleave:_,onClick:C.onClick},[d(p)?(I(),we(d(dt),{key:0,class:z([d(i).e("icon"),d(h)])},{default:ne(()=>[(I(),we(Vt(d(p))))]),_:1},8,["class"])):he("v-if",!0),Z("div",{class:z(d(i).e("group"))},[Z("h2",{class:z(d(i).e("title")),textContent:Ne(C.title)},null,10,["textContent"]),Bt(Z("div",{class:z(d(i).e("content")),style:_t(C.title?void 0:{margin:0})},[oe(C.$slots,"default",{},()=>[C.dangerouslyUseHTMLString?(I(),K(ut,{key:1},[he(" Caution here, message could've been compromised, never use user's input as message "),Z("p",{innerHTML:C.message},null,8,["innerHTML"])],2112)):(I(),K("p",{key:0},Ne(C.message),1))])],6),[[sn,C.message]]),C.showClose?(I(),we(d(dt),{key:0,class:z(d(i).e("closeBtn")),onClick:xt(b,["stop"])},{default:ne(()=>[J(d(o))]),_:1},8,["class","onClick"])):he("v-if",!0)],2)],46,["id","onClick"]),[[sn,u.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var dse=We(cse,[["__file","notification.vue"]]);const xh={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},bg=16;let fse=1;const Fu=function(t={},e=null){if(!tn)return{close:()=>{}};(typeof t=="string"||ni(t))&&(t={message:t});const n=t.position||"top-right";let i=t.offset||0;xh[n].forEach(({vm:h})=>{var p;i+=(((p=h.el)==null?void 0:p.offsetHeight)||0)+bg}),i+=bg;const r=`notification_${fse++}`,a=t.onClose,s={...t,offset:i,id:r,onClose:()=>{hse(r,n,a)}};let o=document.body;Hr(t.appendTo)?o=t.appendTo:Gt(t.appendTo)&&(o=document.querySelector(t.appendTo)),Hr(o)||(o=document.body);const u=document.createElement("div"),c=J(dse,s,ni(s.message)?{default:()=>s.message}:null);return c.appContext=e??Fu._context,c.props.onDestroy=()=>{ro(null,u)},ro(c,u),xh[n].push({vm:c}),o.appendChild(u.firstElementChild),{close:()=>{c.component.exposed.visible.value=!1}}};yA.forEach(t=>{Fu[t]=(e={})=>((typeof e=="string"||ni(e))&&(e={message:e}),Fu({...e,type:t}))});function hse(t,e,n){const i=xh[e],r=i.findIndex(({vm:c})=>{var h;return((h=c.component)==null?void 0:h.props.id)===t});if(r===-1)return;const{vm:a}=i[r];if(!a)return;n==null||n(a);const s=a.el.offsetHeight,o=e.split("-")[0];i.splice(r,1);const u=i.length;if(!(u<1))for(let c=r;c<u;c++){const{el:h,component:p}=i[c].vm,v=Number.parseInt(h.style[o],10)-s-bg;p.props.offset=v}}function pse(){for(const t of Object.values(xh))t.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}Fu.closeAll=pse;Fu._context=null;const mse=C2(Fu,"$notify");var vse=[Rae,Fae,Xo,sse,mse,JM],gse=v$([...xae,...vse]);const yse=t=>(yi("data-v-4ca251ea"),t=t(),_i(),t),_se=["innerHTML"],bse={class:"example"},wse={class:"example-showcase"},Sse={class:"op-btns"},Cse=["href","aria-label"],Ese=["aria-label"],xse=yse(()=>Z("span",null,Ne("隐藏源代码"),-1)),Mse=re({__name:"vp-demo",props:{source:{},path:{},rawSource:{},description:{}},setup(t){const e=t,{copy:n,isSupported:i}=K3({source:decodeURIComponent(e.rawSource),read:!1}),[r,a]=$3(),s=cD(vn(e,"path")),o=W(),u=[],c=L(()=>decodeURIComponent(e.description)),h=()=>{Xo({type:"warning",message:"开发中，敬请期待！"})},p=g=>{var y;["Enter","Space"].includes(g.code)&&(g.preventDefault(),a(!1),(y=o.value)==null||y.focus())},v=async()=>{i||Xo({type:"error",message:"暂不支持复制！"});try{await n(),Xo({type:"success",message:"复制成功"})}catch(g){Xo({type:"error",message:g.message})}};return(g,y)=>{const _=At("ClientOnly");return I(),we(_,null,{default:ne(()=>[Z("div",{text:"sm",m:"y-4",innerHTML:c.value},null,8,_se),Z("div",bse,[Z("div",wse,[oe(g.$slots,"source",{},void 0,!0)]),J(d(fy),{class:"m-0"}),Z("div",Sse,[J(d(pi),{content:"前往 codeopen.io 运行代码","show-arrow":!1,trigger:["hover","focus"],"trigger-keys":[]},{default:ne(()=>[J(d(dt),{size:16,"aria-label":1,tabindex:"0",role:"link",class:"op-btn",onClick:h,onKeydown:[mn(xt(h,["prevent"]),["enter"]),mn(xt(h,["prevent"]),["space"])]},{default:ne(()=>[J(d(SO))]),_:1},8,["onKeydown"])]),_:1}),J(d(pi),{content:"Gitee地址","show-arrow":!1,trigger:["hover","focus"],"trigger-keys":[]},{default:ne(()=>[J(d(dt),{size:16,class:"op-btn github",style:{color:"#606266"}},{default:ne(()=>[Z("a",{href:d(s),"aria-label":u["edit-on-github"],rel:"noreferrer noopener",target:"_blank"},[J(d(rO))],8,Cse)]),_:1})]),_:1}),J(d(pi),{content:"复制代码","show-arrow":!1,trigger:["hover","focus"],"trigger-keys":[]},{default:ne(()=>[J(d(dt),{size:16,"aria-label":u["copy-code"],class:"op-btn",tabindex:"0",role:"button",onClick:v,onKeydown:[mn(xt(v,["prevent"]),["enter"]),mn(xt(v,["prevent"]),["space"])]},{default:ne(()=>[J(d(pO))]),_:1},8,["aria-label","onKeydown"])]),_:1}),J(d(pi),{content:"查看代码","show-arrow":!1,trigger:["hover","focus"],"trigger-keys":[]},{default:ne(()=>[Z("button",{ref_key:"sourceCodeRef",ref:o,"aria-label":d(r)?u["hide-source"]:u["view-source"],class:"reset-btn el-icon op-btn",onClick:y[0]||(y[0]=w=>d(a)())},[J(d(dt),{size:16},{default:ne(()=>[J(d(VO))]),_:1})],8,Ese)]),_:1})]),J(d(Ad),null,{default:ne(()=>[J(pD,{visible:d(r),source:g.source},null,8,["visible","source"])]),_:1}),J(ui,{name:"el-fade-in-linear"},{default:ne(()=>[Bt(Z("div",{class:"example-float-control",tabindex:"0",role:"button",onClick:y[1]||(y[1]=w=>d(a)(!1)),onKeydown:p},[J(d(dt),{class:"op-btn",size:16},{default:ne(()=>[J(d(iE))]),_:1}),xse],544),[[sn,d(r)]])]),_:1})])]),_:3})}}}),Tse=zt(Mse,[["__scopeId","data-v-4ca251ea"]]),Ase=[["Demo",Tse]],kse=["primary","success","info","warning","danger","text"],Ise=["midium","small","mini"],Pse={type:{type:String,validator(t){return kse.includes(t)}},size:{type:String,validator(t){return Ise.includes(t)}},plain:Boolean,round:Boolean,disabled:Boolean},Rse={click:t=>t instanceof MouseEvent},Lse=re({name:"dls-button",props:Pse,emits:Rse,setup(t,e){const{emit:n}=e,i=a=>{n("click",a)};return{styleClass:L(()=>({[`k-button--${t.type}`]:t.type,"is-plain":t.plain,"is-round":t.round,"is-disabled":t.disabled,[`k-button--${t.size}`]:t.size})),handleButtonClick:i}}});function Nse(t,e,n,i,r,a){return I(),K("button",{onClick:e[0]||(e[0]=(...s)=>t.handleButtonClick&&t.handleButtonClick(...s)),class:z(["k-button",t.styleClass])},[oe(t.$slots,"default")],2)}const Ose=zt(Lse,[["render",Nse]]),Dse=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,_w=t=>{if(typeof t!="string")throw new TypeError("Invalid argument expected string");const e=t.match(Dse);if(!e)throw new Error(`Invalid argument not valid semver ('${t}' received)`);return e.shift(),e},bw=t=>t==="*"||t==="x"||t==="X",ww=t=>{const e=parseInt(t,10);return isNaN(e)?t:e},Fse=(t,e)=>typeof t!=typeof e?[String(t),String(e)]:[t,e],Bse=(t,e)=>{if(bw(t)||bw(e))return 0;const[n,i]=Fse(ww(t),ww(e));return n>i?1:n<i?-1:0},Sw=(t,e)=>{for(let n=0;n<Math.max(t.length,e.length);n++){const i=Bse(t[n]||"0",e[n]||"0");if(i!==0)return i}return 0},Use=(t,e)=>{const n=_w(t),i=_w(e),r=n.pop(),a=i.pop(),s=Sw(n,i);return s!==0?s:r&&a?Sw(r.split("."),a.split(".")):r||a?r?-1:1:0},Vse=(t,e,n)=>{zse(n);const i=Use(t,e);return _A[n].includes(i)},_A={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},Cw=Object.keys(_A),zse=t=>{if(typeof t!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof t}`);if(Cw.indexOf(t)===-1)throw new Error(`Invalid operator, expected one of ${Cw.join("|")}`)};function $se(t){const e=[];for(let n=0;n<t.length;n++){const i=[t[n],t[n+1]];e.push(i)}return e.pop(),e}function Hse(t,e){const n=Cesium.Cartesian3.fromDegrees(t[0],t[1]),i=Cesium.Cartesian3.fromDegrees(e[0],e[1]);return Cesium.Cartesian3.lerp(n,i,.5,new Cesium.Cartesian3)}function Gse(t){const e=parseInt(t.slice(1),16),n=e>>16&255,i=e>>8&255,r=e&255;return new Cesium.Color(n/255,i/255,r/255)}function Wse(t,e,n=">="){return t=t||"1.6.7",Vse(t,e,n)}function Kse(t){const e=Cesium.Ellipsoid.WGS84;return t.map(i=>{const r=e.cartesianToCartographic(i),a=Cesium.Math.toDegrees(r.longitude),s=Cesium.Math.toDegrees(r.latitude),o=r.height;return[a,s,o]})}const zy=t=>(t.install=e=>{e.component(t.name,t)},t);zy(Ose);const qse=Object.prototype.hasOwnProperty;function Yse(t,e,n){if(!t)throw new TypeError("argument dest is required");if(!e)throw new TypeError("argument src is required");return n===void 0&&(n=!0),Object.getOwnPropertyNames(e).forEach(function(r){if(!n&&qse.call(t,r))return;const a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,a)}),t}function jse(...t){let e;return typeof t[t.length-1]!="object"&&(e=t.pop()),t.slice(1).reduce((n,i,r)=>Yse(n,i,e),t[0])}function mm(t,e){const n=t.vnode.props;if(n===null)return;const i=Object.keys(n),r=_V(i,s=>s.includes(`on${nv(e)}`)||s.includes(`on${nv(K8(e))}`));return n[i[r]]}function Xse(t,e,n){const i=()=>new Promise((c,h)=>{const p=setInterval(()=>{try{Cesium&&yt(()=>{clearInterval(p),console.log("加载完毕"),c(!0)})}catch(v){h(v)}},100)}),r=async()=>{mm(n,"beforeLoad")&&e("beforeLoad",n),await i()},a=async function(){return await r(),new Promise((c,h)=>{if(!Cesium)return!1;const p=W(null),v=t.mapConfig;v!=null&&v.defaultAccessToken&&(Cesium.Ion.defaultAccessToken=v.defaultAccessToken);const g=L(()=>(v==null?void 0:v.id)||"cesiumContainer");let y=new Cesium.Viewer(g.value,{...t.viewerConfig,sceneMode:v.sceneModeNum===2?Cesium.SceneMode.SCENE2D:Cesium.SceneMode.SCENE3D});var _=y.scene.canvas;_.style.width=t.viewerWidth||"100%",_.style.height=t.viewerHeight||"100%",(v!=null&&v.defaultAccessToken||v!=null&&v.imageryProvider)&&y.imageryLayers.addImageryProvider(new Cesium.UrlTemplateImageryProvider(v==null?void 0:v.imageryProvider)),y.cesiumWidget.screenSpaceEventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),p.value=y,Wse(Cesium.VERSION,"1.83"),n.Cesium=Cesium,n.viewer=p.value,n.viewerElement=p.value._element,c(Cesium)})},s=async function(){return o().then(()=>a())},o=async function(){return new Promise((c,h)=>{n.viewer&&n.viewer.destroy(),mm(n,"destroyed")&&e("destroyed",n),c(!0)})};return wt(async()=>{try{await a(),e("cesiumReady",Cesium),mm(n,"ready")&&e("ready",n)}catch{}}),{getServices:function(){return jse({},{get vm(){return n},get Cesium(){return n.Cesium},get viewer(){return n.viewer},get dataSources(){var c;return(c=n.viewer)==null?void 0:c.dataSources},get entities(){var c;return(c=n.viewer)==null?void 0:c.entities},get imageryLayers(){var c;return(c=n.viewer)==null?void 0:c.imageryLayers},get primitives(){var c;return(c=n.viewer)==null?void 0:c.scene.primitives},get groundPrimitives(){var c;return(c=n.viewer)==null?void 0:c.scene.groundPrimitives},get postProcessStages(){var c;return(c=n.viewer)==null?void 0:c.postProcessStages}})},load:a,reload:s,unload:o}}const Zse=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Qse=Zse?Symbol("DlsMap"):"DlsMap",Jse={mapConfig:{type:Object},viewerConfig:{type:Object,default:()=>({baseLayerPicker:!1,geocoder:!1,animation:!1,shouldAnimate:!0,homeButton:!1,timeline:!1,fullscreenButton:!1,scene3DOnly:!1,sceneModePicker:!1,navigationInstructionsInitiallyVisible:!1,navigationHelpButton:!1,selectionIndicator:!1,infoBox:!1,imageryProvider:!1,sceneMode:3})},viewerWidth:{type:String,require:!1},viewerHeight:{type:String,require:!1}},eoe={cesiumReady:t=>!0,ready:t=>!0,destroyed:t=>!0},toe={name:"LoadingSpinner"},noe={class:"loading-spinner"};function ioe(t,e,n,i,r,a){return I(),K("div",noe,"Loading...")}const roe=zt(toe,[["render",ioe],["__scopeId","data-v-dedce907"]]),aoe={key:0},soe=["id"],ooe=re({name:"dls-map",__name:"dlsMap",props:Jse,emits:eoe,setup(t,{expose:e,emit:n}){const i=t,r=n,a=i.mapConfig,s=qt(),o=W(null),u=jt({isCesiumLoaded:!0,isClient:!0}),c=L(()=>(a==null?void 0:a.id)||"cesiumContainer"),h=Xse(i,r,s),p=h.getServices();return Zt(Qse,p),s.appContext.config.globalProperties.$DlsMap=s.appContext.config.globalProperties.$DlsMap||{},s.appContext.config.globalProperties.$DlsMap[c.value]=h.getServices(),wt(()=>{u.isClient=!0}),e({dataM:u,viewer:o,viewerStates:h}),(v,g)=>u.isClient?(I(),K("div",aoe,[u.isCesiumLoaded?(I(),K("div",{key:0,id:c.value,style:{position:"absolute",width:"100%",height:"100%"},class:"dlsMapContainer"},null,8,soe)):(I(),we(roe,{key:1}))])):he("",!0)}}),Lr=zy(ooe),loe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAMQElEQVR4nO2de4wV1R3Hv78zc/fum5cgD4FFngmoiNHYiFVrVCzx0cY/msaa2KTvmAYqajEWJRarEqs1afUvE9M/TGubtrZpS4uxja0FW2IQlRVZVhaWx8Ky772vOb/mzD3DjpddEdhl79zz+yQnd+7OzDm/ufPd3zlzHr+BIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIJQplIQb85fWAAyEyeARoEHQzMhrIEUEDQbZv5HZbw9m+2mO89TQBUf7zbGBRpoI0wDMAjCJgEkMXIDiD1QHYEKJSd0M9Nv9xxg4gWI6yIyjnkI2KlfZAs3XwNiqhsqN9ptjFREYDAVCnjk8zvxNgRFEttq0qskbk995NPHL3sKxoRbAPAAXA2jyCBeVlnKa/7iJBEy027M+cWzxywEArQD2AWgBMFDWv8YY4JKw0gAutWmxiqth9P32bCLMBnCt/d4MYKdN2VEvrQxxQVgLAXwu5WEJgNQ42bCEgCXKw5fA2A3gLQB7xsmW80IlC2s5gOvVMNXcOFIFKnpNLlaXbwB4p4zsGzUqUVhXArhJEaaUgS0jQgiryq8B+CKAvwF4u0xNPSsqSVjGM93lEeaWgS1nwlQQvsrANQBetQ3/xFMJwjJPeKs9wtUAl/9z+AgQuAnAGmb8B8Cfkv4kmXRhLUwruhvgiZ/h2CTgE/HKNNEyDf5lkhv4SRbWrT7RLaaPMSH9vGfCJAX6ngb+CuDPyTF7iCQKqxHAvR7xwjKwZSxRHrCaGYsAvASgJ0nGJ01Y03yF+8CYfHJ8p8IhYJGvsK6g8TyAo0m52iQJa45PuC8cu6u4mu+0TPEJ6wIOxbW/zG0NSYqwlviEbwGoccVTlUJAg09YEzBeBMLe+7ImEcIi4lVc7FZwnVoirBJhjRKFAL/wFb6vCAuSYO9YwUCL+S2SYGtSqsJsTuO5lOL7FWheGdhz3tHgfXlNP1UJmR2RpMZ7NhfQ5rTiB0BoKgN7zh+M1pymzUTJmXKTtO6GbF5js094kJI3JnhWaMb+gLE5afO4kthBOpjTeDKl8EMCV7S4GPRxXuNpRRgsA3POiKQO6QxmA34qpbCewOU032rUYNCBvOanFFFfEu1P8lhhX0HjCY+wHsW5TZUD40AAPGGuManXlPTZDb25AJt84kfsfKzEw8AhBm0iQm+Sr6US5mP1FhiPK/BjAKaXgT3nwmENekxRsgach6NSZpD25DVtVNAbCJhRBvacMQwc0VAbPZV8UaHCpiafKDA2Kk6k5zqqiR5VFC56rQgqbTFFZ4FpA7HeFM4lTwYdTGqDInQmxN7PRCWu0uksAI8Q84/N/K0ysOfT6GCiRzzgWPmaeHZU6rrCjoDpYWj9JGwMhrKDcBykfqQIHWVp3zlSyQtWOwLQw6yDJ8FltsaQ0EnKW+8RDpWBNWNCpS+xP6RZPcQ6eJqByWVgj5mwZ0T1kIfKFRUcid3QHpBapwvBMwCPs7ioS3negz5wcHztGHtciTbTzqTuD4LgWfA4rUEk6vF89UClrHQ+HS6FMTrApNYFQeEZfZ7FRUQ9vq/utzGznMC1wGv7oLy1Qb7wM2YujdJ3KvyJlRvxtUFDO+jTlwwRUbfve2ttADZncDGi3z4mtSZfGEZcRSHR0FceUk1cYzEtEVF8D8eFRkS96bRvPNXe0b6IcsfVUJEfeb6/NpPNP8fMjXFBnRST+RzaNro6qRiKC8gIy4qrKLJwk8mj/upU6gcH/72teTwucLxJhLC2/GrLWGTbPHnFirWZXPA8MzcURcRFYZ1MCLe5xJOFwjHCCkUFjsRVFBaBFPVXe/7aI9u2f2DPc241pKseKwxA3LljR3P90mXrMgV+jjXXF8WkjZgU65PbRnBFkYX6oDDmEGA9FSkmFW5ru92XVniwc9e7zcWAJdC2TKfE5aKwoqjW5qZ7fe/t2p2+eMHDGaindcD1xFpBG0FpZQQWbo8kLKUiQelw23gqXXisf39rc8lv65y4XBVWKCob7LYq2/LRHn/6zE0Zld6ogyASl1LZwRqVy9RQIV9l/+ZBqYBJafZTWZ2uHtRVNRmoUFiDNUHu2VzHYROCu8aWEV9Zo0VYlUvkrTx77VU2ImBdcLj9YGrCpBczfnqNGuif5GcH65fMmegvWzgPTTMnorEujQkN1ejuzXg9/Vlvb1tn6r29HfUfth0tFKprelKeejHo7TbDNKaPTNmEmJjYpfaWS8KiEm9lRFWNoTdPTEL3iepqz+tbeNHE+XfccAmO9Tfit28R2t8CWm0AobpUNRbMqMb8GY24a1UT8tke/7U3mic3tx43QWoDG8s9Lipd8gkXxOWax1Ixb5W2omoMRQXcqIjW3XH9IkydNhf3/JywpwNQqVPjBb5zFChsIzz6CnDL8gl4/O4rsbRt/8rfbf1gpWZ+xkZB1jYFNkXCCsbp2s8rqoxsGWvi1WCpt1pmRHXvncuRUXOx+ieEli7AG0ZUsJ3tqRqgZiKwZSdw3XpCj56Dr3/5cvP+G9PLfqnNt96WU2XLJQyfZcXhirDiokrZG20a2A1WAHfefsNiXDhtKr77AkF/hvdXpFLFPtKqOqA/A3znFwSv6gLc8YXFZvdtMWHV2PJSLonLNY+lYtVgrb3xty+aO2Xlystn40Qf0DMA6PzImTQ2BlhxxQAuX1FMKb/YXMrkgJYjwDXLZ2NJ05SVJl+bf631Wr4tXzxWhRH3WGnrSRoV0T2rP7/A9Ljj4gs1NnwlQDAA5PoBPUxrKJNR6OjwcaLTw8G2FPq7ijq5+3qNm5frMJ9br11gqsR7bPttOI9V8bjSeKeShnvUxrp0zowJmD6lDloX+zC/cZPGTZcFeOI3Pt54V2GgUGxTKftqgsGA0H20KhRdXRq4+TKNb94c4KqFGjaLMD+Tb2t7l2lrHbdC9m35yoVuB9e6G0q7Gq5aOv8C8Cenx2DuVMYL384hXwD+tVvhYCfh3daic2+oZTRNYyyZxbhivj55TkkWuGThVCOsq+2bvlKuVYWuCsu3N3vxvFkTThFWhO8B1y219eG1p+4f4bSQeTPDGTmLrYhLvVXF41JVGH8yjMQ1sb42dbIaHE0mNBg9hauDvJiolCtPhS4O6cS3a2uq/BE91rmQToWNsmqX+q7iuCYsLtkeGMjkGuprq0a9oEyuEH7YcmQ+VoXCsRQNsZg739XVm2morR79n6GzK4zueLxkSEe7IjSX+rE4NnZnRGW6QZtb23vCqnC00772btiXjOdseYFLU2dcFVbOVlPbP9h3PGy8j3Z6v8U4q/Clllkr4oJLwnKpKox7q0hYO9uO9OHQsX5MnzJ6b1Q5fHwAJl87hWbQisspr+Waxwqs98jaG97DzC9v3b5/VKvC199uM58v23cMDloh5235UhVWGJHXKlhhDdioxH9oOdjz5rZdh0dFVG+/dwR7D3S/afK1+Q9Y7+hUVeiKsLjEY+WsJzGRiU0r+/d/334AH3584pxEtWd/F7ZsazPlvWbz7RvBY0lVWEHExRW1sfqtAHYx8+ZXX2/Bf98/elaiMuf9eutes21mkO6MCStjy3NGVHCwgzTegM/GhllM2srMHVu2td32YVvXyhuumIULJ9ecNsMjnYP4x452mOrUeiojqhO2fTUwTMPdCVwSVuQp4l0O8dU05u87TJyF1vbelpfad9/YNKNh1sLZEzBzai0aalOoq0mhfzCP3oE82o70m7YUPj7cZ2JdbbVtqm6beqw3jHsrZzpH4eiQTnxBQ7TuL+oVj54YXwHwx9ZDvVeaBGC+XdbVYNtlXbbz83829dnUawUVNdjj3sqpoR0XF6xySZXEwwhrwIrEBI34Z8liCI713GdsGrTnDMYE5WSPe4SrwsIw4op3nmat56kqmU9Fwxybiz0M5EoE5VwVGOFqUJC4uLhkDWAkmGjWZ3ySHmLnRccWYkM2+REEJbMbHCK64VTS9gpiM029kifHCD3CgtQgJlQnBRXhsrAiopsfWJHpkuX4NMxkvbgnKvVMziyj/zREWEVKA3dEjLRdOmFwuG1BEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBOG8A+D8OKsbjZnDulAAAAABJRU5ErkJggg==",uoe={marstViewer:{type:Object,default:()=>({}),required:!0},rangeStyle:{type:Object,default:()=>({color:"#fecd78",opacity:.5,outlineColor:"#ff7800"}),required:!1},positionStyle:{type:Object,default:()=>({image:loe,scale:.5}),required:!1},baseMap:{type:Object,default:()=>({imageryProvider:!1,sceneModeNum:2,width:"100%",height:"100%"}),required:!1}},bA=t=>(yi("data-v-a2cefaae"),t=t(),_i(),t),coe={class:"eyeMain"},doe=bA(()=>Z("div",{id:"eyeId"},null,-1)),foe=bA(()=>Z("div",{id:"credit"},null,-1)),hoe=[doe,foe],poe=re({name:"dls-map-eye",__name:"dlsMapEye",props:uoe,setup(t,{expose:e}){const n=jt({viewer:null}),i=t,{marstViewer:r,rangeStyle:a,positionStyle:s,baseMap:o}=i;console.log(r,a,s,o);const u=L(()=>i.marstViewer);Le(u,v=>{v&&!n.viewer&&c()}),wt(()=>{});const c=()=>{if(n.viewer)return!1;n.viewer=new Cesium.Viewer("eyeId",{baseLayerPicker:!1,geocoder:!1,animation:!1,shouldAnimate:!0,homeButton:!1,timeline:!1,fullscreenButton:!1,scene3DOnly:!1,sceneModePicker:!1,navigationInstructionsInitiallyVisible:!1,navigationHelpButton:!1,selectionIndicator:!1,infoBox:!1,sceneMode:2}),n.viewer.imageryLayers.addImageryProvider(new Cesium.UrlTemplateImageryProvider(o.imageryProvider?o.imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"}));var v=n.viewer.scene.canvas;v.style.width=o.width,v.style.height=o.height;let g=n.viewer.scene.screenSpaceCameraController;g.enableRotate=!1,g.enableTranslate=!1,g.enableZoom=!1,g.enableTilt=!1,g.enableLook=!1;function y(D){let U=40487.57,P=7096758e-11,N=91610.74,$=-40467.74;return Math.round($+(U-$)/(1+Math.pow(D/N,P)))}var _=i.marstViewer.scene.camera.positionCartographic.height;let w=y(Math.ceil(_));const b=h(),M=()=>{C=n.viewer.entities.add({rectangle:{coordinates:b,material:Gse(a.color).withAlpha(a.opacity)}})};var C=null;w>5&&M();const x=new Cesium.ScreenSpaceEventHandler(i.marstViewer.scene.canvas);let T=6;x.setInputAction(function(D){T=y(Math.ceil(i.marstViewer.camera.positionCartographic.height)),!C&&T>5&&M()},Cesium.ScreenSpaceEventType.WHEEL);const k=n.viewer.entities.add({position:new Cesium.CallbackProperty(()=>n.viewer.camera.pickEllipsoid(new Cesium.Cartesian2(n.viewer.canvas.clientWidth/2,n.viewer.canvas.clientHeight/2),n.viewer.scene.globe.ellipsoid),!1),billboard:{image:s.image,scale:s.scale,horizontalOrigin:Cesium.HorizontalOrigin.CENTER,verticalOrigin:Cesium.VerticalOrigin.CENTER,rotation:new Cesium.CallbackProperty(()=>i.marstViewer.camera.heading,!1)}});let R=function(){const D=h(),U=p(D);if(C)if(T>5){let P=null;C.rectangle.coordinates=new Cesium.CallbackProperty(()=>D!==P?(P=D,D):P,!1),k.show=!0,C.show=!0}else C.show=!1,k.show=!1;n.viewer.camera.flyTo({destination:U,orientation:{heading:i.marstViewer.camera.heading,pitch:i.marstViewer.camera.pitch,roll:i.marstViewer.camera.roll},duration:0})};i.marstViewer.scene.preRender.addEventListener(R)},h=()=>{var v=i.marstViewer,g=v.scene.camera,y=g.computeViewRectangle(),_=Cesium.Math.toDegrees(y.west),w=Cesium.Math.toDegrees(y.east),b=Cesium.Math.toDegrees(y.north),M=Cesium.Math.toDegrees(y.south),C=Cesium.Rectangle.fromDegrees(_,M,w,b),_=Cesium.Math.toDegrees(y.west),w=Cesium.Math.toDegrees(y.east),b=Cesium.Math.toDegrees(y.north),M=Cesium.Math.toDegrees(y.south),C=Cesium.Rectangle.fromDegrees(_,M,w,b);return C},p=v=>{var g=Cesium.Math.toDegrees(v.west),y=Cesium.Math.toDegrees(v.east),_=Cesium.Math.toDegrees(v.north),w=Cesium.Math.toDegrees(v.south),b=1.8,M=Math.abs(y-g),C=Math.abs(_-w),x=M*(b-1)/2,T=C*(b-1)/2;return g-=x,y+=x,_+=T,w-=T,g=Math.max(g,-180),y=Math.min(y,180),_=Math.min(_,90),w=Math.max(w,-90),Cesium.Rectangle.fromDegrees(g,w,y,_)};return e({viewer:n.viewer}),(v,g)=>(I(),K("div",coe,hoe))}}),moe=zt(poe,[["__scopeId","data-v-a2cefaae"]]),voe=zy(moe),goe=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n},yoe=t=>(t.install=e=>{e.component(t.name,t)},t),_oe={mapConfig:{type:Object},viewerConfig:{type:Object},viewerWidth:{type:String,require:!1},viewerHeight:{type:String,require:!1}},boe={cesiumReady:t=>!0},woe={name:"LoadingSpinner"},Soe={class:"loading-spinner"};function Coe(t,e,n,i,r,a){return I(),K("div",Soe,"Loading...")}const Eoe=goe(woe,[["render",Coe],["__scopeId","data-v-1b657085"]]),xoe={key:0},Moe=["id"],Toe=re({name:"dls-map"}),Aoe=re({...Toe,props:_oe,emits:boe,setup(t,{expose:e,emit:n}){const i=t,r=n,a=i.mapConfig,s=W(null),o=jt({isCesiumLoaded:!1,isClient:!1}),u=L(()=>(a==null?void 0:a.id)||"cesiumContainer"),c=()=>{const p=setInterval(()=>{try{Cesium&&(o.isCesiumLoaded=!0,yt(()=>{clearInterval(p),h()}))}catch{}},100)},h=()=>{a!=null&&a.defaultAccessToken&&(Cesium.Ion.defaultAccessToken=a.defaultAccessToken);let p=new Cesium.Viewer(u.value,{baseLayerPicker:!1,geocoder:!1,animation:!1,shouldAnimate:!0,homeButton:!1,sceneMode:(a==null?void 0:a.sceneModeNum)===2?Cesium.SceneMode.SCENE2D:Cesium.SceneMode.SCENE3D,timeline:!1,fullscreenButton:!1,scene3DOnly:!1,sceneModePicker:!1,navigationInstructionsInitiallyVisible:!1,navigationHelpButton:!1,selectionIndicator:!1,infoBox:!1,imageryProvider:!1,...i.viewerConfig});var v=p.scene.canvas;v.style.width=i.viewerWidth||"100%",v.style.height=i.viewerHeight||"100%",(a!=null&&a.defaultAccessToken||a!=null&&a.imageryProvider)&&p.imageryLayers.addImageryProvider(new Cesium.UrlTemplateImageryProvider(a==null?void 0:a.imageryProvider)),p.cesiumWidget.screenSpaceEventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),s.value=p,r("cesiumReady",s.value)};return wt(()=>{o.isClient=!0,c()}),e({dataM:o,viewer:s}),(p,v)=>o.isClient?(I(),K("div",xoe,[o.isCesiumLoaded?(I(),K("div",{key:0,id:u.value,style:{position:"absolute",width:"100%",height:"100%"},class:"dlsMapContainer"},null,8,Moe)):(I(),we(Eoe,{key:1}))])):he("",!0)}}),vp=yoe(Aoe);function koe(){const t=jt({longitude:"0",latitude:"0",height:"0",altitude:"0",cameraHeading:"0",pitchDegrees:"0",zoomLevel:0});function e(i=null){if(!i)return console.error("viewer is undefined"),!1;if(i){let r=null;const a=i.camera,s=new Cesium.ScreenSpaceEventHandler(i.scene.canvas);s.setInputAction(function(o){const u=i.camera.pickEllipsoid(o.endPosition,i.scene.globe.ellipsoid);u&&(r&&clearTimeout(r),r=setTimeout(()=>{const c=Cesium.Cartographic.fromCartesian(u);t.longitude=Cesium.Math.toDegrees(c.longitude).toFixed(6),t.latitude=Cesium.Math.toDegrees(c.latitude).toFixed(6)},300))},Cesium.ScreenSpaceEventType.MOUSE_MOVE),s.setInputAction(function(o){let u=o.position;if(u)if(i.scene.mode===Cesium.SceneMode.SCENE3D){let h=i.scene.globe.pick(i.camera.getPickRay(u),i.scene);if(h){let p=Cesium.Cartographic.fromCartesian(h);t.longitude=Cesium.Math.toDegrees(p.longitude).toFixed(6),t.latitude=Cesium.Math.toDegrees(p.latitude).toFixed(6);let v=i.scene.globe.ellipsoid.cartesianToCartographic(h);v&&(t.altitude=i.scene.globe.getHeight(v).toFixed(2))}}else{let h=i.camera.pickEllipsoid(u,i.scene.globe.ellipsoid);if(h!==void 0){let p=Cesium.Cartographic.fromCartesian(h),v=Cesium.Math.toDegrees(p.longitude),g=Cesium.Math.toDegrees(p.latitude);t.longitude=v.toFixed(6),t.latitude=g.toFixed(6)}}},Cesium.ScreenSpaceEventType.LEFT_CLICK),s.setInputAction(function(o){t.height=i.camera.positionCartographic.height.toFixed(1);let u=n(Math.ceil(i.camera.positionCartographic.height));t.zoomLevel=u},Cesium.ScreenSpaceEventType.WHEEL),i.scene.camera.moveEnd.addEventListener(function(){let o=a.direction,u=Cesium.Math.toDegrees(Math.atan2(o.y,o.x));t.cameraHeading=((u+360)%360).toFixed(0);let c=a.pitch;t.pitchDegrees=Cesium.Math.toDegrees(c).toFixed(0)})}}function n(i){let r=40487.57,a=7096758e-11,s=91610.74,o=-40467.74;return Math.round(o+(r-o)/(1+Math.pow(i/s,a)))}return{listenToMouseMovement:e,coords:t}}function Ew(t,e){e[2]||(e[2]=1e6),t&&t.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(e[0],e[1],e[2])})}function Ioe(t,e,n,i){if(!t)return console.error("viewer is undefined"),!1;let r=0;var a=void 0;let s=new Cesium.CustomDataSource("measureLine");t.dataSources.add(s),document.body.style.cursor="crosshair";var o=new Cesium.ScreenSpaceEventHandler(t.scene.canvas);let u={name:e,color:n?Cesium.Color.fromBytes(...n):Cesium.Color.RED,width:i};var c=new Cesium.CustomDataSource("MyLines");t.dataSources.add(c);var h=[],p=void 0;return o.setInputAction(v=>{const g=xw(t,v.position);if(Cesium.defined(g)){if(h.length===0){h.push(g);const y=new Cesium.CallbackProperty(()=>h,!1);p=Mw(c,y,u)}h.push(g);try{if(s){let y=r+"米";s.entities.add({name:"空间直线距离",position:h[h.length-1],point:{pixelSize:5,color:Cesium.Color.RED,outlineColor:Cesium.Color.WHITE,outlineWidth:2},label:{text:y,font:"18px sans-serif",fillColor:Cesium.Color.GOLD,style:Cesium.LabelStyle.FILL_AND_OUTLINE,outlineWidth:2,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,pixelOffset:new Cesium.Cartesian2(20,-20)}})}}catch(y){console.log("errorerror",y)}}},Cesium.ScreenSpaceEventType.LEFT_CLICK),o.setInputAction(v=>{if(h.length>=2){const g=xw(t,v.endPosition);Cesium.defined(g)&&(h.pop(),h.push(g)),r=Poe(h)}},Cesium.ScreenSpaceEventType.MOUSE_MOVE),o.setInputAction(v=>{o.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE),h.pop(),c.entities.remove(p),a=Mw(c,h,u),document.body.style.cursor="default",setTimeout(()=>{h=[],o.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),o.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),o=o&&o.destroy()},500)},Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),a}function xw(t,e){let n;if(t.terrainProvider instanceof Cesium.EllipsoidTerrainProvider)n=t.scene.camera.pickEllipsoid(e);else{const i=t.camera.getPickRay(e);n=t.scene.globe.pick(i,t.scene)}return n}function Mw(t,e,n){return t.entities.add({name:n.name,polyline:{positions:e,clampToGround:!0,width:n.width,material:n.color}})}function Poe(t){let e=0;for(let n=0;n<t.length-1;n++){let i=Cesium.Cartographic.fromCartesian(t[n]),r=Cesium.Cartographic.fromCartesian(t[n+1]),a=new Cesium.EllipsoidGeodesic;a.setEndPoints(i,r);let s=a.surfaceDistance;s=Math.sqrt(Math.pow(s,2)+Math.pow(r.height-i.height,2)),e=e+s}return e.toFixed(2)}var Mh={exports:{}};Mh.exports;(function(t,e){var n=200,i="__lodash_hash_undefined__",r=9007199254740991,a="[object Arguments]",s="[object Array]",o="[object Boolean]",u="[object Date]",c="[object Error]",h="[object Function]",p="[object GeneratorFunction]",v="[object Map]",g="[object Number]",y="[object Object]",_="[object Promise]",w="[object RegExp]",b="[object Set]",M="[object String]",C="[object Symbol]",x="[object WeakMap]",T="[object ArrayBuffer]",k="[object DataView]",R="[object Float32Array]",D="[object Float64Array]",U="[object Int8Array]",P="[object Int16Array]",N="[object Int32Array]",$="[object Uint8Array]",Q="[object Uint8ClampedArray]",Y="[object Uint16Array]",H="[object Uint32Array]",B=/[\\^$.*+?()[\]{}|]/g,X=/\w*$/,q=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,V={};V[a]=V[s]=V[T]=V[k]=V[o]=V[u]=V[R]=V[D]=V[U]=V[P]=V[N]=V[v]=V[g]=V[y]=V[w]=V[b]=V[M]=V[C]=V[$]=V[Q]=V[Y]=V[H]=!0,V[c]=V[h]=V[x]=!1;var ee=typeof Mr=="object"&&Mr&&Mr.Object===Object&&Mr,ce=typeof self=="object"&&self&&self.Object===Object&&self,se=ee||ce||Function("return this")(),le=e&&!e.nodeType&&e,ye=le&&!0&&t&&!t.nodeType&&t,Ce=ye&&ye.exports===le;function pe(ge,Ze){return ge.set(Ze[0],Ze[1]),ge}function ue(ge,Ze){return ge.add(Ze),ge}function Me(ge,Ze){for(var pt=-1,Xt=ge?ge.length:0;++pt<Xt&&Ze(ge[pt],pt,ge)!==!1;);return ge}function De(ge,Ze){for(var pt=-1,Xt=Ze.length,Ei=ge.length;++pt<Xt;)ge[Ei+pt]=Ze[pt];return ge}function xe(ge,Ze,pt,Xt){for(var Ei=-1,Wi=ge?ge.length:0;++Ei<Wi;)pt=Ze(pt,ge[Ei],Ei,ge);return pt}function G(ge,Ze){for(var pt=-1,Xt=Array(ge);++pt<ge;)Xt[pt]=Ze(pt);return Xt}function He(ge,Ze){return ge==null?void 0:ge[Ze]}function Qe(ge){var Ze=!1;if(ge!=null&&typeof ge.toString!="function")try{Ze=!!(ge+"")}catch{}return Ze}function at(ge){var Ze=-1,pt=Array(ge.size);return ge.forEach(function(Xt,Ei){pt[++Ze]=[Ei,Xt]}),pt}function rt(ge,Ze){return function(pt){return ge(Ze(pt))}}function it(ge){var Ze=-1,pt=Array(ge.size);return ge.forEach(function(Xt){pt[++Ze]=Xt}),pt}var qe=Array.prototype,te=Function.prototype,ae=Object.prototype,ke=se["__core-js_shared__"],Be=function(){var ge=/[^.]+$/.exec(ke&&ke.keys&&ke.keys.IE_PROTO||"");return ge?"Symbol(src)_1."+ge:""}(),Ve=te.toString,Ae=ae.hasOwnProperty,Pe=ae.toString,Xe=RegExp("^"+Ve.call(Ae).replace(B,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vt=Ce?se.Buffer:void 0,nt=se.Symbol,Rt=se.Uint8Array,Ye=rt(Object.getPrototypeOf,Object),Et=Object.create,Te=ae.propertyIsEnumerable,ze=qe.splice,de=Object.getOwnPropertySymbols,be=vt?vt.isBuffer:void 0,Re=rt(Object.keys,Object),gt=qr(se,"DataView"),Ft=qr(se,"Map"),Ee=qr(se,"Promise"),st=qr(se,"Set"),ve=qr(se,"WeakMap"),et=qr(Object,"create"),lt=Ci(gt),bt=Ci(Ft),$t=Ci(Ee),hn=Ci(st),ft=Ci(ve),kn=nt?nt.prototype:void 0,Zn=kn?kn.valueOf:void 0;function pn(ge){var Ze=-1,pt=ge?ge.length:0;for(this.clear();++Ze<pt;){var Xt=ge[Ze];this.set(Xt[0],Xt[1])}}function Un(){this.__data__=et?et(null):{}}function ci(ge){return this.has(ge)&&delete this.__data__[ge]}function ha(ge){var Ze=this.__data__;if(et){var pt=Ze[ge];return pt===i?void 0:pt}return Ae.call(Ze,ge)?Ze[ge]:void 0}function ar(ge){var Ze=this.__data__;return et?Ze[ge]!==void 0:Ae.call(Ze,ge)}function Nr(ge,Ze){var pt=this.__data__;return pt[ge]=et&&Ze===void 0?i:Ze,this}pn.prototype.clear=Un,pn.prototype.delete=ci,pn.prototype.get=ha,pn.prototype.has=ar,pn.prototype.set=Nr;function hi(ge){var Ze=-1,pt=ge?ge.length:0;for(this.clear();++Ze<pt;){var Xt=ge[Ze];this.set(Xt[0],Xt[1])}}function tt(){this.__data__=[]}function Pt(ge){var Ze=this.__data__,pt=wi(Ze,ge);if(pt<0)return!1;var Xt=Ze.length-1;return pt==Xt?Ze.pop():ze.call(Ze,pt,1),!0}function dn(ge){var Ze=this.__data__,pt=wi(Ze,ge);return pt<0?void 0:Ze[pt][1]}function cn(ge){return wi(this.__data__,ge)>-1}function Ai(ge,Ze){var pt=this.__data__,Xt=wi(pt,ge);return Xt<0?pt.push([ge,Ze]):pt[Xt][1]=Ze,this}hi.prototype.clear=tt,hi.prototype.delete=Pt,hi.prototype.get=dn,hi.prototype.has=cn,hi.prototype.set=Ai;function ri(ge){var Ze=-1,pt=ge?ge.length:0;for(this.clear();++Ze<pt;){var Xt=ge[Ze];this.set(Xt[0],Xt[1])}}function me(){this.__data__={hash:new pn,map:new(Ft||hi),string:new pn}}function Ue(ge){return Eo(this,ge).delete(ge)}function Ke(ge){return Eo(this,ge).get(ge)}function Je(ge){return Eo(this,ge).has(ge)}function Se(ge,Ze){return Eo(this,ge).set(ge,Ze),this}ri.prototype.clear=me,ri.prototype.delete=Ue,ri.prototype.get=Ke,ri.prototype.has=Je,ri.prototype.set=Se;function $e(ge){this.__data__=new hi(ge)}function ht(){this.__data__=new hi}function Tt(ge){return this.__data__.delete(ge)}function Kt(ge){return this.__data__.get(ge)}function Qt(ge){return this.__data__.has(ge)}function an(ge,Ze){var pt=this.__data__;if(pt instanceof hi){var Xt=pt.__data__;if(!Ft||Xt.length<n-1)return Xt.push([ge,Ze]),this;pt=this.__data__=new ri(Xt)}return pt.set(ge,Ze),this}$e.prototype.clear=ht,$e.prototype.delete=Tt,$e.prototype.get=Kt,$e.prototype.has=Qt,$e.prototype.set=an;function on(ge,Ze){var pt=dc(ge)||kp(ge)?G(ge.length,String):[],Xt=pt.length,Ei=!!Xt;for(var Wi in ge)Ae.call(ge,Wi)&&!(Ei&&(Wi=="length"||Gn(Wi,Xt)))&&pt.push(Wi);return pt}function Vn(ge,Ze,pt){var Xt=ge[Ze];(!(Ae.call(ge,Ze)&&xo(Xt,pt))||pt===void 0&&!(Ze in ge))&&(ge[Ze]=pt)}function wi(ge,Ze){for(var pt=ge.length;pt--;)if(xo(ge[pt][0],Ze))return pt;return-1}function In(ge,Ze){return ge&&Co(Ze,Tl(Ze),ge)}function Si(ge,Ze,pt,Xt,Ei,Wi,Yr){var ii;if(Xt&&(ii=Wi?Xt(ge,Ei,Wi,Yr):Xt(ge)),ii!==void 0)return ii;if(!sr(ge))return ge;var To=dc(ge);if(To){if(ii=Fd(ge),!Ze)return lc(ge,ii)}else{var Os=ls(ge),or=Os==h||Os==p;if(Ip(ge))return El(ge,Ze);if(Os==y||Os==a||or&&!Wi){if(Qe(ge))return Wi?ge:{};if(ii=Tp(or?{}:ge),!Ze)return xp(ge,In(ii,ge))}else{if(!V[Os])return Wi?ge:{};ii=cc(ge,Os,Si,Ze)}}Yr||(Yr=new $e);var cs=Yr.get(ge);if(cs)return cs;if(Yr.set(ge,ii),!To)var Ud=pt?Mp(ge):Tl(ge);return Me(Ud||ge,function(Va,Ao){Ud&&(Ao=Va,Va=ge[Ao]),Vn(ii,Ao,Si(Va,Ze,pt,Xt,Ao,ge,Yr))}),ii}function Ln(ge){return sr(ge)?Et(ge):{}}function ln(ge,Ze,pt){var Xt=Ze(ge);return dc(ge)?Xt:De(Xt,pt(ge))}function os(ge){return Pe.call(ge)}function Hn(ge){if(!sr(ge)||Ap(ge))return!1;var Ze=hc(ge)||Qe(ge)?Xe:q;return Ze.test(Ci(ge))}function pa(ge){if(!xl(ge))return Re(ge);var Ze=[];for(var pt in Object(ge))Ae.call(ge,pt)&&pt!="constructor"&&Ze.push(pt);return Ze}function El(ge,Ze){if(Ze)return ge.slice();var pt=new ge.constructor(ge.length);return ge.copy(pt),pt}function Wr(ge){var Ze=new ge.constructor(ge.byteLength);return new Rt(Ze).set(new Rt(ge)),Ze}function Ns(ge,Ze){var pt=Ze?Wr(ge.buffer):ge.buffer;return new ge.constructor(pt,ge.byteOffset,ge.byteLength)}function ai(ge,Ze,pt){var Xt=Ze?pt(at(ge),!0):at(ge);return xe(Xt,pe,new ge.constructor)}function ki(ge){var Ze=new ge.constructor(ge.source,X.exec(ge));return Ze.lastIndex=ge.lastIndex,Ze}function gr(ge,Ze,pt){var Xt=Ze?pt(it(ge),!0):it(ge);return xe(Xt,ue,new ge.constructor)}function Vi(ge){return Zn?Object(Zn.call(ge)):{}}function Kr(ge,Ze){var pt=Ze?Wr(ge.buffer):ge.buffer;return new ge.constructor(pt,ge.byteOffset,ge.length)}function lc(ge,Ze){var pt=-1,Xt=ge.length;for(Ze||(Ze=Array(Xt));++pt<Xt;)Ze[pt]=ge[pt];return Ze}function Co(ge,Ze,pt,Xt){pt||(pt={});for(var Ei=-1,Wi=Ze.length;++Ei<Wi;){var Yr=Ze[Ei],ii=void 0;Vn(pt,Yr,ii===void 0?ge[Yr]:ii)}return pt}function xp(ge,Ze){return Co(ge,uc(ge),Ze)}function Mp(ge){return ln(ge,Tl,uc)}function Eo(ge,Ze){var pt=ge.__data__;return us(Ze)?pt[typeof Ze=="string"?"string":"hash"]:pt.map}function qr(ge,Ze){var pt=He(ge,Ze);return Hn(pt)?pt:void 0}var uc=de?rt(de,Object):Mo,ls=os;(gt&&ls(new gt(new ArrayBuffer(1)))!=k||Ft&&ls(new Ft)!=v||Ee&&ls(Ee.resolve())!=_||st&&ls(new st)!=b||ve&&ls(new ve)!=x)&&(ls=function(ge){var Ze=Pe.call(ge),pt=Ze==y?ge.constructor:void 0,Xt=pt?Ci(pt):void 0;if(Xt)switch(Xt){case lt:return k;case bt:return v;case $t:return _;case hn:return b;case ft:return x}return Ze});function Fd(ge){var Ze=ge.length,pt=ge.constructor(Ze);return Ze&&typeof ge[0]=="string"&&Ae.call(ge,"index")&&(pt.index=ge.index,pt.input=ge.input),pt}function Tp(ge){return typeof ge.constructor=="function"&&!xl(ge)?Ln(Ye(ge)):{}}function cc(ge,Ze,pt,Xt){var Ei=ge.constructor;switch(Ze){case T:return Wr(ge);case o:case u:return new Ei(+ge);case k:return Ns(ge,Xt);case R:case D:case U:case P:case N:case $:case Q:case Y:case H:return Kr(ge,Xt);case v:return ai(ge,Xt,pt);case g:case M:return new Ei(ge);case w:return ki(ge);case b:return gr(ge,Xt,pt);case C:return Vi(ge)}}function Gn(ge,Ze){return Ze=Ze??r,!!Ze&&(typeof ge=="number"||O.test(ge))&&ge>-1&&ge%1==0&&ge<Ze}function us(ge){var Ze=typeof ge;return Ze=="string"||Ze=="number"||Ze=="symbol"||Ze=="boolean"?ge!=="__proto__":ge===null}function Ap(ge){return!!Be&&Be in ge}function xl(ge){var Ze=ge&&ge.constructor,pt=typeof Ze=="function"&&Ze.prototype||ae;return ge===pt}function Ci(ge){if(ge!=null){try{return Ve.call(ge)}catch{}try{return ge+""}catch{}}return""}function yr(ge){return Si(ge,!0,!0)}function xo(ge,Ze){return ge===Ze||ge!==ge&&Ze!==Ze}function kp(ge){return Ml(ge)&&Ae.call(ge,"callee")&&(!Te.call(ge,"callee")||Pe.call(ge)==a)}var dc=Array.isArray;function fc(ge){return ge!=null&&Tn(ge.length)&&!hc(ge)}function Ml(ge){return pc(ge)&&fc(ge)}var Ip=be||Bd;function hc(ge){var Ze=sr(ge)?Pe.call(ge):"";return Ze==h||Ze==p}function Tn(ge){return typeof ge=="number"&&ge>-1&&ge%1==0&&ge<=r}function sr(ge){var Ze=typeof ge;return!!ge&&(Ze=="object"||Ze=="function")}function pc(ge){return!!ge&&typeof ge=="object"}function Tl(ge){return fc(ge)?on(ge):pa(ge)}function Mo(){return[]}function Bd(){return!1}t.exports=yr})(Mh,Mh.exports);var Roe=Mh.exports;const Loe=Ua(Roe);var wr=63710088e-1,wA={centimeters:wr*100,centimetres:wr*100,degrees:360/(2*Math.PI),feet:wr*3.28084,inches:wr*39.37,kilometers:wr/1e3,kilometres:wr/1e3,meters:wr,metres:wr,miles:wr/1609.344,millimeters:wr*1e3,millimetres:wr*1e3,nauticalmiles:wr/1852,radians:1,yards:wr*1.0936};function gp(t,e,n={}){const i={type:"Feature"};return(n.id===0||n.id)&&(i.id=n.id),n.bbox&&(i.bbox=n.bbox),i.properties=e||{},i.geometry=t,i}function $y(t,e,n={}){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Tw(t[0])||!Tw(t[1]))throw new Error("coordinates must contain numbers");return gp({type:"Point",coordinates:t},e,n)}function SA(t,e,n={}){for(const r of t){if(r.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(r[r.length-1].length!==r[0].length)throw new Error("First and last Position are not equivalent.");for(let a=0;a<r[r.length-1].length;a++)if(r[r.length-1][a]!==r[0][a])throw new Error("First and last Position are not equivalent.")}return gp({type:"Polygon",coordinates:t},e,n)}function Noe(t,e,n={}){if(t.length<2)throw new Error("coordinates must be an array of two or more positions");return gp({type:"LineString",coordinates:t},e,n)}function wg(t,e={}){const n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function Ooe(t,e="kilometers"){const n=wA[e];if(!n)throw new Error(e+" units is invalid");return t*n}function Doe(t,e="kilometers"){const n=wA[e];if(!n)throw new Error(e+" units is invalid");return t/n}function Foe(t){return t%(2*Math.PI)*180/Math.PI}function vm(t){return t%360*Math.PI/180}function Tw(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}function Rc(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return[...t.geometry.coordinates];if(t.type==="Point")return[...t.coordinates]}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return[...t];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Boe(t){return t.type==="Feature"?t.geometry:t}function Uoe(t,e,n={}){let i;return n.final?i=Aw(Rc(e),Rc(t)):i=Aw(Rc(t),Rc(e)),i>180?-(360-i):i}function Aw(t,e){const n=vm(t[1]),i=vm(e[1]);let r=vm(e[0]-t[0]);r>Math.PI&&(r-=2*Math.PI),r<-Math.PI&&(r+=2*Math.PI);const a=Math.log(Math.tan(i/2+Math.PI/4)/Math.tan(n/2+Math.PI/4)),s=Math.atan2(r,a);return(Foe(s)+360)%360}function CA(t,e,n){if(t!==null)for(var i,r,a,s,o,u,c,h=0,p=0,v,g=t.type,y=g==="FeatureCollection",_=g==="Feature",w=y?t.features.length:1,b=0;b<w;b++){c=y?t.features[b].geometry:_?t.geometry:t,v=c?c.type==="GeometryCollection":!1,o=v?c.geometries.length:1;for(var M=0;M<o;M++){var C=0,x=0;if(s=v?c.geometries[M]:c,s!==null){u=s.coordinates;var T=s.type;switch(h=0,T){case null:break;case"Point":if(e(u,p,b,C,x)===!1)return!1;p++,C++;break;case"LineString":case"MultiPoint":for(i=0;i<u.length;i++){if(e(u[i],p,b,C,x)===!1)return!1;p++,T==="MultiPoint"&&C++}T==="LineString"&&C++;break;case"Polygon":case"MultiLineString":for(i=0;i<u.length;i++){for(r=0;r<u[i].length-h;r++){if(e(u[i][r],p,b,C,x)===!1)return!1;p++}T==="MultiLineString"&&C++,T==="Polygon"&&x++}T==="Polygon"&&C++;break;case"MultiPolygon":for(i=0;i<u.length;i++){for(x=0,r=0;r<u[i].length;r++){for(a=0;a<u[i][r].length-h;a++){if(e(u[i][r][a],p,b,C,x)===!1)return!1;p++}x++}C++}break;case"GeometryCollection":for(i=0;i<s.geometries.length;i++)if(CA(s.geometries[i],e)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function kw(t,e){if(t.type==="Feature")e(t,0);else if(t.type==="FeatureCollection")for(var n=0;n<t.features.length&&e(t.features[n],n)!==!1;n++);}function EA(t,e){var n,i,r,a,s,o,u,c,h,p,v=0,g=t.type==="FeatureCollection",y=t.type==="Feature",_=g?t.features.length:1;for(n=0;n<_;n++){for(o=g?t.features[n].geometry:y?t.geometry:t,c=g?t.features[n].properties:y?t.properties:{},h=g?t.features[n].bbox:y?t.bbox:void 0,p=g?t.features[n].id:y?t.id:void 0,u=o?o.type==="GeometryCollection":!1,s=u?o.geometries.length:1,r=0;r<s;r++){if(a=u?o.geometries[r]:o,a===null){if(e(null,v,c,h,p)===!1)return!1;continue}switch(a.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(a,v,c,h,p)===!1)return!1;break}case"GeometryCollection":{for(i=0;i<a.geometries.length;i++)if(e(a.geometries[i],v,c,h,p)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}v++}}function Voe(t,e={}){if(t.bbox!=null&&e.recompute!==!0)return t.bbox;const n=[1/0,1/0,-1/0,-1/0];return CA(t,i=>{n[0]>i[0]&&(n[0]=i[0]),n[1]>i[1]&&(n[1]=i[1]),n[2]<i[0]&&(n[2]=i[0]),n[3]<i[1]&&(n[3]=i[1])}),n}function zoe(t,e){var n=0,i=0,r=0,a=0,s=0,o=0,u=0,c=0,h=null,p=null,v=t[0],g=t[1],y=e.length;for(n;n<y;n++){i=0;var _=e[n].length-1,w=e[n];if(h=w[0],h[0]!==w[_][0]&&h[1]!==w[_][1])throw new Error("First and last coordinates in a ring must be the same");for(s=h[0]-v,o=h[1]-g,i;i<_;i++){if(p=w[i+1],c=p[1]-g,o<0&&c<0||o>0&&c>0){h=p,o=c,s=h[0]-v;continue}if(u=p[0]-t[0],c>0&&o<=0){if(a=s*c-u*o,a>0)r=r+1;else if(a===0)return 0}else if(o>0&&c<=0){if(a=s*c-u*o,a<0)r=r+1;else if(a===0)return 0}else if(c===0&&o<0){if(a=s*c-u*o,a===0)return 0}else if(o===0&&c<0){if(a=s*c-u*o,a===0)return 0}else if(o===0&&c===0){if(u<=0&&s>=0)return 0;if(s<=0&&u>=0)return 0}h=p,o=c,s=u}}return r%2!==0}function $oe(t,e,n={}){if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");const i=Rc(t),r=Boe(e),a=r.type,s=e.bbox;let o=r.coordinates;if(s&&Hoe(i,s)===!1)return!1;a==="Polygon"&&(o=[o]);let u=!1;for(var c=0;c<o.length;++c){const h=zoe(i,o[c]);if(h===0)return!n.ignoreBoundary;h&&(u=!0)}return u}function Hoe(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}function Goe(t,e={}){const n=Voe(t),i=(n[0]+n[2])/2,r=(n[1]+n[3])/2;return $y([i,r],e.properties,e)}var xA={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Mr,function(){function n(E,l){if(!(E instanceof l))throw new TypeError("Cannot call a class as a function")}function i(E,l){for(var f=0;f<l.length;f++){var m=l[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(E,m.key,m)}}function r(E,l,f){return l&&i(E.prototype,l),f&&i(E,f),E}function a(E,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(l&&l.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),l&&o(E,l)}function s(E){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},s(E)}function o(E,l){return o=Object.setPrototypeOf||function(f,m){return f.__proto__=m,f},o(E,l)}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function c(E,l,f){return c=u()?Reflect.construct:function(m,S,A){var F=[null];F.push.apply(F,S);var j=new(Function.bind.apply(m,F));return A&&o(j,A.prototype),j},c.apply(null,arguments)}function h(E){var l=typeof Map=="function"?new Map:void 0;return h=function(f){if(f===null||(m=f,Function.toString.call(m).indexOf("[native code]")===-1))return f;var m;if(typeof f!="function")throw new TypeError("Super expression must either be null or a function");if(l!==void 0){if(l.has(f))return l.get(f);l.set(f,S)}function S(){return c(f,arguments,s(this).constructor)}return S.prototype=Object.create(f.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),o(S,f)},h(E)}function p(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function v(E,l){if(l&&(typeof l=="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(E)}function g(E){var l=u();return function(){var f,m=s(E);if(l){var S=s(this).constructor;f=Reflect.construct(m,arguments,S)}else f=m.apply(this,arguments);return v(this,f)}}function y(E,l,f){return y=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(m,S,A){var F=function(ie,fe){for(;!Object.prototype.hasOwnProperty.call(ie,fe)&&(ie=s(ie))!==null;);return ie}(m,S);if(F){var j=Object.getOwnPropertyDescriptor(F,S);return j.get?j.get.call(A):j.value}},y(E,l,f||E)}function _(E){return function(l){if(Array.isArray(l))return b(l)}(E)||function(l){if(typeof Symbol<"u"&&l[Symbol.iterator]!=null||l["@@iterator"]!=null)return Array.from(l)}(E)||w(E)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function w(E,l){if(E){if(typeof E=="string")return b(E,l);var f=Object.prototype.toString.call(E).slice(8,-1);return f==="Object"&&E.constructor&&(f=E.constructor.name),f==="Map"||f==="Set"?Array.from(E):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?b(E,l):void 0}}function b(E,l){(l==null||l>E.length)&&(l=E.length);for(var f=0,m=new Array(l);f<l;f++)m[f]=E[f];return m}function M(E,l){var f=typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(!f){if(Array.isArray(E)||(f=w(E))||l){f&&(E=f);var m=0,S=function(){};return{s:S,n:function(){return m>=E.length?{done:!0}:{done:!1,value:E[m++]}},e:function(ie){throw ie},f:S}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var A,F=!0,j=!1;return{s:function(){f=f.call(E)},n:function(){var ie=f.next();return F=ie.done,ie},e:function(ie){j=!0,A=ie},f:function(){try{F||f.return==null||f.return()}finally{if(j)throw A}}}}var C=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(l){this._quadrantSegments=l,this._quadrantSegments===0&&(this._joinStyle=E.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=E.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),l<=0&&(this._quadrantSegments=1),this._joinStyle!==E.JOIN_ROUND&&(this._quadrantSegments=E.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(l){this._joinStyle=l}},{key:"setSimplifyFactor",value:function(l){this._simplifyFactor=l<0?0:l}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(l){this._endCapStyle=l}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(l){this._mitreLimit=l}},{key:"setSingleSided",value:function(l){this._isSingleSided=l}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=E.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=E.CAP_ROUND,this._joinStyle=E.JOIN_ROUND,this._mitreLimit=E.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=E.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var l=arguments[0];this.setQuadrantSegments(l)}else if(arguments.length===2){var f=arguments[0],m=arguments[1];this.setQuadrantSegments(f),this.setEndCapStyle(m)}else if(arguments.length===4){var S=arguments[0],A=arguments[1],F=arguments[2],j=arguments[3];this.setQuadrantSegments(S),this.setEndCapStyle(A),this.setJoinStyle(F),this.setMitreLimit(j)}}}},{key:"bufferDistanceError",value:function(l){var f=Math.PI/2/l;return 1-Math.cos(f/2)}}]),E}();C.CAP_ROUND=1,C.CAP_FLAT=2,C.CAP_SQUARE=3,C.JOIN_ROUND=1,C.JOIN_MITRE=2,C.JOIN_BEVEL=3,C.DEFAULT_QUADRANT_SEGMENTS=8,C.DEFAULT_MITRE_LIMIT=5,C.DEFAULT_SIMPLIFY_FACTOR=.01;var x=function(E){a(f,E);var l=g(f);function f(m){var S;return n(this,f),(S=l.call(this,m)).name=Object.keys({Exception:f})[0],S}return r(f,[{key:"toString",value:function(){return this.message}}]),f}(h(Error)),T=function(E){a(f,E);var l=g(f);function f(m){var S;return n(this,f),(S=l.call(this,m)).name=Object.keys({IllegalArgumentException:f})[0],S}return f}(x),k=function(){function E(){n(this,E)}return r(E,[{key:"filter",value:function(l){}}]),E}();function R(){}function D(){}function U(){}var P,N,$,Q,Y,H,B,X,q=function(){function E(){n(this,E)}return r(E,null,[{key:"equalsWithTolerance",value:function(l,f,m){return Math.abs(l-f)<=m}}]),E}(),O=function(){function E(l,f){n(this,E),this.low=f||0,this.high=l||0}return r(E,null,[{key:"toBinaryString",value:function(l){var f,m="";for(f=2147483648;f>0;f>>>=1)m+=(l.high&f)===f?"1":"0";for(f=2147483648;f>0;f>>>=1)m+=(l.low&f)===f?"1":"0";return m}}]),E}();function V(){}function ee(){}V.NaN=NaN,V.isNaN=function(E){return Number.isNaN(E)},V.isInfinite=function(E){return!Number.isFinite(E)},V.MAX_VALUE=Number.MAX_VALUE,V.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,V.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,typeof Float64Array=="function"&&typeof Int32Array=="function"?(H=2146435072,B=new Float64Array(1),X=new Int32Array(B.buffer),V.doubleToLongBits=function(E){B[0]=E;var l=0|X[0],f=0|X[1];return(f&H)===H&&1048575&f&&l!==0&&(l=0,f=2146959360),new O(f,l)},V.longBitsToDouble=function(E){return X[0]=E.low,X[1]=E.high,B[0]}):(P=1023,N=Math.log2,$=Math.floor,Q=Math.pow,Y=function(){for(var E=53;E>0;E--){var l=Q(2,E)-1;if($(N(l))+1===E)return l}return 0}(),V.doubleToLongBits=function(E){var l,f,m,S,A,F,j,ie,fe;if(E<0||1/E===Number.NEGATIVE_INFINITY?(F=1<<31,E=-E):F=0,E===0)return new O(ie=F,fe=0);if(E===1/0)return new O(ie=2146435072|F,fe=0);if(E!=E)return new O(ie=2146959360,fe=0);if(S=0,fe=0,(l=$(E))>1)if(l<=Y)(S=$(N(l)))<=20?(fe=0,ie=l<<20-S&1048575):(fe=l%(f=Q(2,m=S-20))<<32-m,ie=l/f&1048575);else for(m=l,fe=0;(m=$(f=m/2))!==0;)S++,fe>>>=1,fe|=(1&ie)<<31,ie>>>=1,f!==m&&(ie|=524288);if(j=S+P,A=l===0,l=E-l,S<52&&l!==0)for(m=0;;){if((f=2*l)>=1?(l=f-1,A?(j--,A=!1):(m<<=1,m|=1,S++)):(l=f,A?--j==0&&(S++,A=!1):(m<<=1,S++)),S===20)ie|=m,m=0;else if(S===52){fe|=m;break}if(f===1){S<20?ie|=m<<20-S:S<52&&(fe|=m<<52-S);break}}return ie|=j<<20,new O(ie|=F,fe)},V.longBitsToDouble=function(E){var l,f,m,S,A=E.high,F=E.low,j=A&1<<31?-1:1;for(m=((2146435072&A)>>20)-P,S=0,f=1<<19,l=1;l<=20;l++)A&f&&(S+=Q(2,-l)),f>>>=1;for(f=1<<31,l=21;l<=52;l++)F&f&&(S+=Q(2,-l)),f>>>=1;if(m===-1023){if(S===0)return 0*j;m=-1022}else{if(m===1024)return S===0?j/0:NaN;S+=1}return j*S*Q(2,m)});var ce=function(E){a(f,E);var l=g(f);function f(m){var S;return n(this,f),(S=l.call(this,m)).name=Object.keys({RuntimeException:f})[0],S}return f}(x),se=function(E){a(f,E);var l=g(f);function f(){var m;return n(this,f),m=l.call(this),f.constructor_.apply(p(m),arguments),m}return r(f,null,[{key:"constructor_",value:function(){if(arguments.length===0)ce.constructor_.call(this);else if(arguments.length===1){var m=arguments[0];ce.constructor_.call(this,m)}}}]),f}(ce),le=function(){function E(){n(this,E)}return r(E,null,[{key:"shouldNeverReachHere",value:function(){if(arguments.length===0)E.shouldNeverReachHere(null);else if(arguments.length===1){var l=arguments[0];throw new se("Should never reach here"+(l!==null?": "+l:""))}}},{key:"isTrue",value:function(){if(arguments.length===1){var l=arguments[0];E.isTrue(l,null)}else if(arguments.length===2){var f=arguments[0],m=arguments[1];if(!f)throw m===null?new se:new se(m)}}},{key:"equals",value:function(){if(arguments.length===2){var l=arguments[0],f=arguments[1];E.equals(l,f,null)}else if(arguments.length===3){var m=arguments[0],S=arguments[1],A=arguments[2];if(!S.equals(m))throw new se("Expected "+m+" but encountered "+S+(A!==null?": "+A:""))}}}]),E}(),ye=new ArrayBuffer(8),Ce=new Float64Array(ye),pe=new Int32Array(ye),ue=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"getM",value:function(){return V.NaN}},{key:"setOrdinate",value:function(l,f){switch(l){case E.X:this.x=f;break;case E.Y:this.y=f;break;case E.Z:this.setZ(f);break;default:throw new T("Invalid ordinate index: "+l)}}},{key:"equals2D",value:function(){if(arguments.length===1){var l=arguments[0];return this.x===l.x&&this.y===l.y}if(arguments.length===2){var f=arguments[0],m=arguments[1];return!!q.equalsWithTolerance(this.x,f.x,m)&&!!q.equalsWithTolerance(this.y,f.y,m)}}},{key:"setM",value:function(l){throw new T("Invalid ordinate index: "+E.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(l){switch(l){case E.X:return this.x;case E.Y:return this.y;case E.Z:return this.getZ()}throw new T("Invalid ordinate index: "+l)}},{key:"equals3D",value:function(l){return this.x===l.x&&this.y===l.y&&(this.getZ()===l.getZ()||V.isNaN(this.getZ())&&V.isNaN(l.getZ()))}},{key:"equals",value:function(l){return l instanceof E&&this.equals2D(l)}},{key:"equalInZ",value:function(l,f){return q.equalsWithTolerance(this.getZ(),l.getZ(),f)}},{key:"setX",value:function(l){this.x=l}},{key:"compareTo",value:function(l){var f=l;return this.x<f.x?-1:this.x>f.x?1:this.y<f.y?-1:this.y>f.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(l){this.z=l}},{key:"clone",value:function(){try{return null}catch(l){if(l instanceof CloneNotSupportedException)return le.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw l}}},{key:"copy",value:function(){return new E(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(l){var f=this.x-l.x,m=this.y-l.y,S=this.getZ()-l.getZ();return Math.sqrt(f*f+m*m+S*S)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(l){this.y=l}},{key:"distance",value:function(l){var f=this.x-l.x,m=this.y-l.y;return Math.sqrt(f*f+m*m)}},{key:"hashCode",value:function(){var l=17;return l=37*(l=37*l+E.hashCode(this.x))+E.hashCode(this.y)}},{key:"setCoordinate",value:function(l){this.x=l.x,this.y=l.y,this.z=l.getZ()}},{key:"interfaces_",get:function(){return[R,D,U]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)E.constructor_.call(this,0,0);else if(arguments.length===1){var l=arguments[0];E.constructor_.call(this,l.x,l.y,l.getZ())}else if(arguments.length===2){var f=arguments[0],m=arguments[1];E.constructor_.call(this,f,m,E.NULL_ORDINATE)}else if(arguments.length===3){var S=arguments[0],A=arguments[1],F=arguments[2];this.x=S,this.y=A,this.z=F}}},{key:"hashCode",value:function(l){return Ce[0]=l,pe[0]^pe[1]}}]),E}(),Me=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"compare",value:function(l,f){var m=E.compare(l.x,f.x);if(m!==0)return m;var S=E.compare(l.y,f.y);return S!==0?S:this._dimensionsToTest<=2?0:E.compare(l.getZ(),f.getZ())}},{key:"interfaces_",get:function(){return[ee]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,arguments.length===0)E.constructor_.call(this,2);else if(arguments.length===1){var l=arguments[0];if(l!==2&&l!==3)throw new T("only 2 or 3 dimensions may be specified");this._dimensionsToTest=l}}},{key:"compare",value:function(l,f){return l<f?-1:l>f?1:V.isNaN(l)?V.isNaN(f)?0:-1:V.isNaN(f)?1:0}}]),E}();ue.DimensionalComparator=Me,ue.NULL_ORDINATE=V.NaN,ue.X=0,ue.Y=1,ue.Z=2,ue.M=3;var De=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(l){if(!(l instanceof E))return!1;var f=l;return this.isNull()?f.isNull():this._maxx===f.getMaxX()&&this._maxy===f.getMaxY()&&this._minx===f.getMinX()&&this._miny===f.getMinY()}},{key:"intersection",value:function(l){if(this.isNull()||l.isNull()||!this.intersects(l))return new E;var f=this._minx>l._minx?this._minx:l._minx,m=this._miny>l._miny?this._miny:l._miny;return new E(f,this._maxx<l._maxx?this._maxx:l._maxx,m,this._maxy<l._maxy?this._maxy:l._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(arguments.length===1){if(arguments[0]instanceof ue){var l=arguments[0];return this.covers(l.x,l.y)}if(arguments[0]instanceof E){var f=arguments[0];return!this.isNull()&&!f.isNull()&&f.getMinX()>=this._minx&&f.getMaxX()<=this._maxx&&f.getMinY()>=this._miny&&f.getMaxY()<=this._maxy}}else if(arguments.length===2){var m=arguments[0],S=arguments[1];return!this.isNull()&&m>=this._minx&&m<=this._maxx&&S>=this._miny&&S<=this._maxy}}},{key:"intersects",value:function(){if(arguments.length===1){if(arguments[0]instanceof E){var l=arguments[0];return!this.isNull()&&!l.isNull()&&!(l._minx>this._maxx||l._maxx<this._minx||l._miny>this._maxy||l._maxy<this._miny)}if(arguments[0]instanceof ue){var f=arguments[0];return this.intersects(f.x,f.y)}}else if(arguments.length===2){if(arguments[0]instanceof ue&&arguments[1]instanceof ue){var m=arguments[0],S=arguments[1];if(this.isNull())return!1;var A=m.x<S.x?m.x:S.x;if(A>this._maxx)return!1;var F=m.x>S.x?m.x:S.x;if(F<this._minx)return!1;var j=m.y<S.y?m.y:S.y;if(j>this._maxy)return!1;var ie=m.y>S.y?m.y:S.y;return!(ie<this._miny)}if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var fe=arguments[0],Ie=arguments[1];return!this.isNull()&&!(fe>this._maxx||fe<this._minx||Ie>this._maxy||Ie<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var l=this.getWidth(),f=this.getHeight();return Math.sqrt(l*l+f*f)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(arguments.length===1){if(arguments[0]instanceof ue){var l=arguments[0];this.expandToInclude(l.x,l.y)}else if(arguments[0]instanceof E){var f=arguments[0];if(f.isNull())return null;this.isNull()?(this._minx=f.getMinX(),this._maxx=f.getMaxX(),this._miny=f.getMinY(),this._maxy=f.getMaxY()):(f._minx<this._minx&&(this._minx=f._minx),f._maxx>this._maxx&&(this._maxx=f._maxx),f._miny<this._miny&&(this._miny=f._miny),f._maxy>this._maxy&&(this._maxy=f._maxy))}}else if(arguments.length===2){var m=arguments[0],S=arguments[1];this.isNull()?(this._minx=m,this._maxx=m,this._miny=S,this._maxy=S):(m<this._minx&&(this._minx=m),m>this._maxx&&(this._maxx=m),S<this._miny&&(this._miny=S),S>this._maxy&&(this._maxy=S))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var l=this.getWidth(),f=this.getHeight();return l<f?l:f}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(l){var f=l;return this.isNull()?f.isNull()?0:-1:f.isNull()?1:this._minx<f._minx?-1:this._minx>f._minx?1:this._miny<f._miny?-1:this._miny>f._miny?1:this._maxx<f._maxx?-1:this._maxx>f._maxx?1:this._maxy<f._maxy?-1:this._maxy>f._maxy?1:0}},{key:"translate",value:function(l,f){if(this.isNull())return null;this.init(this.getMinX()+l,this.getMaxX()+l,this.getMinY()+f,this.getMaxY()+f)}},{key:"copy",value:function(){return new E(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(l){return!(!this.isNull()&&!l.isNull())||l._minx>this._maxx||l._maxx<this._minx||l._miny>this._maxy||l._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var l=this.getWidth(),f=this.getHeight();return l>f?l:f}},{key:"expandBy",value:function(){if(arguments.length===1){var l=arguments[0];this.expandBy(l,l)}else if(arguments.length===2){var f=arguments[0],m=arguments[1];if(this.isNull())return null;this._minx-=f,this._maxx+=f,this._miny-=m,this._maxy+=m,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(arguments.length===1){if(arguments[0]instanceof E){var l=arguments[0];return this.covers(l)}if(arguments[0]instanceof ue){var f=arguments[0];return this.covers(f)}}else if(arguments.length===2){var m=arguments[0],S=arguments[1];return this.covers(m,S)}}},{key:"centre",value:function(){return this.isNull()?null:new ue((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof ue){var l=arguments[0];this.init(l.x,l.x,l.y,l.y)}else if(arguments[0]instanceof E){var f=arguments[0];this._minx=f._minx,this._maxx=f._maxx,this._miny=f._miny,this._maxy=f._maxy}}else if(arguments.length===2){var m=arguments[0],S=arguments[1];this.init(m.x,S.x,m.y,S.y)}else if(arguments.length===4){var A=arguments[0],F=arguments[1],j=arguments[2],ie=arguments[3];A<F?(this._minx=A,this._maxx=F):(this._minx=F,this._maxx=A),j<ie?(this._miny=j,this._maxy=ie):(this._miny=ie,this._maxy=j)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(l){if(this.intersects(l))return 0;var f=0;this._maxx<l._minx?f=l._minx-this._maxx:this._minx>l._maxx&&(f=this._minx-l._maxx);var m=0;return this._maxy<l._miny?m=l._miny-this._maxy:this._miny>l._maxy&&(m=this._miny-l._maxy),f===0?m:m===0?f:Math.sqrt(f*f+m*m)}},{key:"hashCode",value:function(){var l=17;return l=37*(l=37*(l=37*(l=37*l+ue.hashCode(this._minx))+ue.hashCode(this._maxx))+ue.hashCode(this._miny))+ue.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[R,U]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof ue){var l=arguments[0];this.init(l.x,l.x,l.y,l.y)}else if(arguments[0]instanceof E){var f=arguments[0];this.init(f)}}else if(arguments.length===2){var m=arguments[0],S=arguments[1];this.init(m.x,S.x,m.y,S.y)}else if(arguments.length===4){var A=arguments[0],F=arguments[1],j=arguments[2],ie=arguments[3];this.init(A,F,j,ie)}}},{key:"intersects",value:function(){if(arguments.length===3){var l=arguments[0],f=arguments[1],m=arguments[2];return m.x>=(l.x<f.x?l.x:f.x)&&m.x<=(l.x>f.x?l.x:f.x)&&m.y>=(l.y<f.y?l.y:f.y)&&m.y<=(l.y>f.y?l.y:f.y)}if(arguments.length===4){var S=arguments[0],A=arguments[1],F=arguments[2],j=arguments[3],ie=Math.min(F.x,j.x),fe=Math.max(F.x,j.x),Ie=Math.min(S.x,A.x),Oe=Math.max(S.x,A.x);return!(Ie>fe)&&!(Oe<ie)&&(ie=Math.min(F.y,j.y),fe=Math.max(F.y,j.y),Ie=Math.min(S.y,A.y),Oe=Math.max(S.y,A.y),!(Ie>fe)&&!(Oe<ie))}}}]),E}(),xe=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===E.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(l){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(l){return this===l||this.equalsExact(l,0)}},{key:"geometryChanged",value:function(){this.apply(E.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(l){return l!==null&&this.norm().equalsExact(l.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var l;if(arguments.length===1){var f=arguments[0];return l=f,this.getTypeCode()!==l.getTypeCode()?this.getTypeCode()-l.getTypeCode():this.isEmpty()&&l.isEmpty()?0:this.isEmpty()?-1:l.isEmpty()?1:this.compareToSameClass(f)}if(arguments.length===2){var m=arguments[0],S=arguments[1];return l=m,this.getTypeCode()!==l.getTypeCode()?this.getTypeCode()-l.getTypeCode():this.isEmpty()&&l.isEmpty()?0:this.isEmpty()?-1:l.isEmpty()?1:this.compareToSameClass(m,S)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(l){if(l.getTypeCode()===E.TYPECODE_GEOMETRYCOLLECTION)throw new T("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(l,f,m){return m===0?l.equals(f):l.distance(f)<=m}},{key:"norm",value:function(){var l=this.copy();return l.normalize(),l}},{key:"reverse",value:function(){var l=this.reverseInternal();return this.envelope!=null&&(l.envelope=this.envelope.copy()),l.setSRID(this.getSRID()),l}},{key:"copy",value:function(){var l=this.copyInternal();return l.envelope=this._envelope==null?null:this._envelope.copy(),l._SRID=this._SRID,l._userData=this._userData,l}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new De(this._envelope)}},{key:"setSRID",value:function(l){this._SRID=l}},{key:"setUserData",value:function(l){this._userData=l}},{key:"compare",value:function(l,f){for(var m=l.iterator(),S=f.iterator();m.hasNext()&&S.hasNext();){var A=m.next(),F=S.next(),j=A.compareTo(F);if(j!==0)return j}return m.hasNext()?1:S.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(l){return this.getClass()===l.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===E.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===E.TYPECODE_MULTIPOINT||this.getTypeCode()===E.TYPECODE_MULTILINESTRING||this.getTypeCode()===E.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[D,R,U]}},{key:"getClass",value:function(){return E}}],[{key:"hasNonEmptyElements",value:function(l){for(var f=0;f<l.length;f++)if(!l[f].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(l){for(var f=0;f<l.length;f++)if(l[f]===null)return!0;return!1}}]),E}();xe.constructor_=function(E){E&&(this._envelope=null,this._userData=null,this._factory=E,this._SRID=E.getSRID())},xe.TYPECODE_POINT=0,xe.TYPECODE_MULTIPOINT=1,xe.TYPECODE_LINESTRING=2,xe.TYPECODE_LINEARRING=3,xe.TYPECODE_MULTILINESTRING=4,xe.TYPECODE_POLYGON=5,xe.TYPECODE_MULTIPOLYGON=6,xe.TYPECODE_GEOMETRYCOLLECTION=7,xe.TYPENAME_POINT="Point",xe.TYPENAME_MULTIPOINT="MultiPoint",xe.TYPENAME_LINESTRING="LineString",xe.TYPENAME_LINEARRING="LinearRing",xe.TYPENAME_MULTILINESTRING="MultiLineString",xe.TYPENAME_POLYGON="Polygon",xe.TYPENAME_MULTIPOLYGON="MultiPolygon",xe.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",xe.geometryChangedFilter={get interfaces_(){return[k]},filter:function(E){E.geometryChangedAction()}};var G=function(){function E(){n(this,E)}return r(E,null,[{key:"toLocationSymbol",value:function(l){switch(l){case E.EXTERIOR:return"e";case E.BOUNDARY:return"b";case E.INTERIOR:return"i";case E.NONE:return"-"}throw new T("Unknown location value: "+l)}}]),E}();G.INTERIOR=0,G.BOUNDARY=1,G.EXTERIOR=2,G.NONE=-1;var He=function(){function E(){n(this,E)}return r(E,[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}]),E}(),Qe=function(E){a(f,E);var l=g(f);function f(m){var S;return n(this,f),(S=l.call(this,m)).name=Object.keys({NoSuchElementException:f})[0],S}return f}(x),at=function(E){a(f,E);var l=g(f);function f(m){var S;return n(this,f),(S=l.call(this,m)).name=Object.keys({UnsupportedOperationException:f})[0],S}return f}(x),rt=function(E){a(f,E);var l=g(f);function f(){return n(this,f),l.apply(this,arguments)}return r(f,[{key:"contains",value:function(){}}]),f}(He),it=function(E,l){a(m,E);var f=g(m);function m(S){var A;return n(this,m),(A=f.call(this)).map=new Map,S instanceof He&&A.addAll(S),A}return r(m,[{key:"contains",value:function(S){var A=S.hashCode?S.hashCode():S;return!!this.map.has(A)}},{key:"add",value:function(S){var A=S.hashCode?S.hashCode():S;return!this.map.has(A)&&!!this.map.set(A,S)}},{key:"addAll",value:function(S){var A,F=M(S);try{for(F.s();!(A=F.n()).done;){var j=A.value;this.add(j)}}catch(ie){F.e(ie)}finally{F.f()}return!0}},{key:"remove",value:function(){throw new at}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return this.map.size===0}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new qe(this.map)}},{key:l,value:function(){return this.map}}]),m}(rt,Symbol.iterator),qe=function(){function E(l){n(this,E),this.iterator=l.values();var f=this.iterator.next(),m=f.done,S=f.value;this.done=m,this.value=S}return r(E,[{key:"next",value:function(){if(this.done)throw new Qe;var l=this.value,f=this.iterator.next(),m=f.done,S=f.value;return this.done=m,this.value=S,l}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new at}}]),E}(),te=function(){function E(){n(this,E)}return r(E,null,[{key:"opposite",value:function(l){return l===E.LEFT?E.RIGHT:l===E.RIGHT?E.LEFT:l}}]),E}();te.ON=0,te.LEFT=1,te.RIGHT=2;var ae=function(E){a(f,E);var l=g(f);function f(m){var S;return n(this,f),(S=l.call(this,m)).name=Object.keys({EmptyStackException:f})[0],S}return f}(x),ke=function(E){a(f,E);var l=g(f);function f(m){var S;return n(this,f),(S=l.call(this,m)).name=Object.keys({IndexOutOfBoundsException:f})[0],S}return f}(x),Be=function(E){a(f,E);var l=g(f);function f(){return n(this,f),l.apply(this,arguments)}return r(f,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}]),f}(He),Ve=function(E){a(f,E);var l=g(f);function f(){var m;return n(this,f),(m=l.call(this)).array=[],m}return r(f,[{key:"add",value:function(m){return this.array.push(m),!0}},{key:"get",value:function(m){if(m<0||m>=this.size())throw new ke;return this.array[m]}},{key:"push",value:function(m){return this.array.push(m),m}},{key:"pop",value:function(){if(this.array.length===0)throw new ae;return this.array.pop()}},{key:"peek",value:function(){if(this.array.length===0)throw new ae;return this.array[this.array.length-1]}},{key:"empty",value:function(){return this.array.length===0}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(m){return this.array.indexOf(m)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}]),f}(Be);function Ae(E,l){return E.interfaces_&&E.interfaces_.indexOf(l)>-1}var Pe=function(){function E(l){n(this,E),this.str=l}return r(E,[{key:"append",value:function(l){this.str+=l}},{key:"setCharAt",value:function(l,f){this.str=this.str.substr(0,l)+f+this.str.substr(l+1)}},{key:"toString",value:function(){return this.str}}]),E}(),Xe=function(){function E(l){n(this,E),this.value=l}return r(E,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(l){return this.value<l?-1:this.value>l?1:0}}],[{key:"compare",value:function(l,f){return l<f?-1:l>f?1:0}},{key:"isNan",value:function(l){return Number.isNaN(l)}},{key:"valueOf",value:function(l){return new E(l)}}]),E}(),vt=function(){function E(){n(this,E)}return r(E,null,[{key:"isWhitespace",value:function(l){return l<=32&&l>=0||l===127}},{key:"toUpperCase",value:function(l){return l.toUpperCase()}}]),E}(),nt=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"le",value:function(l){return this._hi<l._hi||this._hi===l._hi&&this._lo<=l._lo}},{key:"extractSignificantDigits",value:function(l,f){var m=this.abs(),S=E.magnitude(m._hi),A=E.TEN.pow(S);(m=m.divide(A)).gt(E.TEN)?(m=m.divide(E.TEN),S+=1):m.lt(E.ONE)&&(m=m.multiply(E.TEN),S-=1);for(var F=S+1,j=new Pe,ie=E.MAX_PRINT_DIGITS-1,fe=0;fe<=ie;fe++){l&&fe===F&&j.append(".");var Ie=Math.trunc(m._hi);if(Ie<0)break;var Oe=!1,ot=0;Ie>9?(Oe=!0,ot="9"):ot="0"+Ie,j.append(ot),m=m.subtract(E.valueOf(Ie)).multiply(E.TEN),Oe&&m.selfAdd(E.TEN);var It=!0,Mt=E.magnitude(m._hi);if(Mt<0&&Math.abs(Mt)>=ie-fe&&(It=!1),!It)break}return f[0]=S,j.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof E){var l=arguments[0];return this.add(l.negate())}if(typeof arguments[0]=="number"){var f=arguments[0];return this.add(-f)}}},{key:"equals",value:function(){if(arguments.length===1&&arguments[0]instanceof E){var l=arguments[0];return this._hi===l._hi&&this._lo===l._lo}}},{key:"isZero",value:function(){return this._hi===0&&this._lo===0}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof E){var l=arguments[0];return this.isNaN()?this:this.selfAdd(-l._hi,-l._lo)}if(typeof arguments[0]=="number"){var f=arguments[0];return this.isNaN()?this:this.selfAdd(-f,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(l){return this.le(l)?this:l}},{key:"selfDivide",value:function(){if(arguments.length===1){if(arguments[0]instanceof E){var l=arguments[0];return this.selfDivide(l._hi,l._lo)}if(typeof arguments[0]=="number"){var f=arguments[0];return this.selfDivide(f,0)}}else if(arguments.length===2){var m=arguments[0],S=arguments[1],A=null,F=null,j=null,ie=null,fe=null,Ie=null,Oe=null,ot=null;return fe=this._hi/m,ot=(A=(Ie=E.SPLIT*fe)-(A=Ie-fe))*(j=(ot=E.SPLIT*m)-(j=ot-m))-(Oe=fe*m)+A*(ie=m-j)+(F=fe-A)*j+F*ie,ot=fe+(Ie=(this._hi-Oe-ot+this._lo-fe*S)/m),this._hi=ot,this._lo=fe-ot+Ie,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof E){var l=arguments[0],f=null,m=null,S=null,A=null,F=null,j=null,ie=null,fe=null;m=(F=this._hi/l._hi)-(f=(j=E.SPLIT*F)-(f=j-F)),fe=f*(S=(fe=E.SPLIT*l._hi)-(S=fe-l._hi))-(ie=F*l._hi)+f*(A=l._hi-S)+m*S+m*A;var Ie=fe=F+(j=(this._hi-ie-fe+this._lo-F*l._lo)/l._hi),Oe=F-fe+j;return new E(Ie,Oe)}if(typeof arguments[0]=="number"){var ot=arguments[0];return V.isNaN(ot)?E.createNaN():E.copy(this).selfDivide(ot,0)}}},{key:"ge",value:function(l){return this._hi>l._hi||this._hi===l._hi&&this._lo>=l._lo}},{key:"pow",value:function(l){if(l===0)return E.valueOf(1);var f=new E(this),m=E.valueOf(1),S=Math.abs(l);if(S>1)for(;S>0;)S%2==1&&m.selfMultiply(f),(S/=2)>0&&(f=f.sqr());else m=f;return l<0?m.reciprocal():m}},{key:"ceil",value:function(){if(this.isNaN())return E.NaN;var l=Math.ceil(this._hi),f=0;return l===this._hi&&(f=Math.ceil(this._lo)),new E(l,f)}},{key:"compareTo",value:function(l){var f=l;return this._hi<f._hi?-1:this._hi>f._hi?1:this._lo<f._lo?-1:this._lo>f._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof E){var l=arguments[0];return this.init(l),this}if(typeof arguments[0]=="number"){var f=arguments[0];return this.init(f),this}}},{key:"max",value:function(l){return this.ge(l)?this:l}},{key:"sqrt",value:function(){if(this.isZero())return E.valueOf(0);if(this.isNegative())return E.NaN;var l=1/Math.sqrt(this._hi),f=this._hi*l,m=E.valueOf(f),S=this.subtract(m.sqr())._hi*(.5*l);return m.add(S)}},{key:"selfAdd",value:function(){if(arguments.length===1){if(arguments[0]instanceof E){var l=arguments[0];return this.selfAdd(l._hi,l._lo)}if(typeof arguments[0]=="number"){var f=arguments[0],m=null,S=null,A=null,F=null,j=null,ie=null;return F=(A=this._hi+f)-(j=A-this._hi),S=(ie=(F=f-j+(this._hi-F))+this._lo)+(A-(m=A+ie)),this._hi=m+S,this._lo=S+(m-this._hi),this}}else if(arguments.length===2){var fe=arguments[0],Ie=arguments[1],Oe=null,ot=null,It=null,Mt=null,Jt=null,rn=null,fn=null;Mt=this._hi+fe,ot=this._lo+Ie,Jt=Mt-(rn=Mt-this._hi),It=ot-(fn=ot-this._lo);var Nn=(Oe=Mt+(rn=(Jt=fe-rn+(this._hi-Jt))+ot))+(rn=(It=Ie-fn+(this._lo-It))+(rn+(Mt-Oe))),si=rn+(Oe-Nn);return this._hi=Nn,this._lo=si,this}}},{key:"selfMultiply",value:function(){if(arguments.length===1){if(arguments[0]instanceof E){var l=arguments[0];return this.selfMultiply(l._hi,l._lo)}if(typeof arguments[0]=="number"){var f=arguments[0];return this.selfMultiply(f,0)}}else if(arguments.length===2){var m=arguments[0],S=arguments[1],A=null,F=null,j=null,ie=null,fe=null,Ie=null;A=(fe=E.SPLIT*this._hi)-this._hi,Ie=E.SPLIT*m,A=fe-A,F=this._hi-A,j=Ie-m;var Oe=(fe=this._hi*m)+(Ie=A*(j=Ie-j)-fe+A*(ie=m-j)+F*j+F*ie+(this._hi*S+this._lo*m)),ot=Ie+(A=fe-Oe);return this._hi=Oe,this._lo=ot,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return E.NaN;var l=Math.floor(this._hi),f=0;return l===this._hi&&(f=Math.floor(this._lo)),new E(l,f)}},{key:"negate",value:function(){return this.isNaN()?this:new E(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(l){if(l instanceof CloneNotSupportedException)return null;throw l}}},{key:"multiply",value:function(){if(arguments[0]instanceof E){var l=arguments[0];return l.isNaN()?E.createNaN():E.copy(this).selfMultiply(l)}if(typeof arguments[0]=="number"){var f=arguments[0];return V.isNaN(f)?E.createNaN():E.copy(this).selfMultiply(f,0)}}},{key:"isNaN",value:function(){return V.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var l=E.magnitude(this._hi);return l>=-3&&l<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var l=this.getSpecialNumberString();if(l!==null)return l;var f=new Array(1).fill(null),m=this.extractSignificantDigits(!0,f),S=f[0]+1,A=m;if(m.charAt(0)===".")A="0"+m;else if(S<0)A="0."+E.stringOfChar("0",-S)+m;else if(m.indexOf(".")===-1){var F=S-m.length;A=m+E.stringOfChar("0",F)+".0"}return this.isNegative()?"-"+A:A}},{key:"reciprocal",value:function(){var l,f,m,S,A=null,F=null,j=null,ie=null;l=(m=1/this._hi)-(A=(j=E.SPLIT*m)-(A=j-m)),F=(ie=E.SPLIT*this._hi)-this._hi;var fe=m+(j=(1-(S=m*this._hi)-(ie=A*(F=ie-F)-S+A*(f=this._hi-F)+l*F+l*f)-m*this._lo)/this._hi);return new E(fe,m-fe+j)}},{key:"toSciNotation",value:function(){if(this.isZero())return E.SCI_NOT_ZERO;var l=this.getSpecialNumberString();if(l!==null)return l;var f=new Array(1).fill(null),m=this.extractSignificantDigits(!1,f),S=E.SCI_NOT_EXPONENT_CHAR+f[0];if(m.charAt(0)==="0")throw new IllegalStateException("Found leading zero: "+m);var A="";m.length>1&&(A=m.substring(1));var F=m.charAt(0)+"."+A;return this.isNegative()?"-"+F+S:F+S}},{key:"abs",value:function(){return this.isNaN()?E.NaN:this.isNegative()?this.negate():new E(this)}},{key:"isPositive",value:function(){return this._hi>0||this._hi===0&&this._lo>0}},{key:"lt",value:function(l){return this._hi<l._hi||this._hi===l._hi&&this._lo<l._lo}},{key:"add",value:function(){if(arguments[0]instanceof E){var l=arguments[0];return E.copy(this).selfAdd(l)}if(typeof arguments[0]=="number"){var f=arguments[0];return E.copy(this).selfAdd(f)}}},{key:"init",value:function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var l=arguments[0];this._hi=l,this._lo=0}else if(arguments[0]instanceof E){var f=arguments[0];this._hi=f._hi,this._lo=f._lo}}else if(arguments.length===2){var m=arguments[0],S=arguments[1];this._hi=m,this._lo=S}}},{key:"gt",value:function(l){return this._hi>l._hi||this._hi===l._hi&&this._lo>l._lo}},{key:"isNegative",value:function(){return this._hi<0||this._hi===0&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?E.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[U,R,D]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var l=arguments[0];this.init(l)}else if(arguments[0]instanceof E){var f=arguments[0];this.init(f)}else if(typeof arguments[0]=="string"){var m=arguments[0];E.constructor_.call(this,E.parse(m))}}else if(arguments.length===2){var S=arguments[0],A=arguments[1];this.init(S,A)}}},{key:"determinant",value:function(){if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var l=arguments[0],f=arguments[1],m=arguments[2],S=arguments[3];return E.determinant(E.valueOf(l),E.valueOf(f),E.valueOf(m),E.valueOf(S))}if(arguments[3]instanceof E&&arguments[2]instanceof E&&arguments[0]instanceof E&&arguments[1]instanceof E){var A=arguments[0],F=arguments[1],j=arguments[2],ie=arguments[3],fe=A.multiply(ie).selfSubtract(F.multiply(j));return fe}}},{key:"sqr",value:function(l){return E.valueOf(l).selfMultiply(l)}},{key:"valueOf",value:function(){if(typeof arguments[0]=="string"){var l=arguments[0];return E.parse(l)}if(typeof arguments[0]=="number"){var f=arguments[0];return new E(f)}}},{key:"sqrt",value:function(l){return E.valueOf(l).sqrt()}},{key:"parse",value:function(l){for(var f=0,m=l.length;vt.isWhitespace(l.charAt(f));)f++;var S=!1;if(f<m){var A=l.charAt(f);A!=="-"&&A!=="+"||(f++,A==="-"&&(S=!0))}for(var F=new E,j=0,ie=0,fe=0,Ie=!1;!(f>=m);){var Oe=l.charAt(f);if(f++,vt.isDigit(Oe)){var ot=Oe-"0";F.selfMultiply(E.TEN),F.selfAdd(ot),j++}else{if(Oe!=="."){if(Oe==="e"||Oe==="E"){var It=l.substring(f);try{fe=Xe.parseInt(It)}catch(Nn){throw Nn instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+It+" in string "+l):Nn}break}throw new NumberFormatException("Unexpected character '"+Oe+"' at position "+f+" in string "+l)}ie=j,Ie=!0}}var Mt=F;Ie||(ie=j);var Jt=j-ie-fe;if(Jt===0)Mt=F;else if(Jt>0){var rn=E.TEN.pow(Jt);Mt=F.divide(rn)}else if(Jt<0){var fn=E.TEN.pow(-Jt);Mt=F.multiply(fn)}return S?Mt.negate():Mt}},{key:"createNaN",value:function(){return new E(V.NaN,V.NaN)}},{key:"copy",value:function(l){return new E(l)}},{key:"magnitude",value:function(l){var f=Math.abs(l),m=Math.log(f)/Math.log(10),S=Math.trunc(Math.floor(m));return 10*Math.pow(10,S)<=f&&(S+=1),S}},{key:"stringOfChar",value:function(l,f){for(var m=new Pe,S=0;S<f;S++)m.append(l);return m.toString()}}]),E}();nt.PI=new nt(3.141592653589793,12246467991473532e-32),nt.TWO_PI=new nt(6.283185307179586,24492935982947064e-32),nt.PI_2=new nt(1.5707963267948966,6123233995736766e-32),nt.E=new nt(2.718281828459045,14456468917292502e-32),nt.NaN=new nt(V.NaN,V.NaN),nt.EPS=123259516440783e-46,nt.SPLIT=134217729,nt.MAX_PRINT_DIGITS=32,nt.TEN=nt.valueOf(10),nt.ONE=nt.valueOf(1),nt.SCI_NOT_EXPONENT_CHAR="E",nt.SCI_NOT_ZERO="0.0E0";var Rt=function(){function E(){n(this,E)}return r(E,null,[{key:"orientationIndex",value:function(l,f,m){var S=E.orientationIndexFilter(l,f,m);if(S<=1)return S;var A=nt.valueOf(f.x).selfAdd(-l.x),F=nt.valueOf(f.y).selfAdd(-l.y),j=nt.valueOf(m.x).selfAdd(-f.x),ie=nt.valueOf(m.y).selfAdd(-f.y);return A.selfMultiply(ie).selfSubtract(F.selfMultiply(j)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof nt&&arguments[2]instanceof nt&&arguments[0]instanceof nt&&arguments[1]instanceof nt){var l=arguments[0],f=arguments[1],m=arguments[2],S=arguments[3],A=l.multiply(S).selfSubtract(f.multiply(m));return A.signum()}if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var F=arguments[0],j=arguments[1],ie=arguments[2],fe=arguments[3],Ie=nt.valueOf(F),Oe=nt.valueOf(j),ot=nt.valueOf(ie),It=nt.valueOf(fe),Mt=Ie.multiply(It).selfSubtract(Oe.multiply(ot));return Mt.signum()}}},{key:"intersection",value:function(l,f,m,S){var A=new nt(l.y).selfSubtract(f.y),F=new nt(f.x).selfSubtract(l.x),j=new nt(l.x).selfMultiply(f.y).selfSubtract(new nt(f.x).selfMultiply(l.y)),ie=new nt(m.y).selfSubtract(S.y),fe=new nt(S.x).selfSubtract(m.x),Ie=new nt(m.x).selfMultiply(S.y).selfSubtract(new nt(S.x).selfMultiply(m.y)),Oe=F.multiply(Ie).selfSubtract(fe.multiply(j)),ot=ie.multiply(j).selfSubtract(A.multiply(Ie)),It=A.multiply(fe).selfSubtract(ie.multiply(F)),Mt=Oe.selfDivide(It).doubleValue(),Jt=ot.selfDivide(It).doubleValue();return V.isNaN(Mt)||V.isInfinite(Mt)||V.isNaN(Jt)||V.isInfinite(Jt)?null:new ue(Mt,Jt)}},{key:"orientationIndexFilter",value:function(l,f,m){var S=null,A=(l.x-m.x)*(f.y-m.y),F=(l.y-m.y)*(f.x-m.x),j=A-F;if(A>0){if(F<=0)return E.signum(j);S=A+F}else{if(!(A<0)||F>=0)return E.signum(j);S=-A-F}var ie=E.DP_SAFE_EPSILON*S;return j>=ie||-j>=ie?E.signum(j):2}},{key:"signum",value:function(l){return l>0?1:l<0?-1:0}}]),E}();Rt.DP_SAFE_EPSILON=1e-15;var Ye=function(){function E(){n(this,E)}return r(E,[{key:"getM",value:function(l){if(this.hasM()){var f=this.getDimension()-this.getMeasures();return this.getOrdinate(l,f)}return V.NaN}},{key:"setOrdinate",value:function(l,f,m){}},{key:"getZ",value:function(l){return this.hasZ()?this.getOrdinate(l,2):V.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(l,f){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(l){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(l){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(l){}},{key:"copy",value:function(){}},{key:"getY",value:function(l){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[D]}}]),E}();Ye.X=0,Ye.Y=1,Ye.Z=2,Ye.M=3;var Et=function(){function E(){n(this,E)}return r(E,null,[{key:"index",value:function(l,f,m){return Rt.orientationIndex(l,f,m)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var l=arguments[0],f=l.length-1;if(f<3)throw new T("Ring has fewer than 4 points, so orientation cannot be determined");for(var m=l[0],S=0,A=1;A<=f;A++){var F=l[A];F.y>m.y&&(m=F,S=A)}var j=S;do(j-=1)<0&&(j=f);while(l[j].equals2D(m)&&j!==S);var ie=S;do ie=(ie+1)%f;while(l[ie].equals2D(m)&&ie!==S);var fe=l[j],Ie=l[ie];if(fe.equals2D(m)||Ie.equals2D(m)||fe.equals2D(Ie))return!1;var Oe=E.index(fe,m,Ie),ot=null;return ot=Oe===0?fe.x>Ie.x:Oe>0,ot}if(Ae(arguments[0],Ye)){var It=arguments[0],Mt=It.size()-1;if(Mt<3)throw new T("Ring has fewer than 4 points, so orientation cannot be determined");for(var Jt=It.getCoordinate(0),rn=0,fn=1;fn<=Mt;fn++){var Nn=It.getCoordinate(fn);Nn.y>Jt.y&&(Jt=Nn,rn=fn)}var si=null,Ki=rn;do(Ki-=1)<0&&(Ki=Mt),si=It.getCoordinate(Ki);while(si.equals2D(Jt)&&Ki!==rn);var Fr=null,va=rn;do va=(va+1)%Mt,Fr=It.getCoordinate(va);while(Fr.equals2D(Jt)&&va!==rn);if(si.equals2D(Jt)||Fr.equals2D(Jt)||si.equals2D(Fr))return!1;var ds=E.index(si,Jt,Fr);return ds===0?si.x>Fr.x:ds>0}}}]),E}();Et.CLOCKWISE=-1,Et.RIGHT=Et.CLOCKWISE,Et.COUNTERCLOCKWISE=1,Et.LEFT=Et.COUNTERCLOCKWISE,Et.COLLINEAR=0,Et.STRAIGHT=Et.COLLINEAR;var Te=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(l,f){var m=this.getRightmostSideOfSegment(l,f);return m<0&&(m=this.getRightmostSideOfSegment(l,f-1)),m<0&&(this._minCoord=null,this.checkForRightmostCoordinate(l)),m}},{key:"findRightmostEdgeAtVertex",value:function(){var l=this._minDe.getEdge().getCoordinates();le.isTrue(this._minIndex>0&&this._minIndex<l.length,"rightmost point expected to be interior vertex of edge");var f=l[this._minIndex-1],m=l[this._minIndex+1],S=Et.index(this._minCoord,m,f),A=!1;(f.y<this._minCoord.y&&m.y<this._minCoord.y&&S===Et.COUNTERCLOCKWISE||f.y>this._minCoord.y&&m.y>this._minCoord.y&&S===Et.CLOCKWISE)&&(A=!0),A&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(l,f){var m=l.getEdge().getCoordinates();if(f<0||f+1>=m.length||m[f].y===m[f+1].y)return-1;var S=te.LEFT;return m[f].y<m[f+1].y&&(S=te.RIGHT),S}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(l){for(var f=l.getEdge().getCoordinates(),m=0;m<f.length-1;m++)(this._minCoord===null||f[m].x>this._minCoord.x)&&(this._minDe=l,this._minIndex=m,this._minCoord=f[m])}},{key:"findRightmostEdgeAtNode",value:function(){var l=this._minDe.getNode().getEdges();this._minDe=l.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(l){for(var f=l.iterator();f.hasNext();){var m=f.next();m.isForward()&&this.checkForRightmostCoordinate(m)}le.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===te.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}]),E}(),ze=function(E){a(f,E);var l=g(f);function f(m,S){var A;return n(this,f),(A=l.call(this,S?m+" [ "+S+" ]":m)).pt=S?new ue(S):void 0,A.name=Object.keys({TopologyException:f})[0],A}return r(f,[{key:"getCoordinate",value:function(){return this.pt}}]),f}(ce),de=function(){function E(){n(this,E),this.array=[]}return r(E,[{key:"addLast",value:function(l){this.array.push(l)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return this.array.length===0}}]),E}(),be=function(E,l){a(m,E);var f=g(m);function m(S){var A;return n(this,m),(A=f.call(this)).array=[],S instanceof He&&A.addAll(S),A}return r(m,[{key:"interfaces_",get:function(){return[Be,He]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(S){return arguments.length===1?this.array.push(S):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(S){var A,F=M(S);try{for(F.s();!(A=F.n()).done;){var j=A.value;this.array.push(j)}}catch(ie){F.e(ie)}finally{F.f()}}},{key:"set",value:function(S,A){var F=this.array[S];return this.array[S]=A,F}},{key:"iterator",value:function(){return new Re(this)}},{key:"get",value:function(S){if(S<0||S>=this.size())throw new ke;return this.array[S]}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"sort",value:function(S){S?this.array.sort(function(A,F){return S.compare(A,F)}):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(S){for(var A=0,F=this.array.length;A<F;A++)if(this.array[A]===S)return!!this.array.splice(A,1);return!1}},{key:l,value:function(){return this.array.values()}}]),m}(Be,Symbol.iterator),Re=function(){function E(l){n(this,E),this.arrayList=l,this.position=0}return r(E,[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new Qe;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(l){return this.arrayList.set(this.position-1,l)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}]),E}(),gt=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"clearVisitedEdges",value:function(){for(var l=this._dirEdgeList.iterator();l.hasNext();)l.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(l){for(var f=null,m=l.getEdges().iterator();m.hasNext();){var S=m.next();if(S.isVisited()||S.getSym().isVisited()){f=S;break}}if(f===null)throw new ze("unable to find edge to compute depths at "+l.getCoordinate());l.getEdges().computeDepths(f);for(var A=l.getEdges().iterator();A.hasNext();){var F=A.next();F.setVisited(!0),this.copySymDepths(F)}}},{key:"computeDepth",value:function(l){this.clearVisitedEdges();var f=this._finder.getEdge();f.getNode(),f.getLabel(),f.setEdgeDepths(te.RIGHT,l),this.copySymDepths(f),this.computeDepths(f)}},{key:"create",value:function(l){this.addReachable(l),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var l=this._dirEdgeList.iterator();l.hasNext();){var f=l.next();f.getDepth(te.RIGHT)>=1&&f.getDepth(te.LEFT)<=0&&!f.isInteriorAreaEdge()&&f.setInResult(!0)}}},{key:"computeDepths",value:function(l){var f=new it,m=new de,S=l.getNode();for(m.addLast(S),f.add(S),l.setVisited(!0);!m.isEmpty();){var A=m.removeFirst();f.add(A),this.computeNodeDepth(A);for(var F=A.getEdges().iterator();F.hasNext();){var j=F.next().getSym();if(!j.isVisited()){var ie=j.getNode();f.contains(ie)||(m.addLast(ie),f.add(ie))}}}}},{key:"compareTo",value:function(l){var f=l;return this._rightMostCoord.x<f._rightMostCoord.x?-1:this._rightMostCoord.x>f._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(this._env===null){for(var l=new De,f=this._dirEdgeList.iterator();f.hasNext();)for(var m=f.next().getEdge().getCoordinates(),S=0;S<m.length-1;S++)l.expandToInclude(m[S]);this._env=l}return this._env}},{key:"addReachable",value:function(l){var f=new Ve;for(f.add(l);!f.empty();){var m=f.pop();this.add(m,f)}}},{key:"copySymDepths",value:function(l){var f=l.getSym();f.setDepth(te.LEFT,l.getDepth(te.RIGHT)),f.setDepth(te.RIGHT,l.getDepth(te.LEFT))}},{key:"add",value:function(l,f){l.setVisited(!0),this._nodes.add(l);for(var m=l.getEdges().iterator();m.hasNext();){var S=m.next();this._dirEdgeList.add(S);var A=S.getSym().getNode();A.isVisited()||f.push(A)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[R]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new be,this._nodes=new be,this._rightMostCoord=null,this._env=null,this._finder=new Te}}]),E}(),Ft=function(){function E(){n(this,E)}return r(E,null,[{key:"intersection",value:function(l,f,m,S){var A=l.x<f.x?l.x:f.x,F=l.y<f.y?l.y:f.y,j=l.x>f.x?l.x:f.x,ie=l.y>f.y?l.y:f.y,fe=m.x<S.x?m.x:S.x,Ie=m.y<S.y?m.y:S.y,Oe=m.x>S.x?m.x:S.x,ot=m.y>S.y?m.y:S.y,It=((A>fe?A:fe)+(j<Oe?j:Oe))/2,Mt=((F>Ie?F:Ie)+(ie<ot?ie:ot))/2,Jt=l.x-It,rn=l.y-Mt,fn=f.x-It,Nn=f.y-Mt,si=m.x-It,Ki=m.y-Mt,Fr=S.x-It,va=S.y-Mt,ds=rn-Nn,Io=fn-Jt,vc=Jt*Nn-fn*rn,gc=Ki-va,Il=Fr-si,w_=si*va-Fr*Ki,S_=ds*Il-gc*Io,Op=(Io*w_-Il*vc)/S_,Dp=(gc*vc-ds*w_)/S_;return V.isNaN(Op)||V.isInfinite(Op)||V.isNaN(Dp)||V.isInfinite(Dp)?null:new ue(Op+It,Dp+Mt)}}]),E}(),Ee=function(){function E(){n(this,E)}return r(E,null,[{key:"arraycopy",value:function(l,f,m,S,A){for(var F=0,j=f;j<f+A;j++)m[S+F]=l[j],F++}},{key:"getProperty",value:function(l){return{"line.separator":`
`}[l]}}]),E}(),st=function(){function E(){n(this,E)}return r(E,null,[{key:"log10",value:function(l){var f=Math.log(l);return V.isInfinite(f)||V.isNaN(f)?f:f/E.LOG_10}},{key:"min",value:function(l,f,m,S){var A=l;return f<A&&(A=f),m<A&&(A=m),S<A&&(A=S),A}},{key:"clamp",value:function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var l=arguments[0],f=arguments[1],m=arguments[2];return l<f?f:l>m?m:l}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var S=arguments[0],A=arguments[1],F=arguments[2];return S<A?A:S>F?F:S}}},{key:"wrap",value:function(l,f){return l<0?f- -l%f:l%f}},{key:"max",value:function(){if(arguments.length===3){var l=arguments[0],f=arguments[1],m=arguments[2],S=l;return f>S&&(S=f),m>S&&(S=m),S}if(arguments.length===4){var A=arguments[0],F=arguments[1],j=arguments[2],ie=arguments[3],fe=A;return F>fe&&(fe=F),j>fe&&(fe=j),ie>fe&&(fe=ie),fe}}},{key:"average",value:function(l,f){return(l+f)/2}}]),E}();st.LOG_10=Math.log(10);var ve=function(){function E(){n(this,E)}return r(E,null,[{key:"segmentToSegment",value:function(l,f,m,S){if(l.equals(f))return E.pointToSegment(l,m,S);if(m.equals(S))return E.pointToSegment(S,l,f);var A=!1;if(De.intersects(l,f,m,S)){var F=(f.x-l.x)*(S.y-m.y)-(f.y-l.y)*(S.x-m.x);if(F===0)A=!0;else{var j=(l.y-m.y)*(S.x-m.x)-(l.x-m.x)*(S.y-m.y),ie=((l.y-m.y)*(f.x-l.x)-(l.x-m.x)*(f.y-l.y))/F,fe=j/F;(fe<0||fe>1||ie<0||ie>1)&&(A=!0)}}else A=!0;return A?st.min(E.pointToSegment(l,m,S),E.pointToSegment(f,m,S),E.pointToSegment(m,l,f),E.pointToSegment(S,l,f)):0}},{key:"pointToSegment",value:function(l,f,m){if(f.x===m.x&&f.y===m.y)return l.distance(f);var S=(m.x-f.x)*(m.x-f.x)+(m.y-f.y)*(m.y-f.y),A=((l.x-f.x)*(m.x-f.x)+(l.y-f.y)*(m.y-f.y))/S;if(A<=0)return l.distance(f);if(A>=1)return l.distance(m);var F=((f.y-l.y)*(m.x-f.x)-(f.x-l.x)*(m.y-f.y))/S;return Math.abs(F)*Math.sqrt(S)}},{key:"pointToLinePerpendicular",value:function(l,f,m){var S=(m.x-f.x)*(m.x-f.x)+(m.y-f.y)*(m.y-f.y),A=((f.y-l.y)*(m.x-f.x)-(f.x-l.x)*(m.y-f.y))/S;return Math.abs(A)*Math.sqrt(S)}},{key:"pointToSegmentString",value:function(l,f){if(f.length===0)throw new T("Line array must contain at least one vertex");for(var m=l.distance(f[0]),S=0;S<f.length-1;S++){var A=E.pointToSegment(l,f[S],f[S+1]);A<m&&(m=A)}return m}}]),E}(),et=function(){function E(){n(this,E)}return r(E,[{key:"create",value:function(){if(arguments.length===1)arguments[0]instanceof Array||Ae(arguments[0],Ye);else if(arguments.length!==2){if(arguments.length===3){var l=arguments[0],f=arguments[1];return this.create(l,f)}}}}]),E}(),lt=function(){function E(){n(this,E)}return r(E,[{key:"filter",value:function(l){}}]),E}(),bt=function(){function E(){n(this,E)}return r(E,null,[{key:"ofLine",value:function(l){var f=l.size();if(f<=1)return 0;var m=0,S=new ue;l.getCoordinate(0,S);for(var A=S.x,F=S.y,j=1;j<f;j++){l.getCoordinate(j,S);var ie=S.x,fe=S.y,Ie=ie-A,Oe=fe-F;m+=Math.sqrt(Ie*Ie+Oe*Oe),A=ie,F=fe}return m}}]),E}(),$t=function E(){n(this,E)},hn=function(){function E(){n(this,E)}return r(E,null,[{key:"copyCoord",value:function(l,f,m,S){for(var A=Math.min(l.getDimension(),m.getDimension()),F=0;F<A;F++)m.setOrdinate(S,F,l.getOrdinate(f,F))}},{key:"isRing",value:function(l){var f=l.size();return f===0||!(f<=3)&&l.getOrdinate(0,Ye.X)===l.getOrdinate(f-1,Ye.X)&&l.getOrdinate(0,Ye.Y)===l.getOrdinate(f-1,Ye.Y)}},{key:"scroll",value:function(){if(arguments.length===2){if(Ae(arguments[0],Ye)&&Number.isInteger(arguments[1])){var l=arguments[0],f=arguments[1];E.scroll(l,f,E.isRing(l))}else if(Ae(arguments[0],Ye)&&arguments[1]instanceof ue){var m=arguments[0],S=arguments[1],A=E.indexOf(S,m);if(A<=0)return null;E.scroll(m,A)}}else if(arguments.length===3){var F=arguments[0],j=arguments[1],ie=arguments[2],fe=j;if(fe<=0)return null;for(var Ie=F.copy(),Oe=ie?F.size()-1:F.size(),ot=0;ot<Oe;ot++)for(var It=0;It<F.getDimension();It++)F.setOrdinate(ot,It,Ie.getOrdinate((j+ot)%Oe,It));if(ie)for(var Mt=0;Mt<F.getDimension();Mt++)F.setOrdinate(Oe,Mt,F.getOrdinate(0,Mt))}}},{key:"isEqual",value:function(l,f){var m=l.size();if(m!==f.size())return!1;for(var S=Math.min(l.getDimension(),f.getDimension()),A=0;A<m;A++)for(var F=0;F<S;F++){var j=l.getOrdinate(A,F),ie=f.getOrdinate(A,F);if(l.getOrdinate(A,F)!==f.getOrdinate(A,F)&&(!V.isNaN(j)||!V.isNaN(ie)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(arguments.length===1){var l=arguments[0];return E.minCoordinateIndex(l,0,l.size()-1)}if(arguments.length===3){for(var f=arguments[0],m=arguments[1],S=arguments[2],A=-1,F=null,j=m;j<=S;j++){var ie=f.getCoordinate(j);(F===null||F.compareTo(ie)>0)&&(F=ie,A=j)}return A}}},{key:"extend",value:function(l,f,m){var S=l.create(m,f.getDimension()),A=f.size();if(E.copy(f,0,S,0,A),A>0)for(var F=A;F<m;F++)E.copy(f,A-1,S,F,1);return S}},{key:"reverse",value:function(l){for(var f=l.size()-1,m=Math.trunc(f/2),S=0;S<=m;S++)E.swap(l,S,f-S)}},{key:"swap",value:function(l,f,m){if(f===m)return null;for(var S=0;S<l.getDimension();S++){var A=l.getOrdinate(f,S);l.setOrdinate(f,S,l.getOrdinate(m,S)),l.setOrdinate(m,S,A)}}},{key:"copy",value:function(l,f,m,S,A){for(var F=0;F<A;F++)E.copyCoord(l,f+F,m,S+F)}},{key:"ensureValidRing",value:function(l,f){var m=f.size();return m===0?f:m<=3?E.createClosedRing(l,f,4):f.getOrdinate(0,Ye.X)===f.getOrdinate(m-1,Ye.X)&&f.getOrdinate(0,Ye.Y)===f.getOrdinate(m-1,Ye.Y)?f:E.createClosedRing(l,f,m+1)}},{key:"indexOf",value:function(l,f){for(var m=0;m<f.size();m++)if(l.x===f.getOrdinate(m,Ye.X)&&l.y===f.getOrdinate(m,Ye.Y))return m;return-1}},{key:"createClosedRing",value:function(l,f,m){var S=l.create(m,f.getDimension()),A=f.size();E.copy(f,0,S,0,A);for(var F=A;F<m;F++)E.copy(f,0,S,F,1);return S}},{key:"minCoordinate",value:function(l){for(var f=null,m=0;m<l.size();m++){var S=l.getCoordinate(m);(f===null||f.compareTo(S)>0)&&(f=S)}return f}}]),E}(),ft=function(){function E(){n(this,E)}return r(E,null,[{key:"toDimensionSymbol",value:function(l){switch(l){case E.FALSE:return E.SYM_FALSE;case E.TRUE:return E.SYM_TRUE;case E.DONTCARE:return E.SYM_DONTCARE;case E.P:return E.SYM_P;case E.L:return E.SYM_L;case E.A:return E.SYM_A}throw new T("Unknown dimension value: "+l)}},{key:"toDimensionValue",value:function(l){switch(vt.toUpperCase(l)){case E.SYM_FALSE:return E.FALSE;case E.SYM_TRUE:return E.TRUE;case E.SYM_DONTCARE:return E.DONTCARE;case E.SYM_P:return E.P;case E.SYM_L:return E.L;case E.SYM_A:return E.A}throw new T("Unknown dimension symbol: "+l)}}]),E}();ft.P=0,ft.L=1,ft.A=2,ft.FALSE=-1,ft.TRUE=-2,ft.DONTCARE=-3,ft.SYM_FALSE="F",ft.SYM_TRUE="T",ft.SYM_DONTCARE="*",ft.SYM_P="0",ft.SYM_L="1",ft.SYM_A="2";var kn=function(){function E(){n(this,E)}return r(E,[{key:"filter",value:function(l){}}]),E}(),Zn=function(){function E(){n(this,E)}return r(E,[{key:"filter",value:function(l,f){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}]),E}(),pn=function(E){a(f,E);var l=g(f);function f(){var m;return n(this,f),m=l.call(this),f.constructor_.apply(p(m),arguments),m}return r(f,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new De:this._points.expandEnvelope(new De)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new f(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof xe){var m=arguments[0],S=arguments[1];if(!this.isEquivalentClass(m))return!1;var A=m;if(this._points.size()!==A._points.size())return!1;for(var F=0;F<this._points.size();F++)if(!this.equal(this._points.getCoordinate(F),A._points.getCoordinate(F),S))return!1;return!0}return y(s(f.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){for(var m=0;m<Math.trunc(this._points.size()/2);m++){var S=this._points.size()-1-m;if(!this._points.getCoordinate(m).equals(this._points.getCoordinate(S))){if(this._points.getCoordinate(m).compareTo(this._points.getCoordinate(S))>0){var A=this._points.copy();hn.reverse(A),this._points=A}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?ft.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var m=this._points.copy();return hn.reverse(m),this.getFactory().createLineString(m)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return xe.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return bt.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(arguments.length===1){for(var m=arguments[0],S=m,A=0,F=0;A<this._points.size()&&F<S._points.size();){var j=this._points.getCoordinate(A).compareTo(S._points.getCoordinate(F));if(j!==0)return j;A++,F++}return A<this._points.size()?1:F<S._points.size()?-1:0}if(arguments.length===2){var ie=arguments[0],fe=arguments[1],Ie=ie;return fe.compare(this._points,Ie._points)}}},{key:"apply",value:function(){if(Ae(arguments[0],lt))for(var m=arguments[0],S=0;S<this._points.size();S++)m.filter(this._points.getCoordinate(S));else if(Ae(arguments[0],Zn)){var A=arguments[0];if(this._points.size()===0)return null;for(var F=0;F<this._points.size()&&(A.filter(this._points,F),!A.isDone());F++);A.isGeometryChanged()&&this.geometryChanged()}else if(Ae(arguments[0],kn)){var j=arguments[0];j.filter(this)}else if(Ae(arguments[0],k)){var ie=arguments[0];ie.filter(this)}}},{key:"getBoundary",value:function(){throw new at}},{key:"isEquivalentClass",value:function(m){return m instanceof f}},{key:"getCoordinateN",value:function(m){return this._points.getCoordinate(m)}},{key:"getGeometryType",value:function(){return xe.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return this._points.size()===0}},{key:"init",value:function(m){if(m===null&&(m=this.getFactory().getCoordinateSequenceFactory().create([])),m.size()===1)throw new T("Invalid number of points in LineString (found "+m.size()+" - must be 0 or >= 2)");this._points=m}},{key:"isCoordinate",value:function(m){for(var S=0;S<this._points.size();S++)if(this._points.getCoordinate(S).equals(m))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(m){return this.getFactory().createPoint(this._points.getCoordinate(m))}},{key:"interfaces_",get:function(){return[$t]}}],[{key:"constructor_",value:function(){if(this._points=null,arguments.length!==0){if(arguments.length===2){var m=arguments[0],S=arguments[1];xe.constructor_.call(this,S),this.init(m)}}}}]),f}(xe),Un=function E(){n(this,E)},ci=function(E){a(f,E);var l=g(f);function f(){var m;return n(this,f),m=l.call(this),f.constructor_.apply(p(m),arguments),m}return r(f,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new De;var m=new De;return m.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),m}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new f(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof xe){var m=arguments[0],S=arguments[1];return!!this.isEquivalentClass(m)&&(!(!this.isEmpty()||!m.isEmpty())||this.isEmpty()===m.isEmpty()&&this.equal(m.getCoordinate(),this.getCoordinate(),S))}return y(s(f.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return ft.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return xe.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var m=arguments[0],S=m;return this.getCoordinate().compareTo(S.getCoordinate())}if(arguments.length===2){var A=arguments[0],F=arguments[1],j=A;return F.compare(this._coordinates,j._coordinates)}}},{key:"apply",value:function(){if(Ae(arguments[0],lt)){var m=arguments[0];if(this.isEmpty())return null;m.filter(this.getCoordinate())}else if(Ae(arguments[0],Zn)){var S=arguments[0];if(this.isEmpty())return null;S.filter(this._coordinates,0),S.isGeometryChanged()&&this.geometryChanged()}else if(Ae(arguments[0],kn)){var A=arguments[0];A.filter(this)}else if(Ae(arguments[0],k)){var F=arguments[0];F.filter(this)}}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return xe.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return this._coordinates.size()===0}},{key:"init",value:function(m){m===null&&(m=this.getFactory().getCoordinateSequenceFactory().create([])),le.isTrue(m.size()<=1),this._coordinates=m}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[Un]}}],[{key:"constructor_",value:function(){this._coordinates=null;var m=arguments[0],S=arguments[1];xe.constructor_.call(this,S),this.init(m)}}]),f}(xe),ha=function(){function E(){n(this,E)}return r(E,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var l=arguments[0];return Math.abs(E.ofRingSigned(l))}if(Ae(arguments[0],Ye)){var f=arguments[0];return Math.abs(E.ofRingSigned(f))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var l=arguments[0];if(l.length<3)return 0;for(var f=0,m=l[0].x,S=1;S<l.length-1;S++){var A=l[S].x-m,F=l[S+1].y,j=l[S-1].y;f+=A*(j-F)}return f/2}if(Ae(arguments[0],Ye)){var ie=arguments[0],fe=ie.size();if(fe<3)return 0;var Ie=new ue,Oe=new ue,ot=new ue;ie.getCoordinate(0,Oe),ie.getCoordinate(1,ot);var It=Oe.x;ot.x-=It;for(var Mt=0,Jt=1;Jt<fe-1;Jt++)Ie.y=Oe.y,Oe.x=ot.x,Oe.y=ot.y,ie.getCoordinate(Jt+1,ot),ot.x-=It,Mt+=Oe.x*(Ie.y-ot.y);return Mt/2}}}]),E}(),ar=function(){function E(){n(this,E)}return r(E,null,[{key:"sort",value:function(){var l=arguments,f=arguments[0];if(arguments.length===1)f.sort(function(It,Mt){return It.compareTo(Mt)});else if(arguments.length===2)f.sort(function(It,Mt){return l[1].compare(It,Mt)});else if(arguments.length===3){var m=f.slice(arguments[1],arguments[2]);m.sort();var S=f.slice(0,arguments[1]).concat(m,f.slice(arguments[2],f.length));f.splice(0,f.length);var A,F=M(S);try{for(F.s();!(A=F.n()).done;){var j=A.value;f.push(j)}}catch(It){F.e(It)}finally{F.f()}}else if(arguments.length===4){var ie=f.slice(arguments[1],arguments[2]);ie.sort(function(It,Mt){return l[3].compare(It,Mt)});var fe=f.slice(0,arguments[1]).concat(ie,f.slice(arguments[2],f.length));f.splice(0,f.length);var Ie,Oe=M(fe);try{for(Oe.s();!(Ie=Oe.n()).done;){var ot=Ie.value;f.push(ot)}}catch(It){Oe.e(It)}finally{Oe.f()}}}},{key:"asList",value:function(l){var f,m=new be,S=M(l);try{for(S.s();!(f=S.n()).done;){var A=f.value;m.add(A)}}catch(F){S.e(F)}finally{S.f()}return m}},{key:"copyOf",value:function(l,f){return l.slice(0,f)}}]),E}(),Nr=function E(){n(this,E)},hi=function(E){a(f,E);var l=g(f);function f(){var m;return n(this,f),m=l.call(this),f.constructor_.apply(p(m),arguments),m}return r(f,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var m=new Array(this.getNumPoints()).fill(null),S=-1,A=this._shell.getCoordinates(),F=0;F<A.length;F++)m[++S]=A[F];for(var j=0;j<this._holes.length;j++)for(var ie=this._holes[j].getCoordinates(),fe=0;fe<ie.length;fe++)m[++S]=ie[fe];return m}},{key:"getArea",value:function(){var m=0;m+=ha.ofRing(this._shell.getCoordinateSequence());for(var S=0;S<this._holes.length;S++)m-=ha.ofRing(this._holes[S].getCoordinateSequence());return m}},{key:"copyInternal",value:function(){for(var m=this._shell.copy(),S=new Array(this._holes.length).fill(null),A=0;A<this._holes.length;A++)S[A]=this._holes[A].copy();return new f(m,S,this._factory)}},{key:"isRectangle",value:function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var m=this._shell.getCoordinateSequence(),S=this.getEnvelopeInternal(),A=0;A<5;A++){var F=m.getX(A);if(F!==S.getMinX()&&F!==S.getMaxX())return!1;var j=m.getY(A);if(j!==S.getMinY()&&j!==S.getMaxY())return!1}for(var ie=m.getX(0),fe=m.getY(0),Ie=1;Ie<=4;Ie++){var Oe=m.getX(Ie),ot=m.getY(Ie);if(Oe!==ie==(ot!==fe))return!1;ie=Oe,fe=ot}return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof xe){var m=arguments[0],S=arguments[1];if(!this.isEquivalentClass(m))return!1;var A=m,F=this._shell,j=A._shell;if(!F.equalsExact(j,S)||this._holes.length!==A._holes.length)return!1;for(var ie=0;ie<this._holes.length;ie++)if(!this._holes[ie].equalsExact(A._holes[ie],S))return!1;return!0}return y(s(f.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){if(arguments.length===0){this._shell=this.normalized(this._shell,!0);for(var m=0;m<this._holes.length;m++)this._holes[m]=this.normalized(this._holes[m],!1);ar.sort(this._holes)}else if(arguments.length===2){var S=arguments[0],A=arguments[1];if(S.isEmpty())return null;var F=S.getCoordinateSequence(),j=hn.minCoordinateIndex(F,0,F.size()-2);hn.scroll(F,j,!0),Et.isCCW(F)===A&&hn.reverse(F)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var m=this.getExteriorRing().reverse(),S=new Array(this.getNumInteriorRing()).fill(null),A=0;A<S.length;A++)S[A]=this.getInteriorRingN(A).reverse();return this.getFactory().createPolygon(m,S)}},{key:"getTypeCode",value:function(){return xe.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var m=0;m+=this._shell.getLength();for(var S=0;S<this._holes.length;S++)m+=this._holes[S].getLength();return m}},{key:"getNumPoints",value:function(){for(var m=this._shell.getNumPoints(),S=0;S<this._holes.length;S++)m+=this._holes[S].getNumPoints();return m}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(m,S){var A=m.copy();return this.normalize(A,S),A}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var m=arguments[0],S=this._shell,A=m._shell;return S.compareToSameClass(A)}if(arguments.length===2){var F=arguments[0],j=arguments[1],ie=F,fe=this._shell,Ie=ie._shell,Oe=fe.compareToSameClass(Ie,j);if(Oe!==0)return Oe;for(var ot=this.getNumInteriorRing(),It=ie.getNumInteriorRing(),Mt=0;Mt<ot&&Mt<It;){var Jt=this.getInteriorRingN(Mt),rn=ie.getInteriorRingN(Mt),fn=Jt.compareToSameClass(rn,j);if(fn!==0)return fn;Mt++}return Mt<ot?1:Mt<It?-1:0}}},{key:"apply",value:function(){if(Ae(arguments[0],lt)){var m=arguments[0];this._shell.apply(m);for(var S=0;S<this._holes.length;S++)this._holes[S].apply(m)}else if(Ae(arguments[0],Zn)){var A=arguments[0];if(this._shell.apply(A),!A.isDone())for(var F=0;F<this._holes.length&&(this._holes[F].apply(A),!A.isDone());F++);A.isGeometryChanged()&&this.geometryChanged()}else if(Ae(arguments[0],kn)){var j=arguments[0];j.filter(this)}else if(Ae(arguments[0],k)){var ie=arguments[0];ie.filter(this),this._shell.apply(ie);for(var fe=0;fe<this._holes.length;fe++)this._holes[fe].apply(ie)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var m=new Array(this._holes.length+1).fill(null);m[0]=this._shell;for(var S=0;S<this._holes.length;S++)m[S+1]=this._holes[S];return m.length<=1?this.getFactory().createLinearRing(m[0].getCoordinateSequence()):this.getFactory().createMultiLineString(m)}},{key:"getGeometryType",value:function(){return xe.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(m){return this._holes[m]}},{key:"interfaces_",get:function(){return[Nr]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var m=arguments[0],S=arguments[1],A=arguments[2];if(xe.constructor_.call(this,A),m===null&&(m=this.getFactory().createLinearRing()),S===null&&(S=[]),xe.hasNullElements(S))throw new T("holes must not contain null elements");if(m.isEmpty()&&xe.hasNonEmptyElements(S))throw new T("shell is empty but holes are not");this._shell=m,this._holes=S}}]),f}(xe),tt=function(E){a(f,E);var l=g(f);function f(){return n(this,f),l.apply(this,arguments)}return f}(rt),Pt=function(E){a(f,E);var l=g(f);function f(m){var S;return n(this,f),(S=l.call(this)).array=[],m instanceof He&&S.addAll(m),S}return r(f,[{key:"contains",value:function(m){var S,A=M(this.array);try{for(A.s();!(S=A.n()).done;)if(S.value.compareTo(m)===0)return!0}catch(F){A.e(F)}finally{A.f()}return!1}},{key:"add",value:function(m){if(this.contains(m))return!1;for(var S=0,A=this.array.length;S<A;S++)if(this.array[S].compareTo(m)===1)return!!this.array.splice(S,0,m);return this.array.push(m),!0}},{key:"addAll",value:function(m){var S,A=M(m);try{for(A.s();!(S=A.n()).done;){var F=S.value;this.add(F)}}catch(j){A.e(j)}finally{A.f()}return!0}},{key:"remove",value:function(){throw new at}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new dn(this.array)}}]),f}(tt),dn=function(){function E(l){n(this,E),this.array=l,this.position=0}return r(E,[{key:"next",value:function(){if(this.position===this.array.length)throw new Qe;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new at}}]),E}(),cn=function(E){a(f,E);var l=g(f);function f(){var m;return n(this,f),m=l.call(this),f.constructor_.apply(p(m),arguments),m}return r(f,[{key:"computeEnvelopeInternal",value:function(){for(var m=new De,S=0;S<this._geometries.length;S++)m.expandToInclude(this._geometries[S].getEnvelopeInternal());return m}},{key:"getGeometryN",value:function(m){return this._geometries[m]}},{key:"getCoordinates",value:function(){for(var m=new Array(this.getNumPoints()).fill(null),S=-1,A=0;A<this._geometries.length;A++)for(var F=this._geometries[A].getCoordinates(),j=0;j<F.length;j++)m[++S]=F[j];return m}},{key:"getArea",value:function(){for(var m=0,S=0;S<this._geometries.length;S++)m+=this._geometries[S].getArea();return m}},{key:"copyInternal",value:function(){for(var m=new Array(this._geometries.length).fill(null),S=0;S<m.length;S++)m[S]=this._geometries[S].copy();return new f(m,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof xe){var m=arguments[0],S=arguments[1];if(!this.isEquivalentClass(m))return!1;var A=m;if(this._geometries.length!==A._geometries.length)return!1;for(var F=0;F<this._geometries.length;F++)if(!this._geometries[F].equalsExact(A._geometries[F],S))return!1;return!0}return y(s(f.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){for(var m=0;m<this._geometries.length;m++)this._geometries[m].normalize();ar.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var m=ft.FALSE,S=0;S<this._geometries.length;S++)m=Math.max(m,this._geometries[S].getBoundaryDimension());return m}},{key:"reverseInternal",value:function(){for(var m=this._geometries.length,S=new be(m),A=0;A<m;A++)S.add(this._geometries[A].reverse());return this.getFactory().buildGeometry(S)}},{key:"getTypeCode",value:function(){return xe.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var m=ft.FALSE,S=0;S<this._geometries.length;S++)m=Math.max(m,this._geometries[S].getDimension());return m}},{key:"getLength",value:function(){for(var m=0,S=0;S<this._geometries.length;S++)m+=this._geometries[S].getLength();return m}},{key:"getNumPoints",value:function(){for(var m=0,S=0;S<this._geometries.length;S++)m+=this._geometries[S].getNumPoints();return m}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var m=arguments[0],S=new Pt(ar.asList(this._geometries)),A=new Pt(ar.asList(m._geometries));return this.compare(S,A)}if(arguments.length===2){for(var F=arguments[0],j=arguments[1],ie=F,fe=this.getNumGeometries(),Ie=ie.getNumGeometries(),Oe=0;Oe<fe&&Oe<Ie;){var ot=this.getGeometryN(Oe),It=ie.getGeometryN(Oe),Mt=ot.compareToSameClass(It,j);if(Mt!==0)return Mt;Oe++}return Oe<fe?1:Oe<Ie?-1:0}}},{key:"apply",value:function(){if(Ae(arguments[0],lt))for(var m=arguments[0],S=0;S<this._geometries.length;S++)this._geometries[S].apply(m);else if(Ae(arguments[0],Zn)){var A=arguments[0];if(this._geometries.length===0)return null;for(var F=0;F<this._geometries.length&&(this._geometries[F].apply(A),!A.isDone());F++);A.isGeometryChanged()&&this.geometryChanged()}else if(Ae(arguments[0],kn)){var j=arguments[0];j.filter(this);for(var ie=0;ie<this._geometries.length;ie++)this._geometries[ie].apply(j)}else if(Ae(arguments[0],k)){var fe=arguments[0];fe.filter(this);for(var Ie=0;Ie<this._geometries.length;Ie++)this._geometries[Ie].apply(fe)}}},{key:"getBoundary",value:function(){return xe.checkNotGeometryCollection(this),le.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return xe.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var m=0;m<this._geometries.length;m++)if(!this._geometries[m].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,arguments.length!==0){if(arguments.length===2){var m=arguments[0],S=arguments[1];if(xe.constructor_.call(this,S),m===null&&(m=[]),xe.hasNullElements(m))throw new T("geometries must not contain null elements");this._geometries=m}}}}]),f}(xe),Ai=function(E){a(f,E);var l=g(f);function f(){var m;return n(this,f),m=l.call(this),f.constructor_.apply(p(m),arguments),m}return r(f,[{key:"copyInternal",value:function(){for(var m=new Array(this._geometries.length).fill(null),S=0;S<m.length;S++)m[S]=this._geometries[S].copy();return new f(m,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof xe){var m=arguments[0],S=arguments[1];return!!this.isEquivalentClass(m)&&y(s(f.prototype),"equalsExact",this).call(this,m,S)}return y(s(f.prototype),"equalsExact",this).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(arguments.length===1&&Number.isInteger(arguments[0])){var m=arguments[0];return this._geometries[m].getCoordinate()}return y(s(f.prototype),"getCoordinate",this).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return ft.FALSE}},{key:"getTypeCode",value:function(){return xe.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return xe.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[Un]}}],[{key:"constructor_",value:function(){var m=arguments[0],S=arguments[1];cn.constructor_.call(this,m,S)}}]),f}(cn),ri=function(E){a(f,E);var l=g(f);function f(){var m;return n(this,f),m=l.call(this),f.constructor_.apply(p(m),arguments),m}return r(f,[{key:"copyInternal",value:function(){return new f(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return ft.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||y(s(f.prototype),"isClosed",this).call(this)}},{key:"reverseInternal",value:function(){var m=this._points.copy();return hn.reverse(m),this.getFactory().createLinearRing(m)}},{key:"getTypeCode",value:function(){return xe.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!y(s(f.prototype),"isClosed",this).call(this))throw new T("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<f.MINIMUM_VALID_SIZE)throw new T("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return xe.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var m=arguments[0],S=arguments[1];pn.constructor_.call(this,m,S),this.validateConstruction()}}]),f}(pn);ri.MINIMUM_VALID_SIZE=4;var me=function(E){a(f,E);var l=g(f);function f(){var m;return n(this,f),m=l.call(this),f.constructor_.apply(p(m),arguments),m}return r(f,[{key:"setOrdinate",value:function(m,S){switch(m){case f.X:this.x=S;break;case f.Y:this.y=S;break;default:throw new T("Invalid ordinate index: "+m)}}},{key:"getZ",value:function(){return ue.NULL_ORDINATE}},{key:"getOrdinate",value:function(m){switch(m){case f.X:return this.x;case f.Y:return this.y}throw new T("Invalid ordinate index: "+m)}},{key:"setZ",value:function(m){throw new T("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new f(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(m){this.x=m.x,this.y=m.y,this.z=m.getZ()}}],[{key:"constructor_",value:function(){if(arguments.length===0)ue.constructor_.call(this);else if(arguments.length===1){if(arguments[0]instanceof f){var m=arguments[0];ue.constructor_.call(this,m.x,m.y)}else if(arguments[0]instanceof ue){var S=arguments[0];ue.constructor_.call(this,S.x,S.y)}}else if(arguments.length===2){var A=arguments[0],F=arguments[1];ue.constructor_.call(this,A,F,ue.NULL_ORDINATE)}}}]),f}(ue);me.X=0,me.Y=1,me.Z=-1,me.M=-1;var Ue=function(E){a(f,E);var l=g(f);function f(){var m;return n(this,f),m=l.call(this),f.constructor_.apply(p(m),arguments),m}return r(f,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(m,S){switch(m){case f.X:this.x=S;break;case f.Y:this.y=S;break;case f.M:this._m=S;break;default:throw new T("Invalid ordinate index: "+m)}}},{key:"setM",value:function(m){this._m=m}},{key:"getZ",value:function(){return ue.NULL_ORDINATE}},{key:"getOrdinate",value:function(m){switch(m){case f.X:return this.x;case f.Y:return this.y;case f.M:return this._m}throw new T("Invalid ordinate index: "+m)}},{key:"setZ",value:function(m){throw new T("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new f(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(m){this.x=m.x,this.y=m.y,this.z=m.getZ(),this._m=m.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)ue.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof f){var m=arguments[0];ue.constructor_.call(this,m.x,m.y),this._m=m._m}else if(arguments[0]instanceof ue){var S=arguments[0];ue.constructor_.call(this,S.x,S.y),this._m=this.getM()}}else if(arguments.length===3){var A=arguments[0],F=arguments[1],j=arguments[2];ue.constructor_.call(this,A,F,ue.NULL_ORDINATE),this._m=j}}}]),f}(ue);Ue.X=0,Ue.Y=1,Ue.Z=-1,Ue.M=2;var Ke=function(E){a(f,E);var l=g(f);function f(){var m;return n(this,f),m=l.call(this),f.constructor_.apply(p(m),arguments),m}return r(f,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(m,S){switch(m){case ue.X:this.x=S;break;case ue.Y:this.y=S;break;case ue.Z:this.z=S;break;case ue.M:this._m=S;break;default:throw new T("Invalid ordinate index: "+m)}}},{key:"setM",value:function(m){this._m=m}},{key:"getOrdinate",value:function(m){switch(m){case ue.X:return this.x;case ue.Y:return this.y;case ue.Z:return this.getZ();case ue.M:return this.getM()}throw new T("Invalid ordinate index: "+m)}},{key:"copy",value:function(){return new f(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(m){this.x=m.x,this.y=m.y,this.z=m.getZ(),this._m=m.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)ue.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof f){var m=arguments[0];ue.constructor_.call(this,m),this._m=m._m}else if(arguments[0]instanceof ue){var S=arguments[0];ue.constructor_.call(this,S),this._m=this.getM()}}else if(arguments.length===4){var A=arguments[0],F=arguments[1],j=arguments[2],ie=arguments[3];ue.constructor_.call(this,A,F,j),this._m=ie}}}]),f}(ue),Je=function(){function E(){n(this,E)}return r(E,null,[{key:"measures",value:function(l){return l instanceof me?0:l instanceof Ue||l instanceof Ke?1:0}},{key:"dimension",value:function(l){return l instanceof me?2:l instanceof Ue?3:l instanceof Ke?4:3}},{key:"create",value:function(){if(arguments.length===1){var l=arguments[0];return E.create(l,0)}if(arguments.length===2){var f=arguments[0],m=arguments[1];return f===2?new me:f===3&&m===0?new ue:f===3&&m===1?new Ue:f===4&&m===1?new Ke:new ue}}}]),E}(),Se=function(E){a(f,E);var l=g(f);function f(){var m;return n(this,f),m=l.call(this),f.constructor_.apply(p(m),arguments),m}return r(f,[{key:"getCoordinate",value:function(m){return this.get(m)}},{key:"addAll",value:function(){if(arguments.length===2&&typeof arguments[1]=="boolean"&&Ae(arguments[0],He)){for(var m=arguments[0],S=arguments[1],A=!1,F=m.iterator();F.hasNext();)this.add(F.next(),S),A=!0;return A}return y(s(f.prototype),"addAll",this).apply(this,arguments)}},{key:"clone",value:function(){for(var m=y(s(f.prototype),"clone",this).call(this),S=0;S<this.size();S++)m.add(S,this.get(S).clone());return m}},{key:"toCoordinateArray",value:function(){if(arguments.length===0)return this.toArray(f.coordArrayType);if(arguments.length===1){var m=arguments[0];if(m)return this.toArray(f.coordArrayType);for(var S=this.size(),A=new Array(S).fill(null),F=0;F<S;F++)A[F]=this.get(S-F-1);return A}}},{key:"add",value:function(){if(arguments.length===1){var m=arguments[0];return y(s(f.prototype),"add",this).call(this,m)}if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var S=arguments[0],A=arguments[1];return this.add(S,A,!0),!0}if(arguments[0]instanceof ue&&typeof arguments[1]=="boolean"){var F=arguments[0],j=arguments[1];if(!j&&this.size()>=1){var ie=this.get(this.size()-1);if(ie.equals2D(F))return null}y(s(f.prototype),"add",this).call(this,F)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var fe=arguments[0],Ie=arguments[1];return this.add(fe,Ie),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var Oe=arguments[0],ot=arguments[1],It=arguments[2];if(It)for(var Mt=0;Mt<Oe.length;Mt++)this.add(Oe[Mt],ot);else for(var Jt=Oe.length-1;Jt>=0;Jt--)this.add(Oe[Jt],ot);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof ue){var rn=arguments[0],fn=arguments[1],Nn=arguments[2];if(!Nn){var si=this.size();if(si>0){if(rn>0){var Ki=this.get(rn-1);if(Ki.equals2D(fn))return null}if(rn<si){var Fr=this.get(rn);if(Fr.equals2D(fn))return null}}}y(s(f.prototype),"add",this).call(this,rn,fn)}}else if(arguments.length===4){var va=arguments[0],ds=arguments[1],Io=arguments[2],vc=arguments[3],gc=1;Io>vc&&(gc=-1);for(var Il=Io;Il!==vc;Il+=gc)this.add(va[Il],ds);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var m=this.get(0).copy();this.add(m,!1)}}}],[{key:"constructor_",value:function(){if(arguments.length!==0){if(arguments.length===1){var m=arguments[0];this.ensureCapacity(m.length),this.add(m,!0)}else if(arguments.length===2){var S=arguments[0],A=arguments[1];this.ensureCapacity(S.length),this.add(S,A)}}}}]),f}(be);Se.coordArrayType=new Array(0).fill(null);var $e=function(){function E(){n(this,E)}return r(E,null,[{key:"isRing",value:function(l){return!(l.length<4)&&!!l[0].equals2D(l[l.length-1])}},{key:"ptNotInList",value:function(l,f){for(var m=0;m<l.length;m++){var S=l[m];if(E.indexOf(S,f)<0)return S}return null}},{key:"scroll",value:function(l,f){var m=E.indexOf(f,l);if(m<0)return null;var S=new Array(l.length).fill(null);Ee.arraycopy(l,m,S,0,l.length-m),Ee.arraycopy(l,0,S,l.length-m,m),Ee.arraycopy(S,0,l,0,l.length)}},{key:"equals",value:function(){if(arguments.length===2){var l=arguments[0],f=arguments[1];if(l===f)return!0;if(l===null||f===null||l.length!==f.length)return!1;for(var m=0;m<l.length;m++)if(!l[m].equals(f[m]))return!1;return!0}if(arguments.length===3){var S=arguments[0],A=arguments[1],F=arguments[2];if(S===A)return!0;if(S===null||A===null||S.length!==A.length)return!1;for(var j=0;j<S.length;j++)if(F.compare(S[j],A[j])!==0)return!1;return!0}}},{key:"intersection",value:function(l,f){for(var m=new Se,S=0;S<l.length;S++)f.intersects(l[S])&&m.add(l[S],!0);return m.toCoordinateArray()}},{key:"measures",value:function(l){if(l===null||l.length===0)return 0;var f,m=0,S=M(l);try{for(S.s();!(f=S.n()).done;){var A=f.value;m=Math.max(m,Je.measures(A))}}catch(F){S.e(F)}finally{S.f()}return m}},{key:"hasRepeatedPoints",value:function(l){for(var f=1;f<l.length;f++)if(l[f-1].equals(l[f]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(l){return E.hasRepeatedPoints(l)?new Se(l,!1).toCoordinateArray():l}},{key:"reverse",value:function(l){for(var f=l.length-1,m=Math.trunc(f/2),S=0;S<=m;S++){var A=l[S];l[S]=l[f-S],l[f-S]=A}}},{key:"removeNull",value:function(l){for(var f=0,m=0;m<l.length;m++)l[m]!==null&&f++;var S=new Array(f).fill(null);if(f===0)return S;for(var A=0,F=0;F<l.length;F++)l[F]!==null&&(S[A++]=l[F]);return S}},{key:"copyDeep",value:function(){if(arguments.length===1){for(var l=arguments[0],f=new Array(l.length).fill(null),m=0;m<l.length;m++)f[m]=l[m].copy();return f}if(arguments.length===5)for(var S=arguments[0],A=arguments[1],F=arguments[2],j=arguments[3],ie=arguments[4],fe=0;fe<ie;fe++)F[j+fe]=S[A+fe].copy()}},{key:"isEqualReversed",value:function(l,f){for(var m=0;m<l.length;m++){var S=l[m],A=f[l.length-m-1];if(S.compareTo(A)!==0)return!1}return!0}},{key:"envelope",value:function(l){for(var f=new De,m=0;m<l.length;m++)f.expandToInclude(l[m]);return f}},{key:"toCoordinateArray",value:function(l){return l.toArray(E.coordArrayType)}},{key:"dimension",value:function(l){if(l===null||l.length===0)return 3;var f,m=0,S=M(l);try{for(S.s();!(f=S.n()).done;){var A=f.value;m=Math.max(m,Je.dimension(A))}}catch(F){S.e(F)}finally{S.f()}return m}},{key:"atLeastNCoordinatesOrNothing",value:function(l,f){return f.length>=l?f:[]}},{key:"indexOf",value:function(l,f){for(var m=0;m<f.length;m++)if(l.equals(f[m]))return m;return-1}},{key:"increasingDirection",value:function(l){for(var f=0;f<Math.trunc(l.length/2);f++){var m=l.length-1-f,S=l[f].compareTo(l[m]);if(S!==0)return S}return 1}},{key:"compare",value:function(l,f){for(var m=0;m<l.length&&m<f.length;){var S=l[m].compareTo(f[m]);if(S!==0)return S;m++}return m<f.length?-1:m<l.length?1:0}},{key:"minCoordinate",value:function(l){for(var f=null,m=0;m<l.length;m++)(f===null||f.compareTo(l[m])>0)&&(f=l[m]);return f}},{key:"extract",value:function(l,f,m){f=st.clamp(f,0,l.length);var S=(m=st.clamp(m,-1,l.length))-f+1;m<0&&(S=0),f>=l.length&&(S=0),m<f&&(S=0);var A=new Array(S).fill(null);if(S===0)return A;for(var F=0,j=f;j<=m;j++)A[F++]=l[j];return A}}]),E}(),ht=function(){function E(){n(this,E)}return r(E,[{key:"compare",value:function(l,f){var m=l,S=f;return $e.compare(m,S)}},{key:"interfaces_",get:function(){return[ee]}}]),E}(),Tt=function(){function E(){n(this,E)}return r(E,[{key:"compare",value:function(l,f){var m=l,S=f;if(m.length<S.length)return-1;if(m.length>S.length)return 1;if(m.length===0)return 0;var A=$e.compare(m,S);return $e.isEqualReversed(m,S)?0:A}},{key:"OLDcompare",value:function(l,f){var m=l,S=f;if(m.length<S.length)return-1;if(m.length>S.length)return 1;if(m.length===0)return 0;for(var A=$e.increasingDirection(m),F=$e.increasingDirection(S),j=A>0?0:m.length-1,ie=F>0?0:m.length-1,fe=0;fe<m.length;fe++){var Ie=m[j].compareTo(S[ie]);if(Ie!==0)return Ie;j+=A,ie+=F}return 0}},{key:"interfaces_",get:function(){return[ee]}}]),E}();$e.ForwardComparator=ht,$e.BidirectionalComparator=Tt,$e.coordArrayType=new Array(0).fill(null);var Kt=function(){function E(l){n(this,E),this.str=l}return r(E,[{key:"append",value:function(l){this.str+=l}},{key:"setCharAt",value:function(l,f){this.str=this.str.substr(0,l)+f+this.str.substr(l+1)}},{key:"toString",value:function(){return this.str}}]),E}(),Qt=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"getM",value:function(l){return this.hasM()?this._coordinates[l].getM():V.NaN}},{key:"setOrdinate",value:function(l,f,m){switch(f){case Ye.X:this._coordinates[l].x=m;break;case Ye.Y:this._coordinates[l].y=m;break;default:this._coordinates[l].setOrdinate(f,m)}}},{key:"getZ",value:function(l){return this.hasZ()?this._coordinates[l].getZ():V.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(l,f){switch(f){case Ye.X:return this._coordinates[l].x;case Ye.Y:return this._coordinates[l].y;default:return this._coordinates[l].getOrdinate(f)}}},{key:"getCoordinate",value:function(){if(arguments.length===1){var l=arguments[0];return this._coordinates[l]}if(arguments.length===2){var f=arguments[0],m=arguments[1];m.setCoordinate(this._coordinates[f])}}},{key:"getCoordinateCopy",value:function(l){var f=this.createCoordinate();return f.setCoordinate(this._coordinates[l]),f}},{key:"createCoordinate",value:function(){return Je.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(l){return this._coordinates[l].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(l){for(var f=0;f<this._coordinates.length;f++)l.expandToInclude(this._coordinates[f]);return l}},{key:"copy",value:function(){for(var l=new Array(this.size()).fill(null),f=0;f<this._coordinates.length;f++){var m=this.createCoordinate();m.setCoordinate(this._coordinates[f]),l[f]=m}return new E(l,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var l=new Kt(17*this._coordinates.length);l.append("("),l.append(this._coordinates[0]);for(var f=1;f<this._coordinates.length;f++)l.append(", "),l.append(this._coordinates[f]);return l.append(")"),l.toString()}return"()"}},{key:"getY",value:function(l){return this._coordinates[l].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[Ye,U]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array){var l=arguments[0];E.constructor_.call(this,l,$e.dimension(l),$e.measures(l))}else if(Number.isInteger(arguments[0])){var f=arguments[0];this._coordinates=new Array(f).fill(null);for(var m=0;m<f;m++)this._coordinates[m]=new ue}else if(Ae(arguments[0],Ye)){var S=arguments[0];if(S===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=S.getDimension(),this._measures=S.getMeasures(),this._coordinates=new Array(S.size()).fill(null);for(var A=0;A<this._coordinates.length;A++)this._coordinates[A]=S.getCoordinateCopy(A)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var F=arguments[0],j=arguments[1];E.constructor_.call(this,F,j,$e.measures(F))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var ie=arguments[0],fe=arguments[1];this._coordinates=new Array(ie).fill(null),this._dimension=fe;for(var Ie=0;Ie<ie;Ie++)this._coordinates[Ie]=Je.create(fe)}}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var Oe=arguments[0],ot=arguments[1],It=arguments[2];this._dimension=ot,this._measures=It,this._coordinates=Oe===null?new Array(0).fill(null):Oe}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var Mt=arguments[0],Jt=arguments[1],rn=arguments[2];this._coordinates=new Array(Mt).fill(null),this._dimension=Jt,this._measures=rn;for(var fn=0;fn<Mt;fn++)this._coordinates[fn]=this.createCoordinate()}}}}]),E}(),an=function(){function E(){n(this,E)}return r(E,[{key:"readResolve",value:function(){return E.instance()}},{key:"create",value:function(){if(arguments.length===1){if(arguments[0]instanceof Array){var l=arguments[0];return new Qt(l)}if(Ae(arguments[0],Ye)){var f=arguments[0];return new Qt(f)}}else{if(arguments.length===2){var m=arguments[0],S=arguments[1];return S>3&&(S=3),S<2&&(S=2),new Qt(m,S)}if(arguments.length===3){var A=arguments[0],F=arguments[1],j=arguments[2],ie=F-j;return j>1&&(j=1),ie>3&&(ie=3),ie<2&&(ie=2),new Qt(A,ie+j,j)}}}},{key:"interfaces_",get:function(){return[et,U]}}],[{key:"instance",value:function(){return E.instanceObject}}]),E}();an.instanceObject=new an;var on=function(E){a(f,E);var l=g(f);function f(){var m;return n(this,f),m=l.call(this),f.constructor_.apply(p(m),arguments),m}return r(f,[{key:"copyInternal",value:function(){for(var m=new Array(this._geometries.length).fill(null),S=0;S<m.length;S++)m[S]=this._geometries[S].copy();return new f(m,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof xe){var m=arguments[0],S=arguments[1];return!!this.isEquivalentClass(m)&&y(s(f.prototype),"equalsExact",this).call(this,m,S)}return y(s(f.prototype),"equalsExact",this).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return xe.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var m=new be,S=0;S<this._geometries.length;S++)for(var A=this._geometries[S].getBoundary(),F=0;F<A.getNumGeometries();F++)m.add(A.getGeometryN(F));var j=new Array(m.size()).fill(null);return this.getFactory().createMultiLineString(m.toArray(j))}},{key:"getGeometryType",value:function(){return xe.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[Nr]}}],[{key:"constructor_",value:function(){var m=arguments[0],S=arguments[1];cn.constructor_.call(this,m,S)}}]),f}(cn),Vn=function(){function E(){n(this,E)}return r(E,[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}]),E}(),wi=function(E){a(f,E);var l=g(f);function f(){var m;return n(this,f),(m=l.call(this)).map=new Map,m}return r(f,[{key:"get",value:function(m){return this.map.get(m)||null}},{key:"put",value:function(m,S){return this.map.set(m,S),S}},{key:"values",value:function(){for(var m=new be,S=this.map.values(),A=S.next();!A.done;)m.add(A.value),A=S.next();return m}},{key:"entrySet",value:function(){var m=new it;return this.map.entries().forEach(function(S){return m.add(S)}),m}},{key:"size",value:function(){return this.map.size()}}]),f}(Vn),In=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"equals",value:function(l){if(!(l instanceof E))return!1;var f=l;return this._modelType===f._modelType&&this._scale===f._scale}},{key:"compareTo",value:function(l){var f=l,m=this.getMaximumSignificantDigits(),S=f.getMaximumSignificantDigits();return Xe.compare(m,S)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===E.FLOATING||this._modelType===E.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var l="UNKNOWN";return this._modelType===E.FLOATING?l="Floating":this._modelType===E.FLOATING_SINGLE?l="Floating-Single":this._modelType===E.FIXED&&(l="Fixed (Scale="+this.getScale()+")"),l}},{key:"makePrecise",value:function(){if(typeof arguments[0]=="number"){var l=arguments[0];return V.isNaN(l)||this._modelType===E.FLOATING_SINGLE?l:this._modelType===E.FIXED?Math.round(l*this._scale)/this._scale:l}if(arguments[0]instanceof ue){var f=arguments[0];if(this._modelType===E.FLOATING)return null;f.x=this.makePrecise(f.x),f.y=this.makePrecise(f.y)}}},{key:"getMaximumSignificantDigits",value:function(){var l=16;return this._modelType===E.FLOATING?l=16:this._modelType===E.FLOATING_SINGLE?l=6:this._modelType===E.FIXED&&(l=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),l}},{key:"setScale",value:function(l){this._scale=Math.abs(l)}},{key:"interfaces_",get:function(){return[U,R]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=E.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof Si){var l=arguments[0];this._modelType=l,l===E.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var f=arguments[0];this._modelType=E.FIXED,this.setScale(f)}else if(arguments[0]instanceof E){var m=arguments[0];this._modelType=m._modelType,this._scale=m._scale}}}},{key:"mostPrecise",value:function(l,f){return l.compareTo(f)>=0?l:f}}]),E}(),Si=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"readResolve",value:function(){return E.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[U]}}],[{key:"constructor_",value:function(){this._name=null;var l=arguments[0];this._name=l,E.nameToTypeMap.put(l,this)}}]),E}();Si.nameToTypeMap=new wi,In.Type=Si,In.FIXED=new Si("FIXED"),In.FLOATING=new Si("FLOATING"),In.FLOATING_SINGLE=new Si("FLOATING SINGLE"),In.maximumPreciseValue=9007199254740992;var Ln=function(E){a(f,E);var l=g(f);function f(){var m;return n(this,f),m=l.call(this),f.constructor_.apply(p(m),arguments),m}return r(f,[{key:"copyInternal",value:function(){for(var m=new Array(this._geometries.length).fill(null),S=0;S<m.length;S++)m[S]=this._geometries[S].copy();return new f(m,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof xe){var m=arguments[0],S=arguments[1];return!!this.isEquivalentClass(m)&&y(s(f.prototype),"equalsExact",this).call(this,m,S)}return y(s(f.prototype),"equalsExact",this).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?ft.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var m=0;m<this._geometries.length;m++)if(!this._geometries[m].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return xe.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new at}},{key:"getGeometryType",value:function(){return xe.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[$t]}}],[{key:"constructor_",value:function(){var m=arguments[0],S=arguments[1];cn.constructor_.call(this,m,S)}}]),f}(cn),ln=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"createEmpty",value:function(l){switch(l){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new T("Invalid dimension: "+l)}}},{key:"toGeometry",value:function(l){return l.isNull()?this.createPoint():l.getMinX()===l.getMaxX()&&l.getMinY()===l.getMaxY()?this.createPoint(new ue(l.getMinX(),l.getMinY())):l.getMinX()===l.getMaxX()||l.getMinY()===l.getMaxY()?this.createLineString([new ue(l.getMinX(),l.getMinY()),new ue(l.getMaxX(),l.getMaxY())]):this.createPolygon(this.createLinearRing([new ue(l.getMinX(),l.getMinY()),new ue(l.getMinX(),l.getMaxY()),new ue(l.getMaxX(),l.getMaxY()),new ue(l.getMaxX(),l.getMinY()),new ue(l.getMinX(),l.getMinY())]),null)}},{key:"createLineString",value:function(){if(arguments.length===0)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var l=arguments[0];return this.createLineString(l!==null?this.getCoordinateSequenceFactory().create(l):null)}if(Ae(arguments[0],Ye)){var f=arguments[0];return new pn(f,this)}}}},{key:"createMultiLineString",value:function(){if(arguments.length===0)return new Ln(null,this);if(arguments.length===1){var l=arguments[0];return new Ln(l,this)}}},{key:"buildGeometry",value:function(l){for(var f=null,m=!1,S=!1,A=l.iterator();A.hasNext();){var F=A.next(),j=F.getTypeCode();f===null&&(f=j),j!==f&&(m=!0),F instanceof cn&&(S=!0)}if(f===null)return this.createGeometryCollection();if(m||S)return this.createGeometryCollection(E.toGeometryArray(l));var ie=l.iterator().next();if(l.size()>1){if(ie instanceof hi)return this.createMultiPolygon(E.toPolygonArray(l));if(ie instanceof pn)return this.createMultiLineString(E.toLineStringArray(l));if(ie instanceof ci)return this.createMultiPoint(E.toPointArray(l));le.shouldNeverReachHere("Unhandled geometry type: "+ie.getGeometryType())}return ie}},{key:"createMultiPointFromCoords",value:function(l){return this.createMultiPoint(l!==null?this.getCoordinateSequenceFactory().create(l):null)}},{key:"createPoint",value:function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof ue){var l=arguments[0];return this.createPoint(l!==null?this.getCoordinateSequenceFactory().create([l]):null)}if(Ae(arguments[0],Ye)){var f=arguments[0];return new ci(f,this)}}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(arguments.length===0)return this.createPolygon(null,null);if(arguments.length===1){if(Ae(arguments[0],Ye)){var l=arguments[0];return this.createPolygon(this.createLinearRing(l))}if(arguments[0]instanceof Array){var f=arguments[0];return this.createPolygon(this.createLinearRing(f))}if(arguments[0]instanceof ri){var m=arguments[0];return this.createPolygon(m,null)}}else if(arguments.length===2){var S=arguments[0],A=arguments[1];return new hi(S,A,this)}}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){if(arguments.length===0)return new cn(null,this);if(arguments.length===1){var l=arguments[0];return new cn(l,this)}}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var l=arguments[0];return this.createLinearRing(l!==null?this.getCoordinateSequenceFactory().create(l):null)}if(Ae(arguments[0],Ye)){var f=arguments[0];return new ri(f,this)}}}},{key:"createMultiPolygon",value:function(){if(arguments.length===0)return new on(null,this);if(arguments.length===1){var l=arguments[0];return new on(l,this)}}},{key:"createMultiPoint",value:function(){if(arguments.length===0)return new Ai(null,this);if(arguments.length===1){if(arguments[0]instanceof Array){var l=arguments[0];return new Ai(l,this)}if(Ae(arguments[0],Ye)){var f=arguments[0];if(f===null)return this.createMultiPoint(new Array(0).fill(null));for(var m=new Array(f.size()).fill(null),S=0;S<f.size();S++){var A=this.getCoordinateSequenceFactory().create(1,f.getDimension(),f.getMeasures());hn.copy(f,S,A,0,1),m[S]=this.createPoint(A)}return this.createMultiPoint(m)}}}},{key:"interfaces_",get:function(){return[U]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,arguments.length===0)E.constructor_.call(this,new In,0);else if(arguments.length===1){if(Ae(arguments[0],et)){var l=arguments[0];E.constructor_.call(this,new In,0,l)}else if(arguments[0]instanceof In){var f=arguments[0];E.constructor_.call(this,f,0,E.getDefaultCoordinateSequenceFactory())}}else if(arguments.length===2){var m=arguments[0],S=arguments[1];E.constructor_.call(this,m,S,E.getDefaultCoordinateSequenceFactory())}else if(arguments.length===3){var A=arguments[0],F=arguments[1],j=arguments[2];this._precisionModel=A,this._coordinateSequenceFactory=j,this._SRID=F}}},{key:"toMultiPolygonArray",value:function(l){var f=new Array(l.size()).fill(null);return l.toArray(f)}},{key:"toGeometryArray",value:function(l){if(l===null)return null;var f=new Array(l.size()).fill(null);return l.toArray(f)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return an.instance()}},{key:"toMultiLineStringArray",value:function(l){var f=new Array(l.size()).fill(null);return l.toArray(f)}},{key:"toLineStringArray",value:function(l){var f=new Array(l.size()).fill(null);return l.toArray(f)}},{key:"toMultiPointArray",value:function(l){var f=new Array(l.size()).fill(null);return l.toArray(f)}},{key:"toLinearRingArray",value:function(l){var f=new Array(l.size()).fill(null);return l.toArray(f)}},{key:"toPointArray",value:function(l){var f=new Array(l.size()).fill(null);return l.toArray(f)}},{key:"toPolygonArray",value:function(l){var f=new Array(l.size()).fill(null);return l.toArray(f)}},{key:"createPointFromInternalCoord",value:function(l,f){return f.getPrecisionModel().makePrecise(l),f.getFactory().createPoint(l)}}]),E}(),os="XY",Hn="XYZ",pa="XYM",El="XYZM",Wr={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},Ns="EMPTY",ai=1,ki=2,gr=3,Vi=4,Kr=5,lc=6;for(var Co in Wr)Wr[Co].toUpperCase();var xp=function(){function E(l){n(this,E),this.wkt=l,this.index_=-1}return r(E,[{key:"isAlpha_",value:function(l){return l>="a"&&l<="z"||l>="A"&&l<="Z"}},{key:"isNumeric_",value:function(l,f){return l>="0"&&l<="9"||l=="."&&!(f!==void 0&&f)}},{key:"isWhiteSpace_",value:function(l){return l==" "||l=="	"||l=="\r"||l==`
`}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var l,f=this.nextChar_(),m=this.index_,S=f;if(f=="(")l=ki;else if(f==",")l=Kr;else if(f==")")l=gr;else if(this.isNumeric_(f)||f=="-")l=Vi,S=this.readNumber_();else if(this.isAlpha_(f))l=ai,S=this.readText_();else{if(this.isWhiteSpace_(f))return this.nextToken();if(f!=="")throw new Error("Unexpected character: "+f);l=lc}return{position:m,value:S,type:l}}},{key:"readNumber_",value:function(){var l,f=this.index_,m=!1,S=!1;do l=="."?m=!0:l!="e"&&l!="E"||(S=!0),l=this.nextChar_();while(this.isNumeric_(l,m)||!S&&(l=="e"||l=="E")||S&&(l=="-"||l=="+"));return parseFloat(this.wkt.substring(f,this.index_--))}},{key:"readText_",value:function(){var l,f=this.index_;do l=this.nextChar_();while(this.isAlpha_(l));return this.wkt.substring(f,this.index_--).toUpperCase()}}]),E}(),Mp=function(){function E(l,f){n(this,E),this.lexer_=l,this.token_,this.layout_=os,this.factory=f}return r(E,[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(l){return this.token_.type==l}},{key:"match",value:function(l){var f=this.isTokenType(l);return f&&this.consume_(),f}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var l=os,f=this.token_;if(this.isTokenType(ai)){var m=f.value;m==="Z"?l=Hn:m==="M"?l=pa:m==="ZM"&&(l=El),l!==os&&this.consume_()}return l}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(ki)){var l=[];do l.push(this.parseGeometry_());while(this.match(Kr));if(this.match(gr))return l}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(ki)){var l=this.parsePoint_();if(this.match(gr))return l}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(ki)){var l=this.parsePointList_();if(this.match(gr))return l}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(ki)){var l=this.parseLineStringTextList_();if(this.match(gr))return l}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var l;if(this.match(ki)){if(l=this.token_.type==ki?this.parsePointTextList_():this.parsePointList_(),this.match(gr))return l}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(ki)){var l=this.parseLineStringTextList_();if(this.match(gr))return l}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(ki)){var l=this.parsePolygonTextList_();if(this.match(gr))return l}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var l=[],f=this.layout_.length,m=0;m<f;++m){var S=this.token_;if(!this.match(Vi))break;l.push(S.value)}if(l.length==f)return l;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var l=[this.parsePoint_()];this.match(Kr);)l.push(this.parsePoint_());return l}},{key:"parsePointTextList_",value:function(){for(var l=[this.parsePointText_()];this.match(Kr);)l.push(this.parsePointText_());return l}},{key:"parseLineStringTextList_",value:function(){for(var l=[this.parseLineStringText_()];this.match(Kr);)l.push(this.parseLineStringText_());return l}},{key:"parsePolygonTextList_",value:function(){for(var l=[this.parsePolygonText_()];this.match(Kr);)l.push(this.parsePolygonText_());return l}},{key:"isEmptyGeometry_",value:function(){var l=this.isTokenType(ai)&&this.token_.value==Ns;return l&&this.consume_(),l}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var l=this.factory,f=function(rn){return c(ue,_(rn))},m=function(rn){var fn=rn.map(function(Nn){return l.createLinearRing(Nn.map(f))});return fn.length>1?l.createPolygon(fn[0],fn.slice(1)):l.createPolygon(fn[0])},S=this.token_;if(this.match(ai)){var A=S.value;if(this.layout_=this.parseGeometryLayout_(),A=="GEOMETRYCOLLECTION"){var F=this.parseGeometryCollectionText_();return l.createGeometryCollection(F)}switch(A){case"POINT":var j=this.parsePointText_();return j?l.createPoint(c(ue,_(j))):l.createPoint();case"LINESTRING":var ie=this.parseLineStringText_().map(f);return l.createLineString(ie);case"LINEARRING":var fe=this.parseLineStringText_().map(f);return l.createLinearRing(fe);case"POLYGON":var Ie=this.parsePolygonText_();return Ie&&Ie.length!==0?m(Ie):l.createPolygon();case"MULTIPOINT":var Oe=this.parseMultiPointText_();if(!Oe||Oe.length===0)return l.createMultiPoint();var ot=Oe.map(f).map(function(rn){return l.createPoint(rn)});return l.createMultiPoint(ot);case"MULTILINESTRING":var It=this.parseMultiLineStringText_().map(function(rn){return l.createLineString(rn.map(f))});return l.createMultiLineString(It);case"MULTIPOLYGON":var Mt=this.parseMultiPolygonText_();if(!Mt||Mt.length===0)return l.createMultiPolygon();var Jt=Mt.map(m);return l.createMultiPolygon(Jt);default:throw new Error("Invalid geometry type: "+A)}}throw new Error(this.formatErrorMessage_())}}]),E}();function Eo(E){if(E.isEmpty())return"";var l=E.getCoordinate(),f=[l.x,l.y];return l.z===void 0||Number.isNaN(l.z)||f.push(l.z),l.m===void 0||Number.isNaN(l.m)||f.push(l.m),f.join(" ")}function qr(E){for(var l=E.getCoordinates().map(function(A){var F=[A.x,A.y];return A.z===void 0||Number.isNaN(A.z)||F.push(A.z),A.m===void 0||Number.isNaN(A.m)||F.push(A.m),F}),f=[],m=0,S=l.length;m<S;++m)f.push(l[m].join(" "));return f.join(", ")}function uc(E){var l=[];l.push("("+qr(E.getExteriorRing())+")");for(var f=0,m=E.getNumInteriorRing();f<m;++f)l.push("("+qr(E.getInteriorRingN(f))+")");return l.join(", ")}var ls={Point:Eo,LineString:qr,LinearRing:qr,Polygon:uc,MultiPoint:function(E){for(var l=[],f=0,m=E.getNumGeometries();f<m;++f)l.push("("+Eo(E.getGeometryN(f))+")");return l.join(", ")},MultiLineString:function(E){for(var l=[],f=0,m=E.getNumGeometries();f<m;++f)l.push("("+qr(E.getGeometryN(f))+")");return l.join(", ")},MultiPolygon:function(E){for(var l=[],f=0,m=E.getNumGeometries();f<m;++f)l.push("("+uc(E.getGeometryN(f))+")");return l.join(", ")},GeometryCollection:function(E){for(var l=[],f=0,m=E.getNumGeometries();f<m;++f)l.push(Fd(E.getGeometryN(f)));return l.join(", ")}};function Fd(E){var l=E.getGeometryType(),f=ls[l];l=l.toUpperCase();var m=function(S){var A="";if(S.isEmpty())return A;var F=S.getCoordinate();return F.z===void 0||Number.isNaN(F.z)||(A+="Z"),F.m===void 0||Number.isNaN(F.m)||(A+="M"),A}(E);return m.length>0&&(l+=" "+m),E.isEmpty()?l+" "+Ns:l+" ("+f(E)+")"}var Tp=function(){function E(l){n(this,E),this.geometryFactory=l||new ln,this.precisionModel=this.geometryFactory.getPrecisionModel()}return r(E,[{key:"read",value:function(l){var f=new xp(l);return new Mp(f,this.geometryFactory).parse()}},{key:"write",value:function(l){return Fd(l)}}]),E}(),cc=function(){function E(l){n(this,E),this.parser=new Tp(l)}return r(E,[{key:"write",value:function(l){return this.parser.write(l)}}],[{key:"toLineString",value:function(l,f){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+l.x+" "+l.y+", "+f.x+" "+f.y+" )"}}]),E}(),Gn=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"getIndexAlongSegment",value:function(l,f){return this.computeIntLineIndex(),this._intLineIndex[l][f]}},{key:"getTopologySummary",value:function(){var l=new Kt;return this.isEndPoint()&&l.append(" endpoint"),this._isProper&&l.append(" proper"),this.isCollinear()&&l.append(" collinear"),l.toString()}},{key:"computeIntersection",value:function(l,f,m,S){this._inputLines[0][0]=l,this._inputLines[0][1]=f,this._inputLines[1][0]=m,this._inputLines[1][1]=S,this._result=this.computeIntersect(l,f,m,S)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var l=arguments[0],f=this.getEdgeDistance(l,0),m=this.getEdgeDistance(l,1);f>m?(this._intLineIndex[l][0]=0,this._intLineIndex[l][1]=1):(this._intLineIndex[l][0]=1,this._intLineIndex[l][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(l){this._precisionModel=l}},{key:"isInteriorIntersection",value:function(){if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var l=arguments[0],f=0;f<this._result;f++)if(!this._intPt[f].equals2D(this._inputLines[l][0])&&!this._intPt[f].equals2D(this._inputLines[l][1]))return!0;return!1}}},{key:"getIntersection",value:function(l){return this._intPt[l]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==E.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(l,f){return E.computeEdgeDistance(this._intPt[f],this._inputLines[l][0],this._inputLines[l][1])}},{key:"isCollinear",value:function(){return this._result===E.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return cc.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+cc.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(l,f){return this._inputLines[l][f]}},{key:"isIntersection",value:function(l){for(var f=0;f<this._result;f++)if(this._intPt[f].equals2D(l))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(l,f){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[l][f]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new ue,this._intPt[1]=new ue,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(l,f,m){var S=Math.abs(m.x-f.x),A=Math.abs(m.y-f.y),F=-1;if(l.equals(f))F=0;else if(l.equals(m))F=S>A?S:A;else{var j=Math.abs(l.x-f.x),ie=Math.abs(l.y-f.y);(F=S>A?j:ie)!==0||l.equals(f)||(F=Math.max(j,ie))}return le.isTrue(!(F===0&&!l.equals(f)),"Bad distance calculation"),F}},{key:"nonRobustComputeEdgeDistance",value:function(l,f,m){var S=l.x-f.x,A=l.y-f.y,F=Math.sqrt(S*S+A*A);return le.isTrue(!(F===0&&!l.equals(f)),"Invalid distance calculation"),F}}]),E}();Gn.DONT_INTERSECT=0,Gn.DO_INTERSECT=1,Gn.COLLINEAR=2,Gn.NO_INTERSECTION=0,Gn.POINT_INTERSECTION=1,Gn.COLLINEAR_INTERSECTION=2;var us=function(E){a(f,E);var l=g(f);function f(){return n(this,f),l.call(this)}return r(f,[{key:"isInSegmentEnvelopes",value:function(m){var S=new De(this._inputLines[0][0],this._inputLines[0][1]),A=new De(this._inputLines[1][0],this._inputLines[1][1]);return S.contains(m)&&A.contains(m)}},{key:"computeIntersection",value:function(){if(arguments.length!==3)return y(s(f.prototype),"computeIntersection",this).apply(this,arguments);var m=arguments[0],S=arguments[1],A=arguments[2];if(this._isProper=!1,De.intersects(S,A,m)&&Et.index(S,A,m)===0&&Et.index(A,S,m)===0)return this._isProper=!0,(m.equals(S)||m.equals(A))&&(this._isProper=!1),this._result=Gn.POINT_INTERSECTION,null;this._result=Gn.NO_INTERSECTION}},{key:"intersection",value:function(m,S,A,F){var j=this.intersectionSafe(m,S,A,F);return this.isInSegmentEnvelopes(j)||(j=new ue(f.nearestEndpoint(m,S,A,F))),this._precisionModel!==null&&this._precisionModel.makePrecise(j),j}},{key:"checkDD",value:function(m,S,A,F,j){var ie=Rt.intersection(m,S,A,F),fe=this.isInSegmentEnvelopes(ie);Ee.out.println("DD in env = "+fe+"  --------------------- "+ie),j.distance(ie)>1e-4&&Ee.out.println("Distance = "+j.distance(ie))}},{key:"intersectionSafe",value:function(m,S,A,F){var j=Ft.intersection(m,S,A,F);return j===null&&(j=f.nearestEndpoint(m,S,A,F)),j}},{key:"computeCollinearIntersection",value:function(m,S,A,F){var j=De.intersects(m,S,A),ie=De.intersects(m,S,F),fe=De.intersects(A,F,m),Ie=De.intersects(A,F,S);return j&&ie?(this._intPt[0]=A,this._intPt[1]=F,Gn.COLLINEAR_INTERSECTION):fe&&Ie?(this._intPt[0]=m,this._intPt[1]=S,Gn.COLLINEAR_INTERSECTION):j&&fe?(this._intPt[0]=A,this._intPt[1]=m,!A.equals(m)||ie||Ie?Gn.COLLINEAR_INTERSECTION:Gn.POINT_INTERSECTION):j&&Ie?(this._intPt[0]=A,this._intPt[1]=S,!A.equals(S)||ie||fe?Gn.COLLINEAR_INTERSECTION:Gn.POINT_INTERSECTION):ie&&fe?(this._intPt[0]=F,this._intPt[1]=m,!F.equals(m)||j||Ie?Gn.COLLINEAR_INTERSECTION:Gn.POINT_INTERSECTION):ie&&Ie?(this._intPt[0]=F,this._intPt[1]=S,!F.equals(S)||j||fe?Gn.COLLINEAR_INTERSECTION:Gn.POINT_INTERSECTION):Gn.NO_INTERSECTION}},{key:"computeIntersect",value:function(m,S,A,F){if(this._isProper=!1,!De.intersects(m,S,A,F))return Gn.NO_INTERSECTION;var j=Et.index(m,S,A),ie=Et.index(m,S,F);if(j>0&&ie>0||j<0&&ie<0)return Gn.NO_INTERSECTION;var fe=Et.index(A,F,m),Ie=Et.index(A,F,S);return fe>0&&Ie>0||fe<0&&Ie<0?Gn.NO_INTERSECTION:j===0&&ie===0&&fe===0&&Ie===0?this.computeCollinearIntersection(m,S,A,F):(j===0||ie===0||fe===0||Ie===0?(this._isProper=!1,m.equals2D(A)||m.equals2D(F)?this._intPt[0]=m:S.equals2D(A)||S.equals2D(F)?this._intPt[0]=S:j===0?this._intPt[0]=new ue(A):ie===0?this._intPt[0]=new ue(F):fe===0?this._intPt[0]=new ue(m):Ie===0&&(this._intPt[0]=new ue(S))):(this._isProper=!0,this._intPt[0]=this.intersection(m,S,A,F)),Gn.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(m,S,A,F){var j=m,ie=ve.pointToSegment(m,A,F),fe=ve.pointToSegment(S,A,F);return fe<ie&&(ie=fe,j=S),(fe=ve.pointToSegment(A,m,S))<ie&&(ie=fe,j=A),(fe=ve.pointToSegment(F,m,S))<ie&&(ie=fe,j=F),j}}]),f}(Gn),Ap=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"countSegment",value:function(l,f){if(l.x<this._p.x&&f.x<this._p.x)return null;if(this._p.x===f.x&&this._p.y===f.y)return this._isPointOnSegment=!0,null;if(l.y===this._p.y&&f.y===this._p.y){var m=l.x,S=f.x;return m>S&&(m=f.x,S=l.x),this._p.x>=m&&this._p.x<=S&&(this._isPointOnSegment=!0),null}if(l.y>this._p.y&&f.y<=this._p.y||f.y>this._p.y&&l.y<=this._p.y){var A=Et.index(l,f,this._p);if(A===Et.COLLINEAR)return this._isPointOnSegment=!0,null;f.y<l.y&&(A=-A),A===Et.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==G.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?G.BOUNDARY:this._crossingCount%2==1?G.INTERIOR:G.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var l=arguments[0];this._p=l}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof ue&&Ae(arguments[1],Ye)){for(var l=arguments[0],f=arguments[1],m=new E(l),S=new ue,A=new ue,F=1;F<f.size();F++)if(f.getCoordinate(F,S),f.getCoordinate(F-1,A),m.countSegment(S,A),m.isOnSegment())return m.getLocation();return m.getLocation()}if(arguments[0]instanceof ue&&arguments[1]instanceof Array){for(var j=arguments[0],ie=arguments[1],fe=new E(j),Ie=1;Ie<ie.length;Ie++){var Oe=ie[Ie],ot=ie[Ie-1];if(fe.countSegment(Oe,ot),fe.isOnSegment())return fe.getLocation()}return fe.getLocation()}}}]),E}(),xl=function(){function E(){n(this,E)}return r(E,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof ue&&Ae(arguments[1],Ye)){for(var l=arguments[0],f=arguments[1],m=new us,S=new ue,A=new ue,F=f.size(),j=1;j<F;j++)if(f.getCoordinate(j-1,S),f.getCoordinate(j,A),m.computeIntersection(l,S,A),m.hasIntersection())return!0;return!1}if(arguments[0]instanceof ue&&arguments[1]instanceof Array){for(var ie=arguments[0],fe=arguments[1],Ie=new us,Oe=1;Oe<fe.length;Oe++){var ot=fe[Oe-1],It=fe[Oe];if(Ie.computeIntersection(ie,ot,It),Ie.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(l,f){return Ap.locatePointInRing(l,f)}},{key:"isInRing",value:function(l,f){return E.locateInRing(l,f)!==G.EXTERIOR}}]),E}(),Ci=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"setAllLocations",value:function(l){for(var f=0;f<this.location.length;f++)this.location[f]=l}},{key:"isNull",value:function(){for(var l=0;l<this.location.length;l++)if(this.location[l]!==G.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(l){for(var f=0;f<this.location.length;f++)this.location[f]===G.NONE&&(this.location[f]=l)}},{key:"isLine",value:function(){return this.location.length===1}},{key:"merge",value:function(l){if(l.location.length>this.location.length){var f=new Array(3).fill(null);f[te.ON]=this.location[te.ON],f[te.LEFT]=G.NONE,f[te.RIGHT]=G.NONE,this.location=f}for(var m=0;m<this.location.length;m++)this.location[m]===G.NONE&&m<l.location.length&&(this.location[m]=l.location[m])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var l=this.location[te.LEFT];this.location[te.LEFT]=this.location[te.RIGHT],this.location[te.RIGHT]=l}},{key:"toString",value:function(){var l=new Pe;return this.location.length>1&&l.append(G.toLocationSymbol(this.location[te.LEFT])),l.append(G.toLocationSymbol(this.location[te.ON])),this.location.length>1&&l.append(G.toLocationSymbol(this.location[te.RIGHT])),l.toString()}},{key:"setLocations",value:function(l,f,m){this.location[te.ON]=l,this.location[te.LEFT]=f,this.location[te.RIGHT]=m}},{key:"get",value:function(l){return l<this.location.length?this.location[l]:G.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var l=0;l<this.location.length;l++)if(this.location[l]===G.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(arguments.length===1){var l=arguments[0];this.setLocation(te.ON,l)}else if(arguments.length===2){var f=arguments[0],m=arguments[1];this.location[f]=m}}},{key:"init",value:function(l){this.location=new Array(l).fill(null),this.setAllLocations(G.NONE)}},{key:"isEqualOnSide",value:function(l,f){return this.location[f]===l.location[f]}},{key:"allPositionsEqual",value:function(l){for(var f=0;f<this.location.length;f++)if(this.location[f]!==l)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var l=arguments[0];this.init(l.length)}else if(Number.isInteger(arguments[0])){var f=arguments[0];this.init(1),this.location[te.ON]=f}else if(arguments[0]instanceof E){var m=arguments[0];if(this.init(m.location.length),m!==null)for(var S=0;S<this.location.length;S++)this.location[S]=m.location[S]}}else if(arguments.length===3){var A=arguments[0],F=arguments[1],j=arguments[2];this.init(3),this.location[te.ON]=A,this.location[te.LEFT]=F,this.location[te.RIGHT]=j}}}]),E}(),yr=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"getGeometryCount",value:function(){var l=0;return this.elt[0].isNull()||l++,this.elt[1].isNull()||l++,l}},{key:"setAllLocations",value:function(l,f){this.elt[l].setAllLocations(f)}},{key:"isNull",value:function(l){return this.elt[l].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(arguments.length===1){var l=arguments[0];this.setAllLocationsIfNull(0,l),this.setAllLocationsIfNull(1,l)}else if(arguments.length===2){var f=arguments[0],m=arguments[1];this.elt[f].setAllLocationsIfNull(m)}}},{key:"isLine",value:function(l){return this.elt[l].isLine()}},{key:"merge",value:function(l){for(var f=0;f<2;f++)this.elt[f]===null&&l.elt[f]!==null?this.elt[f]=new Ci(l.elt[f]):this.elt[f].merge(l.elt[f])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(arguments.length===1){var l=arguments[0];return this.elt[l].get(te.ON)}if(arguments.length===2){var f=arguments[0],m=arguments[1];return this.elt[f].get(m)}}},{key:"toString",value:function(){var l=new Pe;return this.elt[0]!==null&&(l.append("A:"),l.append(this.elt[0].toString())),this.elt[1]!==null&&(l.append(" B:"),l.append(this.elt[1].toString())),l.toString()}},{key:"isArea",value:function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var l=arguments[0];return this.elt[l].isArea()}}},{key:"isAnyNull",value:function(l){return this.elt[l].isAnyNull()}},{key:"setLocation",value:function(){if(arguments.length===2){var l=arguments[0],f=arguments[1];this.elt[l].setLocation(te.ON,f)}else if(arguments.length===3){var m=arguments[0],S=arguments[1],A=arguments[2];this.elt[m].setLocation(S,A)}}},{key:"isEqualOnSide",value:function(l,f){return this.elt[0].isEqualOnSide(l.elt[0],f)&&this.elt[1].isEqualOnSide(l.elt[1],f)}},{key:"allPositionsEqual",value:function(l,f){return this.elt[l].allPositionsEqual(f)}},{key:"toLine",value:function(l){this.elt[l].isArea()&&(this.elt[l]=new Ci(this.elt[l].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var l=arguments[0];this.elt[0]=new Ci(l),this.elt[1]=new Ci(l)}else if(arguments[0]instanceof E){var f=arguments[0];this.elt[0]=new Ci(f.elt[0]),this.elt[1]=new Ci(f.elt[1])}}else if(arguments.length===2){var m=arguments[0],S=arguments[1];this.elt[0]=new Ci(G.NONE),this.elt[1]=new Ci(G.NONE),this.elt[m].setLocation(S)}else if(arguments.length===3){var A=arguments[0],F=arguments[1],j=arguments[2];this.elt[0]=new Ci(A,F,j),this.elt[1]=new Ci(A,F,j)}else if(arguments.length===4){var ie=arguments[0],fe=arguments[1],Ie=arguments[2],Oe=arguments[3];this.elt[0]=new Ci(G.NONE,G.NONE,G.NONE),this.elt[1]=new Ci(G.NONE,G.NONE,G.NONE),this.elt[ie].setLocations(fe,Ie,Oe)}}},{key:"toLineLabel",value:function(l){for(var f=new E(G.NONE),m=0;m<2;m++)f.setLocation(m,l.getLocation(m));return f}}]),E}(),xo=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"computeRing",value:function(){if(this._ring!==null)return null;for(var l=new Array(this._pts.size()).fill(null),f=0;f<this._pts.size();f++)l[f]=this._pts.get(f);this._ring=this._geometryFactory.createLinearRing(l),this._isHole=Et.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"computePoints",value:function(l){this._startDe=l;var f=l,m=!0;do{if(f===null)throw new ze("Found null DirectedEdge");if(f.getEdgeRing()===this)throw new ze("Directed Edge visited twice during ring-building at "+f.getCoordinate());this._edges.add(f);var S=f.getLabel();le.isTrue(S.isArea()),this.mergeLabel(S),this.addPoints(f.getEdge(),f.isForward(),m),m=!1,this.setEdgeRing(f,this),f=this.getNext(f)}while(f!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(l){return this._pts.get(l)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var l=this._startDe;do{var f=l.getNode().getEdges().getOutgoingDegree(this);f>this._maxNodeDegree&&(this._maxNodeDegree=f),l=this.getNext(l)}while(l!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(l,f,m){var S=l.getCoordinates();if(f){var A=1;m&&(A=0);for(var F=A;F<S.length;F++)this._pts.add(S[F])}else{var j=S.length-2;m&&(j=S.length-1);for(var ie=j;ie>=0;ie--)this._pts.add(S[ie])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var l=this._startDe;do l.getEdge().setInResult(!0),l=l.getNext();while(l!==this._startDe)}},{key:"containsPoint",value:function(l){var f=this.getLinearRing();if(!f.getEnvelopeInternal().contains(l)||!xl.isInRing(l,f.getCoordinates()))return!1;for(var m=this._holes.iterator();m.hasNext();)if(m.next().containsPoint(l))return!1;return!0}},{key:"addHole",value:function(l){this._holes.add(l)}},{key:"isShell",value:function(){return this._shell===null}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(arguments.length===1){var l=arguments[0];this.mergeLabel(l,0),this.mergeLabel(l,1)}else if(arguments.length===2){var f=arguments[0],m=arguments[1],S=f.getLocation(m,te.RIGHT);if(S===G.NONE)return null;if(this._label.getLocation(m)===G.NONE)return this._label.setLocation(m,S),null}}},{key:"setShell",value:function(l){this._shell=l,l!==null&&l.addHole(this)}},{key:"toPolygon",value:function(l){for(var f=new Array(this._holes.size()).fill(null),m=0;m<this._holes.size();m++)f[m]=this._holes.get(m).getLinearRing();return l.createPolygon(this.getLinearRing(),f)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new be,this._pts=new be,this._label=new yr(G.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new be,this._geometryFactory=null,arguments.length!==0){if(arguments.length===2){var l=arguments[0],f=arguments[1];this._geometryFactory=f,this.computePoints(l),this.computeRing()}}}}]),E}(),kp=function(E){a(f,E);var l=g(f);function f(){var m;return n(this,f),m=l.call(this),f.constructor_.apply(p(m),arguments),m}return r(f,[{key:"setEdgeRing",value:function(m,S){m.setMinEdgeRing(S)}},{key:"getNext",value:function(m){return m.getNextMin()}}],[{key:"constructor_",value:function(){var m=arguments[0],S=arguments[1];xo.constructor_.call(this,m,S)}}]),f}(xo),dc=function(E){a(f,E);var l=g(f);function f(){var m;return n(this,f),m=l.call(this),f.constructor_.apply(p(m),arguments),m}return r(f,[{key:"buildMinimalRings",value:function(){var m=new be,S=this._startDe;do{if(S.getMinEdgeRing()===null){var A=new kp(S,this._geometryFactory);m.add(A)}S=S.getNext()}while(S!==this._startDe);return m}},{key:"setEdgeRing",value:function(m,S){m.setEdgeRing(S)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var m=this._startDe;do m.getNode().getEdges().linkMinimalDirectedEdges(this),m=m.getNext();while(m!==this._startDe)}},{key:"getNext",value:function(m){return m.getNext()}}],[{key:"constructor_",value:function(){var m=arguments[0],S=arguments[1];xo.constructor_.call(this,m,S)}}]),f}(xo),fc=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"setVisited",value:function(l){this._isVisited=l}},{key:"setInResult",value:function(l){this._isInResult=l}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(l){this._label=l}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(l){this._isCovered=l,this._isCoveredSet=!0}},{key:"updateIM",value:function(l){le.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(l)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var l=arguments[0];this._label=l}}}}]),E}(),Ml=function(E){a(f,E);var l=g(f);function f(){var m;return n(this,f),m=l.call(this),f.constructor_.apply(p(m),arguments),m}return r(f,[{key:"isIncidentEdgeInResult",value:function(){for(var m=this.getEdges().getEdges().iterator();m.hasNext();)if(m.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(m){m.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(m){}},{key:"computeMergedLocation",value:function(m,S){var A=G.NONE;if(A=this._label.getLocation(S),!m.isNull(S)){var F=m.getLocation(S);A!==G.BOUNDARY&&(A=F)}return A}},{key:"setLabel",value:function(){if(arguments.length!==2||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return y(s(f.prototype),"setLabel",this).apply(this,arguments);var m=arguments[0],S=arguments[1];this._label===null?this._label=new yr(m,S):this._label.setLocation(m,S)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof f){var m=arguments[0];this.mergeLabel(m._label)}else if(arguments[0]instanceof yr)for(var S=arguments[0],A=0;A<2;A++){var F=this.computeMergedLocation(S,A),j=this._label.getLocation(A);j===G.NONE&&this._label.setLocation(A,F)}}},{key:"add",value:function(m){this._edges.insert(m),m.setNode(this)}},{key:"setLabelBoundary",value:function(m){if(this._label===null)return null;var S=G.NONE;this._label!==null&&(S=this._label.getLocation(m));var A=null;switch(S){case G.BOUNDARY:A=G.INTERIOR;break;case G.INTERIOR:default:A=G.BOUNDARY}this._label.setLocation(m,A)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var m=arguments[0],S=arguments[1];this._coord=m,this._edges=S,this._label=new yr(0,G.NONE)}}]),f}(fc),Ip=function(E){a(f,E);var l=g(f);function f(){return n(this,f),l.apply(this,arguments)}return f}(Vn);function hc(E){return E==null?0:E.color}function Tn(E){return E==null?null:E.parent}function sr(E,l){E!==null&&(E.color=l)}function pc(E){return E==null?null:E.left}function Tl(E){return E==null?null:E.right}var Mo=function(E){a(f,E);var l=g(f);function f(){var m;return n(this,f),(m=l.call(this)).root_=null,m.size_=0,m}return r(f,[{key:"get",value:function(m){for(var S=this.root_;S!==null;){var A=m.compareTo(S.key);if(A<0)S=S.left;else{if(!(A>0))return S.value;S=S.right}}return null}},{key:"put",value:function(m,S){if(this.root_===null)return this.root_={key:m,value:S,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var A,F,j=this.root_;do if(A=j,(F=m.compareTo(j.key))<0)j=j.left;else{if(!(F>0)){var ie=j.value;return j.value=S,ie}j=j.right}while(j!==null);var fe={key:m,left:null,right:null,value:S,parent:A,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return F<0?A.left=fe:A.right=fe,this.fixAfterInsertion(fe),this.size_++,null}},{key:"fixAfterInsertion",value:function(m){var S;for(m.color=1;m!=null&&m!==this.root_&&m.parent.color===1;)Tn(m)===pc(Tn(Tn(m)))?hc(S=Tl(Tn(Tn(m))))===1?(sr(Tn(m),0),sr(S,0),sr(Tn(Tn(m)),1),m=Tn(Tn(m))):(m===Tl(Tn(m))&&(m=Tn(m),this.rotateLeft(m)),sr(Tn(m),0),sr(Tn(Tn(m)),1),this.rotateRight(Tn(Tn(m)))):hc(S=pc(Tn(Tn(m))))===1?(sr(Tn(m),0),sr(S,0),sr(Tn(Tn(m)),1),m=Tn(Tn(m))):(m===pc(Tn(m))&&(m=Tn(m),this.rotateRight(m)),sr(Tn(m),0),sr(Tn(Tn(m)),1),this.rotateLeft(Tn(Tn(m))));this.root_.color=0}},{key:"values",value:function(){var m=new be,S=this.getFirstEntry();if(S!==null)for(m.add(S.value);(S=f.successor(S))!==null;)m.add(S.value);return m}},{key:"entrySet",value:function(){var m=new it,S=this.getFirstEntry();if(S!==null)for(m.add(S);(S=f.successor(S))!==null;)m.add(S);return m}},{key:"rotateLeft",value:function(m){if(m!=null){var S=m.right;m.right=S.left,S.left!=null&&(S.left.parent=m),S.parent=m.parent,m.parent==null?this.root_=S:m.parent.left===m?m.parent.left=S:m.parent.right=S,S.left=m,m.parent=S}}},{key:"rotateRight",value:function(m){if(m!=null){var S=m.left;m.left=S.right,S.right!=null&&(S.right.parent=m),S.parent=m.parent,m.parent==null?this.root_=S:m.parent.right===m?m.parent.right=S:m.parent.left=S,S.right=m,m.parent=S}}},{key:"getFirstEntry",value:function(){var m=this.root_;if(m!=null)for(;m.left!=null;)m=m.left;return m}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(m){for(var S=this.root_;S!==null;){var A=m.compareTo(S.key);if(A<0)S=S.left;else{if(!(A>0))return!0;S=S.right}}return!1}}],[{key:"successor",value:function(m){var S;if(m===null)return null;if(m.right!==null){for(S=m.right;S.left!==null;)S=S.left;return S}S=m.parent;for(var A=m;S!==null&&A===S.right;)A=S,S=S.parent;return S}}]),f}(Ip),Bd=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"find",value:function(l){return this.nodeMap.get(l)}},{key:"addNode",value:function(){if(arguments[0]instanceof ue){var l=arguments[0],f=this.nodeMap.get(l);return f===null&&(f=this.nodeFact.createNode(l),this.nodeMap.put(l,f)),f}if(arguments[0]instanceof Ml){var m=arguments[0],S=this.nodeMap.get(m.getCoordinate());return S===null?(this.nodeMap.put(m.getCoordinate(),m),m):(S.mergeLabel(m),S)}}},{key:"print",value:function(l){for(var f=this.iterator();f.hasNext();)f.next().print(l)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(l){for(var f=new be,m=this.iterator();m.hasNext();){var S=m.next();S.getLabel().getLocation(l)===G.BOUNDARY&&f.add(S)}return f}},{key:"add",value:function(l){var f=l.getCoordinate();this.addNode(f).add(l)}}],[{key:"constructor_",value:function(){this.nodeMap=new Mo,this.nodeFact=null;var l=arguments[0];this.nodeFact=l}}]),E}(),ge=function(){function E(){n(this,E)}return r(E,null,[{key:"isNorthern",value:function(l){return l===E.NE||l===E.NW}},{key:"isOpposite",value:function(l,f){return l!==f&&(l-f+4)%4===2}},{key:"commonHalfPlane",value:function(l,f){if(l===f)return l;if((l-f+4)%4===2)return-1;var m=l<f?l:f;return m===0&&(l>f?l:f)===3?3:m}},{key:"isInHalfPlane",value:function(l,f){return f===E.SE?l===E.SE||l===E.SW:l===f||l===f+1}},{key:"quadrant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var l=arguments[0],f=arguments[1];if(l===0&&f===0)throw new T("Cannot compute the quadrant for point ( "+l+", "+f+" )");return l>=0?f>=0?E.NE:E.SE:f>=0?E.NW:E.SW}if(arguments[0]instanceof ue&&arguments[1]instanceof ue){var m=arguments[0],S=arguments[1];if(S.x===m.x&&S.y===m.y)throw new T("Cannot compute the quadrant for two identical points "+m);return S.x>=m.x?S.y>=m.y?E.NE:E.SE:S.y>=m.y?E.NW:E.SW}}}]),E}();ge.NE=0,ge.NW=1,ge.SW=2,ge.SE=3;var Ze=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"compareDirection",value:function(l){return this._dx===l._dx&&this._dy===l._dy?0:this._quadrant>l._quadrant?1:this._quadrant<l._quadrant?-1:Et.index(l._p0,l._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(l){this._node=l}},{key:"print",value:function(l){var f=Math.atan2(this._dy,this._dx),m=this.getClass().getName(),S=m.lastIndexOf("."),A=m.substring(S+1);l.print("  "+A+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+f+"   "+this._label)}},{key:"compareTo",value:function(l){var f=l;return this.compareDirection(f)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var l=Math.atan2(this._dy,this._dx),f=this.getClass().getName(),m=f.lastIndexOf(".");return"  "+f.substring(m+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+l+"   "+this._label}},{key:"computeLabel",value:function(l){}},{key:"init",value:function(l,f){this._p0=l,this._p1=f,this._dx=f.x-l.x,this._dy=f.y-l.y,this._quadrant=ge.quadrant(this._dx,this._dy),le.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[R]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var l=arguments[0];this._edge=l}else if(arguments.length===3){var f=arguments[0],m=arguments[1],S=arguments[2];E.constructor_.call(this,f,m,S,null)}else if(arguments.length===4){var A=arguments[0],F=arguments[1],j=arguments[2],ie=arguments[3];E.constructor_.call(this,A),this.init(F,j),this._label=ie}}}]),E}(),pt=function(E){a(f,E);var l=g(f);function f(){var m;return n(this,f),m=l.call(this),f.constructor_.apply(p(m),arguments),m}return r(f,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(m){return this._depth[m]}},{key:"setVisited",value:function(m){this._isVisited=m}},{key:"computeDirectedLabel",value:function(){this._label=new yr(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(m,S){if(this._depth[m]!==-999&&this._depth[m]!==S)throw new ze("assigned depths do not match",this.getCoordinate());this._depth[m]=S}},{key:"isInteriorAreaEdge",value:function(){for(var m=!0,S=0;S<2;S++)this._label.isArea(S)&&this._label.getLocation(S,te.LEFT)===G.INTERIOR&&this._label.getLocation(S,te.RIGHT)===G.INTERIOR||(m=!1);return m}},{key:"setNextMin",value:function(m){this._nextMin=m}},{key:"print",value:function(m){y(s(f.prototype),"print",this).call(this,m),m.print(" "+this._depth[te.LEFT]+"/"+this._depth[te.RIGHT]),m.print(" ("+this.getDepthDelta()+")"),this._isInResult&&m.print(" inResult")}},{key:"setMinEdgeRing",value:function(m){this._minEdgeRing=m}},{key:"isLineEdge",value:function(){var m=this._label.isLine(0)||this._label.isLine(1),S=!this._label.isArea(0)||this._label.allPositionsEqual(0,G.EXTERIOR),A=!this._label.isArea(1)||this._label.allPositionsEqual(1,G.EXTERIOR);return m&&S&&A}},{key:"setEdgeRing",value:function(m){this._edgeRing=m}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var m=this._edge.getDepthDelta();return this._isForward||(m=-m),m}},{key:"setInResult",value:function(m){this._isInResult=m}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(m){this.print(m),m.print(" "),this._isForward?this._edge.print(m):this._edge.printReverse(m)}},{key:"setSym",value:function(m){this._sym=m}},{key:"setVisitedEdge",value:function(m){this.setVisited(m),this._sym.setVisited(m)}},{key:"setEdgeDepths",value:function(m,S){var A=this.getEdge().getDepthDelta();this._isForward||(A=-A);var F=1;m===te.LEFT&&(F=-1);var j=te.opposite(m),ie=S+A*F;this.setDepth(m,S),this.setDepth(j,ie)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(m){this._next=m}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var m=arguments[0],S=arguments[1];if(Ze.constructor_.call(this,m),this._isForward=S,S)this.init(m.getCoordinate(0),m.getCoordinate(1));else{var A=m.getNumPoints()-1;this.init(m.getCoordinate(A),m.getCoordinate(A-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(m,S){return m===G.EXTERIOR&&S===G.INTERIOR?1:m===G.INTERIOR&&S===G.EXTERIOR?-1:0}}]),f}(Ze),Xt=function(){function E(){n(this,E)}return r(E,[{key:"createNode",value:function(l){return new Ml(l,null)}}]),E}(),Ei=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"printEdges",value:function(l){l.println("Edges:");for(var f=0;f<this._edges.size();f++){l.println("edge "+f+":");var m=this._edges.get(f);m.print(l),m.eiList.print(l)}}},{key:"find",value:function(l){return this._nodes.find(l)}},{key:"addNode",value:function(){if(arguments[0]instanceof Ml){var l=arguments[0];return this._nodes.addNode(l)}if(arguments[0]instanceof ue){var f=arguments[0];return this._nodes.addNode(f)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var l=this._nodes.iterator();l.hasNext();)l.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(l){Ee.out.println(l)}},{key:"isBoundaryNode",value:function(l,f){var m=this._nodes.find(f);if(m===null)return!1;var S=m.getLabel();return S!==null&&S.getLocation(l)===G.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var l=this._nodes.iterator();l.hasNext();)l.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(l,f,m,S){return!!l.equals(m)&&Et.index(l,f,S)===Et.COLLINEAR&&ge.quadrant(l,f)===ge.quadrant(m,S)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(l){Ee.out.print(l)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(l,f){for(var m=0;m<this._edges.size();m++){var S=this._edges.get(m),A=S.getCoordinates();if(this.matchInSameDirection(l,f,A[0],A[1])||this.matchInSameDirection(l,f,A[A.length-1],A[A.length-2]))return S}return null}},{key:"insertEdge",value:function(l){this._edges.add(l)}},{key:"findEdgeEnd",value:function(l){for(var f=this.getEdgeEnds().iterator();f.hasNext();){var m=f.next();if(m.getEdge()===l)return m}return null}},{key:"addEdges",value:function(l){for(var f=l.iterator();f.hasNext();){var m=f.next();this._edges.add(m);var S=new pt(m,!0),A=new pt(m,!1);S.setSym(A),A.setSym(S),this.add(S),this.add(A)}}},{key:"add",value:function(l){this._nodes.add(l),this._edgeEndList.add(l)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(l,f){for(var m=0;m<this._edges.size();m++){var S=this._edges.get(m),A=S.getCoordinates();if(l.equals(A[0])&&f.equals(A[1]))return S}return null}}],[{key:"constructor_",value:function(){if(this._edges=new be,this._nodes=null,this._edgeEndList=new be,arguments.length===0)this._nodes=new Bd(new Xt);else if(arguments.length===1){var l=arguments[0];this._nodes=new Bd(l)}}},{key:"linkResultDirectedEdges",value:function(l){for(var f=l.iterator();f.hasNext();)f.next().getEdges().linkResultDirectedEdges()}}]),E}(),Wi=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"sortShellsAndHoles",value:function(l,f,m){for(var S=l.iterator();S.hasNext();){var A=S.next();A.isHole()?m.add(A):f.add(A)}}},{key:"computePolygons",value:function(l){for(var f=new be,m=l.iterator();m.hasNext();){var S=m.next().toPolygon(this._geometryFactory);f.add(S)}return f}},{key:"placeFreeHoles",value:function(l,f){for(var m=f.iterator();m.hasNext();){var S=m.next();if(S.getShell()===null){var A=E.findEdgeRingContaining(S,l);if(A===null)throw new ze("unable to assign hole to a shell",S.getCoordinate(0));S.setShell(A)}}}},{key:"buildMinimalEdgeRings",value:function(l,f,m){for(var S=new be,A=l.iterator();A.hasNext();){var F=A.next();if(F.getMaxNodeDegree()>2){F.linkDirectedEdgesForMinimalEdgeRings();var j=F.buildMinimalRings(),ie=this.findShell(j);ie!==null?(this.placePolygonHoles(ie,j),f.add(ie)):m.addAll(j)}else S.add(F)}return S}},{key:"buildMaximalEdgeRings",value:function(l){for(var f=new be,m=l.iterator();m.hasNext();){var S=m.next();if(S.isInResult()&&S.getLabel().isArea()&&S.getEdgeRing()===null){var A=new dc(S,this._geometryFactory);f.add(A),A.setInResult()}}return f}},{key:"placePolygonHoles",value:function(l,f){for(var m=f.iterator();m.hasNext();){var S=m.next();S.isHole()&&S.setShell(l)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(l){for(var f=0,m=null,S=l.iterator();S.hasNext();){var A=S.next();A.isHole()||(m=A,f++)}return le.isTrue(f<=1,"found two shells in MinimalEdgeRing list"),m}},{key:"add",value:function(){if(arguments.length===1){var l=arguments[0];this.add(l.getEdgeEnds(),l.getNodes())}else if(arguments.length===2){var f=arguments[0],m=arguments[1];Ei.linkResultDirectedEdges(m);var S=this.buildMaximalEdgeRings(f),A=new be,F=this.buildMinimalEdgeRings(S,this._shellList,A);this.sortShellsAndHoles(F,this._shellList,A),this.placeFreeHoles(this._shellList,A)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new be;var l=arguments[0];this._geometryFactory=l}},{key:"findEdgeRingContaining",value:function(l,f){for(var m=l.getLinearRing(),S=m.getEnvelopeInternal(),A=m.getCoordinateN(0),F=null,j=null,ie=f.iterator();ie.hasNext();){var fe=ie.next(),Ie=fe.getLinearRing(),Oe=Ie.getEnvelopeInternal();if(!Oe.equals(S)&&Oe.contains(S)){A=$e.ptNotInList(m.getCoordinates(),Ie.getCoordinates());var ot=!1;xl.isInRing(A,Ie.getCoordinates())&&(ot=!0),ot&&(F===null||j.contains(Oe))&&(j=(F=fe).getLinearRing().getEnvelopeInternal())}}return F}}]),E}(),Yr=function(){function E(){n(this,E)}return r(E,[{key:"getBounds",value:function(){}}]),E}(),ii=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[Yr,U]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var l=arguments[0],f=arguments[1];this._bounds=l,this._item=f}}]),E}(),To=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"poll",value:function(){if(this.isEmpty())return null;var l=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),l}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(l){for(var f=null,m=this._items.get(l);2*l<=this._size&&((f=2*l)!==this._size&&this._items.get(f+1).compareTo(this._items.get(f))<0&&f++,this._items.get(f).compareTo(m)<0);l=f)this._items.set(l,this._items.get(f));this._items.set(l,m)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return this._size===0}},{key:"add",value:function(l){this._items.add(null),this._size+=1;var f=this._size;for(this._items.set(0,l);l.compareTo(this._items.get(Math.trunc(f/2)))<0;f/=2)this._items.set(f,this._items.get(Math.trunc(f/2)));this._items.set(f,l)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new be,this._items.add(null)}}]),E}(),Os=function(){function E(){n(this,E)}return r(E,[{key:"insert",value:function(l,f){}},{key:"remove",value:function(l,f){}},{key:"query",value:function(){}}]),E}(),or=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(l){le.isTrue(this._bounds===null),this._childBoundables.add(l)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[Yr,U]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new be,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var l=arguments[0];this._level=l}}}}]),E}(),cs={reverseOrder:function(){return{compare:function(E,l){return l.compareTo(E)}}},min:function(E){return cs.sort(E),E.get(0)},sort:function(E,l){var f=E.toArray();l?ar.sort(f,l):ar.sort(f);for(var m=E.iterator(),S=0,A=f.length;S<A;S++)m.next(),m.set(f[S])},singletonList:function(E){var l=new be;return l.add(E),l}},Ud=function(){function E(){n(this,E)}return r(E,null,[{key:"maxDistance",value:function(l,f,m,S,A,F,j,ie){var fe=E.distance(l,f,A,F);return fe=Math.max(fe,E.distance(l,f,j,ie)),fe=Math.max(fe,E.distance(m,S,A,F)),fe=Math.max(fe,E.distance(m,S,j,ie))}},{key:"distance",value:function(l,f,m,S){var A=m-l,F=S-f;return Math.sqrt(A*A+F*F)}},{key:"maximumDistance",value:function(l,f){var m=Math.min(l.getMinX(),f.getMinX()),S=Math.min(l.getMinY(),f.getMinY()),A=Math.max(l.getMaxX(),f.getMaxX()),F=Math.max(l.getMaxY(),f.getMaxY());return E.distance(m,S,A,F)}},{key:"minMaxDistance",value:function(l,f){var m=l.getMinX(),S=l.getMinY(),A=l.getMaxX(),F=l.getMaxY(),j=f.getMinX(),ie=f.getMinY(),fe=f.getMaxX(),Ie=f.getMaxY(),Oe=E.maxDistance(m,S,m,F,j,ie,j,Ie);return Oe=Math.min(Oe,E.maxDistance(m,S,m,F,j,ie,fe,ie)),Oe=Math.min(Oe,E.maxDistance(m,S,m,F,fe,Ie,j,Ie)),Oe=Math.min(Oe,E.maxDistance(m,S,m,F,fe,Ie,fe,ie)),Oe=Math.min(Oe,E.maxDistance(m,S,A,S,j,ie,j,Ie)),Oe=Math.min(Oe,E.maxDistance(m,S,A,S,j,ie,fe,ie)),Oe=Math.min(Oe,E.maxDistance(m,S,A,S,fe,Ie,j,Ie)),Oe=Math.min(Oe,E.maxDistance(m,S,A,S,fe,Ie,fe,ie)),Oe=Math.min(Oe,E.maxDistance(A,F,m,F,j,ie,j,Ie)),Oe=Math.min(Oe,E.maxDistance(A,F,m,F,j,ie,fe,ie)),Oe=Math.min(Oe,E.maxDistance(A,F,m,F,fe,Ie,j,Ie)),Oe=Math.min(Oe,E.maxDistance(A,F,m,F,fe,Ie,fe,ie)),Oe=Math.min(Oe,E.maxDistance(A,F,A,S,j,ie,j,Ie)),Oe=Math.min(Oe,E.maxDistance(A,F,A,S,j,ie,fe,ie)),Oe=Math.min(Oe,E.maxDistance(A,F,A,S,fe,Ie,j,Ie)),Oe=Math.min(Oe,E.maxDistance(A,F,A,S,fe,Ie,fe,ie))}}]),E}(),Va=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"maximumDistance",value:function(){return Ud.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(l,f){var m=E.isComposite(this._boundable1),S=E.isComposite(this._boundable2);if(m&&S)return E.area(this._boundable1)>E.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,l,f),null):(this.expand(this._boundable2,this._boundable1,!0,l,f),null);if(m)return this.expand(this._boundable1,this._boundable2,!1,l,f),null;if(S)return this.expand(this._boundable2,this._boundable1,!0,l,f),null;throw new T("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(E.isComposite(this._boundable1)||E.isComposite(this._boundable2))}},{key:"compareTo",value:function(l){var f=l;return this._distance<f._distance?-1:this._distance>f._distance?1:0}},{key:"expand",value:function(l,f,m,S,A){for(var F=l.getChildBoundables().iterator();F.hasNext();){var j=F.next(),ie=null;(ie=m?new E(f,j,this._itemDistance):new E(j,f,this._itemDistance)).getDistance()<A&&S.add(ie)}}},{key:"getBoundable",value:function(l){return l===0?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[R]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var l=arguments[0],f=arguments[1],m=arguments[2];this._boundable1=l,this._boundable2=f,this._itemDistance=m,this._distance=this.distance()}},{key:"area",value:function(l){return l.getBounds().getArea()}},{key:"isComposite",value:function(l){return l instanceof or}}]),E}(),Ao=function(){function E(){n(this,E)}return r(E,[{key:"visitItem",value:function(l){}}]),E}(),Al=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"queryInternal",value:function(){if(Ae(arguments[2],Ao)&&arguments[0]instanceof Object&&arguments[1]instanceof or)for(var l=arguments[0],f=arguments[1],m=arguments[2],S=f.getChildBoundables(),A=0;A<S.size();A++){var F=S.get(A);this.getIntersectsOp().intersects(F.getBounds(),l)&&(F instanceof or?this.queryInternal(l,F,m):F instanceof ii?m.visitItem(F.getItem()):le.shouldNeverReachHere())}else if(Ae(arguments[2],Be)&&arguments[0]instanceof Object&&arguments[1]instanceof or)for(var j=arguments[0],ie=arguments[1],fe=arguments[2],Ie=ie.getChildBoundables(),Oe=0;Oe<Ie.size();Oe++){var ot=Ie.get(Oe);this.getIntersectsOp().intersects(ot.getBounds(),j)&&(ot instanceof or?this.queryInternal(j,ot,fe):ot instanceof ii?fe.add(ot.getItem()):le.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(l){return l.get(l.size()-1)}},{key:"size",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var l=arguments[0],f=0,m=l.getChildBoundables().iterator();m.hasNext();){var S=m.next();S instanceof or?f+=this.size(S):S instanceof ii&&(f+=1)}return f}}},{key:"removeItem",value:function(l,f){for(var m=null,S=l.getChildBoundables().iterator();S.hasNext();){var A=S.next();A instanceof ii&&A.getItem()===f&&(m=A)}return m!==null&&(l.getChildBoundables().remove(m),!0)}},{key:"itemsTree",value:function(){if(arguments.length===0){this.build();var l=this.itemsTree(this._root);return l===null?new be:l}if(arguments.length===1){for(var f=arguments[0],m=new be,S=f.getChildBoundables().iterator();S.hasNext();){var A=S.next();if(A instanceof or){var F=this.itemsTree(A);F!==null&&m.add(F)}else A instanceof ii?m.add(A.getItem()):le.shouldNeverReachHere()}return m.size()<=0?null:m}}},{key:"insert",value:function(l,f){le.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new ii(l,f))}},{key:"boundablesAtLevel",value:function(){if(arguments.length===1){var l=arguments[0],f=new be;return this.boundablesAtLevel(l,this._root,f),f}if(arguments.length===3){var m=arguments[0],S=arguments[1],A=arguments[2];if(le.isTrue(m>-2),S.getLevel()===m)return A.add(S),null;for(var F=S.getChildBoundables().iterator();F.hasNext();){var j=F.next();j instanceof or?this.boundablesAtLevel(m,j,A):(le.isTrue(j instanceof ii),m===-1&&A.add(j))}return null}}},{key:"query",value:function(){if(arguments.length===1){var l=arguments[0];this.build();var f=new be;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),l)&&this.queryInternal(l,this._root,f),f}if(arguments.length===2){var m=arguments[0],S=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),m)&&this.queryInternal(m,this._root,S)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(arguments.length===2){var l=arguments[0],f=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),l)&&this.remove(l,this._root,f)}if(arguments.length===3){var m=arguments[0],S=arguments[1],A=arguments[2],F=this.removeItem(S,A);if(F)return!0;for(var j=null,ie=S.getChildBoundables().iterator();ie.hasNext();){var fe=ie.next();if(this.getIntersectsOp().intersects(fe.getBounds(),m)&&fe instanceof or&&(F=this.remove(m,fe,A))){j=fe;break}}return j!==null&&j.getChildBoundables().isEmpty()&&S.getChildBoundables().remove(j),F}}},{key:"createHigherLevels",value:function(l,f){le.isTrue(!l.isEmpty());var m=this.createParentBoundables(l,f+1);return m.size()===1?m.get(0):this.createHigherLevels(m,f+1)}},{key:"depth",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var l=arguments[0],f=0,m=l.getChildBoundables().iterator();m.hasNext();){var S=m.next();if(S instanceof or){var A=this.depth(S);A>f&&(f=A)}}return f+1}}},{key:"createParentBoundables",value:function(l,f){le.isTrue(!l.isEmpty());var m=new be;m.add(this.createNode(f));var S=new be(l);cs.sort(S,this.getComparator());for(var A=S.iterator();A.hasNext();){var F=A.next();this.lastNode(m).getChildBoundables().size()===this.getNodeCapacity()&&m.add(this.createNode(f)),this.lastNode(m).addChildBoundable(F)}return m}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[U]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new be,this._nodeCapacity=null,arguments.length===0)E.constructor_.call(this,E.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var l=arguments[0];le.isTrue(l>1,"Node capacity must be greater than 1"),this._nodeCapacity=l}}},{key:"compareDoubles",value:function(l,f){return l>f?1:l<f?-1:0}}]),E}();Al.IntersectsOp=function(){},Al.DEFAULT_NODE_CAPACITY=10;var Ak=function(){function E(){n(this,E)}return r(E,[{key:"distance",value:function(l,f){}}]),E}(),za=function(E){a(f,E);var l=g(f);function f(){var m;return n(this,f),m=l.call(this),f.constructor_.apply(p(m),arguments),m}return r(f,[{key:"createParentBoundablesFromVerticalSlices",value:function(m,S){le.isTrue(m.length>0);for(var A=new be,F=0;F<m.length;F++)A.addAll(this.createParentBoundablesFromVerticalSlice(m[F],S));return A}},{key:"nearestNeighbourK",value:function(){if(arguments.length===2){var m=arguments[0],S=arguments[1];return this.nearestNeighbourK(m,V.POSITIVE_INFINITY,S)}if(arguments.length===3){var A=arguments[0],F=arguments[1],j=arguments[2],ie=F,fe=new To;fe.add(A);for(var Ie=new To;!fe.isEmpty()&&ie>=0;){var Oe=fe.poll(),ot=Oe.getDistance();if(ot>=ie)break;if(Oe.isLeaves())if(Ie.size()<j)Ie.add(Oe);else{var It=Ie.peek();It.getDistance()>ot&&(Ie.poll(),Ie.add(Oe));var Mt=Ie.peek();ie=Mt.getDistance()}else Oe.expandToQueue(fe,ie)}return f.getItems(Ie)}}},{key:"createNode",value:function(m){return new r_(m)}},{key:"size",value:function(){return arguments.length===0?y(s(f.prototype),"size",this).call(this):y(s(f.prototype),"size",this).apply(this,arguments)}},{key:"insert",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof De))return y(s(f.prototype),"insert",this).apply(this,arguments);var m=arguments[0],S=arguments[1];if(m.isNull())return null;y(s(f.prototype),"insert",this).call(this,m,S)}},{key:"getIntersectsOp",value:function(){return f.intersectsOp}},{key:"verticalSlices",value:function(m,S){for(var A=Math.trunc(Math.ceil(m.size()/S)),F=new Array(S).fill(null),j=m.iterator(),ie=0;ie<S;ie++){F[ie]=new be;for(var fe=0;j.hasNext()&&fe<A;){var Ie=j.next();F[ie].add(Ie),fe++}}return F}},{key:"query",value:function(){if(arguments.length===1){var m=arguments[0];return y(s(f.prototype),"query",this).call(this,m)}if(arguments.length===2){var S=arguments[0],A=arguments[1];y(s(f.prototype),"query",this).call(this,S,A)}}},{key:"getComparator",value:function(){return f.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(m,S){return y(s(f.prototype),"createParentBoundables",this).call(this,m,S)}},{key:"remove",value:function(){if(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof De){var m=arguments[0],S=arguments[1];return y(s(f.prototype),"remove",this).call(this,m,S)}return y(s(f.prototype),"remove",this).apply(this,arguments)}},{key:"depth",value:function(){return arguments.length===0?y(s(f.prototype),"depth",this).call(this):y(s(f.prototype),"depth",this).apply(this,arguments)}},{key:"createParentBoundables",value:function(m,S){le.isTrue(!m.isEmpty());var A=Math.trunc(Math.ceil(m.size()/this.getNodeCapacity())),F=new be(m);cs.sort(F,f.xComparator);var j=this.verticalSlices(F,Math.trunc(Math.ceil(Math.sqrt(A))));return this.createParentBoundablesFromVerticalSlices(j,S)}},{key:"nearestNeighbour",value:function(){if(arguments.length===1){if(Ae(arguments[0],Ak)){var m=arguments[0];if(this.isEmpty())return null;var S=new Va(this.getRoot(),this.getRoot(),m);return this.nearestNeighbour(S)}if(arguments[0]instanceof Va){var A=arguments[0],F=V.POSITIVE_INFINITY,j=null,ie=new To;for(ie.add(A);!ie.isEmpty()&&F>0;){var fe=ie.poll(),Ie=fe.getDistance();if(Ie>=F)break;fe.isLeaves()?(F=Ie,j=fe):fe.expandToQueue(ie,F)}return j===null?null:[j.getBoundable(0).getItem(),j.getBoundable(1).getItem()]}}else{if(arguments.length===2){var Oe=arguments[0],ot=arguments[1];if(this.isEmpty()||Oe.isEmpty())return null;var It=new Va(this.getRoot(),Oe.getRoot(),ot);return this.nearestNeighbour(It)}if(arguments.length===3){var Mt=arguments[0],Jt=arguments[1],rn=arguments[2],fn=new ii(Mt,Jt),Nn=new Va(this.getRoot(),fn,rn);return this.nearestNeighbour(Nn)[0]}if(arguments.length===4){var si=arguments[0],Ki=arguments[1],Fr=arguments[2],va=arguments[3],ds=new ii(si,Ki),Io=new Va(this.getRoot(),ds,Fr);return this.nearestNeighbourK(Io,va)}}}},{key:"isWithinDistance",value:function(){if(arguments.length===2){var m=arguments[0],S=arguments[1],A=V.POSITIVE_INFINITY,F=new To;for(F.add(m);!F.isEmpty();){var j=F.poll(),ie=j.getDistance();if(ie>S)return!1;if(j.maximumDistance()<=S)return!0;if(j.isLeaves()){if((A=ie)<=S)return!0}else j.expandToQueue(F,A)}return!1}if(arguments.length===3){var fe=arguments[0],Ie=arguments[1],Oe=arguments[2],ot=new Va(this.getRoot(),fe.getRoot(),Ie);return this.isWithinDistance(ot,Oe)}}},{key:"interfaces_",get:function(){return[Os,U]}}],[{key:"constructor_",value:function(){if(arguments.length===0)f.constructor_.call(this,f.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var m=arguments[0];Al.constructor_.call(this,m)}}},{key:"centreX",value:function(m){return f.avg(m.getMinX(),m.getMaxX())}},{key:"avg",value:function(m,S){return(m+S)/2}},{key:"getItems",value:function(m){for(var S=new Array(m.size()).fill(null),A=0;!m.isEmpty();){var F=m.poll();S[A]=F.getBoundable(0).getItem(),A++}return S}},{key:"centreY",value:function(m){return f.avg(m.getMinY(),m.getMaxY())}}]),f}(Al),r_=function(E){a(f,E);var l=g(f);function f(){var m;return n(this,f),m=l.call(this),f.constructor_.apply(p(m),arguments),m}return r(f,[{key:"computeBounds",value:function(){for(var m=null,S=this.getChildBoundables().iterator();S.hasNext();){var A=S.next();m===null?m=new De(A.getBounds()):m.expandToInclude(A.getBounds())}return m}}],[{key:"constructor_",value:function(){var m=arguments[0];or.constructor_.call(this,m)}}]),f}(or);za.STRtreeNode=r_,za.xComparator=new(function(){function E(){n(this,E)}return r(E,[{key:"interfaces_",get:function(){return[ee]}},{key:"compare",value:function(l,f){return Al.compareDoubles(za.centreX(l.getBounds()),za.centreX(f.getBounds()))}}]),E}()),za.yComparator=new(function(){function E(){n(this,E)}return r(E,[{key:"interfaces_",get:function(){return[ee]}},{key:"compare",value:function(l,f){return Al.compareDoubles(za.centreY(l.getBounds()),za.centreY(f.getBounds()))}}]),E}()),za.intersectsOp=new(function(){function E(){n(this,E)}return r(E,[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(l,f){return l.intersects(f)}}]),E}()),za.DEFAULT_NODE_CAPACITY=10;var kk=function(){function E(){n(this,E)}return r(E,null,[{key:"relativeSign",value:function(l,f){return l<f?-1:l>f?1:0}},{key:"compare",value:function(l,f,m){if(f.equals2D(m))return 0;var S=E.relativeSign(f.x,m.x),A=E.relativeSign(f.y,m.y);switch(l){case 0:return E.compareValue(S,A);case 1:return E.compareValue(A,S);case 2:return E.compareValue(A,-S);case 3:return E.compareValue(-S,A);case 4:return E.compareValue(-S,-A);case 5:return E.compareValue(-A,-S);case 6:return E.compareValue(-A,S);case 7:return E.compareValue(S,-A)}return le.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(l,f){return l<0?-1:l>0?1:f<0?-1:f>0?1:0}}]),E}(),Ik=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(l){l.print(this.coord),l.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(l){var f=l;return this.segmentIndex<f.segmentIndex?-1:this.segmentIndex>f.segmentIndex?1:this.coord.equals2D(f.coord)?0:this._isInterior?f._isInterior?kk.compare(this._segmentOctant,this.coord,f.coord):1:-1}},{key:"isEndPoint",value:function(l){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===l}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[R]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var l=arguments[0],f=arguments[1],m=arguments[2],S=arguments[3];this._segString=l,this.coord=new ue(f),this.segmentIndex=m,this._segmentOctant=S,this._isInterior=!f.equals2D(l.getCoordinate(m))}}]),E}(),Pk=function(){function E(){n(this,E)}return r(E,[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}]),E}(),Rk=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"getSplitCoordinates",value:function(){var l=new Se;this.addEndpoints();for(var f=this.iterator(),m=f.next();f.hasNext();){var S=f.next();this.addEdgeCoordinates(m,S,l),m=S}return l.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var l=new be;this.findCollapsesFromInsertedNodes(l),this.findCollapsesFromExistingVertices(l);for(var f=l.iterator();f.hasNext();){var m=f.next().intValue();this.add(this._edge.getCoordinate(m),m)}}},{key:"createSplitEdgePts",value:function(l,f){var m=f.segmentIndex-l.segmentIndex+2;if(m===2)return[new ue(l.coord),new ue(f.coord)];var S=this._edge.getCoordinate(f.segmentIndex),A=f.isInterior()||!f.coord.equals2D(S);A||m--;var F=new Array(m).fill(null),j=0;F[j++]=new ue(l.coord);for(var ie=l.segmentIndex+1;ie<=f.segmentIndex;ie++)F[j++]=this._edge.getCoordinate(ie);return A&&(F[j]=new ue(f.coord)),F}},{key:"print",value:function(l){l.println("Intersections:");for(var f=this.iterator();f.hasNext();)f.next().print(l)}},{key:"findCollapsesFromExistingVertices",value:function(l){for(var f=0;f<this._edge.size()-2;f++){var m=this._edge.getCoordinate(f);this._edge.getCoordinate(f+1);var S=this._edge.getCoordinate(f+2);m.equals2D(S)&&l.add(Xe.valueOf(f+1))}}},{key:"addEdgeCoordinates",value:function(l,f,m){var S=this.createSplitEdgePts(l,f);m.add(S,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(l){this.addEndpoints(),this.addCollapsedNodes();for(var f=this.iterator(),m=f.next();f.hasNext();){var S=f.next(),A=this.createSplitEdge(m,S);l.add(A),m=S}}},{key:"findCollapseIndex",value:function(l,f,m){if(!l.coord.equals2D(f.coord))return!1;var S=f.segmentIndex-l.segmentIndex;return f.isInterior()||S--,S===1&&(m[0]=l.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(l){for(var f=new Array(1).fill(null),m=this.iterator(),S=m.next();m.hasNext();){var A=m.next();this.findCollapseIndex(S,A,f)&&l.add(Xe.valueOf(f[0])),S=A}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var l=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(l),l)}},{key:"createSplitEdge",value:function(l,f){var m=this.createSplitEdgePts(l,f);return new ko(m,this._edge.getData())}},{key:"add",value:function(l,f){var m=new Ik(this._edge,l,f,this._edge.getSegmentOctant(f)),S=this._nodeMap.get(m);return S!==null?(le.isTrue(S.coord.equals2D(l),"Found equal nodes with different coordinates"),S):(this._nodeMap.put(m,m),m)}},{key:"checkSplitEdgesCorrectness",value:function(l){var f=this._edge.getCoordinates(),m=l.get(0).getCoordinate(0);if(!m.equals2D(f[0]))throw new ce("bad split edge start point at "+m);var S=l.get(l.size()-1).getCoordinates(),A=S[S.length-1];if(!A.equals2D(f[f.length-1]))throw new ce("bad split edge end point at "+A)}}],[{key:"constructor_",value:function(){this._nodeMap=new Mo,this._edge=null;var l=arguments[0];this._edge=l}}]),E}(),Lk=function(){function E(){n(this,E)}return r(E,null,[{key:"octant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var l=arguments[0],f=arguments[1];if(l===0&&f===0)throw new T("Cannot compute the octant for point ( "+l+", "+f+" )");var m=Math.abs(l),S=Math.abs(f);return l>=0?f>=0?m>=S?0:1:m>=S?7:6:f>=0?m>=S?3:2:m>=S?4:5}if(arguments[0]instanceof ue&&arguments[1]instanceof ue){var A=arguments[0],F=arguments[1],j=F.x-A.x,ie=F.y-A.y;if(j===0&&ie===0)throw new T("Cannot compute the octant for two identical points "+A);return E.octant(j,ie)}}}]),E}(),Nk=function(){function E(){n(this,E)}return r(E,[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(l){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(l){}},{key:"getData",value:function(){}}]),E}(),Ok=function(){function E(){n(this,E)}return r(E,[{key:"addIntersection",value:function(l,f){}},{key:"interfaces_",get:function(){return[Nk]}}]),E}(),ko=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(l){return this._pts[l]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(l){return l===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(l),this.getCoordinate(l+1))}},{key:"setData",value:function(l){this._data=l}},{key:"safeOctant",value:function(l,f){return l.equals2D(f)?0:Lk.octant(l,f)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(arguments.length===2){var l=arguments[0],f=arguments[1];this.addIntersectionNode(l,f)}else if(arguments.length===4){var m=arguments[0],S=arguments[1],A=arguments[3],F=new ue(m.getIntersection(A));this.addIntersection(F,S)}}},{key:"toString",value:function(){return cc.toLineString(new Qt(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(l,f){var m=f,S=m+1;if(S<this._pts.length){var A=this._pts[S];l.equals2D(A)&&(m=S)}return this._nodeList.add(l,m)}},{key:"addIntersections",value:function(l,f,m){for(var S=0;S<l.getIntersectionNum();S++)this.addIntersection(l,f,m,S)}},{key:"interfaces_",get:function(){return[Ok]}}],[{key:"constructor_",value:function(){this._nodeList=new Rk(this),this._pts=null,this._data=null;var l=arguments[0],f=arguments[1];this._pts=l,this._data=f}},{key:"getNodedSubstrings",value:function(){if(arguments.length===1){var l=arguments[0],f=new be;return E.getNodedSubstrings(l,f),f}if(arguments.length===2)for(var m=arguments[0],S=arguments[1],A=m.iterator();A.hasNext();){var F=A.next();F.getNodeList().addSplitEdges(S)}}}]),E}(),Or=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof E){var l=arguments[0],f=Et.index(this.p0,this.p1,l.p0),m=Et.index(this.p0,this.p1,l.p1);return f>=0&&m>=0||f<=0&&m<=0?Math.max(f,m):0}if(arguments[0]instanceof ue){var S=arguments[0];return Et.index(this.p0,this.p1,S)}}},{key:"toGeometry",value:function(l){return l.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(l){if(!(l instanceof E))return!1;var f=l;return this.p0.equals(f.p0)&&this.p1.equals(f.p1)}},{key:"intersection",value:function(l){var f=new us;return f.computeIntersection(this.p0,this.p1,l.p0,l.p1),f.hasIntersection()?f.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof ue){var l=arguments[0];if(l.equals(this.p0)||l.equals(this.p1))return new ue(l);var f=this.projectionFactor(l),m=new ue;return m.x=this.p0.x+f*(this.p1.x-this.p0.x),m.y=this.p0.y+f*(this.p1.y-this.p0.y),m}if(arguments[0]instanceof E){var S=arguments[0],A=this.projectionFactor(S.p0),F=this.projectionFactor(S.p1);if(A>=1&&F>=1||A<=0&&F<=0)return null;var j=this.project(S.p0);A<0&&(j=this.p0),A>1&&(j=this.p1);var ie=this.project(S.p1);return F<0&&(ie=this.p0),F>1&&(ie=this.p1),new E(j,ie)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(l){return l===0?this.p0:this.p1}},{key:"distancePerpendicular",value:function(l){return ve.pointToLinePerpendicular(l,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return E.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(l){if(l.equals(this.p0))return 0;if(l.equals(this.p1))return 1;var f=this.p1.x-this.p0.x,m=this.p1.y-this.p0.y,S=f*f+m*m;return S<=0?V.NaN:((l.x-this.p0.x)*f+(l.y-this.p0.y)*m)/S}},{key:"closestPoints",value:function(l){var f=this.intersection(l);if(f!==null)return[f,f];var m=new Array(2).fill(null),S=V.MAX_VALUE,A=null,F=this.closestPoint(l.p0);S=F.distance(l.p0),m[0]=F,m[1]=l.p0;var j=this.closestPoint(l.p1);(A=j.distance(l.p1))<S&&(S=A,m[0]=j,m[1]=l.p1);var ie=l.closestPoint(this.p0);(A=ie.distance(this.p0))<S&&(S=A,m[0]=this.p0,m[1]=ie);var fe=l.closestPoint(this.p1);return(A=fe.distance(this.p1))<S&&(S=A,m[0]=this.p1,m[1]=fe),m}},{key:"closestPoint",value:function(l){var f=this.projectionFactor(l);return f>0&&f<1?this.project(l):this.p0.distance(l)<this.p1.distance(l)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(l){var f=l,m=this.p0.compareTo(f.p0);return m!==0?m:this.p1.compareTo(f.p1)}},{key:"reverse",value:function(){var l=this.p0;this.p0=this.p1,this.p1=l}},{key:"equalsTopo",value:function(l){return this.p0.equals(l.p0)&&this.p1.equals(l.p1)||this.p0.equals(l.p1)&&this.p1.equals(l.p0)}},{key:"lineIntersection",value:function(l){return Ft.intersection(this.p0,this.p1,l.p0,l.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(l,f){var m=this.p0.x+l*(this.p1.x-this.p0.x),S=this.p0.y+l*(this.p1.y-this.p0.y),A=this.p1.x-this.p0.x,F=this.p1.y-this.p0.y,j=Math.sqrt(A*A+F*F),ie=0,fe=0;if(f!==0){if(j<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");ie=f*A/j,fe=f*F/j}return new ue(m-fe,S+ie)}},{key:"setCoordinates",value:function(){if(arguments.length===1){var l=arguments[0];this.setCoordinates(l.p0,l.p1)}else if(arguments.length===2){var f=arguments[0],m=arguments[1];this.p0.x=f.x,this.p0.y=f.y,this.p1.x=m.x,this.p1.y=m.y}}},{key:"segmentFraction",value:function(l){var f=this.projectionFactor(l);return f<0?f=0:(f>1||V.isNaN(f))&&(f=1),f}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(l){var f=this.p1.getY()-this.p0.getY(),m=this.p0.getX()-this.p1.getX(),S=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),A=f*f+m*m,F=f*f-m*m,j=l.getX(),ie=l.getY();return new ue((-F*j-2*f*m*ie-2*f*S)/A,(F*ie-2*f*m*j-2*m*S)/A)}},{key:"distance",value:function(){if(arguments[0]instanceof E){var l=arguments[0];return ve.segmentToSegment(this.p0,this.p1,l.p0,l.p1)}if(arguments[0]instanceof ue){var f=arguments[0];return ve.pointToSegment(f,this.p0,this.p1)}}},{key:"pointAlong",value:function(l){var f=new ue;return f.x=this.p0.x+l*(this.p1.x-this.p0.x),f.y=this.p0.y+l*(this.p1.y-this.p0.y),f}},{key:"hashCode",value:function(){var l=V.doubleToLongBits(this.p0.x);l^=31*V.doubleToLongBits(this.p0.y);var f=Math.trunc(l)^Math.trunc(l>>32),m=V.doubleToLongBits(this.p1.x);return m^=31*V.doubleToLongBits(this.p1.y),f^(Math.trunc(m)^Math.trunc(m>>32))}},{key:"interfaces_",get:function(){return[R,U]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,arguments.length===0)E.constructor_.call(this,new ue,new ue);else if(arguments.length===1){var l=arguments[0];E.constructor_.call(this,l.p0,l.p1)}else if(arguments.length===2){var f=arguments[0],m=arguments[1];this.p0=f,this.p1=m}else if(arguments.length===4){var S=arguments[0],A=arguments[1],F=arguments[2],j=arguments[3];E.constructor_.call(this,new ue(S,A),new ue(F,j))}}},{key:"midPoint",value:function(l,f){return new ue((l.x+f.x)/2,(l.y+f.y)/2)}}]),E}(),Dk=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"overlap",value:function(){if(arguments.length!==2){if(arguments.length===4){var l=arguments[0],f=arguments[1],m=arguments[2],S=arguments[3];l.getLineSegment(f,this._overlapSeg1),m.getLineSegment(S,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new Or,this._overlapSeg2=new Or}}]),E}(),a_=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"getLineSegment",value:function(l,f){f.p0=this._pts[l],f.p1=this._pts[l+1]}},{key:"computeSelect",value:function(l,f,m,S){var A=this._pts[f],F=this._pts[m];if(m-f==1)return S.select(this,f),null;if(!l.intersects(A,F))return null;var j=Math.trunc((f+m)/2);f<j&&this.computeSelect(l,f,j,S),j<m&&this.computeSelect(l,j,m,S)}},{key:"getCoordinates",value:function(){for(var l=new Array(this._end-this._start+1).fill(null),f=0,m=this._start;m<=this._end;m++)l[f++]=this._pts[m];return l}},{key:"computeOverlaps",value:function(){if(arguments.length===2){var l=arguments[0],f=arguments[1];this.computeOverlaps(this._start,this._end,l,l._start,l._end,f)}else if(arguments.length===6){var m=arguments[0],S=arguments[1],A=arguments[2],F=arguments[3],j=arguments[4],ie=arguments[5];if(S-m==1&&j-F==1)return ie.overlap(this,m,A,F),null;if(!this.overlaps(m,S,A,F,j))return null;var fe=Math.trunc((m+S)/2),Ie=Math.trunc((F+j)/2);m<fe&&(F<Ie&&this.computeOverlaps(m,fe,A,F,Ie,ie),Ie<j&&this.computeOverlaps(m,fe,A,Ie,j,ie)),fe<S&&(F<Ie&&this.computeOverlaps(fe,S,A,F,Ie,ie),Ie<j&&this.computeOverlaps(fe,S,A,Ie,j,ie))}}},{key:"setId",value:function(l){this._id=l}},{key:"select",value:function(l,f){this.computeSelect(l,this._start,this._end,f)}},{key:"getEnvelope",value:function(){if(this._env===null){var l=this._pts[this._start],f=this._pts[this._end];this._env=new De(l,f)}return this._env}},{key:"overlaps",value:function(l,f,m,S,A){return De.intersects(this._pts[l],this._pts[f],m._pts[S],m._pts[A])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var l=arguments[0],f=arguments[1],m=arguments[2],S=arguments[3];this._pts=l,this._start=f,this._end=m,this._context=S}}]),E}(),Fk=function(){function E(){n(this,E)}return r(E,null,[{key:"findChainEnd",value:function(l,f){for(var m=f;m<l.length-1&&l[m].equals2D(l[m+1]);)m++;if(m>=l.length-1)return l.length-1;for(var S=ge.quadrant(l[m],l[m+1]),A=f+1;A<l.length&&!(!l[A-1].equals2D(l[A])&&ge.quadrant(l[A-1],l[A])!==S);)A++;return A-1}},{key:"getChains",value:function(){if(arguments.length===1){var l=arguments[0];return E.getChains(l,null)}if(arguments.length===2){var f=arguments[0],m=arguments[1],S=new be,A=0;do{var F=E.findChainEnd(f,A),j=new a_(f,A,F,m);S.add(j),A=F}while(A<f.length-1);return S}}}]),E}(),Pp=function(){function E(){n(this,E)}return r(E,[{key:"computeNodes",value:function(l){}},{key:"getNodedSubstrings",value:function(){}}]),E}(),s_=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"setSegmentIntersector",value:function(l){this._segInt=l}},{key:"interfaces_",get:function(){return[Pp]}}],[{key:"constructor_",value:function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var l=arguments[0];this.setSegmentIntersector(l)}}}}]),E}(),Rp=function(E){a(f,E);var l=g(f);function f(){var m;return n(this,f),m=l.call(this),f.constructor_.apply(p(m),arguments),m}return r(f,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return ko.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(m){for(var S=Fk.getChains(m.getCoordinates(),m).iterator();S.hasNext();){var A=S.next();A.setId(this._idCounter++),this._index.insert(A.getEnvelope(),A),this._monoChains.add(A)}}},{key:"computeNodes",value:function(m){this._nodedSegStrings=m;for(var S=m.iterator();S.hasNext();)this.add(S.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var m=new o_(this._segInt),S=this._monoChains.iterator();S.hasNext();)for(var A=S.next(),F=this._index.query(A.getEnvelope()).iterator();F.hasNext();){var j=F.next();if(j.getId()>A.getId()&&(A.computeOverlaps(j,m),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new be,this._index=new za,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,arguments.length!==0){if(arguments.length===1){var m=arguments[0];s_.constructor_.call(this,m)}}}}]),f}(s_),o_=function(E){a(f,E);var l=g(f);function f(){var m;return n(this,f),m=l.call(this),f.constructor_.apply(p(m),arguments),m}return r(f,[{key:"overlap",value:function(){if(arguments.length!==4)return y(s(f.prototype),"overlap",this).apply(this,arguments);var m=arguments[0],S=arguments[1],A=arguments[2],F=arguments[3],j=m.getContext(),ie=A.getContext();this._si.processIntersections(j,S,ie,F)}}],[{key:"constructor_",value:function(){this._si=null;var m=arguments[0];this._si=m}}]),f}(Dk);Rp.SegmentOverlapAction=o_;var ma=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"isDeletable",value:function(l,f,m,S){var A=this._inputLine[l],F=this._inputLine[f],j=this._inputLine[m];return!!this.isConcave(A,F,j)&&!!this.isShallow(A,F,j,S)&&this.isShallowSampled(A,F,l,m,S)}},{key:"deleteShallowConcavities",value:function(){for(var l=1,f=this.findNextNonDeletedIndex(l),m=this.findNextNonDeletedIndex(f),S=!1;m<this._inputLine.length;){var A=!1;this.isDeletable(l,f,m,this._distanceTol)&&(this._isDeleted[f]=E.DELETE,A=!0,S=!0),l=A?m:f,f=this.findNextNonDeletedIndex(l),m=this.findNextNonDeletedIndex(f)}return S}},{key:"isShallowConcavity",value:function(l,f,m,S){return Et.index(l,f,m)===this._angleOrientation&&ve.pointToSegment(f,l,m)<S}},{key:"isShallowSampled",value:function(l,f,m,S,A){var F=Math.trunc((S-m)/E.NUM_PTS_TO_CHECK);F<=0&&(F=1);for(var j=m;j<S;j+=F)if(!this.isShallow(l,f,this._inputLine[j],A))return!1;return!0}},{key:"isConcave",value:function(l,f,m){var S=Et.index(l,f,m)===this._angleOrientation;return S}},{key:"simplify",value:function(l){this._distanceTol=Math.abs(l),l<0&&(this._angleOrientation=Et.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var f=!1;do f=this.deleteShallowConcavities();while(f);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(l){for(var f=l+1;f<this._inputLine.length&&this._isDeleted[f]===E.DELETE;)f++;return f}},{key:"isShallow",value:function(l,f,m,S){return ve.pointToSegment(f,l,m)<S}},{key:"collapseLine",value:function(){for(var l=new Se,f=0;f<this._inputLine.length;f++)this._isDeleted[f]!==E.DELETE&&l.add(this._inputLine[f]);return l.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Et.COUNTERCLOCKWISE;var l=arguments[0];this._inputLine=l}},{key:"simplify",value:function(l,f){return new E(l).simplify(f)}}]),E}();ma.INIT=0,ma.DELETE=1,ma.KEEP=1,ma.NUM_PTS_TO_CHECK=10;var l_=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"getCoordinates",value:function(){return this._ptList.toArray(E.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(l){this._precisionModel=l}},{key:"addPt",value:function(l){var f=new ue(l);if(this._precisionModel.makePrecise(f),this.isRedundant(f))return null;this._ptList.add(f)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(l,f){if(f)for(var m=0;m<l.length;m++)this.addPt(l[m]);else for(var S=l.length-1;S>=0;S--)this.addPt(l[S])}},{key:"isRedundant",value:function(l){if(this._ptList.size()<1)return!1;var f=this._ptList.get(this._ptList.size()-1);return l.distance(f)<this._minimimVertexDistance}},{key:"toString",value:function(){return new ln().createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var l=new ue(this._ptList.get(0)),f=this._ptList.get(this._ptList.size()-1);if(l.equals(f))return null;this._ptList.add(l)}},{key:"setMinimumVertexDistance",value:function(l){this._minimimVertexDistance=l}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new be}}]),E}();l_.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var Dr=function(){function E(){n(this,E)}return r(E,null,[{key:"toDegrees",value:function(l){return 180*l/Math.PI}},{key:"normalize",value:function(l){for(;l>Math.PI;)l-=E.PI_TIMES_2;for(;l<=-Math.PI;)l+=E.PI_TIMES_2;return l}},{key:"angle",value:function(){if(arguments.length===1){var l=arguments[0];return Math.atan2(l.y,l.x)}if(arguments.length===2){var f=arguments[0],m=arguments[1],S=m.x-f.x,A=m.y-f.y;return Math.atan2(A,S)}}},{key:"isAcute",value:function(l,f,m){var S=l.x-f.x,A=l.y-f.y;return S*(m.x-f.x)+A*(m.y-f.y)>0}},{key:"isObtuse",value:function(l,f,m){var S=l.x-f.x,A=l.y-f.y;return S*(m.x-f.x)+A*(m.y-f.y)<0}},{key:"interiorAngle",value:function(l,f,m){var S=E.angle(f,l),A=E.angle(f,m);return Math.abs(A-S)}},{key:"normalizePositive",value:function(l){if(l<0){for(;l<0;)l+=E.PI_TIMES_2;l>=E.PI_TIMES_2&&(l=0)}else{for(;l>=E.PI_TIMES_2;)l-=E.PI_TIMES_2;l<0&&(l=0)}return l}},{key:"angleBetween",value:function(l,f,m){var S=E.angle(f,l),A=E.angle(f,m);return E.diff(S,A)}},{key:"diff",value:function(l,f){var m=null;return(m=l<f?f-l:l-f)>Math.PI&&(m=2*Math.PI-m),m}},{key:"toRadians",value:function(l){return l*Math.PI/180}},{key:"getTurn",value:function(l,f){var m=Math.sin(f-l);return m>0?E.COUNTERCLOCKWISE:m<0?E.CLOCKWISE:E.NONE}},{key:"angleBetweenOriented",value:function(l,f,m){var S=E.angle(f,l),A=E.angle(f,m)-S;return A<=-Math.PI?A+E.PI_TIMES_2:A>Math.PI?A-E.PI_TIMES_2:A}}]),E}();Dr.PI_TIMES_2=2*Math.PI,Dr.PI_OVER_2=Math.PI/2,Dr.PI_OVER_4=Math.PI/4,Dr.COUNTERCLOCKWISE=Et.COUNTERCLOCKWISE,Dr.CLOCKWISE=Et.CLOCKWISE,Dr.NONE=Et.COLLINEAR;var mc=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"addNextSegment",value:function(l,f){if(this._s0=this._s1,this._s1=this._s2,this._s2=l,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var m=Et.index(this._s0,this._s1,this._s2),S=m===Et.CLOCKWISE&&this._side===te.LEFT||m===Et.COUNTERCLOCKWISE&&this._side===te.RIGHT;m===0?this.addCollinear(f):S?this.addOutsideTurn(m,f):this.addInsideTurn(m,f)}},{key:"addLineEndCap",value:function(l,f){var m=new Or(l,f),S=new Or;this.computeOffsetSegment(m,te.LEFT,this._distance,S);var A=new Or;this.computeOffsetSegment(m,te.RIGHT,this._distance,A);var F=f.x-l.x,j=f.y-l.y,ie=Math.atan2(j,F);switch(this._bufParams.getEndCapStyle()){case C.CAP_ROUND:this._segList.addPt(S.p1),this.addDirectedFillet(f,ie+Math.PI/2,ie-Math.PI/2,Et.CLOCKWISE,this._distance),this._segList.addPt(A.p1);break;case C.CAP_FLAT:this._segList.addPt(S.p1),this._segList.addPt(A.p1);break;case C.CAP_SQUARE:var fe=new ue;fe.x=Math.abs(this._distance)*Math.cos(ie),fe.y=Math.abs(this._distance)*Math.sin(ie);var Ie=new ue(S.p1.x+fe.x,S.p1.y+fe.y),Oe=new ue(A.p1.x+fe.x,A.p1.y+fe.y);this._segList.addPt(Ie),this._segList.addPt(Oe)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(l,f,m,S){var A=Ft.intersection(f.p0,f.p1,m.p0,m.p1);if(A!==null&&(S<=0?1:A.distance(l)/Math.abs(S))<=this._bufParams.getMitreLimit())return this._segList.addPt(A),null;this.addLimitedMitreJoin(f,m,S,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(l,f){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*E.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===C.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===C.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(f&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,l,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(l){this._segList.addPt(new ue(l.x+this._distance,l.y+this._distance)),this._segList.addPt(new ue(l.x+this._distance,l.y-this._distance)),this._segList.addPt(new ue(l.x-this._distance,l.y-this._distance)),this._segList.addPt(new ue(l.x-this._distance,l.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(l,f){this._segList.addPts(l,f)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(l,f,m,S,A){var F=f.x-l.x,j=f.y-l.y,ie=Math.atan2(j,F),fe=m.x-l.x,Ie=m.y-l.y,Oe=Math.atan2(Ie,fe);S===Et.CLOCKWISE?ie<=Oe&&(ie+=2*Math.PI):ie>=Oe&&(ie-=2*Math.PI),this._segList.addPt(f),this.addDirectedFillet(l,ie,Oe,S,A),this._segList.addPt(m)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(l,f,m){this._s1=l,this._s2=f,this._side=m,this._seg1.setCoordinates(l,f),this.computeOffsetSegment(this._seg1,m,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(l,f,m,S){var A=this._seg0.p1,F=Dr.angle(A,this._seg0.p0),j=Dr.angleBetweenOriented(this._seg0.p0,A,this._seg1.p1)/2,ie=Dr.normalize(F+j),fe=Dr.normalize(ie+Math.PI),Ie=S*m,Oe=m-Ie*Math.abs(Math.sin(j)),ot=A.x+Ie*Math.cos(fe),It=A.y+Ie*Math.sin(fe),Mt=new ue(ot,It),Jt=new Or(A,Mt),rn=Jt.pointAlongOffset(1,Oe),fn=Jt.pointAlongOffset(1,-Oe);this._side===te.LEFT?(this._segList.addPt(rn),this._segList.addPt(fn)):(this._segList.addPt(fn),this._segList.addPt(rn))}},{key:"addDirectedFillet",value:function(l,f,m,S,A){var F=S===Et.CLOCKWISE?-1:1,j=Math.abs(f-m),ie=Math.trunc(j/this._filletAngleQuantum+.5);if(ie<1)return null;for(var fe=j/ie,Ie=new ue,Oe=0;Oe<ie;Oe++){var ot=f+F*Oe*fe;Ie.x=l.x+A*Math.cos(ot),Ie.y=l.y+A*Math.sin(ot),this._segList.addPt(Ie)}}},{key:"computeOffsetSegment",value:function(l,f,m,S){var A=f===te.LEFT?1:-1,F=l.p1.x-l.p0.x,j=l.p1.y-l.p0.y,ie=Math.sqrt(F*F+j*j),fe=A*m*F/ie,Ie=A*m*j/ie;S.p0.x=l.p0.x-Ie,S.p0.y=l.p0.y+fe,S.p1.x=l.p1.x-Ie,S.p1.y=l.p1.y+fe}},{key:"addInsideTurn",value:function(l,f){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*E.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var m=new ue((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(m);var S=new ue((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(S)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(l){var f=new ue(l.x+this._distance,l.y);this._segList.addPt(f),this.addDirectedFillet(l,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(l,f){this._segList.addPt(l.p1),this._segList.addPt(f.p0)}},{key:"init",value:function(l){this._distance=l,this._maxCurveSegmentError=l*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new l_,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(l*E.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(l){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===C.JOIN_BEVEL||this._bufParams.getJoinStyle()===C.JOIN_MITRE?(l&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,Et.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Or,this._seg1=new Or,this._offset0=new Or,this._offset1=new Or,this._side=0,this._hasNarrowConcaveAngle=!1;var l=arguments[0],f=arguments[1],m=arguments[2];this._precisionModel=l,this._bufParams=f,this._li=new us,this._filletAngleQuantum=Math.PI/2/f.getQuadrantSegments(),f.getQuadrantSegments()>=8&&f.getJoinStyle()===C.JOIN_ROUND&&(this._closingSegLengthFactor=E.MAX_CLOSING_SEG_LEN_FACTOR),this.init(m)}}]),E}();mc.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,mc.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,mc.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,mc.MAX_CLOSING_SEG_LEN_FACTOR=80;var Bk=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"getOffsetCurve",value:function(l,f){if(this._distance=f,f===0)return null;var m=f<0,S=Math.abs(f),A=this.getSegGen(S);l.length<=1?this.computePointCurve(l[0],A):this.computeOffsetCurve(l,m,A);var F=A.getCoordinates();return m&&$e.reverse(F),F}},{key:"computeSingleSidedBufferCurve",value:function(l,f,m){var S=this.simplifyTolerance(this._distance);if(f){m.addSegments(l,!0);var A=ma.simplify(l,-S),F=A.length-1;m.initSideSegments(A[F],A[F-1],te.LEFT),m.addFirstSegment();for(var j=F-2;j>=0;j--)m.addNextSegment(A[j],!0)}else{m.addSegments(l,!1);var ie=ma.simplify(l,S),fe=ie.length-1;m.initSideSegments(ie[0],ie[1],te.LEFT),m.addFirstSegment();for(var Ie=2;Ie<=fe;Ie++)m.addNextSegment(ie[Ie],!0)}m.addLastSegment(),m.closeRing()}},{key:"computeRingBufferCurve",value:function(l,f,m){var S=this.simplifyTolerance(this._distance);f===te.RIGHT&&(S=-S);var A=ma.simplify(l,S),F=A.length-1;m.initSideSegments(A[F-1],A[0],f);for(var j=1;j<=F;j++){var ie=j!==1;m.addNextSegment(A[j],ie)}m.closeRing()}},{key:"computeLineBufferCurve",value:function(l,f){var m=this.simplifyTolerance(this._distance),S=ma.simplify(l,m),A=S.length-1;f.initSideSegments(S[0],S[1],te.LEFT);for(var F=2;F<=A;F++)f.addNextSegment(S[F],!0);f.addLastSegment(),f.addLineEndCap(S[A-1],S[A]);var j=ma.simplify(l,-m),ie=j.length-1;f.initSideSegments(j[ie],j[ie-1],te.LEFT);for(var fe=ie-2;fe>=0;fe--)f.addNextSegment(j[fe],!0);f.addLastSegment(),f.addLineEndCap(j[1],j[0]),f.closeRing()}},{key:"computePointCurve",value:function(l,f){switch(this._bufParams.getEndCapStyle()){case C.CAP_ROUND:f.createCircle(l);break;case C.CAP_SQUARE:f.createSquare(l)}}},{key:"getLineCurve",value:function(l,f){if(this._distance=f,this.isLineOffsetEmpty(f))return null;var m=Math.abs(f),S=this.getSegGen(m);if(l.length<=1)this.computePointCurve(l[0],S);else if(this._bufParams.isSingleSided()){var A=f<0;this.computeSingleSidedBufferCurve(l,A,S)}else this.computeLineBufferCurve(l,S);return S.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(l){return l*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(l,f,m){if(this._distance=m,l.length<=2)return this.getLineCurve(l,m);if(m===0)return E.copyCoordinates(l);var S=this.getSegGen(m);return this.computeRingBufferCurve(l,f,S),S.getCoordinates()}},{key:"computeOffsetCurve",value:function(l,f,m){var S=this.simplifyTolerance(this._distance);if(f){var A=ma.simplify(l,-S),F=A.length-1;m.initSideSegments(A[F],A[F-1],te.LEFT),m.addFirstSegment();for(var j=F-2;j>=0;j--)m.addNextSegment(A[j],!0)}else{var ie=ma.simplify(l,S),fe=ie.length-1;m.initSideSegments(ie[0],ie[1],te.LEFT),m.addFirstSegment();for(var Ie=2;Ie<=fe;Ie++)m.addNextSegment(ie[Ie],!0)}m.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(l){return l===0||l<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(l){return new mc(this._precisionModel,this._bufParams,l)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var l=arguments[0],f=arguments[1];this._precisionModel=l,this._bufParams=f}},{key:"copyCoordinates",value:function(l){for(var f=new Array(l.length).fill(null),m=0;m<f.length;m++)f[m]=new ue(l[m]);return f}}]),E}(),u_=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"findStabbedSegments",value:function(){if(arguments.length===1){for(var l=arguments[0],f=new be,m=this._subgraphs.iterator();m.hasNext();){var S=m.next(),A=S.getEnvelope();l.y<A.getMinY()||l.y>A.getMaxY()||this.findStabbedSegments(l,S.getDirectedEdges(),f)}return f}if(arguments.length===3){if(Ae(arguments[2],Be)&&arguments[0]instanceof ue&&arguments[1]instanceof pt)for(var F=arguments[0],j=arguments[1],ie=arguments[2],fe=j.getEdge().getCoordinates(),Ie=0;Ie<fe.length-1;Ie++){this._seg.p0=fe[Ie],this._seg.p1=fe[Ie+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse();var Oe=Math.max(this._seg.p0.x,this._seg.p1.x);if(!(Oe<F.x)&&!(this._seg.isHorizontal()||F.y<this._seg.p0.y||F.y>this._seg.p1.y||Et.index(this._seg.p0,this._seg.p1,F)===Et.RIGHT)){var ot=j.getDepth(te.LEFT);this._seg.p0.equals(fe[Ie])||(ot=j.getDepth(te.RIGHT));var It=new c_(this._seg,ot);ie.add(It)}}else if(Ae(arguments[2],Be)&&arguments[0]instanceof ue&&Ae(arguments[1],Be))for(var Mt=arguments[0],Jt=arguments[1],rn=arguments[2],fn=Jt.iterator();fn.hasNext();){var Nn=fn.next();Nn.isForward()&&this.findStabbedSegments(Mt,Nn,rn)}}}},{key:"getDepth",value:function(l){var f=this.findStabbedSegments(l);return f.size()===0?0:cs.min(f)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new Or;var l=arguments[0];this._subgraphs=l}}]),E}(),c_=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"compareTo",value:function(l){var f=l;if(this._upwardSeg.minX()>=f._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=f._upwardSeg.minX())return-1;var m=this._upwardSeg.orientationIndex(f._upwardSeg);return m!==0||(m=-1*f._upwardSeg.orientationIndex(this._upwardSeg))!==0?m:this._upwardSeg.compareTo(f._upwardSeg)}},{key:"compareX",value:function(l,f){var m=l.p0.compareTo(f.p0);return m!==0?m:l.p1.compareTo(f.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[R]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var l=arguments[0],f=arguments[1];this._upwardSeg=new Or(l),this._leftDepth=f}}]),E}();u_.DepthSegment=c_;var d_=function(E){a(f,E);var l=g(f);function f(){var m;return n(this,f),m=l.call(this),f.constructor_.apply(p(m),arguments),m}return r(f,null,[{key:"constructor_",value:function(){x.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}]),f}(x),Lp=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"getY",value:function(){var l=this.y/this.w;if(V.isNaN(l)||V.isInfinite(l))throw new d_;return l}},{key:"getX",value:function(){var l=this.x/this.w;if(V.isNaN(l)||V.isInfinite(l))throw new d_;return l}},{key:"getCoordinate",value:function(){var l=new ue;return l.x=this.getX(),l.y=this.getY(),l}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var l=arguments[0];this.x=l.x,this.y=l.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var f=arguments[0],m=arguments[1];this.x=f,this.y=m,this.w=1}else if(arguments[0]instanceof E&&arguments[1]instanceof E){var S=arguments[0],A=arguments[1];this.x=S.y*A.w-A.y*S.w,this.y=A.x*S.w-S.x*A.w,this.w=S.x*A.y-A.x*S.y}else if(arguments[0]instanceof ue&&arguments[1]instanceof ue){var F=arguments[0],j=arguments[1];this.x=F.y-j.y,this.y=j.x-F.x,this.w=F.x*j.y-j.x*F.y}}else if(arguments.length===3){var ie=arguments[0],fe=arguments[1],Ie=arguments[2];this.x=ie,this.y=fe,this.w=Ie}else if(arguments.length===4){var Oe=arguments[0],ot=arguments[1],It=arguments[2],Mt=arguments[3],Jt=Oe.y-ot.y,rn=ot.x-Oe.x,fn=Oe.x*ot.y-ot.x*Oe.y,Nn=It.y-Mt.y,si=Mt.x-It.x,Ki=It.x*Mt.y-Mt.x*It.y;this.x=rn*Ki-si*fn,this.y=Nn*fn-Jt*Ki,this.w=Jt*si-Nn*rn}}}]),E}(),Uk=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"area",value:function(){return E.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return E.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(l){if(l===null)throw new T("Supplied point is null.");return E.interpolateZ(l,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return E.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return E.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return E.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return E.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return E.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return E.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var l=arguments[0],f=arguments[1],m=arguments[2];this.p0=l,this.p1=f,this.p2=m}},{key:"area",value:function(l,f,m){return Math.abs(((m.x-l.x)*(f.y-l.y)-(f.x-l.x)*(m.y-l.y))/2)}},{key:"signedArea",value:function(l,f,m){return((m.x-l.x)*(f.y-l.y)-(f.x-l.x)*(m.y-l.y))/2}},{key:"det",value:function(l,f,m,S){return l*S-f*m}},{key:"interpolateZ",value:function(l,f,m,S){var A=f.x,F=f.y,j=m.x-A,ie=S.x-A,fe=m.y-F,Ie=S.y-F,Oe=j*Ie-ie*fe,ot=l.x-A,It=l.y-F,Mt=(Ie*ot-ie*It)/Oe,Jt=(-fe*ot+j*It)/Oe;return f.getZ()+Mt*(m.getZ()-f.getZ())+Jt*(S.getZ()-f.getZ())}},{key:"longestSideLength",value:function(l,f,m){var S=l.distance(f),A=f.distance(m),F=m.distance(l),j=S;return A>j&&(j=A),F>j&&(j=F),j}},{key:"circumcentreDD",value:function(l,f,m){var S=nt.valueOf(l.x).subtract(m.x),A=nt.valueOf(l.y).subtract(m.y),F=nt.valueOf(f.x).subtract(m.x),j=nt.valueOf(f.y).subtract(m.y),ie=nt.determinant(S,A,F,j).multiply(2),fe=S.sqr().add(A.sqr()),Ie=F.sqr().add(j.sqr()),Oe=nt.determinant(A,fe,j,Ie),ot=nt.determinant(S,fe,F,Ie),It=nt.valueOf(m.x).subtract(Oe.divide(ie)).doubleValue(),Mt=nt.valueOf(m.y).add(ot.divide(ie)).doubleValue();return new ue(It,Mt)}},{key:"isAcute",value:function(l,f,m){return!!Dr.isAcute(l,f,m)&&!!Dr.isAcute(f,m,l)&&!!Dr.isAcute(m,l,f)}},{key:"circumcentre",value:function(l,f,m){var S=m.x,A=m.y,F=l.x-S,j=l.y-A,ie=f.x-S,fe=f.y-A,Ie=2*E.det(F,j,ie,fe),Oe=E.det(j,F*F+j*j,fe,ie*ie+fe*fe),ot=E.det(F,F*F+j*j,ie,ie*ie+fe*fe);return new ue(S-Oe/Ie,A+ot/Ie)}},{key:"perpendicularBisector",value:function(l,f){var m=f.x-l.x,S=f.y-l.y,A=new Lp(l.x+m/2,l.y+S/2,1),F=new Lp(l.x-S+m/2,l.y+m+S/2,1);return new Lp(A,F)}},{key:"angleBisector",value:function(l,f,m){var S=f.distance(l),A=S/(S+f.distance(m)),F=m.x-l.x,j=m.y-l.y;return new ue(l.x+A*F,l.y+A*j)}},{key:"area3D",value:function(l,f,m){var S=f.x-l.x,A=f.y-l.y,F=f.getZ()-l.getZ(),j=m.x-l.x,ie=m.y-l.y,fe=m.getZ()-l.getZ(),Ie=A*fe-F*ie,Oe=F*j-S*fe,ot=S*ie-A*j,It=Ie*Ie+Oe*Oe+ot*ot,Mt=Math.sqrt(It)/2;return Mt}},{key:"centroid",value:function(l,f,m){var S=(l.x+f.x+m.x)/3,A=(l.y+f.y+m.y)/3;return new ue(S,A)}},{key:"inCentre",value:function(l,f,m){var S=f.distance(m),A=l.distance(m),F=l.distance(f),j=S+A+F,ie=(S*l.x+A*f.x+F*m.x)/j,fe=(S*l.y+A*f.y+F*m.y)/j;return new ue(ie,fe)}}]),E}(),Vk=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"addRingSide",value:function(l,f,m,S,A){if(f===0&&l.length<ri.MINIMUM_VALID_SIZE)return null;var F=S,j=A;l.length>=ri.MINIMUM_VALID_SIZE&&Et.isCCW(l)&&(F=A,j=S,m=te.opposite(m));var ie=this._curveBuilder.getRingCurve(l,m,f);this.addCurve(ie,F,j)}},{key:"addRingBothSides",value:function(l,f){this.addRingSide(l,f,te.LEFT,G.EXTERIOR,G.INTERIOR),this.addRingSide(l,f,te.RIGHT,G.INTERIOR,G.EXTERIOR)}},{key:"addPoint",value:function(l){if(this._distance<=0)return null;var f=l.getCoordinates(),m=this._curveBuilder.getLineCurve(f,this._distance);this.addCurve(m,G.EXTERIOR,G.INTERIOR)}},{key:"addPolygon",value:function(l){var f=this._distance,m=te.LEFT;this._distance<0&&(f=-this._distance,m=te.RIGHT);var S=l.getExteriorRing(),A=$e.removeRepeatedPoints(S.getCoordinates());if(this._distance<0&&this.isErodedCompletely(S,this._distance)||this._distance<=0&&A.length<3)return null;this.addRingSide(A,f,m,G.EXTERIOR,G.INTERIOR);for(var F=0;F<l.getNumInteriorRing();F++){var j=l.getInteriorRingN(F),ie=$e.removeRepeatedPoints(j.getCoordinates());this._distance>0&&this.isErodedCompletely(j,-this._distance)||this.addRingSide(ie,f,te.opposite(m),G.INTERIOR,G.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(l,f){var m=new Uk(l[0],l[1],l[2]),S=m.inCentre();return ve.pointToSegment(S,m.p0,m.p1)<Math.abs(f)}},{key:"addLineString",value:function(l){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var f=$e.removeRepeatedPoints(l.getCoordinates());if($e.isRing(f)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(f,this._distance);else{var m=this._curveBuilder.getLineCurve(f,this._distance);this.addCurve(m,G.EXTERIOR,G.INTERIOR)}}},{key:"addCurve",value:function(l,f,m){if(l===null||l.length<2)return null;var S=new ko(l,new yr(0,G.BOUNDARY,f,m));this._curveList.add(S)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(l){if(l.isEmpty())return null;if(l instanceof hi)this.addPolygon(l);else if(l instanceof pn)this.addLineString(l);else if(l instanceof ci)this.addPoint(l);else if(l instanceof Ai)this.addCollection(l);else if(l instanceof Ln)this.addCollection(l);else if(l instanceof on)this.addCollection(l);else{if(!(l instanceof cn))throw new at(l.getGeometryType());this.addCollection(l)}}},{key:"isErodedCompletely",value:function(l,f){var m=l.getCoordinates();if(m.length<4)return f<0;if(m.length===4)return this.isTriangleErodedCompletely(m,f);var S=l.getEnvelopeInternal(),A=Math.min(S.getHeight(),S.getWidth());return f<0&&2*Math.abs(f)>A}},{key:"addCollection",value:function(l){for(var f=0;f<l.getNumGeometries();f++){var m=l.getGeometryN(f);this.add(m)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new be;var l=arguments[0],f=arguments[1],m=arguments[2];this._inputGeom=l,this._distance=f,this._curveBuilder=m}}]),E}(),zk=function(){function E(){n(this,E)}return r(E,[{key:"locate",value:function(l){}}]),E}(),$k=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,E.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new Qe;var l=this._parent.getGeometryN(this._index++);return l instanceof cn?(this._subcollectionIterator=new E(l),this._subcollectionIterator.next()):l}},{key:"remove",value:function(){throw new at(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[Pk]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var l=arguments[0];this._parent=l,this._atStart=!0,this._index=0,this._max=l.getNumGeometries()}},{key:"isAtomic",value:function(l){return!(l instanceof cn)}}]),E}(),Hk=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"locate",value:function(l){return E.locate(l,this._geom)}},{key:"interfaces_",get:function(){return[zk]}}],[{key:"constructor_",value:function(){this._geom=null;var l=arguments[0];this._geom=l}},{key:"locatePointInPolygon",value:function(l,f){if(f.isEmpty())return G.EXTERIOR;var m=f.getExteriorRing(),S=E.locatePointInRing(l,m);if(S!==G.INTERIOR)return S;for(var A=0;A<f.getNumInteriorRing();A++){var F=f.getInteriorRingN(A),j=E.locatePointInRing(l,F);if(j===G.BOUNDARY)return G.BOUNDARY;if(j===G.INTERIOR)return G.EXTERIOR}return G.INTERIOR}},{key:"locatePointInRing",value:function(l,f){return f.getEnvelopeInternal().intersects(l)?xl.locateInRing(l,f.getCoordinates()):G.EXTERIOR}},{key:"containsPointInPolygon",value:function(l,f){return G.EXTERIOR!==E.locatePointInPolygon(l,f)}},{key:"locateInGeometry",value:function(l,f){if(f instanceof hi)return E.locatePointInPolygon(l,f);if(f instanceof cn)for(var m=new $k(f);m.hasNext();){var S=m.next();if(S!==f){var A=E.locateInGeometry(l,S);if(A!==G.EXTERIOR)return A}}return G.EXTERIOR}},{key:"isContained",value:function(l,f){return G.EXTERIOR!==E.locate(l,f)}},{key:"locate",value:function(l,f){return f.isEmpty()?G.EXTERIOR:f.getEnvelopeInternal().intersects(l)?E.locateInGeometry(l,f):G.EXTERIOR}}]),E}(),Gk=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"getNextCW",value:function(l){this.getEdges();var f=this._edgeList.indexOf(l),m=f-1;return f===0&&(m=this._edgeList.size()-1),this._edgeList.get(m)}},{key:"propagateSideLabels",value:function(l){for(var f=G.NONE,m=this.iterator();m.hasNext();){var S=m.next().getLabel();S.isArea(l)&&S.getLocation(l,te.LEFT)!==G.NONE&&(f=S.getLocation(l,te.LEFT))}if(f===G.NONE)return null;for(var A=f,F=this.iterator();F.hasNext();){var j=F.next(),ie=j.getLabel();if(ie.getLocation(l,te.ON)===G.NONE&&ie.setLocation(l,te.ON,A),ie.isArea(l)){var fe=ie.getLocation(l,te.LEFT),Ie=ie.getLocation(l,te.RIGHT);if(Ie!==G.NONE){if(Ie!==A)throw new ze("side location conflict",j.getCoordinate());fe===G.NONE&&le.shouldNeverReachHere("found single null side (at "+j.getCoordinate()+")"),A=fe}else le.isTrue(ie.getLocation(l,te.LEFT)===G.NONE,"found single null side"),ie.setLocation(l,te.RIGHT,A),ie.setLocation(l,te.LEFT,A)}}}},{key:"getCoordinate",value:function(){var l=this.iterator();return l.hasNext()?l.next().getCoordinate():null}},{key:"print",value:function(l){Ee.out.println("EdgeEndStar:   "+this.getCoordinate());for(var f=this.iterator();f.hasNext();)f.next().print(l)}},{key:"isAreaLabelsConsistent",value:function(l){return this.computeEdgeEndLabels(l.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(l){var f=this.getEdges();if(f.size()<=0)return!0;var m=f.size()-1,S=f.get(m).getLabel().getLocation(l,te.LEFT);le.isTrue(S!==G.NONE,"Found unlabelled area edge");for(var A=S,F=this.iterator();F.hasNext();){var j=F.next().getLabel();le.isTrue(j.isArea(l),"Found non-area edge");var ie=j.getLocation(l,te.LEFT),fe=j.getLocation(l,te.RIGHT);if(ie===fe||fe!==A)return!1;A=ie}return!0}},{key:"findIndex",value:function(l){this.iterator();for(var f=0;f<this._edgeList.size();f++)if(this._edgeList.get(f)===l)return f;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return this._edgeList===null&&(this._edgeList=new be(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(l,f,m){return this._ptInAreaLocation[l]===G.NONE&&(this._ptInAreaLocation[l]=Hk.locate(f,m[l].getGeometry())),this._ptInAreaLocation[l]}},{key:"toString",value:function(){var l=new Pe;l.append("EdgeEndStar:   "+this.getCoordinate()),l.append(`
`);for(var f=this.iterator();f.hasNext();){var m=f.next();l.append(m),l.append(`
`)}return l.toString()}},{key:"computeEdgeEndLabels",value:function(l){for(var f=this.iterator();f.hasNext();)f.next().computeLabel(l)}},{key:"computeLabelling",value:function(l){this.computeEdgeEndLabels(l[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var f=[!1,!1],m=this.iterator();m.hasNext();)for(var S=m.next().getLabel(),A=0;A<2;A++)S.isLine(A)&&S.getLocation(A)===G.BOUNDARY&&(f[A]=!0);for(var F=this.iterator();F.hasNext();)for(var j=F.next(),ie=j.getLabel(),fe=0;fe<2;fe++)if(ie.isAnyNull(fe)){var Ie=G.NONE;if(f[fe])Ie=G.EXTERIOR;else{var Oe=j.getCoordinate();Ie=this.getLocation(fe,Oe,l)}ie.setAllLocationsIfNull(fe,Ie)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(l,f){this._edgeMap.put(l,f),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new Mo,this._edgeList=null,this._ptInAreaLocation=[G.NONE,G.NONE]}}]),E}(),Wk=function(E){a(f,E);var l=g(f);function f(){var m;return n(this,f),m=l.call(this),f.constructor_.apply(p(m),arguments),m}return r(f,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var m=null,S=null,A=this._SCANNING_FOR_INCOMING,F=0;F<this._resultAreaEdgeList.size();F++){var j=this._resultAreaEdgeList.get(F),ie=j.getSym();if(j.getLabel().isArea())switch(m===null&&j.isInResult()&&(m=j),A){case this._SCANNING_FOR_INCOMING:if(!ie.isInResult())continue;S=ie,A=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!j.isInResult())continue;S.setNext(j),A=this._SCANNING_FOR_INCOMING}}if(A===this._LINKING_TO_OUTGOING){if(m===null)throw new ze("no outgoing dirEdge found",this.getCoordinate());le.isTrue(m.isInResult(),"unable to link last incoming dirEdge"),S.setNext(m)}}},{key:"insert",value:function(m){var S=m;this.insertEdgeEnd(S,S)}},{key:"getRightmostEdge",value:function(){var m=this.getEdges(),S=m.size();if(S<1)return null;var A=m.get(0);if(S===1)return A;var F=m.get(S-1),j=A.getQuadrant(),ie=F.getQuadrant();return ge.isNorthern(j)&&ge.isNorthern(ie)?A:ge.isNorthern(j)||ge.isNorthern(ie)?A.getDy()!==0?A:F.getDy()!==0?F:(le.shouldNeverReachHere("found two horizontal edges incident on node"),null):F}},{key:"print",value:function(m){Ee.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var S=this.iterator();S.hasNext();){var A=S.next();m.print("out "),A.print(m),m.println(),m.print("in "),A.getSym().print(m),m.println()}}},{key:"getResultAreaEdges",value:function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new be;for(var m=this.iterator();m.hasNext();){var S=m.next();(S.isInResult()||S.getSym().isInResult())&&this._resultAreaEdgeList.add(S)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(m){for(var S=this.iterator();S.hasNext();){var A=S.next().getLabel();A.setAllLocationsIfNull(0,m.getLocation(0)),A.setAllLocationsIfNull(1,m.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var m=null,S=null,A=this._edgeList.size()-1;A>=0;A--){var F=this._edgeList.get(A),j=F.getSym();S===null&&(S=j),m!==null&&j.setNext(m),m=F}S.setNext(m)}},{key:"computeDepths",value:function(){if(arguments.length===1){var m=arguments[0],S=this.findIndex(m),A=m.getDepth(te.LEFT),F=m.getDepth(te.RIGHT),j=this.computeDepths(S+1,this._edgeList.size(),A),ie=this.computeDepths(0,S,j);if(ie!==F)throw new ze("depth mismatch at "+m.getCoordinate())}else if(arguments.length===3){for(var fe=arguments[0],Ie=arguments[1],Oe=arguments[2],ot=Oe,It=fe;It<Ie;It++){var Mt=this._edgeList.get(It);Mt.setEdgeDepths(te.RIGHT,ot),ot=Mt.getDepth(te.LEFT)}return ot}}},{key:"mergeSymLabels",value:function(){for(var m=this.iterator();m.hasNext();){var S=m.next();S.getLabel().merge(S.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(m){for(var S=null,A=null,F=this._SCANNING_FOR_INCOMING,j=this._resultAreaEdgeList.size()-1;j>=0;j--){var ie=this._resultAreaEdgeList.get(j),fe=ie.getSym();switch(S===null&&ie.getEdgeRing()===m&&(S=ie),F){case this._SCANNING_FOR_INCOMING:if(fe.getEdgeRing()!==m)continue;A=fe,F=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(ie.getEdgeRing()!==m)continue;A.setNextMin(ie),F=this._SCANNING_FOR_INCOMING}}F===this._LINKING_TO_OUTGOING&&(le.isTrue(S!==null,"found null for first outgoing dirEdge"),le.isTrue(S.getEdgeRing()===m,"unable to link last incoming dirEdge"),A.setNextMin(S))}},{key:"getOutgoingDegree",value:function(){if(arguments.length===0){for(var m=0,S=this.iterator();S.hasNext();){var A=S.next();A.isInResult()&&m++}return m}if(arguments.length===1){for(var F=arguments[0],j=0,ie=this.iterator();ie.hasNext();){var fe=ie.next();fe.getEdgeRing()===F&&j++}return j}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var m=G.NONE,S=this.iterator();S.hasNext();){var A=S.next(),F=A.getSym();if(!A.isLineEdge()){if(A.isInResult()){m=G.INTERIOR;break}if(F.isInResult()){m=G.EXTERIOR;break}}}if(m===G.NONE)return null;for(var j=m,ie=this.iterator();ie.hasNext();){var fe=ie.next(),Ie=fe.getSym();fe.isLineEdge()?fe.getEdge().setCovered(j===G.INTERIOR):(fe.isInResult()&&(j=G.EXTERIOR),Ie.isInResult()&&(j=G.INTERIOR))}}},{key:"computeLabelling",value:function(m){y(s(f.prototype),"computeLabelling",this).call(this,m),this._label=new yr(G.NONE);for(var S=this.iterator();S.hasNext();)for(var A=S.next().getEdge().getLabel(),F=0;F<2;F++){var j=A.getLocation(F);j!==G.INTERIOR&&j!==G.BOUNDARY||this._label.setLocation(F,G.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}]),f}(Gk),Kk=function(E){a(f,E);var l=g(f);function f(){return n(this,f),l.call(this)}return r(f,[{key:"createNode",value:function(m){return new Ml(m,new Wk)}}]),f}(Xt),f_=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"compareTo",value:function(l){var f=l;return E.compareOriented(this._pts,this._orientation,f._pts,f._orientation)}},{key:"interfaces_",get:function(){return[R]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var l=arguments[0];this._pts=l,this._orientation=E.orientation(l)}},{key:"orientation",value:function(l){return $e.increasingDirection(l)===1}},{key:"compareOriented",value:function(l,f,m,S){for(var A=f?1:-1,F=S?1:-1,j=f?l.length:-1,ie=S?m.length:-1,fe=f?0:l.length-1,Ie=S?0:m.length-1;;){var Oe=l[fe].compareTo(m[Ie]);if(Oe!==0)return Oe;var ot=(fe+=A)===j,It=(Ie+=F)===ie;if(ot&&!It)return-1;if(!ot&&It)return 1;if(ot&&It)return 0}}}]),E}(),qk=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"print",value:function(l){l.print("MULTILINESTRING ( ");for(var f=0;f<this._edges.size();f++){var m=this._edges.get(f);f>0&&l.print(","),l.print("(");for(var S=m.getCoordinates(),A=0;A<S.length;A++)A>0&&l.print(","),l.print(S[A].x+" "+S[A].y);l.println(")")}l.print(")  ")}},{key:"addAll",value:function(l){for(var f=l.iterator();f.hasNext();)this.add(f.next())}},{key:"findEdgeIndex",value:function(l){for(var f=0;f<this._edges.size();f++)if(this._edges.get(f).equals(l))return f;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(l){return this._edges.get(l)}},{key:"findEqualEdge",value:function(l){var f=new f_(l.getCoordinates());return this._ocaMap.get(f)}},{key:"add",value:function(l){this._edges.add(l);var f=new f_(l.getCoordinates());this._ocaMap.put(f,l)}}],[{key:"constructor_",value:function(){this._edges=new be,this._ocaMap=new Mo}}]),E}(),h_=function(){function E(){n(this,E)}return r(E,[{key:"processIntersections",value:function(l,f,m,S){}},{key:"isDone",value:function(){}}]),E}(),Yk=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"isTrivialIntersection",value:function(l,f,m,S){if(l===m&&this._li.getIntersectionNum()===1){if(E.isAdjacentSegments(f,S))return!0;if(l.isClosed()){var A=l.size()-1;if(f===0&&S===A||S===0&&f===A)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(l,f,m,S){if(l===m&&f===S)return null;this.numTests++;var A=l.getCoordinates()[f],F=l.getCoordinates()[f+1],j=m.getCoordinates()[S],ie=m.getCoordinates()[S+1];this._li.computeIntersection(A,F,j,ie),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(l,f,m,S)||(this._hasIntersection=!0,l.addIntersections(this._li,f,0),m.addIntersections(this._li,S,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[h_]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var l=arguments[0];this._li=l}},{key:"isAdjacentSegments",value:function(l,f){return Math.abs(l-f)===1}}]),E}(),jk=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(l){l.print(this.coord),l.print(" seg # = "+this.segmentIndex),l.println(" dist = "+this.dist)}},{key:"compareTo",value:function(l){var f=l;return this.compare(f.segmentIndex,f.dist)}},{key:"isEndPoint",value:function(l){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===l}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(l,f){return this.segmentIndex<l?-1:this.segmentIndex>l?1:this.dist<f?-1:this.dist>f?1:0}},{key:"interfaces_",get:function(){return[R]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var l=arguments[0],f=arguments[1],m=arguments[2];this.coord=new ue(l),this.segmentIndex=f,this.dist=m}}]),E}(),Xk=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"print",value:function(l){l.println("Intersections:");for(var f=this.iterator();f.hasNext();)f.next().print(l)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(l){this.addEndpoints();for(var f=this.iterator(),m=f.next();f.hasNext();){var S=f.next(),A=this.createSplitEdge(m,S);l.add(A),m=S}}},{key:"addEndpoints",value:function(){var l=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[l],l,0)}},{key:"createSplitEdge",value:function(l,f){var m=f.segmentIndex-l.segmentIndex+2,S=this.edge.pts[f.segmentIndex],A=f.dist>0||!f.coord.equals2D(S);A||m--;var F=new Array(m).fill(null),j=0;F[j++]=new ue(l.coord);for(var ie=l.segmentIndex+1;ie<=f.segmentIndex;ie++)F[j++]=this.edge.pts[ie];return A&&(F[j]=f.coord),new m_(F,new yr(this.edge._label))}},{key:"add",value:function(l,f,m){var S=new jk(l,f,m),A=this._nodeMap.get(S);return A!==null?A:(this._nodeMap.put(S,S),S)}},{key:"isIntersection",value:function(l){for(var f=this.iterator();f.hasNext();)if(f.next().coord.equals(l))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new Mo,this.edge=null;var l=arguments[0];this.edge=l}}]),E}(),Zk=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(E.isTrue(this._matrix[G.INTERIOR][G.INTERIOR])||E.isTrue(this._matrix[G.INTERIOR][G.BOUNDARY])||E.isTrue(this._matrix[G.BOUNDARY][G.INTERIOR])||E.isTrue(this._matrix[G.BOUNDARY][G.BOUNDARY]))&&this._matrix[G.EXTERIOR][G.INTERIOR]===ft.FALSE&&this._matrix[G.EXTERIOR][G.BOUNDARY]===ft.FALSE}},{key:"isCoveredBy",value:function(){return(E.isTrue(this._matrix[G.INTERIOR][G.INTERIOR])||E.isTrue(this._matrix[G.INTERIOR][G.BOUNDARY])||E.isTrue(this._matrix[G.BOUNDARY][G.INTERIOR])||E.isTrue(this._matrix[G.BOUNDARY][G.BOUNDARY]))&&this._matrix[G.INTERIOR][G.EXTERIOR]===ft.FALSE&&this._matrix[G.BOUNDARY][G.EXTERIOR]===ft.FALSE}},{key:"set",value:function(){if(arguments.length===1)for(var l=arguments[0],f=0;f<l.length;f++){var m=Math.trunc(f/3),S=f%3;this._matrix[m][S]=ft.toDimensionValue(l.charAt(f))}else if(arguments.length===3){var A=arguments[0],F=arguments[1],j=arguments[2];this._matrix[A][F]=j}}},{key:"isContains",value:function(){return E.isTrue(this._matrix[G.INTERIOR][G.INTERIOR])&&this._matrix[G.EXTERIOR][G.INTERIOR]===ft.FALSE&&this._matrix[G.EXTERIOR][G.BOUNDARY]===ft.FALSE}},{key:"setAtLeast",value:function(){if(arguments.length===1)for(var l=arguments[0],f=0;f<l.length;f++){var m=Math.trunc(f/3),S=f%3;this.setAtLeast(m,S,ft.toDimensionValue(l.charAt(f)))}else if(arguments.length===3){var A=arguments[0],F=arguments[1],j=arguments[2];this._matrix[A][F]<j&&(this._matrix[A][F]=j)}}},{key:"setAtLeastIfValid",value:function(l,f,m){l>=0&&f>=0&&this.setAtLeast(l,f,m)}},{key:"isWithin",value:function(){return E.isTrue(this._matrix[G.INTERIOR][G.INTERIOR])&&this._matrix[G.INTERIOR][G.EXTERIOR]===ft.FALSE&&this._matrix[G.BOUNDARY][G.EXTERIOR]===ft.FALSE}},{key:"isTouches",value:function(l,f){return l>f?this.isTouches(f,l):(l===ft.A&&f===ft.A||l===ft.L&&f===ft.L||l===ft.L&&f===ft.A||l===ft.P&&f===ft.A||l===ft.P&&f===ft.L)&&this._matrix[G.INTERIOR][G.INTERIOR]===ft.FALSE&&(E.isTrue(this._matrix[G.INTERIOR][G.BOUNDARY])||E.isTrue(this._matrix[G.BOUNDARY][G.INTERIOR])||E.isTrue(this._matrix[G.BOUNDARY][G.BOUNDARY]))}},{key:"isOverlaps",value:function(l,f){return l===ft.P&&f===ft.P||l===ft.A&&f===ft.A?E.isTrue(this._matrix[G.INTERIOR][G.INTERIOR])&&E.isTrue(this._matrix[G.INTERIOR][G.EXTERIOR])&&E.isTrue(this._matrix[G.EXTERIOR][G.INTERIOR]):l===ft.L&&f===ft.L&&this._matrix[G.INTERIOR][G.INTERIOR]===1&&E.isTrue(this._matrix[G.INTERIOR][G.EXTERIOR])&&E.isTrue(this._matrix[G.EXTERIOR][G.INTERIOR])}},{key:"isEquals",value:function(l,f){return l===f&&E.isTrue(this._matrix[G.INTERIOR][G.INTERIOR])&&this._matrix[G.INTERIOR][G.EXTERIOR]===ft.FALSE&&this._matrix[G.BOUNDARY][G.EXTERIOR]===ft.FALSE&&this._matrix[G.EXTERIOR][G.INTERIOR]===ft.FALSE&&this._matrix[G.EXTERIOR][G.BOUNDARY]===ft.FALSE}},{key:"toString",value:function(){for(var l=new Kt("123456789"),f=0;f<3;f++)for(var m=0;m<3;m++)l.setCharAt(3*f+m,ft.toDimensionSymbol(this._matrix[f][m]));return l.toString()}},{key:"setAll",value:function(l){for(var f=0;f<3;f++)for(var m=0;m<3;m++)this._matrix[f][m]=l}},{key:"get",value:function(l,f){return this._matrix[l][f]}},{key:"transpose",value:function(){var l=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=l,l=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=l,l=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=l,this}},{key:"matches",value:function(l){if(l.length!==9)throw new T("Should be length 9: "+l);for(var f=0;f<3;f++)for(var m=0;m<3;m++)if(!E.matches(this._matrix[f][m],l.charAt(3*f+m)))return!1;return!0}},{key:"add",value:function(l){for(var f=0;f<3;f++)for(var m=0;m<3;m++)this.setAtLeast(f,m,l.get(f,m))}},{key:"isDisjoint",value:function(){return this._matrix[G.INTERIOR][G.INTERIOR]===ft.FALSE&&this._matrix[G.INTERIOR][G.BOUNDARY]===ft.FALSE&&this._matrix[G.BOUNDARY][G.INTERIOR]===ft.FALSE&&this._matrix[G.BOUNDARY][G.BOUNDARY]===ft.FALSE}},{key:"isCrosses",value:function(l,f){return l===ft.P&&f===ft.L||l===ft.P&&f===ft.A||l===ft.L&&f===ft.A?E.isTrue(this._matrix[G.INTERIOR][G.INTERIOR])&&E.isTrue(this._matrix[G.INTERIOR][G.EXTERIOR]):l===ft.L&&f===ft.P||l===ft.A&&f===ft.P||l===ft.A&&f===ft.L?E.isTrue(this._matrix[G.INTERIOR][G.INTERIOR])&&E.isTrue(this._matrix[G.EXTERIOR][G.INTERIOR]):l===ft.L&&f===ft.L&&this._matrix[G.INTERIOR][G.INTERIOR]===0}},{key:"interfaces_",get:function(){return[D]}}],[{key:"constructor_",value:function(){if(this._matrix=null,arguments.length===0)this._matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(ft.FALSE);else if(arguments.length===1){if(typeof arguments[0]=="string"){var l=arguments[0];E.constructor_.call(this),this.set(l)}else if(arguments[0]instanceof E){var f=arguments[0];E.constructor_.call(this),this._matrix[G.INTERIOR][G.INTERIOR]=f._matrix[G.INTERIOR][G.INTERIOR],this._matrix[G.INTERIOR][G.BOUNDARY]=f._matrix[G.INTERIOR][G.BOUNDARY],this._matrix[G.INTERIOR][G.EXTERIOR]=f._matrix[G.INTERIOR][G.EXTERIOR],this._matrix[G.BOUNDARY][G.INTERIOR]=f._matrix[G.BOUNDARY][G.INTERIOR],this._matrix[G.BOUNDARY][G.BOUNDARY]=f._matrix[G.BOUNDARY][G.BOUNDARY],this._matrix[G.BOUNDARY][G.EXTERIOR]=f._matrix[G.BOUNDARY][G.EXTERIOR],this._matrix[G.EXTERIOR][G.INTERIOR]=f._matrix[G.EXTERIOR][G.INTERIOR],this._matrix[G.EXTERIOR][G.BOUNDARY]=f._matrix[G.EXTERIOR][G.BOUNDARY],this._matrix[G.EXTERIOR][G.EXTERIOR]=f._matrix[G.EXTERIOR][G.EXTERIOR]}}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&typeof arguments[1]=="string"){var l=arguments[0],f=arguments[1];return f===ft.SYM_DONTCARE||f===ft.SYM_TRUE&&(l>=0||l===ft.TRUE)||f===ft.SYM_FALSE&&l===ft.FALSE||f===ft.SYM_P&&l===ft.P||f===ft.SYM_L&&l===ft.L||f===ft.SYM_A&&l===ft.A}if(typeof arguments[0]=="string"&&typeof arguments[1]=="string"){var m=arguments[0],S=arguments[1],A=new E(m);return A.matches(S)}}},{key:"isTrue",value:function(l){return l>=0||l===ft.TRUE}}]),E}(),Qk=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(l){return l===null||l.length===0?null:(this.ensureCapacity(this._size+l.length),Ee.arraycopy(l,0,this._data,this._size,l.length),void(this._size+=l.length))}},{key:"ensureCapacity",value:function(l){if(l<=this._data.length)return null;var f=Math.max(l,2*this._data.length);this._data=ar.copyOf(this._data,f)}},{key:"toArray",value:function(){var l=new Array(this._size).fill(null);return Ee.arraycopy(this._data,0,l,0,this._size),l}},{key:"add",value:function(l){this.ensureCapacity(this._size+1),this._data[this._size]=l,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,arguments.length===0)E.constructor_.call(this,10);else if(arguments.length===1){var l=arguments[0];this._data=new Array(l).fill(null)}}}]),E}(),Jk=function(){function E(){n(this,E)}return r(E,[{key:"getChainStartIndices",value:function(l){var f=0,m=new Qk(Math.trunc(l.length/2));m.add(f);do{var S=this.findChainEnd(l,f);m.add(S),f=S}while(f<l.length-1);return m.toArray()}},{key:"findChainEnd",value:function(l,f){for(var m=ge.quadrant(l[f],l[f+1]),S=f+1;S<l.length&&ge.quadrant(l[S-1],l[S])===m;)S++;return S-1}},{key:"OLDgetChainStartIndices",value:function(l){var f=0,m=new be;m.add(f);do{var S=this.findChainEnd(l,f);m.add(S),f=S}while(f<l.length-1);return E.toIntArray(m)}}],[{key:"toIntArray",value:function(l){for(var f=new Array(l.size()).fill(null),m=0;m<f.length;m++)f[m]=l.get(m).intValue();return f}}]),E}(),eI=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(l){var f=this.pts[this.startIndex[l]].x,m=this.pts[this.startIndex[l+1]].x;return f>m?f:m}},{key:"getMinX",value:function(l){var f=this.pts[this.startIndex[l]].x,m=this.pts[this.startIndex[l+1]].x;return f<m?f:m}},{key:"computeIntersectsForChain",value:function(){if(arguments.length===4){var l=arguments[0],f=arguments[1],m=arguments[2],S=arguments[3];this.computeIntersectsForChain(this.startIndex[l],this.startIndex[l+1],f,f.startIndex[m],f.startIndex[m+1],S)}else if(arguments.length===6){var A=arguments[0],F=arguments[1],j=arguments[2],ie=arguments[3],fe=arguments[4],Ie=arguments[5];if(F-A==1&&fe-ie==1)return Ie.addIntersections(this.e,A,j.e,ie),null;if(!this.overlaps(A,F,j,ie,fe))return null;var Oe=Math.trunc((A+F)/2),ot=Math.trunc((ie+fe)/2);A<Oe&&(ie<ot&&this.computeIntersectsForChain(A,Oe,j,ie,ot,Ie),ot<fe&&this.computeIntersectsForChain(A,Oe,j,ot,fe,Ie)),Oe<F&&(ie<ot&&this.computeIntersectsForChain(Oe,F,j,ie,ot,Ie),ot<fe&&this.computeIntersectsForChain(Oe,F,j,ot,fe,Ie))}}},{key:"overlaps",value:function(l,f,m,S,A){return De.intersects(this.pts[l],this.pts[f],m.pts[S],m.pts[A])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(l,f){for(var m=0;m<this.startIndex.length-1;m++)for(var S=0;S<l.startIndex.length-1;S++)this.computeIntersectsForChain(m,l,S,f)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var l=arguments[0];this.e=l,this.pts=l.getCoordinates();var f=new Jk;this.startIndex=f.getChainStartIndices(this.pts)}}]),E}(),p_=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"getDepth",value:function(l,f){return this._depth[l][f]}},{key:"setDepth",value:function(l,f,m){this._depth[l][f]=m}},{key:"isNull",value:function(){if(arguments.length===0){for(var l=0;l<2;l++)for(var f=0;f<3;f++)if(this._depth[l][f]!==E.NULL_VALUE)return!1;return!0}if(arguments.length===1){var m=arguments[0];return this._depth[m][1]===E.NULL_VALUE}if(arguments.length===2){var S=arguments[0],A=arguments[1];return this._depth[S][A]===E.NULL_VALUE}}},{key:"normalize",value:function(){for(var l=0;l<2;l++)if(!this.isNull(l)){var f=this._depth[l][1];this._depth[l][2]<f&&(f=this._depth[l][2]),f<0&&(f=0);for(var m=1;m<3;m++){var S=0;this._depth[l][m]>f&&(S=1),this._depth[l][m]=S}}}},{key:"getDelta",value:function(l){return this._depth[l][te.RIGHT]-this._depth[l][te.LEFT]}},{key:"getLocation",value:function(l,f){return this._depth[l][f]<=0?G.EXTERIOR:G.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(arguments.length===1)for(var l=arguments[0],f=0;f<2;f++)for(var m=1;m<3;m++){var S=l.getLocation(f,m);S!==G.EXTERIOR&&S!==G.INTERIOR||(this.isNull(f,m)?this._depth[f][m]=E.depthAtLocation(S):this._depth[f][m]+=E.depthAtLocation(S))}else if(arguments.length===3){var A=arguments[0],F=arguments[1],j=arguments[2];j===G.INTERIOR&&this._depth[A][F]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var l=0;l<2;l++)for(var f=0;f<3;f++)this._depth[l][f]=E.NULL_VALUE}},{key:"depthAtLocation",value:function(l){return l===G.EXTERIOR?0:l===G.INTERIOR?1:E.NULL_VALUE}}]),E}();p_.NULL_VALUE=-1;var m_=function(E){a(f,E);var l=g(f);function f(){var m;return n(this,f),m=l.call(this),f.constructor_.apply(p(m),arguments),m}return r(f,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var m=new Array(2).fill(null);return m[0]=this.pts[0],m[1]=this.pts[1],new f(m,yr.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(m){this._isIsolated=m}},{key:"setName",value:function(m){this._name=m}},{key:"equals",value:function(m){if(!(m instanceof f))return!1;var S=m;if(this.pts.length!==S.pts.length)return!1;for(var A=!0,F=!0,j=this.pts.length,ie=0;ie<this.pts.length;ie++)if(this.pts[ie].equals2D(S.pts[ie])||(A=!1),this.pts[ie].equals2D(S.pts[--j])||(F=!1),!A&&!F)return!1;return!0}},{key:"getCoordinate",value:function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var m=arguments[0];return this.pts[m]}}},{key:"print",value:function(m){m.print("edge "+this._name+": "),m.print("LINESTRING (");for(var S=0;S<this.pts.length;S++)S>0&&m.print(","),m.print(this.pts[S].x+" "+this.pts[S].y);m.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(m){f.updateIM(this._label,m)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(m){m.print("edge "+this._name+": ");for(var S=this.pts.length-1;S>=0;S--)m.print(this.pts[S]+" ");m.println("")}},{key:"getMonotoneChainEdge",value:function(){return this._mce===null&&(this._mce=new eI(this)),this._mce}},{key:"getEnvelope",value:function(){if(this._env===null){this._env=new De;for(var m=0;m<this.pts.length;m++)this._env.expandToInclude(this.pts[m])}return this._env}},{key:"addIntersection",value:function(m,S,A,F){var j=new ue(m.getIntersection(F)),ie=S,fe=m.getEdgeDistance(A,F),Ie=ie+1;if(Ie<this.pts.length){var Oe=this.pts[Ie];j.equals2D(Oe)&&(ie=Ie,fe=0)}this.eiList.add(j,ie,fe)}},{key:"toString",value:function(){var m=new Kt;m.append("edge "+this._name+": "),m.append("LINESTRING (");for(var S=0;S<this.pts.length;S++)S>0&&m.append(","),m.append(this.pts[S].x+" "+this.pts[S].y);return m.append(")  "+this._label+" "+this._depthDelta),m.toString()}},{key:"isPointwiseEqual",value:function(m){if(this.pts.length!==m.pts.length)return!1;for(var S=0;S<this.pts.length;S++)if(!this.pts[S].equals2D(m.pts[S]))return!1;return!0}},{key:"setDepthDelta",value:function(m){this._depthDelta=m}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(m,S,A){for(var F=0;F<m.getIntersectionNum();F++)this.addIntersection(m,S,A,F)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new Xk(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new p_,this._depthDelta=0,arguments.length===1){var m=arguments[0];f.constructor_.call(this,m,null)}else if(arguments.length===2){var S=arguments[0],A=arguments[1];this.pts=S,this._label=A}}},{key:"updateIM",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Zk&&arguments[0]instanceof yr))return y(s(f),"updateIM",this).apply(this,arguments);var m=arguments[0],S=arguments[1];S.setAtLeastIfValid(m.getLocation(0,te.ON),m.getLocation(1,te.ON),1),m.isArea()&&(S.setAtLeastIfValid(m.getLocation(0,te.LEFT),m.getLocation(1,te.LEFT),2),S.setAtLeastIfValid(m.getLocation(0,te.RIGHT),m.getLocation(1,te.RIGHT),2))}}]),f}(fc),v_=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"setWorkingPrecisionModel",value:function(l){this._workingPrecisionModel=l}},{key:"insertUniqueEdge",value:function(l){var f=this._edgeList.findEqualEdge(l);if(f!==null){var m=f.getLabel(),S=l.getLabel();f.isPointwiseEqual(l)||(S=new yr(l.getLabel())).flip(),m.merge(S);var A=E.depthDelta(S),F=f.getDepthDelta()+A;f.setDepthDelta(F)}else this._edgeList.add(l),l.setDepthDelta(E.depthDelta(l.getLabel()))}},{key:"buildSubgraphs",value:function(l,f){for(var m=new be,S=l.iterator();S.hasNext();){var A=S.next(),F=A.getRightmostCoordinate(),j=new u_(m).getDepth(F);A.computeDepth(j),A.findResultEdges(),m.add(A),f.add(A.getDirectedEdges(),A.getNodes())}}},{key:"createSubgraphs",value:function(l){for(var f=new be,m=l.getNodes().iterator();m.hasNext();){var S=m.next();if(!S.isVisited()){var A=new gt;A.create(S),f.add(A)}}return cs.sort(f,cs.reverseOrder()),f}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(l){if(this._workingNoder!==null)return this._workingNoder;var f=new Rp,m=new us;return m.setPrecisionModel(l),f.setSegmentIntersector(new Yk(m)),f}},{key:"buffer",value:function(l,f){var m=this._workingPrecisionModel;m===null&&(m=l.getPrecisionModel()),this._geomFact=l.getFactory();var S=new Bk(m,this._bufParams),A=new Vk(l,f,S).getCurves();if(A.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(A,m),this._graph=new Ei(new Kk),this._graph.addEdges(this._edgeList.getEdges());var F=this.createSubgraphs(this._graph),j=new Wi(this._geomFact);this.buildSubgraphs(F,j);var ie=j.getPolygons();return ie.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(ie)}},{key:"computeNodedEdges",value:function(l,f){var m=this.getNoder(f);m.computeNodes(l);for(var S=m.getNodedSubstrings().iterator();S.hasNext();){var A=S.next(),F=A.getCoordinates();if(F.length!==2||!F[0].equals2D(F[1])){var j=A.getData(),ie=new m_(A.getCoordinates(),new yr(j));this.insertUniqueEdge(ie)}}}},{key:"setNoder",value:function(l){this._workingNoder=l}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new qk;var l=arguments[0];this._bufParams=l}},{key:"depthDelta",value:function(l){var f=l.getLocation(0,te.LEFT),m=l.getLocation(0,te.RIGHT);return f===G.INTERIOR&&m===G.EXTERIOR?1:f===G.EXTERIOR&&m===G.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(l){for(var f=new ln,m=new be;l.hasNext();){var S=l.next(),A=f.createLineString(S.getCoordinates());m.add(A)}return f.buildGeometry(m)}}]),E}(),tI=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"rescale",value:function(){if(Ae(arguments[0],He))for(var l=arguments[0],f=l.iterator();f.hasNext();){var m=f.next();this.rescale(m.getCoordinates())}else if(arguments[0]instanceof Array){for(var S=arguments[0],A=0;A<S.length;A++)S[A].x=S[A].x/this._scaleFactor+this._offsetX,S[A].y=S[A].y/this._scaleFactor+this._offsetY;S.length===2&&S[0].equals2D(S[1])&&Ee.out.println(S)}}},{key:"scale",value:function(){if(Ae(arguments[0],He)){for(var l=arguments[0],f=new be(l.size()),m=l.iterator();m.hasNext();){var S=m.next();f.add(new ko(this.scale(S.getCoordinates()),S.getData()))}return f}if(arguments[0]instanceof Array){for(var A=arguments[0],F=new Array(A.length).fill(null),j=0;j<A.length;j++)F[j]=new ue(Math.round((A[j].x-this._offsetX)*this._scaleFactor),Math.round((A[j].y-this._offsetY)*this._scaleFactor),A[j].getZ());var ie=$e.removeRepeatedPoints(F);return ie}}},{key:"isIntegerPrecision",value:function(){return this._scaleFactor===1}},{key:"getNodedSubstrings",value:function(){var l=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(l),l}},{key:"computeNodes",value:function(l){var f=l;this._isScaled&&(f=this.scale(l)),this._noder.computeNodes(f)}},{key:"interfaces_",get:function(){return[Pp]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var l=arguments[0],f=arguments[1];E.constructor_.call(this,l,f,0,0)}else if(arguments.length===4){var m=arguments[0],S=arguments[1];this._noder=m,this._scaleFactor=S,this._isScaled=!this.isIntegerPrecision()}}}]),E}(),g_=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"checkEndPtVertexIntersections",value:function(){if(arguments.length===0)for(var l=this._segStrings.iterator();l.hasNext();){var f=l.next(),m=f.getCoordinates();this.checkEndPtVertexIntersections(m[0],this._segStrings),this.checkEndPtVertexIntersections(m[m.length-1],this._segStrings)}else if(arguments.length===2){for(var S=arguments[0],A=arguments[1],F=A.iterator();F.hasNext();)for(var j=F.next(),ie=j.getCoordinates(),fe=1;fe<ie.length-1;fe++)if(ie[fe].equals(S))throw new ce("found endpt/interior pt intersection at index "+fe+" :pt "+S)}}},{key:"checkInteriorIntersections",value:function(){if(arguments.length===0)for(var l=this._segStrings.iterator();l.hasNext();)for(var f=l.next(),m=this._segStrings.iterator();m.hasNext();){var S=m.next();this.checkInteriorIntersections(f,S)}else if(arguments.length===2)for(var A=arguments[0],F=arguments[1],j=A.getCoordinates(),ie=F.getCoordinates(),fe=0;fe<j.length-1;fe++)for(var Ie=0;Ie<ie.length-1;Ie++)this.checkInteriorIntersections(A,fe,F,Ie);else if(arguments.length===4){var Oe=arguments[0],ot=arguments[1],It=arguments[2],Mt=arguments[3];if(Oe===It&&ot===Mt)return null;var Jt=Oe.getCoordinates()[ot],rn=Oe.getCoordinates()[ot+1],fn=It.getCoordinates()[Mt],Nn=It.getCoordinates()[Mt+1];if(this._li.computeIntersection(Jt,rn,fn,Nn),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,Jt,rn)||this.hasInteriorIntersection(this._li,fn,Nn)))throw new ce("found non-noded intersection at "+Jt+"-"+rn+" and "+fn+"-"+Nn)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(arguments.length===0)for(var l=this._segStrings.iterator();l.hasNext();){var f=l.next();this.checkCollapses(f)}else if(arguments.length===1)for(var m=arguments[0],S=m.getCoordinates(),A=0;A<S.length-2;A++)this.checkCollapse(S[A],S[A+1],S[A+2])}},{key:"hasInteriorIntersection",value:function(l,f,m){for(var S=0;S<l.getIntersectionNum();S++){var A=l.getIntersection(S);if(!A.equals(f)&&!A.equals(m))return!0}return!1}},{key:"checkCollapse",value:function(l,f,m){if(l.equals(m))throw new ce("found non-noded collapse at "+E.fact.createLineString([l,f,m]))}}],[{key:"constructor_",value:function(){this._li=new us,this._segStrings=null;var l=arguments[0];this._segStrings=l}}]),E}();g_.fact=new ln;var Np=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"intersectsScaled",value:function(l,f){var m=Math.min(l.x,f.x),S=Math.max(l.x,f.x),A=Math.min(l.y,f.y),F=Math.max(l.y,f.y),j=this._maxx<m||this._minx>S||this._maxy<A||this._miny>F;if(j)return!1;var ie=this.intersectsToleranceSquare(l,f);return le.isTrue(!(j&&ie),"Found bad envelope test"),ie}},{key:"initCorners",value:function(l){var f=.5;this._minx=l.x-f,this._maxx=l.x+f,this._miny=l.y-f,this._maxy=l.y+f,this._corner[0]=new ue(this._maxx,this._maxy),this._corner[1]=new ue(this._minx,this._maxy),this._corner[2]=new ue(this._minx,this._miny),this._corner[3]=new ue(this._maxx,this._miny)}},{key:"intersects",value:function(l,f){return this._scaleFactor===1?this.intersectsScaled(l,f):(this.copyScaled(l,this._p0Scaled),this.copyScaled(f,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(l){return Math.round(l*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(l,f){f.x=this.scale(l.x),f.y=this.scale(l.y)}},{key:"getSafeEnvelope",value:function(){if(this._safeEnv===null){var l=E.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new De(this._originalPt.x-l,this._originalPt.x+l,this._originalPt.y-l,this._originalPt.y+l)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(l,f){return this._li.computeIntersection(l,f,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(l,f,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(l,f,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(l,f,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))}},{key:"intersectsToleranceSquare",value:function(l,f){var m=!1,S=!1;return this._li.computeIntersection(l,f,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(l,f,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(m=!0),this._li.computeIntersection(l,f,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(S=!0),this._li.computeIntersection(l,f,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!m||!S)||!!l.equals(this._pt)||!!f.equals(this._pt))))}},{key:"addSnappedNode",value:function(l,f){var m=l.getCoordinate(f),S=l.getCoordinate(f+1);return!!this.intersects(m,S)&&(l.addIntersection(this.getCoordinate(),f),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var l=arguments[0],f=arguments[1],m=arguments[2];if(this._originalPt=l,this._pt=l,this._scaleFactor=f,this._li=m,f<=0)throw new T("Scale factor must be non-zero");f!==1&&(this._pt=new ue(this.scale(l.x),this.scale(l.y)),this._p0Scaled=new ue,this._p1Scaled=new ue),this.initCorners(this._pt)}}]),E}();Np.SAFE_ENV_EXPANSION_FACTOR=.75;var nI=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"select",value:function(){if(arguments.length!==1){if(arguments.length===2){var l=arguments[0],f=arguments[1];l.getLineSegment(f,this.selectedSegment),this.select(this.selectedSegment)}}}}],[{key:"constructor_",value:function(){this.selectedSegment=new Or}}]),E}(),y_=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"snap",value:function(){if(arguments.length===1){var l=arguments[0];return this.snap(l,null,-1)}if(arguments.length===3){var f=arguments[0],m=arguments[1],S=arguments[2],A=f.getSafeEnvelope(),F=new __(f,m,S);return this._index.query(A,new(function(){function j(){n(this,j)}return r(j,[{key:"interfaces_",get:function(){return[Ao]}},{key:"visitItem",value:function(ie){ie.select(A,F)}}]),j}())),F.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var l=arguments[0];this._index=l}}]),E}(),__=function(E){a(f,E);var l=g(f);function f(){var m;return n(this,f),m=l.call(this),f.constructor_.apply(p(m),arguments),m}return r(f,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(arguments.length===2&&Number.isInteger(arguments[1])&&arguments[0]instanceof a_))return y(s(f.prototype),"select",this).apply(this,arguments);var m=arguments[0],S=arguments[1],A=m.getContext();if(this._parentEdge===A&&(S===this._hotPixelVertexIndex||S+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(A,S)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var m=arguments[0],S=arguments[1],A=arguments[2];this._hotPixel=m,this._parentEdge=S,this._hotPixelVertexIndex=A}}]),f}(nI);y_.HotPixelSnapAction=__;var iI=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"processIntersections",value:function(l,f,m,S){if(l===m&&f===S)return null;var A=l.getCoordinates()[f],F=l.getCoordinates()[f+1],j=m.getCoordinates()[S],ie=m.getCoordinates()[S+1];if(this._li.computeIntersection(A,F,j,ie),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var fe=0;fe<this._li.getIntersectionNum();fe++)this._interiorIntersections.add(this._li.getIntersection(fe));l.addIntersections(this._li,f,0),m.addIntersections(this._li,S,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[h_]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var l=arguments[0];this._li=l,this._interiorIntersections=new be}}]),E}(),rI=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"checkCorrectness",value:function(l){var f=ko.getNodedSubstrings(l),m=new g_(f);try{m.checkValid()}catch(S){if(!(S instanceof x))throw S;S.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return ko.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(l,f){var m=this.findInteriorIntersections(l,f);this.computeIntersectionSnaps(m),this.computeVertexSnaps(l)}},{key:"findInteriorIntersections",value:function(l,f){var m=new iI(f);return this._noder.setSegmentIntersector(m),this._noder.computeNodes(l),m.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(Ae(arguments[0],He))for(var l=arguments[0],f=l.iterator();f.hasNext();){var m=f.next();this.computeVertexSnaps(m)}else if(arguments[0]instanceof ko)for(var S=arguments[0],A=S.getCoordinates(),F=0;F<A.length;F++){var j=new Np(A[F],this._scaleFactor,this._li),ie=this._pointSnapper.snap(j,S,F);ie&&S.addIntersection(A[F],F)}}},{key:"computeNodes",value:function(l){this._nodedSegStrings=l,this._noder=new Rp,this._pointSnapper=new y_(this._noder.getIndex()),this.snapRound(l,this._li)}},{key:"computeIntersectionSnaps",value:function(l){for(var f=l.iterator();f.hasNext();){var m=f.next(),S=new Np(m,this._scaleFactor,this._li);this._pointSnapper.snap(S)}}},{key:"interfaces_",get:function(){return[Pp]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var l=arguments[0];this._pm=l,this._li=new us,this._li.setPrecisionModel(l),this._scaleFactor=l.getScale()}}]),E}(),kl=function(){function E(){n(this,E),E.constructor_.apply(this,arguments)}return r(E,[{key:"bufferFixedPrecision",value:function(l){var f=new tI(new rI(new In(1)),l.getScale()),m=new v_(this._bufParams);m.setWorkingPrecisionModel(l),m.setNoder(f),this._resultGeometry=m.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(arguments.length===0){for(var l=E.MAX_PRECISION_DIGITS;l>=0;l--){try{this.bufferReducedPrecision(l)}catch(A){if(!(A instanceof ze))throw A;this._saveException=A}if(this._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var f=arguments[0],m=E.precisionScaleFactor(this._argGeom,this._distance,f),S=new In(m);this.bufferFixedPrecision(S)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var l=this._argGeom.getFactory().getPrecisionModel();l.getType()===In.FIXED?this.bufferFixedPrecision(l):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(l){this._bufParams.setQuadrantSegments(l)}},{key:"bufferOriginalPrecision",value:function(){try{var l=new v_(this._bufParams);this._resultGeometry=l.buffer(this._argGeom,this._distance)}catch(f){if(!(f instanceof ce))throw f;this._saveException=f}}},{key:"getResultGeometry",value:function(l){return this._distance=l,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(l){this._bufParams.setEndCapStyle(l)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new C,this._resultGeometry=null,this._saveException=null,arguments.length===1){var l=arguments[0];this._argGeom=l}else if(arguments.length===2){var f=arguments[0],m=arguments[1];this._argGeom=f,this._bufParams=m}}},{key:"bufferOp",value:function(){if(arguments.length===2){var l=arguments[0],f=arguments[1],m=new E(l),S=m.getResultGeometry(f);return S}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof xe&&typeof arguments[1]=="number"){var A=arguments[0],F=arguments[1],j=arguments[2],ie=new E(A);ie.setQuadrantSegments(j);var fe=ie.getResultGeometry(F);return fe}if(arguments[2]instanceof C&&arguments[0]instanceof xe&&typeof arguments[1]=="number"){var Ie=arguments[0],Oe=arguments[1],ot=arguments[2],It=new E(Ie,ot),Mt=It.getResultGeometry(Oe);return Mt}}else if(arguments.length===4){var Jt=arguments[0],rn=arguments[1],fn=arguments[2],Nn=arguments[3],si=new E(Jt);si.setQuadrantSegments(fn),si.setEndCapStyle(Nn);var Ki=si.getResultGeometry(rn);return Ki}}},{key:"precisionScaleFactor",value:function(l,f,m){var S=l.getEnvelopeInternal(),A=st.max(Math.abs(S.getMaxX()),Math.abs(S.getMaxY()),Math.abs(S.getMinX()),Math.abs(S.getMinY()))+2*(f>0?f:0),F=m-Math.trunc(Math.log(A)/Math.log(10)+1);return Math.pow(10,F)}}]),E}();kl.CAP_ROUND=C.CAP_ROUND,kl.CAP_BUTT=C.CAP_FLAT,kl.CAP_FLAT=C.CAP_FLAT,kl.CAP_SQUARE=C.CAP_SQUARE,kl.MAX_PRECISION_DIGITS=12;var aI=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],b_=function(){function E(l){n(this,E),this.geometryFactory=l||new ln}return r(E,[{key:"read",value:function(l){var f,m=(f=typeof l=="string"?JSON.parse(l):l).type;if(!jr[m])throw new Error("Unknown GeoJSON type: "+f.type);return aI.indexOf(m)!==-1?jr[m].call(this,f.coordinates):m==="GeometryCollection"?jr[m].call(this,f.geometries):jr[m].call(this,f)}},{key:"write",value:function(l){var f=l.getGeometryType();if(!$a[f])throw new Error("Geometry is not supported");return $a[f].call(this,l)}}]),E}(),jr={Feature:function(E){var l={};for(var f in E)l[f]=E[f];if(E.geometry){var m=E.geometry.type;if(!jr[m])throw new Error("Unknown GeoJSON type: "+E.type);l.geometry=this.read(E.geometry)}return E.bbox&&(l.bbox=jr.bbox.call(this,E.bbox)),l},FeatureCollection:function(E){var l={};if(E.features){l.features=[];for(var f=0;f<E.features.length;++f)l.features.push(this.read(E.features[f]))}return E.bbox&&(l.bbox=this.parse.bbox.call(this,E.bbox)),l},coordinates:function(E){for(var l=[],f=0;f<E.length;++f){var m=E[f];l.push(c(ue,_(m)))}return l},bbox:function(E){return this.geometryFactory.createLinearRing([new ue(E[0],E[1]),new ue(E[2],E[1]),new ue(E[2],E[3]),new ue(E[0],E[3]),new ue(E[0],E[1])])},Point:function(E){var l=c(ue,_(E));return this.geometryFactory.createPoint(l)},MultiPoint:function(E){for(var l=[],f=0;f<E.length;++f)l.push(jr.Point.call(this,E[f]));return this.geometryFactory.createMultiPoint(l)},LineString:function(E){var l=jr.coordinates.call(this,E);return this.geometryFactory.createLineString(l)},MultiLineString:function(E){for(var l=[],f=0;f<E.length;++f)l.push(jr.LineString.call(this,E[f]));return this.geometryFactory.createMultiLineString(l)},Polygon:function(E){for(var l=jr.coordinates.call(this,E[0]),f=this.geometryFactory.createLinearRing(l),m=[],S=1;S<E.length;++S){var A=E[S],F=jr.coordinates.call(this,A),j=this.geometryFactory.createLinearRing(F);m.push(j)}return this.geometryFactory.createPolygon(f,m)},MultiPolygon:function(E){for(var l=[],f=0;f<E.length;++f){var m=E[f];l.push(jr.Polygon.call(this,m))}return this.geometryFactory.createMultiPolygon(l)},GeometryCollection:function(E){for(var l=[],f=0;f<E.length;++f){var m=E[f];l.push(this.read(m))}return this.geometryFactory.createGeometryCollection(l)}},$a={coordinate:function(E){var l=[E.x,E.y];return E.z&&l.push(E.z),E.m&&l.push(E.m),l},Point:function(E){return{type:"Point",coordinates:$a.coordinate.call(this,E.getCoordinate())}},MultiPoint:function(E){for(var l=[],f=0;f<E._geometries.length;++f){var m=E._geometries[f],S=$a.Point.call(this,m);l.push(S.coordinates)}return{type:"MultiPoint",coordinates:l}},LineString:function(E){for(var l=[],f=E.getCoordinates(),m=0;m<f.length;++m){var S=f[m];l.push($a.coordinate.call(this,S))}return{type:"LineString",coordinates:l}},MultiLineString:function(E){for(var l=[],f=0;f<E._geometries.length;++f){var m=E._geometries[f],S=$a.LineString.call(this,m);l.push(S.coordinates)}return{type:"MultiLineString",coordinates:l}},Polygon:function(E){var l=[],f=$a.LineString.call(this,E._shell);l.push(f.coordinates);for(var m=0;m<E._holes.length;++m){var S=E._holes[m],A=$a.LineString.call(this,S);l.push(A.coordinates)}return{type:"Polygon",coordinates:l}},MultiPolygon:function(E){for(var l=[],f=0;f<E._geometries.length;++f){var m=E._geometries[f],S=$a.Polygon.call(this,m);l.push(S.coordinates)}return{type:"MultiPolygon",coordinates:l}},GeometryCollection:function(E){for(var l=[],f=0;f<E._geometries.length;++f){var m=E._geometries[f],S=m.getGeometryType();l.push($a[S].call(this,m))}return{type:"GeometryCollection",geometries:l}}};return{BufferOp:kl,GeoJSONReader:function(){function E(l){n(this,E),this.parser=new b_(l||new ln)}return r(E,[{key:"read",value:function(l){return this.parser.read(l)}}]),E}(),GeoJSONWriter:function(){function E(){n(this,E),this.parser=new b_(this.geometryFactory)}return r(E,[{key:"write",value:function(l){return this.parser.write(l)}}]),E}()}})})(xA);var Woe=xA.exports;const Koe=Ua(Woe);function So(){return new Th}function Th(){this.reset()}Th.prototype={constructor:Th,reset:function(){this.s=this.t=0},add:function(t){Iw(af,t,this.t),Iw(this,af.s,this.s),this.s?this.t+=af.t:this.s=af.t},valueOf:function(){return this.s}};var af=new Th;function Iw(t,e,n){var i=t.s=e+n,r=i-e,a=i-r;t.t=e-a+(n-r)}var Yn=1e-6,Pn=Math.PI,Ya=Pn/2,Pw=Pn/4,ns=Pn*2,Fs=180/Pn,Qr=Pn/180,Fi=Math.abs,qoe=Math.atan,Bu=Math.atan2,oi=Math.cos,li=Math.sin,ic=Math.sqrt;function MA(t){return t>1?0:t<-1?Pn:Math.acos(t)}function gl(t){return t>1?Ya:t<-1?-Ya:Math.asin(t)}function Lc(){}function Ah(t,e){t&&Lw.hasOwnProperty(t.type)&&Lw[t.type](t,e)}var Rw={Feature:function(t,e){Ah(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)Ah(n[i].geometry,e)}},Lw={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){Sg(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Sg(n[i],e,0)},Polygon:function(t,e){Nw(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Nw(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)Ah(n[i],e)}};function Sg(t,e,n){var i=-1,r=t.length-n,a;for(e.lineStart();++i<r;)a=t[i],e.point(a[0],a[1],a[2]);e.lineEnd()}function Nw(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)Sg(t[n],e,1);e.polygonEnd()}function Yoe(t,e){t&&Rw.hasOwnProperty(t.type)?Rw[t.type](t,e):Ah(t,e)}So();So();function Cg(t){return[Bu(t[1],t[0]),gl(t[2])]}function Uu(t){var e=t[0],n=t[1],i=oi(n);return[i*oi(e),i*li(e),li(n)]}function sf(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function kh(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function gm(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function of(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Eg(t){var e=ic(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}So();function TA(t,e){function n(i,r){return i=t(i,r),e(i[0],i[1])}return t.invert&&e.invert&&(n.invert=function(i,r){return i=e.invert(i,r),i&&t.invert(i[0],i[1])}),n}function xg(t,e){return[t>Pn?t-ns:t<-Pn?t+ns:t,e]}xg.invert=xg;function joe(t,e,n){return(t%=ns)?e||n?TA(Dw(t),Fw(e,n)):Dw(t):e||n?Fw(e,n):xg}function Ow(t){return function(e,n){return e+=t,[e>Pn?e-ns:e<-Pn?e+ns:e,n]}}function Dw(t){var e=Ow(t);return e.invert=Ow(-t),e}function Fw(t,e){var n=oi(t),i=li(t),r=oi(e),a=li(e);function s(o,u){var c=oi(u),h=oi(o)*c,p=li(o)*c,v=li(u),g=v*n+h*i;return[Bu(p*r-g*a,h*n-v*i),gl(g*r+p*a)]}return s.invert=function(o,u){var c=oi(u),h=oi(o)*c,p=li(o)*c,v=li(u),g=v*r-p*a;return[Bu(p*r+v*a,h*n+g*i),gl(g*n-h*i)]},s}function Xoe(t,e,n,i,r,a){if(n){var s=oi(e),o=li(e),u=i*n;r==null?(r=e+i*ns,a=e-u/2):(r=Bw(s,r),a=Bw(s,a),(i>0?r<a:r>a)&&(r+=i*ns));for(var c,h=r;i>0?h>a:h<a;h-=u)c=Cg([s,-o*oi(h),-o*li(h)]),t.point(c[0],c[1])}}function Bw(t,e){e=Uu(e),e[0]-=t,Eg(e);var n=MA(-e[1]);return((-e[2]<0?-n:n)+ns-Yn)%ns}function AA(){var t=[],e;return{point:function(n,i){e.push([n,i])},lineStart:function(){t.push(e=[])},lineEnd:Lc,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Zoe(t,e,n,i,r,a){var s=t[0],o=t[1],u=e[0],c=e[1],h=0,p=1,v=u-s,g=c-o,y;if(y=n-s,!(!v&&y>0)){if(y/=v,v<0){if(y<h)return;y<p&&(p=y)}else if(v>0){if(y>p)return;y>h&&(h=y)}if(y=r-s,!(!v&&y<0)){if(y/=v,v<0){if(y>p)return;y>h&&(h=y)}else if(v>0){if(y<h)return;y<p&&(p=y)}if(y=i-o,!(!g&&y>0)){if(y/=g,g<0){if(y<h)return;y<p&&(p=y)}else if(g>0){if(y>p)return;y>h&&(h=y)}if(y=a-o,!(!g&&y<0)){if(y/=g,g<0){if(y>p)return;y>h&&(h=y)}else if(g>0){if(y<h)return;y<p&&(p=y)}return h>0&&(t[0]=s+h*v,t[1]=o+h*g),p<1&&(e[0]=s+p*v,e[1]=o+p*g),!0}}}}}function Jf(t,e){return Fi(t[0]-e[0])<Yn&&Fi(t[1]-e[1])<Yn}function lf(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function kA(t,e,n,i,r){var a=[],s=[],o,u;if(t.forEach(function(y){if(!((_=y.length-1)<=0)){var _,w=y[0],b=y[_],M;if(Jf(w,b)){for(r.lineStart(),o=0;o<_;++o)r.point((w=y[o])[0],w[1]);r.lineEnd();return}a.push(M=new lf(w,y,null,!0)),s.push(M.o=new lf(w,null,M,!1)),a.push(M=new lf(b,y,null,!1)),s.push(M.o=new lf(b,null,M,!0))}}),!!a.length){for(s.sort(e),Uw(a),Uw(s),o=0,u=s.length;o<u;++o)s[o].e=n=!n;for(var c=a[0],h,p;;){for(var v=c,g=!0;v.v;)if((v=v.n)===c)return;h=v.z,r.lineStart();do{if(v.v=v.o.v=!0,v.e){if(g)for(o=0,u=h.length;o<u;++o)r.point((p=h[o])[0],p[1]);else i(v.x,v.n.x,1,r);v=v.n}else{if(g)for(h=v.p.z,o=h.length-1;o>=0;--o)r.point((p=h[o])[0],p[1]);else i(v.x,v.p.x,-1,r);v=v.p}v=v.o,h=v.z,g=!g}while(!v.v);r.lineEnd()}}}function Uw(t){if(e=t.length){for(var e,n=0,i=t[0],r;++n<e;)i.n=r=t[n],r.p=i,i=r;i.n=r=t[0],r.p=i}}function IA(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Qoe(t){return t.length===1&&(t=Joe(t)),{left:function(e,n,i,r){for(i==null&&(i=0),r==null&&(r=e.length);i<r;){var a=i+r>>>1;t(e[a],n)<0?i=a+1:r=a}return i},right:function(e,n,i,r){for(i==null&&(i=0),r==null&&(r=e.length);i<r;){var a=i+r>>>1;t(e[a],n)>0?r=a:i=a+1}return i}}}function Joe(t){return function(e,n){return IA(t(e),n)}}Qoe(IA);function PA(t){for(var e=t.length,n,i=-1,r=0,a,s;++i<e;)r+=t[i].length;for(a=new Array(r);--e>=0;)for(s=t[e],n=s.length;--n>=0;)a[--r]=s[n];return a}var Nc=1e9,uf=-Nc;function ele(t,e,n,i){function r(c,h){return t<=c&&c<=n&&e<=h&&h<=i}function a(c,h,p,v){var g=0,y=0;if(c==null||(g=s(c,p))!==(y=s(h,p))||u(c,h)<0^p>0)do v.point(g===0||g===3?t:n,g>1?i:e);while((g=(g+p+4)%4)!==y);else v.point(h[0],h[1])}function s(c,h){return Fi(c[0]-t)<Yn?h>0?0:3:Fi(c[0]-n)<Yn?h>0?2:1:Fi(c[1]-e)<Yn?h>0?1:0:h>0?3:2}function o(c,h){return u(c.x,h.x)}function u(c,h){var p=s(c,1),v=s(h,1);return p!==v?p-v:p===0?h[1]-c[1]:p===1?c[0]-h[0]:p===2?c[1]-h[1]:h[0]-c[0]}return function(c){var h=c,p=AA(),v,g,y,_,w,b,M,C,x,T,k,R={point:D,lineStart:$,lineEnd:Q,polygonStart:P,polygonEnd:N};function D(H,B){r(H,B)&&h.point(H,B)}function U(){for(var H=0,B=0,X=g.length;B<X;++B)for(var q=g[B],O=1,V=q.length,ee=q[0],ce,se,le=ee[0],ye=ee[1];O<V;++O)ce=le,se=ye,ee=q[O],le=ee[0],ye=ee[1],se<=i?ye>i&&(le-ce)*(i-se)>(ye-se)*(t-ce)&&++H:ye<=i&&(le-ce)*(i-se)<(ye-se)*(t-ce)&&--H;return H}function P(){h=p,v=[],g=[],k=!0}function N(){var H=U(),B=k&&H,X=(v=PA(v)).length;(B||X)&&(c.polygonStart(),B&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),X&&kA(v,o,H,a,c),c.polygonEnd()),h=c,v=g=y=null}function $(){R.point=Y,g&&g.push(y=[]),T=!0,x=!1,M=C=NaN}function Q(){v&&(Y(_,w),b&&x&&p.rejoin(),v.push(p.result())),R.point=D,x&&h.lineEnd()}function Y(H,B){var X=r(H,B);if(g&&y.push([H,B]),T)_=H,w=B,b=X,T=!1,X&&(h.lineStart(),h.point(H,B));else if(X&&x)h.point(H,B);else{var q=[M=Math.max(uf,Math.min(Nc,M)),C=Math.max(uf,Math.min(Nc,C))],O=[H=Math.max(uf,Math.min(Nc,H)),B=Math.max(uf,Math.min(Nc,B))];Zoe(q,O,t,e,n,i)?(x||(h.lineStart(),h.point(q[0],q[1])),h.point(O[0],O[1]),X||h.lineEnd(),k=!1):X&&(h.lineStart(),h.point(H,B),k=!1)}M=H,C=B,x=X}return R}}var ym=So();function tle(t,e){var n=e[0],i=e[1],r=[li(n),-oi(n),0],a=0,s=0;ym.reset();for(var o=0,u=t.length;o<u;++o)if(h=(c=t[o]).length)for(var c,h,p=c[h-1],v=p[0],g=p[1]/2+Pw,y=li(g),_=oi(g),w=0;w<h;++w,v=M,y=x,_=T,p=b){var b=c[w],M=b[0],C=b[1]/2+Pw,x=li(C),T=oi(C),k=M-v,R=k>=0?1:-1,D=R*k,U=D>Pn,P=y*x;if(ym.add(Bu(P*R*li(D),_*T+P*oi(D))),a+=U?k+R*ns:k,U^v>=n^M>=n){var N=kh(Uu(p),Uu(b));Eg(N);var $=kh(r,N);Eg($);var Q=(U^k>=0?-1:1)*gl($[2]);(i>Q||i===Q&&(N[0]||N[1]))&&(s+=U^k>=0?1:-1)}}return(a<-Yn||a<Yn&&ym<-Yn)^s&1}So();function Vw(t){return t}So();So();var Vu=1/0,Ih=Vu,cd=-Vu,Ph=cd,zw={point:nle,lineStart:Lc,lineEnd:Lc,polygonStart:Lc,polygonEnd:Lc,result:function(){var t=[[Vu,Ih],[cd,Ph]];return cd=Ph=-(Ih=Vu=1/0),t}};function nle(t,e){t<Vu&&(Vu=t),t>cd&&(cd=t),e<Ih&&(Ih=e),e>Ph&&(Ph=e)}So();function RA(t,e,n,i){return function(r,a){var s=e(a),o=r.invert(i[0],i[1]),u=AA(),c=e(u),h=!1,p,v,g,y={point:_,lineStart:b,lineEnd:M,polygonStart:function(){y.point=C,y.lineStart=x,y.lineEnd=T,v=[],p=[]},polygonEnd:function(){y.point=_,y.lineStart=b,y.lineEnd=M,v=PA(v);var k=tle(p,o);v.length?(h||(a.polygonStart(),h=!0),kA(v,rle,k,n,a)):k&&(h||(a.polygonStart(),h=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),h&&(a.polygonEnd(),h=!1),v=p=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function _(k,R){var D=r(k,R);t(k=D[0],R=D[1])&&a.point(k,R)}function w(k,R){var D=r(k,R);s.point(D[0],D[1])}function b(){y.point=w,s.lineStart()}function M(){y.point=_,s.lineEnd()}function C(k,R){g.push([k,R]);var D=r(k,R);c.point(D[0],D[1])}function x(){c.lineStart(),g=[]}function T(){C(g[0][0],g[0][1]),c.lineEnd();var k=c.clean(),R=u.result(),D,U=R.length,P,N,$;if(g.pop(),p.push(g),g=null,!!U){if(k&1){if(N=R[0],(P=N.length-1)>0){for(h||(a.polygonStart(),h=!0),a.lineStart(),D=0;D<P;++D)a.point(($=N[D])[0],$[1]);a.lineEnd()}return}U>1&&k&2&&R.push(R.pop().concat(R.shift())),v.push(R.filter(ile))}}return y}}function ile(t){return t.length>1}function rle(t,e){return((t=t.x)[0]<0?t[1]-Ya-Yn:Ya-t[1])-((e=e.x)[0]<0?e[1]-Ya-Yn:Ya-e[1])}const $w=RA(function(){return!0},ale,ole,[-Pn,-Ya]);function ale(t){var e=NaN,n=NaN,i=NaN,r;return{lineStart:function(){t.lineStart(),r=1},point:function(a,s){var o=a>0?Pn:-Pn,u=Fi(a-e);Fi(u-Pn)<Yn?(t.point(e,n=(n+s)/2>0?Ya:-Ya),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(o,n),t.point(a,n),r=0):i!==o&&u>=Pn&&(Fi(e-i)<Yn&&(e-=i*Yn),Fi(a-o)<Yn&&(a-=o*Yn),n=sle(e,n,a,s),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(o,n),r=0),t.point(e=a,n=s),i=o},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-r}}}function sle(t,e,n,i){var r,a,s=li(t-n);return Fi(s)>Yn?qoe((li(e)*(a=oi(i))*li(n)-li(i)*(r=oi(e))*li(t))/(r*a*s)):(e+i)/2}function ole(t,e,n,i){var r;if(t==null)r=n*Ya,i.point(-Pn,r),i.point(0,r),i.point(Pn,r),i.point(Pn,0),i.point(Pn,-r),i.point(0,-r),i.point(-Pn,-r),i.point(-Pn,0),i.point(-Pn,r);else if(Fi(t[0]-e[0])>Yn){var a=t[0]<e[0]?Pn:-Pn;r=n*a/2,i.point(-a,r),i.point(0,r),i.point(a,r)}else i.point(e[0],e[1])}function lle(t,e){var n=oi(t),i=n>0,r=Fi(n)>Yn;function a(h,p,v,g){Xoe(g,t,e,v,h,p)}function s(h,p){return oi(h)*oi(p)>n}function o(h){var p,v,g,y,_;return{lineStart:function(){y=g=!1,_=1},point:function(w,b){var M=[w,b],C,x=s(w,b),T=i?x?0:c(w,b):x?c(w+(w<0?Pn:-Pn),b):0;if(!p&&(y=g=x)&&h.lineStart(),x!==g&&(C=u(p,M),(!C||Jf(p,C)||Jf(M,C))&&(M[0]+=Yn,M[1]+=Yn,x=s(M[0],M[1]))),x!==g)_=0,x?(h.lineStart(),C=u(M,p),h.point(C[0],C[1])):(C=u(p,M),h.point(C[0],C[1]),h.lineEnd()),p=C;else if(r&&p&&i^x){var k;!(T&v)&&(k=u(M,p,!0))&&(_=0,i?(h.lineStart(),h.point(k[0][0],k[0][1]),h.point(k[1][0],k[1][1]),h.lineEnd()):(h.point(k[1][0],k[1][1]),h.lineEnd(),h.lineStart(),h.point(k[0][0],k[0][1])))}x&&(!p||!Jf(p,M))&&h.point(M[0],M[1]),p=M,g=x,v=T},lineEnd:function(){g&&h.lineEnd(),p=null},clean:function(){return _|(y&&g)<<1}}}function u(h,p,v){var g=Uu(h),y=Uu(p),_=[1,0,0],w=kh(g,y),b=sf(w,w),M=w[0],C=b-M*M;if(!C)return!v&&h;var x=n*b/C,T=-n*M/C,k=kh(_,w),R=of(_,x),D=of(w,T);gm(R,D);var U=k,P=sf(R,U),N=sf(U,U),$=P*P-N*(sf(R,R)-1);if(!($<0)){var Q=ic($),Y=of(U,(-P-Q)/N);if(gm(Y,R),Y=Cg(Y),!v)return Y;var H=h[0],B=p[0],X=h[1],q=p[1],O;B<H&&(O=H,H=B,B=O);var V=B-H,ee=Fi(V-Pn)<Yn,ce=ee||V<Yn;if(!ee&&q<X&&(O=X,X=q,q=O),ce?ee?X+q>0^Y[1]<(Fi(Y[0]-H)<Yn?X:q):X<=Y[1]&&Y[1]<=q:V>Pn^(H<=Y[0]&&Y[0]<=B)){var se=of(U,(-P+Q)/N);return gm(se,R),[Y,Cg(se)]}}}function c(h,p){var v=i?t:Pn-t,g=0;return h<-v?g|=1:h>v&&(g|=2),p<-v?g|=4:p>v&&(g|=8),g}return RA(s,o,a,i?[0,-t]:[-Pn,t-Pn])}function LA(t){return function(e){var n=new Mg;for(var i in t)n[i]=t[i];return n.stream=e,n}}function Mg(){}Mg.prototype={constructor:Mg,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function NA(t,e,n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],a=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),a!=null&&t.clipExtent(null),Yoe(n,t.stream(zw));var s=zw.result(),o=Math.min(i/(s[1][0]-s[0][0]),r/(s[1][1]-s[0][1])),u=+e[0][0]+(i-o*(s[1][0]+s[0][0]))/2,c=+e[0][1]+(r-o*(s[1][1]+s[0][1]))/2;return a!=null&&t.clipExtent(a),t.scale(o*150).translate([u,c])}function ule(t,e,n){return NA(t,[[0,0],e],n)}var Hw=16,cle=oi(30*Qr);function Gw(t,e){return+e?fle(t,e):dle(t)}function dle(t){return LA({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function fle(t,e){function n(i,r,a,s,o,u,c,h,p,v,g,y,_,w){var b=c-i,M=h-r,C=b*b+M*M;if(C>4*e&&_--){var x=s+v,T=o+g,k=u+y,R=ic(x*x+T*T+k*k),D=gl(k/=R),U=Fi(Fi(k)-1)<Yn||Fi(a-p)<Yn?(a+p)/2:Bu(T,x),P=t(U,D),N=P[0],$=P[1],Q=N-i,Y=$-r,H=M*Q-b*Y;(H*H/C>e||Fi((b*Q+M*Y)/C-.5)>.3||s*v+o*g+u*y<cle)&&(n(i,r,a,s,o,u,N,$,U,x/=R,T/=R,k,_,w),w.point(N,$),n(N,$,U,x,T,k,c,h,p,v,g,y,_,w))}}return function(i){var r,a,s,o,u,c,h,p,v,g,y,_,w={point:b,lineStart:M,lineEnd:x,polygonStart:function(){i.polygonStart(),w.lineStart=T},polygonEnd:function(){i.polygonEnd(),w.lineStart=M}};function b(D,U){D=t(D,U),i.point(D[0],D[1])}function M(){p=NaN,w.point=C,i.lineStart()}function C(D,U){var P=Uu([D,U]),N=t(D,U);n(p,v,h,g,y,_,p=N[0],v=N[1],h=D,g=P[0],y=P[1],_=P[2],Hw,i),i.point(p,v)}function x(){w.point=b,i.lineEnd()}function T(){M(),w.point=k,w.lineEnd=R}function k(D,U){C(r=D,U),a=p,s=v,o=g,u=y,c=_,w.point=C}function R(){n(p,v,h,g,y,_,a,s,r,o,u,c,Hw,i),w.lineEnd=x,x()}return w}}var hle=LA({point:function(t,e){this.stream.point(t*Qr,e*Qr)}});function ple(t){return mle(function(){return t})()}function mle(t){var e,n=150,i=480,r=250,a,s,o=0,u=0,c=0,h=0,p=0,v,g,y=null,_=$w,w=null,b,M,C,x=Vw,T=.5,k=Gw(N,T),R,D;function U(Y){return Y=g(Y[0]*Qr,Y[1]*Qr),[Y[0]*n+a,s-Y[1]*n]}function P(Y){return Y=g.invert((Y[0]-a)/n,(s-Y[1])/n),Y&&[Y[0]*Fs,Y[1]*Fs]}function N(Y,H){return Y=e(Y,H),[Y[0]*n+a,s-Y[1]*n]}U.stream=function(Y){return R&&D===Y?R:R=hle(_(v,k(x(D=Y))))},U.clipAngle=function(Y){return arguments.length?(_=+Y?lle(y=Y*Qr,6*Qr):(y=null,$w),Q()):y*Fs},U.clipExtent=function(Y){return arguments.length?(x=Y==null?(w=b=M=C=null,Vw):ele(w=+Y[0][0],b=+Y[0][1],M=+Y[1][0],C=+Y[1][1]),Q()):w==null?null:[[w,b],[M,C]]},U.scale=function(Y){return arguments.length?(n=+Y,$()):n},U.translate=function(Y){return arguments.length?(i=+Y[0],r=+Y[1],$()):[i,r]},U.center=function(Y){return arguments.length?(o=Y[0]%360*Qr,u=Y[1]%360*Qr,$()):[o*Fs,u*Fs]},U.rotate=function(Y){return arguments.length?(c=Y[0]%360*Qr,h=Y[1]%360*Qr,p=Y.length>2?Y[2]%360*Qr:0,$()):[c*Fs,h*Fs,p*Fs]},U.precision=function(Y){return arguments.length?(k=Gw(N,T=Y*Y),Q()):ic(T)},U.fitExtent=function(Y,H){return NA(U,Y,H)},U.fitSize=function(Y,H){return ule(U,Y,H)};function $(){g=TA(v=joe(c,h,p),e);var Y=e(o,u);return a=i-Y[0]*n,s=r+Y[1]*n,Q()}function Q(){return R=D=null,U}return function(){return e=t.apply(this,arguments),U.invert=e.invert&&P,$()}}function OA(t){return function(e,n){var i=oi(e),r=oi(n),a=t(i*r);return[a*r*li(e),a*li(n)]}}function DA(t){return function(e,n){var i=ic(e*e+n*n),r=t(i),a=li(r),s=oi(r);return[Bu(e*a,i*s),gl(i&&n*a/i)]}}var vle=OA(function(t){return ic(2/(1+t))});vle.invert=DA(function(t){return 2*gl(t/2)});var FA=OA(function(t){return(t=MA(t))&&t/li(t)});FA.invert=DA(function(t){return t});function gle(){return ple(FA).scale(79.4188).clipAngle(180-.001)}function Ww(t,e){return[t,e]}Ww.invert=Ww;var{BufferOp:yle,GeoJSONReader:_le,GeoJSONWriter:ble}=Koe;function wle(t,e,n){n=n||{};var i=n.units||"kilometers",r=n.steps||8;if(!t)throw new Error("geojson is required");if(typeof n!="object")throw new Error("options must be an object");if(typeof r!="number")throw new Error("steps must be an number");if(e===void 0)throw new Error("radius is required");if(r<=0)throw new Error("steps must be greater than 0");var a=[];switch(t.type){case"GeometryCollection":return EA(t,function(s){var o=eh(s,e,i,r);o&&a.push(o)}),wg(a);case"FeatureCollection":return kw(t,function(s){var o=eh(s,e,i,r);o&&kw(o,function(u){u&&a.push(u)})}),wg(a)}return eh(t,e,i,r)}function eh(t,e,n,i){var r=t.properties||{},a=t.type==="Feature"?t.geometry:t;if(a.type==="GeometryCollection"){var s=[];return EA(t,function(_){var w=eh(_,e,n,i);w&&s.push(w)}),wg(s)}var o=Sle(a),u={type:a.type,coordinates:UA(a.coordinates,o)},c=new _le,h=c.read(u),p=Ooe(Doe(e,n),"meters"),v=yle.bufferOp(h,p,i),g=new ble;if(v=g.write(v),!BA(v.coordinates)){var y={type:v.type,coordinates:VA(v.coordinates,o)};return gp(y,r)}}function BA(t){return Array.isArray(t[0])?BA(t[0]):isNaN(t[0])}function UA(t,e){return typeof t[0]!="object"?e(t):t.map(function(n){return UA(n,e)})}function VA(t,e){return typeof t[0]!="object"?e.invert(t):t.map(function(n){return VA(n,e)})}function Sle(t){var e=Goe(t).geometry.coordinates,n=[-e[0],-e[1]];return gle().rotate(n).scale(wr)}const Cle={class:"appMain"},Ele={class:"operation"},xle={class:"coords"},Mle=re({__name:"map",setup(t){const{listenToMouseMovement:e,coords:n}=koe(),i=W(null),r=jt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},coords:{},viewer:null,show:!0});Le(n,p=>{r.coords=p});const a=async()=>{await i.value.viewerStates.unload(),r.show=!1},s=()=>{r.show=!0},o=async()=>{await i.value.viewerStates.reload()};wt(()=>{console.log("dlsMapRef",i.value)});const u=p=>{console.log("地球销毁了",p)},c=p=>{console.log("cesium初始话完成",p)},h=p=>{e(p.viewer),r.viewer=p.viewer,console.log("图层实例初始化完成",p)};return(p,v)=>{const g=At("el-button");return I(),K("div",Cle,[r.show?(I(),we(d(Lr),{key:0,mapConfig:{id:"dls-map-layer-map",imageryProvider:r.imageryProvider,sceneModeNum:3},ref_key:"dlsMapRef",ref:i,"viewer-width":"100%","viewer-height":"500px",onReady:h,onDestroyed:u,onCesiumReady:c},null,8,["mapConfig"])):he("",!0),Z("div",Ele,[J(g,{onClick:a,type:"primary"},{default:ne(()=>[mt("销毁")]),_:1}),J(g,{onClick:s,type:"primary"},{default:ne(()=>[mt("加载")]),_:1}),J(g,{onClick:o,type:"primary"},{default:ne(()=>[mt("重载")]),_:1})]),Z("div",xle," 经度："+Ne(r.coords.longitude)+"， 纬度："+Ne(r.coords.latitude)+"， 海拔："+Ne(r.coords.altitude)+"m， 高度："+Ne(r.coords.height)+"m， 方向："+Ne(r.coords.cameraHeading)+"°， 俯仰角："+Ne(r.coords.pitchDegrees)+"°， 层级："+Ne(r.coords.zoomLevel),1)])}}}),Tle=zt(Mle,[["__scopeId","data-v-7c00c373"]]);function Ale(){const t=jt({longitude:"0",latitude:"0",height:"0",altitude:"0",cameraHeading:"0",pitchDegrees:"0",zoomLevel:0});function e(i=null){if(!i)return console.error("viewer is undefined"),!1;if(i){let r=null;const a=i.camera,s=new Cesium.ScreenSpaceEventHandler(i.scene.canvas);s.setInputAction(function(o){const u=i.camera.pickEllipsoid(o.endPosition,i.scene.globe.ellipsoid);u&&(r&&clearTimeout(r),r=setTimeout(()=>{const c=Cesium.Cartographic.fromCartesian(u);t.longitude=Cesium.Math.toDegrees(c.longitude).toFixed(6),t.latitude=Cesium.Math.toDegrees(c.latitude).toFixed(6)},300))},Cesium.ScreenSpaceEventType.MOUSE_MOVE),s.setInputAction(function(o){let u=o.position;if(u)if(i.scene.mode===Cesium.SceneMode.SCENE3D){let h=i.scene.globe.pick(i.camera.getPickRay(u),i.scene);if(h){let p=Cesium.Cartographic.fromCartesian(h);t.longitude=Cesium.Math.toDegrees(p.longitude).toFixed(6),t.latitude=Cesium.Math.toDegrees(p.latitude).toFixed(6);let v=i.scene.globe.ellipsoid.cartesianToCartographic(h);v&&(t.altitude=i.scene.globe.getHeight(v).toFixed(2))}}else{let h=i.camera.pickEllipsoid(u,i.scene.globe.ellipsoid);if(h!==void 0){let p=Cesium.Cartographic.fromCartesian(h),v=Cesium.Math.toDegrees(p.longitude),g=Cesium.Math.toDegrees(p.latitude);t.longitude=v.toFixed(6),t.latitude=g.toFixed(6)}}},Cesium.ScreenSpaceEventType.LEFT_CLICK),i.scene.camera.moveEnd.addEventListener(function(){let o=a.direction,u=Cesium.Math.toDegrees(Math.atan2(o.y,o.x));t.cameraHeading=((u+360)%360).toFixed(0);let c=a.pitch;t.pitchDegrees=Cesium.Math.toDegrees(c).toFixed(0),t.height=i.camera.positionCartographic.height.toFixed(1);let h=n(Math.ceil(i.camera.positionCartographic.height));t.zoomLevel=h})}}function n(i){let r=40487.57,a=7096758e-11,s=91610.74,o=-40467.74;return Math.round(o+(r-o)/(1+Math.pow(i/s,a)))}return{listenToMouseMovement:e,coords:t}}function po(t,e,n={}){if(console.log("options",n),e[2]||(e[2]=1e6),t){const i=Object.assign({heading:0,pitch:-90,roll:0,duration:3},n);t.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(e[0],e[1],e[2]),orientation:{heading:Cesium.Math.toRadians(i.heading),pitch:Cesium.Math.toRadians(i.pitch),roll:i.roll},duration:i.duration})}}function kle(t,e){if(t)if(t.scene.mode===Cesium.SceneMode.SCENE3D){let n=t.scene,i=t.camera,r=i.position.clone(),a=i.heading,s=i.roll;n.camera.setView({destination:r,orientation:{heading:a,roll:s,pitch:Cesium.Math.toRadians(e)}})}else return console.error("请先切换到三维地球模式！"),1;else return console.error("获取地图失败，请刷新重试！"),2}function Ile(t,e){if(!e)return console.error("viewer is undefined"),!1;var n=e.scene;switch(t){case"3d":n.morphTo3D(0);break;case"2d":n.morphTo2D(0);break;case"2.5d":n.morphToColumbusView(0);break}}function Ple(t,e,n){const[i,r,a,s]=n;return t>=i&&t<=r&&e>=a&&e<=s}function Rle(t,e,n){for(const i of n)if(Ple(t,e,i.range))return i;return null}function Lle(){const t=W(null),e=W();return{loadTerrain:async(a,s)=>{if(!s.length)return!1;if(!a)return console.error("viewer is undefined"),!1;if(a.scene.mode!==Cesium.SceneMode.SCENE3D)return console.error("The map mode should be in 3D mode."),!1;let o=s.filter(p=>p.type==="global");o&&o.length&&await Cesium.CesiumTerrainProvider.fromUrl(o[0].url,{requestVertexNormals:!0,...o[0].otherOptios}).then(p=>{a.terrainProvider=p,o[0].verticalExaggeration&&(a.scene.verticalExaggeration=o[0].verticalExaggeration)});let u=!1,c=!1,h=s.filter(p=>p.type==="region");if(h&&h.length){const p=async()=>{let v=a.camera.positionCartographic,g=Cesium.Math.toDegrees(v.latitude),y=Cesium.Math.toDegrees(v.longitude),_=v.height;if(u)!c&&_>h[0].height&&(o&&o.length&&await Cesium.CesiumTerrainProvider.fromUrl(o[0].url,{requestVertexNormals:!0,...o[0].otherOptios}).then(w=>{a.terrainProvider=w,o[0].verticalExaggeration&&(a.scene.verticalExaggeration=o[0].verticalExaggeration)}),c=!0,u=!1);else{let w=Rle(y,g,h);w&&_<w.height&&(u=!0,c=!1,await Cesium.CesiumTerrainProvider.fromUrl(w.url,{requestVertexNormals:!0,...w.otherOptios}).then(b=>{a.terrainProvider=b,w.verticalExaggeration&&(a.scene.verticalExaggeration=w.verticalExaggeration)}))}};t.value=p,a.camera.changed.addEventListener(p)}},loadSeafloorTerrain:async(a,s)=>{if(!a)return console.error("viewer is undefined"),!1;if(a.scene.mode!==Cesium.SceneMode.SCENE3D)return console.error("The map mode should be in 3D mode."),!1;!s.materialColor&&!s.materialColor.length&&(s.materialColor=[{height:2e3,color:"#B79E6C"},{height:100,color:"#FBFFEE"},{height:0,color:"#F9FCCA"},{height:-500,color:"#BDE7AD"},{height:-1e3,color:"#81D2A3"},{height:-1500,color:"#5AB7A4"},{height:-2e3,color:"#4C9AA0"},{height:-2500,color:"#437D9A"},{height:-4e3,color:"#3E6194"},{height:-5e3,color:"#424380"},{height:-8e3,color:"#392D52"},{height:-1e4,color:"#291C2F"}]),s.type==="offline"?a.terrainProvider=await Cesium.CesiumTerrainProvider.fromUrl(s.url,{requestVertexNormals:!0,...s.otherOptios}):s.type==="online"&&(a.terrainProvider=await Cesium.createWorldBathymetryAsync({requestVertexNormals:!0}));const o=document.createElement("canvas");o.id="colorRamp",o.width=500,o.height=500,s.legendMountElement?s.legendMountElement.appendChild(o):(o.style.display="none",document.body.appendChild(o)),e.value=o;const u=a.scene,c=u.globe;c.showGroundAtmosphere=!1,c.showSkyAtmosphere=!1,c.maximumScreenSpaceError=2;const[h,...p]=s.materialColor,v=p.pop(),g=h.height,y=v.height,_=y-g,w=C=>(C-g)/_;function b(){const C=document.getElementById("colorRamp");C.width=100,C.height=15;const x=C.getContext("2d"),T=x.createLinearGradient(0,0,100,0);return s.materialColor.forEach(k=>{T.addColorStop(w(k.height),k.color)}),x.fillStyle=T,x.fillRect(0,0,C.width,C.height),C}function M(){let C=Cesium.Material.fromType("ElevationRamp");const x=C.uniforms;x.image=b(),x.minimumHeight=g*u.verticalExaggeration,x.maximumHeight=y*u.verticalExaggeration,c.material=C}s.verticalExaggeration&&(u.verticalExaggeration=s.verticalExaggeration),u.shadows=Cesium.ShadowMode.ENABLED,s.enableLighting&&(u.globe.enableLighting=s.enableLighting),u.fxaa=!0,M()},removeTerrain:a=>{t.value&&(a.camera.changed.removeEventListener(t.value),t.value=null),a.scene.globe.material=void 0,a.scene.terrainProvider=new Cesium.EllipsoidTerrainProvider({})},legendCanvans:e}}function Nle(t,e,n,i){if(!t)return console.error("viewer is undefined"),!1;let r=0;var a=void 0;let s=new Cesium.CustomDataSource("measureLine");t.dataSources.add(s),document.body.style.cursor="crosshair";var o=new Cesium.ScreenSpaceEventHandler(t.scene.canvas);let u={name:e,color:n?Cesium.Color.fromBytes(...n):Cesium.Color.RED,width:i};var c=new Cesium.CustomDataSource("MyLines");t.dataSources.add(c);var h=[],p=void 0;return o.setInputAction(v=>{const g=Kw(t,v.position);if(Cesium.defined(g)){if(h.length===0){h.push(g);const y=new Cesium.CallbackProperty(()=>h,!1);p=qw(c,y,u)}h.push(g);try{if(s){let y=r+"米";s.entities.add({name:"空间直线距离",position:h[h.length-1],point:{pixelSize:5,color:Cesium.Color.RED,outlineColor:Cesium.Color.WHITE,outlineWidth:2},label:{text:y,font:"18px sans-serif",fillColor:Cesium.Color.GOLD,style:Cesium.LabelStyle.FILL_AND_OUTLINE,outlineWidth:2,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,pixelOffset:new Cesium.Cartesian2(20,-20)}})}}catch(y){console.log("errorerror",y)}}},Cesium.ScreenSpaceEventType.LEFT_CLICK),o.setInputAction(v=>{if(h.length>=2){const g=Kw(t,v.endPosition);Cesium.defined(g)&&(h.pop(),h.push(g)),r=Ole(h)}},Cesium.ScreenSpaceEventType.MOUSE_MOVE),o.setInputAction(v=>{o.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE),h.pop(),c.entities.remove(p),a=qw(c,h,u),document.body.style.cursor="default",setTimeout(()=>{h=[],o.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),o.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),o&&(o.destroy(),o=null)},500)},Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),a}function Kw(t,e){let n;if(t.terrainProvider instanceof Cesium.EllipsoidTerrainProvider)n=t.scene.camera.pickEllipsoid(e);else{const i=t.camera.getPickRay(e);n=t.scene.globe.pick(i,t.scene)}return n}function qw(t,e,n){return t.entities.add({name:n.name,polyline:{positions:e,clampToGround:!0,width:n.width,material:n.color}})}function Ole(t){let e=0;for(let n=0;n<t.length-1;n++){let i=Cesium.Cartographic.fromCartesian(t[n]),r=Cesium.Cartographic.fromCartesian(t[n+1]),a=new Cesium.EllipsoidGeodesic;a.setEndPoints(i,r);let s=a.surfaceDistance;s=Math.sqrt(Math.pow(s,2)+Math.pow(r.height-i.height,2)),e=e+s}return e.toFixed(2)}function Pd(){W([]);function t(s,o,u,{type:c,name:h="Point",width:p,height:v,scale:g,click:y=!0,doubleClickHeight:_=5e3,attribute:w={},popContent:b,pointHeight:M,doubleClickPitch:C=-90,modelUrl:x,modelScale:T=1,modelMinimumPixelSize:k=64,imgUrl:R}){let D=M||0;if(!u)return console.error("viewer is undefined"),!1;let U={name:h,position:Cesium.Cartesian3.fromDegrees(s,o,D),attribute:w,click:y,doubleClickHeight:_,lon:s,lat:o,popContent:b,doubleClickPitch:C};switch(c){case"model":if(x)U.model={uri:x,scale:T,minimumPixelSize:k};else return console.error("Model URL is required for model type"),!1;break;case"billboard":if(R)U.billboard={image:R,width:p,height:v,scale:g,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,horizontalOrigin:Cesium.HorizontalOrigin.CENTER};else return console.error("Image URL is required for billboard type"),!1;break;case"point":U.point={color:Cesium.Color.RED,pixelSize:10,outlineColor:Cesium.Color.BLACK,outlineWidth:2};break;default:return console.error("Unknown entity type"),!1}return u.entities.add(U)}function e(s,o,u,{name:c="Line",width:h=3}){return u?u.entities.add({name:c,polyline:{positions:Cesium.Cartesian3.fromDegreesArray(s),width:h,material:o}}):(console.error("viewer is undefined"),!1)}function n(s,o,u,c,h,p="Circle"){return h?h.entities.add({position:Cesium.Cartesian3.fromDegrees(s,o),ellipse:{semiMinorAxis:u,semiMajorAxis:u,material:new Cesium.ColorMaterialProperty(Cesium.Color.fromCssColorString(c))}}):(console.error("viewer is undefined"),!1)}function i(s,o,u,{maximumHeights:c=[],minimumHeights:h=[],alpha:p=.5,MaterialIndex:v=1}){if(!s)return console.error("viewer is undefined"),!1;let g=null;c&&h&&c.length&&h.length?g=new Cesium.WallGeometry({positions:Cesium.Cartesian3.fromDegreesArrayHeights(o),maximumHeights:c,minimumHeights:h}):g=new Cesium.WallGeometry({positions:Cesium.Cartesian3.fromDegreesArrayHeights(o)});const y=new Cesium.GeometryInstance({geometry:g,attributes:{color:Cesium.ColorGeometryInstanceAttribute.fromColor(Cesium.Color.WHITE)}});let _=null;v===1?_={type:"Wave",uniforms:{color:Cesium.Color.fromCssColorString(u).withAlpha(p),time:0},source:`
        czm_material czm_getMaterial(czm_materialInput materialInput) {
            czm_material material = czm_getDefaultMaterial(materialInput);
            vec2 st = materialInput.st;
            float time = czm_frameNumber / 60.0; // 动态时间
            float wave = sin((st.s + st.t) * 10.0 + time * 4.0); // 波动公式
            material.diffuse = color.rgb;
            material.alpha = color.a * abs(wave);
            return material;
        }`}:v===2?_={type:"Blinking",uniforms:{color:Cesium.Color.fromCssColorString(u).withAlpha(p),time:0},source:`
        czm_material czm_getMaterial(czm_materialInput materialInput) {
            czm_material material = czm_getDefaultMaterial(materialInput);
            float alpha = abs(sin(czm_frameNumber / 60.0)); // 闪烁效果
            material.diffuse = color.rgb;
            material.alpha = color.a * alpha;
            return material;
        }`}:v===3?_={type:"Gradient",uniforms:{color:Cesium.Color.fromCssColorString(u).withAlpha(p)},source:`
        czm_material czm_getMaterial(czm_materialInput materialInput) {
            czm_material material = czm_getDefaultMaterial(materialInput);
            vec2 st = materialInput.st;
            material.diffuse = color.rgb * st.t; // 渐变效果
            material.alpha = color.a;
            return material;
        }`}:v===4&&(_={type:"MovingStripe",uniforms:{color:Cesium.Color.fromCssColorString(u).withAlpha(p),repeat:10,speed:2,time:0},source:`
        czm_material czm_getMaterial(czm_materialInput materialInput) {
            czm_material material = czm_getDefaultMaterial(materialInput);
            vec2 st = materialInput.st;
            float time = czm_frameNumber / 60.0 * speed;
            float stripe = abs(sin(st.s * repeat + time));
            material.diffuse = color.rgb * stripe;
            material.alpha = color.a * stripe;
            return material;
        }`});const w=new Cesium.Primitive({geometryInstances:y,appearance:new Cesium.MaterialAppearance({material:new Cesium.Material({fabric:_}),translucent:!0}),asynchronous:!1});return s.scene.primitives.add(w),s.camera.setView({destination:Cesium.Cartesian3.fromDegrees(-115,37,2e6)}),w}const r=(s,o)=>{s.forEach(u=>o.entities.remove(u))},a=(s,o)=>{s.forEach(u=>o.scene.primitives.remove(u))};return wt(()=>{console.log("Cesium entities initialized.")}),xn(()=>{console.log("Cesium entities removed.")}),{addPointEntity:t,addLine:e,addCircle:n,addWall:i,removeSpecifyEntity:r,removeSpecifyPrimitive:a}}class Yw{constructor(e){if(e){if(this.viewer=e.viewer,this.height=e.height,this.position=Cesium.Cartesian3.fromDegrees(e.position[0],e.position[1],e.height),this.layerData=e,this.vmInstance=typeof e.dom=="string"?this.createDom(e.dom):e.dom,this.dId=e.id?e.id:void 0,this.className=e.className?e.className:void 0,this.offset=e.offset,this.type=e.type,!this.vmInstance||!this.vmInstance.style)throw new Error("Not passing available Dom");this.initDom(),this.show=!0,e.viewer.cesiumWidget.container.appendChild(this.vmInstance),this.addPostRender()}}createDom(e){const n=document.createElement("div");return n.innerHTML=e,n}initDom(){this.className&&this.vmInstance.classList.add(this.className),this.dId&&(this.vmInstance.id="divLabel"+this.dId),this.vmInstance.style.position="absolute",this.vmInstance.style.zIndex="5",this.vmInstance.addEventListener("click",()=>{}),this.vmInstance.classList.contains("cesium-divLabel")||this.vmInstance.classList.add("cesium-divLabel")}setDom(e){e instanceof HTMLElement?(this.vmInstance.remove(),this.vmInstance=e,this.initDom()):this.vmInstance.innerHTML=e}addPostRender(){this.viewer.scene.postRender.addEventListener(this.postRender.bind(this)),this._render=this.postRender.bind(this)}postRender(){if(!this.vmInstance||!this.vmInstance.style||this.vmInstance.style.zIndex==="-1")return;const e=this.viewer.scene.mode===Cesium.SceneMode.SCENE3D,n=this.viewer.scene.mode===Cesium.SceneMode.SCENE2D;let i;if(e?i=this.viewer.scene.cartesianToCanvasCoordinates(this.position):n&&(i=Cesium.SceneTransforms.wgs84ToWindowCoordinates(this.viewer.scene,this.position)),i){if(this.offset)if(this.type&&this.type==="LayerPointTime")this.vmInstance.style.top=i.y+"px",this.vmInstance.style.left=i.x+this.offset[0]+"px";else{this.vmInstance.style.top=i.y+this.offset[1]+"px";const s=this.vmInstance.offsetWidth;this.vmInstance.style.left=i.x-s/2+this.offset[0]+"px"}else{this.vmInstance.style.top=i.y+"px";const s=this.vmInstance.offsetWidth;this.vmInstance.style.left=i.x-s/2+"px"}const r=this.viewer.camera.position;let a=this.viewer.scene.globe.ellipsoid.cartesianToCartographic(r).height;a+=this.viewer.scene.globe.ellipsoid.maximumRadius,!(Cesium.Cartesian3.distance(r,this.position)>a)&&this.viewer.camera.positionCartographic.height<5e7?this.vmInstance.style.display="block":this.vmInstance.style.display="none"}}changePosition(e){return e.length===2&&(this.position=Cesium.Cartesian3.fromDegrees(e[0],e[1],this.height)),this}removeAllDiv(e){document.querySelectorAll(e).forEach(n=>n.remove())}}let Dle=class{constructor(){this.listeners=new Map([["drawStart",new Set],["drawUpdate",new Set],["drawEnd",new Set],["editStart",new Set],["editEnd",new Set]])}on(e,n){if(!this.listeners.has(e)){console.warn("Event binding must be one of 'drawStart', 'drawUpdate', or 'drawEnd'.");return}this.listeners.get(e).add(n)}off(e,n){this.listeners.has(e)&&this.listeners.get(e).delete(n)}dispatchEvent(e,n){this.listeners.has(e)&&this.listeners.get(e).forEach(i=>{i(n)})}};const jw=100,Hy=1e-4,ti=(t,e)=>Math.sqrt((t[0]-e[0])**2+(t[1]-e[1])**2),yp=t=>{let e=0;return t&&Array.isArray(t)&&t.length>0&&t.forEach((n,i)=>{i<t.length-1&&(e+=ti(n,t[i+1]))}),e},Pa=t=>yp(t)**.99,aa=(t,e)=>[(t[0]+e[0])/2,(t[1]+e[1])/2],zA=(t,e,n)=>{const i=[(t[0]+e[0])/2,(t[1]+e[1])/2],r=[i[0]-t[1]+e[1],i[1]+t[0]-e[0]],a=[(t[0]+n[0])/2,(t[1]+n[1])/2],s=[a[0]-t[1]+n[1],a[1]+t[0]-n[0]];return Fle(i,r,a,s)},Fle=(t,e,n,i)=>{if(t[1]===e[1]){const c=(i[0]-n[0])/(i[1]-n[1])*(t[1]-n[1])+n[0],h=t[1];return[c,h]}if(n[1]===i[1]){const c=(e[0]-t[0])/(e[1]-t[1])*(n[1]-t[1])+t[0],h=n[1];return[c,h]}const r=(e[0]-t[0])/(e[1]-t[1]),a=(i[0]-n[0])/(i[1]-n[1]),s=(r*t[1]-t[0]-a*n[1]+n[0])/(r-a);return[r*s-r*t[1]+t[0],s]},Ms=(t,e)=>{let n;const i=Math.asin(Math.abs(e[1]-t[1])/ti(t,e));return e[1]>=t[1]&&e[0]>=t[0]?n=i+Math.PI:e[1]>=t[1]&&e[0]<t[0]?n=Math.PI*2-i:e[1]<t[1]&&e[0]<t[0]?n=i:e[1]<t[1]&&e[0]>=t[0]&&(n=Math.PI-i),n},Tg=(t,e,n)=>{const i=Ms(e,t)-Ms(e,n);return i<0?i+Math.PI*2:i},rc=(t,e,n)=>(n[1]-t[1])*(e[0]-t[0])>(e[1]-t[1])*(n[0]-t[0]),Gy=(t,e,n,i,r)=>{t=Math.max(Math.min(t,1),0);const[a,s]=[1-t,t*t],o=s*t,u=a*a,c=u*a,h=c*e[0]+3*u*t*n[0]+3*a*s*i[0]+o*r[0],p=c*e[1]+3*u*t*n[1]+3*a*s*i[1]+o*r[1];return[h,p]},en=(t,e,n,i,r)=>{const a=Ms(t,e),s=r?a+n:a-n,o=i*Math.cos(s),u=i*Math.sin(s);return[e[0]+o,e[1]+u]},Wy=(t,e,n,i)=>{let[r,a,s,o]=[null,null,[],i-n];o=o<0?o+Math.PI*2:o;for(let u=0;u<=100;u++){const c=n+o*u/100;r=t[0]+e*Math.cos(c),a=t[1]+e*Math.sin(c),s.push([r,a])}return s},Rd=(t,e,n,i)=>{const r=Ky(e,n,i);let[a,s,o,u,c]=[null,null,null,null,null];const h=Math.sqrt(r[0]*r[0]+r[1]*r[1]),p=r[0]/h,v=r[1]/h,g=ti(e,n),y=ti(n,i);return h>Hy?rc(e,n,i)?(o=t*g,u=n[0]-o*v,c=n[1]+o*p,a=[u,c],o=t*y,u=n[0]+o*v,c=n[1]-o*p,s=[u,c]):(o=t*g,u=n[0]+o*v,c=n[1]-o*p,a=[u,c],o=t*y,u=n[0]-o*v,c=n[1]+o*p,s=[u,c]):(u=n[0]+t*(e[0]-n[0]),c=n[1]+t*(e[1]-n[1]),a=[u,c],u=n[0]+t*(i[0]-n[0]),c=n[1]+t*(i[1]-n[1]),s=[u,c]),[a,s]},Ky=(t,e,n)=>{let i=t[0]-e[0],r=t[1]-e[1];const a=Math.sqrt(i*i+r*r);i/=a,r/=a;let s=n[0]-e[0],o=n[1]-e[1];const u=Math.sqrt(s*s+o*o);s/=u,o/=u;const c=i+s,h=r+o;return[c,h]},Ble=(t,e)=>{let[n,i,r,a,s]=[t[0],t[1],t[2],null,null];const u=Rd(0,n,i,r)[0],c=Ky(n,i,r);if(Math.sqrt(c[0]*c[0]+c[1]*c[1])>Hy){const p=aa(n,i),v=n[0]-p[0],g=n[1]-p[1],_=2/ti(n,i),w=-_*g,b=_*v,M=w*w-b*b,C=2*w*b,x=b*b-w*w,T=u[0]-p[0],k=u[1]-p[1];a=p[0]+M*T+C*k,s=p[1]+C*T+x*k}else a=n[0]+e*(i[0]-n[0]),s=n[1]+e*(i[1]-n[1]);return[a,s]},Ule=(t,e)=>{const n=t.length,i=t[n-3],r=t[n-2],a=t[n-1],o=Rd(0,i,r,a)[1],u=Ky(i,r,a),c=Math.sqrt(u[0]*u[0]+u[1]*u[1]);let[h,p]=[null,null];if(c>Hy){const v=aa(r,a),g=a[0]-v[0],y=a[1]-v[1],w=2/ti(r,a),b=-w*y,M=w*g,C=b*b-M*M,x=2*b*M,T=M*M-b*b,k=o[0]-v[0],R=o[1]-v[1];h=v[0]+C*k+x*R,p=v[1]+x*k+T*R}else h=a[0]+e*(r[0]-a[0]),p=a[1]+e*(r[1]-a[1]);return[h,p]},qy=(t,e)=>{const n=Ble(e,t);let[i,r,a,s,o]=[null,null,null,[n],[]];for(let c=0;c<e.length-2;c++){[i,r,a]=[e[c],e[c+1],e[c+2]];const h=Rd(t,i,r,a);s=s.concat(h)}const u=Ule(e,t);u&&s.push(u);for(let c=0;c<e.length-1;c++){i=e[c],r=e[c+1],o.push(i);for(let h=0;h<jw;h++){const p=Gy(h/jw,i,s[c*2],s[c*2+1],r);o.push(p)}o.push(r)}return o},_m=function(t){if(t.length<=2)return t;const e=[],n=t.length-1;for(let i=0;i<=1;i+=.01){let[r,a]=[0,0];for(let s=0;s<=n;s++){const o=Vle(n,s),u=i**s,c=(1-i)**(n-s);r+=o*u*c*t[s][0],a+=o*u*c*t[s][1]}e.push([r,a])}return e.push(t[n]),e},bm=t=>{let e=1;switch(t){case t<=1:e=1;break;case t===2:e=2;break;case t===3:e=6;break;case t===24:e=24;break;case t===5:e=120;break;default:for(let n=1;n<=t;n++)e*=n;break}return e},Vle=(t,e)=>bm(t)/(bm(e)*bm(t-e)),mo=t=>{if(t.length<=2)return t;const[e,n]=[2,[]],i=t.length-e-1;n.push(t[0]);for(let r=0;r<=i;r++)for(let a=0;a<=1;a+=.05){let[s,o]=[0,0];for(let u=0;u<=e;u++){const c=zle(u,a);s+=c*t[r+u][0],o+=c*t[r+u][1]}n.push([s,o])}return n.push(t[t.length-1]),n},zle=(t,e)=>{let n=0;return t===0?n=(e-1)**2/2:t===1?n=(-2*e**2+2*e+1)/2:t===2&&(n=e**2/2),n};class Ti{constructor(e,n,i){this.geometryPoints=[],this.state="drawing",this.controlPoints=[],this.freehand=!0,this.entityId="",this.points=[],this.minPointsForShape=0,this.cesium=e,this.viewer=n,this.type=this.getType(),this.style=i,this.mergeStyle(i),this.cartesianToLnglat=this.cartesianToLnglat.bind(this),this.pixelToCartesian=this.pixelToCartesian.bind(this),this.eventDispatcher=new Dle,n.trackedEntity=void 0,n.cesiumWidget.screenSpaceEventHandler.removeInputAction(this.cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),this.onClick()}mergeStyle(e){this.type==="polygon"?this.style=Object.assign({material:new this.cesium.Color,outlineMaterial:new this.cesium.Color,outlineWidth:2},e):this.type==="line"?this.style=Object.assign({material:new this.cesium.Color,lineWidth:2},e):this.type==="point"&&(this.style=Object.assign({pixelSize:10,heightReference:this.cesium.HeightReference.CLAMP_TO_GROUND,color:this.cesium.Color.RED},e)),this.styleCache=Loe(this.style)}setState(e){this.state=e}getState(){return this.state}onClick(){this.eventHandler=new this.cesium.ScreenSpaceEventHandler(this.viewer.canvas),this.eventHandler.setInputAction(e=>{const n=this.viewer.scene.pick(e.position),i=this.cesium.defined(n)&&n.id instanceof this.cesium.Entity;let r=this.polygonEntity;if(this.type==="line"&&(r=this.lineEntity),this.type==="point"&&(r=this.pointEntity),this.state==="drawing"){const a=this.pixelToCartesian(e.position),s=this.getPoints();if(!a||!this.freehand&&s.length>0&&!this.checkDistance(a,s[s.length-1]))return;this.addPoint(a),this.getPoints().length===1&&this.eventDispatcher.dispatchEvent("drawStart"),this.eventDispatcher.dispatchEvent("drawUpdate",a)}else if(this.state==="edit")(!i||r.id!==n.id.id)&&(this.setState("static"),this.type!=="point"&&this.removeControlPoints(),this.disableDrag(),this.eventDispatcher.dispatchEvent("editEnd",this.getPoints()));else if(this.state==="static"&&this.style.isEdit!==!1)try{if(i&&r.id===n.id.id){const a=this.type==="line"?n.id.polyline:this.type==="polygon"?n.id.polygon:n.id.point;this.cesium.defined(a)&&(this.setState("edit"),this.type!=="point"&&this.addControlPoints(),this.draggable(),this.eventDispatcher.dispatchEvent("editStart",this))}}catch(a){console.log("eeee",a)}},this.cesium.ScreenSpaceEventType.LEFT_CLICK)}onMouseMove(){this.eventHandler.setInputAction(e=>{const n=this.getPoints(),i=this.pixelToCartesian(e.endPosition);i&&this.checkDistance(i,n[n.length-1])&&this.updateMovingPoint(i,n.length)},this.cesium.ScreenSpaceEventType.MOUSE_MOVE)}onDoubleClick(){this.eventHandler.setInputAction(e=>{this.state==="drawing"&&this.finishDrawing()},this.cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK)}checkDistance(e,n){return this.cesium.Cartesian3.distance(e,n)>10}finishDrawing(){this.type==="polygon"&&this.lineEntity&&this.viewer.entities.remove(this.lineEntity),this.removeMoveListener(),this.style.isEdit!==!1?(this.setState("edit"),this.type!=="point"&&this.addControlPoints(),this.draggable()):this.setState("static");const e=this.polygonEntity||this.lineEntity||this.pointEntity;this.entityId=e.id,this.eventDispatcher.dispatchEvent("drawEnd",this.getPoints())}removeClickListener(){this.eventHandler.removeInputAction(this.cesium.ScreenSpaceEventType.LEFT_CLICK)}removeMoveListener(){this.eventHandler.removeInputAction(this.cesium.ScreenSpaceEventType.MOUSE_MOVE)}removeDoubleClickListener(){this.eventHandler.removeInputAction(this.cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK)}setGeometryPoints(e){this.geometryPoints=e}getGeometryPoints(){return this.geometryPoints}drawPolygon(){const e=()=>new this.cesium.PolygonHierarchy(this.geometryPoints);if(!this.polygonEntity){const n=this.style;this.polygonEntity=this.viewer.entities.add({polygon:new this.cesium.PolygonGraphics({hierarchy:new this.cesium.CallbackProperty(e,!1),show:!0,material:n.material})}),this.outlineEntity=this.viewer.entities.add({polyline:{positions:new this.cesium.CallbackProperty(()=>[...this.geometryPoints,this.geometryPoints[0]],!1),width:n.outlineWidth,material:n.outlineMaterial,clampToGround:!0}})}}drawLine(){if(!this.lineEntity){const e=this.style;this.lineEntity=this.addLineEntity(e)}}drawPoint(){if(!this.pointEntity){const e=this.getPoints();this.setGeometryPoints(e);const n=this.style;this.pointEntity=this.viewer.entities.add({position:e[0],point:{pixelSize:n.pixelSize,heightReference:n.heightReference,color:n.color}})}}addTempLine(){if(!this.tempLineEntity){const e=this.style,n={material:e.outlineMaterial,lineWidth:e.outlineWidth};this.tempLineEntity=this.addLineEntity(n)}}removeTempLine(){this.tempLineEntity&&this.viewer.entities.remove(this.tempLineEntity)}addLineEntity(e){return this.viewer.entities.add({polyline:{positions:new this.cesium.CallbackProperty(()=>this.geometryPoints,!1),width:e.lineWidth,material:e.material,clampToGround:!0}})}cartesianToLnglat(e){const n=this.viewer.scene.globe.ellipsoid.cartesianToCartographic(e),i=this.cesium.Math.toDegrees(n.latitude);return[this.cesium.Math.toDegrees(n.longitude),i]}pixelToCartesian(e){const n=this.viewer.camera.getPickRay(e);return this.viewer.scene.globe.pick(n,this.viewer.scene)}addControlPoints(){const e=this.getPoints();this.controlPoints=e.map(a=>this.viewer.entities.add({position:a,point:{pixelSize:10,heightReference:this.cesium.HeightReference.CLAMP_TO_GROUND,color:this.cesium.Color.RED}}));let n=!1,i=null,r;this.controlPointsEventHandler=new this.cesium.ScreenSpaceEventHandler(this.viewer.canvas),this.controlPointsEventHandler.setInputAction(a=>{const s=this.viewer.scene.pick(a.position);if(this.cesium.defined(s)){for(let o=0;o<this.controlPoints.length;o++)if(s.id._id===this.controlPoints[o]._id){n=!0,i=this.controlPoints[o],r=i.position._value,i.index=o;break}this.viewer.scene.screenSpaceCameraController.enableRotate=!1}},this.cesium.ScreenSpaceEventType.LEFT_DOWN),this.controlPointsEventHandler.setInputAction(a=>{if(n&&i){const s=this.viewer.camera.pickEllipsoid(a.endPosition,this.viewer.scene.globe.ellipsoid);s&&(i.position.setValue(s),this.updateDraggingPoint(s,i.index))}},this.cesium.ScreenSpaceEventType.MOUSE_MOVE),this.controlPointsEventHandler.setInputAction(()=>{i&&!this.cesium.Cartesian3.equals(r,i.position._value)&&this.eventDispatcher.dispatchEvent("drawUpdate",i.position._value),n=!1,i=null,this.viewer.scene.screenSpaceCameraController.enableRotate=!0},this.cesium.ScreenSpaceEventType.LEFT_UP)}removeControlPoints(){this.controlPoints.length>0&&(this.controlPoints.forEach(e=>{this.viewer.entities.remove(e)}),this.controlPointsEventHandler.removeInputAction(this.cesium.ScreenSpaceEventType.LEFT_DOWN),this.controlPointsEventHandler.removeInputAction(this.cesium.ScreenSpaceEventType.MOUSE_MOVE),this.controlPointsEventHandler.removeInputAction(this.cesium.ScreenSpaceEventType.LEFT_UP))}draggable(){let e=!1,n;this.dragEventHandler=new this.cesium.ScreenSpaceEventHandler(this.viewer.canvas),this.dragEventHandler.setInputAction(i=>{const r=this.viewer.scene.camera.getPickRay(i.position);if(r){const a=this.viewer.scene.globe.pick(r,this.viewer.scene),s=this.viewer.scene.pick(i.position);if(this.cesium.defined(s)&&s.id instanceof this.cesium.Entity){const o=s.id;this.isCurrentEntity(o.id)&&(e=!0,n=a,this.viewer.scene.screenSpaceCameraController.enableRotate=!1)}}},this.cesium.ScreenSpaceEventType.LEFT_DOWN),this.dragEventHandler.setInputAction(i=>{var r,a;if(e&&n){const s=this.pixelToCartesian(i.endPosition);if(s){const o=this.cesium.Cartesian3.subtract(s,n,new this.cesium.Cartesian3);if(this.type==="point"){const c=(r=this.pointEntity.position)==null?void 0:r.getValue(this.cesium.JulianDate.now()),h=this.cesium.Cartesian3.add(c,o,new this.cesium.Cartesian3);(a=this.pointEntity.position)==null||a.setValue(h)}const u=this.geometryPoints.map(c=>this.cesium.Cartesian3.add(c,o,new this.cesium.Cartesian3));this.points=this.points.map(c=>this.cesium.Cartesian3.add(c,o,new this.cesium.Cartesian3)),this.controlPoints.map(c=>{var v,g;const h=(v=c.position)==null?void 0:v.getValue(this.cesium.JulianDate.now()),p=this.cesium.Cartesian3.add(h,o,new this.cesium.Cartesian3);(g=c.position)==null||g.setValue(p)}),this.setGeometryPoints(u),this.minPointsForShape===4&&(this.curveControlPointLeft=this.cesium.Cartesian3.add(this.curveControlPointLeft,o,new this.cesium.Cartesian3),this.curveControlPointRight=this.cesium.Cartesian3.add(this.curveControlPointRight,o,new this.cesium.Cartesian3)),n=s}}else if(this.viewer.scene.camera.getPickRay(i.endPosition)){const o=this.viewer.scene.pick(i.endPosition);if(this.cesium.defined(o)&&o.id instanceof this.cesium.Entity){const u=o.id;this.isCurrentEntity(u.id)?this.viewer.scene.canvas.style.cursor="move":this.viewer.scene.canvas.style.cursor="default"}else this.viewer.scene.canvas.style.cursor="default"}},this.cesium.ScreenSpaceEventType.MOUSE_MOVE),this.dragEventHandler.setInputAction(()=>{e=!1,n=void 0,this.viewer.scene.screenSpaceCameraController.enableRotate=!0},this.cesium.ScreenSpaceEventType.LEFT_UP)}disableDrag(){this.dragEventHandler.removeInputAction(this.cesium.ScreenSpaceEventType.LEFT_DOWN),this.dragEventHandler.removeInputAction(this.cesium.ScreenSpaceEventType.MOUSE_MOVE),this.dragEventHandler.removeInputAction(this.cesium.ScreenSpaceEventType.LEFT_UP)}show(e){if(e){const{duration:n,delay:i,callback:r}=e;this.showWithAnimation(n,i,r);return}else this.showWithAnimation(0,0)}hide(e){if(e){const{duration:n,delay:i,callback:r}=e;this.hideWithAnimation(n,i,r);return}else this.hideWithAnimation(0,0)}showWithAnimation(e=2e3,n=0,i){var r,a,s,o;if(this.state==="hidden"){if(this.setState("static"),this.type==="polygon"){let u=.3;const c=this.styleCache.material;c.image?u=c.color.getValue().alpha:u=c.alpha,this.animateOpacity(this.polygonEntity,u,e,n,i,this.state);const h=(a=(r=this.styleCache)==null?void 0:r.outlineMaterial)==null?void 0:a.alpha;this.animateOpacity(this.outlineEntity,h||1,e,n,void 0,this.state)}else if(this.type==="line"){const u=this.styleCache.material;let c=1;u.image?c=u.color.alpha:u.dashLength?c=u.color.getValue().alpha:c=(o=(s=this.styleCache)==null?void 0:s.material)==null?void 0:o.alpha,this.animateOpacity(this.lineEntity,c,e,n,i,this.state)}e!=0&&this.setState("animating")}}hideWithAnimation(e=2e3,n=0,i){this.state==="hidden"||this.state!="static"||(this.setState("hidden"),this.type==="polygon"?(this.animateOpacity(this.polygonEntity,0,e,n,i,this.state),this.animateOpacity(this.outlineEntity,0,e,n,void 0,this.state)):this.type==="line"&&this.animateOpacity(this.lineEntity,0,e,n,i,this.state),e!=0&&this.setState("animating"))}animateOpacity(e,n,i,r,a,s){setTimeout(()=>{const o=e.polygon||e.polyline||e.billboard;let u,c=o.material;c?c.image&&c.color.alpha!==void 0?u=c.color.alpha:u=c.color.getValue().alpha:u=o.color.getValue().alpha;let h=0;const p=v=>{h||(h=v);const g=v-h;if(g<i){const y=g/i*(n-u),_=u+y;if(c)if(c.image&&c.color.alpha!==void 0)c.color.alpha=_;else{const w=c.color.getValue().withAlpha(_);c.color.setValue(w)}else{const b=o.color.getValue().withAlpha(_);o.color.setValue(b)}requestAnimationFrame(p)}else{a&&a();const y=s||"static";if(c)if(c.image&&c.color.alpha!==void 0)c.color.alpha=n;else{const _=c.color.getValue().withAlpha(n);c.color.setValue(_)}else{const w=o.color.getValue().withAlpha(n);o.color.setValue(w)}requestAnimationFrame(()=>{this.setState(y)})}};requestAnimationFrame(p)},r)}startGrowthAnimation(e){const{duration:n=2e3,delay:i=0,callback:r}=e||{};if(!(this.state==="hidden"||this.state!="static")){if(!this.minPointsForShape){console.warn("Growth animation is not supported for this type of shape");return}if(this.setState("animating"),this.minPointsForShape===4){this.doubleArrowGrowthAnimation(n,i,r);return}setTimeout(()=>{this.hideWithAnimation(0,0,void 0);const a=this.getPoints();let s=0;this.minPointsForShape===2?s=n/(a.length-1):s=n/(a.length-2);let o=Date.now(),u=0;this.viewer.clock.shouldAnimate=!0;const c=h=>{const v=Date.now()-o;if(v>=n){r&&r(),o=0,this.viewer.clock.shouldAnimate=!1,this.viewer.clock.onTick.removeEventListener(c),this.setState("static");return}const g=Math.floor(v/s);let y;this.minPointsForShape===2?u=g+1:u=g+2,y=a[u-1],g==0&&this.minPointsForShape===3&&(y=this.cesium.Cartesian3.midpoint(a[0],a[1],new this.cesium.Cartesian3));let _=a[u];const w=(v-g*s)/s,b=this.cesium.Cartesian3.lerp(y,_,w,new this.cesium.Cartesian3),M=a.slice(0,u+1);M[M.length-1]=b;const C=this.createGraphic(M);this.setGeometryPoints(C),this.showWithAnimation(0,0,void 0)};this.viewer.clock.onTick.addEventListener(c)},i)}}doubleArrowGrowthAnimation(e=2e3,n=0,i){setTimeout(()=>{this.hideWithAnimation(0,0,void 0);const r=this.getPoints();let a=Date.now();this.viewer.clock.shouldAnimate=!0;const s=o=>{const c=Date.now()-a;if(c>=e){i&&i(),a=0,this.viewer.clock.shouldAnimate=!1,this.viewer.clock.onTick.removeEventListener(s),this.setState("static");return}const h=this.cesium.Cartesian3.midpoint(r[0],r[1],new this.cesium.Cartesian3),p=this.cesium.Cartesian3.midpoint(r[0],h,new this.cesium.Cartesian3),v=this.cesium.Cartesian3.midpoint(h,r[1],new this.cesium.Cartesian3);let g=r[3],y=r[2];const _=c/e,w=this.getBezierControlPointforGrowthAnimation();let b=[p,w.left,g],M=[v,w.right,y];const C=this.getNewPosition(b,_),x=this.getNewPosition(M,_),T=[...r];T[2]=x,T[3]=C;const k=this.createGraphic(T);this.setGeometryPoints(k),this.showWithAnimation(0,0,void 0)};this.viewer.clock.onTick.addEventListener(s)},n)}getNewPosition(e,n){e=e.map(a=>this.cartesianToLnglat(a));let i=qy(.3,e);return i=i.map(a=>this.cesium.Cartesian3.fromDegrees(a[0],a[1])),this.interpolateAlongCurve(i,n)}interpolateAlongCurve(e,n){const i=e.length-1,r=Math.floor(n*i),a=n*i-r,s=e[r],o=e[r+1],u=s.x+(o.x-s.x)*a,c=s.y+(o.y-s.y)*a,h=s.z+(o.z-s.z)*a;return new this.cesium.Cartesian3(u,c,h)}remove(){this.type==="polygon"?(this.viewer.entities.remove(this.polygonEntity),this.viewer.entities.remove(this.outlineEntity),this.polygonEntity=null,this.outlineEntity=null,this.lineEntity=null):this.type==="line"?this.viewer.entities.remove(this.lineEntity):this.type==="point"&&this.viewer.entities.remove(this.pointEntity),this.removeClickListener(),this.removeMoveListener(),this.removeDoubleClickListener(),this.removeControlPoints()}on(e,n){this.eventDispatcher.on(e,n)}off(e,n){this.eventDispatcher.off(e,n)}isCurrentEntity(e){return this.entityId===e}addPoint(e){}getPoints(){return[new this.cesium.Cartesian3]}updateMovingPoint(e,n){}updateDraggingPoint(e,n){}getType(){return"polygon"}createGraphic(e){return e}}class $A extends Ti{constructor(e,n,i){super(e,n,i),this.points=[],this.arrowLengthScale=5,this.maxArrowLength=2,this.cesium=e,this.tailWidthFactor=.1,this.neckWidthFactor=.2,this.headWidthFactor=.25,this.headAngle=Math.PI/8.5,this.neckAngle=Math.PI/13,this.minPointsForShape=2,this.setState("drawing")}getType(){return"polygon"}addPoint(e){if(this.points.length<2&&(this.points.push(e),this.onMouseMove()),this.points.length===2){const n=this.createGraphic(this.points);this.setGeometryPoints(n),this.drawPolygon(),this.finishDrawing()}}updateMovingPoint(e){const n=[...this.points,e],i=this.createGraphic(n);this.setGeometryPoints(i),this.drawPolygon()}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawPolygon()}createGraphic(e){const[n,i]=e.map(this.cartesianToLnglat),r=Pa([n,i]),a=r*this.tailWidthFactor,s=r*this.neckWidthFactor,o=r*this.headWidthFactor,u=en(i,n,Math.PI/2,a,!0),c=en(i,n,Math.PI/2,a,!1),h=en(n,i,this.headAngle,o,!1),p=en(n,i,this.headAngle,o,!0),v=en(n,i,this.neckAngle,s,!1),g=en(n,i,this.neckAngle,s,!0),y=[...u,...v,...h,...i,...p,...g,...c,...n];return this.cesium.Cartesian3.fromDegreesArray(y)}getPoints(){return this.points}}class Yy extends Ti{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.headHeightFactor=.18,this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.headTailFactor=.8,this.minPointsForShape=3,this.setState("drawing"),this.onDoubleClick()}getType(){return"polygon"}addPoint(e){this.points.push(e),this.points.length<2?this.onMouseMove():this.points.length===2&&(this.setGeometryPoints(this.points),this.drawPolygon())}updateMovingPoint(e){const n=[...this.points,e];if(this.setGeometryPoints(n),n.length===2)this.addTempLine();else{this.removeTempLine();const i=this.createGraphic(n);this.setGeometryPoints(i),this.drawPolygon()}}createGraphic(e){const n=e.map(M=>this.cartesianToLnglat(M));let[i,r]=[n[0],n[1]];rc(n[0],n[1],n[2])&&(i=n[1],r=n[0]);const s=[aa(i,r)].concat(n.slice(2)),o=this.getArrowHeadPoints(s,i,r),[u,c]=[o[0],o[4]],h=ti(i,r)/Pa(s),p=this.getArrowBodyPoints(s,u,c,h),v=p.length;let g=[i].concat(p.slice(0,v/2));g.push(u);let y=[r].concat(p.slice(v/2,v));y.push(c),g=mo(g),y=mo(y);const _=g.concat(o,y.reverse()),w=[].concat(..._);return this.cesium.Cartesian3.fromDegreesArray(w)}getPoints(){return this.points}getArrowHeadPoints(e,n,i){try{let r=Pa(e),a=r*this.headHeightFactor;const s=e[e.length-1];r=ti(s,e[e.length-2]);const o=ti(n,i);a>o*this.headTailFactor&&(a=o*this.headTailFactor);const u=a*this.headWidthFactor,c=a*this.neckWidthFactor;a=a>r?r:a;const h=a*this.neckHeightFactor,p=en(e[e.length-2],s,0,a,!0),v=en(e[e.length-2],s,0,h,!0),g=en(s,p,Math.PI/2,u,!1),y=en(s,p,Math.PI/2,u,!0),_=en(s,v,Math.PI/2,c,!1),w=en(s,v,Math.PI/2,c,!0);return[_,g,s,y,w]}catch(r){console.log(r)}}getArrowBodyPoints(e,n,i,r){const a=yp(e),o=Pa(e)*r,u=ti(n,i),c=(o-u)/2;let[h,p,v]=[0,[],[]];for(let g=1;g<e.length-1;g++){const y=Tg(e[g-1],e[g],e[g+1])/2;h+=ti(e[g-1],e[g]);const _=(o/2-h/a*c)/Math.sin(y),w=en(e[g-1],e[g],Math.PI-y,_,!0),b=en(e[g-1],e[g],y,_,!1);p.push(w),v.push(b)}return p.concat(v)}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawPolygon()}}class $le extends Yy{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.headHeightFactor=.18,this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.tailWidthFactor=.1,this.headTailFactor=.8,this.swallowTailFactor=1,this.swallowTailPnt=[0,0],this.minPointsForShape=3}createGraphic(e){const n=e.map(T=>this.cartesianToLnglat(T));let[i,r]=[n[0],n[1]];rc(n[0],n[1],n[2])&&(i=n[1],r=n[0]);const s=[aa(i,r)].concat(n.slice(2)),o=this.getArrowHeadPoints(s,i,r),[u,c]=[o[0],o[4]],h=ti(i,r),p=Pa(s),v=p*this.tailWidthFactor*this.swallowTailFactor;this.swallowTailPnt=en(s[1],s[0],0,v,!0);const g=h/p,y=this.getArrowBodyPoints(s,u,c,g),_=y.length;let w=[i].concat(y.slice(0,_/2));w.push(u);let b=[r].concat(y.slice(_/2,_));b.push(c),w=mo(w),b=mo(b);const M=w.concat(o,b.reverse(),[this.swallowTailPnt,w[0]]),C=[].concat(...M);return this.cesium.Cartesian3.fromDegreesArray(C)}}class HA extends Yy{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.headHeightFactor=.18,this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.tailWidthFactor=.1,this.minPointsForShape=2}addPoint(e){this.points.push(e),this.points.length<2?this.onMouseMove():this.points.length>2&&this.lineEntity&&this.viewer.entities.remove(this.lineEntity)}updateMovingPoint(e){const n=[...this.points,e];if(this.setGeometryPoints(n),!(n.length<2)){const i=this.createGraphic(n);this.setGeometryPoints(i),this.drawPolygon()}}createGraphic(e){const n=e.map(y=>this.cartesianToLnglat(y)),i=this.getTailPoints(n),r=this.getArrowHeadPoints(n,i[0],i[1]),a=r[0],s=r[4],o=this.getArrowBodyPoints(n,a,s,this.tailWidthFactor),u=o.length;let c=[i[0]].concat(o.slice(0,u/2));c.push(a);let h=[i[1]].concat(o.slice(u/2,u));h.push(s),c=mo(c),h=mo(h);const p=c.concat(r,h.reverse()),v=[].concat(...p);return this.cesium.Cartesian3.fromDegreesArray(v)}getTailPoints(e){const i=Pa(e)*this.tailWidthFactor,r=en(e[1],e[0],Math.PI/2,i,!1),a=en(e[1],e[0],Math.PI/2,i,!0);return[r,a]}}class Hle extends HA{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.headHeightFactor=.18,this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.tailWidthFactor=.1,this.swallowTailFactor=1,this.minPointsForShape=2}createGraphic(e){const n=e.map(y=>this.cartesianToLnglat(y)),i=this.getTailPoints(n),r=this.getArrowHeadPoints(n,i[0],i[2]),a=r[0],s=r[4],o=this.getArrowBodyPoints(n,a,s,this.tailWidthFactor),u=o.length;let c=[i[0]].concat(o.slice(0,u/2));c.push(a);let h=[i[2]].concat(o.slice(u/2,u));h.push(s),c=mo(c),h=mo(h);const p=c.concat(r,h.reverse(),[i[1],c[0]]),v=[].concat(...p);return this.cesium.Cartesian3.fromDegreesArray(v)}getTailPoints(e){const i=Pa(e)*this.tailWidthFactor,r=en(e[1],e[0],Math.PI/2,i,!1),a=en(e[1],e[0],Math.PI/2,i,!0),s=i*this.swallowTailFactor,o=en(e[1],e[0],0,s,!0);return[r,o,a]}}class Gle extends Ti{constructor(e,n,i){super(e,n,i),this.points=[],this.arrowLengthScale=5,this.maxArrowLength=3e6,this.cesium=e,this.minPointsForShape=2,this.setState("drawing")}getType(){return"line"}addPoint(e){if(this.points.length<2&&(this.points.push(e),this.onMouseMove()),this.points.length===2){const n=this.createGraphic(this.points);this.setGeometryPoints(n),this.drawLine(),this.finishDrawing()}}updateMovingPoint(e){const n=[...this.points,e],i=this.createGraphic(n);this.setGeometryPoints(i),this.drawLine()}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawLine()}createGraphic(e){const[n,i]=e.map(this.cartesianToLnglat);let a=ti(n,i)/this.arrowLengthScale;a=a>this.maxArrowLength?this.maxArrowLength:a;const s=en(n,i,Math.PI/6,a/2,!1),o=en(n,i,Math.PI/6,a/2,!0),u=[...n,...i,...s,...i,...o];return this.cesium.Cartesian3.fromDegreesArray(u)}getPoints(){return this.points}}class Wle extends Ti{constructor(e,n,i){super(e,n,i),this.points=[],this.arrowLengthScale=5,this.maxArrowLength=3e6,this.cesium=e,this.t=.3,this.minPointsForShape=2,this.setState("drawing"),this.onDoubleClick()}getType(){return"line"}addPoint(e){this.points.push(e),this.points.length<2&&this.onMouseMove()}updateMovingPoint(e){const n=[...this.points,e];let i=this.createGraphic(n);this.setGeometryPoints(i),this.drawLine()}createStraightArrow(e){const[n,i]=e.map(this.cartesianToLnglat);let a=ti(n,i)/this.arrowLengthScale;a=a>this.maxArrowLength?this.maxArrowLength:a;const s=en(n,i,Math.PI/6,a/2,!1),o=en(n,i,Math.PI/6,a/2,!0),u=[...n,...i,...s,...i,...o];return this.cesium.Cartesian3.fromDegreesArray(u)}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawLine()}createGraphic(e){const n=e.map(v=>this.cartesianToLnglat(v));if(e.length===2)return this.createStraightArrow(e);const i=qy(this.t,n);n[n.length-2];const r=n[n.length-1];let s=yp(n)/this.arrowLengthScale;s=s>this.maxArrowLength?this.maxArrowLength:s;const o=en(i[i.length-2],i[i.length-1],Math.PI/6,s/2,!1),u=en(i[i.length-2],i[i.length-1],Math.PI/6,s/2,!0),h=[...[].concat(...i),...o,...r,...u];return this.cesium.Cartesian3.fromDegreesArray(h)}getPoints(){return this.points}}class Kle extends $A{constructor(e,n,i){super(e,n,i),this.points=[],this.arrowLengthScale=5,this.maxArrowLength=2,this.cesium=e,this.tailWidthFactor=.08,this.neckWidthFactor=.1,this.headWidthFactor=.13,this.headAngle=Math.PI/4,this.neckAngle=Math.PI*.17741,this.minPointsForShape=2,this.setState("drawing")}createGraphic(e){const[n,i]=e.map(this.cartesianToLnglat),r=Pa([n,i])*1.5,a=r*this.tailWidthFactor,s=r*this.neckWidthFactor,o=r*this.headWidthFactor,u=en(i,n,Math.PI/2,a,!0),c=en(i,n,Math.PI/2,a,!1),h=en(n,i,this.headAngle,o,!1),p=en(n,i,this.headAngle,o,!0),v=en(n,i,this.neckAngle,s,!1),g=en(n,i,this.neckAngle,s,!0),y=[...u,...v,...h,...i,...p,...g,...c,...n];return this.cesium.Cartesian3.fromDegreesArray(y)}}class qle extends Ti{constructor(e,n,i){super(e,n,i),this.points=[],this.arrowLengthScale=5,this.maxArrowLength=2,this.llBodyPnts=[],this.rrBodyPnts=[],this.cesium=e,this.headHeightFactor=.25,this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.connPoint=[0,0],this.tempPoint4=[0,0],this.minPointsForShape=4,this.setState("drawing")}getType(){return"polygon"}addPoint(e){this.points.push(e),this.points.length<2?this.onMouseMove():this.points.length===2?(this.setGeometryPoints(this.points),this.drawPolygon()):this.points.length===3?this.lineEntity&&this.viewer.entities.remove(this.lineEntity):this.finishDrawing()}finishDrawing(){this.curveControlPointLeft=this.cesium.Cartesian3.fromDegrees(this.llBodyPnts[2][0],this.llBodyPnts[2][1]),this.curveControlPointRight=this.cesium.Cartesian3.fromDegrees(this.rrBodyPnts[1][0],this.rrBodyPnts[1][1]),super.finishDrawing()}updateMovingPoint(e){const n=[...this.points,e];if(this.setGeometryPoints(n),n.length===2)this.addTempLine();else if(n.length>2){this.removeTempLine();const i=this.createGraphic(n);this.setGeometryPoints(i),this.drawPolygon()}}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawPolygon()}createGraphic(e){const n=e.map(T=>this.cartesianToLnglat(T)),[i,r,a]=[n[0],n[1],n[2]],s=n.length;s===3?(this.tempPoint4=this.getTempPoint4(i,r,a),this.connPoint=aa(i,r)):s===4?(this.tempPoint4=n[3],this.connPoint=aa(i,r)):(this.tempPoint4=n[3],this.connPoint=n[4]);let o,u;this.isClockWise=rc(i,r,a),this.isClockWise?(o=this.getArrowPoints(i,this.connPoint,this.tempPoint4,!1),u=this.getArrowPoints(this.connPoint,r,a,!0)):(o=this.getArrowPoints(r,this.connPoint,a,!1),u=this.getArrowPoints(this.connPoint,i,this.tempPoint4,!0));const c=o.length,h=(c-5)/2,p=o.slice(0,h),v=o.slice(h,h+5);let g=o.slice(h+5,c);this.llBodyPnts=p;let y=u.slice(0,h);const _=u.slice(h,h+5),w=u.slice(h+5,c);this.rrBodyPnts=w,y=_m(y);const b=_m(w.concat(p.slice(1)));g=_m(g);const M=y.concat(_,b,v,g),C=[].concat(...M);return this.cesium.Cartesian3.fromDegreesArray(C)}getTempPoint4(e,n,i){const r=aa(e,n),a=ti(r,i),s=Tg(e,r,i);let o=[0,0],u,c,h;return s<Math.PI/2?(u=a*Math.sin(s),c=a*Math.cos(s),h=en(e,r,Math.PI/2,u,!1),o=en(r,h,Math.PI/2,c,!0)):s>=Math.PI/2&&s<Math.PI?(u=a*Math.sin(Math.PI-s),c=a*Math.cos(Math.PI-s),h=en(e,r,Math.PI/2,u,!1),o=en(r,h,Math.PI/2,c,!1)):s>=Math.PI&&s<Math.PI*1.5?(u=a*Math.sin(s-Math.PI),c=a*Math.cos(s-Math.PI),h=en(e,r,Math.PI/2,u,!0),o=en(r,h,Math.PI/2,c,!0)):(u=a*Math.sin(Math.PI*2-s),c=a*Math.cos(Math.PI*2-s),h=en(e,r,Math.PI/2,u,!0),o=en(r,h,Math.PI/2,c,!1)),o}getArrowPoints(e,n,i,r){const a=aa(e,n),s=ti(a,i);let o=en(i,a,0,s*.3,!0),u=en(i,a,0,s*.5,!0);o=en(a,o,Math.PI/2,s/5,r),u=en(a,u,Math.PI/2,s/4,r);const c=[a,o,u,i],h=this.getArrowHeadPoints(c);if(h&&Array.isArray(h)&&h.length>0){const p=h[0],v=h[4],g=ti(e,n)/Pa(c)/2,y=this.getArrowBodyPoints(c,p,v,g);if(y){const _=y.length;let w=y.slice(0,_/2),b=y.slice(_/2,_);return w.push(p),b.push(v),w=w.reverse(),w.push(n),b=b.reverse(),b.push(e),w.reverse().concat(h,b)}}else throw new Error("Interpolation Error")}getArrowBodyPoints(e,n,i,r){const a=yp(e),o=Pa(e)*r,u=ti(n,i),c=(o-u)/2;let h=0,p=[],v=[];for(let g=1;g<e.length-1;g++){const y=Tg(e[g-1],e[g],e[g+1])/2;h+=ti(e[g-1],e[g]);const _=(o/2-h/a*c)/Math.sin(y),w=en(e[g-1],e[g],Math.PI-y,_,!0),b=en(e[g-1],e[g],y,_,!1);p.push(w),v.push(b)}return p.concat(v)}getArrowHeadPoints(e){const i=Pa(e)*this.headHeightFactor,r=e[e.length-1],a=i*this.headWidthFactor,s=i*this.neckWidthFactor,o=i*this.neckHeightFactor,u=en(e[e.length-2],r,0,i,!0),c=en(e[e.length-2],r,0,o,!0),h=en(r,u,Math.PI/2,a,!1),p=en(r,u,Math.PI/2,a,!0),v=en(r,c,Math.PI/2,s,!1),g=en(r,c,Math.PI/2,s,!0);return[v,h,r,p,g]}getPoints(){return this.points}getBezierControlPointforGrowthAnimation(){return this.isClockWise?{left:this.curveControlPointLeft,right:this.curveControlPointRight}:{right:this.curveControlPointLeft,left:this.curveControlPointRight}}}class Yle extends Ti{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.freehand=!0,this.setState("drawing")}getType(){return"line"}addPoint(e){this.points.push(e),this.points.length<2?this.onMouseMove():this.finishDrawing()}updateMovingPoint(e){this.points.push(e),this.setGeometryPoints(this.points),this.drawLine(),this.eventDispatcher.dispatchEvent("drawUpdate",e)}updateDraggingPoint(e,n){this.points[n]=e,this.setGeometryPoints(this.points),this.drawLine()}getPoints(){return this.points}}class jle extends Ti{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.freehand=!0,this.setState("drawing")}getType(){return"polygon"}addPoint(e){this.points.push(e),this.points.length===1?this.onMouseMove():this.points.length>2&&this.finishDrawing()}updateMovingPoint(e){this.points.push(e),this.points.length>2&&(this.setGeometryPoints(this.points),this.drawPolygon(),this.eventDispatcher.dispatchEvent("drawUpdate",e))}updateDraggingPoint(e,n){this.points[n]=e,this.setGeometryPoints(this.points),this.drawPolygon()}getPoints(){return this.points}}class Xle extends Ti{constructor(e,n,i){super(e,n,i),this.points=[],this.arrowLengthScale=5,this.maxArrowLength=3e6,this.cesium=e,this.t=.3,this.setState("drawing"),this.onDoubleClick()}getType(){return"line"}addPoint(e){this.points.push(e),this.points.length<2?this.onMouseMove():this.points.length===2&&(this.setGeometryPoints(this.points),this.drawLine())}updateMovingPoint(e){const n=[...this.points,e];let i=[];n.length===2?(this.setGeometryPoints(n),this.drawLine()):(i=this.createGraphic(n),this.setGeometryPoints(i))}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawLine()}createGraphic(e){const n=e.map(s=>this.cartesianToLnglat(s)),i=qy(this.t,n),r=[].concat(...i);return this.cesium.Cartesian3.fromDegreesArray(r)}getPoints(){return this.points}}class Zle extends Ti{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.freehand=!0,this.setState("drawing")}getType(){return"polygon"}addPoint(e){this.points.push(e),this.points.length===1?this.onMouseMove():this.points.length>1&&this.finishDrawing()}updateMovingPoint(e){const n=[...this.points,e],i=this.createGraphic(n);this.setGeometryPoints(i),this.drawPolygon()}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawPolygon()}createGraphic(e){const n=e.map(p=>this.cartesianToLnglat(p)),i=n[0],r=n[1],a=aa(i,r),s=Math.abs((i[0]-r[0])/2),o=Math.abs((i[1]-r[1])/2),u=this.generatePoints(a,s,o),c=[].concat(...u);return this.cesium.Cartesian3.fromDegreesArray(c)}generatePoints(e,n,i){let[r,a,s,o]=[null,null,0,[]];for(let u=0;u<=100;u++)s=Math.PI*2*u/100,r=e[0]+n*Math.cos(s),a=e[1]+i*Math.sin(s),o.push([r,a]);return o}getPoints(){return this.points}}class Qle extends Ti{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.freehand=!0,this.setState("drawing")}getType(){return"polygon"}addPoint(e){this.points.push(e),this.points.length===1?this.onMouseMove():this.points.length===2||this.points.length>2&&this.finishDrawing()}updateMovingPoint(e){const n=[...this.points,e],i=this.createGraphic(n);this.setGeometryPoints(i),this.drawPolygon()}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawPolygon()}createGraphic(e){const n=e.map(_=>this.cartesianToLnglat(_));if(n.length===2){const _=aa(n[0],n[1]),w=ti(n[0],_),b=en(n[0],_,Math.PI/2,w,!1);n.push(b)}let[i,r,a,s,o]=[n[0],n[1],n[2],void 0,void 0];const u=zA(i,r,a),c=ti(i,u),h=Ms(i,u),p=Ms(r,u);rc(i,r,a)?(s=p,o=h):(s=h,o=p);let v=Wy(u,c,s,o);const g=[].concat(...v);return this.cesium.Cartesian3.fromDegreesArray(g)}getPoints(){return this.points}}class Jle extends Ti{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.setState("drawing")}getType(){return"polygon"}addPoint(e){this.points.push(e),this.points.length===1?this.onMouseMove():this.points.length>1&&this.finishDrawing()}updateMovingPoint(e){const n=[...this.points,e],i=this.createGraphic(n);this.setGeometryPoints(i),this.drawPolygon()}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawPolygon()}createGraphic(e){const[n,i]=e.map(this.cartesianToLnglat),r=[...n,n[0],i[1],...i,i[0],n[1],...n];return this.cesium.Cartesian3.fromDegreesArray(r)}getPoints(){return this.points}}let eue=class extends Ti{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.setState("drawing")}getType(){return"polygon"}addPoint(e){this.points.push(e),this.points.length===1?this.onMouseMove():this.points.length===3&&this.finishDrawing()}updateMovingPoint(e){const n=[...this.points,e];this.setGeometryPoints(n),n.length===2?this.addTempLine():(this.removeTempLine(),this.drawPolygon())}updateDraggingPoint(e,n){this.points[n]=e,this.setGeometryPoints(this.points),this.drawPolygon()}getPoints(){return this.points}};class tue extends Ti{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.setState("drawing"),this.onDoubleClick()}getType(){return"polygon"}addPoint(e){this.points.push(e),this.points.length===1&&this.onMouseMove()}updateMovingPoint(e){const n=[...this.points,e];this.setGeometryPoints(n),n.length===2?this.addTempLine():(this.removeTempLine(),this.drawPolygon())}updateDraggingPoint(e,n){this.points[n]=e,this.setGeometryPoints(this.points),this.drawPolygon()}getPoints(){return this.points}}class nue extends Ti{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.freehand=!0,this.setState("drawing")}getType(){return"polygon"}addPoint(e){this.points.push(e),this.points.length===1?this.onMouseMove():this.points.length>1&&this.finishDrawing()}updateMovingPoint(e){const n=[...this.points,e],i=this.createGraphic(n);this.setGeometryPoints(i),this.drawPolygon()}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawPolygon()}createGraphic(e){const n=e.map(c=>this.cartesianToLnglat(c)),i=n[0],r=n[1],a=ti(i,r),s=this.generatePoints(i,a),o=[].concat(...s);return this.cesium.Cartesian3.fromDegreesArray(o)}generatePoints(e,n){let i,r,a;const s=[];for(let o=0;o<=100;o++)a=Math.PI*2*o/100,i=e[0]+n*Math.cos(a),r=e[1]+n*Math.sin(a),s.push([i,r]);return s}getPoints(){return this.points}}class iue extends Ti{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.setState("drawing")}getType(){return"polygon"}addPoint(e){this.points.push(e),this.points.length===1?this.onMouseMove():this.points.length===3&&this.finishDrawing()}updateMovingPoint(e){const n=[...this.points,e];if(this.setGeometryPoints(n),n.length===2)this.addTempLine();else{this.removeTempLine();const i=this.createGraphic(n);this.setGeometryPoints(i),this.drawPolygon()}}createGraphic(e){const n=e.map(v=>this.cartesianToLnglat(v)),[i,r,a]=[n[0],n[1],n[2]],s=ti(r,i),o=Ms(r,i),u=Ms(a,i),c=Wy(i,s,o,u);c.push(i,c[0]);const h=[].concat(...c);return this.cesium.Cartesian3.fromDegreesArray(h)}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawPolygon()}getPoints(){return this.points}}class rue extends Ti{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.freehand=!0,this.t=.4,this.setState("drawing")}getType(){return"polygon"}addPoint(e){this.points.push(e),this.points.length===1?this.onMouseMove():this.points.length===2||this.points.length>2&&this.finishDrawing()}updateMovingPoint(e){const n=[...this.points,e],i=this.createGraphic(n);this.setGeometryPoints(i),this.drawPolygon()}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawPolygon()}createGraphic(e){let n=[],i=e.map(g=>this.cartesianToLnglat(g)).slice(0);if(i.length===2){const g=aa(i[0],i[1]),y=ti(i[0],g),_=en(i[0],g,Math.PI/2,y,!0);i=[i[0],_,i[1]]}let r=aa(i[0],i[2]);i.push(r,i[0],i[1]);let[a,s,o,u,c]=[[],void 0,void 0,void 0,[]];for(let g=0;g<i.length-2;g++){s=i[g],o=i[g+1],u=i[g+2];let y=Rd(this.t,s,o,u);a=a.concat(y)}let h=a.length;a=[a[h-1]].concat(a.slice(0,h-1));for(let g=0;g<i.length-2;g++){s=i[g],o=i[g+1],c.push(s);for(let y=0;y<=40;y++){let _=Gy(y/40,s,a[g*2],a[g*2+1],o);c.push(_)}c.push(o)}let p=c;for(let g=0;g<p.length;g++)n=n.concat(p[g]);return Cesium.Cartesian3.fromDegreesArray(n)}getPoints(){return this.points}}class aue extends Ti{constructor(e,n,i){super(e,n,i),this.points=[],this.arrowLengthScale=5,this.maxArrowLength=3e6,this.cesium=e,this.t=.3,this.setState("drawing"),this.onDoubleClick()}getType(){return"line"}addPoint(e){this.points.push(e),this.points.length<2?this.onMouseMove():this.points.length===2?(this.setGeometryPoints(this.points),this.drawLine()):this.points.length>2&&this.finishDrawing()}updateMovingPoint(e){const n=[...this.points,e];let i=[];n.length===2?(this.setGeometryPoints(n),this.drawLine()):(i=this.createGraphic(n),this.setGeometryPoints(i))}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawLine()}createGraphic(e){const n=e.map(a=>this.cartesianToLnglat(a));let i=n.length,r=[];if(!(i<2))if(i===2){for(let s=0;s<n.length;s++)r=r.concat(n[s]);return Cesium.Cartesian3.fromDegreesArray(r)}else{let[a,s,o,u,c]=[n[0],n[1],n[2],null,null],h=zA(a,s,o),p=ti(a,h),v=Ms(a,h),g=Ms(s,h);rc(a,s,o)?(u=g,c=v):(u=v,c=g);let y=Wy(h,p,u,c);for(let w=0;w<y.length;w++)r=r.concat(y[w]);return Cesium.Cartesian3.fromDegreesArray(r)}}getPoints(){return this.points}}class sue extends Ti{constructor(e,n,i){super(e,n,i),this.points=[],this.arrowLengthScale=5,this.maxArrowLength=3e6,this.cesium=e,this.t=.3,this.setState("drawing"),this.onDoubleClick()}getType(){return"line"}addPoint(e){this.points.push(e),this.points.length<2?this.onMouseMove():this.points.length===2&&(this.setGeometryPoints(this.points),this.drawLine())}updateMovingPoint(e){const n=[...this.points,e];let i=[];n.length===2?(this.setGeometryPoints(n),this.drawLine()):(i=this.createGraphic(n),this.setGeometryPoints(i))}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawLine()}createGraphic(e){const n=e.map(a=>this.cartesianToLnglat(a));let i=[];for(let a=0;a<n.length;a++)i=i.concat(n[a]);return Cesium.Cartesian3.fromDegreesArray(i)}getPoints(){return this.points}}class oue extends Ti{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.freehand=!0,this.t=.4,this.setState("drawing"),this.onDoubleClick()}getType(){return"polygon"}addPoint(e){this.points.push(e),this.points.length===1&&this.onMouseMove()}updateMovingPoint(e){const n=[...this.points,e],i=this.createGraphic(n);this.setGeometryPoints(i),this.drawPolygon()}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawPolygon()}createGraphic(e){let n=[],i=e.map(r=>this.cartesianToLnglat(r));if(i.length===2){for(let a=0;a<i.length;a++)n=n.concat(i[a]);return Cesium.Cartesian3.fromDegreesArray(n)}else{let r=i.slice(0);r.push(r[0],r[1]);let[a,s]=[[],[]];for(let h=0;h<r.length-2;h++){let p=Rd(this.t,r[h],r[h+1],r[h+2]);a=a.concat(p)}let o=a.length;a=[a[o-1]].concat(a.slice(0,o-1));for(let h=0;h<r.length-2;h++){let p=r[h],v=r[h+1];s.push(p);for(let g=0;g<=40;g++){let y=Gy(g/40,p,a[h*2],a[h*2+1],v);s.push(y)}s.push(v)}let u=s;for(let h=0;h<u.length;h++)n=n.concat(u[h]);return Cesium.Cartesian3.fromDegreesArray(n)}}getPoints(){return this.points}}class lue extends Ti{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.setState("drawing")}getType(){return"point"}addPoint(e){this.points.push(e),this.points.length===1&&(this.drawPoint(),this.finishDrawing())}updateMovingPoint(e){const n=[...this.points,e];this.setGeometryPoints(n)}updateDraggingPoint(e,n){this.points[n]=e,this.setGeometryPoints(this.points)}getPoints(){return this.points}}const Cs={FineArrow:$A,AttackArrow:Yy,SwallowtailAttackArrow:$le,SquadCombat:HA,SwallowtailSquadCombat:Hle,StraightArrow:Gle,CurvedArrow:Wle,AssaultDirection:Kle,DoubleArrow:qle,FreehandLine:Yle,FreehandPolygon:jle,Curve:Xle,Ellipse:Zle,Lune:Qle,Reactangle:Jle,Triangle:eue,Polygon:tue,Circle:nue,Sector:iue,GatheringPlace:rue,Arc:aue,Polyline:sue,ClosedCurve:oue,Point:lue};Cs.createGeometryFromData=(t,e,n)=>{const{type:i,style:r,cartesianPoints:a}=n,s=new Cs[i](t,e,r);s.points=a;const o=s.createGraphic(a);return s.setGeometryPoints(o),s.type=="polygon"?s.drawPolygon():s.drawLine(),s.finishDrawing(),s.onClick(),s};function uue(){return`#version 300 es
    precision highp float;
    uniform sampler2D colorTexture;
    in vec2 v_textureCoordinates;
    out vec4 fragColor;

    float snow(vec2 uv, float scale) {
        float time = czm_frameNumber / 60.0;
        float w = smoothstep(1.0, 0.0, -uv.y * (scale / 10.0));
        if (w < 0.1) return 0.0;
        uv += time / scale;
        uv.y += time * 2.0 / scale;
        uv.x += sin(uv.y + time * 0.5) / scale;
        uv *= scale;
        vec2 s = floor(uv), f = fract(uv), p;
        float k = 3.0, d;
        p = 0.5 + 0.35 * sin(11.0 * fract(sin((s + p + scale) * mat2(7, 3, 6, 5)) * 5.0)) - f;
        d = length(p);
        k = min(d, k);
        k = smoothstep(0.0, k, sin(f.x + f.y) * 0.01);
        return k * w;
    }

    void main(void) {
        vec2 resolution = czm_viewport.zw;
        vec2 uv = (gl_FragCoord.xy * 2.0 - resolution.xy) / min(resolution.x, resolution.y);
        vec3 finalColor = vec3(0.0);
        float c = 0.0;
        c += snow(uv, 30.0) * 0.0;
        c += snow(uv, 20.0) * 0.0;
        c += snow(uv, 15.0) * 0.0;
        c += snow(uv, 10.0);
        c += snow(uv, 8.0);
        c += snow(uv, 6.0);
        c += snow(uv, 5.0);
        finalColor = vec3(c);
        fragColor = mix(texture(colorTexture, v_textureCoordinates), vec4(finalColor, 1.0), 0.3);
    }
`}function cue(){return`#version 300 es
    precision highp float;
    uniform sampler2D colorTexture;
    in vec2 v_textureCoordinates;
    out vec4 fragColor;

    float hash(float x) {
      return fract(sin(x * 23.3) * 13.13);
    }

    void main(void) {
      float time = czm_frameNumber / 60.0;
      vec2 resolution = czm_viewport.zw;

      vec2 uv = (gl_FragCoord.xy * 2.0 - resolution.xy) / min(resolution.x, resolution.y);
      vec3 c = vec3(0.6, 0.7, 0.8);

      float a = -0.4;
      float si = sin(a), co = cos(a);
      uv *= mat2(co, -si, si, co);
      uv *= length(uv + vec2(0, 4.9)) * 0.3 + 1.0;

      float v = 1.0 - sin(hash(floor(uv.x * 100.0)) * 2.0);
      float b = clamp(abs(sin(20.0 * time * v + uv.y * (5.0 / (2.0 + v)))) - 0.95, 0.0, 1.0) * 20.0;
      c *= v * b;

      fragColor = mix(texture(colorTexture, v_textureCoordinates), vec4(c, 1.0), 0.5);
    }
  `}function GA(){const t=W(null),e=W(null);function n(s){let o=s.scene.postProcessStages,u=uue(),c=new Cesium.PostProcessStage({name:"czm_snow",fragmentShader:u});o.add(c),t.value=c}function i(s){let o=s.scene.postProcessStages,u=cue(),c=new Cesium.PostProcessStage({name:"czm_rain",fragmentShader:u});o.add(c),e.value=c}return{addSnowScene:n,addRainScene:i,removeSnowScene:s=>{t.value&&(s.scene.postProcessStages.remove(t.value),t.value=null)},removeRainScene:s=>{e.value&&(s.scene.postProcessStages.remove(e.value),e.value=null)}}}async function Xw(t,e,n,i){(function(o){const u={};function c(h){if(u[h])return u[h].exports;const p=u[h]={i:h,l:!1,exports:{}};return o[h].call(p.exports,p,p.exports,c),p.l=!0,p.exports}c.m=o,c.c=u,c.d=function(h,p,v){c.o(h,p)||Object.defineProperty(h,p,{enumerable:!0,get:v})},c.r=function(h){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},c.t=function(h,p){if(1&p&&(h=c(h)),8&p||4&p&&typeof h=="object"&&h&&h.__esModule)return h;const v=Object.create(null);if(c.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:h}),2&p&&typeof h!="string")for(let g in h)c.d(v,g,(function(y){return h[y]}).bind(null,g));return v},c.n=function(h){let p=h&&h.__esModule?function(){return h.default}:function(){return h};return c.d(p,"a",p),p},c.o=function(h,p){return Object.prototype.hasOwnProperty.call(h,p)},c.p="",c(c.s=0)})([function(o,u,c){o.exports=c(1)},function(o,u,c){echarts?c(2).load():console.error("missing echarts lib")},function(o,u,c){function h(g,y){for(let _=0;_<y.length;_++){let w=y[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}c.r(u);let p=function(){function g(b,M){(function(C,x){if(!(C instanceof x))throw new TypeError("Cannot call a class as a function")})(this,g),this._viewer=b,this.dimensions=["lng","lat"],this._mapOffset=[0,0],this._api=M}let y,_,w;return y=g,w=[{key:"create",value:function(b,M){let C;b.eachComponent("GLMap",function(x){(C=new g(r.cesiumViewer,M)).setMapOffset(x.__mapOffset||[0,0]),x.coordinateSystem=C}),b.eachSeries(function(x){x.get("coordinateSystem")==="GLMap"&&(x.coordinateSystem=C)})}},{key:"dimensions",get:function(){return["lng","lat"]}}],(_=[{key:"setMapOffset",value:function(b){return this._mapOffset=b,this}},{key:"getViewer",value:function(){return this._viewer}},{key:"dataToPoint",value:function(b){let M=this._viewer.scene,C=[0,0],x=t.Cartesian3.fromDegrees(b[0],b[1]);if(!x)return C;if(M.mode===t.SceneMode.SCENE3D&&t.Cartesian3.angleBetween(M.camera.position,x)>t.Math.toRadians(80))return!1;let T=M.cartesianToCanvasCoordinates(x);return T?[T.x-this._mapOffset[0],T.y-this._mapOffset[1]]:C}},{key:"pointToData",value:function(b){let M=this._mapOffset,C=e.scene.globe.ellipsoid,x=new t.cartesian3(b[1]+M,b[2]+M[2],0),T=C.cartesianToCartographic(x);return[T.lng,T.lat]}},{key:"getViewRect",value:function(){let b=this._api;return new echarts.graphic.BoundingRect(0,0,b.getWidth(),b.getHeight())}},{key:"getRoamTransform",value:function(){return echarts.matrix.create()}}])&&h(y.prototype,_),w&&h(y,w),g}();echarts.extendComponentModel({type:"GLMap",getViewer:function(){return r.cesiumViewer},defaultOption:{roam:!1}}),echarts.extendComponentView({type:"GLMap",init:function(g,y){this.api=y,r.cesiumViewer.scene.postRender.addEventListener(this.moveHandler,this)},moveHandler:function(g,y){this.api.dispatchAction({type:"GLMapRoam"})},render:function(g,y,_){},dispose:function(g){r.cesiumViewer.scene.postRender.removeEventListener(this.moveHandler,this)}});function v(){echarts.registerCoordinateSystem("GLMap",p),echarts.registerAction({type:"GLMapRoam",event:"GLMapRoam",update:"updateLayout"},function(g,y){})}c.d(u,"load",function(){return v})}]);const r={...echarts,cesiumViewer:e};function a(o,u,c){this._canvasConfig=c,this._mapContainer=o,this.viewer=e,this._overlay=this._createChartOverlay(),this._overlay.setOption(u)}return a.prototype._createChartOverlay=function(){console.log(this),this._mapContainer.scene.canvas.setAttribute("tabIndex",0);const u=document.createElement("div");u.style.position="absolute",this._canvasConfig?(u.style.top="0px",u.style.left="0px",u.style.width=this._canvasConfig.width,u.style.height=this._canvasConfig.height,u.style.pointerEvents="none"):(u.style.top="0px",u.style.left="0px",u.style.width="100%",u.style.height="100%",u.style.pointerEvents="none");const c=document.getElementsByClassName("echartMap").length;return u.setAttribute("id","ysCesium-echarts-"+parseInt(Math.random()*99999)+"-"+c),u.setAttribute("class","echartMap"),this._mapContainer.container.appendChild(u),this._echartsContainer=u,echarts.init(u)},a.prototype.dispose=function(){this._echartsContainer&&(this._mapContainer.container.removeChild(this._echartsContainer),this._echartsContainer=null),this._overlay&&(this._overlay.dispose(),this._overlay=null)},a.prototype.updateOverlay=function(o){this._overlay&&this._overlay.setOption(o)},a.prototype.getMap=function(){return this._mapContainer},a.prototype.getOverlay=function(){return this._overlay},a.prototype.show=function(){document.getElementById(this._echartsContainer.id).style.visibility="visible"},a.prototype.hide=function(){document.getElementById(this._echartsContainer.id).style.visibility="hidden"},new a(e,n,i)}let Yt={config:{},canvas:{width:1e3,delta:50},_bounds:{min:{lat:Number.MAX_VALUE,lng:Number.MAX_VALUE},max:{lat:Number.MIN_VALUE,lng:Number.MIN_VALUE}}};var Lo;class due{constructor(e,n,i,r){this.viewer=n,Lo=e,Yt.config=Object.assign({},Yt.config,r),Yt.config.container=document.createElement("canvas"),this.setData(i)}_parseData(e){let n={max:Number.MIN_VALUE,data:[]};return Yt.bounds=JSON.parse(JSON.stringify(Yt._bounds)),e.map(i=>{Yt.bounds.min.lat=Math.min(Yt.bounds.min.lat,i.lat),Yt.bounds.min.lng=Math.min(Yt.bounds.min.lng,i.lng),Yt.bounds.max.lat=Math.max(Yt.bounds.max.lat,i.lat),Yt.bounds.max.lng=Math.max(Yt.bounds.max.lng,i.lng)}),Yt.canvas.height=Math.floor(Yt.canvas.width*(Yt.bounds.max.lat-Yt.bounds.min.lat)/(Yt.bounds.max.lng-Yt.bounds.min.lng)),n.delta={x:Yt.canvas.width/(Yt.bounds.max.lng-Yt.bounds.min.lng),y:Yt.canvas.height/(Yt.bounds.max.lat-Yt.bounds.min.lat)},e.map(i=>{let r=isNaN(parseInt(i.value))?1:parseInt(i.value);n.max=Math.max(n.max,r),n.data.push({x:Yt.canvas.delta+Math.floor(n.delta.x*(i.lng-Yt.bounds.min.lng)),y:Math.floor(Yt.canvas.height+Yt.canvas.delta-n.delta.y*(i.lat-Yt.bounds.min.lat)),value:r})}),Yt.config.container.width=Yt.canvas.width+Yt.canvas.delta*2,Yt.config.container.height=Yt.canvas.height+Yt.canvas.delta*2,document.body.appendChild(Yt.config.container),this.heatmapInstance=h337.create(Yt.config),n}remove(){this.viewer.entities.removeById(Yt.config.id)}show(){this.entity&&(this.entity.rectangle.show=!0)}hide(){this.entity&&(this.entity.rectangle.show=!1)}fromLatLngToPoint(e){let n=(1-Math.log(Math.tan(e.lat*Math.PI/180)+1/Math.cos(e.lat*Math.PI/180))/Math.PI)/2*256;return{x:256*(.5+e.lng/360),y:n}}setData(e){Yt.config.container.style.display="block";const n=this._parseData(e);this.viewer.entities.removeById(Yt.config.id),this.heatmapInstance.setData(n),Yt.config.id=new Date().getTime(),this.entity=this.viewer.entities.add({id:Yt.config.id,zIndex:-100,rectangle:{heightReference:Lo.HeightReference.CLAMP_TO_GROUND,coordinates:Lo.Rectangle.fromDegrees(Math.max(Yt.bounds.min.lng-(Yt.bounds.max.lng-Yt.bounds.min.lng)*Yt.canvas.delta/Yt.canvas.width,-180),Math.max(Yt.bounds.min.lat-(Yt.bounds.max.lat-Yt.bounds.min.lat)*Yt.canvas.delta/Yt.canvas.height,-90),Math.min(Yt.bounds.max.lng+(Yt.bounds.max.lng-Yt.bounds.min.lng)*Yt.canvas.delta/Yt.canvas.width,180),Math.min(Yt.bounds.max.lat+(Yt.bounds.max.lat-Yt.bounds.min.lat)*Yt.canvas.delta/Yt.canvas.height,90)),outline:!0,outlineWidth:10,outlineColor:Lo.Color.YELLOW,materials:Lo.Color.RED,material:new Lo.ImageMaterialProperty({image:this.heatmapInstance.getDataURL(),repeat:new Lo.Cartesian2(1,1),transparent:!0})}}),Yt.config.container.style.display="none"}}class fue{constructor(e,n){this.radius=0,this.maxRadius=999e3,this.drawPolyogn=null,this.transformWGS84ToCartesian=(i,r=0)=>i?Cesium.Cartesian3.fromDegrees(i.lon,i.lat,r||i.alt,Cesium.Ellipsoid.WGS84):Cesium.Cartesian3.ZERO,this.transformCartesianToWGS84=i=>{const a=Cesium.Ellipsoid.WGS84.cartesianToCartographic(i);return{lon:Cesium.Math.toDegrees(a.longitude),lat:Cesium.Math.toDegrees(a.latitude),alt:a.height}},this.transformWGS84ToCartographic=i=>i?Cesium.Cartographic.fromDegrees(i.lon||i.lon,i.lat,i.alt):Cesium.Cartographic.ZERO,this.clear=()=>{this.drawLayer.entities&&this.drawLayer.entities.removeAll()},this.viewer=e,this.radius=this.setRadius(n),this.drawLayer=new Cesium.CustomDataSource("measureLayer"),this.viewer.dataSources.add(this.drawLayer)}transformWGS84ArrayToCartesianArray(e,n){return e?e.map(i=>this.transformWGS84ToCartesian(i,n)):[]}transformCartesianArrayToWGS84Array(e){if(this.viewer)return e?e.map(n=>this.transformCartesianToWGS84(n)):[]}getCatesian3FromPX(e){if(this.viewer&&e){const n=this.viewer.scene.drillPick(e);let i=null,r=!1,a=!1;Object.keys(n).forEach(o=>{const u=n[o];if(u&&u.primitive instanceof(Cesium.Cesium3DTileFeature||Cesium.Cesium3DTileset||Cesium.Model)&&(r=!0),r&&(this.viewer.scene.pick(e),i=this.viewer.scene.pickPosition(e),i)){const c=Cesium.Cartographic.fromCartesian(i);c.height<0&&(c.height=0);const h=Cesium.Math.toDegrees(c.longitude),p=Cesium.Math.toDegrees(c.latitude),{height:v}=c;i=this.transformWGS84ToCartesian({lon:h,lat:p,alt:v})}});const s=this.viewer.terrainProvider instanceof Cesium.EllipsoidTerrainProvider;if(!r&&!s){const o=this.viewer.scene.camera.getPickRay(e);if(!o)return null;i=this.viewer.scene.globe.pick(o,this.viewer.scene),a=!0}if(!r&&!a&&s&&(i=this.viewer.scene.camera.pickEllipsoid(e,this.viewer.scene.globe.ellipsoid)),i){const o=this.transformCartesianToWGS84(i);return o.alt<0&&(i=this.transformWGS84ToCartesian(o,.1)),i}return!1}}async createBuffer(e,n){return new Promise((i,r)=>{this.drawPolyogn=e,this.drawType=n,n==="Polygon"&&(e[0].x!==e[e.length-1].x||e[0].y!==e[e.length-1].y||e[0].z!==e[e.length-1].z)&&e.push(e[0]);let a=Kse(e),s=this.initPolygonBuffer(a,this.radius,n);i(s)})}initPolygonBuffer(e,n,i){let r=this.pointsToDegreesArray(e),a=null;i==="Polygon"?a=SA([e]):i==="Polyline"?a=Noe(e):i==="Point"&&(a=$y(e[0]));const s=wle(a,n,{units:"meters"}),{coordinates:o}=s.geometry,u=o[0];return r=this.pointsToDegreesArray(u),this.addBufferPolyogn(Cesium.Cartesian3.fromDegreesArray(r)),Cesium.Cartesian3.fromDegreesArray(r)}addBufferPolyogn(e){this.drawLayer.entities.add({id:"polyognBuffer",polygon:{hierarchy:new Cesium.PolygonHierarchy(e),material:Cesium.Color.RED.withAlpha(.3),classificationType:Cesium.ClassificationType.BOTH}})}updateBuffer(e){this.setRadius(e),this.clear(),this.createBuffer(this.drawPolyogn,this.drawType)}pointsToDegreesArray(e){const n=[];return e.map(i=>{n.push(i[0]),n.push(i[1])}),n}setRadius(e){let n=Math.max(0,Math.min(e,this.maxRadius));return this.radius=n,n}}let Ag=[];function hue(t,e,n){return new Promise((i,r)=>{Ag=[];let a=[];return e.length?(e.forEach((s,o)=>{if(s.color){const u=t.entities.add({name:"Purple",polyline:{positions:Cesium.Cartesian3.fromDegreesArray(s.positions.flat()),width:3,material:new Cesium.PolylineArrowMaterialProperty(Cesium.Color.fromCssColorString(s.color))}});pue(s.positions,s.color,t),Ag.push({color:s.color,data:$se(s.positions)}),a.push(u)}}),mue(t,n),i(null),a):!1})}const pue=(t,e,n)=>{t&&t.length&&(console.log("dataaa",t),t.forEach(i=>{n.entities.add({position:Cesium.Cartesian3.fromDegrees(i[0],i[1],0),attribute:{data:[]},point:{pixelSize:6,pickable:!0,color:Cesium.Color.fromCssColorString(e)}})}))},mue=(t,e)=>{Ag.forEach(n=>{n.data.forEach(i=>{let r=Hse(i[0],i[1]),a=Uoe(i[0],i[1]);const s=Cesium.Math.toRadians(-a+90),o=n.color;Cesium.Color.fromCssColorString(o).withAlpha(1),t.entities.add({position:r,billboard:{rotation:s,image:e,scale:.1,alignedAxis:Cesium.Cartesian3.UNIT_Z}}),t.scene.requestRender()})})};function vue(t){let e=t.position.getValue(Cesium.JulianDate.now()),n=Cesium.Math.toDegrees(Cesium.Cartographic.fromCartesian(e).longitude),i=Cesium.Math.toDegrees(Cesium.Cartographic.fromCartesian(e).latitude);return{position:[n,i],entities:t}}function gue(t){return[Cesium.Math.toDegrees(t.longitude),Cesium.Math.toDegrees(t.latitude)]}function WA(t,e){(t[0].x!==t[t.length-1].x||t[0].y!==t[t.length-1].y||t[0].z!==t[t.length-1].z)&&t.push(t[0]);let n=[];const i=t.map(o=>new Cesium.Cartesian3(o.x,o.y,o.z)),r=new Cesium.PolygonHierarchy(i);let a=Cesium.Ellipsoid.WGS84.cartesianArrayToCartographicArray(r.positions),s=SA([a.map(gue)]);return e.forEach(o=>{let u=vue(o),c=$y(u.position);$oe(c,s)&&n.push(o)}),n}const cf=3.141592653589793/180,ur=3.1412592653589795,Zw=6378245,Qw=.006693421622965943;class ru{static BD09ToGCJ02(e,n){let i=+e-.0065,r=+n-.006,a=Math.sqrt(i*i+r*r)-2e-4*Math.sin(r*cf),s=Math.atan2(r,i)-3e-4*Math.cos(i*cf),o=a*Math.cos(s),u=a*Math.sin(s);return[o,u]}static GCJ02ToBD09(e,n){n=+n,e=+e;let i=Math.sqrt(e*e+n*n)+2e-5*Math.sin(n*cf),r=Math.atan2(n,e)+3e-5*Math.cos(e*cf),a=i*Math.cos(r)+.0065,s=i*Math.sin(r)+.0065;return[a,s]}static WGS84ToGCJ02(e,n){if(n=+n,e=+e,this.out_of_china(e,n))return[e,n];{let i=this.delta(e,n);return[e+i[0],n+i[1]]}}static GCJ02ToWGS84(e,n){if(n=+n,e=+e,this.out_of_china(e,n))return[e,n];{let i=this.delta(e,n),r=e+i[0],a=n+i[1];return[e*2-r,n*2-a]}}static delta(e,n){let i=this.transformLng(e-106,n-35),r=this.transformLat(e-105,n-35);const a=n/180*ur;let s=Math.sin(a);s=1-Qw*s*s;const o=Math.sqrt(s);return i=i*180/(Zw/o*Math.cos(a)*ur),r=r*180/(Zw*(1-Qw)/(s*o)*ur),[i,r]}static transformLng(e,n){n=+n,e=+e;let i=300+e+2*n+.1*e*e+.1*e*n+.1*Math.sqrt(Math.abs(e));return i+=(20*Math.sin(6*e*ur)+20*Math.sin(2*e*ur))*2/3,i+=(20*Math.sin(6*e*ur)+40*Math.sin(e/3*ur))*2/3,i+=(150*Math.sin(e/12*ur)+300*Math.sin(e/30*ur))*2/3,i}static transformLat(e,n){n=+n,e=+e;let i=-100+2*e+3*n+.2*n*n+.1*e*n+.2*Math.sqrt(Math.abs(e));return i+=(20*Math.sin(6*e*ur)+20*Math.sin(2*e*ur))*2/3,i+=(20*Math.sin(n*ur)+40*Math.sin(n/3*ur))*2/3,i+=(160*Math.sin(n/12*ur)+320*Math.sin(n*ur/30))*2/3,i}static out_of_china(e,n){return n=+n,e=+e,!(e>73.66&&e<135.05&&n>3.86&&n<53.55)}static transformWGS84ToCartesian(e,n){return e?Cesium.Cartesian3.fromDegrees("lng"in e?e.lng:e.lon,e.lat,e.alt=n||e.alt,Cesium.Ellipsoid.WGS84):Cesium.Cartesian3.ZERO}static transformCartesianToWGS84(e){let i=Cesium.Ellipsoid.WGS84.cartesianToCartographic(e);return{lng:Cesium.Math.toDegrees(i.longitude),lat:Cesium.Math.toDegrees(i.latitude),alt:i.height}}static getLatLonFromScreenPosition(e,n,i){const a=e.scene.pickPosition(new Cesium.Cartesian2(n,i));if(a){const s=Cesium.Cartographic.fromCartesian(a),o=Cesium.Math.toDegrees(s.latitude),u=Cesium.Math.toDegrees(s.longitude),c=s.height,h=a.x,p=a.y,v=a.z;return{latitude:o,longitude:u,height:c,x:h,y:p,z:v}}return null}static getEntityFromLngLatXYZ(e){var n=e.position.getValue(Cesium.JulianDate.now());if(n){var i=Cesium.Cartographic.fromCartesian(n),r=Cesium.Math.toDegrees(i.longitude),a=Cesium.Math.toDegrees(i.latitude),s=i.height,o=n.x,u=n.y,c=n.z;return{latitude:a,longitude:r,height:s,x:o,y:u,z:c}}return null}}class Jw{constructor(e,n,{arrowLength:i=120,d:r=1,r:a=1,radiusNum:s=100}){if(!e)throw new Error("viewer is required!");this._viewer=e,this._entity=n,this._handler=void 0,this._defaultWidth=15,this._currentPick=void 0,this._arrowLength=i,this._radiusNum=s,this._dStep=r,this._rStep=a,this._params={tx:0,ty:0,tz:0,rx:0,ry:0,rz:0},this._coordArrows=void 0,this._coordCircle=[],this._directionMap=new Map,this.initEvent()}get params(){return this._params}initParam(){this.removeAllTools();let e=this._entity,n=this._arrowLength;const i=ru.getEntityFromLngLatXYZ(e);return this._params.tx=i.longitude,this._params.ty=i.latitude,this._params.tz=i.height,{positionInfo:i,length:n}}editRotation(){const e=this.initParam();this.createCircle(e.positionInfo.longitude,e.positionInfo.latitude,e.positionInfo.height,this._radiusNum)}createCircle(e,n,i,r){const a=[];for(let y=0;y<=360;y+=3){const _=Math.sin(Cesium.Math.toRadians(y)),w=Math.cos(Cesium.Math.toRadians(y)),b=r*w,M=r*_;a.push(new Cesium.Cartesian3(b,M,0))}const s=Cesium.Transforms.eastNorthUpToFixedFrame(Cesium.Cartesian3.fromDegrees(e,n,i)),o=this.createAxisSphere("model_edit_zCircle",a,s,Cesium.Color.RED);this._viewer.scene.primitives.add(o);const u=this.createAxisSphere("model_edit_yCircle",a,s,Cesium.Color.GREEN);this._viewer.scene.primitives.add(u);let c=Cesium.Matrix3.fromRotationY(Cesium.Math.toRadians(90)),h=Cesium.Matrix4.fromRotationTranslation(c);Cesium.Matrix4.multiply(u.geometryInstances.modelMatrix,h,u.geometryInstances.modelMatrix);const p=this.createAxisSphere("model_edit_xCircle",a,s,Cesium.Color.BLUE);this._viewer.scene.primitives.add(p);let v=Cesium.Matrix3.fromRotationX(Cesium.Math.toRadians(90)),g=Cesium.Matrix4.fromRotationTranslation(v);Cesium.Matrix4.multiply(p.geometryInstances.modelMatrix,g,p.geometryInstances.modelMatrix)}createAxisSphere(e,n,i,r){let a=new Cesium.Primitive({geometryInstances:new Cesium.GeometryInstance({id:e,geometry:new Cesium.PolylineGeometry({positions:n,width:5}),attributes:{color:Cesium.ColorGeometryInstanceAttribute.fromColor(r)}}),releaseGeometryInstances:!1,appearance:new Cesium.PolylineColorAppearance({translucent:!1}),modelMatrix:i});return a._name=e,this._coordCircle.push(a),a}editTranslation(){const e=this.initParam();let n=this._arrowLength,i=new Cesium.Cartesian3(n,n,n),r={x:e.positionInfo.x,y:e.positionInfo.y,z:e.positionInfo.z},a=this.getTransPostion(r,i),s={lng:e.positionInfo.longitude,lat:e.positionInfo.latitude,alt:e.positionInfo.height};this.initLineArrow(s,a)}updateLineArrow(e){this.removeCoordArrows();let n=ru.getEntityFromLngLatXYZ(e);const i=e.position.getValue(Cesium.JulianDate.now());let r={alt:n.height,lat:n.latitude,lng:n.longitude},a=this._arrowLength,s=new Cesium.Cartesian3(a,a,a),o=this.getTransPostion({x:i.x,y:i.y,z:i.z},s);this.initLineArrow(r,o)}initEvent(){const e=this,n=this._viewer;e._handler=new Cesium.ScreenSpaceEventHandler(n.scene.canvas),e._handler.setInputAction(function(i){let r=n.scene.pick(i.position);if(r&&r.primitive&&r.primitive._name&&r.primitive._name.indexOf("model_edit")!=-1){n.scene.screenSpaceCameraController.enableRotate=!1,e._currentPick=r.primitive,e._currentPick.width=25;let a=n.scene.camera.pickEllipsoid(i.position,n.scene.globe.ellipsoid),s=0,o=0,u=0,c=0,h=0,p=0;if(a&&Cesium.defined(a)){s=0,o=0,u=0,c=0,h=0,p=0;const v=ru.transformCartesianToWGS84(a);e._handler.setInputAction(function(g){let y=n.scene.camera.pickEllipsoid(g.endPosition,n.scene.globe.ellipsoid);const _=ru.transformCartesianToWGS84(y),w=g.endPosition.y-i.position.y,b=g.endPosition.x-i.position.x;switch(e._currentPick._name){case"model_edit_xArrow":s=_.lng-v.lng;break;case"model_edit_yArrow":o=_.lat-v.lat;break;case"model_edit_zArrow":u=-e._dStep*w;break;case"model_edit_xCircle":c=e._rStep*w;break;case"model_edit_yCircle":h=e._rStep*b;break;case"model_edit_zCircle":p=e._rStep*b;break}e.updateModel(e._params,s,o,u,c,h,p)},Cesium.ScreenSpaceEventType.MOUSE_MOVE)}e._handler.setInputAction(function(v){n.scene.screenSpaceCameraController.enableRotate=!0,e._currentPick.width=e._defaultWidth,e._currentPick=void 0,e._params.tx+=s,e._params.ty+=o,e._params.tz+=u,e._params.rx+=c,e._params.ry+=h,e._params.rz+=p,e._handler.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE),e._handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_UP)},Cesium.ScreenSpaceEventType.LEFT_UP)}},Cesium.ScreenSpaceEventType.LEFT_DOWN)}updateModel(e,n,i,r,a,s,o){let u=Cesium.Matrix3.fromRotationX(Cesium.Math.toRadians(e.rx+a)),c=Cesium.Matrix3.fromRotationY(Cesium.Math.toRadians(e.ry+s)),h=Cesium.Matrix3.fromRotationZ(Cesium.Math.toRadians(e.rz+o)),p=Cesium.Matrix4.fromRotationTranslation(u),v=Cesium.Matrix4.fromRotationTranslation(c),g=Cesium.Matrix4.fromRotationTranslation(h),y=Cesium.Cartesian3.fromDegrees(e.tx+n,e.ty+i,e.tz+r),_=Cesium.Transforms.eastNorthUpToFixedFrame(y);Cesium.Matrix4.multiply(_,p,_),Cesium.Matrix4.multiply(_,v,_),Cesium.Matrix4.multiply(_,g,_),this._entity.position=y;const w=new Cesium.HeadingPitchRoll(Cesium.Math.toRadians(e.rz+o),Cesium.Math.toRadians(e.ry+s),Cesium.Math.toRadians(e.rx+a)),b=Cesium.Transforms.headingPitchRollQuaternion(this._entity.position.getValue(Cesium.JulianDate.now()),w);this._entity.orientation=b,this._coordArrows&&this.updateLineArrow(this._entity)}initLineArrow(e,n){const i=new Cesium.PolylineCollection,r=[e.lng,e.lat,e.alt,n.lng,e.lat,e.alt];this.drawArrow(i,"model_edit_xArrow",r,Cesium.Color.GREEN);const a=[e.lng,e.lat,e.alt,e.lng,n.lat,e.alt];this.drawArrow(i,"model_edit_yArrow",a,Cesium.Color.BLUE);const s=[e.lng,e.lat,e.alt,e.lng,e.lat,n.alt];this.drawArrow(i,"model_edit_zArrow",s,Cesium.Color.RED),this._coordArrows=this._viewer.scene.primitives.add(i),this._coordArrows._name="CoordAxis"}drawArrow(e,n,i,r){const a=e.add({positions:Cesium.Cartesian3.fromDegreesArrayHeights(i),width:this._defaultWidth,material:Cesium.Material.fromType(Cesium.Material.PolylineArrowType,{color:r})});a._name=n}getTransPostion(e,n){let i=Cesium.Transforms.eastNorthUpToFixedFrame(e),r=new Cesium.Matrix4;Cesium.Matrix4.setTranslation(Cesium.Matrix4.IDENTITY,n,r);let a=Cesium.Matrix4.multiply(i,r,i);return Cesium.Matrix4.getTranslation(a,e),ru.transformCartesianToWGS84(e)}removeCoordArrows(){this._coordArrows&&(this._viewer.scene.primitives.remove(this._coordArrows),this._coordArrows=void 0,this._directionMap.clear())}removeCoordCircle(){this._coordCircle.forEach(e=>{this._viewer.scene.primitives.remove(e)}),this._coordCircle=[]}removeAllTools(){this.removeCoordArrows(),this.removeCoordCircle()}destroy(){this.removeAllTools(),this._handler.destroy()}}const yue={class:"appMain"},_ue={class:"plot_list"},bue=["onClick"],wue={class:"operation"},Sue=re({__name:"plot",setup(t){Ale();const e=W(null),n=jt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},coords:{},currentIndex:null,viewer:null,plotList:[{label:"点",key:"Point"},{label:"线",key:"Polyline"},{label:"面",key:"Polygon"},{label:"直箭头（粗单尖箭头）",key:"FineArrow"},{label:"进攻方向箭头",key:"AttackArrow"},{label:"进攻方向箭头（燕尾）",key:"SwallowtailAttackArrow"},{label:"分队战斗方向",key:"SquadCombat"},{label:"分队战斗方向（燕尾）",key:"SwallowtailSquadCombat"},{label:"细直箭头",key:"StraightArrow"},{label:"曲线箭头",key:"CurvedArrow"},{label:"突击方向（粗单直箭头）",key:"AssaultDirection"},{label:"双箭头（钳击）",key:"DoubleArrow"},{label:"自由线",key:"FreehandLine"},{label:"自由面",key:"FreehandPolygon"},{label:"曲线",key:"Curve"},{label:"椭圆",key:"Ellipse"},{label:"半月面（弓型面）",key:"Lune"},{label:"矩形",key:"Reactangle"},{label:"三角形",key:"Triangle"},{label:"圆形",key:"Circle"},{label:"扇形",key:"Sector"},{label:"集结地",key:"GatheringPlace"},{label:"弓形线",key:"Arc"},{label:"闭合曲面",key:"ClosedCurve"}]}),i=W(null);wt(()=>{console.log("dlsMapRef",e.value)});const r=()=>{i.value&&i.value.show()},a=()=>{i.value&&i.value.hide({duration:1e3,delay:0})},s=()=>{i.value&&i.value.remove(),i.value=null},o=()=>{i.value&&i.value.startGrowthAnimation()},u=()=>{},c=()=>{},h=()=>{console.log("绘制结束"),n.currentIndex=null},p=_=>{console.log("编辑开始",_),i.value=_},v=_=>{console.log("编辑结束",_)},g=(_,w)=>{n.currentIndex=w;const b=new Cs[_.key](Cesium,n.viewer,{material:Cesium.Color.fromCssColorString("rgba(59, 178, 208, 0.5)"),outlineMaterial:Cesium.Color.fromCssColorString("rgba(59, 178, 208, 1)"),outlineWidth:3,color:Cesium.Color.BLUE,pixelSize:10});i.value=b,console.log("geometry",b),b.on("drawStart",u),b.on("drawUpdate",c),b.on("drawEnd",h),b.on("editStart",p),b.on("editEnd",v)},y=_=>{n.viewer=_.viewer};return(_,w)=>{const b=At("el-button");return I(),K("div",yue,[J(d(Lr),{mapConfig:{id:"dls-map-plot",imageryProvider:n.imageryProvider,sceneModeNum:3},"viewer-width":"100%","viewer-height":"500px",ref_key:"dlsMapRef",ref:e,onReady:y},null,8,["mapConfig"]),Z("div",_ue,[(I(!0),K(ut,null,Ut(n.plotList,(M,C)=>(I(),K("div",{class:z([{active:n.currentIndex===C},"plot_btn"]),onClick:x=>g(M,C)},Ne(M.label),11,bue))),256))]),Z("div",wue,[J(b,{onClick:r,type:"primary"},{default:ne(()=>[mt("显示")]),_:1}),J(b,{onClick:a,type:"primary"},{default:ne(()=>[mt("隐藏")]),_:1}),J(b,{onClick:s,type:"primary"},{default:ne(()=>[mt("删除")]),_:1}),J(b,{onClick:o,type:"primary"},{default:ne(()=>[mt("动画")]),_:1})])])}}}),Cue=zt(Sue,[["__scopeId","data-v-c803fbe7"]]),Eue={class:"appMain"},xue={class:"operation"},Mue=re({__name:"terrain",setup(t){const e=W(null),n=jt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null,materialColor:[{height:2e3,color:"#B79E6C"},{height:100,color:"#FDF6CE"},{height:0,color:"#F9FCCA"},{height:-500,color:"#BDE7AD"},{height:-1e3,color:"#81D2A3"},{height:-1500,color:"#5AB7A4"},{height:-2e3,color:"#4C9AA0"},{height:-2500,color:"#437D9A"},{height:-4e3,color:"#3E6194"},{height:-5e3,color:"#274777"},{height:-8e3,color:"#112E5B"},{height:-1e4,color:"#08234C"}]}),i=W(null),{loadTerrain:r,removeTerrain:a,loadSeafloorTerrain:s,legendCanvans:o}=Lle();wt(()=>{console.log("dlsMapRef",e.value)});const u=()=>{a(n.viewer),o.value.remove()},c=()=>{r(n.viewer,[{type:"global",url:"https://data.marsgis.cn/terrain/",verticalExaggeration:1},{type:"region",url:"https://data.marsgis.cn/terrain/",range:[112.3242,123.574,33.8378,45.1757],height:1e6,verticalExaggeration:1}]),po(n.viewer,[116.0339,40.0144,1e3],{pitch:-11})},h=()=>{s(n.viewer,{type:"online",verticalExaggeration:20,enableLighting:!0,materialColor:n.materialColor,legendMountElement:i.value}),po(n.viewer,[114.62,15.02,1e4],{pitch:-11})},p=v=>{console.log("执行了",v.viewer),n.viewer=v.viewer};return(v,g)=>{const y=At("el-button");return I(),K("div",Eue,[J(d(Lr),{mapConfig:{id:"dls-map-layer-terrain",imageryProvider:n.imageryProvider,sceneModeNum:3},ref_key:"dlsMapRef",ref:e,"viewer-width":"100%","viewer-height":"500px",onReady:p},null,8,["mapConfig"]),Z("div",xue,[J(y,{onClick:c,type:"primary"},{default:ne(()=>[mt("加载地形")]),_:1}),J(y,{onClick:h,type:"primary"},{default:ne(()=>[mt("加载海洋地形")]),_:1}),J(y,{onClick:u,type:"primary"},{default:ne(()=>[mt("移除地形")]),_:1})]),Z("div",{ref_key:"legend",ref:i,class:"legend"},null,512)])}}}),Tue=zt(Mue,[["__scopeId","data-v-be9d214c"]]),KA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAIzElEQVRYhc1Z23IbxxHtnsEuCJAgABJUqItTciIpcZRy5dkP+Rd/mV7zI9FLnmKXkrJpW3aVWJIoSiBBEMBepjvVPbPQYHchyY6S8pBTAyzI6bNne870GeDjv/0VPlLDaJrqNUfX+GOE6TSufHjDqEMNcFurAHPU/+eAcQtQ03KtAheDpC3APxj8zwFsamBN1NtAV60OlqLOtc8/CmCsAZLRRqMN1230edwqYC4aXbjutrC+tbUCfvjosY5PvvxiG9BOeF0f6+kSMyjgytqIEfDq7+nho8cc4jewtQIOfxw/YhsBk55Uoylcuvv8cpRerfZtVvZNSV1gtv7ZoKOOyVy3s8gHO7Prm8MLSmwOAEUAX40YMW+efPkFP3z0uDVFtslazKytgUyldy+We4Nn0+POdXYIiAkbNIDyP4gcGEZljBkYCIkJmItyt/v66s74RTbqzQEgDz0G71oW6DsZbgObBsCpKVxv9N3Z7XS2OmZrUu5Yy0b+Dg0btNEcilbfEDu2TEiQ2FXRHX/zYpLv77y4uHfjlBJrAuh4sbqAoQF6G+A6WOnd7sViMPzh/J5xtM8d22GDviNaZRfRcE0lhGU2wi4QGnZIXAKiTefZJ5OvT4eXv5t8l436Vy3qUuX4OwHHUlWlgfRu79V8PPzx/D4j9qljUjYmCWA7oKNnGXBz0TELS0zIQExcouFSQCNBgY6H45Ozzy7vTk6WR3vTmkrEQNf5HAPGLYvMM/v0/AEb7LE1XbaYkjEpeIZTRkwA4S3TgBjgEgpTzCV4Zkt9jVwE8hEcgcxNiflXNuq36TTGTLcBjhmWnN0ZfX9+vwJLHnCXjbAsIwrwbgCdKui3WlyiB5uj4RyJMyAoGMHIr0G5H5+qEuPV57efUGJjjTYR6K2AY1VIZYEh0UDTwGIawFage2yxJ2nCBncABTgkkqPKLkPJIEBhBURLQF4wcobECCIcYMAwSdqzKWkgsd58dvPHSOIqxtf53dnCroIW6VI10AVmElJWjQdtzS4b7JM1Aza4B4h78h4QugDKMjFzAQxLNHyNDq4QuYPI1x6DAWQiBqN5ywacxOpeLM+zUa8IGBosx4AhBisM7z2b3lTpCmoQctYz68EO2ZoRGxxLT2ercf/VVb+zKCwlhlYHu/lysnfBBqcApgtIfjdkZFUPRifqAQadzm9NKjGDRhcR064NcLz9WtHL5Do78Drr1UAXmNG06CmzAtbiDZO746OvTie9V1c7seQMfziHcicZnn9+e7Q83EuNLkgSuCXrYtRF6PS9wQ4SlhJTYrudJItKgbXyxIVK/EGnf3Y19DsYWF1IHnQSFpjkrKTA2Gbu5q2/f3+zDnadc6vC/uYfPx3svpzdYWMO2Zh9knRCTEEkEdGyajgY3YAQE43tn3JMZAPkBsPpbDXU7dZrq1Gd9dKVhAWmgCdfnx4KqAbSeDUzw+Sfz0YmLw/Z4AAQexyUxUuhgPaxJKbEjqR1A2PM8EZxbvOy5+9aJ/STeZ1NVQ0M9iVntzFbb8YRDp+ejwBRFqvMLTJotQeyfCwwGrvdLDRq13UdoVVX2AB0u/U/CtpLF3RlgTWQvaP1Xs1F9uQGk8CuriHWucNmI+xo7I2appG3UPsApUTkhu1BP4luDmhFDbbDa7aQOmE33Ii7fs0hdgNPGOsMf1hj1q3Tpba1Zt3WqOM1V39+YTNbig2W4hvrxYgHWsoOJrVt7gX+g1s27OfAIHJVhDmoXvBgiN3AE8Y6w+vCWZyCFt9VIS7lIYDT2gBYAi8XR4Np2UvchwKe3T1cIPMCmDO5YV8YyTYCpHWdhxBitxfxMeAN2+3SzjI4BeeZUMfgCxmCFTJfA8L09cNbl41KtqVdfTJerA76Z8g8R+IlMudAXCBzdcMhlqRaZ7ntGMDULlZVksv3dy7V1kAovj14qb5yJFoikQS+WBwNTs/+8tspWbM1LwXs6z/feo7Eb9DxTAETZ/q0WMtPeXK+biYmiV1z12uMcbUWf1Aubgwud59fFmJrxClwqGeROJeqC538LxkR6MXxPj07eLAYPj0f9s7nXbsqLXcMZfu9Ynb3YLE62D3zYOk1kgK+Bik1WXJZSABPCin4QmIHf9c4s6gANxiWvbzY7b7prIouBqfgUwJyRra+6pJkIMnvnBI7n/7hePfNH1VntVqT65KzxtE8MDsLT2bln5TO6RkOryVmqCPaGN4ADBFgdbHzO+Pn429eiCu23ouxL75DPavLBYwDphwJF7JlI+imYoJ0FbLAQgpIv/bppNfkZgpvl0J3lEvMmoOmGGMbw2vQUuaJuxXDKB5MtyExC+CdgqeXHBNmbHAh6RN2L13MlfwFNjPweZsrWFKwoZP0shjsvAylZQy2leEYdFV7ahEtVvzoq9MROpVItTVUFd9az2KJiBkTrqQuCBZp09N5NSg1Z/3CjYCymNGcjbma3r/xLFj++hnFekG3Aa7uStOCEru6+P3kZPzt2Z8qpyC2Rp2C108HoeISwFVBsJ5TFUaVxmt4yNc1u440ZaYPjk4kVgS2we42wBxZE00DOTe4/HTyrdh8cbl+ywcWp6DFN7LBwCzXbL4qgGfbhQ0iACZlVhbl5aeTk3A2kdWcRkOH6+cScW1Qwlu2UM4NKDH/FncrhlE8WGWd0Fdx6gdxXXVVkHUHq1imt4uMSk2De0d1sHWGN+qVtpOfmOWN63JuIFa8OqoSDya2RpwCro+qqt18PZceVflNIWwSjvLoqGoVgc235e77AFNICVe/LucGYsXF3YphFA+G4TBQV+N7DgNFZ0W6PuZhoJwPsxx5hrcx6LXsiRWXoHLcund6MU7m2b44BSm+sXncuiz2urP57dF0y3GrqzMbMDSwtQIOoCk60I7vuloQNqhINrt7KMXKyxZL874D7TKac/2VQnWg3da2nQ/H7f/1lUFDwtraVoajFk+CLTn+q/tSJmYqfuTxrvir/NoLWtiuOrUw2/a/daA/u/0334TWg7a53DZf9ssbAPwHPfE1CkLjZT4AAAAASUVORK5CYII=",Aue={class:"appMain"},kue={class:"operation"},Iue=re({__name:"graphics",setup(t){const e=W(null),n=jt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null,pointEntity:null,wallEntity:null}),{addPointEntity:i,addLine:r,addCircle:a,addWall:s,removeSpecifyEntity:o,removeSpecifyPrimitive:u}=Pd();wt(()=>{console.log("dlsMapRef",e.value)});const c=()=>{o([n.pointEntity],n.viewer),n.pointEntity=null},h=()=>{u([n.wallEntity],n.viewer),n.wallEntity=null},p=()=>{if(n.pointEntity)n.viewer.flyTo(n.pointEntity,{duration:2,offset:new Cesium.HeadingPitchRange(0,-.5,500)});else{const w=i(116.4134,39.911,n.viewer,{type:"billboard",imgUrl:KA});n.pointEntity=w,n.viewer.flyTo(w,{duration:2,offset:new Cesium.HeadingPitchRange(0,-.5,500)})}},v=()=>{const w=r([-115,37,-115,32],new Cesium.PolylineDashMaterialProperty({color:Cesium.Color.BLUE,dashLength:16}),n.viewer,{});n.viewer.flyTo(w,{duration:2})},g=()=>{const w=a(116.4134,39.911,1e4,"rgba(77, 225, 247,0.3)",n.viewer);n.viewer.flyTo(w,{duration:2,offset:new Cesium.HeadingPitchRange(0,-.5,500)})},y=()=>{if(n.wallEntity)n.viewer.flyTo(n.wallEntity,{duration:2,offset:new Cesium.HeadingPitchRange(0,-.5,500)});else{const w=s(n.viewer,[-115,37,1e5,-115,32,1e5,-107,33,1e5,-115,37,1e5],"#00FFFF",{MaterialIndex:4});n.wallEntity=w,n.viewer.flyTo(w,{duration:2,offset:new Cesium.HeadingPitchRange(0,-.5,500)})}},_=w=>{n.viewer=w.viewer,console.log("执行了",w.viewer)};return(w,b)=>{const M=At("el-button");return I(),K("div",Aue,[J(d(Lr),{mapConfig:{id:"dls-map-layer-terrain",imageryProvider:n.imageryProvider,sceneModeNum:3},ref_key:"dlsMapRef",ref:e,"viewer-width":"100%","viewer-height":"500px",onReady:_},null,8,["mapConfig"]),Z("div",kue,[J(M,{onClick:p,type:"primary"},{default:ne(()=>[mt("添加点")]),_:1}),J(M,{onClick:v,type:"primary"},{default:ne(()=>[mt("添加线")]),_:1}),J(M,{onClick:g,type:"primary"},{default:ne(()=>[mt("添加圆")]),_:1}),J(M,{onClick:y,type:"primary"},{default:ne(()=>[mt("添加墙")]),_:1}),J(M,{onClick:c,type:"primary"},{default:ne(()=>[mt("删除点")]),_:1}),J(M,{onClick:h,type:"primary"},{default:ne(()=>[mt("删除墙")]),_:1})])])}}}),Pue=zt(Iue,[["__scopeId","data-v-e47cbe92"]]),Rue={class:"appMain"},Lue={class:"operation"},Nue=re({__name:"measure",setup(t){const e=W(null),n=jt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null});wt(()=>{console.log("dlsMapRef",e.value)});const i=()=>{Ioe(n.viewer,"lines",[255,10,255],5)},r=a=>{n.viewer=a,console.log("执行了",a)};return(a,s)=>{const o=At("el-button");return I(),K("div",Rue,[J(d(vp),{mapConfig:{id:"dls-map-layer-terrain",imageryProvider:n.imageryProvider,sceneModeNum:3},ref_key:"dlsMapRef",ref:e,"viewer-width":"100%","viewer-height":"500px",onCesiumReady:r},null,8,["mapConfig"]),Z("div",Lue,[J(o,{onClick:i,type:"primary"},{default:ne(()=>[mt("测距")]),_:1})])])}}}),Oue=zt(Nue,[["__scopeId","data-v-1759464e"]]),Due="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAACWNJREFUeF7tnYty3DYMRekva/Jlbb4s+bOtZcuNs12tSRAgHjyaznQ84fMCZ3C50q5eGhcKoMClAi9ogwIocK0AgJAdKPBEAQAhPVAAQMgBFJApQAWR6UavTRQAkE0CzTZlCgCITDd6baIAgGwSaLYpUwBAZLrRaxMFAGSTQLNNmQIAItONXpsoACCbBJptyhRQAeTW2rfW2t/t/f+frx/HH6+T/CNbHr1QwFeBaUBurf18AMajXf0AFN9gM/u4AlOA3Fq7jU/ZAEUgGl18FBAD8krGYZsOWyW9AEWqHP2WKSAC5DxzHNZK4wIUDRUZw0QBKSCz1YMzikk4GVRbASkgvQdzyXqpKBLV6GOigBQQyeF8dAOAMqoY7dUViAzIx2YBRT3sDNirQAZAAKU3mrRTVyATIICiHn4G/EoBKSCWh/Sv1gwovQrRbloBKSDHM1da90FmN8EZZVZB+l8qIALkGE34mIllKADFUt1Nx54BxOJmoUYYAEVDRcZ4U0AMyFlFIpxFrkIJKCT5tAKzgEQ6iwDKdDowwL0CU4CcVSSq1brfKxWF/B9WYBqQBFYLUIbTgg4fCmgBksFqAQp5P6yACiAJq8hnobBew2mzTwc1QE5IVjzlaxUdQLFSNvG42oBktFpYr8QJbL10VUCSWy1Asc62hONbAFKhinBGSZjMFktWByTZvZERTTmjjKhVpK0JIMWsFtarSLJLtmEJSDWrBSiSDEvexwyQwlYLUJIn/cjyTQEpbrUAZSTTkrZdAUh1qwUoSZO/Z9nmgGxWRfh4uCfrErVZAsgJSebHUGZCysfDM+o5910JyG5WC+vlnNwa0y8DZGOrBSgameo0xmpAdq8inFGcEl067VJANro3MhIPzigjai1uuxwQrNZlhAFlcfL3TOcFCFbrOjq8Gbgncxe1cQEEq9UVXUDpksm2kRsgWK3uwAJKt1T6Db0BwWr1xxRQ+rVSa+kKCFVEFEdAEckm6+QOyAnJro+hyKL23gtQZtTr7BsFkCw/X9op69JmgGIodwhAsFoqEQYUFRn/HCQSIBzYdQIMKDo6vo0SBpCzimC19IILKApahgIEq6UQ0f8PASgTskYEBKs1EdAnXQFFoGs4QLBagiiOdQGUAb1CAsK9kYEIypsCSod2kQHBanUEUKEJoDwRMSwgHNgVUn9sCEB5oFd0QKgiY0mu0RpQPqkYGhAO7Br5Lh4DUKLdKLwK5a21n621o5pwrVdga1DCV5CzimC11oNxP+OWoKQABKvlT8fdCrb5gYk0gPCpVjhIjgWVByUbIFitkJzUBSUVIFitmHR8WlW5ipIOkBMSvqIbm5UyoGQFBKsVG5CP1aUHJSUgHNhz0FHBemUGhCqSjpN8h/m0gHBgz0dHxoqSGhCsVmpIUtxHqQAIVis9J3GtV3pAsFr56YhsvUoAgtUqBUko61UJEKxWOU78rVcZQLBa9eiIYL1KAcJjKKUhcbFeFQHBapXnZJ31KgcIB/b6dKy0XlUBoYpsxYldRSkJCAf2veiwrChlAcFqbQuJ6mG+OiBYra05mbdepQHBau1Nx7n7qS9tlQcEqwUkrbXvL639kiixCyBYLUl2FOrzInzd4BaAUEUKZbp8KyKrtQ0gPIYiz6wiPX+9tPZ9dC+7AYLVGs2QQu0lNmsrQLBahbJdtpXhw/qOgPAudllyVegFIM+i+PpzjMBRIc2Fe8BifSHcrTV+slSYXBW6AciTKFI9KqT41B74mPdKPuCYSqwSnSXV49j4Fod0rFWJHJ/ZhKh6bAEI1WMmr0r0FcNRHpDb+5txjzfkcu2nwPFw4gGH6CHFD7lKWyyqx35UvL4uXAWM8oAAx5ZwDN8I/EqlshWEg/lXoS/171PnjGdKlASE6lEq+Z9txgyMshYLOLaAwxyMyoDwOEldRpaBURIQqkdZMpaDUQ4Q4CgJhxsYFQE5bggeNwa58ivgDkYpQKge+Yk4dxAGjGqAcDDPzUg4MMoAQvVITUZYMEoAAhxp4QgPRhVAsFa5GEkDRnpAqB6pyEgHRmpAgCMNHGnByA4I1io2I+nBSAsI1SM0GWXASAkIX6ENC0c5MLICwuMksRgpC0Y6QLBWocgoD0ZGQDiY+zOyDRipAKF6uJOxHRhpAAEOVzi2BSMTIFir9YxsD0YKQKgey8kAjDvJw/7sD3AshQMwLuSODAjWyp4RwPhC45CAUD3MyQCMTonDAcLjJJ2RkzUDjEHdIgLCizYHg9jRHDA6RHrUJBQgWCthFK+7AcakpNEA4WA+GdCzO2Do6BjnHYVUD5WIAoaKjL8HCVFBgGM6qoAxLeHjAaIAgrWSBRgwZLp193IHhOrRHavPDQFDJNt4J1dAgGM4YKovqByefcMO3oDwFdq+pAOMPp3UW7kBQvXoiiVgdMlk18gTEA7m13EFDLucHxrZBRCqx2WMAGMofe0bLwcEOB4GFTDsc100gwcgWKvfoQIMUdqu67QUEKrHf4EFjHU5PjXTMkCA4y1OgDGVrus7rwRkZ2sFGOtzW2XGJYBsXD0AQyVN/QYxB2TTr9AChl9Oq868ApCdHicBDNX09B/MFJCNrBVg+OeyyQqsAal+MAcMk7SMM6gZIMWrB2DEyWHTlZgAUhgOwDBNx3iDWwFSzVoBRrzcXbIidUCKVQ/AWJKGcSdRBaQQHIARN2eXrkwbkOzWCjCWpl/8ydQASV49ACN+rrqsUAWQxI+TAIZL2uWZVAuQbL/IDhh5ctR1pdOAJLNWgOGabvkm1wAkw8EcMPLlZogVTwGSoHoARog0y7sIMSDB4QCMvDkZauUzgES0VoARKr3yL0YESMDqARj5czHkDqSARKkegBEyreosahiQIDcFAaNODobeSTZAACN0OtVbnAQQj7vmgFEv91LsSALIt9ba8UslKy7AWKEyc1wqEBUQwCBpQygwDMix6tvbfyYXYJjIyqBSBaSAaJ9DAEMaQfqZKiAC5KwiGr+YCBim4WXwWQVmAJk5rAPGbOTov0QBMSAfqxt87AQwloSVSbQUmAbkDpTjz79eXxRzVJcDho/rx8uff2utn3FQwFQBNUBMV8ngKOCkAIA4Cc+0ORQAkBxxYpVOCgCIk/BMm0MBAMkRJ1bppACAOAnPtDkUAJAccWKVTgoAiJPwTJtDAQDJESdW6aQAgDgJz7Q5FACQHHFilU4KAIiT8EybQwEAyREnVumkwL83SzHntn/5twAAAABJRU5ErkJggg==",Fue={class:"appMain"},Bue={class:"operation"},Uue=re({__name:"trajectory",setup(t){const e=W(null),n=jt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null});wt(()=>{console.log("dlsMapRef",e.value)});const i=()=>{let a=[{positions:[[112.1514,20.820353],[114.774,21.7316],[118.114,23.3144],[122.3759,27.2888],[123.9299,32.2732]],color:"#FF0000"}];hue(n.viewer,a,Due).then(()=>{}),po(n.viewer,[118.1417,26.8013,2581065])},r=a=>{n.viewer=a.viewer,console.log("执行了",a.viewer)};return(a,s)=>{const o=At("el-button");return I(),K("div",Fue,[J(d(Lr),{mapConfig:{id:"dls-map-trajectory",imageryProvider:n.imageryProvider,sceneModeNum:2},ref_key:"dlsMapRef",ref:e,"viewer-width":"100%","viewer-height":"500px",onReady:r},null,8,["mapConfig"]),Z("div",Bue,[J(o,{onClick:i,type:"primary"},{default:ne(()=>[mt("加载轨迹")]),_:1})])])}}}),Vue=zt(Uue,[["__scopeId","data-v-8f01d5f4"]]),Xs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAiCAYAAACqVHINAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFEmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0xMi0yMVQxODowNzo1NyswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjItMDYtMTNUMTU6MTI6MjcrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjItMDYtMTNUMTU6MTI6MjcrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OWFmMTZiNjAtOTczOS03MTQ2LWJlNTAtZjYxNDc3OWVhNzgxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjlhZjE2YjYwLTk3MzktNzE0Ni1iZTUwLWY2MTQ3NzllYTc4MSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjlhZjE2YjYwLTk3MzktNzE0Ni1iZTUwLWY2MTQ3NzllYTc4MSI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6OWFmMTZiNjAtOTczOS03MTQ2LWJlNTAtZjYxNDc3OWVhNzgxIiBzdEV2dDp3aGVuPSIyMDIxLTEyLTIxVDE4OjA3OjU3KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnpHqCIAAAdoSURBVEiJjZZ5jF1VHcc/Z7v3vjtvm5nOUtopgxQLES2YJlJBhCjKEtSEf4gJxoSYoPAHKf+gNDFR/1AT8S8pmJAUEYUYE6ESsGDAUpYoWJaKpWUpndLO1pl5b97c9+5yzvGP96YzdCH+kpube+75fX/7IrY84jkTCcBIBrzg6k7BtYXjUutZ5z0lIWgrwUdasi/SPC08z+WOuTMjgTiTECWoCritkXH7fMaGVg5tB9YBvquBklCSUDbQH3CkFnCfhx3W0/xEIQLQks8u5jx8dInNCymQe8gXkVkDaXPAARKnDC6ogamAEdRDWN/HmxXDLYXjzdWq69UClOTa6YTfHU4YsplDJCcw7WmELboXelbgQQmgPYdXmrw0zIIdZLGQnxuPeXYo5jvW8fSyoJOWaMllx1o8fSShRp6hFz5EZU3QIUiDkArrBfmiw5QEKhB4W4DLoUixQZWifi6YgA0xjXPKXFc4XgaQPQHl6Tb3H1miRp4TzB5E5y1cWCUVEalTdDoeo+CH1w2yaTSks2hJnSIlIjdVVNYimD0Iec6RJWrTbXZoSRlAaglJwbaJFpuxHrPwPsoXpLJM3oFyIOmPJTqUDMWSb1xg2LRGQSColyT1kqIvNBBVka7ALLwP1jPRYnNSsE1LEJf90a//oMFLUwljOplGN4+SmwqBUXzropg7LqtTCSSF67pVeIsXshcciI3g8f+22P7sPN47VLaIra6niIcZiTl6Xo2tupVz+XSHMbxHJTM4FWCdYPtV/fzoy/1nyfyP06enFQKPEwJ0gEpmKEpDTHfE+qGYy3Uz43rvwWQLCFfgdQktBI++OkmfX+J7W0dxCNLCI8QKsAec9wz1KTq5xftejkqDKDqYbIE86qeZcb2o3+f3LeRcEjUmEMkJnCnjpSBbKsB2OH8N3HhRnXU1Qzt3XZcJMFLw7myHXW83aVmN1TEeAd4h8xY+HqRTG6NueF0nBesQ4GyB9ICQCO8JY0OaKj7qeG7eMswXxkqnuSm1nq1vtPj5P+Y5NJsRaBBC4n0XDwFJwTmysN2CdM6dAuFBdANrxJm7UqgEXz1X0R8U3UawipbxCkukBUwB/Up2g+dZBagESe74/WsnODDZwjpY1x8xt5Sx2LG88uESO//dICMmjEwvUt3YKakoAO+Z0oHiX23HhUFocJnEeoeQiiy1kDg6geSRt5b49d45apHiL9/dwG//2eSZtxsM9JfIshgsZMISRArvLFIIdGhIHYSaV3Ql4PF2wi2mVCVbnEV4S9oRbBwyfPvSKl/5VB9awh27Zjg0m2IEWB1x8fma+785jPOCFw4n7Hy1waGZnNDY7pgoVcFBLeIJGSpeBN5r6wo6jEjn29y0ucKhu8a5fUsfD+49wm2PHmTfRItQCSqRos9I9n/Q4rbHDvHAniPceknMwbvGufnzNdK5BB1GtHUF4L1AsVdax2TZ8FC7gKg+Aq5gMMgBWMzh1RnF/kYEuaTZKtjx8izvHk/AKv6zEPHajGI+64Zw0GTgLGF9hHYBZcND1jEphu/3FI7RuYw9seGCenKUYx9OcN1n6vzg8iE2rImZTgQLHUgKR3MxIS6F1OKAivGs7YOJuSV2vDjDX/cvsHZsjEbfepKcQwMBV2rJpLYetGIylOxIUu4tV9exdqzgqX3HeOr1BmNjfVw8HDJallQDQWgUWdGkmXomW463pzMOT7TAWUY3rsPW15G0INTs0IpJ60CMPHAyZcVswh4LV6wte6KlKaampkiaGXgFUnfbxvLU8h58AcISVwNGRkbo9I1wvCVQsHdNzJW9nEbLXj8S4LXkHlvw/PGWEAPxKOeMV8ka0yRJm1YnI8uL3vCFwCjKUYk4LmFqw8wTM9cCHF5r7lGi184AnduV2os0exD8JLX8eK4FiyZmzeA45f6cWraEcPnJKeylwQZ9pNJwfAnyvCs9NPw0UuzJVuGK/t+sVLiWkDnCRspuBFf2ChilIQrAqBXG3EInA1t8zIt7aiFfCyRpsarNaClXPjwgBWmkuTMt+LsX9AsB1sJSe9nDy+r1XrK3X3jmQ82dUpB6YDWuVKK7eSgBUkAgYSBiX8mwbRlUiN4jVz29s2XtSoZtAxH7AtnFWY2rZYXTSYKy7CRjk4e7Vw+rU8l3XfoLpdlJBYQ7aeSK0QPbXz+ds8jxmy6k6C+bzgl25XN8XejTr/kCzAB/iwa5Uc+3cvHOAdDmtHtn1bF8zV2Ew5soxi9cu3jxl55zk2wSq5Y7L0CO8k5l/wtX68MHjqfT79B65ldnxPoERwCgVW20UDf87Kr8i7c+CcRkQABAYl568Ab75PbnbWNSA8XZQNRZziUwCoz7tLXevfXEMRFWj3HR1mvwSCKs2H3v3fZPd7zs0tZGYLDHk/DxHPxEISPABT1GgMAf2P2GqJ+fsmXzFex++Jf+se//AajT3acDYAhIgdapYGdzVwk4D6iyPFMhpTIasvmmjbzx53dZnEyBkJVSbAIfAO3/Vwg9K8o9QXEP0PU0Lff+p3Rd1Oydn7qNAPA/TRM83Mvr4eIAAAAASUVORK5CYII=",qA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAiCAYAAACqVHINAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFEmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0xMi0yMVQxODowNzo1NyswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjItMDYtMTNUMTU6MTE6MzUrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjItMDYtMTNUMTU6MTE6MzUrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ZmI5NzU4MzMtMGEwOC1hZjRlLWIxOWItYzEyNDBkYTYxYzE0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOmZiOTc1ODMzLTBhMDgtYWY0ZS1iMTliLWMxMjQwZGE2MWMxNCIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmZiOTc1ODMzLTBhMDgtYWY0ZS1iMTliLWMxMjQwZGE2MWMxNCI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZmI5NzU4MzMtMGEwOC1hZjRlLWIxOWItYzEyNDBkYTYxYzE0IiBzdEV2dDp3aGVuPSIyMDIxLTEyLTIxVDE4OjA3OjU3KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhDOHXYAAAeHSURBVEiJjZZZrF5VFcd/a599hm++Q+/Q20tTcksLKq2lDI0QpkYmA4aoiT6UFyHBYCLWFx5MTFAfNA6JMUBCRBAhhESJNSISptQaRIkoL4DQUOptb3vnbz7T3tuH7+v9Wm+vYScrJ9ln7fVf67/X2mtJ88C9nHeJgPZGcNxAmt5Cnu9x1m3BuQIiXVFyAq3fIgheQHiV3Czj3HlN6fPuKlVF5F7XaN1Hs7lVujEqzZA8P6NRc1pP2sDf6wrR3VQqx6VcegjnHsbaxjp/z4lEBJS61HU6T8ri8m5ptMiylEae08gzUmuxgAICpahqn6rW+H6Aq5Zxm0belmLxANa+fXZU+hwAT93illd/5Z2aH8uShIUkYT7pkuUGcLizDooISwi+9hgPC4zlGX67s8tMjr8kI0N3YewLZ4AGIErtswtLz3in5muxMXzQatCME0IlRKJQohBAANcX6xxZnvNR2mA5C9kuNcITc2PGmGfUptFbMeb1AYj2ym559RFvbr4WW8O79RWSJKXYjVHOAoLt++L6QKpQwAsDPCcEClpxzDvWcnFtmGhuvmY972EZGbqG3LQ02sPFyUHm5nfnxnC03SDudBiu1ph54hGimQtBKUT1IjFpik0SZr//Y1Zfeg1ViFBARfs005SjrQY7S1XU3PxuVywclCh8UOOYZnH5bklT5vOUVhxTFoVXLlG+fA9ercrZien3v8GOGdyLrwzYBspa04pj5sOIzYBbXL6HLZsfU67bvdqu1i/IPWGh0yYQQUmPHq9WpXN8ljf238GfP3EFr2y9hP88/lSPtiwHa3viHA5QCIH07OSeYFfr067bvVrTat/m5YZFZ8iMIRJZ884mCeHEGDP33YNttrEmp7bvit4/a3AmxxmDcw4VBL1IRYiNYdUYNllwrfZt2rU7uzzPo92NcTgEdRZIiq5WqO6/DhPHiOcR1qoAjN15O5WdO/BKJepHXmfpN4d6ZSaCw9LKMsYLAXm7s0uTJFtECWme4axDebJ2B7paoTt7kjdvvZP2u+9h84xPPfQztn7tq1Qv30P18j0977dNs3zoeVyaIlrjjCPLM0QJJMmUdrnRohTOOnCDOgAwnQ7R9BSX/fIRaHewzhHtvAiAU8+/yPFfP8PQZZ9mZPelqCjEpCnSz3NnHSKCy02kgdPOuWHleSByTiaJ8rBpyupHx8nqDZw1bJoYw988QWnbViY+s4/yJy9GPA+Xm7U6QgTleb2Cd+60Ruu/uyy/OIwiVNLFWseZq1dRSGf2BHOPPUl28jR5p0MQFqhcspNsZZXOseN4tRqFqckeNf1XQGlFGEU4a8H3/6pVufQ7s7B0oFYus9BsYPMMTwTT7ZKvrFKc3sLe3z4F3RiCACkWeg74PuHUJLpWwWYppt1BRDDWIlpTK5cwrS5quHZI4+u/WCVHK46ZqFigmyREccL4l+5EDw/1aAtDCEPOXkNX7mXoyr0ApEvLjN5+KwvPPkcSBRSLRapOMEqOKl8fUc65U1IsPiHdmM2joxitSdttxr78BT7uCkZHGL/rK6StFkZrJkdGoRsjxeITzrlTmtyArx+1Sg6MWLloYmqKkyt1Pnz6Wcrvv4/txmzU8ThzycUCnTf/SRwETE1NMdKL4n18/Si5Qeo3fh48D9duf9Prxj+RsVGOdjoce+NvSNYgJESQDTEcjoQE51fYdtVVzBSLuIUlTCE6KKXSTzEGqd/Up8U5cav1w56118jYJmaTLvOzJ7DNFoFS+FqjlEIQHA5rLVmek1qLqpQZn97CdFjALSxilDoiQ7VrEelldP3mL66F7er1a4mT10Qp8YZrtKKQ06srtFfrJM0WeZKCMeB56DAgrJQpDdWYGBqmHCeYlTrOWkcUXi+12uFBZzRmQG8YHgZ50KXpd/LFFUpRyI6RYTq1Ydp5Tubsmq4vipLWFB3kiyvkcQKeQqLou4TBYQZDB1K/4Y4BwdqDLA9dvfkiSq7FObAWLwjwChFK+73GYcHmGaYbY9IUlOrNCNYdllrlJnydkA+c16jBq9vrrZIQhfeTZS8Dw2iNMQbTbJ2bZSL92Uz39kVWiIL7EUl6zWVgV6EUayICvkaGqm9JFB48x6BS4HkDOaN/RiUKD8pQ9S18PdDvi64G51ZyD1rR9vTjmXM7xfEAauMUxjoc7gfa04+XdADKrlORI/v2r9tMneWy8jA17ftps/n7drd9s/K89faNoVQo/SmoVG6v51n2j9YKgah1ehu6+PVtO5ipVNlVKG++Maq+2mo3d+Yia/1GO0e5VHnvlbhxw9vd1tzRZoOfH/v3eW39Hx4A0BNRlH97evv194xM/kGg2LGWolI46Dy6fOpz35v94LXTcayBfCMj6znoLQVMAtvaeT79x+X5kyXPP3ldbfSzOKtC7ZsfzX30wLc+fOf1dp5vB0b7ZzrAuoduI5AJ4KL+QYDg5frSvy4IwuTK0clrfjF37IffOPbO08AQvSk0AMaABGj9r7GN6CoAFwJVBqNvMuEH4R3D49sPrcx/cDpLEyDs2xCgAXwIdD8uCP0oyn2gYt+g7Xta7v9P6FHU6O+vz1/gv6sLeFA1yyAJAAAAAElFTkSuQmCC",zue={class:"appMain"},$ue={class:"operation"},Hue=re({__name:"spacePoint",setup(t){const e=W(null),n=jt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null,coordinates:[[39.9042,116.4074],[39.9176,116.3973],[39.9087,116.3843],[39.9081,116.3893],[39.9104,116.4065],[39.9138,116.3825],[39.9135,116.353],[39.9368,116.311],[39.9097,116.3724],[39.9353,116.3385],[39.9075,116.3972],[39.9571,116.3574],[39.9086,116.4079],[39.8922,116.318],[39.8756,116.4194],[39.895,116.4312],[39.9525,116.3883],[39.9416,116.347],[39.8841,116.412],[39.9043,116.4749],[39.8482,116.4284],[39.9658,116.3961],[39.9168,116.4442],[39.919,116.486],[39.9524,116.3535],[39.8789,116.2996],[39.9355,116.3959],[39.9156,116.4012]],pointEntityArr:[],geometry:null,geometryRectangle:null,geometryCircle:null,geometryPolygon:null}),{addPointEntity:i}=Pd();wt(()=>{console.log("dlsMapRef",e.value)});const r=()=>{const h=WA(n.geometry.geometryPoints,n.pointEntityArr);h&&h.length&&h.forEach(p=>{p.billboard.image=qA})},a=()=>{u();const h=new Cs.Reactangle(Cesium,n.viewer,{material:Cesium.Color.fromCssColorString("rgba(59, 178, 208, 0.5)"),outlineMaterial:Cesium.Color.fromCssColorString("rgba(59, 178, 208, 1)"),outlineWidth:3,isEdit:!1});h.on("drawEnd",r),n.geometry=h,n.geometryRectangle=h},s=()=>{u();const h=new Cs.Circle(Cesium,n.viewer,{material:Cesium.Color.fromCssColorString("rgba(59, 178, 208, 0.5)"),outlineMaterial:Cesium.Color.fromCssColorString("rgba(59, 178, 208, 1)"),outlineWidth:3,isEdit:!1});h.on("drawEnd",r),n.geometry=h,n.geometryCircle=h},o=()=>{u();const h=new Cs.Polygon(Cesium,n.viewer,{material:Cesium.Color.fromCssColorString("rgba(59, 178, 208, 0.5)"),outlineMaterial:Cesium.Color.fromCssColorString("rgba(59, 178, 208, 1)"),outlineWidth:3,isEdit:!1});h.on("drawEnd",r),n.geometry=h,n.geometryPolygon=h},u=()=>{n.geometryRectangle&&(n.geometryRectangle.remove(),n.geometryRectangle=null),n.geometryCircle&&(n.geometryCircle.remove(),n.geometryCircle=null),n.geometryPolygon&&(n.geometryPolygon.remove(),n.geometryPolygon=null),n.pointEntityArr&&n.pointEntityArr.length&&n.pointEntityArr.forEach(h=>{h.billboard.image=Xs})},c=h=>{n.viewer=h.viewer,n.coordinates.forEach(p=>{const v=i(p[1],p[0],n.viewer,{type:"billboard",imgUrl:Xs});n.pointEntityArr.push(v)}),po(n.viewer,[116.4074,39.9042,2e4])};return(h,p)=>{const v=At("el-button");return I(),K("div",zue,[J(d(Lr),{mapConfig:{id:"dls-map-space",imageryProvider:n.imageryProvider,sceneModeNum:3},ref_key:"dlsMapRef",ref:e,"viewer-width":"100%","viewer-height":"500px",onReady:c},null,8,["mapConfig"]),Z("div",$ue,[J(v,{onClick:a,type:"primary"},{default:ne(()=>[mt("矩形")]),_:1}),J(v,{onClick:s,type:"primary"},{default:ne(()=>[mt("圆")]),_:1}),J(v,{onClick:o,type:"primary"},{default:ne(()=>[mt("面")]),_:1}),J(v,{onClick:u,type:"primary"},{default:ne(()=>[mt("清除")]),_:1})])])}}}),Gue=zt(Hue,[["__scopeId","data-v-f2f0ce3d"]]),Wue=t=>(yi("data-v-b9b18c4e"),t=t(),_i(),t),Kue={class:"appMain"},que={class:"operation"},Yue={class:"bufferRadius"},jue=Wue(()=>Z("div",{class:"title"},"缓冲半径：",-1)),Xue=re({__name:"bufferArea",setup(t){const e=W(null),n=jt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null,coordinates:[[39.9042,116.4074],[39.9176,116.3973],[39.9087,116.3843],[39.9081,116.3893],[39.9104,116.4065],[39.9138,116.3825],[39.9135,116.353],[39.9368,116.311],[39.9097,116.3724],[39.9353,116.3385],[39.9075,116.3972],[39.9571,116.3574],[39.9086,116.4079],[39.8922,116.318],[39.8756,116.4194],[39.895,116.4312],[39.9525,116.3883],[39.9416,116.347],[39.8841,116.412],[39.9043,116.4749],[39.8482,116.4284],[39.9658,116.3961],[39.9168,116.4442],[39.919,116.486],[39.9524,116.3535],[39.8789,116.2996],[39.9355,116.3959],[39.9156,116.4012]],pointEntityArr:[],radiusNum:1,geometry:null,drawType:"",buffer:null}),{addPointEntity:i}=Pd();wt(()=>{console.log("dlsMapRef",e.value)});const r=v=>{n.buffer&&(n.buffer.clear(),n.buffer=null),h(),a()},a=()=>{h();let v=new fue(n.viewer,n.radiusNum*1e3);v.createBuffer(n.geometry.geometryPoints,n.drawType).then(g=>{const y=WA(g,n.pointEntityArr);y&&y.length&&y.forEach(_=>{_.billboard.image=qA})}),n.buffer=v},s=()=>{c();const v=new Cs.Point(Cesium,n.viewer,{material:Cesium.Color.fromCssColorString("rgba(59, 178, 208, 0.5)"),outlineMaterial:Cesium.Color.fromCssColorString("rgba(59, 178, 208, 1)"),outlineWidth:3,isEdit:!1});v.on("drawEnd",a),n.drawType="Point",n.geometry=v},o=()=>{c();const v=new Cs.Polyline(Cesium,n.viewer,{material:Cesium.Color.fromCssColorString("rgba(59, 178, 208, 0.5)"),outlineMaterial:Cesium.Color.fromCssColorString("rgba(59, 178, 208, 1)"),outlineWidth:3,isEdit:!1});v.on("drawEnd",a),n.drawType="Polyline",n.geometry=v},u=()=>{c();const v=new Cs.Polygon(Cesium,n.viewer,{material:Cesium.Color.fromCssColorString("rgba(59, 178, 208, 0.5)"),outlineMaterial:Cesium.Color.fromCssColorString("rgba(59, 178, 208, 1)"),outlineWidth:3,isEdit:!1});v.on("drawEnd",a),n.drawType="Polygon",n.geometry=v},c=()=>{n.geometry&&(n.geometry.remove(),n.geometry=null),n.buffer&&(n.buffer.clear(),n.buffer=null),h()},h=()=>{n.pointEntityArr&&n.pointEntityArr.length&&n.pointEntityArr.forEach(v=>{v.billboard.image=Xs})},p=v=>{n.viewer=v.viewer,n.coordinates.forEach(g=>{const y=i(g[1],g[0],n.viewer,{type:"billboard",imgUrl:Xs});n.pointEntityArr.push(y)}),po(n.viewer,[116.4074,39.9042,2e4])};return(v,g)=>{const y=At("el-input"),_=At("el-button");return I(),K("div",Kue,[J(d(Lr),{mapConfig:{id:"dls-map-bufferAarea",imageryProvider:n.imageryProvider,sceneModeNum:3},ref_key:"dlsMapRef",ref:e,"viewer-width":"100%","viewer-height":"500px",onReady:p},null,8,["mapConfig"]),Z("div",que,[Z("div",Yue,[jue,J(y,{onChange:r,modelValue:n.radiusNum,"onUpdate:modelValue":g[0]||(g[0]=w=>n.radiusNum=w)},{append:ne(()=>[mt("公里")]),_:1},8,["modelValue"])]),Z("div",null,[J(_,{onClick:s,type:"primary"},{default:ne(()=>[mt("点")]),_:1}),J(_,{onClick:o,type:"primary"},{default:ne(()=>[mt("线")]),_:1}),J(_,{onClick:u,type:"primary"},{default:ne(()=>[mt("面")]),_:1}),J(_,{onClick:c,type:"primary"},{default:ne(()=>[mt("清除")]),_:1})])])])}}}),Zue=zt(Xue,[["__scopeId","data-v-b9b18c4e"]]),Que={class:"appMain"},Jue={class:"operation"},ece=re({__name:"heatMap",setup(t){const e=W(null),n=jt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null,heatmap:null});wt(()=>{console.log("dlsMapRef",e.value)});const i=()=>{n.heatmap.remove()},r=()=>{n.heatmap.show()},a=()=>{n.heatmap.hide()},s=()=>{let u=[{lat:39.258476,lng:110.219918,value:42},{lat:39.277398,lng:110.239745,value:46},{lat:39.319952,lng:110.092288,value:39},{lat:39.474548,lng:110.068417,value:36},{lat:39.437506,lng:110.056819,value:38},{lat:38.971221,lng:110.592357,value:40},{lat:38.95199,lng:111.097213,value:41},{lat:38.846696,lng:110.17917,value:42},{lat:39.352112,lng:110.189824,value:33},{lat:39.431853,lng:110.077273,value:30},{lat:39.351684,lng:110.161226,value:43},{lat:38.994047,lng:110.271835,value:44},{lat:38.733172,lng:110.170308,value:45},{lat:39.042436,lng:110.430257,value:46}];const c=new due(Cesium,n.viewer,u,{radius:30,maxOpacity:.9,minOpacity:.2,blur:.75});n.heatmap=c,console.log("heatmap",n.heatmap),n.viewer.flyTo(c.entity)},o=u=>{n.viewer=u,console.log("执行了",u)};return(u,c)=>{const h=At("el-button");return I(),K("div",Que,[J(d(vp),{mapConfig:{id:"dls-map-heatmap",imageryProvider:n.imageryProvider,sceneModeNum:3},ref_key:"dlsMapRef",ref:e,"viewer-width":"100%","viewer-height":"500px",onCesiumReady:o},null,8,["mapConfig"]),Z("div",Jue,[J(h,{onClick:s,type:"primary"},{default:ne(()=>[mt("加载热力图")]),_:1}),J(h,{onClick:i,type:"primary"},{default:ne(()=>[mt("移除")]),_:1}),J(h,{onClick:r,type:"primary"},{default:ne(()=>[mt("显示")]),_:1}),J(h,{onClick:a,type:"primary"},{default:ne(()=>[mt("隐藏")]),_:1})])])}}}),tce=zt(ece,[["__scopeId","data-v-70f38648"]]),nce={class:"appMain"},ice={class:"operation"},rce=re({__name:"rain",setup(t){const e=W(null),n=jt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null}),{addRainScene:i,removeRainScene:r}=GA();wt(()=>{console.log("dlsMapRef",e.value)});const a=()=>{i(n.viewer)},s=()=>{r(n.viewer)},o=u=>{n.viewer=u.viewer,console.log("执行了",u.viewer)};return(u,c)=>{const h=At("el-button");return I(),K("div",nce,[J(d(Lr),{mapConfig:{id:"dls-map-layer-terrain",imageryProvider:n.imageryProvider,sceneModeNum:3},ref_key:"dlsMapRef",ref:e,"viewer-width":"100%","viewer-height":"500px",onReady:o},null,8,["mapConfig"]),Z("div",ice,[J(h,{onClick:a,type:"primary"},{default:ne(()=>[mt("加载下雨场景")]),_:1}),J(h,{onClick:s,type:"primary"},{default:ne(()=>[mt("销毁下雨场景")]),_:1})])])}}}),ace=zt(rce,[["__scopeId","data-v-200590b1"]]),sce={class:"appMain"},oce={class:"operation"},lce=re({__name:"snow",setup(t){const e=W(null),n=jt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null}),{addSnowScene:i,removeSnowScene:r}=GA();wt(()=>{console.log("dlsMapRef",e.value)});const a=()=>{i(n.viewer)},s=()=>{r(n.viewer)},o=u=>{n.viewer=u.viewer,console.log("执行了",u.viewer)};return(u,c)=>{const h=At("el-button");return I(),K("div",sce,[J(d(Lr),{mapConfig:{id:"dls-map-layer-terrain",imageryProvider:n.imageryProvider,sceneModeNum:3},ref_key:"dlsMapRef",ref:e,"viewer-width":"100%","viewer-height":"500px",onReady:o},null,8,["mapConfig"]),Z("div",oce,[J(h,{onClick:a,type:"primary"},{default:ne(()=>[mt("加载下雪场景")]),_:1}),J(h,{onClick:s,type:"primary"},{default:ne(()=>[mt("销毁下雪场景")]),_:1})])])}}}),uce=zt(lce,[["__scopeId","data-v-54302580"]]),cce={class:"appMain"},dce={class:"operation"},fce=re({__name:"loadEcharts",setup(t){const e=W(null),n=jt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null,cesiumChartIns:null});wt(()=>{console.log("dlsMapRef",e.value)});const i=()=>{n.cesiumChartIns&&n.cesiumChartIns.dispose()},r=()=>{n.cesiumChartIns&&n.cesiumChartIns.show()},a=()=>{n.cesiumChartIns&&n.cesiumChartIns.hide()},s=async()=>{i();let p={animation:!1,GLMap:{},series:[{type:"effectScatter",coordinateSystem:"GLMap",zlevel:2,rippleEffect:{period:4,brushType:"fill",scale:9},symbol:"circle",symbolSize:function(v){return v[2]},itemStyle:{normal:{show:!1,color:"red"}},data:[{value:[116.4551,40.2539,10]},{value:[114.4995,38.1006,2]},{value:[117.1582,36.8701,4]},{value:[112.3352,37.9413,5]},{value:[113.4668,34.6234,1]}]}]};n.cesiumChartIns=await Xw(Cesium,n.viewer,p),Ew(n.viewer,[116.4551,40.2539,1e6])},o=async()=>{i();const c={黑龙江:[127.9688,45.368],内蒙古:[110.3467,41.4899],吉林:[125.8154,44.2584],北京市:[116.4551,40.2539],辽宁:[123.1238,42.1216],河北:[114.4995,38.1006],天津:[117.4219,39.4189],山西:[112.3352,37.9413],陕西:[109.1162,34.2004],甘肃:[103.5901,36.3043],宁夏:[106.3586,38.1775],青海:[101.4038,36.8207],新疆:[87.9236,43.5883],西藏:[91.11,29.97],四川:[103.9526,30.7617],重庆:[108.384366,30.439702],山东:[117.1582,36.8701],河南:[113.4668,34.6234],江苏:[118.8062,31.9208],安徽:[117.29,32.0581],湖北:[114.3896,30.6628],浙江:[119.5313,29.8773],福建:[119.4543,25.9222],江西:[116.0046,28.6633],湖南:[113.0823,28.2568],贵州:[106.6992,26.7682],云南:[102.9199,25.4663],广东:[113.12244,23.009505],广西:[108.479,23.1152],海南:[110.3893,19.8516],上海:[121.4648,31.2891]},h=[[{name:"黑龙江",value:0}],[{name:"内蒙古",value:0}],[{name:"吉林",value:0}],[{name:"辽宁",value:0}],[{name:"河北",value:0}],[{name:"天津",value:0}],[{name:"山西",value:0}],[{name:"陕西",value:0}],[{name:"甘肃",value:0}],[{name:"宁夏",value:0}],[{name:"青海",value:0}],[{name:"新疆",value:0}],[{name:"西藏",value:0}],[{name:"四川",value:0}],[{name:"重庆",value:0}],[{name:"山东",value:0}],[{name:"河南",value:0}],[{name:"江苏",value:0}],[{name:"安徽",value:0}],[{name:"湖北",value:0}],[{name:"浙江",value:0}],[{name:"福建",value:0}],[{name:"江西",value:0}],[{name:"湖南",value:0}],[{name:"贵州",value:0}],[{name:"广西",value:0}],[{name:"海南",value:0}],[{name:"上海",value:1}]],p=function(y){const _=[];for(let w=0;w<y.length;w++){const b=y[w],M=c[b[0].name],C=[116.4551,40.2539];M&&C&&_.push([{coord:M,value:b[0].value},{coord:C}])}return _},v=[];[["北京市",h]].forEach(function(y,_){v.push({type:"lines",coordinateSystem:"GLMap",zlevel:2,effect:{show:!0,period:4,trailLength:.02,symbol:"arrow",symbolSize:5},lineStyle:{normal:{width:1,opacity:1,color:"#00EAFF",curveness:.3}},data:p(y[1])},{type:"effectScatter",coordinateSystem:"GLMap",zlevel:2,rippleEffect:{period:4,brushType:"stroke",scale:4},label:{normal:{show:!0,position:"right",offset:[5,0],formatter:function(w){return w.data.name},fontSize:13},emphasis:{show:!0}},symbol:"circle",symbolSize:function(w){return 5+w[2]*5},itemStyle:{normal:{show:!1,color:"#32ff9d"}},data:y[1].map(function(w){return{name:w[0].name,value:c[w[0].name].concat([w[0].value])}})},{type:"scatter",coordinateSystem:"GLMap",zlevel:2,rippleEffect:{period:4,brushType:"stroke",scale:4},itemStyle:{normal:{color:"#ff0617"}},label:{normal:{show:!0,position:"right",color:"#0f0",formatter:"{b}",textStyle:{color:"#0f0"}},emphasis:{show:!0,color:"#f60"}},symbol:"pin",symbolSize:50,data:[{name:y[0],value:c[y[0]].concat([10])}]})});let g={animation:!1,GLMap:{},series:v};n.cesiumChartIns=await Xw(Cesium,n.viewer,g),Ew(n.viewer,[116.4551,40.2539,1e7]),console.log("cesiumChartIns",n.cesiumChartIns)},u=c=>{n.viewer=c.viewer};return(c,h)=>{const p=At("el-button");return I(),K("div",cce,[J(d(Lr),{mapConfig:{id:"dls-map-layer-terrain",imageryProvider:n.imageryProvider,sceneModeNum:3},ref_key:"dlsMapRef",ref:e,"viewer-width":"100%","viewer-height":"500px",onReady:u},null,8,["mapConfig"]),Z("div",dce,[J(p,{onClick:s,type:"primary"},{default:ne(()=>[mt("加载热力图场景")]),_:1}),J(p,{onClick:o,type:"primary"},{default:ne(()=>[mt("加载迁徙图场景")]),_:1}),J(p,{onClick:i,type:"primary"},{default:ne(()=>[mt("销毁")]),_:1}),J(p,{onClick:r,type:"primary"},{default:ne(()=>[mt("显示")]),_:1}),J(p,{onClick:a,type:"primary"},{default:ne(()=>[mt("隐藏")]),_:1})])])}}}),hce=zt(fce,[["__scopeId","data-v-e1dd96b6"]]),pce={class:"appMain"},mce={class:"operation"},vce=re({__name:"panel",setup(t){const{addPointEntity:e,removeSpecifyEntity:n}=Pd(),i=W(null),r=jt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null,dlsDivLabel:null,pointEntity:null});wt(()=>{console.log("dlsMapRef",i.value)});const a=()=>{r.dlsDivLabel&&(r.dlsDivLabel.removeAllDiv(".LayerTitle"),r.dlsDivLabel.removeAllDiv(".LayerPlane")),r.pointEntity&&n([r.pointEntity],r.viewer)},s=()=>{a();const c=e(116.4134,39.911,r.viewer,{type:"billboard",imgUrl:KA});r.pointEntity=c;let v={viewer:r.viewer,position:[116.4134,39.911],height:0,offset:[0,-90],dom:`
          <div class="title-model-style">
            设备名称
          </div>
        `,className:"LayerTitle"};r.dlsDivLabel=new Yw(v),r.viewer.flyTo(c,{duration:2,offset:new Cesium.HeadingPitchRange(0,-.5,500)})},o=()=>{a();let p={viewer:r.viewer,position:[116.4134,39.911],height:0,offset:[0,-90],dom:`
          <div class="ip-model-style">
            <div>信息1：value1</div>
            <div>信息2：value2</div>
            <div>信息3：value3</div>
          </div>
        `,className:"LayerPlane"};r.dlsDivLabel=new Yw(p),po(r.viewer,[116.4134,39.911,8e6])},u=c=>{r.viewer=c.viewer,console.log("执行了",c.viewer)};return(c,h)=>{const p=At("el-button");return I(),K("div",pce,[J(d(Lr),{mapConfig:{id:"dls-map-layer-terrain",imageryProvider:r.imageryProvider,sceneModeNum:3},ref_key:"dlsMapRef",ref:i,"viewer-width":"100%","viewer-height":"500px",onReady:u},null,8,["mapConfig"]),Z("div",mce,[J(p,{onClick:o,type:"primary"},{default:ne(()=>[mt("添加信息面板场景")]),_:1}),J(p,{onClick:s,type:"primary"},{default:ne(()=>[mt("添加标题面板场景")]),_:1}),J(p,{onClick:a,type:"primary"},{default:ne(()=>[mt("删除信息面板")]),_:1})])])}}}),gce=zt(vce,[["__scopeId","data-v-bfd7c981"]]),yce={class:"appMain"},_ce={class:"operation"},bce=re({__name:"photography",setup(t){const e=W(null),n=jt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null});wt(()=>{console.log("dlsMapRef",e.value)});const i=()=>{Xo({type:"warning",message:"正在开发中....."})},r=a=>{n.viewer=a,console.log("执行了",a)};return(a,s)=>{const o=At("el-alert"),u=At("el-button");return I(),K("div",yce,[J(d(vp),{mapConfig:{id:"dls-map-layer-terrain",imageryProvider:n.imageryProvider,sceneModeNum:3},ref_key:"dlsMapRef",ref:e,"viewer-width":"100%","viewer-height":"500px",onCesiumReady:r},null,8,["mapConfig"]),J(o,{style:{"max-width":"300px",top:"0.4rem",left:"0.4rem"},title:"暂无倾斜摄影数据",type:"info"}),Z("div",_ce,[J(u,{onClick:i,type:"primary"},{default:ne(()=>[mt("加载倾斜摄影")]),_:1})])])}}}),wce=zt(bce,[["__scopeId","data-v-5702de26"]]),Sce={class:"appMain"},Cce={class:"operation"},Ece=re({__name:"layers",setup(t){const e=W(null),n=jt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null});wt(()=>{console.log("dlsMapRef",e.value)});const i=()=>{Xo({type:"warning",message:"正在开发中....."})},r=a=>{n.viewer=a,console.log("执行了",a)};return(a,s)=>{const o=At("el-alert"),u=At("el-button");return I(),K("div",Sce,[J(d(vp),{mapConfig:{id:"dls-map-layer-terrain",imageryProvider:n.imageryProvider,sceneModeNum:3},ref_key:"dlsMapRef",ref:e,"viewer-width":"100%","viewer-height":"500px",onCesiumReady:r},null,8,["mapConfig"]),J(o,{style:{"max-width":"300px",top:"0.4rem",left:"0.4rem"},title:"暂无图层数据",type:"info"}),Z("div",Cce,[J(u,{onClick:i,type:"primary"},{default:ne(()=>[mt("加载图层1")]),_:1})])])}}}),xce=zt(Ece,[["__scopeId","data-v-953e2413"]]),Mce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAJD0lEQVR4nO3d71UcRxaG8fdGIBzBoggsR+AhAmsjWBzBKgMNGbARLESwKALfimBxBMYZjCLofdugWTRnqmb400BPPb9z7qmPfVTcR4NgQCEAVQQCNBAI0EAgQAOBAA0EAjQQCNBAIEADgQANBAI0EAjQQCBAA4EADQQCNBAI0EAgQAOBAA0EAjQQCNBAIEADgQANBAI0EAjQQCBAA4EADS8SyGA+5qBExEId84cqJf3sefP8sZp8fyd/wMiXPviYgxIEkiKQtckfMPKlDz7moASBpAhkbfIHjHzpg485KEEgKQJZm/wBI1/64GMOShBIikDWJn/AyJc++JiDEgSSIpC1yR8w8qUPPuagBIGkCGRt8geMfOmDjzkoQSApAlmb/AEjX/rgYw5KEEiKQNYmf8DIlz74mIMSBJIikLXJHzDypQ8+9vHVc+15Lde+808+u+UP1bmPD57XMj77nWcnf6wm39/JHzDype8bSInO/wbvnVcltecrmHdl8v2d/AEj/6EHH/soQSBd86qkCKSqBIF0zauSIpCqEgTSNa9KikCqShBI17wqKQKpKkEgXfOqpAikqgSBdM2rkiKQqhIE0jWvSopAqkoQSNe8KikCqSpBIF3zqqQIpKoEgXTNq5IikKoSBNI1r0qKQKpKEEjXvCopAqkqQSBd86qkCKSqBIF0zauSIpCqEgTSNa9KikCqShBI17wqKQKpKkEgXfOqpAikqgSBdM2rkiKQqhIE0jWvSopAqkoQSNe8KikCqSpBIF3zqqQIpKoEgXTNq5IikKoSBNI1r0qKQKpKEEjXvCopAqkqQSBd86qkCKSqBIF0zauSIpCqEgTSNa9KikCqShBI17wqKQKpKkEgXfOqpAikqgSBdM2rkuowkNR+uv7/OXxPxzLfwY065Ts49/HBs5PvaaGJvUgg+D8vwPi340LSsW5nobaUdKPbSS9F8YkXEh5MyEEc+fjF8/FunsPV3XxxMCufmAiBTMRhHEv67PnoOfJMYeW58pxFx5+WTYlAntm9ME71si5EKM+OQJ6JwzjyMYbxyfOalpL+5VBWPvFEBPIMHMdC0r89x3obbiT9GhEpPEl48ASO47OPpd6mpSM584lHCg8ewWEc+fiPZ6G3LSX93aGsfOKBCOQR7uL4zfPBMwfXnpMgkgcjkAeaYRzfXHtOgkgehEAeYMZxfHPtOQki2RuBPIADGeNYaN7SgZz4xB7Cgz04jqVuv89xCM4iYinsRCB7cBwL3X5qdUhOgu+T7EQgOziOIx//9RzrsNxI+smRrHyiIjxocCDnPv7pOURnwadaTQTS4DiOJf3hOWTvgzc4VhFIgwO5kPQPzyG7jIhTYSsCqXAcxzr8V49v3gevIlsRSIUDudDhv3p8cxm8imxFIFs4jiMff3jGswcrB/KDT2wgkC0cyKluf76jJ79GxIXwHQLZwoFc+fjF05MvDuSjT9xDIFs4kMFHb/g0awsC2eA2Fjq8t5Xs6yR4+8l3CGSDA1nqcN6U+FBnwXfWv0MgGxzIlY/e/v3xzWXw5d7vEMgGB5La85cnH6ASL/D7bueEQDY4kMFHtxwIO3EPl7HBfRAI1riMDe6DQLDGZdzjNo51+xaTnv3gRlY+YQRyD4H8hUDuIZANjmTw0S3HwU7cw2VscB8EgjUuY4P7IBCscRkb3EeKbxTiDoFscCAX6ucnCTddBm81+Q6BbHAgS/FmRdwhkA0OZKF+3+7+kwO59ok7BLKFIxl89Oar4zjyiXsIZAv3ceWjt7e8f3EgH33iHgLZwoGcil/aACOQLRzIkY8bSe88PfjqOMY/MzYQSIUjuVA/X+69DL68uxWBVDiQY/XzxsX3wa8e3YpAGhzJhQ7/VeQyePWoIpAGB3Ksw38VeR+8elQRyA6OZKnD/c76WfCd8yYC2cGBjF/dufb8zXNI/vR8cCArn6gID3ZwJAsd3ttPToLforgTgezJkSx1OJ9qnQWfWu2FQB7AkaTm/7MiJfiZj70RyAM4kCMfKelHzxz97lk4kJVP7IFAHmjGkRDHIxDII8wwEuJ4JAJ5pLtIrjxv/d8kxfOROB4nPHgCh7LU2/3q1lnw1aonIZBn4EgWki70dr6Z+Kfn1HGk8CThwTNwJEc+Pnk+e17Tmefccax84onCg2fkUI4lLfXy7wK+9Cwdxo3wbMKDCdwL5aPnnWcKXz1XHsKYCIG8AMdyqttQFnp6LGMUKYfhKC6ESRHIC3MsC92Gcqzb+dnTUjw3up10FCm8mPBMzkvxm499/O4F+OSzS76nIx/yHax8dMl3cO7jR89OvqcTH5MKz+T8hx587KMEb6TrmlcltftV9S/elcn3d/IHjPyHHnzsowSBdM2rkiKQqhIE0jWvSopAqkoQSNe8KikCqSpBIF3zqqQIpKoEgXTNq5IikKoSBNI1r0qKQKpKEEjXvCopAqkqQSBd86qkCKSqBIF0zauSIpCqEgTSNa9KikCqShBI17wqKQKpKkEgXfOqpAikqgSBdM2rkiKQqhIE0jWvSopAqkoQSNe8KikCqSpBIF3zqqQIpKoEgXTNq5IikKoSBNI1r0qKQKpKEEjXvCopAqkqQSBd86qkCKSqBIF0zauSIpCqEgTSNa9KikCqShBI17wqKQKpKkEgXfOqpAikqgSBdM2rkiKQqhIE0jWvSopAqkoQSNe8KikCqSpBIF3zqqQIpKoEgXTNq5IikKoSBNI1r0qKQKpWnmvPa+n6/ycZ+UN17mOv/59jIh88R56d/LGafH8nf8DIl75vIK+tROevYP5Qpfb8G/y1+WM1+f5O/oCRL33wMQclCCRFIGuTP2DkSx98zEEJAkkRyNrkDxj50gcfc1CCQFIEsjb5A0a+9MHHHJQgkBSBrE3+gJEvffAxByUIJEUga5M/YORLH3zMQQkCSRHI2uQPGPnSBx9zUIJAUgSyNvkDRr70wccclCCQFIGsTf6AkS998DEHJQgkRSBrkz8AmDMCARoIBGggEKCBQIAGAgEaCARoIBCggUCABgIBGggEaCAQoIFAgAYCARoIBGggEKCBQIAGAgEaCARoIBCggUCABgIBGggEaCAQoIFAgIb/AUEkawUcMcbYAAAAAElFTkSuQmCC",Tce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAACntJREFUaEO92meQ7UURBfDT5pxzzjnnnHMOZc45VfnJMny3VFABFZWiLEvEgIKFKCKogAIKioKIAqKiBEWCCBJUFMb729f/V8u+3bd7Lw+n6tbd8L8zc6a7T5/uuZU5xxjjykmunuRaSW6S5C5J7tmv2ya5Qf/vGkmummQkuTTJv5L8M8nfk/w1yYlJTuh3v5/vmar675xbWnq85v3QGMNGb5Xklv26U5K7J7lbkpsnuWYSYK+0Yn4bnAD9LckfG8TvkpyW5HSvqjpz3j3NDWSMcb0kj0jy6CQPTHKLJNdvKwBo80723H6/uC3CMizoWXMAekGS8/pZm/91kiOS/KSq/jIvmA1ZZIxx4yS3T3LfJI9L8sgkt0tySZKze0MX9ubOSuLFhbgS1+KK121XvFkDunb/zdxAmucXSX7Y7yx2RlWx4rpjXSANghWeneSh7VZO1cJ8/FdJft9+D8xFDUBMAAoIC1yt3c6mvQBwGA7nfv3zv5P8OckvZ4d1AOskObmqzLHVsSaQMQZ3EAcPbxDPSXLDJH/qjR/TIH7D36uKO214jDFY6TZJ7pXkQUke0HEG3H+SHJJkvySHWrOqWHfNsSqQBiGIH5MEAGCAOm5mle/0Sf0hiaA9p6qc/txjjCGmHA53M/+Dkzyz35HDUQ3m4CTHVxWLrTq2ANIg7jA7iScvA8G0v50F+v5t8mOqyqlt0zHGuGOvO4HhFdz3e7ND/YE9VBWS2GJcBsgY4yod1E9M8uIkD2kzH9aWODzJqeuZeVF0Ywz74W7c7ClJHtvMeNLMK77bgI6rKrF4mbESiAB8+syFXjpjjyc0iIOS7JXk4KoS4Ff4GGNgNHHz/PYK+Qk9f2NG+/tUFUbbKpBHzdjn7e2nJuObu88o96BFE9WiqMcY6BpbvqQP1+8C/3MzSx1YVdhx86g2JwYRcK+YZde3tXklpy8yaVWhxA2PnnPK7N7lgks2QqPLF2nql3xfleRZSbjUnkm+PHP9Y5e7GCD4nekE9+vaL1HsZ/pDpy2wAToLG8nk4k62P3s1317vdMYYN20Xe3fnHGzJS/aoKgS0NACRnGgllhAbtNK+ST5aVT9bb6HV/j/GIF1ImHs3kJNn7nF4VTmguccY4z69PwTEcwT+Tu3yS8kSkGnR93TekKW/5FVVp869qlS+aeGXdaCiUAeya1Vx17lHx8uTkrym2Uyw7yz4p0QMyMOaZt/RaCU8Pnh0VZ0z96qbgJjzXb0wZpSlP1hV319wPhKH4uYxb5l5CyL6eu9Tkr4YkLd2JkV1xN6nOzbOW7Q2GGPQZO/sIGUR7PehqpLUFhpdBz1vVrO8P8n9Z8z60yYjmuxMQGycaJP8ft4L8sGFxxhDfLyxqVPQm2+HqmKZhccY4/EzUfrepmOHvkeSL9B+gDC3Cu/WLT+c3OVdUGZ+Q6sDQEibnapKHlh4jDHMi5TE33VabexIvAJCMtM4XOBbST5ZVeTzwmOMceckXPblTcPibvuqOnrhSTfF3l37cOQVTEs6bad+AQQvYy5KVrLZrarUGAuPMcY9ZprsTR2cLEKOf7yqjlx40k1AKOSJvSTKYxvIkYCgWGWq2pnP7V1Vfl51dB0hSRF3PoeVcPny4kcJ8LSmcwyj8vtm66VpXp+btN4/uman5S5YqyocY9yoZcurl9HwDrN6aQnIGe1vtD/a3a+qTtkKEJ0T9QmpLV+QICpBMmQCRBehS8lLZmdtBzYVX5N8Qas+I3dhNnnmlKpS628xxhiUAlLiWs+Yua/a/lNIChDRL7tLWhLhAVWlq7GWRWzwqT0ZUWejahNAplaOeCNTaDjDxhRfnrNxnwHGcz7Hlfduma7mWLVQayCKr1f2QWojkVKXsQjqZZH917GIU5YnyH0SxGamDarguAuXw4Jiz6a5DJniHRD6znPeWVOcYkq5QVm7aiXYrSgWmYAQszL8EhC/WFgl9lW+XFVMvZZF0J740JibXGeyhJO3QRWmYLQoa6vr0fzxbQEAjMkiFAQdxhOUzqs26ZbFCNcSgz6zOUacBvXLxbDW7lWFDdYC4oS5jQ3a0CTTPT+1bljqhd20cEjyx+c7BjznM9M7C7Go5gKXungttd26UPUq2PUTHND2k0X4pzxiQsyy86Kqd0I+xtAZIfAURZhGzf2JqlIqLzw6P72o49Ma8t1HpmA/cEa7eJ8/M/92VYVBFh5jDEpBZifypsxOooiBhccYQ6ATjQ4IM8pPXGsps+/aIkz6n7SWTLzwGGOIDQvK7FyQRT62DQ5IKf6+dllxRQErfZe0FpUKqU4iOsPLe1aVJLXQWCbjBaVcoYFBw7H+wmOMIXd8oFlzynsO/QxAKEp0SozJwuJkt1mw6l0t2nhTj6hvAEEOgHx4USDdppKIWdi8EqPOzldaLVwIiDsNQCadj3oB2auq9JPmHmMM/Vxc/9x2LeJul0XF6BgDq6JzBKK3oEL8ZLeHzq+qSwBhBQyguOde8gQVjL10xuceYwx5Rsdeb8r8aFJLaU0Nt7VF+mBe30Gu9ybmdlxebgCC0yEGgunIDgsiAcnRBcxcY4yhgYF25RBJzz3IWWu1O9cBgSy0gsQyjccaxK0uyubEPfW1JDiZGkdzCaiVpVjhR1VF9P3fxxjDvsSbfpsOily3Tyfuo5bva3PLtE/RJY6CSPrXiwJGvBxyRTSt1zuZMQbXfO3svuQFLYsohM/qNLLycimzsvfrVoqLCSongau/1kGFxRbqqqy34ZX/H2OIU9WgZoPkh5DIJnvZdyO9X/4sUJnxzV1OUq3okw47rKpY6gobHbMSH1WgXFCkYc9d2q10PrcQlWtd9CiYxIoTMZE7CYlH64U2c/vqjnCbjbaCUlasKhEQDxIy3I7RVKyx/v3ItKsuZ+kvmVS/S3vHxtEo4ffjJcW5jVytUwCJRNGyhjxEyE5DdSkBfntJIK7iFVu9DO0mAjBTEUWoKS9Vk8pS9Cduputo9fZW1UDfiMktLlTRM5p2b0ifAcEirgyUF2hbFtcjMK8uDM84YmUVux4Q8sIiLCKjWgghmJQuA4r/AoTfnZxC7dyVdXf7vk1xH3HoxAW0Lxr423RtrYpkcUnPfFS5gySl5BTCVlmskt2c49a9nmbb9l8n5ipMwlQBWsDErKGyc4KaFn7mhnx5KoElXc+yABBYSOwBA4DSVhPExqe79kMJ116bV4gZ6UEfAFDVLLWwdHezISANhitoPDC9ChA982t/s1FqGaMBYGNTQ0ISsw7r2gRq9ZruTlhA7KlVUKw7D/eUm5PwGEP97xAlbH0tilpRhUk1S07fMJBlRGAS7iZZsRJS4MOyMGniZcNeNm8NJfDUSVHSTl8qYE1ySLeTJU5a6zKoy1zuJa8ghcky3OzEuYG0dXzO5rnFpKnIGi9/VxVO3xICHAgW43K+d8KN9AgEs78tfe1jrX7WskNkGSpYP0DMOijXCicsBGS15NG+DABg3rmiuJiATF+24Uqu4eb6psQyMHKLG2cxw0LWOm2bAVmRg5hdh2Wlay25l/rh8mTSMQbm1E3hZsjnom0OpF1P8K/8vpY4uXTei9U1rM/aLnsoDyRw6f8AhKPS81Nn0jAAAAAASUVORK5CYII=",Ace="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAsCAYAAAAacYo8AAAAAXNSR0IArs4c6QAACIZJREFUaEPF2eevbVUVBfAx7b333nvX2HtvscYaS2KMHzRqojH+A8aED3zRWEIUK4ooNrAiCmJFidhp0kQexQL4RPCpy/17mfvlvMu5956H911WcnJuOWfvseYac8wx566suMYY10xygyS3T3KXJPdOcvckd01yuyS3THLdJFdbuOR/k/w9yV+TnJPkrCQnJzmp3/+S5PKq2rUijD0fq1W+MMbwudskuUOSezTYe/X7nft/197gWpcnOTfJ2UlOa9A28MckO5JcUFU2ufJaFThwT0jy6CQPSHKrJDdJcuMk11tzt/8kEUEndPU1//tHkov69eckv01yXJKfJjmzqsaqyNcFPsZw5ACiw8OTPLWB37qBufHfkuxM8s9+B8zPM/DrJ7lhU8gG/X7TppVN+f53kxyT5Pgkp1eV6266NgJ+pySPTfLsJA9Jcse+Kc7+Ickv+8hxVxT9/V9J/p3Esdu4qF+rT0UQ5IfceGifHICAos9PegPHVZWc2HBdAfgYQ2Tc4DFTFJ6b5PkdqQtFJMnvOrl+0zc8t6pEfcM1xkCr23aOPCjJw/pniX2jTl60+VpT55yNqLMX8DEGVZB0j2/Qj2i6XJrkyInnRycB+IJWiourCqdXWmOMa3Re3Lw38cCJKk/sIN2ir/mzvtc3q8ppLl1rgVMNEX7RdGxPTkIpTknyoyRfT/LDqqIOW7LGGOjnZJ/RyU+x5Mn3Jkp91v2SnL9MLvcA72jb/RunTH9a8/nM6Tg/3aAlzvlbgnjhImMMyY7zz0vyrCR3S0LfJewRNlFVf1p7393AxxjXSeLYXjlJ1Ms6ERULUT64qn6+1YAXrzfGIK2k9gVNUfIrSF+easdHkpywlu81xkAHRwb0azthcNiXvpjkB1VF4vbrGmPcrOnyuo4+XKhy0LQpfIdpzwKc7N1/Op63Ttn8nObYsdNmPkpjq4rUbcsaY8gxSvaa6bQf2clKZfD9+EX1AlwykqfXd7Ghz1+YqHN4VUnMbVtjDEUJTV4x2YM3tCdiCz6V5JBFPIC/p/n9uK56X5lO4POTspxYVRdvG+q9E1aVflsnq/yTpO9PcmxVKXIB/Kimisom2u+bshx4Gr2yd9jKDY4x7tl0kXfqyomTkfvwVLS+muQ8uAAneY7Hson3VhUpusrWGEMQnzJZild1geJpDmsmqNyXA44OSq516GSKDtzf8rdZRFrp7tdcf3nj+85CUbpoBs7BUQ9JQLdRZtPVDtLnVqHUXOzGKhQcY/A1L+2CiDonNHC1ZQfgjoHdZOw/meRLVcWtXWF1Q0FfeRrdEPdnbdYEAD0D5214n0uqSoOxdHUlf0knKc8E0yFJPqchAZywA85WKu9HrWduujyTTmWZi2Sa9iXiwAPuntq3M5x0VbHCe62WxhdOdvmdba/Pa3yCezrgSivJ+X7/45j1PMkYw85VNt0Q0Ct1UGsx6XYmB4qzCt0pVeUElp2wGvPudquoLLAK42kzcMc/A6eVS83UGENj8eZ2c74zN8arcBwwn/fZU1tyv8UmVxVHuBlwIjIDP3Ux4j/u5FTmNbDLLkRT2QLlmDHS3azC8flacgJVNCSirV07ey4qS+iCKu+a6Ks46pRw/GM6MMD9AV8pySc4wqrSjS8Drouh+XMbB/jM22VfWfu3GbhuSrJpFHYuU5nm+IunJH5HO0elH3CvMwDX39FxNhbww6pK4iwDzkvMqvL/UIWaoMdl640lutWjKm9pS6LwfIbq2TDgl3Qn7p0L+9CqOr5KiK/MZzraXKviw/zpgXVh8EnqC2eOK7G0mIU8oKr44KtsdbSNRHgVnZGEZrSUfYVoJ+C/aF1WPWn5AW3c1y0O+3tHYwwRRpNXd1uHxmTw8E7mXYB/fNoJX2BCJSkPbh6dtV62bwNwPejbk1AV6kXxDuxWUl7sdod02QdlsOTjDGXut6sK77d1jTFMunRB/PjcBaHJB6rK6GL3AlyTCrjsvS/itx84qKrM9rZtLXBbw25Ewg+hr47syMVuH3CJeZ9pmvqmroh+lwAo48NLNX2rd9NjbHR18l5+pvUkUGNz8mKFBRw9gDWUsUszFT7EBJU/V5DWnShtxQZ6wsW4wUACUYR/YmE/2PS9dLFQzXMVFdCw3kBG1/GoHl4aubGRyrPSvJl93ed9dNMAtGHUM9tQuQ6bbTxyRFUZsu61FidZwOM67TSYcTGOjJ+QHCLPY2zZ6kjLK20avTYVNl9RR+ZiY/h5BWleOzv0OIShEXmzQ52HKKtaeOadczTPu9JDojGGpHMvp8xxPr0jPft7oLWQcm3pWguc7TQ1tXNe2AUlLl/B9P+qNVWmS5ZNx8tr7zrGMKl1TZXR68ELBXD++Dd6HHH0erVkaSOwMMt7UkfCjWxI6XWMXqRS9LV+85MIR6qb8TlBmE2ZDkuUuct5ciaPnKg2kNFTM+aHY8SA/eDXzS2NJPbKr42eSOCaJ2puQGm83Fi3wq+7GdAmqUbP2jE5gULAO3agVD7De4CplwIj6qa0wMxPI5R1ltkpG8W5roJjliJQKvmehmXD1qu7+Bm8do01wE3RtzERBVTk9YQ2sgiczweU9/ByP8+H9ABGyZJdREmvYOC8JCWLxEGQSCLq+Axl88hm855xQeeNC0QNeCNpBcKNHK91mUHNAlWAFHV6PD9K9P/f92Tq1/3QgNTZNLoxegawPAo9F3mV3CSLndVeavV27lOz25vw1ICEeXki53g1IsDNjwhd17GijAgDrGdEKQ0B0DawY23yta6jJ+B03T3kCxcr8qT5nH0CLqytvY4fd73PtMF/EZs7I6CdAuXBfdRAJS8/G0ssbbLHGK5DbZgt5Z84CACXyACetM/AF8DPjwLdRMRtAm1QQ4Rm4DgJOMA4C8CujR56dW55kq0wMVzefc+DM5Pkk/4HIFYQJinhQjEAAAAASUVORK5CYII=",kce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAHtUlEQVR4nO3c63HbRhSG4bMVxKogTAWWKghZQcYVZF2BlQpiVRCrgkgdqIPQFUSpIEwHTAXMt5nAE190DFDAYi/vM7NzfpkEwH1N8SIFA/AkAgEcBAI4CARwEAjgIBDAQSCAg0AAB4EADgIBHAQCOAgEcBAI4CAQwEEggINAAAeBAA4CARwEAjgIBHAQCOAgEMBBIICDQAAHgQAOAgEcBAI4CARwEAjgIBDAQSCAg0AAB4EADgIBHAQCOAgEcBAI4CAQwEEggINAAAeB4IPT6bQxszdal1pbM9ub2aPWbQjhYB0iEPxLcUQz+1XrKdeK5FazKwSCMXEMXocQ7qwjBNK5CXEkR63vQghpdoFAOjYxjsFPCuSdZhcIpFNnxpG8DyFsrRME0qFnxJG8DwSCVj0zjuQ+hBCtEwTSkRniSF6Hjt7JIpBOzBTHXyGEjXUkaKFxM8Xxt9ZWgTxqdoNAGkccz0MgDSOO5yOQRhHHPAikQcQxHwJpDHHMi0AaQhzzI5BGEMcyCKQBxLEcAqkccSyLQCpGHMsjkEoRRx4EUiHiyIdAKkMceRFIRYgjPwKpBHGsg0AqQBzrIZDCEce6CKRgxLE+AikUcZSBQApEHOUgkMIQR1kIpCDEUR4CKQRxlIlACkAc5SKQlRFH2QhkRcRRPgJZCXHUgUBWQBz1IJDMiKMuBJIRcdSHQDIhjjoRSAbEUS8CWRhx1I1AFkQc9SOQhRBHGwhkAcTRDgKZGXG0hUBmRBztIZCZEEebCGQGxNEuAnkm4mgbgTwDcbSPQM5EHH0gkDMQRz8IZCLi6AuBTEAc/SGQkYijTwQywkxxJDchhLeGahDIV8wYR3LU2gWeQapBII6Z4xikOHYhhKMmCkcgT1gojsGDAnmlicIRyBcsHMfgJvB6pHgE8olMcQxeKZIHTRSKQP4ncxzJUeu7wOuRYhHIf1aIY3AfQoiGIhGIzBTH31p3ZvZGa6pdCGFvKE73gcwYx1ab/FG3d2dmP2pNcTCzK/17ftQqTNeBaDNHmzEOzXSbLzT2ZvZSa4qbwLtaxek2EG3kaDPHMdBtX2rszewbrSnSs8ijJgrRZSDawNEWimNw5n3sdXs7TRQiaHXlzI37KTeOge7rQeMHrSl2gRfsxegqEG3YaJniSHR/LzQONu1Hrb1ue6eJAgStLmizRssYx0D3e63xi9YUu8CzSBG6CESbNNoKcQx0/+nfvNQaa6/72WliZUGradqc0VaMI9ExXGr8rjXFLvAssrqmA9HGjLZyHAMdy51N+wDxPvAVlNU1G4g2ZLRC4kh0PBsz+1Nrigvd91ETK2kyEG3GaAXFMdBx3dm0Z5GfdP/vNLGS5gLRJoxWYByJju1SY8prkUcdw5UmVtJUINqA0QqNY6Bj3JvZ91pjXS11LPi6ZgLRxotWeByJjnNrZr9pjXUfeLG+miYC0aaLVkEcAx3vwcy+1RrjqGO60MQKqg9Emy1aRXEkOuZ3Gm+0xtoFPhNZRdWBaKNFqyyORMe9sWlv+d4EfldkFdUGok0WrcI4Bjr+dJ8vtcZ4H0LYGrKrMhBtrmgVx5HoHK41ftEa60LHetRERtUFoo0VrfI4Ep3Hxqb9mPVKx/ugiYyqCkSbKloDcQx0Pgcb/27WrY75WhMZVROINlO0huJIdE53Nv6rJ4867itNZFRFINpI0RqLI5l6Xjr2Kh6vlhR/waduoicUF0eic9vYtNchV6WdQ+uKDkQbKFqjcQx0jgcb/zpkF/jAMKtiA9HGidZ4HInOc2/jv7x4E/jAMKsiA9GmidZBHInO9Z3GG60x7gNfXMyquEC0YaJ1Ekei831rZj9rjfE+8Il6VkUFos0SraM4Ep3z1iZ8/V3nVdRj1rpiLrY2SrTO4kh03hub8E6Wzq2Yx6wHRVxsbZJoHcYx0PmfNEbR+RXxmPVi9YutvRGt4zgSXYOTxlgXOs+jJjJYNRDti2idx5HoOpw0xtoFPgvJZrVAtCeiEce/dC2OGt9ojbELBJLNKoFoQ0Qjjg90PfY2/sPCXSCQbLIHos0QjTg+omuyNwIpUtZAtBGiEcdndF32RiBFyhaINkE04vgiXZu9EUiRsgSiDRCNOJ6k63PSGGsXCCSbxQPRYx+NOFy6RieNsXaBQLJZNBA97tGI46t0nU4ao+g6LPqY4WOLXWw95tGIYxRdq5PGKLoWiz1m+NwiF1uPd7TnxwE8x8HMHrRu9X/Kwc40eyCKY2sTvr4NLOyo9Tqc+TfFlgjkT42NAWW5UiSPmpMErdkojkuN37WA0pz1d8XmDuStjf/1USC3yc8iBIKe3ISJfxWGQNCTm7ByIJcavAZBqV6HEO5sglkDSRTJ3sZ/8Q7I6UKBHDVHWyKQS429jf8NOSCHmzDxx6tk9kASRbIxszvjmQRl+ENxpP+4J1skkIFCiWb21sb/cWZgbreK41rzLIsGMlAoWzO71HqhBeRwMLMHxXHUPFuWQIBaEQjgIBDAQSCAg0AAB4EADgIBHAQCOAgEcBAI4CAQwEEggINAAAeBAA4CARwEAjgIBHAQCOAgEMBBIICDQAAHgQAOAgEcBAI4CARwEAjgIBDAQSCAg0AAB4EADgIBHAQCOAgEcBAI4CAQwEEggINAAMc/eweg9t0UYKIAAAAASUVORK5CYII=",Ice="data:image/svg+xml,%3csvg%20t='1640736442636'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='2957'%20width='32'%20height='32'%3e%3cpath%20d='M294.8%2022.8L23.2%20294.3c-12.5%2012.5-12.5%2032.8%200%2045.3l656.2%20656.2c12.5%2012.5%2032.8%2012.5%2045.3%200l271.5-271.5c12.5-12.5%2012.5-32.8%200-45.3L340%2022.8c-12.5-12.5-32.8-12.5-45.2%200z%20m-198%20288.5l215-215c3.1-3.1%208.2-3.1%2011.3%200l33.9%2033.9c3.1%203.1%203.1%208.2%200%2011.3l-96.2%2096.2%2045.3%2045.3%2096.2-96.2c3.1-3.1%208.2-3.1%2011.3%200l22.4%2022.4c3.1%203.1%203.1%208.2%200%2011.3l-62.2%2062.2L419%20328l62.2-62.2c3.1-3.1%208.2-3.1%2011.3%200l22.4%2022.4c3.1%203.1%203.1%208.2%200%2011.3l-62.2%2062.2L498%20407l62.2-62.2c3.1-3.1%208.2-3.1%2011.3%200l23.1%2023.1c3.1%203.1%203.1%208.2%200%2011.3l-96.2%2096.2%2045.3%2045.3%2096.2-96.2c3.1-3.1%208.2-3.1%2011.3%200l22.4%2022.4c3.1%203.1%203.1%208.2%200%2011.3l-62.2%2062.2%2045.3%2045.3%2062.2-62.2c3.1-3.1%208.2-3.1%2011.3%200l22.4%2022.4c3.1%203.1%203.1%208.2%200%2011.3l-62.2%2062.2%2045.3%2045.3%2062.2-62.2c3.1-3.1%208.2-3.1%2011.3%200l23.1%2023.1c3.1%203.1%203.1%208.2%200%2011.3l-96.3%2096%2045.3%2045.3%2096.2-96.2c3.1-3.1%208.2-3.1%2011.3%200l33.9%2033.9c3.1%203.1%203.1%208.2%200%2011.3l-215%20215c-3.1%203.1-8.2%203.1-11.3%200L96.8%20322.6a7.85%207.85%200%200%201%200-11.3z'%20p-id='2958'%20fill='%23ffffff'%3e%3c/path%3e%3c/svg%3e",Pce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEy0lEQVR4nO2YXWxURRTHb1u1FiPaQq0SxKQFjKE+8OVHNYBQU0UMvlQ0UfwKKBi5INtWqFDElhZBrY/GF+MTT0pCTHjQB40PSkL8iB9RExM0MdGgJajxs/mZ2f4njNPZ7V33drtN9iST3f+5Z86cc++Zc85MFFWoQhWqULEEVAH3alRF05GApcB7wO8a5v/SaLoQMAt4CfgHOAY0A3OB14BR/V4elSsB5wMxcAb4HOgIyKwCPgJ+BfYBF0blREA78Bnwk5ypySNbDWwEfgC+BjpLa22AgKuBN4G/gZeB2QXMvRQYAv4A3gaujUpNQL2M+BN4C2gtQtdC7SX7MhrTtTZ/WPwIfJVmWCg8PwV+Vniel5Zuf6FbgI+BX7RRayc5YXwB3J6m8iu91NmUmvLkKbylGGUX6c2bYvY+cH2q1iazYTHwDvCXHJtZaFvRCXwLfKc9MaXtBXAn8A3wPbA5X3p3J50AfgP2AnVRmRBQJ5uMbSeSTDB0tNwaPc41oMY2kkxArcRyxeWNJbE0v01LZMvNsi2xI0dMY6e68QBwYCoaPcZsOCAbqoWPJHVkJfAhcBboMfUCuBjoBbZPRv0I2FCrtXq1dq1sOSvbViZR0gi8oi/zJXAYWK9n8108SU6s1xotHjadBLJt4jYGGFGqu1XjRWCbfluddmIYWJSiA4u0Rrtwq3Cstaw9xraRJAqt16YYNpieB3gM6Ad2Ac94/CwuwoEG6XhUOmcJm7UGgC3iN8imbLQkdWSVOtw+4HEpqlec7lLs7gAucPhZXIADRufDekGNDh7SGofFN5v8Pgcnzloj6kL9T7zGC4E4EArDFk+wRrvmZkPTCeFYOmwIrwmEdLZDLnSzv+FtukOBTfikfud7/HGNnuHlSB5Gx/PAXY7cIUeuRbbYsJ9daPo9qbZgt5MGt3s4Vkzv8dKlmz5t+o71bCbwtMZ+m9YZk9sdwHtlS0HpF6W6OU5BMjE7qAbSFqYBr1ANaK8MevxhDVtgH5RMj3Rf4RTeAUduo+SecvhzbBpO6shOLd4m3jK1CHGAH8LbJN+mzWnGTeI9od/lmtOmOcs8HOfg7yzEkbVq0u5RFpnrYBO73QG+jw8CXcDrGhngOduMSnZIsi7ukpzPt3htUkf+08YDM2R4xsE9yun7PH53AO/R6NFhrU4y3ZKx2Ojqk9yMHHIFtfE2Xs0h5hRwt97EPL2p7IWDg7ty8F18lf536tk8D2cC/IOaWyUbTsmm7P6b0JEcR90PgBvEv04x7mO7L8bJ6chq4nuFni329oHPX1H0UTfgULNifFQ5vElfzVblyxw8qAzn8ns1qsXrVyYa1BzLfxZ4SLhJa41q7eb/7UCe6yB7b1urr5aRYS7ul/GG36HKvdVJ5abuXKLrn60ejp3roNtSc8BzpkZN3Gnl83XiL1BldvELqtiv6hpph3gLJXOHqvoC4XXSeVprTHzBkIJD9YpZE7vHgWvE75CxLh5Wv5R9u+aZZDocfNzZB/WT7kDAoXFGOOHSJ1yjYbvpLZIJvowppVBY6Fxh+qhNGvvFC4Zn2RBjZ5OMNuonwGqnJtiaslrPzkg28fml5BS4t30EuL/U98dp30W9yzky/5dE05EYay82aJTNrWWFKlShaPrSv5x1UAyTuUYIAAAAAElFTkSuQmCC",Rce="/dls-map-doc/assets/earth.BhF7rW5a.png",Lce="data:image/svg+xml,%3csvg%20t='1640736256645'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='2514'%20width='32'%20height='32'%3e%3cpath%20d='M876%20330.57H596.89V225.71c0-26.24-23.18-47.59-51.67-47.59h-66.28c-28.49%200-51.67%2021.35-51.67%2047.59v104.86H148a28.07%2028.07%200%200%200-28%2028v138a28.07%2028.07%200%200%200%2028%2028h67V898a27.9%2027.9%200%200%200%2027.87%2027.87h538.42A27.9%2027.9%200%200%200%20809.17%20898V524.66H876a28.07%2028.07%200%200%200%2028-28v-138a28.07%2028.07%200%200%200-28-28.09zM481.66%20232.5h60.84v98.06h-60.84z%20m273.12%20639H269.39V524.66h485.39z%20m94.83-401.26H174.38V385h675.24z'%20p-id='2515'%20fill='%23ffffff'%3e%3c/path%3e%3cpath%20d='M339.92%20655.18h54.39v196.47h-54.39zM484.89%20600.12h54.39v251.53h-54.39zM622.22%20655.18h54.39v196.47h-54.39z'%20p-id='2516'%20fill='%23ffffff'%3e%3c/path%3e%3c/svg%3e",Nce={class:"appMain"},Oce={class:"operation"},Dce={class:"tools-item"},Fce=["onClick","src"],Bce={key:0},Uce={class:"map_item"},Vce={key:1},zce={class:"eye"},$ce=re({__name:"tools",setup(t){const e=W(null),n=jt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null,toolsData:[{img:Tce,name:"ZoomIn",methods:()=>o,content:"放大"},{img:Ace,name:"ZoomOut",methods:()=>u,content:"缩小"},{img:Pce,name:"Layers",methods:null,content:"切换图层"},{img:Rce,name:"Earth",methods:()=>h,content:"切换视角"},{img:Mce,name:"BackCenter",methods:()=>p,content:"中心点"},{img:kce,name:"PitchDegrees",methods:()=>v,content:"倾斜角"},{img:Ice,name:"Line",methods:()=>g,content:"测距"},{img:Lce,name:"Clear",methods:()=>y,content:"清除"}],pitchValue:-11,lineEntity:null}),i=W(null),r=[{mode:Cesium.SceneMode.SCENE3D,type:"3d"},{mode:Cesium.SceneMode.SCENE2D,type:"2d"},{mode:Cesium.SceneMode.COLUMBUS_VIEW,type:"2.5d"}],a=b=>{kle(n.viewer,b)};function s(){const b=n.viewer.scene.mode;return r.findIndex(M=>M.mode===b)}const o=()=>{n.viewer.camera.zoomIn(1e6)},u=()=>{n.viewer.camera.zoomOut(1e6)},c=b=>{switch(n.viewer.imageryLayers.removeAll(),Cesium.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJmYThlOTk4Mi1iY2QyLTRlZTItODJjOS0zOWFmOTA5ZTZlZjAiLCJpZCI6NDUyNTUsImlhdCI6MTcyMTI5NDMyNX0.k0XVbL506OHCyG7gI3KTdmMn3wwTYig3k6hJnWuvJag",b){case 1:n.viewer.imageryLayers.addImageryProvider(new Cesium.UrlTemplateImageryProvider({url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}"}));break;case 2:n.viewer.imageryLayers.addImageryProvider(new Cesium.UrlTemplateImageryProvider({url:"https://webst02.is.autonavi.com/appmaptile?style=10&x={x}&y={y}&z={z}"}));break}},h=()=>{let b=s();b=(b+1)%r.length;const M=r[b].type;console.log("type",M),Ile(M,n.viewer)},p=()=>{po(n.viewer,[116.4134,39.911,11e6])},v=()=>{},g=()=>{n.lineEntity=Nle(n.viewer,"lines",[255,10,255],5)},y=()=>{n.viewer.dataSources.removeAll()};wt(()=>{console.log("dlsMapRef",e.value)});const _=b=>{b.methods&&b.methods()(b)},w=b=>{n.viewer=b.viewer,console.log("执行了",b.viewer)};return(b,M)=>{const C=At("el-input"),x=At("el-tooltip");return I(),K("div",Nce,[J(d(Lr),{mapConfig:{id:"dls-map-layer-tools",imageryProvider:n.imageryProvider,sceneModeNum:3},ref_key:"dlsMapRef",ref:e,"viewer-width":"100%","viewer-height":"500px",onReady:w},null,8,["mapConfig"]),Z("div",Oce,[(I(!0),K(ut,null,Ut(n.toolsData,(T,k)=>(I(),we(x,{key:k,class:"box-item",effect:"light",ref_for:!0,ref_key:"tooltip",ref:i,content:T.content},{content:ne(()=>[T.name==="Layers"?(I(),K("div",Bce,[Z("div",Uce,[Z("div",{onClick:M[0]||(M[0]=R=>c(1)),class:"map-type"},"卫星图"),Z("div",{onClick:M[1]||(M[1]=R=>c(2)),class:"map-type"},"电子图")])])):he("",!0),T.name==="PitchDegrees"?(I(),K("div",Vce,[J(C,{modelValue:n.pitchValue,"onUpdate:modelValue":M[2]||(M[2]=R=>n.pitchValue=R),onKeydown:M[3]||(M[3]=mn(R=>a(n.pitchValue),["enter"])),placeholder:"请输入倾斜角"},null,8,["modelValue"])])):he("",!0)]),default:ne(()=>[Z("div",Dce,[Z("img",{onClick:R=>_(T),src:T.img},null,8,Fce)])]),_:2},1032,["content"]))),128))]),Z("div",zce,[J(d(voe),{"base-map":{width:"200px",height:"150px"},"marst-viewer":n.viewer},null,8,["marst-viewer"])])])}}}),Hce=zt($ce,[["__scopeId","data-v-b9591da5"]]),Gce="/dls-map-doc/assets/huaxiangji.BKta7H2g.png",Wce={class:"appMain"},Kce={class:"plot_list"},qce=["onDragstart","onDragend"],Yce=["src"],jce={class:"operation"},Xce=re({__name:"positionMove",setup(t){const{addPointEntity:e}=Pd(),n=W(null),i=jt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},coords:{},currentIndex:null,viewer:null,iconData:[{title:"图标平移1",type:"billboard",url:Xs,icon:Xs},{title:"图标平移2",type:"billboard",url:Xs,icon:Xs},{title:"模型旋转",type:"model",url:"/public/huaxiangji.glb",icon:Gce}],editB3dm:null});wt(()=>{console.log("dlsMapRef",n.value)});const r=()=>{i.editB3dm&&i.editB3dm.destroy()};function a(u,c){console.log("拖拽开始",u,c)}function s(u,c){const h=ru.getLatLonFromScreenPosition(i.viewer,u.layerX,u.layerY);let p={alt:10,lat:h.latitude,lng:h.longitude};if(i.editB3dm&&i.editB3dm.destroy(),c.type==="billboard"){const v=e(p.lng,p.lat,i.viewer,{type:"billboard",imgUrl:c.url});i.editB3dm=new Jw(i.viewer,v,{radiusNum:100,arrowLength:120,dStep:1,rStep:1}),i.editB3dm.editTranslation()}else if(c.type==="model"){const v=e(p.lng,p.lat,i.viewer,{type:"model",modelUrl:c.url,modelScale:20});i.editB3dm=new Jw(i.viewer,v,{radiusNum:100,arrowLength:120,dStep:1,rStep:1}),i.editB3dm.editRotation()}}const o=u=>{i.viewer=u.viewer,po(i.viewer,[116.4134,39.911,1e3])};return(u,c)=>{const h=At("el-button");return I(),K("div",Wce,[J(d(Lr),{mapConfig:{id:"dls-map-plot",imageryProvider:i.imageryProvider,sceneModeNum:3},"viewer-width":"100%","viewer-height":"500px",ref_key:"dlsMapRef",ref:n,onReady:o},null,8,["mapConfig"]),Z("div",Kce,[Z("div",null,[(I(!0),K(ut,null,Ut(i.iconData,(p,v)=>(I(),K("div",{draggable:"",onDragstart:g=>a(g,p),onDragend:g=>s(g,p),class:"dataBox",key:v},[Z("img",{src:p.icon},null,8,Yce),Z("span",null,Ne(p.title),1)],40,qce))),128))])]),Z("div",jce,[J(h,{onClick:r,type:"primary"},{default:ne(()=>[mt("关闭编辑")]),_:1})])])}}}),Zce=zt(Xce,[["__scopeId","data-v-e5f87dda"]]);/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const jy="161",Qce=0,eS=1,Jce=2,YA=1,ede=2,ys=3,vo=0,Ir=1,Wa=2,to=0,vu=1,tS=2,nS=3,iS=4,tde=5,$o=100,nde=101,ide=102,rS=103,aS=104,rde=200,ade=201,sde=202,ode=203,kg=204,Ig=205,lde=206,ude=207,cde=208,dde=209,fde=210,hde=211,pde=212,mde=213,vde=214,gde=0,yde=1,_de=2,Rh=3,bde=4,wde=5,Sde=6,Cde=7,Xy=0,Ede=1,xde=2,no=0,Mde=1,Tde=2,Ade=3,kde=4,Ide=5,Pde=6,jA=300,zu=301,$u=302,Pg=303,Rg=304,_p=306,Lg=1e3,Ea=1001,Ng=1002,dr=1003,sS=1004,Cc=1005,Sr=1006,wm=1007,Zo=1008,io=1009,Rde=1010,Lde=1011,Zy=1012,XA=1013,Zs=1014,ws=1015,dd=1016,ZA=1017,QA=1018,il=1020,Nde=1021,xa=1023,Ode=1024,Dde=1025,rl=1026,Hu=1027,Fde=1028,JA=1029,Bde=1030,ek=1031,tk=1033,Sm=33776,Cm=33777,Em=33778,xm=33779,oS=35840,lS=35841,uS=35842,cS=35843,nk=36196,dS=37492,fS=37496,hS=37808,pS=37809,mS=37810,vS=37811,gS=37812,yS=37813,_S=37814,bS=37815,wS=37816,SS=37817,CS=37818,ES=37819,xS=37820,MS=37821,Mm=36492,TS=36494,AS=36495,Ude=36283,kS=36284,IS=36285,PS=36286,ik=3e3,al=3001,Vde=3200,zde=3201,rk=0,$de=1,na="",zi="srgb",Ts="srgb-linear",Qy="display-p3",bp="display-p3-linear",Lh="linear",Qn="srgb",Nh="rec709",Oh="p3",Fl=7680,RS=519,Hde=512,Gde=513,Wde=514,ak=515,Kde=516,qde=517,Yde=518,jde=519,LS=35044,NS="300 es",Og=1035,Ss=2e3,Dh=2001;class ac{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const a=r.indexOf(n);a!==-1&&r.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,s=r.length;a<s;a++)r[a].call(this,e);e.target=null}}}const qi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Tm=Math.PI/180,Dg=180/Math.PI;function Ld(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(qi[t&255]+qi[t>>8&255]+qi[t>>16&255]+qi[t>>24&255]+"-"+qi[e&255]+qi[e>>8&255]+"-"+qi[e>>16&15|64]+qi[e>>24&255]+"-"+qi[n&63|128]+qi[n>>8&255]+"-"+qi[n>>16&255]+qi[n>>24&255]+qi[i&255]+qi[i>>8&255]+qi[i>>16&255]+qi[i>>24&255]).toLowerCase()}function Cr(t,e,n){return Math.max(e,Math.min(n,t))}function Xde(t,e){return(t%e+e)%e}function Am(t,e,n){return(1-n)*t+n*e}function OS(t){return(t&t-1)===0&&t!==0}function Fg(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Ec(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function br(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}class An{constructor(e=0,n=0){An.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Cr(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),a=this.x-e.x,s=this.y-e.y;return this.x=a*i-s*r+e.x,this.y=a*r+s*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class _n{constructor(e,n,i,r,a,s,o,u,c){_n.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,r,a,s,o,u,c)}set(e,n,i,r,a,s,o,u,c){const h=this.elements;return h[0]=e,h[1]=r,h[2]=o,h[3]=n,h[4]=a,h[5]=u,h[6]=i,h[7]=s,h[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,a=this.elements,s=i[0],o=i[3],u=i[6],c=i[1],h=i[4],p=i[7],v=i[2],g=i[5],y=i[8],_=r[0],w=r[3],b=r[6],M=r[1],C=r[4],x=r[7],T=r[2],k=r[5],R=r[8];return a[0]=s*_+o*M+u*T,a[3]=s*w+o*C+u*k,a[6]=s*b+o*x+u*R,a[1]=c*_+h*M+p*T,a[4]=c*w+h*C+p*k,a[7]=c*b+h*x+p*R,a[2]=v*_+g*M+y*T,a[5]=v*w+g*C+y*k,a[8]=v*b+g*x+y*R,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],u=e[6],c=e[7],h=e[8];return n*s*h-n*o*c-i*a*h+i*o*u+r*a*c-r*s*u}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],u=e[6],c=e[7],h=e[8],p=h*s-o*c,v=o*u-h*a,g=c*a-s*u,y=n*p+i*v+r*g;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/y;return e[0]=p*_,e[1]=(r*c-h*i)*_,e[2]=(o*i-r*s)*_,e[3]=v*_,e[4]=(h*n-r*u)*_,e[5]=(r*a-o*n)*_,e[6]=g*_,e[7]=(i*u-c*n)*_,e[8]=(s*n-i*a)*_,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,a,s,o){const u=Math.cos(a),c=Math.sin(a);return this.set(i*u,i*c,-i*(u*s+c*o)+s+e,-r*c,r*u,-r*(-c*s+u*o)+o+n,0,0,1),this}scale(e,n){return this.premultiply(km.makeScale(e,n)),this}rotate(e){return this.premultiply(km.makeRotation(-e)),this}translate(e,n){return this.premultiply(km.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const km=new _n;function sk(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function Fh(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Zde(){const t=Fh("canvas");return t.style.display="block",t}const DS={};function gu(t){t in DS||(DS[t]=!0,console.warn(t))}const FS=new _n().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),BS=new _n().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),df={[Ts]:{transfer:Lh,primaries:Nh,toReference:t=>t,fromReference:t=>t},[zi]:{transfer:Qn,primaries:Nh,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[bp]:{transfer:Lh,primaries:Oh,toReference:t=>t.applyMatrix3(BS),fromReference:t=>t.applyMatrix3(FS)},[Qy]:{transfer:Qn,primaries:Oh,toReference:t=>t.convertSRGBToLinear().applyMatrix3(BS),fromReference:t=>t.applyMatrix3(FS).convertLinearToSRGB()}},Qde=new Set([Ts,bp]),Dn={enabled:!0,_workingColorSpace:Ts,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!Qde.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const i=df[e].toReference,r=df[n].fromReference;return r(i(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return df[t].primaries},getTransfer:function(t){return t===na?Lh:df[t].transfer}};function yu(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Im(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Bl;class ok{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Bl===void 0&&(Bl=Fh("canvas")),Bl.width=e.width,Bl.height=e.height;const i=Bl.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=Bl}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Fh("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),a=r.data;for(let s=0;s<a.length;s++)a[s]=yu(a[s]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(yu(n[i]/255)*255):n[i]=yu(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Jde=0;class lk{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Jde++}),this.uuid=Ld(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let s=0,o=r.length;s<o;s++)r[s].isDataTexture?a.push(Pm(r[s].image)):a.push(Pm(r[s]))}else a=Pm(r);i.url=a}return n||(e.images[this.uuid]=i),i}}function Pm(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?ok.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let efe=0;class Pr extends ac{constructor(e=Pr.DEFAULT_IMAGE,n=Pr.DEFAULT_MAPPING,i=Ea,r=Ea,a=Sr,s=Zo,o=xa,u=io,c=Pr.DEFAULT_ANISOTROPY,h=na){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:efe++}),this.uuid=Ld(),this.name="",this.source=new lk(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=a,this.minFilter=s,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=u,this.offset=new An(0,0),this.repeat=new An(1,1),this.center=new An(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new _n,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof h=="string"?this.colorSpace=h:(gu("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=h===al?zi:na),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==jA)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Lg:e.x=e.x-Math.floor(e.x);break;case Ea:e.x=e.x<0?0:1;break;case Ng:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Lg:e.y=e.y-Math.floor(e.y);break;case Ea:e.y=e.y<0?0:1;break;case Ng:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return gu("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===zi?al:ik}set encoding(e){gu("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===al?zi:na}}Pr.DEFAULT_IMAGE=null;Pr.DEFAULT_MAPPING=jA;Pr.DEFAULT_ANISOTROPY=1;class di{constructor(e=0,n=0,i=0,r=1){di.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,a=this.w,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*r+s[12]*a,this.y=s[1]*n+s[5]*i+s[9]*r+s[13]*a,this.z=s[2]*n+s[6]*i+s[10]*r+s[14]*a,this.w=s[3]*n+s[7]*i+s[11]*r+s[15]*a,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,a;const u=e.elements,c=u[0],h=u[4],p=u[8],v=u[1],g=u[5],y=u[9],_=u[2],w=u[6],b=u[10];if(Math.abs(h-v)<.01&&Math.abs(p-_)<.01&&Math.abs(y-w)<.01){if(Math.abs(h+v)<.1&&Math.abs(p+_)<.1&&Math.abs(y+w)<.1&&Math.abs(c+g+b-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const C=(c+1)/2,x=(g+1)/2,T=(b+1)/2,k=(h+v)/4,R=(p+_)/4,D=(y+w)/4;return C>x&&C>T?C<.01?(i=0,r=.707106781,a=.707106781):(i=Math.sqrt(C),r=k/i,a=R/i):x>T?x<.01?(i=.707106781,r=0,a=.707106781):(r=Math.sqrt(x),i=k/r,a=D/r):T<.01?(i=.707106781,r=.707106781,a=0):(a=Math.sqrt(T),i=R/a,r=D/a),this.set(i,r,a,n),this}let M=Math.sqrt((w-y)*(w-y)+(p-_)*(p-_)+(v-h)*(v-h));return Math.abs(M)<.001&&(M=1),this.x=(w-y)/M,this.y=(p-_)/M,this.z=(v-h)/M,this.w=Math.acos((c+g+b-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class tfe extends ac{constructor(e=1,n=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new di(0,0,e,n),this.scissorTest=!1,this.viewport=new di(0,0,e,n);const r={width:e,height:n,depth:1};i.encoding!==void 0&&(gu("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===al?zi:na),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Sr,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},i),this.texture=new Pr(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps,this.texture.internalFormat=i.internalFormat,this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}setSize(e,n,i=1){(this.width!==e||this.height!==n||this.depth!==i)&&(this.width=e,this.height=n,this.depth=i,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new lk(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class yl extends tfe{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class uk extends Pr{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=dr,this.minFilter=dr,this.wrapR=Ea,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class nfe extends Pr{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=dr,this.minFilter=dr,this.wrapR=Ea,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Nd{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,a,s,o){let u=i[r+0],c=i[r+1],h=i[r+2],p=i[r+3];const v=a[s+0],g=a[s+1],y=a[s+2],_=a[s+3];if(o===0){e[n+0]=u,e[n+1]=c,e[n+2]=h,e[n+3]=p;return}if(o===1){e[n+0]=v,e[n+1]=g,e[n+2]=y,e[n+3]=_;return}if(p!==_||u!==v||c!==g||h!==y){let w=1-o;const b=u*v+c*g+h*y+p*_,M=b>=0?1:-1,C=1-b*b;if(C>Number.EPSILON){const T=Math.sqrt(C),k=Math.atan2(T,b*M);w=Math.sin(w*k)/T,o=Math.sin(o*k)/T}const x=o*M;if(u=u*w+v*x,c=c*w+g*x,h=h*w+y*x,p=p*w+_*x,w===1-o){const T=1/Math.sqrt(u*u+c*c+h*h+p*p);u*=T,c*=T,h*=T,p*=T}}e[n]=u,e[n+1]=c,e[n+2]=h,e[n+3]=p}static multiplyQuaternionsFlat(e,n,i,r,a,s){const o=i[r],u=i[r+1],c=i[r+2],h=i[r+3],p=a[s],v=a[s+1],g=a[s+2],y=a[s+3];return e[n]=o*y+h*p+u*g-c*v,e[n+1]=u*y+h*v+c*p-o*g,e[n+2]=c*y+h*g+o*v-u*p,e[n+3]=h*y-o*p-u*v-c*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const i=e._x,r=e._y,a=e._z,s=e._order,o=Math.cos,u=Math.sin,c=o(i/2),h=o(r/2),p=o(a/2),v=u(i/2),g=u(r/2),y=u(a/2);switch(s){case"XYZ":this._x=v*h*p+c*g*y,this._y=c*g*p-v*h*y,this._z=c*h*y+v*g*p,this._w=c*h*p-v*g*y;break;case"YXZ":this._x=v*h*p+c*g*y,this._y=c*g*p-v*h*y,this._z=c*h*y-v*g*p,this._w=c*h*p+v*g*y;break;case"ZXY":this._x=v*h*p-c*g*y,this._y=c*g*p+v*h*y,this._z=c*h*y+v*g*p,this._w=c*h*p-v*g*y;break;case"ZYX":this._x=v*h*p-c*g*y,this._y=c*g*p+v*h*y,this._z=c*h*y-v*g*p,this._w=c*h*p+v*g*y;break;case"YZX":this._x=v*h*p+c*g*y,this._y=c*g*p+v*h*y,this._z=c*h*y-v*g*p,this._w=c*h*p-v*g*y;break;case"XZY":this._x=v*h*p-c*g*y,this._y=c*g*p-v*h*y,this._z=c*h*y+v*g*p,this._w=c*h*p+v*g*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],a=n[8],s=n[1],o=n[5],u=n[9],c=n[2],h=n[6],p=n[10],v=i+o+p;if(v>0){const g=.5/Math.sqrt(v+1);this._w=.25/g,this._x=(h-u)*g,this._y=(a-c)*g,this._z=(s-r)*g}else if(i>o&&i>p){const g=2*Math.sqrt(1+i-o-p);this._w=(h-u)/g,this._x=.25*g,this._y=(r+s)/g,this._z=(a+c)/g}else if(o>p){const g=2*Math.sqrt(1+o-i-p);this._w=(a-c)/g,this._x=(r+s)/g,this._y=.25*g,this._z=(u+h)/g}else{const g=2*Math.sqrt(1+p-i-o);this._w=(s-r)/g,this._x=(a+c)/g,this._y=(u+h)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Cr(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,a=e._z,s=e._w,o=n._x,u=n._y,c=n._z,h=n._w;return this._x=i*h+s*o+r*c-a*u,this._y=r*h+s*u+a*o-i*c,this._z=a*h+s*c+i*u-r*o,this._w=s*h-i*o-r*u-a*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,r=this._y,a=this._z,s=this._w;let o=s*e._w+i*e._x+r*e._y+a*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=s,this._x=i,this._y=r,this._z=a,this;const u=1-o*o;if(u<=Number.EPSILON){const g=1-n;return this._w=g*s+n*this._w,this._x=g*i+n*this._x,this._y=g*r+n*this._y,this._z=g*a+n*this._z,this.normalize(),this}const c=Math.sqrt(u),h=Math.atan2(c,o),p=Math.sin((1-n)*h)/c,v=Math.sin(n*h)/c;return this._w=s*p+this._w*v,this._x=i*p+this._x*v,this._y=r*p+this._y*v,this._z=a*p+this._z*v,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=Math.random(),n=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),a=2*Math.PI*Math.random();return this.set(n*Math.cos(r),i*Math.sin(a),i*Math.cos(a),n*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class je{constructor(e=0,n=0,i=0){je.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(US.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(US.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*n+a[3]*i+a[6]*r,this.y=a[1]*n+a[4]*i+a[7]*r,this.z=a[2]*n+a[5]*i+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,a=e.elements,s=1/(a[3]*n+a[7]*i+a[11]*r+a[15]);return this.x=(a[0]*n+a[4]*i+a[8]*r+a[12])*s,this.y=(a[1]*n+a[5]*i+a[9]*r+a[13])*s,this.z=(a[2]*n+a[6]*i+a[10]*r+a[14])*s,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,a=e.x,s=e.y,o=e.z,u=e.w,c=2*(s*r-o*i),h=2*(o*n-a*r),p=2*(a*i-s*n);return this.x=n+u*c+s*p-o*h,this.y=i+u*h+o*c-a*p,this.z=r+u*p+a*h-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*n+a[4]*i+a[8]*r,this.y=a[1]*n+a[5]*i+a[9]*r,this.z=a[2]*n+a[6]*i+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,a=e.z,s=n.x,o=n.y,u=n.z;return this.x=r*u-a*o,this.y=a*s-i*u,this.z=i*o-r*s,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Rm.copy(this).projectOnVector(e),this.sub(Rm)}reflect(e){return this.sub(Rm.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Cr(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(n),this.y=i*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Rm=new je,US=new Nd;class Od{constructor(e=new je(1/0,1/0,1/0),n=new je(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(ya.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(ya.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=ya.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const a=i.getAttribute("position");if(n===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,o=a.count;s<o;s++)e.isMesh===!0?e.getVertexPosition(s,ya):ya.fromBufferAttribute(a,s),ya.applyMatrix4(e.matrixWorld),this.expandByPoint(ya);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),ff.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),ff.copy(i.boundingBox)),ff.applyMatrix4(e.matrixWorld),this.union(ff)}const r=e.children;for(let a=0,s=r.length;a<s;a++)this.expandByObject(r[a],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ya),ya.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(xc),hf.subVectors(this.max,xc),Ul.subVectors(e.a,xc),Vl.subVectors(e.b,xc),zl.subVectors(e.c,xc),Bs.subVectors(Vl,Ul),Us.subVectors(zl,Vl),No.subVectors(Ul,zl);let n=[0,-Bs.z,Bs.y,0,-Us.z,Us.y,0,-No.z,No.y,Bs.z,0,-Bs.x,Us.z,0,-Us.x,No.z,0,-No.x,-Bs.y,Bs.x,0,-Us.y,Us.x,0,-No.y,No.x,0];return!Lm(n,Ul,Vl,zl,hf)||(n=[1,0,0,0,1,0,0,0,1],!Lm(n,Ul,Vl,zl,hf))?!1:(pf.crossVectors(Bs,Us),n=[pf.x,pf.y,pf.z],Lm(n,Ul,Vl,zl,hf))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ya).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(ya).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(hs[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),hs[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),hs[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),hs[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),hs[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),hs[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),hs[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),hs[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(hs),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const hs=[new je,new je,new je,new je,new je,new je,new je,new je],ya=new je,ff=new Od,Ul=new je,Vl=new je,zl=new je,Bs=new je,Us=new je,No=new je,xc=new je,hf=new je,pf=new je,Oo=new je;function Lm(t,e,n,i,r){for(let a=0,s=t.length-3;a<=s;a+=3){Oo.fromArray(t,a);const o=r.x*Math.abs(Oo.x)+r.y*Math.abs(Oo.y)+r.z*Math.abs(Oo.z),u=e.dot(Oo),c=n.dot(Oo),h=i.dot(Oo);if(Math.max(-Math.max(u,c,h),Math.min(u,c,h))>o)return!1}return!0}const ife=new Od,Mc=new je,Nm=new je;class wp{constructor(e=new je,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):ife.setFromPoints(e).getCenter(i);let r=0;for(let a=0,s=e.length;a<s;a++)r=Math.max(r,i.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Mc.subVectors(e,this.center);const n=Mc.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(Mc,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Nm.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Mc.copy(e.center).add(Nm)),this.expandByPoint(Mc.copy(e.center).sub(Nm))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ps=new je,Om=new je,mf=new je,Vs=new je,Dm=new je,vf=new je,Fm=new je;class ck{constructor(e=new je,n=new je(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ps)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=ps.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(ps.copy(this.origin).addScaledVector(this.direction,n),ps.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){Om.copy(e).add(n).multiplyScalar(.5),mf.copy(n).sub(e).normalize(),Vs.copy(this.origin).sub(Om);const a=e.distanceTo(n)*.5,s=-this.direction.dot(mf),o=Vs.dot(this.direction),u=-Vs.dot(mf),c=Vs.lengthSq(),h=Math.abs(1-s*s);let p,v,g,y;if(h>0)if(p=s*u-o,v=s*o-u,y=a*h,p>=0)if(v>=-y)if(v<=y){const _=1/h;p*=_,v*=_,g=p*(p+s*v+2*o)+v*(s*p+v+2*u)+c}else v=a,p=Math.max(0,-(s*v+o)),g=-p*p+v*(v+2*u)+c;else v=-a,p=Math.max(0,-(s*v+o)),g=-p*p+v*(v+2*u)+c;else v<=-y?(p=Math.max(0,-(-s*a+o)),v=p>0?-a:Math.min(Math.max(-a,-u),a),g=-p*p+v*(v+2*u)+c):v<=y?(p=0,v=Math.min(Math.max(-a,-u),a),g=v*(v+2*u)+c):(p=Math.max(0,-(s*a+o)),v=p>0?a:Math.min(Math.max(-a,-u),a),g=-p*p+v*(v+2*u)+c);else v=s>0?-a:a,p=Math.max(0,-(s*v+o)),g=-p*p+v*(v+2*u)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,p),r&&r.copy(Om).addScaledVector(mf,v),g}intersectSphere(e,n){ps.subVectors(e.center,this.origin);const i=ps.dot(this.direction),r=ps.dot(ps)-i*i,a=e.radius*e.radius;if(r>a)return null;const s=Math.sqrt(a-r),o=i-s,u=i+s;return u<0?null:o<0?this.at(u,n):this.at(o,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,a,s,o,u;const c=1/this.direction.x,h=1/this.direction.y,p=1/this.direction.z,v=this.origin;return c>=0?(i=(e.min.x-v.x)*c,r=(e.max.x-v.x)*c):(i=(e.max.x-v.x)*c,r=(e.min.x-v.x)*c),h>=0?(a=(e.min.y-v.y)*h,s=(e.max.y-v.y)*h):(a=(e.max.y-v.y)*h,s=(e.min.y-v.y)*h),i>s||a>r||((a>i||isNaN(i))&&(i=a),(s<r||isNaN(r))&&(r=s),p>=0?(o=(e.min.z-v.z)*p,u=(e.max.z-v.z)*p):(o=(e.max.z-v.z)*p,u=(e.min.z-v.z)*p),i>u||o>r)||((o>i||i!==i)&&(i=o),(u<r||r!==r)&&(r=u),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,ps)!==null}intersectTriangle(e,n,i,r,a){Dm.subVectors(n,e),vf.subVectors(i,e),Fm.crossVectors(Dm,vf);let s=this.direction.dot(Fm),o;if(s>0){if(r)return null;o=1}else if(s<0)o=-1,s=-s;else return null;Vs.subVectors(this.origin,e);const u=o*this.direction.dot(vf.crossVectors(Vs,vf));if(u<0)return null;const c=o*this.direction.dot(Dm.cross(Vs));if(c<0||u+c>s)return null;const h=-o*Vs.dot(Fm);return h<0?null:this.at(h/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class jn{constructor(e,n,i,r,a,s,o,u,c,h,p,v,g,y,_,w){jn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,r,a,s,o,u,c,h,p,v,g,y,_,w)}set(e,n,i,r,a,s,o,u,c,h,p,v,g,y,_,w){const b=this.elements;return b[0]=e,b[4]=n,b[8]=i,b[12]=r,b[1]=a,b[5]=s,b[9]=o,b[13]=u,b[2]=c,b[6]=h,b[10]=p,b[14]=v,b[3]=g,b[7]=y,b[11]=_,b[15]=w,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new jn().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,r=1/$l.setFromMatrixColumn(e,0).length(),a=1/$l.setFromMatrixColumn(e,1).length(),s=1/$l.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*a,n[5]=i[5]*a,n[6]=i[6]*a,n[7]=0,n[8]=i[8]*s,n[9]=i[9]*s,n[10]=i[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,a=e.z,s=Math.cos(i),o=Math.sin(i),u=Math.cos(r),c=Math.sin(r),h=Math.cos(a),p=Math.sin(a);if(e.order==="XYZ"){const v=s*h,g=s*p,y=o*h,_=o*p;n[0]=u*h,n[4]=-u*p,n[8]=c,n[1]=g+y*c,n[5]=v-_*c,n[9]=-o*u,n[2]=_-v*c,n[6]=y+g*c,n[10]=s*u}else if(e.order==="YXZ"){const v=u*h,g=u*p,y=c*h,_=c*p;n[0]=v+_*o,n[4]=y*o-g,n[8]=s*c,n[1]=s*p,n[5]=s*h,n[9]=-o,n[2]=g*o-y,n[6]=_+v*o,n[10]=s*u}else if(e.order==="ZXY"){const v=u*h,g=u*p,y=c*h,_=c*p;n[0]=v-_*o,n[4]=-s*p,n[8]=y+g*o,n[1]=g+y*o,n[5]=s*h,n[9]=_-v*o,n[2]=-s*c,n[6]=o,n[10]=s*u}else if(e.order==="ZYX"){const v=s*h,g=s*p,y=o*h,_=o*p;n[0]=u*h,n[4]=y*c-g,n[8]=v*c+_,n[1]=u*p,n[5]=_*c+v,n[9]=g*c-y,n[2]=-c,n[6]=o*u,n[10]=s*u}else if(e.order==="YZX"){const v=s*u,g=s*c,y=o*u,_=o*c;n[0]=u*h,n[4]=_-v*p,n[8]=y*p+g,n[1]=p,n[5]=s*h,n[9]=-o*h,n[2]=-c*h,n[6]=g*p+y,n[10]=v-_*p}else if(e.order==="XZY"){const v=s*u,g=s*c,y=o*u,_=o*c;n[0]=u*h,n[4]=-p,n[8]=c*h,n[1]=v*p+_,n[5]=s*h,n[9]=g*p-y,n[2]=y*p-g,n[6]=o*h,n[10]=_*p+v}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(rfe,e,afe)}lookAt(e,n,i){const r=this.elements;return Br.subVectors(e,n),Br.lengthSq()===0&&(Br.z=1),Br.normalize(),zs.crossVectors(i,Br),zs.lengthSq()===0&&(Math.abs(i.z)===1?Br.x+=1e-4:Br.z+=1e-4,Br.normalize(),zs.crossVectors(i,Br)),zs.normalize(),gf.crossVectors(Br,zs),r[0]=zs.x,r[4]=gf.x,r[8]=Br.x,r[1]=zs.y,r[5]=gf.y,r[9]=Br.y,r[2]=zs.z,r[6]=gf.z,r[10]=Br.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,a=this.elements,s=i[0],o=i[4],u=i[8],c=i[12],h=i[1],p=i[5],v=i[9],g=i[13],y=i[2],_=i[6],w=i[10],b=i[14],M=i[3],C=i[7],x=i[11],T=i[15],k=r[0],R=r[4],D=r[8],U=r[12],P=r[1],N=r[5],$=r[9],Q=r[13],Y=r[2],H=r[6],B=r[10],X=r[14],q=r[3],O=r[7],V=r[11],ee=r[15];return a[0]=s*k+o*P+u*Y+c*q,a[4]=s*R+o*N+u*H+c*O,a[8]=s*D+o*$+u*B+c*V,a[12]=s*U+o*Q+u*X+c*ee,a[1]=h*k+p*P+v*Y+g*q,a[5]=h*R+p*N+v*H+g*O,a[9]=h*D+p*$+v*B+g*V,a[13]=h*U+p*Q+v*X+g*ee,a[2]=y*k+_*P+w*Y+b*q,a[6]=y*R+_*N+w*H+b*O,a[10]=y*D+_*$+w*B+b*V,a[14]=y*U+_*Q+w*X+b*ee,a[3]=M*k+C*P+x*Y+T*q,a[7]=M*R+C*N+x*H+T*O,a[11]=M*D+C*$+x*B+T*V,a[15]=M*U+C*Q+x*X+T*ee,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],a=e[12],s=e[1],o=e[5],u=e[9],c=e[13],h=e[2],p=e[6],v=e[10],g=e[14],y=e[3],_=e[7],w=e[11],b=e[15];return y*(+a*u*p-r*c*p-a*o*v+i*c*v+r*o*g-i*u*g)+_*(+n*u*g-n*c*v+a*s*v-r*s*g+r*c*h-a*u*h)+w*(+n*c*p-n*o*g-a*s*p+i*s*g+a*o*h-i*c*h)+b*(-r*o*h-n*u*p+n*o*v+r*s*p-i*s*v+i*u*h)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],u=e[6],c=e[7],h=e[8],p=e[9],v=e[10],g=e[11],y=e[12],_=e[13],w=e[14],b=e[15],M=p*w*c-_*v*c+_*u*g-o*w*g-p*u*b+o*v*b,C=y*v*c-h*w*c-y*u*g+s*w*g+h*u*b-s*v*b,x=h*_*c-y*p*c+y*o*g-s*_*g-h*o*b+s*p*b,T=y*p*u-h*_*u-y*o*v+s*_*v+h*o*w-s*p*w,k=n*M+i*C+r*x+a*T;if(k===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/k;return e[0]=M*R,e[1]=(_*v*a-p*w*a-_*r*g+i*w*g+p*r*b-i*v*b)*R,e[2]=(o*w*a-_*u*a+_*r*c-i*w*c-o*r*b+i*u*b)*R,e[3]=(p*u*a-o*v*a-p*r*c+i*v*c+o*r*g-i*u*g)*R,e[4]=C*R,e[5]=(h*w*a-y*v*a+y*r*g-n*w*g-h*r*b+n*v*b)*R,e[6]=(y*u*a-s*w*a-y*r*c+n*w*c+s*r*b-n*u*b)*R,e[7]=(s*v*a-h*u*a+h*r*c-n*v*c-s*r*g+n*u*g)*R,e[8]=x*R,e[9]=(y*p*a-h*_*a-y*i*g+n*_*g+h*i*b-n*p*b)*R,e[10]=(s*_*a-y*o*a+y*i*c-n*_*c-s*i*b+n*o*b)*R,e[11]=(h*o*a-s*p*a-h*i*c+n*p*c+s*i*g-n*o*g)*R,e[12]=T*R,e[13]=(h*_*r-y*p*r+y*i*v-n*_*v-h*i*w+n*p*w)*R,e[14]=(y*o*r-s*_*r-y*i*u+n*_*u+s*i*w-n*o*w)*R,e[15]=(s*p*r-h*o*r+h*i*u-n*p*u-s*i*v+n*o*v)*R,this}scale(e){const n=this.elements,i=e.x,r=e.y,a=e.z;return n[0]*=i,n[4]*=r,n[8]*=a,n[1]*=i,n[5]*=r,n[9]*=a,n[2]*=i,n[6]*=r,n[10]*=a,n[3]*=i,n[7]*=r,n[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),a=1-i,s=e.x,o=e.y,u=e.z,c=a*s,h=a*o;return this.set(c*s+i,c*o-r*u,c*u+r*o,0,c*o+r*u,h*o+i,h*u-r*s,0,c*u-r*o,h*u+r*s,a*u*u+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,a,s){return this.set(1,i,a,0,e,1,s,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,a=n._x,s=n._y,o=n._z,u=n._w,c=a+a,h=s+s,p=o+o,v=a*c,g=a*h,y=a*p,_=s*h,w=s*p,b=o*p,M=u*c,C=u*h,x=u*p,T=i.x,k=i.y,R=i.z;return r[0]=(1-(_+b))*T,r[1]=(g+x)*T,r[2]=(y-C)*T,r[3]=0,r[4]=(g-x)*k,r[5]=(1-(v+b))*k,r[6]=(w+M)*k,r[7]=0,r[8]=(y+C)*R,r[9]=(w-M)*R,r[10]=(1-(v+_))*R,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;let a=$l.set(r[0],r[1],r[2]).length();const s=$l.set(r[4],r[5],r[6]).length(),o=$l.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],_a.copy(this);const c=1/a,h=1/s,p=1/o;return _a.elements[0]*=c,_a.elements[1]*=c,_a.elements[2]*=c,_a.elements[4]*=h,_a.elements[5]*=h,_a.elements[6]*=h,_a.elements[8]*=p,_a.elements[9]*=p,_a.elements[10]*=p,n.setFromRotationMatrix(_a),i.x=a,i.y=s,i.z=o,this}makePerspective(e,n,i,r,a,s,o=Ss){const u=this.elements,c=2*a/(n-e),h=2*a/(i-r),p=(n+e)/(n-e),v=(i+r)/(i-r);let g,y;if(o===Ss)g=-(s+a)/(s-a),y=-2*s*a/(s-a);else if(o===Dh)g=-s/(s-a),y=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return u[0]=c,u[4]=0,u[8]=p,u[12]=0,u[1]=0,u[5]=h,u[9]=v,u[13]=0,u[2]=0,u[6]=0,u[10]=g,u[14]=y,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,n,i,r,a,s,o=Ss){const u=this.elements,c=1/(n-e),h=1/(i-r),p=1/(s-a),v=(n+e)*c,g=(i+r)*h;let y,_;if(o===Ss)y=(s+a)*p,_=-2*p;else if(o===Dh)y=a*p,_=-1*p;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return u[0]=2*c,u[4]=0,u[8]=0,u[12]=-v,u[1]=0,u[5]=2*h,u[9]=0,u[13]=-g,u[2]=0,u[6]=0,u[10]=_,u[14]=-y,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const $l=new je,_a=new jn,rfe=new je(0,0,0),afe=new je(1,1,1),zs=new je,gf=new je,Br=new je,VS=new jn,zS=new Nd;class Sp{constructor(e=0,n=0,i=0,r=Sp.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,a=r[0],s=r[4],o=r[8],u=r[1],c=r[5],h=r[9],p=r[2],v=r[6],g=r[10];switch(n){case"XYZ":this._y=Math.asin(Cr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-h,g),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(v,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Cr(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(o,g),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-p,a),this._z=0);break;case"ZXY":this._x=Math.asin(Cr(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-p,g),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(u,a));break;case"ZYX":this._y=Math.asin(-Cr(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(v,g),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(Cr(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-h,c),this._y=Math.atan2(-p,a)):(this._x=0,this._y=Math.atan2(o,g));break;case"XZY":this._z=Math.asin(-Cr(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(v,c),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-h,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return VS.makeRotationFromQuaternion(e),this.setFromRotationMatrix(VS,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return zS.setFromEuler(this),this.setFromQuaternion(zS,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Sp.DEFAULT_ORDER="XYZ";class dk{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let sfe=0;const $S=new je,Hl=new Nd,ms=new jn,yf=new je,Tc=new je,ofe=new je,lfe=new Nd,HS=new je(1,0,0),GS=new je(0,1,0),WS=new je(0,0,1),ufe={type:"added"},cfe={type:"removed"};class Hi extends ac{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:sfe++}),this.uuid=Ld(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Hi.DEFAULT_UP.clone();const e=new je,n=new Sp,i=new Nd,r=new je(1,1,1);function a(){i.setFromEuler(n,!1)}function s(){n.setFromQuaternion(i,void 0,!1)}n._onChange(a),i._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new jn},normalMatrix:{value:new _n}}),this.matrix=new jn,this.matrixWorld=new jn,this.matrixAutoUpdate=Hi.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Hi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new dk,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Hl.setFromAxisAngle(e,n),this.quaternion.multiply(Hl),this}rotateOnWorldAxis(e,n){return Hl.setFromAxisAngle(e,n),this.quaternion.premultiply(Hl),this}rotateX(e){return this.rotateOnAxis(HS,e)}rotateY(e){return this.rotateOnAxis(GS,e)}rotateZ(e){return this.rotateOnAxis(WS,e)}translateOnAxis(e,n){return $S.copy(e).applyQuaternion(this.quaternion),this.position.add($S.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(HS,e)}translateY(e){return this.translateOnAxis(GS,e)}translateZ(e){return this.translateOnAxis(WS,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ms.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?yf.copy(e):yf.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Tc.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ms.lookAt(Tc,yf,this.up):ms.lookAt(yf,Tc,this.up),this.quaternion.setFromRotationMatrix(ms),r&&(ms.extractRotation(r.matrixWorld),Hl.setFromRotationMatrix(ms),this.quaternion.premultiply(Hl.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(ufe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(cfe)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),ms.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ms.multiply(e.parent.matrixWorld)),e.applyMatrix4(ms),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const s=this.children[i].getObjectByProperty(e,n);if(s!==void 0)return s}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const r=this.children;for(let a=0,s=r.length;a<s;a++)r[a].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Tc,e,ofe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Tc,lfe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++){const a=n[i];(a.matrixWorldAutoUpdate===!0||e===!0)&&a.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const r=this.children;for(let a=0,s=r.length;a<s;a++){const o=r[a];o.matrixWorldAutoUpdate===!0&&o.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(o=>({boxInitialized:o.boxInitialized,boxMin:o.box.min.toArray(),boxMax:o.box.max.toArray(),sphereInitialized:o.sphereInitialized,sphereRadius:o.sphere.radius,sphereCenter:o.sphere.center.toArray()})),r.maxGeometryCount=this._maxGeometryCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function a(o,u){return o[u.uuid]===void 0&&(o[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const u=o.shapes;if(Array.isArray(u))for(let c=0,h=u.length;c<h;c++){const p=u[c];a(e.shapes,p)}else a(e.shapes,u)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let u=0,c=this.material.length;u<c;u++)o.push(a(e.materials,this.material[u]));r.material=o}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(let o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let o=0;o<this.animations.length;o++){const u=this.animations[o];r.animations.push(a(e.animations,u))}}if(n){const o=s(e.geometries),u=s(e.materials),c=s(e.textures),h=s(e.images),p=s(e.shapes),v=s(e.skeletons),g=s(e.animations),y=s(e.nodes);o.length>0&&(i.geometries=o),u.length>0&&(i.materials=u),c.length>0&&(i.textures=c),h.length>0&&(i.images=h),p.length>0&&(i.shapes=p),v.length>0&&(i.skeletons=v),g.length>0&&(i.animations=g),y.length>0&&(i.nodes=y)}return i.object=r,i;function s(o){const u=[];for(const c in o){const h=o[c];delete h.metadata,u.push(h)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Hi.DEFAULT_UP=new je(0,1,0);Hi.DEFAULT_MATRIX_AUTO_UPDATE=!0;Hi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ba=new je,vs=new je,Bm=new je,gs=new je,Gl=new je,Wl=new je,KS=new je,Um=new je,Vm=new je,zm=new je;class Ka{constructor(e=new je,n=new je,i=new je){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),ba.subVectors(e,n),r.cross(ba);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,n,i,r,a){ba.subVectors(r,n),vs.subVectors(i,n),Bm.subVectors(e,n);const s=ba.dot(ba),o=ba.dot(vs),u=ba.dot(Bm),c=vs.dot(vs),h=vs.dot(Bm),p=s*c-o*o;if(p===0)return a.set(0,0,0),null;const v=1/p,g=(c*u-o*h)*v,y=(s*h-o*u)*v;return a.set(1-g-y,y,g)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,gs)===null?!1:gs.x>=0&&gs.y>=0&&gs.x+gs.y<=1}static getInterpolation(e,n,i,r,a,s,o,u){return this.getBarycoord(e,n,i,r,gs)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(a,gs.x),u.addScaledVector(s,gs.y),u.addScaledVector(o,gs.z),u)}static isFrontFacing(e,n,i,r){return ba.subVectors(i,n),vs.subVectors(e,n),ba.cross(vs).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ba.subVectors(this.c,this.b),vs.subVectors(this.a,this.b),ba.cross(vs).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ka.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Ka.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,i,r,a){return Ka.getInterpolation(e,this.a,this.b,this.c,n,i,r,a)}containsPoint(e){return Ka.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ka.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,a=this.c;let s,o;Gl.subVectors(r,i),Wl.subVectors(a,i),Um.subVectors(e,i);const u=Gl.dot(Um),c=Wl.dot(Um);if(u<=0&&c<=0)return n.copy(i);Vm.subVectors(e,r);const h=Gl.dot(Vm),p=Wl.dot(Vm);if(h>=0&&p<=h)return n.copy(r);const v=u*p-h*c;if(v<=0&&u>=0&&h<=0)return s=u/(u-h),n.copy(i).addScaledVector(Gl,s);zm.subVectors(e,a);const g=Gl.dot(zm),y=Wl.dot(zm);if(y>=0&&g<=y)return n.copy(a);const _=g*c-u*y;if(_<=0&&c>=0&&y<=0)return o=c/(c-y),n.copy(i).addScaledVector(Wl,o);const w=h*y-g*p;if(w<=0&&p-h>=0&&g-y>=0)return KS.subVectors(a,r),o=(p-h)/(p-h+(g-y)),n.copy(r).addScaledVector(KS,o);const b=1/(w+_+v);return s=_*b,o=v*b,n.copy(i).addScaledVector(Gl,s).addScaledVector(Wl,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const fk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},$s={h:0,s:0,l:0},_f={h:0,s:0,l:0};function $m(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Cn{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=zi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Dn.toWorkingColorSpace(this,n),this}setRGB(e,n,i,r=Dn.workingColorSpace){return this.r=e,this.g=n,this.b=i,Dn.toWorkingColorSpace(this,r),this}setHSL(e,n,i,r=Dn.workingColorSpace){if(e=Xde(e,1),n=Cr(n,0,1),i=Cr(i,0,1),n===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+n):i+n-i*n,s=2*i-a;this.r=$m(s,a,e+1/3),this.g=$m(s,a,e),this.b=$m(s,a,e-1/3)}return Dn.toWorkingColorSpace(this,r),this}setStyle(e,n=zi){function i(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=r[1],o=r[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,n);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,n);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=r[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,n);if(s===6)return this.setHex(parseInt(a,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=zi){const i=fk[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=yu(e.r),this.g=yu(e.g),this.b=yu(e.b),this}copyLinearToSRGB(e){return this.r=Im(e.r),this.g=Im(e.g),this.b=Im(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=zi){return Dn.fromWorkingColorSpace(Yi.copy(this),e),Math.round(Cr(Yi.r*255,0,255))*65536+Math.round(Cr(Yi.g*255,0,255))*256+Math.round(Cr(Yi.b*255,0,255))}getHexString(e=zi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Dn.workingColorSpace){Dn.fromWorkingColorSpace(Yi.copy(this),n);const i=Yi.r,r=Yi.g,a=Yi.b,s=Math.max(i,r,a),o=Math.min(i,r,a);let u,c;const h=(o+s)/2;if(o===s)u=0,c=0;else{const p=s-o;switch(c=h<=.5?p/(s+o):p/(2-s-o),s){case i:u=(r-a)/p+(r<a?6:0);break;case r:u=(a-i)/p+2;break;case a:u=(i-r)/p+4;break}u/=6}return e.h=u,e.s=c,e.l=h,e}getRGB(e,n=Dn.workingColorSpace){return Dn.fromWorkingColorSpace(Yi.copy(this),n),e.r=Yi.r,e.g=Yi.g,e.b=Yi.b,e}getStyle(e=zi){Dn.fromWorkingColorSpace(Yi.copy(this),e);const n=Yi.r,i=Yi.g,r=Yi.b;return e!==zi?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,n,i){return this.getHSL($s),this.setHSL($s.h+e,$s.s+n,$s.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL($s),e.getHSL(_f);const i=Am($s.h,_f.h,n),r=Am($s.s,_f.s,n),a=Am($s.l,_f.l,n);return this.setHSL(i,r,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,r=this.b,a=e.elements;return this.r=a[0]*n+a[3]*i+a[6]*r,this.g=a[1]*n+a[4]*i+a[7]*r,this.b=a[2]*n+a[5]*i+a[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Yi=new Cn;Cn.NAMES=fk;let dfe=0;class sc extends ac{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:dfe++}),this.uuid=Ld(),this.name="",this.type="Material",this.blending=vu,this.side=vo,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=kg,this.blendDst=Ig,this.blendEquation=$o,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Cn(0,0,0),this.blendAlpha=0,this.depthFunc=Rh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=RS,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Fl,this.stencilZFail=Fl,this.stencilZPass=Fl,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==vu&&(i.blending=this.blending),this.side!==vo&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==kg&&(i.blendSrc=this.blendSrc),this.blendDst!==Ig&&(i.blendDst=this.blendDst),this.blendEquation!==$o&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Rh&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==RS&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Fl&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Fl&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Fl&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(a){const s=[];for(const o in a){const u=a[o];delete u.metadata,s.push(u)}return s}if(n){const a=r(e.textures),s=r(e.images);a.length>0&&(i.textures=a),s.length>0&&(i.images=s)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let a=0;a!==r;++a)i[a]=n[a].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Jy extends sc{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Cn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Xy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const xi=new je,bf=new An;class Tr{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=LS,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=ws,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return gu("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)bf.fromBufferAttribute(this,n),bf.applyMatrix3(e),this.setXY(n,bf.x,bf.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)xi.fromBufferAttribute(this,n),xi.applyMatrix3(e),this.setXYZ(n,xi.x,xi.y,xi.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)xi.fromBufferAttribute(this,n),xi.applyMatrix4(e),this.setXYZ(n,xi.x,xi.y,xi.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)xi.fromBufferAttribute(this,n),xi.applyNormalMatrix(e),this.setXYZ(n,xi.x,xi.y,xi.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)xi.fromBufferAttribute(this,n),xi.transformDirection(e),this.setXYZ(n,xi.x,xi.y,xi.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=Ec(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=br(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Ec(n,this.array)),n}setX(e,n){return this.normalized&&(n=br(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Ec(n,this.array)),n}setY(e,n){return this.normalized&&(n=br(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Ec(n,this.array)),n}setZ(e,n){return this.normalized&&(n=br(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Ec(n,this.array)),n}setW(e,n){return this.normalized&&(n=br(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=br(n,this.array),i=br(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=br(n,this.array),i=br(i,this.array),r=br(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,a){return e*=this.itemSize,this.normalized&&(n=br(n,this.array),i=br(i,this.array),r=br(r,this.array),a=br(a,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==LS&&(e.usage=this.usage),e}}class hk extends Tr{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class pk extends Tr{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class nr extends Tr{constructor(e,n,i){super(new Float32Array(e),n,i)}}let ffe=0;const Xr=new jn,Hm=new Hi,Kl=new je,Ur=new Od,Ac=new Od,Di=new je;class fa extends ac{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:ffe++}),this.uuid=Ld(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(sk(e)?pk:hk)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const a=new _n().getNormalMatrix(e);i.applyNormalMatrix(a),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Xr.makeRotationFromQuaternion(e),this.applyMatrix4(Xr),this}rotateX(e){return Xr.makeRotationX(e),this.applyMatrix4(Xr),this}rotateY(e){return Xr.makeRotationY(e),this.applyMatrix4(Xr),this}rotateZ(e){return Xr.makeRotationZ(e),this.applyMatrix4(Xr),this}translate(e,n,i){return Xr.makeTranslation(e,n,i),this.applyMatrix4(Xr),this}scale(e,n,i){return Xr.makeScale(e,n,i),this.applyMatrix4(Xr),this}lookAt(e){return Hm.lookAt(e),Hm.updateMatrix(),this.applyMatrix4(Hm.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Kl).negate(),this.translate(Kl.x,Kl.y,Kl.z),this}setFromPoints(e){const n=[];for(let i=0,r=e.length;i<r;i++){const a=e[i];n.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new nr(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Od);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new je(-1/0,-1/0,-1/0),new je(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const a=n[i];Ur.setFromBufferAttribute(a),this.morphTargetsRelative?(Di.addVectors(this.boundingBox.min,Ur.min),this.boundingBox.expandByPoint(Di),Di.addVectors(this.boundingBox.max,Ur.max),this.boundingBox.expandByPoint(Di)):(this.boundingBox.expandByPoint(Ur.min),this.boundingBox.expandByPoint(Ur.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new wp);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new je,1/0);return}if(e){const i=this.boundingSphere.center;if(Ur.setFromBufferAttribute(e),n)for(let a=0,s=n.length;a<s;a++){const o=n[a];Ac.setFromBufferAttribute(o),this.morphTargetsRelative?(Di.addVectors(Ur.min,Ac.min),Ur.expandByPoint(Di),Di.addVectors(Ur.max,Ac.max),Ur.expandByPoint(Di)):(Ur.expandByPoint(Ac.min),Ur.expandByPoint(Ac.max))}Ur.getCenter(i);let r=0;for(let a=0,s=e.count;a<s;a++)Di.fromBufferAttribute(e,a),r=Math.max(r,i.distanceToSquared(Di));if(n)for(let a=0,s=n.length;a<s;a++){const o=n[a],u=this.morphTargetsRelative;for(let c=0,h=o.count;c<h;c++)Di.fromBufferAttribute(o,c),u&&(Kl.fromBufferAttribute(e,c),Di.add(Kl)),r=Math.max(r,i.distanceToSquared(Di))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=n.position.array,a=n.normal.array,s=n.uv.array,o=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Tr(new Float32Array(4*o),4));const u=this.getAttribute("tangent").array,c=[],h=[];for(let P=0;P<o;P++)c[P]=new je,h[P]=new je;const p=new je,v=new je,g=new je,y=new An,_=new An,w=new An,b=new je,M=new je;function C(P,N,$){p.fromArray(r,P*3),v.fromArray(r,N*3),g.fromArray(r,$*3),y.fromArray(s,P*2),_.fromArray(s,N*2),w.fromArray(s,$*2),v.sub(p),g.sub(p),_.sub(y),w.sub(y);const Q=1/(_.x*w.y-w.x*_.y);isFinite(Q)&&(b.copy(v).multiplyScalar(w.y).addScaledVector(g,-_.y).multiplyScalar(Q),M.copy(g).multiplyScalar(_.x).addScaledVector(v,-w.x).multiplyScalar(Q),c[P].add(b),c[N].add(b),c[$].add(b),h[P].add(M),h[N].add(M),h[$].add(M))}let x=this.groups;x.length===0&&(x=[{start:0,count:i.length}]);for(let P=0,N=x.length;P<N;++P){const $=x[P],Q=$.start,Y=$.count;for(let H=Q,B=Q+Y;H<B;H+=3)C(i[H+0],i[H+1],i[H+2])}const T=new je,k=new je,R=new je,D=new je;function U(P){R.fromArray(a,P*3),D.copy(R);const N=c[P];T.copy(N),T.sub(R.multiplyScalar(R.dot(N))).normalize(),k.crossVectors(D,N);const Q=k.dot(h[P])<0?-1:1;u[P*4]=T.x,u[P*4+1]=T.y,u[P*4+2]=T.z,u[P*4+3]=Q}for(let P=0,N=x.length;P<N;++P){const $=x[P],Q=$.start,Y=$.count;for(let H=Q,B=Q+Y;H<B;H+=3)U(i[H+0]),U(i[H+1]),U(i[H+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Tr(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let v=0,g=i.count;v<g;v++)i.setXYZ(v,0,0,0);const r=new je,a=new je,s=new je,o=new je,u=new je,c=new je,h=new je,p=new je;if(e)for(let v=0,g=e.count;v<g;v+=3){const y=e.getX(v+0),_=e.getX(v+1),w=e.getX(v+2);r.fromBufferAttribute(n,y),a.fromBufferAttribute(n,_),s.fromBufferAttribute(n,w),h.subVectors(s,a),p.subVectors(r,a),h.cross(p),o.fromBufferAttribute(i,y),u.fromBufferAttribute(i,_),c.fromBufferAttribute(i,w),o.add(h),u.add(h),c.add(h),i.setXYZ(y,o.x,o.y,o.z),i.setXYZ(_,u.x,u.y,u.z),i.setXYZ(w,c.x,c.y,c.z)}else for(let v=0,g=n.count;v<g;v+=3)r.fromBufferAttribute(n,v+0),a.fromBufferAttribute(n,v+1),s.fromBufferAttribute(n,v+2),h.subVectors(s,a),p.subVectors(r,a),h.cross(p),i.setXYZ(v+0,h.x,h.y,h.z),i.setXYZ(v+1,h.x,h.y,h.z),i.setXYZ(v+2,h.x,h.y,h.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)Di.fromBufferAttribute(e,n),Di.normalize(),e.setXYZ(n,Di.x,Di.y,Di.z)}toNonIndexed(){function e(o,u){const c=o.array,h=o.itemSize,p=o.normalized,v=new c.constructor(u.length*h);let g=0,y=0;for(let _=0,w=u.length;_<w;_++){o.isInterleavedBufferAttribute?g=u[_]*o.data.stride+o.offset:g=u[_]*h;for(let b=0;b<h;b++)v[y++]=c[g++]}return new Tr(v,h,p)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new fa,i=this.index.array,r=this.attributes;for(const o in r){const u=r[o],c=e(u,i);n.setAttribute(o,c)}const a=this.morphAttributes;for(const o in a){const u=[],c=a[o];for(let h=0,p=c.length;h<p;h++){const v=c[h],g=e(v,i);u.push(g)}n.morphAttributes[o]=u}n.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,u=s.length;o<u;o++){const c=s[o];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const c in u)u[c]!==void 0&&(e[c]=u[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const u in i){const c=i[u];e.data.attributes[u]=c.toJSON(e.data)}const r={};let a=!1;for(const u in this.morphAttributes){const c=this.morphAttributes[u],h=[];for(let p=0,v=c.length;p<v;p++){const g=c[p];h.push(g.toJSON(e.data))}h.length>0&&(r[u]=h,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(n));const r=e.attributes;for(const c in r){const h=r[c];this.setAttribute(c,h.clone(n))}const a=e.morphAttributes;for(const c in a){const h=[],p=a[c];for(let v=0,g=p.length;v<g;v++)h.push(p[v].clone(n));this.morphAttributes[c]=h}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,h=s.length;c<h;c++){const p=s[c];this.addGroup(p.start,p.count,p.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const qS=new jn,Do=new ck,wf=new wp,YS=new je,ql=new je,Yl=new je,jl=new je,Gm=new je,Sf=new je,Cf=new An,Ef=new An,xf=new An,jS=new je,XS=new je,ZS=new je,Mf=new je,Tf=new je;class ka extends Hi{constructor(e=new fa,n=new Jy){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,a=i.morphAttributes.position,s=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(a&&o){Sf.set(0,0,0);for(let u=0,c=a.length;u<c;u++){const h=o[u],p=a[u];h!==0&&(Gm.fromBufferAttribute(p,e),s?Sf.addScaledVector(Gm,h):Sf.addScaledVector(Gm.sub(n),h))}n.add(Sf)}return n}raycast(e,n){const i=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),wf.copy(i.boundingSphere),wf.applyMatrix4(a),Do.copy(e.ray).recast(e.near),!(wf.containsPoint(Do.origin)===!1&&(Do.intersectSphere(wf,YS)===null||Do.origin.distanceToSquared(YS)>(e.far-e.near)**2))&&(qS.copy(a).invert(),Do.copy(e.ray).applyMatrix4(qS),!(i.boundingBox!==null&&Do.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,Do)))}_computeIntersections(e,n,i){let r;const a=this.geometry,s=this.material,o=a.index,u=a.attributes.position,c=a.attributes.uv,h=a.attributes.uv1,p=a.attributes.normal,v=a.groups,g=a.drawRange;if(o!==null)if(Array.isArray(s))for(let y=0,_=v.length;y<_;y++){const w=v[y],b=s[w.materialIndex],M=Math.max(w.start,g.start),C=Math.min(o.count,Math.min(w.start+w.count,g.start+g.count));for(let x=M,T=C;x<T;x+=3){const k=o.getX(x),R=o.getX(x+1),D=o.getX(x+2);r=Af(this,b,e,i,c,h,p,k,R,D),r&&(r.faceIndex=Math.floor(x/3),r.face.materialIndex=w.materialIndex,n.push(r))}}else{const y=Math.max(0,g.start),_=Math.min(o.count,g.start+g.count);for(let w=y,b=_;w<b;w+=3){const M=o.getX(w),C=o.getX(w+1),x=o.getX(w+2);r=Af(this,s,e,i,c,h,p,M,C,x),r&&(r.faceIndex=Math.floor(w/3),n.push(r))}}else if(u!==void 0)if(Array.isArray(s))for(let y=0,_=v.length;y<_;y++){const w=v[y],b=s[w.materialIndex],M=Math.max(w.start,g.start),C=Math.min(u.count,Math.min(w.start+w.count,g.start+g.count));for(let x=M,T=C;x<T;x+=3){const k=x,R=x+1,D=x+2;r=Af(this,b,e,i,c,h,p,k,R,D),r&&(r.faceIndex=Math.floor(x/3),r.face.materialIndex=w.materialIndex,n.push(r))}}else{const y=Math.max(0,g.start),_=Math.min(u.count,g.start+g.count);for(let w=y,b=_;w<b;w+=3){const M=w,C=w+1,x=w+2;r=Af(this,s,e,i,c,h,p,M,C,x),r&&(r.faceIndex=Math.floor(w/3),n.push(r))}}}}function hfe(t,e,n,i,r,a,s,o){let u;if(e.side===Ir?u=i.intersectTriangle(s,a,r,!0,o):u=i.intersectTriangle(r,a,s,e.side===vo,o),u===null)return null;Tf.copy(o),Tf.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(Tf);return c<n.near||c>n.far?null:{distance:c,point:Tf.clone(),object:t}}function Af(t,e,n,i,r,a,s,o,u,c){t.getVertexPosition(o,ql),t.getVertexPosition(u,Yl),t.getVertexPosition(c,jl);const h=hfe(t,e,n,i,ql,Yl,jl,Mf);if(h){r&&(Cf.fromBufferAttribute(r,o),Ef.fromBufferAttribute(r,u),xf.fromBufferAttribute(r,c),h.uv=Ka.getInterpolation(Mf,ql,Yl,jl,Cf,Ef,xf,new An)),a&&(Cf.fromBufferAttribute(a,o),Ef.fromBufferAttribute(a,u),xf.fromBufferAttribute(a,c),h.uv1=Ka.getInterpolation(Mf,ql,Yl,jl,Cf,Ef,xf,new An),h.uv2=h.uv1),s&&(jS.fromBufferAttribute(s,o),XS.fromBufferAttribute(s,u),ZS.fromBufferAttribute(s,c),h.normal=Ka.getInterpolation(Mf,ql,Yl,jl,jS,XS,ZS,new je),h.normal.dot(i.direction)>0&&h.normal.multiplyScalar(-1));const p={a:o,b:u,c,normal:new je,materialIndex:0};Ka.getNormal(ql,Yl,jl,p.normal),h.face=p}return h}class Dd extends fa{constructor(e=1,n=1,i=1,r=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:a,depthSegments:s};const o=this;r=Math.floor(r),a=Math.floor(a),s=Math.floor(s);const u=[],c=[],h=[],p=[];let v=0,g=0;y("z","y","x",-1,-1,i,n,e,s,a,0),y("z","y","x",1,-1,i,n,-e,s,a,1),y("x","z","y",1,1,e,i,n,r,s,2),y("x","z","y",1,-1,e,i,-n,r,s,3),y("x","y","z",1,-1,e,n,i,r,a,4),y("x","y","z",-1,-1,e,n,-i,r,a,5),this.setIndex(u),this.setAttribute("position",new nr(c,3)),this.setAttribute("normal",new nr(h,3)),this.setAttribute("uv",new nr(p,2));function y(_,w,b,M,C,x,T,k,R,D,U){const P=x/R,N=T/D,$=x/2,Q=T/2,Y=k/2,H=R+1,B=D+1;let X=0,q=0;const O=new je;for(let V=0;V<B;V++){const ee=V*N-Q;for(let ce=0;ce<H;ce++){const se=ce*P-$;O[_]=se*M,O[w]=ee*C,O[b]=Y,c.push(O.x,O.y,O.z),O[_]=0,O[w]=0,O[b]=k>0?1:-1,h.push(O.x,O.y,O.z),p.push(ce/R),p.push(1-V/D),X+=1}}for(let V=0;V<D;V++)for(let ee=0;ee<R;ee++){const ce=v+ee+H*V,se=v+ee+H*(V+1),le=v+(ee+1)+H*(V+1),ye=v+(ee+1)+H*V;u.push(ce,se,ye),u.push(se,le,ye),q+=6}o.addGroup(g,q,U),g+=q,v+=X}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Dd(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Gu(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function cr(t){const e={};for(let n=0;n<t.length;n++){const i=Gu(t[n]);for(const r in i)e[r]=i[r]}return e}function pfe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function mk(t){return t.getRenderTarget()===null?t.outputColorSpace:Dn.workingColorSpace}const mfe={clone:Gu,merge:cr};var vfe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,gfe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class go extends sc{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=vfe,this.fragmentShader=gfe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Gu(e.uniforms),this.uniformsGroups=pfe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const s=this.uniforms[r].value;s&&s.isTexture?n.uniforms[r]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?n.uniforms[r]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[r]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[r]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[r]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[r]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[r]={type:"m4",value:s.toArray()}:n.uniforms[r]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class vk extends Hi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new jn,this.projectionMatrix=new jn,this.projectionMatrixInverse=new jn,this.coordinateSystem=Ss}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Hs=new je,QS=new An,JS=new An;class ta extends vk{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Dg*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Tm*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Dg*2*Math.atan(Math.tan(Tm*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,i){Hs.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Hs.x,Hs.y).multiplyScalar(-e/Hs.z),Hs.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Hs.x,Hs.y).multiplyScalar(-e/Hs.z)}getViewSize(e,n){return this.getViewBounds(e,QS,JS),n.subVectors(JS,QS)}setViewOffset(e,n,i,r,a,s){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Tm*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,a=-.5*r;const s=this.view;if(this.view!==null&&this.view.enabled){const u=s.fullWidth,c=s.fullHeight;a+=s.offsetX*r/u,n-=s.offsetY*i/c,r*=s.width/u,i*=s.height/c}const o=this.filmOffset;o!==0&&(a+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,n,n-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Xl=-90,Zl=1;class yfe extends Hi{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new ta(Xl,Zl,e,n);r.layers=this.layers,this.add(r);const a=new ta(Xl,Zl,e,n);a.layers=this.layers,this.add(a);const s=new ta(Xl,Zl,e,n);s.layers=this.layers,this.add(s);const o=new ta(Xl,Zl,e,n);o.layers=this.layers,this.add(o);const u=new ta(Xl,Zl,e,n);u.layers=this.layers,this.add(u);const c=new ta(Xl,Zl,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,r,a,s,o,u]=n;for(const c of n)this.remove(c);if(e===Ss)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===Dh)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,o,u,c,h]=this.children,p=e.getRenderTarget(),v=e.getActiveCubeFace(),g=e.getActiveMipmapLevel(),y=e.xr.enabled;e.xr.enabled=!1;const _=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(n,a),e.setRenderTarget(i,1,r),e.render(n,s),e.setRenderTarget(i,2,r),e.render(n,o),e.setRenderTarget(i,3,r),e.render(n,u),e.setRenderTarget(i,4,r),e.render(n,c),i.texture.generateMipmaps=_,e.setRenderTarget(i,5,r),e.render(n,h),e.setRenderTarget(p,v,g),e.xr.enabled=y,i.texture.needsPMREMUpdate=!0}}class gk extends Pr{constructor(e,n,i,r,a,s,o,u,c,h){e=e!==void 0?e:[],n=n!==void 0?n:zu,super(e,n,i,r,a,s,o,u,c,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class _fe extends yl{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];n.encoding!==void 0&&(gu("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===al?zi:na),this.texture=new gk(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Sr}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Dd(5,5,5),a=new go({name:"CubemapFromEquirect",uniforms:Gu(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Ir,blending:to});a.uniforms.tEquirect.value=n;const s=new ka(r,a),o=n.minFilter;return n.minFilter===Zo&&(n.minFilter=Sr),new yfe(1,10,this).update(e,s),n.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,n,i,r){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(n,i,r);e.setRenderTarget(a)}}const Wm=new je,bfe=new je,wfe=new _n;class Bo{constructor(e=new je(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=Wm.subVectors(i,n).cross(bfe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(Wm),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:n.copy(e.start).addScaledVector(i,a)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||wfe.getNormalMatrix(e),r=this.coplanarPoint(Wm).applyMatrix4(e),a=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Fo=new wp,kf=new je;class e_{constructor(e=new Bo,n=new Bo,i=new Bo,r=new Bo,a=new Bo,s=new Bo){this.planes=[e,n,i,r,a,s]}set(e,n,i,r,a,s){const o=this.planes;return o[0].copy(e),o[1].copy(n),o[2].copy(i),o[3].copy(r),o[4].copy(a),o[5].copy(s),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=Ss){const i=this.planes,r=e.elements,a=r[0],s=r[1],o=r[2],u=r[3],c=r[4],h=r[5],p=r[6],v=r[7],g=r[8],y=r[9],_=r[10],w=r[11],b=r[12],M=r[13],C=r[14],x=r[15];if(i[0].setComponents(u-a,v-c,w-g,x-b).normalize(),i[1].setComponents(u+a,v+c,w+g,x+b).normalize(),i[2].setComponents(u+s,v+h,w+y,x+M).normalize(),i[3].setComponents(u-s,v-h,w-y,x-M).normalize(),i[4].setComponents(u-o,v-p,w-_,x-C).normalize(),n===Ss)i[5].setComponents(u+o,v+p,w+_,x+C).normalize();else if(n===Dh)i[5].setComponents(o,p,_,C).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Fo.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Fo.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Fo)}intersectsSprite(e){return Fo.center.set(0,0,0),Fo.radius=.7071067811865476,Fo.applyMatrix4(e.matrixWorld),this.intersectsSphere(Fo)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let a=0;a<6;a++)if(n[a].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(kf.x=r.normal.x>0?e.max.x:e.min.x,kf.y=r.normal.y>0?e.max.y:e.min.y,kf.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(kf)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function yk(){let t=null,e=!1,n=null,i=null;function r(a,s){n(a,s),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(a){n=a},setContext:function(a){t=a}}}function Sfe(t,e){const n=e.isWebGL2,i=new WeakMap;function r(c,h){const p=c.array,v=c.usage,g=p.byteLength,y=t.createBuffer();t.bindBuffer(h,y),t.bufferData(h,p,v),c.onUploadCallback();let _;if(p instanceof Float32Array)_=t.FLOAT;else if(p instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)_=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else _=t.UNSIGNED_SHORT;else if(p instanceof Int16Array)_=t.SHORT;else if(p instanceof Uint32Array)_=t.UNSIGNED_INT;else if(p instanceof Int32Array)_=t.INT;else if(p instanceof Int8Array)_=t.BYTE;else if(p instanceof Uint8Array)_=t.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)_=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:y,type:_,bytesPerElement:p.BYTES_PER_ELEMENT,version:c.version,size:g}}function a(c,h,p){const v=h.array,g=h._updateRange,y=h.updateRanges;if(t.bindBuffer(p,c),g.count===-1&&y.length===0&&t.bufferSubData(p,0,v),y.length!==0){for(let _=0,w=y.length;_<w;_++){const b=y[_];n?t.bufferSubData(p,b.start*v.BYTES_PER_ELEMENT,v,b.start,b.count):t.bufferSubData(p,b.start*v.BYTES_PER_ELEMENT,v.subarray(b.start,b.start+b.count))}h.clearUpdateRanges()}g.count!==-1&&(n?t.bufferSubData(p,g.offset*v.BYTES_PER_ELEMENT,v,g.offset,g.count):t.bufferSubData(p,g.offset*v.BYTES_PER_ELEMENT,v.subarray(g.offset,g.offset+g.count)),g.count=-1),h.onUploadCallback()}function s(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function o(c){c.isInterleavedBufferAttribute&&(c=c.data);const h=i.get(c);h&&(t.deleteBuffer(h.buffer),i.delete(c))}function u(c,h){if(c.isGLBufferAttribute){const v=i.get(c);(!v||v.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const p=i.get(c);if(p===void 0)i.set(c,r(c,h));else if(p.version<c.version){if(p.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");a(p.buffer,c,h),p.version=c.version}}return{get:s,remove:o,update:u}}class Cp extends fa{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const a=e/2,s=n/2,o=Math.floor(i),u=Math.floor(r),c=o+1,h=u+1,p=e/o,v=n/u,g=[],y=[],_=[],w=[];for(let b=0;b<h;b++){const M=b*v-s;for(let C=0;C<c;C++){const x=C*p-a;y.push(x,-M,0),_.push(0,0,1),w.push(C/o),w.push(1-b/u)}}for(let b=0;b<u;b++)for(let M=0;M<o;M++){const C=M+c*b,x=M+c*(b+1),T=M+1+c*(b+1),k=M+1+c*b;g.push(C,x,k),g.push(x,T,k)}this.setIndex(g),this.setAttribute("position",new nr(y,3)),this.setAttribute("normal",new nr(_,3)),this.setAttribute("uv",new nr(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cp(e.width,e.height,e.widthSegments,e.heightSegments)}}var Cfe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Efe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,xfe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Mfe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Tfe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Afe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,kfe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Ife=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Pfe=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Rfe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,Lfe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Nfe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Ofe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Dfe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Ffe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Bfe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Ufe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Vfe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,zfe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,$fe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Hfe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Gfe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Wfe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Kfe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,qfe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Yfe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,jfe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Xfe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Zfe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Qfe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Jfe="gl_FragColor = linearToOutputTexel( gl_FragColor );",ehe=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,the=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,nhe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,ihe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,rhe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,ahe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,she=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,ohe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,lhe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,uhe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,che=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,dhe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,fhe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,hhe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,phe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,mhe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,vhe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,ghe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,yhe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,_he=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,bhe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,whe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,She=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Che=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Ehe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,xhe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Mhe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,The=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Ahe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,khe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Ihe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Phe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Rhe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Lhe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Nhe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Ohe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Dhe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Fhe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Bhe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Uhe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Vhe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,zhe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,$he=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Hhe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Ghe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Whe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Khe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,qhe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Yhe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,jhe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Xhe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Zhe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Qhe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Jhe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,epe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,tpe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,npe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,ipe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,rpe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,ape=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,spe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,ope=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,lpe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,upe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,cpe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,dpe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,fpe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,hpe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,ppe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,mpe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,vpe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,gpe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,ype=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,_pe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,bpe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,wpe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Spe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Cpe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Epe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,xpe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Mpe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Tpe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Ape=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,kpe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Ipe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Ppe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Rpe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Lpe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Npe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Ope=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Dpe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Fpe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Bpe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Upe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Vpe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,zpe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$pe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Hpe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Gpe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Wpe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Kpe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,qpe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ype=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,jpe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Xpe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Zpe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Qpe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Jpe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,eme=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,tme=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,gn={alphahash_fragment:Cfe,alphahash_pars_fragment:Efe,alphamap_fragment:xfe,alphamap_pars_fragment:Mfe,alphatest_fragment:Tfe,alphatest_pars_fragment:Afe,aomap_fragment:kfe,aomap_pars_fragment:Ife,batching_pars_vertex:Pfe,batching_vertex:Rfe,begin_vertex:Lfe,beginnormal_vertex:Nfe,bsdfs:Ofe,iridescence_fragment:Dfe,bumpmap_pars_fragment:Ffe,clipping_planes_fragment:Bfe,clipping_planes_pars_fragment:Ufe,clipping_planes_pars_vertex:Vfe,clipping_planes_vertex:zfe,color_fragment:$fe,color_pars_fragment:Hfe,color_pars_vertex:Gfe,color_vertex:Wfe,common:Kfe,cube_uv_reflection_fragment:qfe,defaultnormal_vertex:Yfe,displacementmap_pars_vertex:jfe,displacementmap_vertex:Xfe,emissivemap_fragment:Zfe,emissivemap_pars_fragment:Qfe,colorspace_fragment:Jfe,colorspace_pars_fragment:ehe,envmap_fragment:the,envmap_common_pars_fragment:nhe,envmap_pars_fragment:ihe,envmap_pars_vertex:rhe,envmap_physical_pars_fragment:vhe,envmap_vertex:ahe,fog_vertex:she,fog_pars_vertex:ohe,fog_fragment:lhe,fog_pars_fragment:uhe,gradientmap_pars_fragment:che,lightmap_fragment:dhe,lightmap_pars_fragment:fhe,lights_lambert_fragment:hhe,lights_lambert_pars_fragment:phe,lights_pars_begin:mhe,lights_toon_fragment:ghe,lights_toon_pars_fragment:yhe,lights_phong_fragment:_he,lights_phong_pars_fragment:bhe,lights_physical_fragment:whe,lights_physical_pars_fragment:She,lights_fragment_begin:Che,lights_fragment_maps:Ehe,lights_fragment_end:xhe,logdepthbuf_fragment:Mhe,logdepthbuf_pars_fragment:The,logdepthbuf_pars_vertex:Ahe,logdepthbuf_vertex:khe,map_fragment:Ihe,map_pars_fragment:Phe,map_particle_fragment:Rhe,map_particle_pars_fragment:Lhe,metalnessmap_fragment:Nhe,metalnessmap_pars_fragment:Ohe,morphcolor_vertex:Dhe,morphnormal_vertex:Fhe,morphtarget_pars_vertex:Bhe,morphtarget_vertex:Uhe,normal_fragment_begin:Vhe,normal_fragment_maps:zhe,normal_pars_fragment:$he,normal_pars_vertex:Hhe,normal_vertex:Ghe,normalmap_pars_fragment:Whe,clearcoat_normal_fragment_begin:Khe,clearcoat_normal_fragment_maps:qhe,clearcoat_pars_fragment:Yhe,iridescence_pars_fragment:jhe,opaque_fragment:Xhe,packing:Zhe,premultiplied_alpha_fragment:Qhe,project_vertex:Jhe,dithering_fragment:epe,dithering_pars_fragment:tpe,roughnessmap_fragment:npe,roughnessmap_pars_fragment:ipe,shadowmap_pars_fragment:rpe,shadowmap_pars_vertex:ape,shadowmap_vertex:spe,shadowmask_pars_fragment:ope,skinbase_vertex:lpe,skinning_pars_vertex:upe,skinning_vertex:cpe,skinnormal_vertex:dpe,specularmap_fragment:fpe,specularmap_pars_fragment:hpe,tonemapping_fragment:ppe,tonemapping_pars_fragment:mpe,transmission_fragment:vpe,transmission_pars_fragment:gpe,uv_pars_fragment:ype,uv_pars_vertex:_pe,uv_vertex:bpe,worldpos_vertex:wpe,background_vert:Spe,background_frag:Cpe,backgroundCube_vert:Epe,backgroundCube_frag:xpe,cube_vert:Mpe,cube_frag:Tpe,depth_vert:Ape,depth_frag:kpe,distanceRGBA_vert:Ipe,distanceRGBA_frag:Ppe,equirect_vert:Rpe,equirect_frag:Lpe,linedashed_vert:Npe,linedashed_frag:Ope,meshbasic_vert:Dpe,meshbasic_frag:Fpe,meshlambert_vert:Bpe,meshlambert_frag:Upe,meshmatcap_vert:Vpe,meshmatcap_frag:zpe,meshnormal_vert:$pe,meshnormal_frag:Hpe,meshphong_vert:Gpe,meshphong_frag:Wpe,meshphysical_vert:Kpe,meshphysical_frag:qpe,meshtoon_vert:Ype,meshtoon_frag:jpe,points_vert:Xpe,points_frag:Zpe,shadow_vert:Qpe,shadow_frag:Jpe,sprite_vert:eme,sprite_frag:tme},Ot={common:{diffuse:{value:new Cn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new _n},alphaMap:{value:null},alphaMapTransform:{value:new _n},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new _n}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new _n}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new _n}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new _n},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new _n},normalScale:{value:new An(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new _n},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new _n}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new _n}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new _n}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Cn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Cn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new _n},alphaTest:{value:0},uvTransform:{value:new _n}},sprite:{diffuse:{value:new Cn(16777215)},opacity:{value:1},center:{value:new An(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new _n},alphaMap:{value:null},alphaMapTransform:{value:new _n},alphaTest:{value:0}}},Ha={basic:{uniforms:cr([Ot.common,Ot.specularmap,Ot.envmap,Ot.aomap,Ot.lightmap,Ot.fog]),vertexShader:gn.meshbasic_vert,fragmentShader:gn.meshbasic_frag},lambert:{uniforms:cr([Ot.common,Ot.specularmap,Ot.envmap,Ot.aomap,Ot.lightmap,Ot.emissivemap,Ot.bumpmap,Ot.normalmap,Ot.displacementmap,Ot.fog,Ot.lights,{emissive:{value:new Cn(0)}}]),vertexShader:gn.meshlambert_vert,fragmentShader:gn.meshlambert_frag},phong:{uniforms:cr([Ot.common,Ot.specularmap,Ot.envmap,Ot.aomap,Ot.lightmap,Ot.emissivemap,Ot.bumpmap,Ot.normalmap,Ot.displacementmap,Ot.fog,Ot.lights,{emissive:{value:new Cn(0)},specular:{value:new Cn(1118481)},shininess:{value:30}}]),vertexShader:gn.meshphong_vert,fragmentShader:gn.meshphong_frag},standard:{uniforms:cr([Ot.common,Ot.envmap,Ot.aomap,Ot.lightmap,Ot.emissivemap,Ot.bumpmap,Ot.normalmap,Ot.displacementmap,Ot.roughnessmap,Ot.metalnessmap,Ot.fog,Ot.lights,{emissive:{value:new Cn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:gn.meshphysical_vert,fragmentShader:gn.meshphysical_frag},toon:{uniforms:cr([Ot.common,Ot.aomap,Ot.lightmap,Ot.emissivemap,Ot.bumpmap,Ot.normalmap,Ot.displacementmap,Ot.gradientmap,Ot.fog,Ot.lights,{emissive:{value:new Cn(0)}}]),vertexShader:gn.meshtoon_vert,fragmentShader:gn.meshtoon_frag},matcap:{uniforms:cr([Ot.common,Ot.bumpmap,Ot.normalmap,Ot.displacementmap,Ot.fog,{matcap:{value:null}}]),vertexShader:gn.meshmatcap_vert,fragmentShader:gn.meshmatcap_frag},points:{uniforms:cr([Ot.points,Ot.fog]),vertexShader:gn.points_vert,fragmentShader:gn.points_frag},dashed:{uniforms:cr([Ot.common,Ot.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:gn.linedashed_vert,fragmentShader:gn.linedashed_frag},depth:{uniforms:cr([Ot.common,Ot.displacementmap]),vertexShader:gn.depth_vert,fragmentShader:gn.depth_frag},normal:{uniforms:cr([Ot.common,Ot.bumpmap,Ot.normalmap,Ot.displacementmap,{opacity:{value:1}}]),vertexShader:gn.meshnormal_vert,fragmentShader:gn.meshnormal_frag},sprite:{uniforms:cr([Ot.sprite,Ot.fog]),vertexShader:gn.sprite_vert,fragmentShader:gn.sprite_frag},background:{uniforms:{uvTransform:{value:new _n},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:gn.background_vert,fragmentShader:gn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:gn.backgroundCube_vert,fragmentShader:gn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:gn.cube_vert,fragmentShader:gn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:gn.equirect_vert,fragmentShader:gn.equirect_frag},distanceRGBA:{uniforms:cr([Ot.common,Ot.displacementmap,{referencePosition:{value:new je},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:gn.distanceRGBA_vert,fragmentShader:gn.distanceRGBA_frag},shadow:{uniforms:cr([Ot.lights,Ot.fog,{color:{value:new Cn(0)},opacity:{value:1}}]),vertexShader:gn.shadow_vert,fragmentShader:gn.shadow_frag}};Ha.physical={uniforms:cr([Ha.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new _n},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new _n},clearcoatNormalScale:{value:new An(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new _n},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new _n},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new _n},sheen:{value:0},sheenColor:{value:new Cn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new _n},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new _n},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new _n},transmissionSamplerSize:{value:new An},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new _n},attenuationDistance:{value:0},attenuationColor:{value:new Cn(0)},specularColor:{value:new Cn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new _n},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new _n},anisotropyVector:{value:new An},anisotropyMap:{value:null},anisotropyMapTransform:{value:new _n}}]),vertexShader:gn.meshphysical_vert,fragmentShader:gn.meshphysical_frag};const If={r:0,b:0,g:0};function nme(t,e,n,i,r,a,s){const o=new Cn(0);let u=a===!0?0:1,c,h,p=null,v=0,g=null;function y(w,b){let M=!1,C=b.isScene===!0?b.background:null;C&&C.isTexture&&(C=(b.backgroundBlurriness>0?n:e).get(C)),C===null?_(o,u):C&&C.isColor&&(_(C,1),M=!0);const x=t.xr.getEnvironmentBlendMode();x==="additive"?i.buffers.color.setClear(0,0,0,1,s):x==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,s),(t.autoClear||M)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),C&&(C.isCubeTexture||C.mapping===_p)?(h===void 0&&(h=new ka(new Dd(1,1,1),new go({name:"BackgroundCubeMaterial",uniforms:Gu(Ha.backgroundCube.uniforms),vertexShader:Ha.backgroundCube.vertexShader,fragmentShader:Ha.backgroundCube.fragmentShader,side:Ir,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(T,k,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(h)),h.material.uniforms.envMap.value=C,h.material.uniforms.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=b.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,h.material.toneMapped=Dn.getTransfer(C.colorSpace)!==Qn,(p!==C||v!==C.version||g!==t.toneMapping)&&(h.material.needsUpdate=!0,p=C,v=C.version,g=t.toneMapping),h.layers.enableAll(),w.unshift(h,h.geometry,h.material,0,0,null)):C&&C.isTexture&&(c===void 0&&(c=new ka(new Cp(2,2),new go({name:"BackgroundMaterial",uniforms:Gu(Ha.background.uniforms),vertexShader:Ha.background.vertexShader,fragmentShader:Ha.background.fragmentShader,side:vo,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=C,c.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,c.material.toneMapped=Dn.getTransfer(C.colorSpace)!==Qn,C.matrixAutoUpdate===!0&&C.updateMatrix(),c.material.uniforms.uvTransform.value.copy(C.matrix),(p!==C||v!==C.version||g!==t.toneMapping)&&(c.material.needsUpdate=!0,p=C,v=C.version,g=t.toneMapping),c.layers.enableAll(),w.unshift(c,c.geometry,c.material,0,0,null))}function _(w,b){w.getRGB(If,mk(t)),i.buffers.color.setClear(If.r,If.g,If.b,b,s)}return{getClearColor:function(){return o},setClearColor:function(w,b=1){o.set(w),u=b,_(o,u)},getClearAlpha:function(){return u},setClearAlpha:function(w){u=w,_(o,u)},render:y}}function ime(t,e,n,i){const r=t.getParameter(t.MAX_VERTEX_ATTRIBS),a=i.isWebGL2?null:e.get("OES_vertex_array_object"),s=i.isWebGL2||a!==null,o={},u=w(null);let c=u,h=!1;function p(Y,H,B,X,q){let O=!1;if(s){const V=_(X,B,H);c!==V&&(c=V,g(c.object)),O=b(Y,X,B,q),O&&M(Y,X,B,q)}else{const V=H.wireframe===!0;(c.geometry!==X.id||c.program!==B.id||c.wireframe!==V)&&(c.geometry=X.id,c.program=B.id,c.wireframe=V,O=!0)}q!==null&&n.update(q,t.ELEMENT_ARRAY_BUFFER),(O||h)&&(h=!1,D(Y,H,B,X),q!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(q).buffer))}function v(){return i.isWebGL2?t.createVertexArray():a.createVertexArrayOES()}function g(Y){return i.isWebGL2?t.bindVertexArray(Y):a.bindVertexArrayOES(Y)}function y(Y){return i.isWebGL2?t.deleteVertexArray(Y):a.deleteVertexArrayOES(Y)}function _(Y,H,B){const X=B.wireframe===!0;let q=o[Y.id];q===void 0&&(q={},o[Y.id]=q);let O=q[H.id];O===void 0&&(O={},q[H.id]=O);let V=O[X];return V===void 0&&(V=w(v()),O[X]=V),V}function w(Y){const H=[],B=[],X=[];for(let q=0;q<r;q++)H[q]=0,B[q]=0,X[q]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:H,enabledAttributes:B,attributeDivisors:X,object:Y,attributes:{},index:null}}function b(Y,H,B,X){const q=c.attributes,O=H.attributes;let V=0;const ee=B.getAttributes();for(const ce in ee)if(ee[ce].location>=0){const le=q[ce];let ye=O[ce];if(ye===void 0&&(ce==="instanceMatrix"&&Y.instanceMatrix&&(ye=Y.instanceMatrix),ce==="instanceColor"&&Y.instanceColor&&(ye=Y.instanceColor)),le===void 0||le.attribute!==ye||ye&&le.data!==ye.data)return!0;V++}return c.attributesNum!==V||c.index!==X}function M(Y,H,B,X){const q={},O=H.attributes;let V=0;const ee=B.getAttributes();for(const ce in ee)if(ee[ce].location>=0){let le=O[ce];le===void 0&&(ce==="instanceMatrix"&&Y.instanceMatrix&&(le=Y.instanceMatrix),ce==="instanceColor"&&Y.instanceColor&&(le=Y.instanceColor));const ye={};ye.attribute=le,le&&le.data&&(ye.data=le.data),q[ce]=ye,V++}c.attributes=q,c.attributesNum=V,c.index=X}function C(){const Y=c.newAttributes;for(let H=0,B=Y.length;H<B;H++)Y[H]=0}function x(Y){T(Y,0)}function T(Y,H){const B=c.newAttributes,X=c.enabledAttributes,q=c.attributeDivisors;B[Y]=1,X[Y]===0&&(t.enableVertexAttribArray(Y),X[Y]=1),q[Y]!==H&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Y,H),q[Y]=H)}function k(){const Y=c.newAttributes,H=c.enabledAttributes;for(let B=0,X=H.length;B<X;B++)H[B]!==Y[B]&&(t.disableVertexAttribArray(B),H[B]=0)}function R(Y,H,B,X,q,O,V){V===!0?t.vertexAttribIPointer(Y,H,B,q,O):t.vertexAttribPointer(Y,H,B,X,q,O)}function D(Y,H,B,X){if(i.isWebGL2===!1&&(Y.isInstancedMesh||X.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;C();const q=X.attributes,O=B.getAttributes(),V=H.defaultAttributeValues;for(const ee in O){const ce=O[ee];if(ce.location>=0){let se=q[ee];if(se===void 0&&(ee==="instanceMatrix"&&Y.instanceMatrix&&(se=Y.instanceMatrix),ee==="instanceColor"&&Y.instanceColor&&(se=Y.instanceColor)),se!==void 0){const le=se.normalized,ye=se.itemSize,Ce=n.get(se);if(Ce===void 0)continue;const pe=Ce.buffer,ue=Ce.type,Me=Ce.bytesPerElement,De=i.isWebGL2===!0&&(ue===t.INT||ue===t.UNSIGNED_INT||se.gpuType===XA);if(se.isInterleavedBufferAttribute){const xe=se.data,G=xe.stride,He=se.offset;if(xe.isInstancedInterleavedBuffer){for(let Qe=0;Qe<ce.locationSize;Qe++)T(ce.location+Qe,xe.meshPerAttribute);Y.isInstancedMesh!==!0&&X._maxInstanceCount===void 0&&(X._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let Qe=0;Qe<ce.locationSize;Qe++)x(ce.location+Qe);t.bindBuffer(t.ARRAY_BUFFER,pe);for(let Qe=0;Qe<ce.locationSize;Qe++)R(ce.location+Qe,ye/ce.locationSize,ue,le,G*Me,(He+ye/ce.locationSize*Qe)*Me,De)}else{if(se.isInstancedBufferAttribute){for(let xe=0;xe<ce.locationSize;xe++)T(ce.location+xe,se.meshPerAttribute);Y.isInstancedMesh!==!0&&X._maxInstanceCount===void 0&&(X._maxInstanceCount=se.meshPerAttribute*se.count)}else for(let xe=0;xe<ce.locationSize;xe++)x(ce.location+xe);t.bindBuffer(t.ARRAY_BUFFER,pe);for(let xe=0;xe<ce.locationSize;xe++)R(ce.location+xe,ye/ce.locationSize,ue,le,ye*Me,ye/ce.locationSize*xe*Me,De)}}else if(V!==void 0){const le=V[ee];if(le!==void 0)switch(le.length){case 2:t.vertexAttrib2fv(ce.location,le);break;case 3:t.vertexAttrib3fv(ce.location,le);break;case 4:t.vertexAttrib4fv(ce.location,le);break;default:t.vertexAttrib1fv(ce.location,le)}}}}k()}function U(){$();for(const Y in o){const H=o[Y];for(const B in H){const X=H[B];for(const q in X)y(X[q].object),delete X[q];delete H[B]}delete o[Y]}}function P(Y){if(o[Y.id]===void 0)return;const H=o[Y.id];for(const B in H){const X=H[B];for(const q in X)y(X[q].object),delete X[q];delete H[B]}delete o[Y.id]}function N(Y){for(const H in o){const B=o[H];if(B[Y.id]===void 0)continue;const X=B[Y.id];for(const q in X)y(X[q].object),delete X[q];delete B[Y.id]}}function $(){Q(),h=!0,c!==u&&(c=u,g(c.object))}function Q(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:p,reset:$,resetDefaultState:Q,dispose:U,releaseStatesOfGeometry:P,releaseStatesOfProgram:N,initAttributes:C,enableAttribute:x,disableUnusedAttributes:k}}function rme(t,e,n,i){const r=i.isWebGL2;let a;function s(h){a=h}function o(h,p){t.drawArrays(a,h,p),n.update(p,a,1)}function u(h,p,v){if(v===0)return;let g,y;if(r)g=t,y="drawArraysInstanced";else if(g=e.get("ANGLE_instanced_arrays"),y="drawArraysInstancedANGLE",g===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[y](a,h,p,v),n.update(p,a,v)}function c(h,p,v){if(v===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let y=0;y<v;y++)this.render(h[y],p[y]);else{g.multiDrawArraysWEBGL(a,h,0,p,0,v);let y=0;for(let _=0;_<v;_++)y+=p[_];n.update(y,a,1)}}this.setMode=s,this.render=o,this.renderInstances=u,this.renderMultiDraw=c}function ame(t,e,n){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function a(R){if(R==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";R="mediump"}return R==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let o=n.precision!==void 0?n.precision:"highp";const u=a(o);u!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",u,"instead."),o=u);const c=s||e.has("WEBGL_draw_buffers"),h=n.logarithmicDepthBuffer===!0,p=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),_=t.getParameter(t.MAX_VERTEX_ATTRIBS),w=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),b=t.getParameter(t.MAX_VARYING_VECTORS),M=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),C=v>0,x=s||e.has("OES_texture_float"),T=C&&x,k=s?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:s,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:a,precision:o,logarithmicDepthBuffer:h,maxTextures:p,maxVertexTextures:v,maxTextureSize:g,maxCubemapSize:y,maxAttributes:_,maxVertexUniforms:w,maxVaryings:b,maxFragmentUniforms:M,vertexTextures:C,floatFragmentTextures:x,floatVertexTextures:T,maxSamples:k}}function sme(t){const e=this;let n=null,i=0,r=!1,a=!1;const s=new Bo,o=new _n,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(p,v){const g=p.length!==0||v||i!==0||r;return r=v,i=p.length,g},this.beginShadows=function(){a=!0,h(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(p,v){n=h(p,v,0)},this.setState=function(p,v,g){const y=p.clippingPlanes,_=p.clipIntersection,w=p.clipShadows,b=t.get(p);if(!r||y===null||y.length===0||a&&!w)a?h(null):c();else{const M=a?0:i,C=M*4;let x=b.clippingState||null;u.value=x,x=h(y,v,C,g);for(let T=0;T!==C;++T)x[T]=n[T];b.clippingState=x,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=M}};function c(){u.value!==n&&(u.value=n,u.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function h(p,v,g,y){const _=p!==null?p.length:0;let w=null;if(_!==0){if(w=u.value,y!==!0||w===null){const b=g+_*4,M=v.matrixWorldInverse;o.getNormalMatrix(M),(w===null||w.length<b)&&(w=new Float32Array(b));for(let C=0,x=g;C!==_;++C,x+=4)s.copy(p[C]).applyMatrix4(M,o),s.normal.toArray(w,x),w[x+3]=s.constant}u.value=w,u.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,w}}function ome(t){let e=new WeakMap;function n(s,o){return o===Pg?s.mapping=zu:o===Rg&&(s.mapping=$u),s}function i(s){if(s&&s.isTexture){const o=s.mapping;if(o===Pg||o===Rg)if(e.has(s)){const u=e.get(s).texture;return n(u,s.mapping)}else{const u=s.image;if(u&&u.height>0){const c=new _fe(u.height);return c.fromEquirectangularTexture(t,s),e.set(s,c),s.addEventListener("dispose",r),n(c.texture,s.mapping)}else return null}}return s}function r(s){const o=s.target;o.removeEventListener("dispose",r);const u=e.get(o);u!==void 0&&(e.delete(o),u.dispose())}function a(){e=new WeakMap}return{get:i,dispose:a}}class _k extends vk{constructor(e=-1,n=1,i=1,r=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=i-e,s=i+e,o=r+n,u=r-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=c*this.view.offsetX,s=a+c*this.view.width,o-=h*this.view.offsetY,u=o-h*this.view.height}this.projectionMatrix.makeOrthographic(a,s,o,u,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const lu=4,eC=[.125,.215,.35,.446,.526,.582],Ho=20,Km=new _k,tC=new Cn;let qm=null,Ym=0,jm=0;const Uo=(1+Math.sqrt(5))/2,Ql=1/Uo,nC=[new je(1,1,1),new je(-1,1,1),new je(1,1,-1),new je(-1,1,-1),new je(0,Uo,Ql),new je(0,Uo,-Ql),new je(Ql,0,Uo),new je(-Ql,0,Uo),new je(Uo,Ql,0),new je(-Uo,Ql,0)];class iC{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,r=100){qm=this._renderer.getRenderTarget(),Ym=this._renderer.getActiveCubeFace(),jm=this._renderer.getActiveMipmapLevel(),this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,i,r,a),n>0&&this._blur(a,0,0,n),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=sC(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=aC(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(qm,Ym,jm),e.scissorTest=!1,Pf(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===zu||e.mapping===$u?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),qm=this._renderer.getRenderTarget(),Ym=this._renderer.getActiveCubeFace(),jm=this._renderer.getActiveMipmapLevel();const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:Sr,minFilter:Sr,generateMipmaps:!1,type:dd,format:xa,colorSpace:Ts,depthBuffer:!1},r=rC(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=rC(e,n,i);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=lme(a)),this._blurMaterial=ume(a,e,n)}return r}_compileMaterial(e){const n=new ka(this._lodPlanes[0],e);this._renderer.compile(n,Km)}_sceneToCubeUV(e,n,i,r){const o=new ta(90,1,n,i),u=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],h=this._renderer,p=h.autoClear,v=h.toneMapping;h.getClearColor(tC),h.toneMapping=no,h.autoClear=!1;const g=new Jy({name:"PMREM.Background",side:Ir,depthWrite:!1,depthTest:!1}),y=new ka(new Dd,g);let _=!1;const w=e.background;w?w.isColor&&(g.color.copy(w),e.background=null,_=!0):(g.color.copy(tC),_=!0);for(let b=0;b<6;b++){const M=b%3;M===0?(o.up.set(0,u[b],0),o.lookAt(c[b],0,0)):M===1?(o.up.set(0,0,u[b]),o.lookAt(0,c[b],0)):(o.up.set(0,u[b],0),o.lookAt(0,0,c[b]));const C=this._cubeSize;Pf(r,M*C,b>2?C:0,C,C),h.setRenderTarget(r),_&&h.render(y,o),h.render(e,o)}y.geometry.dispose(),y.material.dispose(),h.toneMapping=v,h.autoClear=p,e.background=w}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===zu||e.mapping===$u;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=sC()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=aC());const a=r?this._cubemapMaterial:this._equirectMaterial,s=new ka(this._lodPlanes[0],a),o=a.uniforms;o.envMap.value=e;const u=this._cubeSize;Pf(n,0,0,3*u,2*u),i.setRenderTarget(n),i.render(s,Km)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const a=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),s=nC[(r-1)%nC.length];this._blur(e,r-1,r,a,s)}n.autoClear=i}_blur(e,n,i,r,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,n,i,r,"latitudinal",a),this._halfBlur(s,e,i,i,r,"longitudinal",a)}_halfBlur(e,n,i,r,a,s,o){const u=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,p=new ka(this._lodPlanes[r],c),v=c.uniforms,g=this._sizeLods[i]-1,y=isFinite(a)?Math.PI/(2*g):2*Math.PI/(2*Ho-1),_=a/y,w=isFinite(a)?1+Math.floor(h*_):Ho;w>Ho&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${w} samples when the maximum is set to ${Ho}`);const b=[];let M=0;for(let R=0;R<Ho;++R){const D=R/_,U=Math.exp(-D*D/2);b.push(U),R===0?M+=U:R<w&&(M+=2*U)}for(let R=0;R<b.length;R++)b[R]=b[R]/M;v.envMap.value=e.texture,v.samples.value=w,v.weights.value=b,v.latitudinal.value=s==="latitudinal",o&&(v.poleAxis.value=o);const{_lodMax:C}=this;v.dTheta.value=y,v.mipInt.value=C-i;const x=this._sizeLods[r],T=3*x*(r>C-lu?r-C+lu:0),k=4*(this._cubeSize-x);Pf(n,T,k,3*x,2*x),u.setRenderTarget(n),u.render(p,Km)}}function lme(t){const e=[],n=[],i=[];let r=t;const a=t-lu+1+eC.length;for(let s=0;s<a;s++){const o=Math.pow(2,r);n.push(o);let u=1/o;s>t-lu?u=eC[s-t+lu-1]:s===0&&(u=0),i.push(u);const c=1/(o-2),h=-c,p=1+c,v=[h,h,p,h,p,p,h,h,p,p,h,p],g=6,y=6,_=3,w=2,b=1,M=new Float32Array(_*y*g),C=new Float32Array(w*y*g),x=new Float32Array(b*y*g);for(let k=0;k<g;k++){const R=k%3*2/3-1,D=k>2?0:-1,U=[R,D,0,R+2/3,D,0,R+2/3,D+1,0,R,D,0,R+2/3,D+1,0,R,D+1,0];M.set(U,_*y*k),C.set(v,w*y*k);const P=[k,k,k,k,k,k];x.set(P,b*y*k)}const T=new fa;T.setAttribute("position",new Tr(M,_)),T.setAttribute("uv",new Tr(C,w)),T.setAttribute("faceIndex",new Tr(x,b)),e.push(T),r>lu&&r--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function rC(t,e,n){const i=new yl(t,e,n);return i.texture.mapping=_p,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Pf(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function ume(t,e,n){const i=new Float32Array(Ho),r=new je(0,1,0);return new go({name:"SphericalGaussianBlur",defines:{n:Ho,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:t_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:to,depthTest:!1,depthWrite:!1})}function aC(){return new go({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:t_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:to,depthTest:!1,depthWrite:!1})}function sC(){return new go({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:t_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:to,depthTest:!1,depthWrite:!1})}function t_(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function cme(t){let e=new WeakMap,n=null;function i(o){if(o&&o.isTexture){const u=o.mapping,c=u===Pg||u===Rg,h=u===zu||u===$u;if(c||h)if(o.isRenderTargetTexture&&o.needsPMREMUpdate===!0){o.needsPMREMUpdate=!1;let p=e.get(o);return n===null&&(n=new iC(t)),p=c?n.fromEquirectangular(o,p):n.fromCubemap(o,p),e.set(o,p),p.texture}else{if(e.has(o))return e.get(o).texture;{const p=o.image;if(c&&p&&p.height>0||h&&p&&r(p)){n===null&&(n=new iC(t));const v=c?n.fromEquirectangular(o):n.fromCubemap(o);return e.set(o,v),o.addEventListener("dispose",a),v.texture}else return null}}}return o}function r(o){let u=0;const c=6;for(let h=0;h<c;h++)o[h]!==void 0&&u++;return u===c}function a(o){const u=o.target;u.removeEventListener("dispose",a);const c=e.get(u);c!==void 0&&(e.delete(u),c.dispose())}function s(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:s}}function dme(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(i){i.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(i){const r=n(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function fme(t,e,n,i){const r={},a=new WeakMap;function s(p){const v=p.target;v.index!==null&&e.remove(v.index);for(const y in v.attributes)e.remove(v.attributes[y]);for(const y in v.morphAttributes){const _=v.morphAttributes[y];for(let w=0,b=_.length;w<b;w++)e.remove(_[w])}v.removeEventListener("dispose",s),delete r[v.id];const g=a.get(v);g&&(e.remove(g),a.delete(v)),i.releaseStatesOfGeometry(v),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,n.memory.geometries--}function o(p,v){return r[v.id]===!0||(v.addEventListener("dispose",s),r[v.id]=!0,n.memory.geometries++),v}function u(p){const v=p.attributes;for(const y in v)e.update(v[y],t.ARRAY_BUFFER);const g=p.morphAttributes;for(const y in g){const _=g[y];for(let w=0,b=_.length;w<b;w++)e.update(_[w],t.ARRAY_BUFFER)}}function c(p){const v=[],g=p.index,y=p.attributes.position;let _=0;if(g!==null){const M=g.array;_=g.version;for(let C=0,x=M.length;C<x;C+=3){const T=M[C+0],k=M[C+1],R=M[C+2];v.push(T,k,k,R,R,T)}}else if(y!==void 0){const M=y.array;_=y.version;for(let C=0,x=M.length/3-1;C<x;C+=3){const T=C+0,k=C+1,R=C+2;v.push(T,k,k,R,R,T)}}else return;const w=new(sk(v)?pk:hk)(v,1);w.version=_;const b=a.get(p);b&&e.remove(b),a.set(p,w)}function h(p){const v=a.get(p);if(v){const g=p.index;g!==null&&v.version<g.version&&c(p)}else c(p);return a.get(p)}return{get:o,update:u,getWireframeAttribute:h}}function hme(t,e,n,i){const r=i.isWebGL2;let a;function s(g){a=g}let o,u;function c(g){o=g.type,u=g.bytesPerElement}function h(g,y){t.drawElements(a,y,o,g*u),n.update(y,a,1)}function p(g,y,_){if(_===0)return;let w,b;if(r)w=t,b="drawElementsInstanced";else if(w=e.get("ANGLE_instanced_arrays"),b="drawElementsInstancedANGLE",w===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}w[b](a,y,o,g*u,_),n.update(y,a,_)}function v(g,y,_){if(_===0)return;const w=e.get("WEBGL_multi_draw");if(w===null)for(let b=0;b<_;b++)this.render(g[b]/u,y[b]);else{w.multiDrawElementsWEBGL(a,y,0,o,g,0,_);let b=0;for(let M=0;M<_;M++)b+=y[M];n.update(b,a,1)}}this.setMode=s,this.setIndex=c,this.render=h,this.renderInstances=p,this.renderMultiDraw=v}function pme(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,s,o){switch(n.calls++,s){case t.TRIANGLES:n.triangles+=o*(a/3);break;case t.LINES:n.lines+=o*(a/2);break;case t.LINE_STRIP:n.lines+=o*(a-1);break;case t.LINE_LOOP:n.lines+=o*a;break;case t.POINTS:n.points+=o*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function r(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function mme(t,e){return t[0]-e[0]}function vme(t,e){return Math.abs(e[1])-Math.abs(t[1])}function gme(t,e,n){const i={},r=new Float32Array(8),a=new WeakMap,s=new di,o=[];for(let c=0;c<8;c++)o[c]=[c,0];function u(c,h,p){const v=c.morphTargetInfluences;if(e.isWebGL2===!0){const g=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,y=g!==void 0?g.length:0;let _=a.get(h);if(_===void 0||_.count!==y){let Y=function(){$.dispose(),a.delete(h),h.removeEventListener("dispose",Y)};_!==void 0&&_.texture.dispose();const M=h.morphAttributes.position!==void 0,C=h.morphAttributes.normal!==void 0,x=h.morphAttributes.color!==void 0,T=h.morphAttributes.position||[],k=h.morphAttributes.normal||[],R=h.morphAttributes.color||[];let D=0;M===!0&&(D=1),C===!0&&(D=2),x===!0&&(D=3);let U=h.attributes.position.count*D,P=1;U>e.maxTextureSize&&(P=Math.ceil(U/e.maxTextureSize),U=e.maxTextureSize);const N=new Float32Array(U*P*4*y),$=new uk(N,U,P,y);$.type=ws,$.needsUpdate=!0;const Q=D*4;for(let H=0;H<y;H++){const B=T[H],X=k[H],q=R[H],O=U*P*4*H;for(let V=0;V<B.count;V++){const ee=V*Q;M===!0&&(s.fromBufferAttribute(B,V),N[O+ee+0]=s.x,N[O+ee+1]=s.y,N[O+ee+2]=s.z,N[O+ee+3]=0),C===!0&&(s.fromBufferAttribute(X,V),N[O+ee+4]=s.x,N[O+ee+5]=s.y,N[O+ee+6]=s.z,N[O+ee+7]=0),x===!0&&(s.fromBufferAttribute(q,V),N[O+ee+8]=s.x,N[O+ee+9]=s.y,N[O+ee+10]=s.z,N[O+ee+11]=q.itemSize===4?s.w:1)}}_={count:y,texture:$,size:new An(U,P)},a.set(h,_),h.addEventListener("dispose",Y)}let w=0;for(let M=0;M<v.length;M++)w+=v[M];const b=h.morphTargetsRelative?1:1-w;p.getUniforms().setValue(t,"morphTargetBaseInfluence",b),p.getUniforms().setValue(t,"morphTargetInfluences",v),p.getUniforms().setValue(t,"morphTargetsTexture",_.texture,n),p.getUniforms().setValue(t,"morphTargetsTextureSize",_.size)}else{const g=v===void 0?0:v.length;let y=i[h.id];if(y===void 0||y.length!==g){y=[];for(let C=0;C<g;C++)y[C]=[C,0];i[h.id]=y}for(let C=0;C<g;C++){const x=y[C];x[0]=C,x[1]=v[C]}y.sort(vme);for(let C=0;C<8;C++)C<g&&y[C][1]?(o[C][0]=y[C][0],o[C][1]=y[C][1]):(o[C][0]=Number.MAX_SAFE_INTEGER,o[C][1]=0);o.sort(mme);const _=h.morphAttributes.position,w=h.morphAttributes.normal;let b=0;for(let C=0;C<8;C++){const x=o[C],T=x[0],k=x[1];T!==Number.MAX_SAFE_INTEGER&&k?(_&&h.getAttribute("morphTarget"+C)!==_[T]&&h.setAttribute("morphTarget"+C,_[T]),w&&h.getAttribute("morphNormal"+C)!==w[T]&&h.setAttribute("morphNormal"+C,w[T]),r[C]=k,b+=k):(_&&h.hasAttribute("morphTarget"+C)===!0&&h.deleteAttribute("morphTarget"+C),w&&h.hasAttribute("morphNormal"+C)===!0&&h.deleteAttribute("morphNormal"+C),r[C]=0)}const M=h.morphTargetsRelative?1:1-b;p.getUniforms().setValue(t,"morphTargetBaseInfluence",M),p.getUniforms().setValue(t,"morphTargetInfluences",r)}}return{update:u}}function yme(t,e,n,i){let r=new WeakMap;function a(u){const c=i.render.frame,h=u.geometry,p=e.get(u,h);if(r.get(p)!==c&&(e.update(p),r.set(p,c)),u.isInstancedMesh&&(u.hasEventListener("dispose",o)===!1&&u.addEventListener("dispose",o),r.get(u)!==c&&(n.update(u.instanceMatrix,t.ARRAY_BUFFER),u.instanceColor!==null&&n.update(u.instanceColor,t.ARRAY_BUFFER),r.set(u,c))),u.isSkinnedMesh){const v=u.skeleton;r.get(v)!==c&&(v.update(),r.set(v,c))}return p}function s(){r=new WeakMap}function o(u){const c=u.target;c.removeEventListener("dispose",o),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:a,dispose:s}}class bk extends Pr{constructor(e,n,i,r,a,s,o,u,c,h){if(h=h!==void 0?h:rl,h!==rl&&h!==Hu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&h===rl&&(i=Zs),i===void 0&&h===Hu&&(i=il),super(null,r,a,s,o,u,h,i,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=o!==void 0?o:dr,this.minFilter=u!==void 0?u:dr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const wk=new Pr,Sk=new bk(1,1);Sk.compareFunction=ak;const Ck=new uk,Ek=new nfe,xk=new gk,oC=[],lC=[],uC=new Float32Array(16),cC=new Float32Array(9),dC=new Float32Array(4);function oc(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let a=oC[r];if(a===void 0&&(a=new Float32Array(r),oC[r]=a),e!==0){i.toArray(a,0);for(let s=1,o=0;s!==e;++s)o+=n,t[s].toArray(a,o)}return a}function Ni(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function Oi(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function Ep(t,e){let n=lC[e];n===void 0&&(n=new Int32Array(e),lC[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function _me(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function bme(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ni(n,e))return;t.uniform2fv(this.addr,e),Oi(n,e)}}function wme(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Ni(n,e))return;t.uniform3fv(this.addr,e),Oi(n,e)}}function Sme(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ni(n,e))return;t.uniform4fv(this.addr,e),Oi(n,e)}}function Cme(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Ni(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Oi(n,e)}else{if(Ni(n,i))return;dC.set(i),t.uniformMatrix2fv(this.addr,!1,dC),Oi(n,i)}}function Eme(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Ni(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Oi(n,e)}else{if(Ni(n,i))return;cC.set(i),t.uniformMatrix3fv(this.addr,!1,cC),Oi(n,i)}}function xme(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Ni(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Oi(n,e)}else{if(Ni(n,i))return;uC.set(i),t.uniformMatrix4fv(this.addr,!1,uC),Oi(n,i)}}function Mme(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Tme(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ni(n,e))return;t.uniform2iv(this.addr,e),Oi(n,e)}}function Ame(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Ni(n,e))return;t.uniform3iv(this.addr,e),Oi(n,e)}}function kme(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ni(n,e))return;t.uniform4iv(this.addr,e),Oi(n,e)}}function Ime(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Pme(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ni(n,e))return;t.uniform2uiv(this.addr,e),Oi(n,e)}}function Rme(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Ni(n,e))return;t.uniform3uiv(this.addr,e),Oi(n,e)}}function Lme(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ni(n,e))return;t.uniform4uiv(this.addr,e),Oi(n,e)}}function Nme(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r);const a=this.type===t.SAMPLER_2D_SHADOW?Sk:wk;n.setTexture2D(e||a,r)}function Ome(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||Ek,r)}function Dme(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||xk,r)}function Fme(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||Ck,r)}function Bme(t){switch(t){case 5126:return _me;case 35664:return bme;case 35665:return wme;case 35666:return Sme;case 35674:return Cme;case 35675:return Eme;case 35676:return xme;case 5124:case 35670:return Mme;case 35667:case 35671:return Tme;case 35668:case 35672:return Ame;case 35669:case 35673:return kme;case 5125:return Ime;case 36294:return Pme;case 36295:return Rme;case 36296:return Lme;case 35678:case 36198:case 36298:case 36306:case 35682:return Nme;case 35679:case 36299:case 36307:return Ome;case 35680:case 36300:case 36308:case 36293:return Dme;case 36289:case 36303:case 36311:case 36292:return Fme}}function Ume(t,e){t.uniform1fv(this.addr,e)}function Vme(t,e){const n=oc(e,this.size,2);t.uniform2fv(this.addr,n)}function zme(t,e){const n=oc(e,this.size,3);t.uniform3fv(this.addr,n)}function $me(t,e){const n=oc(e,this.size,4);t.uniform4fv(this.addr,n)}function Hme(t,e){const n=oc(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Gme(t,e){const n=oc(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Wme(t,e){const n=oc(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Kme(t,e){t.uniform1iv(this.addr,e)}function qme(t,e){t.uniform2iv(this.addr,e)}function Yme(t,e){t.uniform3iv(this.addr,e)}function jme(t,e){t.uniform4iv(this.addr,e)}function Xme(t,e){t.uniform1uiv(this.addr,e)}function Zme(t,e){t.uniform2uiv(this.addr,e)}function Qme(t,e){t.uniform3uiv(this.addr,e)}function Jme(t,e){t.uniform4uiv(this.addr,e)}function eve(t,e,n){const i=this.cache,r=e.length,a=Ep(n,r);Ni(i,a)||(t.uniform1iv(this.addr,a),Oi(i,a));for(let s=0;s!==r;++s)n.setTexture2D(e[s]||wk,a[s])}function tve(t,e,n){const i=this.cache,r=e.length,a=Ep(n,r);Ni(i,a)||(t.uniform1iv(this.addr,a),Oi(i,a));for(let s=0;s!==r;++s)n.setTexture3D(e[s]||Ek,a[s])}function nve(t,e,n){const i=this.cache,r=e.length,a=Ep(n,r);Ni(i,a)||(t.uniform1iv(this.addr,a),Oi(i,a));for(let s=0;s!==r;++s)n.setTextureCube(e[s]||xk,a[s])}function ive(t,e,n){const i=this.cache,r=e.length,a=Ep(n,r);Ni(i,a)||(t.uniform1iv(this.addr,a),Oi(i,a));for(let s=0;s!==r;++s)n.setTexture2DArray(e[s]||Ck,a[s])}function rve(t){switch(t){case 5126:return Ume;case 35664:return Vme;case 35665:return zme;case 35666:return $me;case 35674:return Hme;case 35675:return Gme;case 35676:return Wme;case 5124:case 35670:return Kme;case 35667:case 35671:return qme;case 35668:case 35672:return Yme;case 35669:case 35673:return jme;case 5125:return Xme;case 36294:return Zme;case 36295:return Qme;case 36296:return Jme;case 35678:case 36198:case 36298:case 36306:case 35682:return eve;case 35679:case 36299:case 36307:return tve;case 35680:case 36300:case 36308:case 36293:return nve;case 36289:case 36303:case 36311:case 36292:return ive}}class ave{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=Bme(n.type)}}class sve{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=rve(n.type)}}class ove{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let a=0,s=r.length;a!==s;++a){const o=r[a];o.setValue(e,n[o.id],i)}}}const Xm=/(\w+)(\])?(\[|\.)?/g;function fC(t,e){t.seq.push(e),t.map[e.id]=e}function lve(t,e,n){const i=t.name,r=i.length;for(Xm.lastIndex=0;;){const a=Xm.exec(i),s=Xm.lastIndex;let o=a[1];const u=a[2]==="]",c=a[3];if(u&&(o=o|0),c===void 0||c==="["&&s+2===r){fC(n,c===void 0?new ave(o,t,e):new sve(o,t,e));break}else{let p=n.map[o];p===void 0&&(p=new ove(o),fC(n,p)),n=p}}}class th{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const a=e.getActiveUniform(n,r),s=e.getUniformLocation(n,a.name);lve(a,s,this)}}setValue(e,n,i,r){const a=this.map[n];a!==void 0&&a.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let a=0,s=n.length;a!==s;++a){const o=n[a],u=i[o.id];u.needsUpdate!==!1&&o.setValue(e,u.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,a=e.length;r!==a;++r){const s=e[r];s.id in n&&i.push(s)}return i}}function hC(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const uve=37297;let cve=0;function dve(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),a=Math.min(e+6,n.length);for(let s=r;s<a;s++){const o=s+1;i.push(`${o===e?">":" "} ${o}: ${n[s]}`)}return i.join(`
`)}function fve(t){const e=Dn.getPrimaries(Dn.workingColorSpace),n=Dn.getPrimaries(t);let i;switch(e===n?i="":e===Oh&&n===Nh?i="LinearDisplayP3ToLinearSRGB":e===Nh&&n===Oh&&(i="LinearSRGBToLinearDisplayP3"),t){case Ts:case bp:return[i,"LinearTransferOETF"];case zi:case Qy:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[i,"LinearTransferOETF"]}}function pC(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),r=t.getShaderInfoLog(e).trim();if(i&&r==="")return"";const a=/ERROR: 0:(\d+)/.exec(r);if(a){const s=parseInt(a[1]);return n.toUpperCase()+`

`+r+`

`+dve(t.getShaderSource(e),s)}else return r}function hve(t,e){const n=fve(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function pve(t,e){let n;switch(e){case Mde:n="Linear";break;case Tde:n="Reinhard";break;case Ade:n="OptimizedCineon";break;case kde:n="ACESFilmic";break;case Pde:n="AgX";break;case Ide:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function mve(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.alphaToCoverage||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(uu).join(`
`)}function vve(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(uu).join(`
`)}function gve(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function yve(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const a=t.getActiveAttrib(e,r),s=a.name;let o=1;a.type===t.FLOAT_MAT2&&(o=2),a.type===t.FLOAT_MAT3&&(o=3),a.type===t.FLOAT_MAT4&&(o=4),n[s]={type:a.type,location:t.getAttribLocation(e,s),locationSize:o}}return n}function uu(t){return t!==""}function mC(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function vC(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const _ve=/^[ \t]*#include +<([\w\d./]+)>/gm;function Bg(t){return t.replace(_ve,wve)}const bve=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function wve(t,e){let n=gn[e];if(n===void 0){const i=bve.get(e);if(i!==void 0)n=gn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return Bg(n)}const Sve=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function gC(t){return t.replace(Sve,Cve)}function Cve(t,e,n,i){let r="";for(let a=parseInt(e);a<parseInt(n);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function yC(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	`;return t.isWebGL2&&(e+=`precision ${t.precision} sampler3D;
		precision ${t.precision} sampler2DArray;
		precision ${t.precision} sampler2DShadow;
		precision ${t.precision} samplerCubeShadow;
		precision ${t.precision} sampler2DArrayShadow;
		precision ${t.precision} isampler2D;
		precision ${t.precision} isampler3D;
		precision ${t.precision} isamplerCube;
		precision ${t.precision} isampler2DArray;
		precision ${t.precision} usampler2D;
		precision ${t.precision} usampler3D;
		precision ${t.precision} usamplerCube;
		precision ${t.precision} usampler2DArray;
		`),t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Eve(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===YA?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===ede?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===ys&&(e="SHADOWMAP_TYPE_VSM"),e}function xve(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case zu:case $u:e="ENVMAP_TYPE_CUBE";break;case _p:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Mve(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case $u:e="ENVMAP_MODE_REFRACTION";break}return e}function Tve(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Xy:e="ENVMAP_BLENDING_MULTIPLY";break;case Ede:e="ENVMAP_BLENDING_MIX";break;case xde:e="ENVMAP_BLENDING_ADD";break}return e}function Ave(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:i,maxMip:n}}function kve(t,e,n,i){const r=t.getContext(),a=n.defines;let s=n.vertexShader,o=n.fragmentShader;const u=Eve(n),c=xve(n),h=Mve(n),p=Tve(n),v=Ave(n),g=n.isWebGL2?"":mve(n),y=vve(n),_=gve(a),w=r.createProgram();let b,M,C=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(b=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(uu).join(`
`),b.length>0&&(b+=`
`),M=[g,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(uu).join(`
`),M.length>0&&(M+=`
`)):(b=[yC(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(uu).join(`
`),M=[g,yC(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+h:"",n.envMap?"#define "+p:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==no?"#define TONE_MAPPING":"",n.toneMapping!==no?gn.tonemapping_pars_fragment:"",n.toneMapping!==no?pve("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",gn.colorspace_pars_fragment,hve("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(uu).join(`
`)),s=Bg(s),s=mC(s,n),s=vC(s,n),o=Bg(o),o=mC(o,n),o=vC(o,n),s=gC(s),o=gC(o),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(C=`#version 300 es
`,b=[y,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+b,M=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===NS?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===NS?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+M);const x=C+b+s,T=C+M+o,k=hC(r,r.VERTEX_SHADER,x),R=hC(r,r.FRAGMENT_SHADER,T);r.attachShader(w,k),r.attachShader(w,R),n.index0AttributeName!==void 0?r.bindAttribLocation(w,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(w,0,"position"),r.linkProgram(w);function D($){if(t.debug.checkShaderErrors){const Q=r.getProgramInfoLog(w).trim(),Y=r.getShaderInfoLog(k).trim(),H=r.getShaderInfoLog(R).trim();let B=!0,X=!0;if(r.getProgramParameter(w,r.LINK_STATUS)===!1)if(B=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(r,w,k,R);else{const q=pC(r,k,"vertex"),O=pC(r,R,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(w,r.VALIDATE_STATUS)+`

Material Name: `+$.name+`
Material Type: `+$.type+`

Program Info Log: `+Q+`
`+q+`
`+O)}else Q!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Q):(Y===""||H==="")&&(X=!1);X&&($.diagnostics={runnable:B,programLog:Q,vertexShader:{log:Y,prefix:b},fragmentShader:{log:H,prefix:M}})}r.deleteShader(k),r.deleteShader(R),U=new th(r,w),P=yve(r,w)}let U;this.getUniforms=function(){return U===void 0&&D(this),U};let P;this.getAttributes=function(){return P===void 0&&D(this),P};let N=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return N===!1&&(N=r.getProgramParameter(w,uve)),N},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(w),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=cve++,this.cacheKey=e,this.usedTimes=1,this.program=w,this.vertexShader=k,this.fragmentShader=R,this}let Ive=0;class Pve{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),a=this._getShaderStage(i),s=this._getShaderCacheForMaterial(e);return s.has(r)===!1&&(s.add(r),r.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new Rve(e),n.set(e,i)),i}}class Rve{constructor(e){this.id=Ive++,this.code=e,this.usedTimes=0}}function Lve(t,e,n,i,r,a,s){const o=new dk,u=new Pve,c=new Set,h=[],p=r.isWebGL2,v=r.logarithmicDepthBuffer,g=r.vertexTextures;let y=r.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function w(P){return c.add(P),P===0?"uv":`uv${P}`}function b(P,N,$,Q,Y){const H=Q.fog,B=Y.geometry,X=P.isMeshStandardMaterial?Q.environment:null,q=(P.isMeshStandardMaterial?n:e).get(P.envMap||X),O=q&&q.mapping===_p?q.image.height:null,V=_[P.type];P.precision!==null&&(y=r.getMaxPrecision(P.precision),y!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",y,"instead."));const ee=B.morphAttributes.position||B.morphAttributes.normal||B.morphAttributes.color,ce=ee!==void 0?ee.length:0;let se=0;B.morphAttributes.position!==void 0&&(se=1),B.morphAttributes.normal!==void 0&&(se=2),B.morphAttributes.color!==void 0&&(se=3);let le,ye,Ce,pe;if(V){const ft=Ha[V];le=ft.vertexShader,ye=ft.fragmentShader}else le=P.vertexShader,ye=P.fragmentShader,u.update(P),Ce=u.getVertexShaderID(P),pe=u.getFragmentShaderID(P);const ue=t.getRenderTarget(),Me=Y.isInstancedMesh===!0,De=Y.isBatchedMesh===!0,xe=!!P.map,G=!!P.matcap,He=!!q,Qe=!!P.aoMap,at=!!P.lightMap,rt=!!P.bumpMap,it=!!P.normalMap,qe=!!P.displacementMap,te=!!P.emissiveMap,ae=!!P.metalnessMap,ke=!!P.roughnessMap,Be=P.anisotropy>0,Ve=P.clearcoat>0,Ae=P.iridescence>0,Pe=P.sheen>0,Xe=P.transmission>0,vt=Be&&!!P.anisotropyMap,nt=Ve&&!!P.clearcoatMap,Rt=Ve&&!!P.clearcoatNormalMap,Ye=Ve&&!!P.clearcoatRoughnessMap,Et=Ae&&!!P.iridescenceMap,Te=Ae&&!!P.iridescenceThicknessMap,ze=Pe&&!!P.sheenColorMap,de=Pe&&!!P.sheenRoughnessMap,be=!!P.specularMap,Re=!!P.specularColorMap,gt=!!P.specularIntensityMap,Ft=Xe&&!!P.transmissionMap,Ee=Xe&&!!P.thicknessMap,st=!!P.gradientMap,ve=!!P.alphaMap,et=P.alphaTest>0,lt=!!P.alphaHash,bt=!!P.extensions;let $t=no;P.toneMapped&&(ue===null||ue.isXRRenderTarget===!0)&&($t=t.toneMapping);const hn={isWebGL2:p,shaderID:V,shaderType:P.type,shaderName:P.name,vertexShader:le,fragmentShader:ye,defines:P.defines,customVertexShaderID:Ce,customFragmentShaderID:pe,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:y,batching:De,instancing:Me,instancingColor:Me&&Y.instanceColor!==null,supportsVertexTextures:g,outputColorSpace:ue===null?t.outputColorSpace:ue.isXRRenderTarget===!0?ue.texture.colorSpace:Ts,alphaToCoverage:!!P.alphaToCoverage,map:xe,matcap:G,envMap:He,envMapMode:He&&q.mapping,envMapCubeUVHeight:O,aoMap:Qe,lightMap:at,bumpMap:rt,normalMap:it,displacementMap:g&&qe,emissiveMap:te,normalMapObjectSpace:it&&P.normalMapType===$de,normalMapTangentSpace:it&&P.normalMapType===rk,metalnessMap:ae,roughnessMap:ke,anisotropy:Be,anisotropyMap:vt,clearcoat:Ve,clearcoatMap:nt,clearcoatNormalMap:Rt,clearcoatRoughnessMap:Ye,iridescence:Ae,iridescenceMap:Et,iridescenceThicknessMap:Te,sheen:Pe,sheenColorMap:ze,sheenRoughnessMap:de,specularMap:be,specularColorMap:Re,specularIntensityMap:gt,transmission:Xe,transmissionMap:Ft,thicknessMap:Ee,gradientMap:st,opaque:P.transparent===!1&&P.blending===vu&&P.alphaToCoverage===!1,alphaMap:ve,alphaTest:et,alphaHash:lt,combine:P.combine,mapUv:xe&&w(P.map.channel),aoMapUv:Qe&&w(P.aoMap.channel),lightMapUv:at&&w(P.lightMap.channel),bumpMapUv:rt&&w(P.bumpMap.channel),normalMapUv:it&&w(P.normalMap.channel),displacementMapUv:qe&&w(P.displacementMap.channel),emissiveMapUv:te&&w(P.emissiveMap.channel),metalnessMapUv:ae&&w(P.metalnessMap.channel),roughnessMapUv:ke&&w(P.roughnessMap.channel),anisotropyMapUv:vt&&w(P.anisotropyMap.channel),clearcoatMapUv:nt&&w(P.clearcoatMap.channel),clearcoatNormalMapUv:Rt&&w(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ye&&w(P.clearcoatRoughnessMap.channel),iridescenceMapUv:Et&&w(P.iridescenceMap.channel),iridescenceThicknessMapUv:Te&&w(P.iridescenceThicknessMap.channel),sheenColorMapUv:ze&&w(P.sheenColorMap.channel),sheenRoughnessMapUv:de&&w(P.sheenRoughnessMap.channel),specularMapUv:be&&w(P.specularMap.channel),specularColorMapUv:Re&&w(P.specularColorMap.channel),specularIntensityMapUv:gt&&w(P.specularIntensityMap.channel),transmissionMapUv:Ft&&w(P.transmissionMap.channel),thicknessMapUv:Ee&&w(P.thicknessMap.channel),alphaMapUv:ve&&w(P.alphaMap.channel),vertexTangents:!!B.attributes.tangent&&(it||Be),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!B.attributes.color&&B.attributes.color.itemSize===4,pointsUvs:Y.isPoints===!0&&!!B.attributes.uv&&(xe||ve),fog:!!H,useFog:P.fog===!0,fogExp2:!!H&&H.isFogExp2,flatShading:P.flatShading===!0,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:v,skinning:Y.isSkinnedMesh===!0,morphTargets:B.morphAttributes.position!==void 0,morphNormals:B.morphAttributes.normal!==void 0,morphColors:B.morphAttributes.color!==void 0,morphTargetsCount:ce,morphTextureStride:se,numDirLights:N.directional.length,numPointLights:N.point.length,numSpotLights:N.spot.length,numSpotLightMaps:N.spotLightMap.length,numRectAreaLights:N.rectArea.length,numHemiLights:N.hemi.length,numDirLightShadows:N.directionalShadowMap.length,numPointLightShadows:N.pointShadowMap.length,numSpotLightShadows:N.spotShadowMap.length,numSpotLightShadowsWithMaps:N.numSpotLightShadowsWithMaps,numLightProbes:N.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:P.dithering,shadowMapEnabled:t.shadowMap.enabled&&$.length>0,shadowMapType:t.shadowMap.type,toneMapping:$t,useLegacyLights:t._useLegacyLights,decodeVideoTexture:xe&&P.map.isVideoTexture===!0&&Dn.getTransfer(P.map.colorSpace)===Qn,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===Wa,flipSided:P.side===Ir,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionDerivatives:bt&&P.extensions.derivatives===!0,extensionFragDepth:bt&&P.extensions.fragDepth===!0,extensionDrawBuffers:bt&&P.extensions.drawBuffers===!0,extensionShaderTextureLOD:bt&&P.extensions.shaderTextureLOD===!0,extensionClipCullDistance:bt&&P.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:bt&&P.extensions.multiDraw===!0&&i.has("WEBGL_multi_draw"),rendererExtensionFragDepth:p||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:p||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:p||i.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()};return hn.vertexUv1s=c.has(1),hn.vertexUv2s=c.has(2),hn.vertexUv3s=c.has(3),c.clear(),hn}function M(P){const N=[];if(P.shaderID?N.push(P.shaderID):(N.push(P.customVertexShaderID),N.push(P.customFragmentShaderID)),P.defines!==void 0)for(const $ in P.defines)N.push($),N.push(P.defines[$]);return P.isRawShaderMaterial===!1&&(C(N,P),x(N,P),N.push(t.outputColorSpace)),N.push(P.customProgramCacheKey),N.join()}function C(P,N){P.push(N.precision),P.push(N.outputColorSpace),P.push(N.envMapMode),P.push(N.envMapCubeUVHeight),P.push(N.mapUv),P.push(N.alphaMapUv),P.push(N.lightMapUv),P.push(N.aoMapUv),P.push(N.bumpMapUv),P.push(N.normalMapUv),P.push(N.displacementMapUv),P.push(N.emissiveMapUv),P.push(N.metalnessMapUv),P.push(N.roughnessMapUv),P.push(N.anisotropyMapUv),P.push(N.clearcoatMapUv),P.push(N.clearcoatNormalMapUv),P.push(N.clearcoatRoughnessMapUv),P.push(N.iridescenceMapUv),P.push(N.iridescenceThicknessMapUv),P.push(N.sheenColorMapUv),P.push(N.sheenRoughnessMapUv),P.push(N.specularMapUv),P.push(N.specularColorMapUv),P.push(N.specularIntensityMapUv),P.push(N.transmissionMapUv),P.push(N.thicknessMapUv),P.push(N.combine),P.push(N.fogExp2),P.push(N.sizeAttenuation),P.push(N.morphTargetsCount),P.push(N.morphAttributeCount),P.push(N.numDirLights),P.push(N.numPointLights),P.push(N.numSpotLights),P.push(N.numSpotLightMaps),P.push(N.numHemiLights),P.push(N.numRectAreaLights),P.push(N.numDirLightShadows),P.push(N.numPointLightShadows),P.push(N.numSpotLightShadows),P.push(N.numSpotLightShadowsWithMaps),P.push(N.numLightProbes),P.push(N.shadowMapType),P.push(N.toneMapping),P.push(N.numClippingPlanes),P.push(N.numClipIntersection),P.push(N.depthPacking)}function x(P,N){o.disableAll(),N.isWebGL2&&o.enable(0),N.supportsVertexTextures&&o.enable(1),N.instancing&&o.enable(2),N.instancingColor&&o.enable(3),N.matcap&&o.enable(4),N.envMap&&o.enable(5),N.normalMapObjectSpace&&o.enable(6),N.normalMapTangentSpace&&o.enable(7),N.clearcoat&&o.enable(8),N.iridescence&&o.enable(9),N.alphaTest&&o.enable(10),N.vertexColors&&o.enable(11),N.vertexAlphas&&o.enable(12),N.vertexUv1s&&o.enable(13),N.vertexUv2s&&o.enable(14),N.vertexUv3s&&o.enable(15),N.vertexTangents&&o.enable(16),N.anisotropy&&o.enable(17),N.alphaHash&&o.enable(18),N.batching&&o.enable(19),P.push(o.mask),o.disableAll(),N.fog&&o.enable(0),N.useFog&&o.enable(1),N.flatShading&&o.enable(2),N.logarithmicDepthBuffer&&o.enable(3),N.skinning&&o.enable(4),N.morphTargets&&o.enable(5),N.morphNormals&&o.enable(6),N.morphColors&&o.enable(7),N.premultipliedAlpha&&o.enable(8),N.shadowMapEnabled&&o.enable(9),N.useLegacyLights&&o.enable(10),N.doubleSided&&o.enable(11),N.flipSided&&o.enable(12),N.useDepthPacking&&o.enable(13),N.dithering&&o.enable(14),N.transmission&&o.enable(15),N.sheen&&o.enable(16),N.opaque&&o.enable(17),N.pointsUvs&&o.enable(18),N.decodeVideoTexture&&o.enable(19),N.alphaToCoverage&&o.enable(20),P.push(o.mask)}function T(P){const N=_[P.type];let $;if(N){const Q=Ha[N];$=mfe.clone(Q.uniforms)}else $=P.uniforms;return $}function k(P,N){let $;for(let Q=0,Y=h.length;Q<Y;Q++){const H=h[Q];if(H.cacheKey===N){$=H,++$.usedTimes;break}}return $===void 0&&($=new kve(t,N,P,a),h.push($)),$}function R(P){if(--P.usedTimes===0){const N=h.indexOf(P);h[N]=h[h.length-1],h.pop(),P.destroy()}}function D(P){u.remove(P)}function U(){u.dispose()}return{getParameters:b,getProgramCacheKey:M,getUniforms:T,acquireProgram:k,releaseProgram:R,releaseShaderCache:D,programs:h,dispose:U}}function Nve(){let t=new WeakMap;function e(a){let s=t.get(a);return s===void 0&&(s={},t.set(a,s)),s}function n(a){t.delete(a)}function i(a,s,o){t.get(a)[s]=o}function r(){t=new WeakMap}return{get:e,remove:n,update:i,dispose:r}}function Ove(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function _C(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function bC(){const t=[];let e=0;const n=[],i=[],r=[];function a(){e=0,n.length=0,i.length=0,r.length=0}function s(p,v,g,y,_,w){let b=t[e];return b===void 0?(b={id:p.id,object:p,geometry:v,material:g,groupOrder:y,renderOrder:p.renderOrder,z:_,group:w},t[e]=b):(b.id=p.id,b.object=p,b.geometry=v,b.material=g,b.groupOrder=y,b.renderOrder=p.renderOrder,b.z=_,b.group=w),e++,b}function o(p,v,g,y,_,w){const b=s(p,v,g,y,_,w);g.transmission>0?i.push(b):g.transparent===!0?r.push(b):n.push(b)}function u(p,v,g,y,_,w){const b=s(p,v,g,y,_,w);g.transmission>0?i.unshift(b):g.transparent===!0?r.unshift(b):n.unshift(b)}function c(p,v){n.length>1&&n.sort(p||Ove),i.length>1&&i.sort(v||_C),r.length>1&&r.sort(v||_C)}function h(){for(let p=e,v=t.length;p<v;p++){const g=t[p];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}}return{opaque:n,transmissive:i,transparent:r,init:a,push:o,unshift:u,finish:h,sort:c}}function Dve(){let t=new WeakMap;function e(i,r){const a=t.get(i);let s;return a===void 0?(s=new bC,t.set(i,[s])):r>=a.length?(s=new bC,a.push(s)):s=a[r],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function Fve(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new je,color:new Cn};break;case"SpotLight":n={position:new je,direction:new je,color:new Cn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new je,color:new Cn,distance:0,decay:0};break;case"HemisphereLight":n={direction:new je,skyColor:new Cn,groundColor:new Cn};break;case"RectAreaLight":n={color:new Cn,position:new je,halfWidth:new je,halfHeight:new je};break}return t[e.id]=n,n}}}function Bve(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new An};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new An};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new An,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let Uve=0;function Vve(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function zve(t,e){const n=new Fve,i=Bve(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let h=0;h<9;h++)r.probe.push(new je);const a=new je,s=new jn,o=new jn;function u(h,p){let v=0,g=0,y=0;for(let $=0;$<9;$++)r.probe[$].set(0,0,0);let _=0,w=0,b=0,M=0,C=0,x=0,T=0,k=0,R=0,D=0,U=0;h.sort(Vve);const P=p===!0?Math.PI:1;for(let $=0,Q=h.length;$<Q;$++){const Y=h[$],H=Y.color,B=Y.intensity,X=Y.distance,q=Y.shadow&&Y.shadow.map?Y.shadow.map.texture:null;if(Y.isAmbientLight)v+=H.r*B*P,g+=H.g*B*P,y+=H.b*B*P;else if(Y.isLightProbe){for(let O=0;O<9;O++)r.probe[O].addScaledVector(Y.sh.coefficients[O],B);U++}else if(Y.isDirectionalLight){const O=n.get(Y);if(O.color.copy(Y.color).multiplyScalar(Y.intensity*P),Y.castShadow){const V=Y.shadow,ee=i.get(Y);ee.shadowBias=V.bias,ee.shadowNormalBias=V.normalBias,ee.shadowRadius=V.radius,ee.shadowMapSize=V.mapSize,r.directionalShadow[_]=ee,r.directionalShadowMap[_]=q,r.directionalShadowMatrix[_]=Y.shadow.matrix,x++}r.directional[_]=O,_++}else if(Y.isSpotLight){const O=n.get(Y);O.position.setFromMatrixPosition(Y.matrixWorld),O.color.copy(H).multiplyScalar(B*P),O.distance=X,O.coneCos=Math.cos(Y.angle),O.penumbraCos=Math.cos(Y.angle*(1-Y.penumbra)),O.decay=Y.decay,r.spot[b]=O;const V=Y.shadow;if(Y.map&&(r.spotLightMap[R]=Y.map,R++,V.updateMatrices(Y),Y.castShadow&&D++),r.spotLightMatrix[b]=V.matrix,Y.castShadow){const ee=i.get(Y);ee.shadowBias=V.bias,ee.shadowNormalBias=V.normalBias,ee.shadowRadius=V.radius,ee.shadowMapSize=V.mapSize,r.spotShadow[b]=ee,r.spotShadowMap[b]=q,k++}b++}else if(Y.isRectAreaLight){const O=n.get(Y);O.color.copy(H).multiplyScalar(B),O.halfWidth.set(Y.width*.5,0,0),O.halfHeight.set(0,Y.height*.5,0),r.rectArea[M]=O,M++}else if(Y.isPointLight){const O=n.get(Y);if(O.color.copy(Y.color).multiplyScalar(Y.intensity*P),O.distance=Y.distance,O.decay=Y.decay,Y.castShadow){const V=Y.shadow,ee=i.get(Y);ee.shadowBias=V.bias,ee.shadowNormalBias=V.normalBias,ee.shadowRadius=V.radius,ee.shadowMapSize=V.mapSize,ee.shadowCameraNear=V.camera.near,ee.shadowCameraFar=V.camera.far,r.pointShadow[w]=ee,r.pointShadowMap[w]=q,r.pointShadowMatrix[w]=Y.shadow.matrix,T++}r.point[w]=O,w++}else if(Y.isHemisphereLight){const O=n.get(Y);O.skyColor.copy(Y.color).multiplyScalar(B*P),O.groundColor.copy(Y.groundColor).multiplyScalar(B*P),r.hemi[C]=O,C++}}M>0&&(e.isWebGL2?t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Ot.LTC_FLOAT_1,r.rectAreaLTC2=Ot.LTC_FLOAT_2):(r.rectAreaLTC1=Ot.LTC_HALF_1,r.rectAreaLTC2=Ot.LTC_HALF_2):t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Ot.LTC_FLOAT_1,r.rectAreaLTC2=Ot.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Ot.LTC_HALF_1,r.rectAreaLTC2=Ot.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=v,r.ambient[1]=g,r.ambient[2]=y;const N=r.hash;(N.directionalLength!==_||N.pointLength!==w||N.spotLength!==b||N.rectAreaLength!==M||N.hemiLength!==C||N.numDirectionalShadows!==x||N.numPointShadows!==T||N.numSpotShadows!==k||N.numSpotMaps!==R||N.numLightProbes!==U)&&(r.directional.length=_,r.spot.length=b,r.rectArea.length=M,r.point.length=w,r.hemi.length=C,r.directionalShadow.length=x,r.directionalShadowMap.length=x,r.pointShadow.length=T,r.pointShadowMap.length=T,r.spotShadow.length=k,r.spotShadowMap.length=k,r.directionalShadowMatrix.length=x,r.pointShadowMatrix.length=T,r.spotLightMatrix.length=k+R-D,r.spotLightMap.length=R,r.numSpotLightShadowsWithMaps=D,r.numLightProbes=U,N.directionalLength=_,N.pointLength=w,N.spotLength=b,N.rectAreaLength=M,N.hemiLength=C,N.numDirectionalShadows=x,N.numPointShadows=T,N.numSpotShadows=k,N.numSpotMaps=R,N.numLightProbes=U,r.version=Uve++)}function c(h,p){let v=0,g=0,y=0,_=0,w=0;const b=p.matrixWorldInverse;for(let M=0,C=h.length;M<C;M++){const x=h[M];if(x.isDirectionalLight){const T=r.directional[v];T.direction.setFromMatrixPosition(x.matrixWorld),a.setFromMatrixPosition(x.target.matrixWorld),T.direction.sub(a),T.direction.transformDirection(b),v++}else if(x.isSpotLight){const T=r.spot[y];T.position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(b),T.direction.setFromMatrixPosition(x.matrixWorld),a.setFromMatrixPosition(x.target.matrixWorld),T.direction.sub(a),T.direction.transformDirection(b),y++}else if(x.isRectAreaLight){const T=r.rectArea[_];T.position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(b),o.identity(),s.copy(x.matrixWorld),s.premultiply(b),o.extractRotation(s),T.halfWidth.set(x.width*.5,0,0),T.halfHeight.set(0,x.height*.5,0),T.halfWidth.applyMatrix4(o),T.halfHeight.applyMatrix4(o),_++}else if(x.isPointLight){const T=r.point[g];T.position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(b),g++}else if(x.isHemisphereLight){const T=r.hemi[w];T.direction.setFromMatrixPosition(x.matrixWorld),T.direction.transformDirection(b),w++}}}return{setup:u,setupView:c,state:r}}function wC(t,e){const n=new zve(t,e),i=[],r=[];function a(){i.length=0,r.length=0}function s(p){i.push(p)}function o(p){r.push(p)}function u(p){n.setup(i,p)}function c(p){n.setupView(i,p)}return{init:a,state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:u,setupLightsView:c,pushLight:s,pushShadow:o}}function $ve(t,e){let n=new WeakMap;function i(a,s=0){const o=n.get(a);let u;return o===void 0?(u=new wC(t,e),n.set(a,[u])):s>=o.length?(u=new wC(t,e),o.push(u)):u=o[s],u}function r(){n=new WeakMap}return{get:i,dispose:r}}class Hve extends sc{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Vde,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Gve extends sc{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Wve=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Kve=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function qve(t,e,n){let i=new e_;const r=new An,a=new An,s=new di,o=new Hve({depthPacking:zde}),u=new Gve,c={},h=n.maxTextureSize,p={[vo]:Ir,[Ir]:vo,[Wa]:Wa},v=new go({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new An},radius:{value:4}},vertexShader:Wve,fragmentShader:Kve}),g=v.clone();g.defines.HORIZONTAL_PASS=1;const y=new fa;y.setAttribute("position",new Tr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new ka(y,v),w=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=YA;let b=this.type;this.render=function(k,R,D){if(w.enabled===!1||w.autoUpdate===!1&&w.needsUpdate===!1||k.length===0)return;const U=t.getRenderTarget(),P=t.getActiveCubeFace(),N=t.getActiveMipmapLevel(),$=t.state;$.setBlending(to),$.buffers.color.setClear(1,1,1,1),$.buffers.depth.setTest(!0),$.setScissorTest(!1);const Q=b!==ys&&this.type===ys,Y=b===ys&&this.type!==ys;for(let H=0,B=k.length;H<B;H++){const X=k[H],q=X.shadow;if(q===void 0){console.warn("THREE.WebGLShadowMap:",X,"has no shadow.");continue}if(q.autoUpdate===!1&&q.needsUpdate===!1)continue;r.copy(q.mapSize);const O=q.getFrameExtents();if(r.multiply(O),a.copy(q.mapSize),(r.x>h||r.y>h)&&(r.x>h&&(a.x=Math.floor(h/O.x),r.x=a.x*O.x,q.mapSize.x=a.x),r.y>h&&(a.y=Math.floor(h/O.y),r.y=a.y*O.y,q.mapSize.y=a.y)),q.map===null||Q===!0||Y===!0){const ee=this.type!==ys?{minFilter:dr,magFilter:dr}:{};q.map!==null&&q.map.dispose(),q.map=new yl(r.x,r.y,ee),q.map.texture.name=X.name+".shadowMap",q.camera.updateProjectionMatrix()}t.setRenderTarget(q.map),t.clear();const V=q.getViewportCount();for(let ee=0;ee<V;ee++){const ce=q.getViewport(ee);s.set(a.x*ce.x,a.y*ce.y,a.x*ce.z,a.y*ce.w),$.viewport(s),q.updateMatrices(X,ee),i=q.getFrustum(),x(R,D,q.camera,X,this.type)}q.isPointLightShadow!==!0&&this.type===ys&&M(q,D),q.needsUpdate=!1}b=this.type,w.needsUpdate=!1,t.setRenderTarget(U,P,N)};function M(k,R){const D=e.update(_);v.defines.VSM_SAMPLES!==k.blurSamples&&(v.defines.VSM_SAMPLES=k.blurSamples,g.defines.VSM_SAMPLES=k.blurSamples,v.needsUpdate=!0,g.needsUpdate=!0),k.mapPass===null&&(k.mapPass=new yl(r.x,r.y)),v.uniforms.shadow_pass.value=k.map.texture,v.uniforms.resolution.value=k.mapSize,v.uniforms.radius.value=k.radius,t.setRenderTarget(k.mapPass),t.clear(),t.renderBufferDirect(R,null,D,v,_,null),g.uniforms.shadow_pass.value=k.mapPass.texture,g.uniforms.resolution.value=k.mapSize,g.uniforms.radius.value=k.radius,t.setRenderTarget(k.map),t.clear(),t.renderBufferDirect(R,null,D,g,_,null)}function C(k,R,D,U){let P=null;const N=D.isPointLight===!0?k.customDistanceMaterial:k.customDepthMaterial;if(N!==void 0)P=N;else if(P=D.isPointLight===!0?u:o,t.localClippingEnabled&&R.clipShadows===!0&&Array.isArray(R.clippingPlanes)&&R.clippingPlanes.length!==0||R.displacementMap&&R.displacementScale!==0||R.alphaMap&&R.alphaTest>0||R.map&&R.alphaTest>0){const $=P.uuid,Q=R.uuid;let Y=c[$];Y===void 0&&(Y={},c[$]=Y);let H=Y[Q];H===void 0&&(H=P.clone(),Y[Q]=H,R.addEventListener("dispose",T)),P=H}if(P.visible=R.visible,P.wireframe=R.wireframe,U===ys?P.side=R.shadowSide!==null?R.shadowSide:R.side:P.side=R.shadowSide!==null?R.shadowSide:p[R.side],P.alphaMap=R.alphaMap,P.alphaTest=R.alphaTest,P.map=R.map,P.clipShadows=R.clipShadows,P.clippingPlanes=R.clippingPlanes,P.clipIntersection=R.clipIntersection,P.displacementMap=R.displacementMap,P.displacementScale=R.displacementScale,P.displacementBias=R.displacementBias,P.wireframeLinewidth=R.wireframeLinewidth,P.linewidth=R.linewidth,D.isPointLight===!0&&P.isMeshDistanceMaterial===!0){const $=t.properties.get(P);$.light=D}return P}function x(k,R,D,U,P){if(k.visible===!1)return;if(k.layers.test(R.layers)&&(k.isMesh||k.isLine||k.isPoints)&&(k.castShadow||k.receiveShadow&&P===ys)&&(!k.frustumCulled||i.intersectsObject(k))){k.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,k.matrixWorld);const Q=e.update(k),Y=k.material;if(Array.isArray(Y)){const H=Q.groups;for(let B=0,X=H.length;B<X;B++){const q=H[B],O=Y[q.materialIndex];if(O&&O.visible){const V=C(k,O,U,P);k.onBeforeShadow(t,k,R,D,Q,V,q),t.renderBufferDirect(D,null,Q,V,k,q),k.onAfterShadow(t,k,R,D,Q,V,q)}}}else if(Y.visible){const H=C(k,Y,U,P);k.onBeforeShadow(t,k,R,D,Q,H,null),t.renderBufferDirect(D,null,Q,H,k,null),k.onAfterShadow(t,k,R,D,Q,H,null)}}const $=k.children;for(let Q=0,Y=$.length;Q<Y;Q++)x($[Q],R,D,U,P)}function T(k){k.target.removeEventListener("dispose",T);for(const D in c){const U=c[D],P=k.target.uuid;P in U&&(U[P].dispose(),delete U[P])}}}function Yve(t,e,n){const i=n.isWebGL2;function r(){let ve=!1;const et=new di;let lt=null;const bt=new di(0,0,0,0);return{setMask:function($t){lt!==$t&&!ve&&(t.colorMask($t,$t,$t,$t),lt=$t)},setLocked:function($t){ve=$t},setClear:function($t,hn,ft,kn,Zn){Zn===!0&&($t*=kn,hn*=kn,ft*=kn),et.set($t,hn,ft,kn),bt.equals(et)===!1&&(t.clearColor($t,hn,ft,kn),bt.copy(et))},reset:function(){ve=!1,lt=null,bt.set(-1,0,0,0)}}}function a(){let ve=!1,et=null,lt=null,bt=null;return{setTest:function($t){$t?Me(t.DEPTH_TEST):De(t.DEPTH_TEST)},setMask:function($t){et!==$t&&!ve&&(t.depthMask($t),et=$t)},setFunc:function($t){if(lt!==$t){switch($t){case gde:t.depthFunc(t.NEVER);break;case yde:t.depthFunc(t.ALWAYS);break;case _de:t.depthFunc(t.LESS);break;case Rh:t.depthFunc(t.LEQUAL);break;case bde:t.depthFunc(t.EQUAL);break;case wde:t.depthFunc(t.GEQUAL);break;case Sde:t.depthFunc(t.GREATER);break;case Cde:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}lt=$t}},setLocked:function($t){ve=$t},setClear:function($t){bt!==$t&&(t.clearDepth($t),bt=$t)},reset:function(){ve=!1,et=null,lt=null,bt=null}}}function s(){let ve=!1,et=null,lt=null,bt=null,$t=null,hn=null,ft=null,kn=null,Zn=null;return{setTest:function(pn){ve||(pn?Me(t.STENCIL_TEST):De(t.STENCIL_TEST))},setMask:function(pn){et!==pn&&!ve&&(t.stencilMask(pn),et=pn)},setFunc:function(pn,Un,ci){(lt!==pn||bt!==Un||$t!==ci)&&(t.stencilFunc(pn,Un,ci),lt=pn,bt=Un,$t=ci)},setOp:function(pn,Un,ci){(hn!==pn||ft!==Un||kn!==ci)&&(t.stencilOp(pn,Un,ci),hn=pn,ft=Un,kn=ci)},setLocked:function(pn){ve=pn},setClear:function(pn){Zn!==pn&&(t.clearStencil(pn),Zn=pn)},reset:function(){ve=!1,et=null,lt=null,bt=null,$t=null,hn=null,ft=null,kn=null,Zn=null}}}const o=new r,u=new a,c=new s,h=new WeakMap,p=new WeakMap;let v={},g={},y=new WeakMap,_=[],w=null,b=!1,M=null,C=null,x=null,T=null,k=null,R=null,D=null,U=new Cn(0,0,0),P=0,N=!1,$=null,Q=null,Y=null,H=null,B=null;const X=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let q=!1,O=0;const V=t.getParameter(t.VERSION);V.indexOf("WebGL")!==-1?(O=parseFloat(/^WebGL (\d)/.exec(V)[1]),q=O>=1):V.indexOf("OpenGL ES")!==-1&&(O=parseFloat(/^OpenGL ES (\d)/.exec(V)[1]),q=O>=2);let ee=null,ce={};const se=t.getParameter(t.SCISSOR_BOX),le=t.getParameter(t.VIEWPORT),ye=new di().fromArray(se),Ce=new di().fromArray(le);function pe(ve,et,lt,bt){const $t=new Uint8Array(4),hn=t.createTexture();t.bindTexture(ve,hn),t.texParameteri(ve,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ve,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let ft=0;ft<lt;ft++)i&&(ve===t.TEXTURE_3D||ve===t.TEXTURE_2D_ARRAY)?t.texImage3D(et,0,t.RGBA,1,1,bt,0,t.RGBA,t.UNSIGNED_BYTE,$t):t.texImage2D(et+ft,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,$t);return hn}const ue={};ue[t.TEXTURE_2D]=pe(t.TEXTURE_2D,t.TEXTURE_2D,1),ue[t.TEXTURE_CUBE_MAP]=pe(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(ue[t.TEXTURE_2D_ARRAY]=pe(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ue[t.TEXTURE_3D]=pe(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),o.setClear(0,0,0,1),u.setClear(1),c.setClear(0),Me(t.DEPTH_TEST),u.setFunc(Rh),qe(!1),te(eS),Me(t.CULL_FACE),rt(to);function Me(ve){v[ve]!==!0&&(t.enable(ve),v[ve]=!0)}function De(ve){v[ve]!==!1&&(t.disable(ve),v[ve]=!1)}function xe(ve,et){return g[ve]!==et?(t.bindFramebuffer(ve,et),g[ve]=et,i&&(ve===t.DRAW_FRAMEBUFFER&&(g[t.FRAMEBUFFER]=et),ve===t.FRAMEBUFFER&&(g[t.DRAW_FRAMEBUFFER]=et)),!0):!1}function G(ve,et){let lt=_,bt=!1;if(ve)if(lt=y.get(et),lt===void 0&&(lt=[],y.set(et,lt)),ve.isWebGLMultipleRenderTargets){const $t=ve.texture;if(lt.length!==$t.length||lt[0]!==t.COLOR_ATTACHMENT0){for(let hn=0,ft=$t.length;hn<ft;hn++)lt[hn]=t.COLOR_ATTACHMENT0+hn;lt.length=$t.length,bt=!0}}else lt[0]!==t.COLOR_ATTACHMENT0&&(lt[0]=t.COLOR_ATTACHMENT0,bt=!0);else lt[0]!==t.BACK&&(lt[0]=t.BACK,bt=!0);bt&&(n.isWebGL2?t.drawBuffers(lt):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(lt))}function He(ve){return w!==ve?(t.useProgram(ve),w=ve,!0):!1}const Qe={[$o]:t.FUNC_ADD,[nde]:t.FUNC_SUBTRACT,[ide]:t.FUNC_REVERSE_SUBTRACT};if(i)Qe[rS]=t.MIN,Qe[aS]=t.MAX;else{const ve=e.get("EXT_blend_minmax");ve!==null&&(Qe[rS]=ve.MIN_EXT,Qe[aS]=ve.MAX_EXT)}const at={[rde]:t.ZERO,[ade]:t.ONE,[sde]:t.SRC_COLOR,[kg]:t.SRC_ALPHA,[fde]:t.SRC_ALPHA_SATURATE,[cde]:t.DST_COLOR,[lde]:t.DST_ALPHA,[ode]:t.ONE_MINUS_SRC_COLOR,[Ig]:t.ONE_MINUS_SRC_ALPHA,[dde]:t.ONE_MINUS_DST_COLOR,[ude]:t.ONE_MINUS_DST_ALPHA,[hde]:t.CONSTANT_COLOR,[pde]:t.ONE_MINUS_CONSTANT_COLOR,[mde]:t.CONSTANT_ALPHA,[vde]:t.ONE_MINUS_CONSTANT_ALPHA};function rt(ve,et,lt,bt,$t,hn,ft,kn,Zn,pn){if(ve===to){b===!0&&(De(t.BLEND),b=!1);return}if(b===!1&&(Me(t.BLEND),b=!0),ve!==tde){if(ve!==M||pn!==N){if((C!==$o||k!==$o)&&(t.blendEquation(t.FUNC_ADD),C=$o,k=$o),pn)switch(ve){case vu:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case tS:t.blendFunc(t.ONE,t.ONE);break;case nS:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case iS:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ve);break}else switch(ve){case vu:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case tS:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case nS:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case iS:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ve);break}x=null,T=null,R=null,D=null,U.set(0,0,0),P=0,M=ve,N=pn}return}$t=$t||et,hn=hn||lt,ft=ft||bt,(et!==C||$t!==k)&&(t.blendEquationSeparate(Qe[et],Qe[$t]),C=et,k=$t),(lt!==x||bt!==T||hn!==R||ft!==D)&&(t.blendFuncSeparate(at[lt],at[bt],at[hn],at[ft]),x=lt,T=bt,R=hn,D=ft),(kn.equals(U)===!1||Zn!==P)&&(t.blendColor(kn.r,kn.g,kn.b,Zn),U.copy(kn),P=Zn),M=ve,N=!1}function it(ve,et){ve.side===Wa?De(t.CULL_FACE):Me(t.CULL_FACE);let lt=ve.side===Ir;et&&(lt=!lt),qe(lt),ve.blending===vu&&ve.transparent===!1?rt(to):rt(ve.blending,ve.blendEquation,ve.blendSrc,ve.blendDst,ve.blendEquationAlpha,ve.blendSrcAlpha,ve.blendDstAlpha,ve.blendColor,ve.blendAlpha,ve.premultipliedAlpha),u.setFunc(ve.depthFunc),u.setTest(ve.depthTest),u.setMask(ve.depthWrite),o.setMask(ve.colorWrite);const bt=ve.stencilWrite;c.setTest(bt),bt&&(c.setMask(ve.stencilWriteMask),c.setFunc(ve.stencilFunc,ve.stencilRef,ve.stencilFuncMask),c.setOp(ve.stencilFail,ve.stencilZFail,ve.stencilZPass)),ke(ve.polygonOffset,ve.polygonOffsetFactor,ve.polygonOffsetUnits),ve.alphaToCoverage===!0?Me(t.SAMPLE_ALPHA_TO_COVERAGE):De(t.SAMPLE_ALPHA_TO_COVERAGE)}function qe(ve){$!==ve&&(ve?t.frontFace(t.CW):t.frontFace(t.CCW),$=ve)}function te(ve){ve!==Qce?(Me(t.CULL_FACE),ve!==Q&&(ve===eS?t.cullFace(t.BACK):ve===Jce?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):De(t.CULL_FACE),Q=ve}function ae(ve){ve!==Y&&(q&&t.lineWidth(ve),Y=ve)}function ke(ve,et,lt){ve?(Me(t.POLYGON_OFFSET_FILL),(H!==et||B!==lt)&&(t.polygonOffset(et,lt),H=et,B=lt)):De(t.POLYGON_OFFSET_FILL)}function Be(ve){ve?Me(t.SCISSOR_TEST):De(t.SCISSOR_TEST)}function Ve(ve){ve===void 0&&(ve=t.TEXTURE0+X-1),ee!==ve&&(t.activeTexture(ve),ee=ve)}function Ae(ve,et,lt){lt===void 0&&(ee===null?lt=t.TEXTURE0+X-1:lt=ee);let bt=ce[lt];bt===void 0&&(bt={type:void 0,texture:void 0},ce[lt]=bt),(bt.type!==ve||bt.texture!==et)&&(ee!==lt&&(t.activeTexture(lt),ee=lt),t.bindTexture(ve,et||ue[ve]),bt.type=ve,bt.texture=et)}function Pe(){const ve=ce[ee];ve!==void 0&&ve.type!==void 0&&(t.bindTexture(ve.type,null),ve.type=void 0,ve.texture=void 0)}function Xe(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function vt(){try{t.compressedTexImage3D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function nt(){try{t.texSubImage2D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function Rt(){try{t.texSubImage3D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function Ye(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function Et(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function Te(){try{t.texStorage2D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function ze(){try{t.texStorage3D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function de(){try{t.texImage2D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function be(){try{t.texImage3D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function Re(ve){ye.equals(ve)===!1&&(t.scissor(ve.x,ve.y,ve.z,ve.w),ye.copy(ve))}function gt(ve){Ce.equals(ve)===!1&&(t.viewport(ve.x,ve.y,ve.z,ve.w),Ce.copy(ve))}function Ft(ve,et){let lt=p.get(et);lt===void 0&&(lt=new WeakMap,p.set(et,lt));let bt=lt.get(ve);bt===void 0&&(bt=t.getUniformBlockIndex(et,ve.name),lt.set(ve,bt))}function Ee(ve,et){const bt=p.get(et).get(ve);h.get(et)!==bt&&(t.uniformBlockBinding(et,bt,ve.__bindingPointIndex),h.set(et,bt))}function st(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),i===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),v={},ee=null,ce={},g={},y=new WeakMap,_=[],w=null,b=!1,M=null,C=null,x=null,T=null,k=null,R=null,D=null,U=new Cn(0,0,0),P=0,N=!1,$=null,Q=null,Y=null,H=null,B=null,ye.set(0,0,t.canvas.width,t.canvas.height),Ce.set(0,0,t.canvas.width,t.canvas.height),o.reset(),u.reset(),c.reset()}return{buffers:{color:o,depth:u,stencil:c},enable:Me,disable:De,bindFramebuffer:xe,drawBuffers:G,useProgram:He,setBlending:rt,setMaterial:it,setFlipSided:qe,setCullFace:te,setLineWidth:ae,setPolygonOffset:ke,setScissorTest:Be,activeTexture:Ve,bindTexture:Ae,unbindTexture:Pe,compressedTexImage2D:Xe,compressedTexImage3D:vt,texImage2D:de,texImage3D:be,updateUBOMapping:Ft,uniformBlockBinding:Ee,texStorage2D:Te,texStorage3D:ze,texSubImage2D:nt,texSubImage3D:Rt,compressedTexSubImage2D:Ye,compressedTexSubImage3D:Et,scissor:Re,viewport:gt,reset:st}}function jve(t,e,n,i,r,a,s){const o=r.isWebGL2,u=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),h=new WeakMap;let p;const v=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(te,ae){return g?new OffscreenCanvas(te,ae):Fh("canvas")}function _(te,ae,ke,Be){let Ve=1;if((te.width>Be||te.height>Be)&&(Ve=Be/Math.max(te.width,te.height)),Ve<1||ae===!0)if(typeof HTMLImageElement<"u"&&te instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&te instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&te instanceof ImageBitmap){const Ae=ae?Fg:Math.floor,Pe=Ae(Ve*te.width),Xe=Ae(Ve*te.height);p===void 0&&(p=y(Pe,Xe));const vt=ke?y(Pe,Xe):p;return vt.width=Pe,vt.height=Xe,vt.getContext("2d").drawImage(te,0,0,Pe,Xe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+te.width+"x"+te.height+") to ("+Pe+"x"+Xe+")."),vt}else return"data"in te&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+te.width+"x"+te.height+")."),te;return te}function w(te){return OS(te.width)&&OS(te.height)}function b(te){return o?!1:te.wrapS!==Ea||te.wrapT!==Ea||te.minFilter!==dr&&te.minFilter!==Sr}function M(te,ae){return te.generateMipmaps&&ae&&te.minFilter!==dr&&te.minFilter!==Sr}function C(te){t.generateMipmap(te)}function x(te,ae,ke,Be,Ve=!1){if(o===!1)return ae;if(te!==null){if(t[te]!==void 0)return t[te];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+te+"'")}let Ae=ae;if(ae===t.RED&&(ke===t.FLOAT&&(Ae=t.R32F),ke===t.HALF_FLOAT&&(Ae=t.R16F),ke===t.UNSIGNED_BYTE&&(Ae=t.R8)),ae===t.RED_INTEGER&&(ke===t.UNSIGNED_BYTE&&(Ae=t.R8UI),ke===t.UNSIGNED_SHORT&&(Ae=t.R16UI),ke===t.UNSIGNED_INT&&(Ae=t.R32UI),ke===t.BYTE&&(Ae=t.R8I),ke===t.SHORT&&(Ae=t.R16I),ke===t.INT&&(Ae=t.R32I)),ae===t.RG&&(ke===t.FLOAT&&(Ae=t.RG32F),ke===t.HALF_FLOAT&&(Ae=t.RG16F),ke===t.UNSIGNED_BYTE&&(Ae=t.RG8)),ae===t.RGBA){const Pe=Ve?Lh:Dn.getTransfer(Be);ke===t.FLOAT&&(Ae=t.RGBA32F),ke===t.HALF_FLOAT&&(Ae=t.RGBA16F),ke===t.UNSIGNED_BYTE&&(Ae=Pe===Qn?t.SRGB8_ALPHA8:t.RGBA8),ke===t.UNSIGNED_SHORT_4_4_4_4&&(Ae=t.RGBA4),ke===t.UNSIGNED_SHORT_5_5_5_1&&(Ae=t.RGB5_A1)}return(Ae===t.R16F||Ae===t.R32F||Ae===t.RG16F||Ae===t.RG32F||Ae===t.RGBA16F||Ae===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Ae}function T(te,ae,ke){return M(te,ke)===!0||te.isFramebufferTexture&&te.minFilter!==dr&&te.minFilter!==Sr?Math.log2(Math.max(ae.width,ae.height))+1:te.mipmaps!==void 0&&te.mipmaps.length>0?te.mipmaps.length:te.isCompressedTexture&&Array.isArray(te.image)?ae.mipmaps.length:1}function k(te){return te===dr||te===sS||te===Cc?t.NEAREST:t.LINEAR}function R(te){const ae=te.target;ae.removeEventListener("dispose",R),U(ae),ae.isVideoTexture&&h.delete(ae)}function D(te){const ae=te.target;ae.removeEventListener("dispose",D),N(ae)}function U(te){const ae=i.get(te);if(ae.__webglInit===void 0)return;const ke=te.source,Be=v.get(ke);if(Be){const Ve=Be[ae.__cacheKey];Ve.usedTimes--,Ve.usedTimes===0&&P(te),Object.keys(Be).length===0&&v.delete(ke)}i.remove(te)}function P(te){const ae=i.get(te);t.deleteTexture(ae.__webglTexture);const ke=te.source,Be=v.get(ke);delete Be[ae.__cacheKey],s.memory.textures--}function N(te){const ae=te.texture,ke=i.get(te),Be=i.get(ae);if(Be.__webglTexture!==void 0&&(t.deleteTexture(Be.__webglTexture),s.memory.textures--),te.depthTexture&&te.depthTexture.dispose(),te.isWebGLCubeRenderTarget)for(let Ve=0;Ve<6;Ve++){if(Array.isArray(ke.__webglFramebuffer[Ve]))for(let Ae=0;Ae<ke.__webglFramebuffer[Ve].length;Ae++)t.deleteFramebuffer(ke.__webglFramebuffer[Ve][Ae]);else t.deleteFramebuffer(ke.__webglFramebuffer[Ve]);ke.__webglDepthbuffer&&t.deleteRenderbuffer(ke.__webglDepthbuffer[Ve])}else{if(Array.isArray(ke.__webglFramebuffer))for(let Ve=0;Ve<ke.__webglFramebuffer.length;Ve++)t.deleteFramebuffer(ke.__webglFramebuffer[Ve]);else t.deleteFramebuffer(ke.__webglFramebuffer);if(ke.__webglDepthbuffer&&t.deleteRenderbuffer(ke.__webglDepthbuffer),ke.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ke.__webglMultisampledFramebuffer),ke.__webglColorRenderbuffer)for(let Ve=0;Ve<ke.__webglColorRenderbuffer.length;Ve++)ke.__webglColorRenderbuffer[Ve]&&t.deleteRenderbuffer(ke.__webglColorRenderbuffer[Ve]);ke.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ke.__webglDepthRenderbuffer)}if(te.isWebGLMultipleRenderTargets)for(let Ve=0,Ae=ae.length;Ve<Ae;Ve++){const Pe=i.get(ae[Ve]);Pe.__webglTexture&&(t.deleteTexture(Pe.__webglTexture),s.memory.textures--),i.remove(ae[Ve])}i.remove(ae),i.remove(te)}let $=0;function Q(){$=0}function Y(){const te=$;return te>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+te+" texture units while this GPU supports only "+r.maxTextures),$+=1,te}function H(te){const ae=[];return ae.push(te.wrapS),ae.push(te.wrapT),ae.push(te.wrapR||0),ae.push(te.magFilter),ae.push(te.minFilter),ae.push(te.anisotropy),ae.push(te.internalFormat),ae.push(te.format),ae.push(te.type),ae.push(te.generateMipmaps),ae.push(te.premultiplyAlpha),ae.push(te.flipY),ae.push(te.unpackAlignment),ae.push(te.colorSpace),ae.join()}function B(te,ae){const ke=i.get(te);if(te.isVideoTexture&&it(te),te.isRenderTargetTexture===!1&&te.version>0&&ke.__version!==te.version){const Be=te.image;if(Be===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Be.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ye(ke,te,ae);return}}n.bindTexture(t.TEXTURE_2D,ke.__webglTexture,t.TEXTURE0+ae)}function X(te,ae){const ke=i.get(te);if(te.version>0&&ke.__version!==te.version){ye(ke,te,ae);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ke.__webglTexture,t.TEXTURE0+ae)}function q(te,ae){const ke=i.get(te);if(te.version>0&&ke.__version!==te.version){ye(ke,te,ae);return}n.bindTexture(t.TEXTURE_3D,ke.__webglTexture,t.TEXTURE0+ae)}function O(te,ae){const ke=i.get(te);if(te.version>0&&ke.__version!==te.version){Ce(ke,te,ae);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ke.__webglTexture,t.TEXTURE0+ae)}const V={[Lg]:t.REPEAT,[Ea]:t.CLAMP_TO_EDGE,[Ng]:t.MIRRORED_REPEAT},ee={[dr]:t.NEAREST,[sS]:t.NEAREST_MIPMAP_NEAREST,[Cc]:t.NEAREST_MIPMAP_LINEAR,[Sr]:t.LINEAR,[wm]:t.LINEAR_MIPMAP_NEAREST,[Zo]:t.LINEAR_MIPMAP_LINEAR},ce={[Hde]:t.NEVER,[jde]:t.ALWAYS,[Gde]:t.LESS,[ak]:t.LEQUAL,[Wde]:t.EQUAL,[Yde]:t.GEQUAL,[Kde]:t.GREATER,[qde]:t.NOTEQUAL};function se(te,ae,ke){if(ae.type===ws&&e.has("OES_texture_float_linear")===!1&&(ae.magFilter===Sr||ae.magFilter===wm||ae.magFilter===Cc||ae.magFilter===Zo||ae.minFilter===Sr||ae.minFilter===wm||ae.minFilter===Cc||ae.minFilter===Zo)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),ke?(t.texParameteri(te,t.TEXTURE_WRAP_S,V[ae.wrapS]),t.texParameteri(te,t.TEXTURE_WRAP_T,V[ae.wrapT]),(te===t.TEXTURE_3D||te===t.TEXTURE_2D_ARRAY)&&t.texParameteri(te,t.TEXTURE_WRAP_R,V[ae.wrapR]),t.texParameteri(te,t.TEXTURE_MAG_FILTER,ee[ae.magFilter]),t.texParameteri(te,t.TEXTURE_MIN_FILTER,ee[ae.minFilter])):(t.texParameteri(te,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(te,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(te===t.TEXTURE_3D||te===t.TEXTURE_2D_ARRAY)&&t.texParameteri(te,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(ae.wrapS!==Ea||ae.wrapT!==Ea)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(te,t.TEXTURE_MAG_FILTER,k(ae.magFilter)),t.texParameteri(te,t.TEXTURE_MIN_FILTER,k(ae.minFilter)),ae.minFilter!==dr&&ae.minFilter!==Sr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),ae.compareFunction&&(t.texParameteri(te,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(te,t.TEXTURE_COMPARE_FUNC,ce[ae.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Be=e.get("EXT_texture_filter_anisotropic");if(ae.magFilter===dr||ae.minFilter!==Cc&&ae.minFilter!==Zo||ae.type===ws&&e.has("OES_texture_float_linear")===!1||o===!1&&ae.type===dd&&e.has("OES_texture_half_float_linear")===!1)return;(ae.anisotropy>1||i.get(ae).__currentAnisotropy)&&(t.texParameterf(te,Be.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ae.anisotropy,r.getMaxAnisotropy())),i.get(ae).__currentAnisotropy=ae.anisotropy)}}function le(te,ae){let ke=!1;te.__webglInit===void 0&&(te.__webglInit=!0,ae.addEventListener("dispose",R));const Be=ae.source;let Ve=v.get(Be);Ve===void 0&&(Ve={},v.set(Be,Ve));const Ae=H(ae);if(Ae!==te.__cacheKey){Ve[Ae]===void 0&&(Ve[Ae]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,ke=!0),Ve[Ae].usedTimes++;const Pe=Ve[te.__cacheKey];Pe!==void 0&&(Ve[te.__cacheKey].usedTimes--,Pe.usedTimes===0&&P(ae)),te.__cacheKey=Ae,te.__webglTexture=Ve[Ae].texture}return ke}function ye(te,ae,ke){let Be=t.TEXTURE_2D;(ae.isDataArrayTexture||ae.isCompressedArrayTexture)&&(Be=t.TEXTURE_2D_ARRAY),ae.isData3DTexture&&(Be=t.TEXTURE_3D);const Ve=le(te,ae),Ae=ae.source;n.bindTexture(Be,te.__webglTexture,t.TEXTURE0+ke);const Pe=i.get(Ae);if(Ae.version!==Pe.__version||Ve===!0){n.activeTexture(t.TEXTURE0+ke);const Xe=Dn.getPrimaries(Dn.workingColorSpace),vt=ae.colorSpace===na?null:Dn.getPrimaries(ae.colorSpace),nt=ae.colorSpace===na||Xe===vt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,ae.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ae.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,ae.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,nt);const Rt=b(ae)&&w(ae.image)===!1;let Ye=_(ae.image,Rt,!1,r.maxTextureSize);Ye=qe(ae,Ye);const Et=w(Ye)||o,Te=a.convert(ae.format,ae.colorSpace);let ze=a.convert(ae.type),de=x(ae.internalFormat,Te,ze,ae.colorSpace,ae.isVideoTexture);se(Be,ae,Et);let be;const Re=ae.mipmaps,gt=o&&ae.isVideoTexture!==!0&&de!==nk,Ft=Pe.__version===void 0||Ve===!0,Ee=Ae.dataReady,st=T(ae,Ye,Et);if(ae.isDepthTexture)de=t.DEPTH_COMPONENT,o?ae.type===ws?de=t.DEPTH_COMPONENT32F:ae.type===Zs?de=t.DEPTH_COMPONENT24:ae.type===il?de=t.DEPTH24_STENCIL8:de=t.DEPTH_COMPONENT16:ae.type===ws&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),ae.format===rl&&de===t.DEPTH_COMPONENT&&ae.type!==Zy&&ae.type!==Zs&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),ae.type=Zs,ze=a.convert(ae.type)),ae.format===Hu&&de===t.DEPTH_COMPONENT&&(de=t.DEPTH_STENCIL,ae.type!==il&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),ae.type=il,ze=a.convert(ae.type))),Ft&&(gt?n.texStorage2D(t.TEXTURE_2D,1,de,Ye.width,Ye.height):n.texImage2D(t.TEXTURE_2D,0,de,Ye.width,Ye.height,0,Te,ze,null));else if(ae.isDataTexture)if(Re.length>0&&Et){gt&&Ft&&n.texStorage2D(t.TEXTURE_2D,st,de,Re[0].width,Re[0].height);for(let ve=0,et=Re.length;ve<et;ve++)be=Re[ve],gt?Ee&&n.texSubImage2D(t.TEXTURE_2D,ve,0,0,be.width,be.height,Te,ze,be.data):n.texImage2D(t.TEXTURE_2D,ve,de,be.width,be.height,0,Te,ze,be.data);ae.generateMipmaps=!1}else gt?(Ft&&n.texStorage2D(t.TEXTURE_2D,st,de,Ye.width,Ye.height),Ee&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ye.width,Ye.height,Te,ze,Ye.data)):n.texImage2D(t.TEXTURE_2D,0,de,Ye.width,Ye.height,0,Te,ze,Ye.data);else if(ae.isCompressedTexture)if(ae.isCompressedArrayTexture){gt&&Ft&&n.texStorage3D(t.TEXTURE_2D_ARRAY,st,de,Re[0].width,Re[0].height,Ye.depth);for(let ve=0,et=Re.length;ve<et;ve++)be=Re[ve],ae.format!==xa?Te!==null?gt?Ee&&n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ve,0,0,0,be.width,be.height,Ye.depth,Te,be.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ve,de,be.width,be.height,Ye.depth,0,be.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):gt?Ee&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,ve,0,0,0,be.width,be.height,Ye.depth,Te,ze,be.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ve,de,be.width,be.height,Ye.depth,0,Te,ze,be.data)}else{gt&&Ft&&n.texStorage2D(t.TEXTURE_2D,st,de,Re[0].width,Re[0].height);for(let ve=0,et=Re.length;ve<et;ve++)be=Re[ve],ae.format!==xa?Te!==null?gt?Ee&&n.compressedTexSubImage2D(t.TEXTURE_2D,ve,0,0,be.width,be.height,Te,be.data):n.compressedTexImage2D(t.TEXTURE_2D,ve,de,be.width,be.height,0,be.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):gt?Ee&&n.texSubImage2D(t.TEXTURE_2D,ve,0,0,be.width,be.height,Te,ze,be.data):n.texImage2D(t.TEXTURE_2D,ve,de,be.width,be.height,0,Te,ze,be.data)}else if(ae.isDataArrayTexture)gt?(Ft&&n.texStorage3D(t.TEXTURE_2D_ARRAY,st,de,Ye.width,Ye.height,Ye.depth),Ee&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Ye.width,Ye.height,Ye.depth,Te,ze,Ye.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,de,Ye.width,Ye.height,Ye.depth,0,Te,ze,Ye.data);else if(ae.isData3DTexture)gt?(Ft&&n.texStorage3D(t.TEXTURE_3D,st,de,Ye.width,Ye.height,Ye.depth),Ee&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Ye.width,Ye.height,Ye.depth,Te,ze,Ye.data)):n.texImage3D(t.TEXTURE_3D,0,de,Ye.width,Ye.height,Ye.depth,0,Te,ze,Ye.data);else if(ae.isFramebufferTexture){if(Ft)if(gt)n.texStorage2D(t.TEXTURE_2D,st,de,Ye.width,Ye.height);else{let ve=Ye.width,et=Ye.height;for(let lt=0;lt<st;lt++)n.texImage2D(t.TEXTURE_2D,lt,de,ve,et,0,Te,ze,null),ve>>=1,et>>=1}}else if(Re.length>0&&Et){gt&&Ft&&n.texStorage2D(t.TEXTURE_2D,st,de,Re[0].width,Re[0].height);for(let ve=0,et=Re.length;ve<et;ve++)be=Re[ve],gt?Ee&&n.texSubImage2D(t.TEXTURE_2D,ve,0,0,Te,ze,be):n.texImage2D(t.TEXTURE_2D,ve,de,Te,ze,be);ae.generateMipmaps=!1}else gt?(Ft&&n.texStorage2D(t.TEXTURE_2D,st,de,Ye.width,Ye.height),Ee&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Te,ze,Ye)):n.texImage2D(t.TEXTURE_2D,0,de,Te,ze,Ye);M(ae,Et)&&C(Be),Pe.__version=Ae.version,ae.onUpdate&&ae.onUpdate(ae)}te.__version=ae.version}function Ce(te,ae,ke){if(ae.image.length!==6)return;const Be=le(te,ae),Ve=ae.source;n.bindTexture(t.TEXTURE_CUBE_MAP,te.__webglTexture,t.TEXTURE0+ke);const Ae=i.get(Ve);if(Ve.version!==Ae.__version||Be===!0){n.activeTexture(t.TEXTURE0+ke);const Pe=Dn.getPrimaries(Dn.workingColorSpace),Xe=ae.colorSpace===na?null:Dn.getPrimaries(ae.colorSpace),vt=ae.colorSpace===na||Pe===Xe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,ae.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ae.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,ae.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,vt);const nt=ae.isCompressedTexture||ae.image[0].isCompressedTexture,Rt=ae.image[0]&&ae.image[0].isDataTexture,Ye=[];for(let ve=0;ve<6;ve++)!nt&&!Rt?Ye[ve]=_(ae.image[ve],!1,!0,r.maxCubemapSize):Ye[ve]=Rt?ae.image[ve].image:ae.image[ve],Ye[ve]=qe(ae,Ye[ve]);const Et=Ye[0],Te=w(Et)||o,ze=a.convert(ae.format,ae.colorSpace),de=a.convert(ae.type),be=x(ae.internalFormat,ze,de,ae.colorSpace),Re=o&&ae.isVideoTexture!==!0,gt=Ae.__version===void 0||Be===!0,Ft=Ve.dataReady;let Ee=T(ae,Et,Te);se(t.TEXTURE_CUBE_MAP,ae,Te);let st;if(nt){Re&&gt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Ee,be,Et.width,Et.height);for(let ve=0;ve<6;ve++){st=Ye[ve].mipmaps;for(let et=0;et<st.length;et++){const lt=st[et];ae.format!==xa?ze!==null?Re?Ft&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,et,0,0,lt.width,lt.height,ze,lt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,et,be,lt.width,lt.height,0,lt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Re?Ft&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,et,0,0,lt.width,lt.height,ze,de,lt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,et,be,lt.width,lt.height,0,ze,de,lt.data)}}}else{st=ae.mipmaps,Re&&gt&&(st.length>0&&Ee++,n.texStorage2D(t.TEXTURE_CUBE_MAP,Ee,be,Ye[0].width,Ye[0].height));for(let ve=0;ve<6;ve++)if(Rt){Re?Ft&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,0,0,0,Ye[ve].width,Ye[ve].height,ze,de,Ye[ve].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,0,be,Ye[ve].width,Ye[ve].height,0,ze,de,Ye[ve].data);for(let et=0;et<st.length;et++){const bt=st[et].image[ve].image;Re?Ft&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,et+1,0,0,bt.width,bt.height,ze,de,bt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,et+1,be,bt.width,bt.height,0,ze,de,bt.data)}}else{Re?Ft&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,0,0,0,ze,de,Ye[ve]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,0,be,ze,de,Ye[ve]);for(let et=0;et<st.length;et++){const lt=st[et];Re?Ft&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,et+1,0,0,ze,de,lt.image[ve]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,et+1,be,ze,de,lt.image[ve])}}}M(ae,Te)&&C(t.TEXTURE_CUBE_MAP),Ae.__version=Ve.version,ae.onUpdate&&ae.onUpdate(ae)}te.__version=ae.version}function pe(te,ae,ke,Be,Ve,Ae){const Pe=a.convert(ke.format,ke.colorSpace),Xe=a.convert(ke.type),vt=x(ke.internalFormat,Pe,Xe,ke.colorSpace);if(!i.get(ae).__hasExternalTextures){const Rt=Math.max(1,ae.width>>Ae),Ye=Math.max(1,ae.height>>Ae);Ve===t.TEXTURE_3D||Ve===t.TEXTURE_2D_ARRAY?n.texImage3D(Ve,Ae,vt,Rt,Ye,ae.depth,0,Pe,Xe,null):n.texImage2D(Ve,Ae,vt,Rt,Ye,0,Pe,Xe,null)}n.bindFramebuffer(t.FRAMEBUFFER,te),rt(ae)?u.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Be,Ve,i.get(ke).__webglTexture,0,at(ae)):(Ve===t.TEXTURE_2D||Ve>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ve<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Be,Ve,i.get(ke).__webglTexture,Ae),n.bindFramebuffer(t.FRAMEBUFFER,null)}function ue(te,ae,ke){if(t.bindRenderbuffer(t.RENDERBUFFER,te),ae.depthBuffer&&!ae.stencilBuffer){let Be=o===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(ke||rt(ae)){const Ve=ae.depthTexture;Ve&&Ve.isDepthTexture&&(Ve.type===ws?Be=t.DEPTH_COMPONENT32F:Ve.type===Zs&&(Be=t.DEPTH_COMPONENT24));const Ae=at(ae);rt(ae)?u.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ae,Be,ae.width,ae.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Ae,Be,ae.width,ae.height)}else t.renderbufferStorage(t.RENDERBUFFER,Be,ae.width,ae.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,te)}else if(ae.depthBuffer&&ae.stencilBuffer){const Be=at(ae);ke&&rt(ae)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Be,t.DEPTH24_STENCIL8,ae.width,ae.height):rt(ae)?u.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Be,t.DEPTH24_STENCIL8,ae.width,ae.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,ae.width,ae.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,te)}else{const Be=ae.isWebGLMultipleRenderTargets===!0?ae.texture:[ae.texture];for(let Ve=0;Ve<Be.length;Ve++){const Ae=Be[Ve],Pe=a.convert(Ae.format,Ae.colorSpace),Xe=a.convert(Ae.type),vt=x(Ae.internalFormat,Pe,Xe,Ae.colorSpace),nt=at(ae);ke&&rt(ae)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,nt,vt,ae.width,ae.height):rt(ae)?u.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,nt,vt,ae.width,ae.height):t.renderbufferStorage(t.RENDERBUFFER,vt,ae.width,ae.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Me(te,ae){if(ae&&ae.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,te),!(ae.depthTexture&&ae.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(ae.depthTexture).__webglTexture||ae.depthTexture.image.width!==ae.width||ae.depthTexture.image.height!==ae.height)&&(ae.depthTexture.image.width=ae.width,ae.depthTexture.image.height=ae.height,ae.depthTexture.needsUpdate=!0),B(ae.depthTexture,0);const Be=i.get(ae.depthTexture).__webglTexture,Ve=at(ae);if(ae.depthTexture.format===rl)rt(ae)?u.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Be,0,Ve):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Be,0);else if(ae.depthTexture.format===Hu)rt(ae)?u.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Be,0,Ve):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Be,0);else throw new Error("Unknown depthTexture format")}function De(te){const ae=i.get(te),ke=te.isWebGLCubeRenderTarget===!0;if(te.depthTexture&&!ae.__autoAllocateDepthBuffer){if(ke)throw new Error("target.depthTexture not supported in Cube render targets");Me(ae.__webglFramebuffer,te)}else if(ke){ae.__webglDepthbuffer=[];for(let Be=0;Be<6;Be++)n.bindFramebuffer(t.FRAMEBUFFER,ae.__webglFramebuffer[Be]),ae.__webglDepthbuffer[Be]=t.createRenderbuffer(),ue(ae.__webglDepthbuffer[Be],te,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,ae.__webglFramebuffer),ae.__webglDepthbuffer=t.createRenderbuffer(),ue(ae.__webglDepthbuffer,te,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function xe(te,ae,ke){const Be=i.get(te);ae!==void 0&&pe(Be.__webglFramebuffer,te,te.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ke!==void 0&&De(te)}function G(te){const ae=te.texture,ke=i.get(te),Be=i.get(ae);te.addEventListener("dispose",D),te.isWebGLMultipleRenderTargets!==!0&&(Be.__webglTexture===void 0&&(Be.__webglTexture=t.createTexture()),Be.__version=ae.version,s.memory.textures++);const Ve=te.isWebGLCubeRenderTarget===!0,Ae=te.isWebGLMultipleRenderTargets===!0,Pe=w(te)||o;if(Ve){ke.__webglFramebuffer=[];for(let Xe=0;Xe<6;Xe++)if(o&&ae.mipmaps&&ae.mipmaps.length>0){ke.__webglFramebuffer[Xe]=[];for(let vt=0;vt<ae.mipmaps.length;vt++)ke.__webglFramebuffer[Xe][vt]=t.createFramebuffer()}else ke.__webglFramebuffer[Xe]=t.createFramebuffer()}else{if(o&&ae.mipmaps&&ae.mipmaps.length>0){ke.__webglFramebuffer=[];for(let Xe=0;Xe<ae.mipmaps.length;Xe++)ke.__webglFramebuffer[Xe]=t.createFramebuffer()}else ke.__webglFramebuffer=t.createFramebuffer();if(Ae)if(r.drawBuffers){const Xe=te.texture;for(let vt=0,nt=Xe.length;vt<nt;vt++){const Rt=i.get(Xe[vt]);Rt.__webglTexture===void 0&&(Rt.__webglTexture=t.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(o&&te.samples>0&&rt(te)===!1){const Xe=Ae?ae:[ae];ke.__webglMultisampledFramebuffer=t.createFramebuffer(),ke.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ke.__webglMultisampledFramebuffer);for(let vt=0;vt<Xe.length;vt++){const nt=Xe[vt];ke.__webglColorRenderbuffer[vt]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ke.__webglColorRenderbuffer[vt]);const Rt=a.convert(nt.format,nt.colorSpace),Ye=a.convert(nt.type),Et=x(nt.internalFormat,Rt,Ye,nt.colorSpace,te.isXRRenderTarget===!0),Te=at(te);t.renderbufferStorageMultisample(t.RENDERBUFFER,Te,Et,te.width,te.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+vt,t.RENDERBUFFER,ke.__webglColorRenderbuffer[vt])}t.bindRenderbuffer(t.RENDERBUFFER,null),te.depthBuffer&&(ke.__webglDepthRenderbuffer=t.createRenderbuffer(),ue(ke.__webglDepthRenderbuffer,te,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Ve){n.bindTexture(t.TEXTURE_CUBE_MAP,Be.__webglTexture),se(t.TEXTURE_CUBE_MAP,ae,Pe);for(let Xe=0;Xe<6;Xe++)if(o&&ae.mipmaps&&ae.mipmaps.length>0)for(let vt=0;vt<ae.mipmaps.length;vt++)pe(ke.__webglFramebuffer[Xe][vt],te,ae,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,vt);else pe(ke.__webglFramebuffer[Xe],te,ae,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,0);M(ae,Pe)&&C(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ae){const Xe=te.texture;for(let vt=0,nt=Xe.length;vt<nt;vt++){const Rt=Xe[vt],Ye=i.get(Rt);n.bindTexture(t.TEXTURE_2D,Ye.__webglTexture),se(t.TEXTURE_2D,Rt,Pe),pe(ke.__webglFramebuffer,te,Rt,t.COLOR_ATTACHMENT0+vt,t.TEXTURE_2D,0),M(Rt,Pe)&&C(t.TEXTURE_2D)}n.unbindTexture()}else{let Xe=t.TEXTURE_2D;if((te.isWebGL3DRenderTarget||te.isWebGLArrayRenderTarget)&&(o?Xe=te.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Xe,Be.__webglTexture),se(Xe,ae,Pe),o&&ae.mipmaps&&ae.mipmaps.length>0)for(let vt=0;vt<ae.mipmaps.length;vt++)pe(ke.__webglFramebuffer[vt],te,ae,t.COLOR_ATTACHMENT0,Xe,vt);else pe(ke.__webglFramebuffer,te,ae,t.COLOR_ATTACHMENT0,Xe,0);M(ae,Pe)&&C(Xe),n.unbindTexture()}te.depthBuffer&&De(te)}function He(te){const ae=w(te)||o,ke=te.isWebGLMultipleRenderTargets===!0?te.texture:[te.texture];for(let Be=0,Ve=ke.length;Be<Ve;Be++){const Ae=ke[Be];if(M(Ae,ae)){const Pe=te.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Xe=i.get(Ae).__webglTexture;n.bindTexture(Pe,Xe),C(Pe),n.unbindTexture()}}}function Qe(te){if(o&&te.samples>0&&rt(te)===!1){const ae=te.isWebGLMultipleRenderTargets?te.texture:[te.texture],ke=te.width,Be=te.height;let Ve=t.COLOR_BUFFER_BIT;const Ae=[],Pe=te.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Xe=i.get(te),vt=te.isWebGLMultipleRenderTargets===!0;if(vt)for(let nt=0;nt<ae.length;nt++)n.bindFramebuffer(t.FRAMEBUFFER,Xe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+nt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Xe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+nt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Xe.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Xe.__webglFramebuffer);for(let nt=0;nt<ae.length;nt++){Ae.push(t.COLOR_ATTACHMENT0+nt),te.depthBuffer&&Ae.push(Pe);const Rt=Xe.__ignoreDepthValues!==void 0?Xe.__ignoreDepthValues:!1;if(Rt===!1&&(te.depthBuffer&&(Ve|=t.DEPTH_BUFFER_BIT),te.stencilBuffer&&(Ve|=t.STENCIL_BUFFER_BIT)),vt&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Xe.__webglColorRenderbuffer[nt]),Rt===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[Pe]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[Pe])),vt){const Ye=i.get(ae[nt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Ye,0)}t.blitFramebuffer(0,0,ke,Be,0,0,ke,Be,Ve,t.NEAREST),c&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Ae)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),vt)for(let nt=0;nt<ae.length;nt++){n.bindFramebuffer(t.FRAMEBUFFER,Xe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+nt,t.RENDERBUFFER,Xe.__webglColorRenderbuffer[nt]);const Rt=i.get(ae[nt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Xe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+nt,t.TEXTURE_2D,Rt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Xe.__webglMultisampledFramebuffer)}}function at(te){return Math.min(r.maxSamples,te.samples)}function rt(te){const ae=i.get(te);return o&&te.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&ae.__useRenderToTexture!==!1}function it(te){const ae=s.render.frame;h.get(te)!==ae&&(h.set(te,ae),te.update())}function qe(te,ae){const ke=te.colorSpace,Be=te.format,Ve=te.type;return te.isCompressedTexture===!0||te.isVideoTexture===!0||te.format===Og||ke!==Ts&&ke!==na&&(Dn.getTransfer(ke)===Qn?o===!1?e.has("EXT_sRGB")===!0&&Be===xa?(te.format=Og,te.minFilter=Sr,te.generateMipmaps=!1):ae=ok.sRGBToLinear(ae):(Be!==xa||Ve!==io)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ke)),ae}this.allocateTextureUnit=Y,this.resetTextureUnits=Q,this.setTexture2D=B,this.setTexture2DArray=X,this.setTexture3D=q,this.setTextureCube=O,this.rebindTextures=xe,this.setupRenderTarget=G,this.updateRenderTargetMipmap=He,this.updateMultisampleRenderTarget=Qe,this.setupDepthRenderbuffer=De,this.setupFrameBufferTexture=pe,this.useMultisampledRTT=rt}function Xve(t,e,n){const i=n.isWebGL2;function r(a,s=na){let o;const u=Dn.getTransfer(s);if(a===io)return t.UNSIGNED_BYTE;if(a===ZA)return t.UNSIGNED_SHORT_4_4_4_4;if(a===QA)return t.UNSIGNED_SHORT_5_5_5_1;if(a===Rde)return t.BYTE;if(a===Lde)return t.SHORT;if(a===Zy)return t.UNSIGNED_SHORT;if(a===XA)return t.INT;if(a===Zs)return t.UNSIGNED_INT;if(a===ws)return t.FLOAT;if(a===dd)return i?t.HALF_FLOAT:(o=e.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(a===Nde)return t.ALPHA;if(a===xa)return t.RGBA;if(a===Ode)return t.LUMINANCE;if(a===Dde)return t.LUMINANCE_ALPHA;if(a===rl)return t.DEPTH_COMPONENT;if(a===Hu)return t.DEPTH_STENCIL;if(a===Og)return o=e.get("EXT_sRGB"),o!==null?o.SRGB_ALPHA_EXT:null;if(a===Fde)return t.RED;if(a===JA)return t.RED_INTEGER;if(a===Bde)return t.RG;if(a===ek)return t.RG_INTEGER;if(a===tk)return t.RGBA_INTEGER;if(a===Sm||a===Cm||a===Em||a===xm)if(u===Qn)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(a===Sm)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(a===Cm)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(a===Em)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(a===xm)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(a===Sm)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===Cm)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===Em)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===xm)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(a===oS||a===lS||a===uS||a===cS)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(a===oS)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===lS)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===uS)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(a===cS)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(a===nk)return o=e.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(a===dS||a===fS)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(a===dS)return u===Qn?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(a===fS)return u===Qn?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(a===hS||a===pS||a===mS||a===vS||a===gS||a===yS||a===_S||a===bS||a===wS||a===SS||a===CS||a===ES||a===xS||a===MS)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(a===hS)return u===Qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(a===pS)return u===Qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(a===mS)return u===Qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(a===vS)return u===Qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(a===gS)return u===Qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(a===yS)return u===Qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(a===_S)return u===Qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(a===bS)return u===Qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(a===wS)return u===Qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(a===SS)return u===Qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(a===CS)return u===Qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(a===ES)return u===Qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(a===xS)return u===Qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(a===MS)return u===Qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(a===Mm||a===TS||a===AS)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(a===Mm)return u===Qn?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(a===TS)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(a===AS)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(a===Ude||a===kS||a===IS||a===PS)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(a===Mm)return o.COMPRESSED_RED_RGTC1_EXT;if(a===kS)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(a===IS)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(a===PS)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return a===il?i?t.UNSIGNED_INT_24_8:(o=e.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null):t[a]!==void 0?t[a]:null}return{convert:r}}class Zve extends ta{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Rf extends Hi{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Qve={type:"move"};class Zm{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Rf,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Rf,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new je,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new je),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Rf,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new je,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new je),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,a=null,s=null;const o=this._targetRay,u=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const _ of e.hand.values()){const w=n.getJointPose(_,i),b=this._getHandJoint(c,_);w!==null&&(b.matrix.fromArray(w.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=w.radius),b.visible=w!==null}const h=c.joints["index-finger-tip"],p=c.joints["thumb-tip"],v=h.position.distanceTo(p.position),g=.02,y=.005;c.inputState.pinching&&v>g+y?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&v<=g-y&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(a=n.getPose(e.gripSpace,i),a!==null&&(u.matrix.fromArray(a.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,a.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(a.linearVelocity)):u.hasLinearVelocity=!1,a.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(a.angularVelocity)):u.hasAngularVelocity=!1));o!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&a!==null&&(r=a),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Qve)))}return o!==null&&(o.visible=r!==null),u!==null&&(u.visible=a!==null),c!==null&&(c.visible=s!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new Rf;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}const Jve=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,ege=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class tge{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,i){if(this.texture===null){const r=new Pr,a=e.properties.get(r);a.__webglTexture=n.texture,(n.depthNear!=i.depthNear||n.depthFar!=i.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=r}}render(e,n){if(this.texture!==null){if(this.mesh===null){const i=n.cameras[0].viewport,r=new go({extensions:{fragDepth:!0},vertexShader:Jve,fragmentShader:ege,uniforms:{depthColor:{value:this.texture},depthWidth:{value:i.z},depthHeight:{value:i.w}}});this.mesh=new ka(new Cp(20,20),r)}e.render(this.mesh,n)}}reset(){this.texture=null,this.mesh=null}}class nge extends ac{constructor(e,n){super();const i=this;let r=null,a=1,s=null,o="local-floor",u=1,c=null,h=null,p=null,v=null,g=null,y=null;const _=new tge,w=n.getContextAttributes();let b=null,M=null;const C=[],x=[],T=new An;let k=null;const R=new ta;R.layers.enable(1),R.viewport=new di;const D=new ta;D.layers.enable(2),D.viewport=new di;const U=[R,D],P=new Zve;P.layers.enable(1),P.layers.enable(2);let N=null,$=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(le){let ye=C[le];return ye===void 0&&(ye=new Zm,C[le]=ye),ye.getTargetRaySpace()},this.getControllerGrip=function(le){let ye=C[le];return ye===void 0&&(ye=new Zm,C[le]=ye),ye.getGripSpace()},this.getHand=function(le){let ye=C[le];return ye===void 0&&(ye=new Zm,C[le]=ye),ye.getHandSpace()};function Q(le){const ye=x.indexOf(le.inputSource);if(ye===-1)return;const Ce=C[ye];Ce!==void 0&&(Ce.update(le.inputSource,le.frame,c||s),Ce.dispatchEvent({type:le.type,data:le.inputSource}))}function Y(){r.removeEventListener("select",Q),r.removeEventListener("selectstart",Q),r.removeEventListener("selectend",Q),r.removeEventListener("squeeze",Q),r.removeEventListener("squeezestart",Q),r.removeEventListener("squeezeend",Q),r.removeEventListener("end",Y),r.removeEventListener("inputsourceschange",H);for(let le=0;le<C.length;le++){const ye=x[le];ye!==null&&(x[le]=null,C[le].disconnect(ye))}N=null,$=null,_.reset(),e.setRenderTarget(b),g=null,v=null,p=null,r=null,M=null,se.stop(),i.isPresenting=!1,e.setPixelRatio(k),e.setSize(T.width,T.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(le){a=le,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(le){o=le,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(le){c=le},this.getBaseLayer=function(){return v!==null?v:g},this.getBinding=function(){return p},this.getFrame=function(){return y},this.getSession=function(){return r},this.setSession=async function(le){if(r=le,r!==null){if(b=e.getRenderTarget(),r.addEventListener("select",Q),r.addEventListener("selectstart",Q),r.addEventListener("selectend",Q),r.addEventListener("squeeze",Q),r.addEventListener("squeezestart",Q),r.addEventListener("squeezeend",Q),r.addEventListener("end",Y),r.addEventListener("inputsourceschange",H),w.xrCompatible!==!0&&await n.makeXRCompatible(),k=e.getPixelRatio(),e.getSize(T),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ye={antialias:r.renderState.layers===void 0?w.antialias:!0,alpha:!0,depth:w.depth,stencil:w.stencil,framebufferScaleFactor:a};g=new XRWebGLLayer(r,n,ye),r.updateRenderState({baseLayer:g}),e.setPixelRatio(1),e.setSize(g.framebufferWidth,g.framebufferHeight,!1),M=new yl(g.framebufferWidth,g.framebufferHeight,{format:xa,type:io,colorSpace:e.outputColorSpace,stencilBuffer:w.stencil})}else{let ye=null,Ce=null,pe=null;w.depth&&(pe=w.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ye=w.stencil?Hu:rl,Ce=w.stencil?il:Zs);const ue={colorFormat:n.RGBA8,depthFormat:pe,scaleFactor:a};p=new XRWebGLBinding(r,n),v=p.createProjectionLayer(ue),r.updateRenderState({layers:[v]}),e.setPixelRatio(1),e.setSize(v.textureWidth,v.textureHeight,!1),M=new yl(v.textureWidth,v.textureHeight,{format:xa,type:io,depthTexture:new bk(v.textureWidth,v.textureHeight,Ce,void 0,void 0,void 0,void 0,void 0,void 0,ye),stencilBuffer:w.stencil,colorSpace:e.outputColorSpace,samples:w.antialias?4:0});const Me=e.properties.get(M);Me.__ignoreDepthValues=v.ignoreDepthValues}M.isXRRenderTarget=!0,this.setFoveation(u),c=null,s=await r.requestReferenceSpace(o),se.setContext(r),se.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function H(le){for(let ye=0;ye<le.removed.length;ye++){const Ce=le.removed[ye],pe=x.indexOf(Ce);pe>=0&&(x[pe]=null,C[pe].disconnect(Ce))}for(let ye=0;ye<le.added.length;ye++){const Ce=le.added[ye];let pe=x.indexOf(Ce);if(pe===-1){for(let Me=0;Me<C.length;Me++)if(Me>=x.length){x.push(Ce),pe=Me;break}else if(x[Me]===null){x[Me]=Ce,pe=Me;break}if(pe===-1)break}const ue=C[pe];ue&&ue.connect(Ce)}}const B=new je,X=new je;function q(le,ye,Ce){B.setFromMatrixPosition(ye.matrixWorld),X.setFromMatrixPosition(Ce.matrixWorld);const pe=B.distanceTo(X),ue=ye.projectionMatrix.elements,Me=Ce.projectionMatrix.elements,De=ue[14]/(ue[10]-1),xe=ue[14]/(ue[10]+1),G=(ue[9]+1)/ue[5],He=(ue[9]-1)/ue[5],Qe=(ue[8]-1)/ue[0],at=(Me[8]+1)/Me[0],rt=De*Qe,it=De*at,qe=pe/(-Qe+at),te=qe*-Qe;ye.matrixWorld.decompose(le.position,le.quaternion,le.scale),le.translateX(te),le.translateZ(qe),le.matrixWorld.compose(le.position,le.quaternion,le.scale),le.matrixWorldInverse.copy(le.matrixWorld).invert();const ae=De+qe,ke=xe+qe,Be=rt-te,Ve=it+(pe-te),Ae=G*xe/ke*ae,Pe=He*xe/ke*ae;le.projectionMatrix.makePerspective(Be,Ve,Ae,Pe,ae,ke),le.projectionMatrixInverse.copy(le.projectionMatrix).invert()}function O(le,ye){ye===null?le.matrixWorld.copy(le.matrix):le.matrixWorld.multiplyMatrices(ye.matrixWorld,le.matrix),le.matrixWorldInverse.copy(le.matrixWorld).invert()}this.updateCamera=function(le){if(r===null)return;_.texture!==null&&(le.near=_.depthNear,le.far=_.depthFar),P.near=D.near=R.near=le.near,P.far=D.far=R.far=le.far,(N!==P.near||$!==P.far)&&(r.updateRenderState({depthNear:P.near,depthFar:P.far}),N=P.near,$=P.far,R.near=N,R.far=$,D.near=N,D.far=$,R.updateProjectionMatrix(),D.updateProjectionMatrix(),le.updateProjectionMatrix());const ye=le.parent,Ce=P.cameras;O(P,ye);for(let pe=0;pe<Ce.length;pe++)O(Ce[pe],ye);Ce.length===2?q(P,R,D):P.projectionMatrix.copy(R.projectionMatrix),V(le,P,ye)};function V(le,ye,Ce){Ce===null?le.matrix.copy(ye.matrixWorld):(le.matrix.copy(Ce.matrixWorld),le.matrix.invert(),le.matrix.multiply(ye.matrixWorld)),le.matrix.decompose(le.position,le.quaternion,le.scale),le.updateMatrixWorld(!0),le.projectionMatrix.copy(ye.projectionMatrix),le.projectionMatrixInverse.copy(ye.projectionMatrixInverse),le.isPerspectiveCamera&&(le.fov=Dg*2*Math.atan(1/le.projectionMatrix.elements[5]),le.zoom=1)}this.getCamera=function(){return P},this.getFoveation=function(){if(!(v===null&&g===null))return u},this.setFoveation=function(le){u=le,v!==null&&(v.fixedFoveation=le),g!==null&&g.fixedFoveation!==void 0&&(g.fixedFoveation=le)},this.hasDepthSensing=function(){return _.texture!==null};let ee=null;function ce(le,ye){if(h=ye.getViewerPose(c||s),y=ye,h!==null){const Ce=h.views;g!==null&&(e.setRenderTargetFramebuffer(M,g.framebuffer),e.setRenderTarget(M));let pe=!1;Ce.length!==P.cameras.length&&(P.cameras.length=0,pe=!0);for(let Me=0;Me<Ce.length;Me++){const De=Ce[Me];let xe=null;if(g!==null)xe=g.getViewport(De);else{const He=p.getViewSubImage(v,De);xe=He.viewport,Me===0&&(e.setRenderTargetTextures(M,He.colorTexture,v.ignoreDepthValues?void 0:He.depthStencilTexture),e.setRenderTarget(M))}let G=U[Me];G===void 0&&(G=new ta,G.layers.enable(Me),G.viewport=new di,U[Me]=G),G.matrix.fromArray(De.transform.matrix),G.matrix.decompose(G.position,G.quaternion,G.scale),G.projectionMatrix.fromArray(De.projectionMatrix),G.projectionMatrixInverse.copy(G.projectionMatrix).invert(),G.viewport.set(xe.x,xe.y,xe.width,xe.height),Me===0&&(P.matrix.copy(G.matrix),P.matrix.decompose(P.position,P.quaternion,P.scale)),pe===!0&&P.cameras.push(G)}const ue=r.enabledFeatures;if(ue&&ue.includes("depth-sensing")){const Me=p.getDepthInformation(Ce[0]);Me&&Me.isValid&&Me.texture&&_.init(e,Me,r.renderState)}}for(let Ce=0;Ce<C.length;Ce++){const pe=x[Ce],ue=C[Ce];pe!==null&&ue!==void 0&&ue.update(pe,ye,c||s)}_.render(e,P),ee&&ee(le,ye),ye.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ye}),y=null}const se=new yk;se.setAnimationLoop(ce),this.setAnimationLoop=function(le){ee=le},this.dispose=function(){}}}function ige(t,e){function n(w,b){w.matrixAutoUpdate===!0&&w.updateMatrix(),b.value.copy(w.matrix)}function i(w,b){b.color.getRGB(w.fogColor.value,mk(t)),b.isFog?(w.fogNear.value=b.near,w.fogFar.value=b.far):b.isFogExp2&&(w.fogDensity.value=b.density)}function r(w,b,M,C,x){b.isMeshBasicMaterial||b.isMeshLambertMaterial?a(w,b):b.isMeshToonMaterial?(a(w,b),p(w,b)):b.isMeshPhongMaterial?(a(w,b),h(w,b)):b.isMeshStandardMaterial?(a(w,b),v(w,b),b.isMeshPhysicalMaterial&&g(w,b,x)):b.isMeshMatcapMaterial?(a(w,b),y(w,b)):b.isMeshDepthMaterial?a(w,b):b.isMeshDistanceMaterial?(a(w,b),_(w,b)):b.isMeshNormalMaterial?a(w,b):b.isLineBasicMaterial?(s(w,b),b.isLineDashedMaterial&&o(w,b)):b.isPointsMaterial?u(w,b,M,C):b.isSpriteMaterial?c(w,b):b.isShadowMaterial?(w.color.value.copy(b.color),w.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function a(w,b){w.opacity.value=b.opacity,b.color&&w.diffuse.value.copy(b.color),b.emissive&&w.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(w.map.value=b.map,n(b.map,w.mapTransform)),b.alphaMap&&(w.alphaMap.value=b.alphaMap,n(b.alphaMap,w.alphaMapTransform)),b.bumpMap&&(w.bumpMap.value=b.bumpMap,n(b.bumpMap,w.bumpMapTransform),w.bumpScale.value=b.bumpScale,b.side===Ir&&(w.bumpScale.value*=-1)),b.normalMap&&(w.normalMap.value=b.normalMap,n(b.normalMap,w.normalMapTransform),w.normalScale.value.copy(b.normalScale),b.side===Ir&&w.normalScale.value.negate()),b.displacementMap&&(w.displacementMap.value=b.displacementMap,n(b.displacementMap,w.displacementMapTransform),w.displacementScale.value=b.displacementScale,w.displacementBias.value=b.displacementBias),b.emissiveMap&&(w.emissiveMap.value=b.emissiveMap,n(b.emissiveMap,w.emissiveMapTransform)),b.specularMap&&(w.specularMap.value=b.specularMap,n(b.specularMap,w.specularMapTransform)),b.alphaTest>0&&(w.alphaTest.value=b.alphaTest);const M=e.get(b).envMap;if(M&&(w.envMap.value=M,w.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,w.reflectivity.value=b.reflectivity,w.ior.value=b.ior,w.refractionRatio.value=b.refractionRatio),b.lightMap){w.lightMap.value=b.lightMap;const C=t._useLegacyLights===!0?Math.PI:1;w.lightMapIntensity.value=b.lightMapIntensity*C,n(b.lightMap,w.lightMapTransform)}b.aoMap&&(w.aoMap.value=b.aoMap,w.aoMapIntensity.value=b.aoMapIntensity,n(b.aoMap,w.aoMapTransform))}function s(w,b){w.diffuse.value.copy(b.color),w.opacity.value=b.opacity,b.map&&(w.map.value=b.map,n(b.map,w.mapTransform))}function o(w,b){w.dashSize.value=b.dashSize,w.totalSize.value=b.dashSize+b.gapSize,w.scale.value=b.scale}function u(w,b,M,C){w.diffuse.value.copy(b.color),w.opacity.value=b.opacity,w.size.value=b.size*M,w.scale.value=C*.5,b.map&&(w.map.value=b.map,n(b.map,w.uvTransform)),b.alphaMap&&(w.alphaMap.value=b.alphaMap,n(b.alphaMap,w.alphaMapTransform)),b.alphaTest>0&&(w.alphaTest.value=b.alphaTest)}function c(w,b){w.diffuse.value.copy(b.color),w.opacity.value=b.opacity,w.rotation.value=b.rotation,b.map&&(w.map.value=b.map,n(b.map,w.mapTransform)),b.alphaMap&&(w.alphaMap.value=b.alphaMap,n(b.alphaMap,w.alphaMapTransform)),b.alphaTest>0&&(w.alphaTest.value=b.alphaTest)}function h(w,b){w.specular.value.copy(b.specular),w.shininess.value=Math.max(b.shininess,1e-4)}function p(w,b){b.gradientMap&&(w.gradientMap.value=b.gradientMap)}function v(w,b){w.metalness.value=b.metalness,b.metalnessMap&&(w.metalnessMap.value=b.metalnessMap,n(b.metalnessMap,w.metalnessMapTransform)),w.roughness.value=b.roughness,b.roughnessMap&&(w.roughnessMap.value=b.roughnessMap,n(b.roughnessMap,w.roughnessMapTransform)),e.get(b).envMap&&(w.envMapIntensity.value=b.envMapIntensity)}function g(w,b,M){w.ior.value=b.ior,b.sheen>0&&(w.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),w.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(w.sheenColorMap.value=b.sheenColorMap,n(b.sheenColorMap,w.sheenColorMapTransform)),b.sheenRoughnessMap&&(w.sheenRoughnessMap.value=b.sheenRoughnessMap,n(b.sheenRoughnessMap,w.sheenRoughnessMapTransform))),b.clearcoat>0&&(w.clearcoat.value=b.clearcoat,w.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(w.clearcoatMap.value=b.clearcoatMap,n(b.clearcoatMap,w.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(w.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,n(b.clearcoatRoughnessMap,w.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(w.clearcoatNormalMap.value=b.clearcoatNormalMap,n(b.clearcoatNormalMap,w.clearcoatNormalMapTransform),w.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===Ir&&w.clearcoatNormalScale.value.negate())),b.iridescence>0&&(w.iridescence.value=b.iridescence,w.iridescenceIOR.value=b.iridescenceIOR,w.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],w.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(w.iridescenceMap.value=b.iridescenceMap,n(b.iridescenceMap,w.iridescenceMapTransform)),b.iridescenceThicknessMap&&(w.iridescenceThicknessMap.value=b.iridescenceThicknessMap,n(b.iridescenceThicknessMap,w.iridescenceThicknessMapTransform))),b.transmission>0&&(w.transmission.value=b.transmission,w.transmissionSamplerMap.value=M.texture,w.transmissionSamplerSize.value.set(M.width,M.height),b.transmissionMap&&(w.transmissionMap.value=b.transmissionMap,n(b.transmissionMap,w.transmissionMapTransform)),w.thickness.value=b.thickness,b.thicknessMap&&(w.thicknessMap.value=b.thicknessMap,n(b.thicknessMap,w.thicknessMapTransform)),w.attenuationDistance.value=b.attenuationDistance,w.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(w.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(w.anisotropyMap.value=b.anisotropyMap,n(b.anisotropyMap,w.anisotropyMapTransform))),w.specularIntensity.value=b.specularIntensity,w.specularColor.value.copy(b.specularColor),b.specularColorMap&&(w.specularColorMap.value=b.specularColorMap,n(b.specularColorMap,w.specularColorMapTransform)),b.specularIntensityMap&&(w.specularIntensityMap.value=b.specularIntensityMap,n(b.specularIntensityMap,w.specularIntensityMapTransform))}function y(w,b){b.matcap&&(w.matcap.value=b.matcap)}function _(w,b){const M=e.get(b).light;w.referencePosition.value.setFromMatrixPosition(M.matrixWorld),w.nearDistance.value=M.shadow.camera.near,w.farDistance.value=M.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function rge(t,e,n,i){let r={},a={},s=[];const o=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function u(M,C){const x=C.program;i.uniformBlockBinding(M,x)}function c(M,C){let x=r[M.id];x===void 0&&(y(M),x=h(M),r[M.id]=x,M.addEventListener("dispose",w));const T=C.program;i.updateUBOMapping(M,T);const k=e.render.frame;a[M.id]!==k&&(v(M),a[M.id]=k)}function h(M){const C=p();M.__bindingPointIndex=C;const x=t.createBuffer(),T=M.__size,k=M.usage;return t.bindBuffer(t.UNIFORM_BUFFER,x),t.bufferData(t.UNIFORM_BUFFER,T,k),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,C,x),x}function p(){for(let M=0;M<o;M++)if(s.indexOf(M)===-1)return s.push(M),M;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function v(M){const C=r[M.id],x=M.uniforms,T=M.__cache;t.bindBuffer(t.UNIFORM_BUFFER,C);for(let k=0,R=x.length;k<R;k++){const D=Array.isArray(x[k])?x[k]:[x[k]];for(let U=0,P=D.length;U<P;U++){const N=D[U];if(g(N,k,U,T)===!0){const $=N.__offset,Q=Array.isArray(N.value)?N.value:[N.value];let Y=0;for(let H=0;H<Q.length;H++){const B=Q[H],X=_(B);typeof B=="number"||typeof B=="boolean"?(N.__data[0]=B,t.bufferSubData(t.UNIFORM_BUFFER,$+Y,N.__data)):B.isMatrix3?(N.__data[0]=B.elements[0],N.__data[1]=B.elements[1],N.__data[2]=B.elements[2],N.__data[3]=0,N.__data[4]=B.elements[3],N.__data[5]=B.elements[4],N.__data[6]=B.elements[5],N.__data[7]=0,N.__data[8]=B.elements[6],N.__data[9]=B.elements[7],N.__data[10]=B.elements[8],N.__data[11]=0):(B.toArray(N.__data,Y),Y+=X.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,$,N.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function g(M,C,x,T){const k=M.value,R=C+"_"+x;if(T[R]===void 0)return typeof k=="number"||typeof k=="boolean"?T[R]=k:T[R]=k.clone(),!0;{const D=T[R];if(typeof k=="number"||typeof k=="boolean"){if(D!==k)return T[R]=k,!0}else if(D.equals(k)===!1)return D.copy(k),!0}return!1}function y(M){const C=M.uniforms;let x=0;const T=16;for(let R=0,D=C.length;R<D;R++){const U=Array.isArray(C[R])?C[R]:[C[R]];for(let P=0,N=U.length;P<N;P++){const $=U[P],Q=Array.isArray($.value)?$.value:[$.value];for(let Y=0,H=Q.length;Y<H;Y++){const B=Q[Y],X=_(B),q=x%T;q!==0&&T-q<X.boundary&&(x+=T-q),$.__data=new Float32Array(X.storage/Float32Array.BYTES_PER_ELEMENT),$.__offset=x,x+=X.storage}}}const k=x%T;return k>0&&(x+=T-k),M.__size=x,M.__cache={},this}function _(M){const C={boundary:0,storage:0};return typeof M=="number"||typeof M=="boolean"?(C.boundary=4,C.storage=4):M.isVector2?(C.boundary=8,C.storage=8):M.isVector3||M.isColor?(C.boundary=16,C.storage=12):M.isVector4?(C.boundary=16,C.storage=16):M.isMatrix3?(C.boundary=48,C.storage=48):M.isMatrix4?(C.boundary=64,C.storage=64):M.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",M),C}function w(M){const C=M.target;C.removeEventListener("dispose",w);const x=s.indexOf(C.__bindingPointIndex);s.splice(x,1),t.deleteBuffer(r[C.id]),delete r[C.id],delete a[C.id]}function b(){for(const M in r)t.deleteBuffer(r[M]);s=[],r={},a={}}return{bind:u,update:c,dispose:b}}class Mk{constructor(e={}){const{canvas:n=Zde(),context:i=null,depth:r=!0,stencil:a=!0,alpha:s=!1,antialias:o=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:c=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:p=!1}=e;this.isWebGLRenderer=!0;let v;i!==null?v=i.getContextAttributes().alpha:v=s;const g=new Uint32Array(4),y=new Int32Array(4);let _=null,w=null;const b=[],M=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=zi,this._useLegacyLights=!1,this.toneMapping=no,this.toneMappingExposure=1;const C=this;let x=!1,T=0,k=0,R=null,D=-1,U=null;const P=new di,N=new di;let $=null;const Q=new Cn(0);let Y=0,H=n.width,B=n.height,X=1,q=null,O=null;const V=new di(0,0,H,B),ee=new di(0,0,H,B);let ce=!1;const se=new e_;let le=!1,ye=!1,Ce=null;const pe=new jn,ue=new An,Me=new je,De={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function xe(){return R===null?X:1}let G=i;function He(me,Ue){for(let Ke=0;Ke<me.length;Ke++){const Je=me[Ke],Se=n.getContext(Je,Ue);if(Se!==null)return Se}return null}try{const me={alpha:!0,depth:r,stencil:a,antialias:o,premultipliedAlpha:u,preserveDrawingBuffer:c,powerPreference:h,failIfMajorPerformanceCaveat:p};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${jy}`),n.addEventListener("webglcontextlost",st,!1),n.addEventListener("webglcontextrestored",ve,!1),n.addEventListener("webglcontextcreationerror",et,!1),G===null){const Ue=["webgl2","webgl","experimental-webgl"];if(C.isWebGL1Renderer===!0&&Ue.shift(),G=He(Ue,me),G===null)throw He(Ue)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&G instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),G.getShaderPrecisionFormat===void 0&&(G.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(me){throw console.error("THREE.WebGLRenderer: "+me.message),me}let Qe,at,rt,it,qe,te,ae,ke,Be,Ve,Ae,Pe,Xe,vt,nt,Rt,Ye,Et,Te,ze,de,be,Re,gt;function Ft(){Qe=new dme(G),at=new ame(G,Qe,e),Qe.init(at),be=new Xve(G,Qe,at),rt=new Yve(G,Qe,at),it=new pme(G),qe=new Nve,te=new jve(G,Qe,rt,qe,at,be,it),ae=new ome(C),ke=new cme(C),Be=new Sfe(G,at),Re=new ime(G,Qe,Be,at),Ve=new fme(G,Be,it,Re),Ae=new yme(G,Ve,Be,it),Te=new gme(G,at,te),Rt=new sme(qe),Pe=new Lve(C,ae,ke,Qe,at,Re,Rt),Xe=new ige(C,qe),vt=new Dve,nt=new $ve(Qe,at),Et=new nme(C,ae,ke,rt,Ae,v,u),Ye=new qve(C,Ae,at),gt=new rge(G,it,at,rt),ze=new rme(G,Qe,it,at),de=new hme(G,Qe,it,at),it.programs=Pe.programs,C.capabilities=at,C.extensions=Qe,C.properties=qe,C.renderLists=vt,C.shadowMap=Ye,C.state=rt,C.info=it}Ft();const Ee=new nge(C,G);this.xr=Ee,this.getContext=function(){return G},this.getContextAttributes=function(){return G.getContextAttributes()},this.forceContextLoss=function(){const me=Qe.get("WEBGL_lose_context");me&&me.loseContext()},this.forceContextRestore=function(){const me=Qe.get("WEBGL_lose_context");me&&me.restoreContext()},this.getPixelRatio=function(){return X},this.setPixelRatio=function(me){me!==void 0&&(X=me,this.setSize(H,B,!1))},this.getSize=function(me){return me.set(H,B)},this.setSize=function(me,Ue,Ke=!0){if(Ee.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}H=me,B=Ue,n.width=Math.floor(me*X),n.height=Math.floor(Ue*X),Ke===!0&&(n.style.width=me+"px",n.style.height=Ue+"px"),this.setViewport(0,0,me,Ue)},this.getDrawingBufferSize=function(me){return me.set(H*X,B*X).floor()},this.setDrawingBufferSize=function(me,Ue,Ke){H=me,B=Ue,X=Ke,n.width=Math.floor(me*Ke),n.height=Math.floor(Ue*Ke),this.setViewport(0,0,me,Ue)},this.getCurrentViewport=function(me){return me.copy(P)},this.getViewport=function(me){return me.copy(V)},this.setViewport=function(me,Ue,Ke,Je){me.isVector4?V.set(me.x,me.y,me.z,me.w):V.set(me,Ue,Ke,Je),rt.viewport(P.copy(V).multiplyScalar(X).floor())},this.getScissor=function(me){return me.copy(ee)},this.setScissor=function(me,Ue,Ke,Je){me.isVector4?ee.set(me.x,me.y,me.z,me.w):ee.set(me,Ue,Ke,Je),rt.scissor(N.copy(ee).multiplyScalar(X).floor())},this.getScissorTest=function(){return ce},this.setScissorTest=function(me){rt.setScissorTest(ce=me)},this.setOpaqueSort=function(me){q=me},this.setTransparentSort=function(me){O=me},this.getClearColor=function(me){return me.copy(Et.getClearColor())},this.setClearColor=function(){Et.setClearColor.apply(Et,arguments)},this.getClearAlpha=function(){return Et.getClearAlpha()},this.setClearAlpha=function(){Et.setClearAlpha.apply(Et,arguments)},this.clear=function(me=!0,Ue=!0,Ke=!0){let Je=0;if(me){let Se=!1;if(R!==null){const $e=R.texture.format;Se=$e===tk||$e===ek||$e===JA}if(Se){const $e=R.texture.type,ht=$e===io||$e===Zs||$e===Zy||$e===il||$e===ZA||$e===QA,Tt=Et.getClearColor(),Kt=Et.getClearAlpha(),Qt=Tt.r,an=Tt.g,on=Tt.b;ht?(g[0]=Qt,g[1]=an,g[2]=on,g[3]=Kt,G.clearBufferuiv(G.COLOR,0,g)):(y[0]=Qt,y[1]=an,y[2]=on,y[3]=Kt,G.clearBufferiv(G.COLOR,0,y))}else Je|=G.COLOR_BUFFER_BIT}Ue&&(Je|=G.DEPTH_BUFFER_BIT),Ke&&(Je|=G.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),G.clear(Je)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",st,!1),n.removeEventListener("webglcontextrestored",ve,!1),n.removeEventListener("webglcontextcreationerror",et,!1),vt.dispose(),nt.dispose(),qe.dispose(),ae.dispose(),ke.dispose(),Ae.dispose(),Re.dispose(),gt.dispose(),Pe.dispose(),Ee.dispose(),Ee.removeEventListener("sessionstart",Zn),Ee.removeEventListener("sessionend",pn),Ce&&(Ce.dispose(),Ce=null),Un.stop()};function st(me){me.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function ve(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const me=it.autoReset,Ue=Ye.enabled,Ke=Ye.autoUpdate,Je=Ye.needsUpdate,Se=Ye.type;Ft(),it.autoReset=me,Ye.enabled=Ue,Ye.autoUpdate=Ke,Ye.needsUpdate=Je,Ye.type=Se}function et(me){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",me.statusMessage)}function lt(me){const Ue=me.target;Ue.removeEventListener("dispose",lt),bt(Ue)}function bt(me){$t(me),qe.remove(me)}function $t(me){const Ue=qe.get(me).programs;Ue!==void 0&&(Ue.forEach(function(Ke){Pe.releaseProgram(Ke)}),me.isShaderMaterial&&Pe.releaseShaderCache(me))}this.renderBufferDirect=function(me,Ue,Ke,Je,Se,$e){Ue===null&&(Ue=De);const ht=Se.isMesh&&Se.matrixWorld.determinant()<0,Tt=cn(me,Ue,Ke,Je,Se);rt.setMaterial(Je,ht);let Kt=Ke.index,Qt=1;if(Je.wireframe===!0){if(Kt=Ve.getWireframeAttribute(Ke),Kt===void 0)return;Qt=2}const an=Ke.drawRange,on=Ke.attributes.position;let Vn=an.start*Qt,wi=(an.start+an.count)*Qt;$e!==null&&(Vn=Math.max(Vn,$e.start*Qt),wi=Math.min(wi,($e.start+$e.count)*Qt)),Kt!==null?(Vn=Math.max(Vn,0),wi=Math.min(wi,Kt.count)):on!=null&&(Vn=Math.max(Vn,0),wi=Math.min(wi,on.count));const In=wi-Vn;if(In<0||In===1/0)return;Re.setup(Se,Je,Tt,Ke,Kt);let Si,Ln=ze;if(Kt!==null&&(Si=Be.get(Kt),Ln=de,Ln.setIndex(Si)),Se.isMesh)Je.wireframe===!0?(rt.setLineWidth(Je.wireframeLinewidth*xe()),Ln.setMode(G.LINES)):Ln.setMode(G.TRIANGLES);else if(Se.isLine){let ln=Je.linewidth;ln===void 0&&(ln=1),rt.setLineWidth(ln*xe()),Se.isLineSegments?Ln.setMode(G.LINES):Se.isLineLoop?Ln.setMode(G.LINE_LOOP):Ln.setMode(G.LINE_STRIP)}else Se.isPoints?Ln.setMode(G.POINTS):Se.isSprite&&Ln.setMode(G.TRIANGLES);if(Se.isBatchedMesh)Ln.renderMultiDraw(Se._multiDrawStarts,Se._multiDrawCounts,Se._multiDrawCount);else if(Se.isInstancedMesh)Ln.renderInstances(Vn,In,Se.count);else if(Ke.isInstancedBufferGeometry){const ln=Ke._maxInstanceCount!==void 0?Ke._maxInstanceCount:1/0,os=Math.min(Ke.instanceCount,ln);Ln.renderInstances(Vn,In,os)}else Ln.render(Vn,In)};function hn(me,Ue,Ke){me.transparent===!0&&me.side===Wa&&me.forceSinglePass===!1?(me.side=Ir,me.needsUpdate=!0,tt(me,Ue,Ke),me.side=vo,me.needsUpdate=!0,tt(me,Ue,Ke),me.side=Wa):tt(me,Ue,Ke)}this.compile=function(me,Ue,Ke=null){Ke===null&&(Ke=me),w=nt.get(Ke),w.init(),M.push(w),Ke.traverseVisible(function(Se){Se.isLight&&Se.layers.test(Ue.layers)&&(w.pushLight(Se),Se.castShadow&&w.pushShadow(Se))}),me!==Ke&&me.traverseVisible(function(Se){Se.isLight&&Se.layers.test(Ue.layers)&&(w.pushLight(Se),Se.castShadow&&w.pushShadow(Se))}),w.setupLights(C._useLegacyLights);const Je=new Set;return me.traverse(function(Se){const $e=Se.material;if($e)if(Array.isArray($e))for(let ht=0;ht<$e.length;ht++){const Tt=$e[ht];hn(Tt,Ke,Se),Je.add(Tt)}else hn($e,Ke,Se),Je.add($e)}),M.pop(),w=null,Je},this.compileAsync=function(me,Ue,Ke=null){const Je=this.compile(me,Ue,Ke);return new Promise(Se=>{function $e(){if(Je.forEach(function(ht){qe.get(ht).currentProgram.isReady()&&Je.delete(ht)}),Je.size===0){Se(me);return}setTimeout($e,10)}Qe.get("KHR_parallel_shader_compile")!==null?$e():setTimeout($e,10)})};let ft=null;function kn(me){ft&&ft(me)}function Zn(){Un.stop()}function pn(){Un.start()}const Un=new yk;Un.setAnimationLoop(kn),typeof self<"u"&&Un.setContext(self),this.setAnimationLoop=function(me){ft=me,Ee.setAnimationLoop(me),me===null?Un.stop():Un.start()},Ee.addEventListener("sessionstart",Zn),Ee.addEventListener("sessionend",pn),this.render=function(me,Ue){if(Ue!==void 0&&Ue.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(x===!0)return;me.matrixWorldAutoUpdate===!0&&me.updateMatrixWorld(),Ue.parent===null&&Ue.matrixWorldAutoUpdate===!0&&Ue.updateMatrixWorld(),Ee.enabled===!0&&Ee.isPresenting===!0&&(Ee.cameraAutoUpdate===!0&&Ee.updateCamera(Ue),Ue=Ee.getCamera()),me.isScene===!0&&me.onBeforeRender(C,me,Ue,R),w=nt.get(me,M.length),w.init(),M.push(w),pe.multiplyMatrices(Ue.projectionMatrix,Ue.matrixWorldInverse),se.setFromProjectionMatrix(pe),ye=this.localClippingEnabled,le=Rt.init(this.clippingPlanes,ye),_=vt.get(me,b.length),_.init(),b.push(_),ci(me,Ue,0,C.sortObjects),_.finish(),C.sortObjects===!0&&_.sort(q,O),this.info.render.frame++,le===!0&&Rt.beginShadows();const Ke=w.state.shadowsArray;if(Ye.render(Ke,me,Ue),le===!0&&Rt.endShadows(),this.info.autoReset===!0&&this.info.reset(),(Ee.enabled===!1||Ee.isPresenting===!1||Ee.hasDepthSensing()===!1)&&Et.render(_,me),w.setupLights(C._useLegacyLights),Ue.isArrayCamera){const Je=Ue.cameras;for(let Se=0,$e=Je.length;Se<$e;Se++){const ht=Je[Se];ha(_,me,ht,ht.viewport)}}else ha(_,me,Ue);R!==null&&(te.updateMultisampleRenderTarget(R),te.updateRenderTargetMipmap(R)),me.isScene===!0&&me.onAfterRender(C,me,Ue),Re.resetDefaultState(),D=-1,U=null,M.pop(),M.length>0?w=M[M.length-1]:w=null,b.pop(),b.length>0?_=b[b.length-1]:_=null};function ci(me,Ue,Ke,Je){if(me.visible===!1)return;if(me.layers.test(Ue.layers)){if(me.isGroup)Ke=me.renderOrder;else if(me.isLOD)me.autoUpdate===!0&&me.update(Ue);else if(me.isLight)w.pushLight(me),me.castShadow&&w.pushShadow(me);else if(me.isSprite){if(!me.frustumCulled||se.intersectsSprite(me)){Je&&Me.setFromMatrixPosition(me.matrixWorld).applyMatrix4(pe);const ht=Ae.update(me),Tt=me.material;Tt.visible&&_.push(me,ht,Tt,Ke,Me.z,null)}}else if((me.isMesh||me.isLine||me.isPoints)&&(!me.frustumCulled||se.intersectsObject(me))){const ht=Ae.update(me),Tt=me.material;if(Je&&(me.boundingSphere!==void 0?(me.boundingSphere===null&&me.computeBoundingSphere(),Me.copy(me.boundingSphere.center)):(ht.boundingSphere===null&&ht.computeBoundingSphere(),Me.copy(ht.boundingSphere.center)),Me.applyMatrix4(me.matrixWorld).applyMatrix4(pe)),Array.isArray(Tt)){const Kt=ht.groups;for(let Qt=0,an=Kt.length;Qt<an;Qt++){const on=Kt[Qt],Vn=Tt[on.materialIndex];Vn&&Vn.visible&&_.push(me,ht,Vn,Ke,Me.z,on)}}else Tt.visible&&_.push(me,ht,Tt,Ke,Me.z,null)}}const $e=me.children;for(let ht=0,Tt=$e.length;ht<Tt;ht++)ci($e[ht],Ue,Ke,Je)}function ha(me,Ue,Ke,Je){const Se=me.opaque,$e=me.transmissive,ht=me.transparent;w.setupLightsView(Ke),le===!0&&Rt.setGlobalState(C.clippingPlanes,Ke),$e.length>0&&ar(Se,$e,Ue,Ke),Je&&rt.viewport(P.copy(Je)),Se.length>0&&Nr(Se,Ue,Ke),$e.length>0&&Nr($e,Ue,Ke),ht.length>0&&Nr(ht,Ue,Ke),rt.buffers.depth.setTest(!0),rt.buffers.depth.setMask(!0),rt.buffers.color.setMask(!0),rt.setPolygonOffset(!1)}function ar(me,Ue,Ke,Je){if((Ke.isScene===!0?Ke.overrideMaterial:null)!==null)return;const $e=at.isWebGL2;Ce===null&&(Ce=new yl(1,1,{generateMipmaps:!0,type:Qe.has("EXT_color_buffer_half_float")?dd:io,minFilter:Zo,samples:$e?4:0})),C.getDrawingBufferSize(ue),$e?Ce.setSize(ue.x,ue.y):Ce.setSize(Fg(ue.x),Fg(ue.y));const ht=C.getRenderTarget();C.setRenderTarget(Ce),C.getClearColor(Q),Y=C.getClearAlpha(),Y<1&&C.setClearColor(16777215,.5),C.clear();const Tt=C.toneMapping;C.toneMapping=no,Nr(me,Ke,Je),te.updateMultisampleRenderTarget(Ce),te.updateRenderTargetMipmap(Ce);let Kt=!1;for(let Qt=0,an=Ue.length;Qt<an;Qt++){const on=Ue[Qt],Vn=on.object,wi=on.geometry,In=on.material,Si=on.group;if(In.side===Wa&&Vn.layers.test(Je.layers)){const Ln=In.side;In.side=Ir,In.needsUpdate=!0,hi(Vn,Ke,Je,wi,In,Si),In.side=Ln,In.needsUpdate=!0,Kt=!0}}Kt===!0&&(te.updateMultisampleRenderTarget(Ce),te.updateRenderTargetMipmap(Ce)),C.setRenderTarget(ht),C.setClearColor(Q,Y),C.toneMapping=Tt}function Nr(me,Ue,Ke){const Je=Ue.isScene===!0?Ue.overrideMaterial:null;for(let Se=0,$e=me.length;Se<$e;Se++){const ht=me[Se],Tt=ht.object,Kt=ht.geometry,Qt=Je===null?ht.material:Je,an=ht.group;Tt.layers.test(Ke.layers)&&hi(Tt,Ue,Ke,Kt,Qt,an)}}function hi(me,Ue,Ke,Je,Se,$e){me.onBeforeRender(C,Ue,Ke,Je,Se,$e),me.modelViewMatrix.multiplyMatrices(Ke.matrixWorldInverse,me.matrixWorld),me.normalMatrix.getNormalMatrix(me.modelViewMatrix),Se.onBeforeRender(C,Ue,Ke,Je,me,$e),Se.transparent===!0&&Se.side===Wa&&Se.forceSinglePass===!1?(Se.side=Ir,Se.needsUpdate=!0,C.renderBufferDirect(Ke,Ue,Je,Se,me,$e),Se.side=vo,Se.needsUpdate=!0,C.renderBufferDirect(Ke,Ue,Je,Se,me,$e),Se.side=Wa):C.renderBufferDirect(Ke,Ue,Je,Se,me,$e),me.onAfterRender(C,Ue,Ke,Je,Se,$e)}function tt(me,Ue,Ke){Ue.isScene!==!0&&(Ue=De);const Je=qe.get(me),Se=w.state.lights,$e=w.state.shadowsArray,ht=Se.state.version,Tt=Pe.getParameters(me,Se.state,$e,Ue,Ke),Kt=Pe.getProgramCacheKey(Tt);let Qt=Je.programs;Je.environment=me.isMeshStandardMaterial?Ue.environment:null,Je.fog=Ue.fog,Je.envMap=(me.isMeshStandardMaterial?ke:ae).get(me.envMap||Je.environment),Qt===void 0&&(me.addEventListener("dispose",lt),Qt=new Map,Je.programs=Qt);let an=Qt.get(Kt);if(an!==void 0){if(Je.currentProgram===an&&Je.lightsStateVersion===ht)return dn(me,Tt),an}else Tt.uniforms=Pe.getUniforms(me),me.onBuild(Ke,Tt,C),me.onBeforeCompile(Tt,C),an=Pe.acquireProgram(Tt,Kt),Qt.set(Kt,an),Je.uniforms=Tt.uniforms;const on=Je.uniforms;return(!me.isShaderMaterial&&!me.isRawShaderMaterial||me.clipping===!0)&&(on.clippingPlanes=Rt.uniform),dn(me,Tt),Je.needsLights=ri(me),Je.lightsStateVersion=ht,Je.needsLights&&(on.ambientLightColor.value=Se.state.ambient,on.lightProbe.value=Se.state.probe,on.directionalLights.value=Se.state.directional,on.directionalLightShadows.value=Se.state.directionalShadow,on.spotLights.value=Se.state.spot,on.spotLightShadows.value=Se.state.spotShadow,on.rectAreaLights.value=Se.state.rectArea,on.ltc_1.value=Se.state.rectAreaLTC1,on.ltc_2.value=Se.state.rectAreaLTC2,on.pointLights.value=Se.state.point,on.pointLightShadows.value=Se.state.pointShadow,on.hemisphereLights.value=Se.state.hemi,on.directionalShadowMap.value=Se.state.directionalShadowMap,on.directionalShadowMatrix.value=Se.state.directionalShadowMatrix,on.spotShadowMap.value=Se.state.spotShadowMap,on.spotLightMatrix.value=Se.state.spotLightMatrix,on.spotLightMap.value=Se.state.spotLightMap,on.pointShadowMap.value=Se.state.pointShadowMap,on.pointShadowMatrix.value=Se.state.pointShadowMatrix),Je.currentProgram=an,Je.uniformsList=null,an}function Pt(me){if(me.uniformsList===null){const Ue=me.currentProgram.getUniforms();me.uniformsList=th.seqWithValue(Ue.seq,me.uniforms)}return me.uniformsList}function dn(me,Ue){const Ke=qe.get(me);Ke.outputColorSpace=Ue.outputColorSpace,Ke.batching=Ue.batching,Ke.instancing=Ue.instancing,Ke.instancingColor=Ue.instancingColor,Ke.skinning=Ue.skinning,Ke.morphTargets=Ue.morphTargets,Ke.morphNormals=Ue.morphNormals,Ke.morphColors=Ue.morphColors,Ke.morphTargetsCount=Ue.morphTargetsCount,Ke.numClippingPlanes=Ue.numClippingPlanes,Ke.numIntersection=Ue.numClipIntersection,Ke.vertexAlphas=Ue.vertexAlphas,Ke.vertexTangents=Ue.vertexTangents,Ke.toneMapping=Ue.toneMapping}function cn(me,Ue,Ke,Je,Se){Ue.isScene!==!0&&(Ue=De),te.resetTextureUnits();const $e=Ue.fog,ht=Je.isMeshStandardMaterial?Ue.environment:null,Tt=R===null?C.outputColorSpace:R.isXRRenderTarget===!0?R.texture.colorSpace:Ts,Kt=(Je.isMeshStandardMaterial?ke:ae).get(Je.envMap||ht),Qt=Je.vertexColors===!0&&!!Ke.attributes.color&&Ke.attributes.color.itemSize===4,an=!!Ke.attributes.tangent&&(!!Je.normalMap||Je.anisotropy>0),on=!!Ke.morphAttributes.position,Vn=!!Ke.morphAttributes.normal,wi=!!Ke.morphAttributes.color;let In=no;Je.toneMapped&&(R===null||R.isXRRenderTarget===!0)&&(In=C.toneMapping);const Si=Ke.morphAttributes.position||Ke.morphAttributes.normal||Ke.morphAttributes.color,Ln=Si!==void 0?Si.length:0,ln=qe.get(Je),os=w.state.lights;if(le===!0&&(ye===!0||me!==U)){const Vi=me===U&&Je.id===D;Rt.setState(Je,me,Vi)}let Hn=!1;Je.version===ln.__version?(ln.needsLights&&ln.lightsStateVersion!==os.state.version||ln.outputColorSpace!==Tt||Se.isBatchedMesh&&ln.batching===!1||!Se.isBatchedMesh&&ln.batching===!0||Se.isInstancedMesh&&ln.instancing===!1||!Se.isInstancedMesh&&ln.instancing===!0||Se.isSkinnedMesh&&ln.skinning===!1||!Se.isSkinnedMesh&&ln.skinning===!0||Se.isInstancedMesh&&ln.instancingColor===!0&&Se.instanceColor===null||Se.isInstancedMesh&&ln.instancingColor===!1&&Se.instanceColor!==null||ln.envMap!==Kt||Je.fog===!0&&ln.fog!==$e||ln.numClippingPlanes!==void 0&&(ln.numClippingPlanes!==Rt.numPlanes||ln.numIntersection!==Rt.numIntersection)||ln.vertexAlphas!==Qt||ln.vertexTangents!==an||ln.morphTargets!==on||ln.morphNormals!==Vn||ln.morphColors!==wi||ln.toneMapping!==In||at.isWebGL2===!0&&ln.morphTargetsCount!==Ln)&&(Hn=!0):(Hn=!0,ln.__version=Je.version);let pa=ln.currentProgram;Hn===!0&&(pa=tt(Je,Ue,Se));let El=!1,Wr=!1,Ns=!1;const ai=pa.getUniforms(),ki=ln.uniforms;if(rt.useProgram(pa.program)&&(El=!0,Wr=!0,Ns=!0),Je.id!==D&&(D=Je.id,Wr=!0),El||U!==me){ai.setValue(G,"projectionMatrix",me.projectionMatrix),ai.setValue(G,"viewMatrix",me.matrixWorldInverse);const Vi=ai.map.cameraPosition;Vi!==void 0&&Vi.setValue(G,Me.setFromMatrixPosition(me.matrixWorld)),at.logarithmicDepthBuffer&&ai.setValue(G,"logDepthBufFC",2/(Math.log(me.far+1)/Math.LN2)),(Je.isMeshPhongMaterial||Je.isMeshToonMaterial||Je.isMeshLambertMaterial||Je.isMeshBasicMaterial||Je.isMeshStandardMaterial||Je.isShaderMaterial)&&ai.setValue(G,"isOrthographic",me.isOrthographicCamera===!0),U!==me&&(U=me,Wr=!0,Ns=!0)}if(Se.isSkinnedMesh){ai.setOptional(G,Se,"bindMatrix"),ai.setOptional(G,Se,"bindMatrixInverse");const Vi=Se.skeleton;Vi&&(at.floatVertexTextures?(Vi.boneTexture===null&&Vi.computeBoneTexture(),ai.setValue(G,"boneTexture",Vi.boneTexture,te)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}Se.isBatchedMesh&&(ai.setOptional(G,Se,"batchingTexture"),ai.setValue(G,"batchingTexture",Se._matricesTexture,te));const gr=Ke.morphAttributes;if((gr.position!==void 0||gr.normal!==void 0||gr.color!==void 0&&at.isWebGL2===!0)&&Te.update(Se,Ke,pa),(Wr||ln.receiveShadow!==Se.receiveShadow)&&(ln.receiveShadow=Se.receiveShadow,ai.setValue(G,"receiveShadow",Se.receiveShadow)),Je.isMeshGouraudMaterial&&Je.envMap!==null&&(ki.envMap.value=Kt,ki.flipEnvMap.value=Kt.isCubeTexture&&Kt.isRenderTargetTexture===!1?-1:1),Wr&&(ai.setValue(G,"toneMappingExposure",C.toneMappingExposure),ln.needsLights&&Ai(ki,Ns),$e&&Je.fog===!0&&Xe.refreshFogUniforms(ki,$e),Xe.refreshMaterialUniforms(ki,Je,X,B,Ce),th.upload(G,Pt(ln),ki,te)),Je.isShaderMaterial&&Je.uniformsNeedUpdate===!0&&(th.upload(G,Pt(ln),ki,te),Je.uniformsNeedUpdate=!1),Je.isSpriteMaterial&&ai.setValue(G,"center",Se.center),ai.setValue(G,"modelViewMatrix",Se.modelViewMatrix),ai.setValue(G,"normalMatrix",Se.normalMatrix),ai.setValue(G,"modelMatrix",Se.matrixWorld),Je.isShaderMaterial||Je.isRawShaderMaterial){const Vi=Je.uniformsGroups;for(let Kr=0,lc=Vi.length;Kr<lc;Kr++)if(at.isWebGL2){const Co=Vi[Kr];gt.update(Co,pa),gt.bind(Co,pa)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return pa}function Ai(me,Ue){me.ambientLightColor.needsUpdate=Ue,me.lightProbe.needsUpdate=Ue,me.directionalLights.needsUpdate=Ue,me.directionalLightShadows.needsUpdate=Ue,me.pointLights.needsUpdate=Ue,me.pointLightShadows.needsUpdate=Ue,me.spotLights.needsUpdate=Ue,me.spotLightShadows.needsUpdate=Ue,me.rectAreaLights.needsUpdate=Ue,me.hemisphereLights.needsUpdate=Ue}function ri(me){return me.isMeshLambertMaterial||me.isMeshToonMaterial||me.isMeshPhongMaterial||me.isMeshStandardMaterial||me.isShadowMaterial||me.isShaderMaterial&&me.lights===!0}this.getActiveCubeFace=function(){return T},this.getActiveMipmapLevel=function(){return k},this.getRenderTarget=function(){return R},this.setRenderTargetTextures=function(me,Ue,Ke){qe.get(me.texture).__webglTexture=Ue,qe.get(me.depthTexture).__webglTexture=Ke;const Je=qe.get(me);Je.__hasExternalTextures=!0,Je.__hasExternalTextures&&(Je.__autoAllocateDepthBuffer=Ke===void 0,Je.__autoAllocateDepthBuffer||Qe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Je.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(me,Ue){const Ke=qe.get(me);Ke.__webglFramebuffer=Ue,Ke.__useDefaultFramebuffer=Ue===void 0},this.setRenderTarget=function(me,Ue=0,Ke=0){R=me,T=Ue,k=Ke;let Je=!0,Se=null,$e=!1,ht=!1;if(me){const Kt=qe.get(me);Kt.__useDefaultFramebuffer!==void 0?(rt.bindFramebuffer(G.FRAMEBUFFER,null),Je=!1):Kt.__webglFramebuffer===void 0?te.setupRenderTarget(me):Kt.__hasExternalTextures&&te.rebindTextures(me,qe.get(me.texture).__webglTexture,qe.get(me.depthTexture).__webglTexture);const Qt=me.texture;(Qt.isData3DTexture||Qt.isDataArrayTexture||Qt.isCompressedArrayTexture)&&(ht=!0);const an=qe.get(me).__webglFramebuffer;me.isWebGLCubeRenderTarget?(Array.isArray(an[Ue])?Se=an[Ue][Ke]:Se=an[Ue],$e=!0):at.isWebGL2&&me.samples>0&&te.useMultisampledRTT(me)===!1?Se=qe.get(me).__webglMultisampledFramebuffer:Array.isArray(an)?Se=an[Ke]:Se=an,P.copy(me.viewport),N.copy(me.scissor),$=me.scissorTest}else P.copy(V).multiplyScalar(X).floor(),N.copy(ee).multiplyScalar(X).floor(),$=ce;if(rt.bindFramebuffer(G.FRAMEBUFFER,Se)&&at.drawBuffers&&Je&&rt.drawBuffers(me,Se),rt.viewport(P),rt.scissor(N),rt.setScissorTest($),$e){const Kt=qe.get(me.texture);G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,Kt.__webglTexture,Ke)}else if(ht){const Kt=qe.get(me.texture),Qt=Ue||0;G.framebufferTextureLayer(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,Kt.__webglTexture,Ke||0,Qt)}D=-1},this.readRenderTargetPixels=function(me,Ue,Ke,Je,Se,$e,ht){if(!(me&&me.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Tt=qe.get(me).__webglFramebuffer;if(me.isWebGLCubeRenderTarget&&ht!==void 0&&(Tt=Tt[ht]),Tt){rt.bindFramebuffer(G.FRAMEBUFFER,Tt);try{const Kt=me.texture,Qt=Kt.format,an=Kt.type;if(Qt!==xa&&be.convert(Qt)!==G.getParameter(G.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const on=an===dd&&(Qe.has("EXT_color_buffer_half_float")||at.isWebGL2&&Qe.has("EXT_color_buffer_float"));if(an!==io&&be.convert(an)!==G.getParameter(G.IMPLEMENTATION_COLOR_READ_TYPE)&&!(an===ws&&(at.isWebGL2||Qe.has("OES_texture_float")||Qe.has("WEBGL_color_buffer_float")))&&!on){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ue>=0&&Ue<=me.width-Je&&Ke>=0&&Ke<=me.height-Se&&G.readPixels(Ue,Ke,Je,Se,be.convert(Qt),be.convert(an),$e)}finally{const Kt=R!==null?qe.get(R).__webglFramebuffer:null;rt.bindFramebuffer(G.FRAMEBUFFER,Kt)}}},this.copyFramebufferToTexture=function(me,Ue,Ke=0){const Je=Math.pow(2,-Ke),Se=Math.floor(Ue.image.width*Je),$e=Math.floor(Ue.image.height*Je);te.setTexture2D(Ue,0),G.copyTexSubImage2D(G.TEXTURE_2D,Ke,0,0,me.x,me.y,Se,$e),rt.unbindTexture()},this.copyTextureToTexture=function(me,Ue,Ke,Je=0){const Se=Ue.image.width,$e=Ue.image.height,ht=be.convert(Ke.format),Tt=be.convert(Ke.type);te.setTexture2D(Ke,0),G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,Ke.flipY),G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ke.premultiplyAlpha),G.pixelStorei(G.UNPACK_ALIGNMENT,Ke.unpackAlignment),Ue.isDataTexture?G.texSubImage2D(G.TEXTURE_2D,Je,me.x,me.y,Se,$e,ht,Tt,Ue.image.data):Ue.isCompressedTexture?G.compressedTexSubImage2D(G.TEXTURE_2D,Je,me.x,me.y,Ue.mipmaps[0].width,Ue.mipmaps[0].height,ht,Ue.mipmaps[0].data):G.texSubImage2D(G.TEXTURE_2D,Je,me.x,me.y,ht,Tt,Ue.image),Je===0&&Ke.generateMipmaps&&G.generateMipmap(G.TEXTURE_2D),rt.unbindTexture()},this.copyTextureToTexture3D=function(me,Ue,Ke,Je,Se=0){if(C.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const $e=me.max.x-me.min.x+1,ht=me.max.y-me.min.y+1,Tt=me.max.z-me.min.z+1,Kt=be.convert(Je.format),Qt=be.convert(Je.type);let an;if(Je.isData3DTexture)te.setTexture3D(Je,0),an=G.TEXTURE_3D;else if(Je.isDataArrayTexture||Je.isCompressedArrayTexture)te.setTexture2DArray(Je,0),an=G.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,Je.flipY),G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Je.premultiplyAlpha),G.pixelStorei(G.UNPACK_ALIGNMENT,Je.unpackAlignment);const on=G.getParameter(G.UNPACK_ROW_LENGTH),Vn=G.getParameter(G.UNPACK_IMAGE_HEIGHT),wi=G.getParameter(G.UNPACK_SKIP_PIXELS),In=G.getParameter(G.UNPACK_SKIP_ROWS),Si=G.getParameter(G.UNPACK_SKIP_IMAGES),Ln=Ke.isCompressedTexture?Ke.mipmaps[Se]:Ke.image;G.pixelStorei(G.UNPACK_ROW_LENGTH,Ln.width),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,Ln.height),G.pixelStorei(G.UNPACK_SKIP_PIXELS,me.min.x),G.pixelStorei(G.UNPACK_SKIP_ROWS,me.min.y),G.pixelStorei(G.UNPACK_SKIP_IMAGES,me.min.z),Ke.isDataTexture||Ke.isData3DTexture?G.texSubImage3D(an,Se,Ue.x,Ue.y,Ue.z,$e,ht,Tt,Kt,Qt,Ln.data):Ke.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),G.compressedTexSubImage3D(an,Se,Ue.x,Ue.y,Ue.z,$e,ht,Tt,Kt,Ln.data)):G.texSubImage3D(an,Se,Ue.x,Ue.y,Ue.z,$e,ht,Tt,Kt,Qt,Ln),G.pixelStorei(G.UNPACK_ROW_LENGTH,on),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,Vn),G.pixelStorei(G.UNPACK_SKIP_PIXELS,wi),G.pixelStorei(G.UNPACK_SKIP_ROWS,In),G.pixelStorei(G.UNPACK_SKIP_IMAGES,Si),Se===0&&Je.generateMipmaps&&G.generateMipmap(an),rt.unbindTexture()},this.initTexture=function(me){me.isCubeTexture?te.setTextureCube(me,0):me.isData3DTexture?te.setTexture3D(me,0):me.isDataArrayTexture||me.isCompressedArrayTexture?te.setTexture2DArray(me,0):te.setTexture2D(me,0),rt.unbindTexture()},this.resetState=function(){T=0,k=0,R=null,rt.reset(),Re.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ss}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===Qy?"display-p3":"srgb",n.unpackColorSpace=Dn.workingColorSpace===bp?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===zi?al:ik}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===al?zi:Ts}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class age extends Mk{}age.prototype.isWebGL1Renderer=!0;class sge extends Hi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class n_ extends sc{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Cn(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const SC=new je,CC=new je,EC=new jn,Qm=new ck,Lf=new wp;class oge extends Hi{constructor(e=new fa,n=new n_){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let r=1,a=n.count;r<a;r++)SC.fromBufferAttribute(n,r-1),CC.fromBufferAttribute(n,r),i[r]=i[r-1],i[r]+=SC.distanceTo(CC);e.setAttribute("lineDistance",new nr(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Lf.copy(i.boundingSphere),Lf.applyMatrix4(r),Lf.radius+=a,e.ray.intersectsSphere(Lf)===!1)return;EC.copy(r).invert(),Qm.copy(e.ray).applyMatrix4(EC);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=o*o,c=new je,h=new je,p=new je,v=new je,g=this.isLineSegments?2:1,y=i.index,w=i.attributes.position;if(y!==null){const b=Math.max(0,s.start),M=Math.min(y.count,s.start+s.count);for(let C=b,x=M-1;C<x;C+=g){const T=y.getX(C),k=y.getX(C+1);if(c.fromBufferAttribute(w,T),h.fromBufferAttribute(w,k),Qm.distanceSqToSegment(c,h,v,p)>u)continue;v.applyMatrix4(this.matrixWorld);const D=e.ray.origin.distanceTo(v);D<e.near||D>e.far||n.push({distance:D,point:p.clone().applyMatrix4(this.matrixWorld),index:C,face:null,faceIndex:null,object:this})}}else{const b=Math.max(0,s.start),M=Math.min(w.count,s.start+s.count);for(let C=b,x=M-1;C<x;C+=g){if(c.fromBufferAttribute(w,C),h.fromBufferAttribute(w,C+1),Qm.distanceSqToSegment(c,h,v,p)>u)continue;v.applyMatrix4(this.matrixWorld);const k=e.ray.origin.distanceTo(v);k<e.near||k>e.far||n.push({distance:k,point:p.clone().applyMatrix4(this.matrixWorld),index:C,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}const xC=new je,MC=new je;class Tk extends oge{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let r=0,a=n.count;r<a;r+=2)xC.fromBufferAttribute(n,r),MC.fromBufferAttribute(n,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+xC.distanceTo(MC);e.setAttribute("lineDistance",new nr(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class i_ extends fa{constructor(e=1,n=32,i=16,r=0,a=Math.PI*2,s=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:r,phiLength:a,thetaStart:s,thetaLength:o},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const u=Math.min(s+o,Math.PI);let c=0;const h=[],p=new je,v=new je,g=[],y=[],_=[],w=[];for(let b=0;b<=i;b++){const M=[],C=b/i;let x=0;b===0&&s===0?x=.5/n:b===i&&u===Math.PI&&(x=-.5/n);for(let T=0;T<=n;T++){const k=T/n;p.x=-e*Math.cos(r+k*a)*Math.sin(s+C*o),p.y=e*Math.cos(s+C*o),p.z=e*Math.sin(r+k*a)*Math.sin(s+C*o),y.push(p.x,p.y,p.z),v.copy(p).normalize(),_.push(v.x,v.y,v.z),w.push(k+x,1-C),M.push(c++)}h.push(M)}for(let b=0;b<i;b++)for(let M=0;M<n;M++){const C=h[b][M+1],x=h[b][M],T=h[b+1][M],k=h[b+1][M+1];(b!==0||s>0)&&g.push(C,x,k),(b!==i-1||u<Math.PI)&&g.push(x,T,k)}this.setIndex(g),this.setAttribute("position",new nr(y,3)),this.setAttribute("normal",new nr(_,3)),this.setAttribute("uv",new nr(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i_(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class lge extends sc{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Cn(16777215),this.specular=new Cn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Cn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=rk,this.normalScale=new An(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Xy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class uge extends Hi{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Cn(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}const Jm=new jn,TC=new je,AC=new je;class cge{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new An(512,512),this.map=null,this.mapPass=null,this.matrix=new jn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new e_,this._frameExtents=new An(1,1),this._viewportCount=1,this._viewports=[new di(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;TC.setFromMatrixPosition(e.matrixWorld),n.position.copy(TC),AC.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(AC),n.updateMatrixWorld(),Jm.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Jm),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Jm)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class dge extends cge{constructor(){super(new _k(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class fge extends uge{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Hi.DEFAULT_UP),this.updateMatrix(),this.target=new Hi,this.shadow=new dge}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class hge extends Tk{constructor(e=10,n=10,i=4473924,r=8947848){i=new Cn(i),r=new Cn(r);const a=n/2,s=e/n,o=e/2,u=[],c=[];for(let v=0,g=0,y=-o;v<=n;v++,y+=s){u.push(-o,0,y,o,0,y),u.push(y,0,-o,y,0,o);const _=v===a?i:r;_.toArray(c,g),g+=3,_.toArray(c,g),g+=3,_.toArray(c,g),g+=3,_.toArray(c,g),g+=3}const h=new fa;h.setAttribute("position",new nr(u,3)),h.setAttribute("color",new nr(c,3));const p=new n_({vertexColors:!0,toneMapped:!1});super(h,p),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class pge extends Tk{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new fa;r.setAttribute("position",new nr(n,3)),r.setAttribute("color",new nr(i,3));const a=new n_({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(e,n,i){const r=new Cn,a=this.geometry.attributes.color.array;return r.set(e),r.toArray(a,0),r.toArray(a,3),r.set(n),r.toArray(a,6),r.toArray(a,9),r.set(i),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:jy}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=jy);class mge extends fa{constructor(e=50,n=10,i=!0,r=!0,a=!0,s=!0,o=!0){const u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,3,16,17,18,7,19,20,21,11,22,23,24,15,25,26,27,18,28,29,30,21,31,32,33,24,34,35,36,27,37,38,39,30,40,41,0,33,42,43,4,36,44,45,8,39,46,47,12,12,13,14,15,48,49,50,51,52,53,54,55,56,57,58,59,15,25,26,27,51,60,61,62,55,63,64,65,59,66,67,68,27,37,38,39,62,69,70,71,65,72,73,74,68,75,76,77,39,46,47,12,71,78,79,48,74,80,81,52,77,82,83,56,56,57,58,59,84,85,86,87,88,89,90,91,92,93,94,95,59,66,67,68,87,96,97,98,91,99,100,101,95,102,103,104,68,75,76,77,98,105,106,107,101,108,109,110,104,111,112,113,77,82,83,56,107,114,115,84,110,116,117,88,113,118,119,92,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,123,136,137,120,127,138,139,124,131,140,141,128,135,142,143,132,132,133,134,135,144,145,146,147,148,149,150,151,68,152,153,154,135,142,143,132,147,155,156,144,151,157,158,148,154,159,160,68,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,164,177,178,161,168,179,180,165,172,181,182,169,176,183,184,173,173,174,175,176,185,186,187,188,189,190,191,192,193,194,195,196,176,183,184,173,188,197,198,185,192,199,200,189,196,201,202,193,203,203,203,203,204,205,206,207,208,208,208,208,209,210,211,212,203,203,203,203,207,213,214,215,208,208,208,208,212,216,217,218,203,203,203,203,215,219,220,221,208,208,208,208,218,222,223,224,203,203,203,203,221,225,226,204,208,208,208,208,224,227,228,209,209,210,211,212,229,230,231,232,233,234,235,236,237,238,239,240,212,216,217,218,232,241,242,243,236,244,245,246,240,247,248,249,218,222,223,224,243,250,251,252,246,253,254,255,249,256,257,258,224,227,228,209,252,259,260,229,255,261,262,233,258,263,264,237,265,265,265,265,266,267,268,269,270,271,272,273,92,119,118,113,265,265,265,265,269,274,275,276,273,277,278,279,113,112,111,104,265,265,265,265,276,280,281,282,279,283,284,285,104,103,102,95,265,265,265,265,282,286,287,266,285,288,289,270,95,94,93,92],c=[1.4,0,2.4,1.4,-.784,2.4,.784,-1.4,2.4,0,-1.4,2.4,1.3375,0,2.53125,1.3375,-.749,2.53125,.749,-1.3375,2.53125,0,-1.3375,2.53125,1.4375,0,2.53125,1.4375,-.805,2.53125,.805,-1.4375,2.53125,0,-1.4375,2.53125,1.5,0,2.4,1.5,-.84,2.4,.84,-1.5,2.4,0,-1.5,2.4,-.784,-1.4,2.4,-1.4,-.784,2.4,-1.4,0,2.4,-.749,-1.3375,2.53125,-1.3375,-.749,2.53125,-1.3375,0,2.53125,-.805,-1.4375,2.53125,-1.4375,-.805,2.53125,-1.4375,0,2.53125,-.84,-1.5,2.4,-1.5,-.84,2.4,-1.5,0,2.4,-1.4,.784,2.4,-.784,1.4,2.4,0,1.4,2.4,-1.3375,.749,2.53125,-.749,1.3375,2.53125,0,1.3375,2.53125,-1.4375,.805,2.53125,-.805,1.4375,2.53125,0,1.4375,2.53125,-1.5,.84,2.4,-.84,1.5,2.4,0,1.5,2.4,.784,1.4,2.4,1.4,.784,2.4,.749,1.3375,2.53125,1.3375,.749,2.53125,.805,1.4375,2.53125,1.4375,.805,2.53125,.84,1.5,2.4,1.5,.84,2.4,1.75,0,1.875,1.75,-.98,1.875,.98,-1.75,1.875,0,-1.75,1.875,2,0,1.35,2,-1.12,1.35,1.12,-2,1.35,0,-2,1.35,2,0,.9,2,-1.12,.9,1.12,-2,.9,0,-2,.9,-.98,-1.75,1.875,-1.75,-.98,1.875,-1.75,0,1.875,-1.12,-2,1.35,-2,-1.12,1.35,-2,0,1.35,-1.12,-2,.9,-2,-1.12,.9,-2,0,.9,-1.75,.98,1.875,-.98,1.75,1.875,0,1.75,1.875,-2,1.12,1.35,-1.12,2,1.35,0,2,1.35,-2,1.12,.9,-1.12,2,.9,0,2,.9,.98,1.75,1.875,1.75,.98,1.875,1.12,2,1.35,2,1.12,1.35,1.12,2,.9,2,1.12,.9,2,0,.45,2,-1.12,.45,1.12,-2,.45,0,-2,.45,1.5,0,.225,1.5,-.84,.225,.84,-1.5,.225,0,-1.5,.225,1.5,0,.15,1.5,-.84,.15,.84,-1.5,.15,0,-1.5,.15,-1.12,-2,.45,-2,-1.12,.45,-2,0,.45,-.84,-1.5,.225,-1.5,-.84,.225,-1.5,0,.225,-.84,-1.5,.15,-1.5,-.84,.15,-1.5,0,.15,-2,1.12,.45,-1.12,2,.45,0,2,.45,-1.5,.84,.225,-.84,1.5,.225,0,1.5,.225,-1.5,.84,.15,-.84,1.5,.15,0,1.5,.15,1.12,2,.45,2,1.12,.45,.84,1.5,.225,1.5,.84,.225,.84,1.5,.15,1.5,.84,.15,-1.6,0,2.025,-1.6,-.3,2.025,-1.5,-.3,2.25,-1.5,0,2.25,-2.3,0,2.025,-2.3,-.3,2.025,-2.5,-.3,2.25,-2.5,0,2.25,-2.7,0,2.025,-2.7,-.3,2.025,-3,-.3,2.25,-3,0,2.25,-2.7,0,1.8,-2.7,-.3,1.8,-3,-.3,1.8,-3,0,1.8,-1.5,.3,2.25,-1.6,.3,2.025,-2.5,.3,2.25,-2.3,.3,2.025,-3,.3,2.25,-2.7,.3,2.025,-3,.3,1.8,-2.7,.3,1.8,-2.7,0,1.575,-2.7,-.3,1.575,-3,-.3,1.35,-3,0,1.35,-2.5,0,1.125,-2.5,-.3,1.125,-2.65,-.3,.9375,-2.65,0,.9375,-2,-.3,.9,-1.9,-.3,.6,-1.9,0,.6,-3,.3,1.35,-2.7,.3,1.575,-2.65,.3,.9375,-2.5,.3,1.125,-1.9,.3,.6,-2,.3,.9,1.7,0,1.425,1.7,-.66,1.425,1.7,-.66,.6,1.7,0,.6,2.6,0,1.425,2.6,-.66,1.425,3.1,-.66,.825,3.1,0,.825,2.3,0,2.1,2.3,-.25,2.1,2.4,-.25,2.025,2.4,0,2.025,2.7,0,2.4,2.7,-.25,2.4,3.3,-.25,2.4,3.3,0,2.4,1.7,.66,.6,1.7,.66,1.425,3.1,.66,.825,2.6,.66,1.425,2.4,.25,2.025,2.3,.25,2.1,3.3,.25,2.4,2.7,.25,2.4,2.8,0,2.475,2.8,-.25,2.475,3.525,-.25,2.49375,3.525,0,2.49375,2.9,0,2.475,2.9,-.15,2.475,3.45,-.15,2.5125,3.45,0,2.5125,2.8,0,2.4,2.8,-.15,2.4,3.2,-.15,2.4,3.2,0,2.4,3.525,.25,2.49375,2.8,.25,2.475,3.45,.15,2.5125,2.9,.15,2.475,3.2,.15,2.4,2.8,.15,2.4,0,0,3.15,.8,0,3.15,.8,-.45,3.15,.45,-.8,3.15,0,-.8,3.15,0,0,2.85,.2,0,2.7,.2,-.112,2.7,.112,-.2,2.7,0,-.2,2.7,-.45,-.8,3.15,-.8,-.45,3.15,-.8,0,3.15,-.112,-.2,2.7,-.2,-.112,2.7,-.2,0,2.7,-.8,.45,3.15,-.45,.8,3.15,0,.8,3.15,-.2,.112,2.7,-.112,.2,2.7,0,.2,2.7,.45,.8,3.15,.8,.45,3.15,.112,.2,2.7,.2,.112,2.7,.4,0,2.55,.4,-.224,2.55,.224,-.4,2.55,0,-.4,2.55,1.3,0,2.55,1.3,-.728,2.55,.728,-1.3,2.55,0,-1.3,2.55,1.3,0,2.4,1.3,-.728,2.4,.728,-1.3,2.4,0,-1.3,2.4,-.224,-.4,2.55,-.4,-.224,2.55,-.4,0,2.55,-.728,-1.3,2.55,-1.3,-.728,2.55,-1.3,0,2.55,-.728,-1.3,2.4,-1.3,-.728,2.4,-1.3,0,2.4,-.4,.224,2.55,-.224,.4,2.55,0,.4,2.55,-1.3,.728,2.55,-.728,1.3,2.55,0,1.3,2.55,-1.3,.728,2.4,-.728,1.3,2.4,0,1.3,2.4,.224,.4,2.55,.4,.224,2.55,.728,1.3,2.55,1.3,.728,2.55,.728,1.3,2.4,1.3,.728,2.4,0,0,0,1.425,0,0,1.425,.798,0,.798,1.425,0,0,1.425,0,1.5,0,.075,1.5,.84,.075,.84,1.5,.075,0,1.5,.075,-.798,1.425,0,-1.425,.798,0,-1.425,0,0,-.84,1.5,.075,-1.5,.84,.075,-1.5,0,.075,-1.425,-.798,0,-.798,-1.425,0,0,-1.425,0,-1.5,-.84,.075,-.84,-1.5,.075,0,-1.5,.075,.798,-1.425,0,1.425,-.798,0,.84,-1.5,.075,1.5,-.84,.075];super(),n=Math.max(2,Math.floor(n));const h=1.3,v=3.15*(o?1:h)/2,g=e/v;let y=i?(8*n-4)*n:0;y+=r?(16*n-4)*n:0,y+=a?40*n*n:0;const _=new Uint32Array(y*3);let w=i?4:0;w+=r?8:0,w+=a?20:0,w*=(n+1)*(n+1);const b=new Float32Array(w*3),M=new Float32Array(w*3),C=new Float32Array(w*2),x=new jn;x.set(-1,3,-3,1,3,-6,3,0,-3,3,0,0,1,0,0,0);const T=[],k=[],R=[],D=[],U=[],P=[],N=[],$=[],Q=[],Y=new je;let H,B,X,q,O=0,V=0;const ee=new je,ce=new jn,se=new jn,le=new di,ye=new di,Ce=new di,pe=new di,ue=new je,Me=new je,De=x.clone();De.transpose();const xe=(ae,ke,Be)=>!(b[ae*3]===b[ke*3]&&b[ae*3+1]===b[ke*3+1]&&b[ae*3+2]===b[ke*3+2]||b[ae*3]===b[Be*3]&&b[ae*3+1]===b[Be*3+1]&&b[ae*3+2]===b[Be*3+2]||b[ke*3]===b[Be*3]&&b[ke*3+1]===b[Be*3+1]&&b[ke*3+2]===b[Be*3+2]);for(let ae=0;ae<3;ae++)P[ae]=new jn;const G=a?0:20,He=i?32:28,Qe=n+1;let at=0,rt=0,it=0,qe=0,te=0;for(let ae=G;ae<He;ae++)if(r||ae<20||ae>=28){for(let ke=0;ke<3;ke++){for(let Be=0;Be<4;Be++)for(let Ve=0;Ve<4;Ve++)T[Ve*4+Be]=c[u[ae*16+Be*4+Ve]*3+ke],s&&ae>=20&&ae<28&&ke!==2&&(T[Ve*4+Be]*=1.077),!o&&ke===2&&(T[Ve*4+Be]*=h);ce.set(T[0],T[1],T[2],T[3],T[4],T[5],T[6],T[7],T[8],T[9],T[10],T[11],T[12],T[13],T[14],T[15]),se.multiplyMatrices(ce,x),P[ke].multiplyMatrices(De,se)}for(let ke=0;ke<=n;ke++){const Be=ke/n;for(let Ve=0;Ve<=n;Ve++){const Ae=Ve/n;for(q=4,B=X=1;q--;)k[q]=B,R[q]=X,B*=Be,X*=Ae,q===3?(D[q]=U[q]=0,O=V=1):(D[q]=O*(3-q),U[q]=V*(3-q),O*=Be,V*=Ae);le.fromArray(k),ye.fromArray(R),Ce.fromArray(D),pe.fromArray(U);for(let Pe=0;Pe<3;Pe++)H=le.clone(),H.applyMatrix4(P[Pe]),N[Pe]=H.dot(ye),H=Ce.clone(),H.applyMatrix4(P[Pe]),$[Pe]=H.dot(ye),H=le.clone(),H.applyMatrix4(P[Pe]),Q[Pe]=H.dot(pe);ue.fromArray($),Me.fromArray(Q),Y.crossVectors(Me,ue),Y.normalize(),N[0]===0&&N[1]===0?ee.set(0,N[2]>v?1:-1,0):ee.set(Y.x,Y.z,-Y.y),b[rt++]=g*N[0],b[rt++]=g*(N[2]-v),b[rt++]=-g*N[1],M[it++]=ee.x,M[it++]=ee.y,M[it++]=ee.z,C[qe++]=1-Ae,C[qe++]=1-Be}}for(let ke=0;ke<n;ke++)for(let Be=0;Be<n;Be++){const Ve=at*Qe*Qe+ke*Qe+Be,Ae=Ve+1,Pe=Ae+Qe,Xe=Ve+Qe;xe(Ve,Ae,Pe)&&(_[te++]=Ve,_[te++]=Ae,_[te++]=Pe),xe(Ve,Pe,Xe)&&(_[te++]=Ve,_[te++]=Pe,_[te++]=Xe)}at++}this.setIndex(new Tr(_,1)),this.setAttribute("position",new Tr(b,3)),this.setAttribute("normal",new Tr(M,3)),this.setAttribute("uv",new Tr(C,2)),this.computeBoundingSphere()}}const vge=t=>(yi("data-v-031874e5"),t=t(),_i(),t),gge={class:"appMain",id:"container"},yge=vge(()=>Z("div",{id:"threeContainer"},null,-1)),_ge=100,Nf=6378137,bge=re({__name:"threejs",setup(t){const e=[129.3653799,42.9093989],n=jt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null,divWidth:0,divHeight:0});let i,r,a,s,o,u;wt(()=>{});const c=()=>{const b=document.getElementById("container");n.divWidth=b.clientWidth,n.divHeight=b.clientHeight},h=b=>{c(),p(b)},p=b=>{n.viewer=b.viewer;const M=b.viewer;M.scene.globe.depthTestAgainstTerrain=!1;const C=Nf*2,x=new Cesium.Cartesian3(C,0,0),T=new Cesium.Cartesian3(0,C,0),k=new Cesium.Cartesian3(0,0,C);M.entities.add({polyline:{positions:[new Cesium.Cartesian3(1,0,0),x],width:10,arcType:Cesium.ArcType.NONE,material:new Cesium.PolylineArrowMaterialProperty(Cesium.Color.RED)}}),M.entities.add({polyline:{positions:[new Cesium.Cartesian3(1,0,0),T],width:10,arcType:Cesium.ArcType.NONE,material:new Cesium.PolylineArrowMaterialProperty(Cesium.Color.YELLOW)}}),M.entities.add({polyline:{positions:[new Cesium.Cartesian3(1,0,0),k],width:10,arcType:Cesium.ArcType.NONE,material:new Cesium.PolylineArrowMaterialProperty(Cesium.Color.BLUE)}}),v(M),g()},v=b=>{let M=document.getElementById("threeContainer");r=new sge,i=new ta(Cesium.Math.toDegrees(b.camera.frustum.fovy),n.divWidth/n.divHeight,b.camera.frustum.near,b.camera.frustum.far),a=new Mk({antialias:!0,alpha:!0}),a.setPixelRatio(window.devicePixelRatio),a.setSize(n.divWidth,n.divHeight),M.appendChild(a.domElement),window.addEventListener("resize",w,!1),o=new pge(Nf*2.5),o.visible=!0,r.add(o);const C=Nf*3,x=10;u=new hge(C,x),u.visible=!1,r.add(u);const T=new i_(Nf,32,32),k=new Jy({color:16777215,wireframe:!0});s=new ka(T,k),s.visible=!0,r.add(s);const R=15,D=new mge(_ge,R,!0,!0,!0,!1,!1),U=new jn().makeRotationX(Cesium.Math.toRadians(90));D.applyMatrix4(U);const P=Cesium.Cartesian3.fromDegrees(e[0],e[1]),N=Cesium.Transforms.headingPitchRollToFixedFrame(P,new Cesium.HeadingPitchRoll(0,0,0)),$=new jn;$.set(N[0],N[4],N[8],N[12],N[1],N[5],N[9],N[13],N[2],N[6],N[10],N[14],N[3],N[7],N[11],N[15]),D.applyMatrix4($);const Q=new ka(D,new lge({side:Wa}));r.add(Q);const Y=new fge(16777215,1);r.add(Y)},g=()=>{requestAnimationFrame(g),_(i,n.viewer),y()};function y(){a.render(r,i)}function _(b,M){b.matrixAutoUpdate=!1;let C=M.camera.viewMatrix,x=M.camera.inverseViewMatrix;b.matrixWorld.set(x[0],x[4],x[8],x[12],x[1],x[5],x[9],x[13],x[2],x[6],x[10],x[14],x[3],x[7],x[11],x[15]),b.matrixWorldInverse.set(C[0],C[4],C[8],C[12],C[1],C[5],C[9],C[13],C[2],C[6],C[10],C[14],C[3],C[7],C[11],C[15]),b.updateProjectionMatrix()}function w(){i.aspect=n.divWidth/n.divHeight,i.updateProjectionMatrix(),a.setSize(n.divWidth,n.divHeight)}return(b,M)=>(I(),K("div",gge,[J(d(Lr),{mapConfig:{id:"dls-map-layer-terrain",imageryProvider:n.imageryProvider,sceneModeNum:3},ref:"dlsMapRef","viewer-width":"100%","viewer-height":"500px",onReady:h},null,8,["mapConfig"]),yge]))}}),wge=zt(bge,[["__scopeId","data-v-031874e5"]]),Sge=[["KkLayerMap",Tle],["KkAnalysisPlot",Cue],["KkLayerTerrain",Tue],["KkEntityGraphics",Pue],["KkAnalysisMeasure",Oue],["KkAnalysisTrajectory",Vue],["KkAnalysisSpacePoint",Gue],["KkAnalysisBufferArea",Zue],["KkCoverageHeatMap",tce],["KkEnvironmentRain",ace],["KkEnvironmentSnow",uce],["KkCoverageLoadEcharts",hce],["KkCoveragePanel",gce],["KkLayerPhotography",wce],["KkCoverageLayers",xce],["KkToolsTools",Hce],["KkEntityPositionMove",Zce],["KkIntegrationThreejs",wge]],Ige={...D3,enhanceApp({app:t}){t.use(gse),Ase.forEach(([e,n])=>{t.component(e,n)}),Sge.forEach(([e,n])=>{t.component(e,n)})}};export{Ige as R,oN as c,Sn as u};

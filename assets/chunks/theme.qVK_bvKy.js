const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/VPLocalSearchBox.BY94dllw.js","assets/chunks/framework.Cocs3215.js"])))=>i.map(i=>d[i]);
import{d as ie,o as P,c as K,r as oe,n as z,a as pt,t as Ne,b as we,w as te,e as he,T as di,_ as $t,u as IC,i as LC,f as LR,g as S0,h as L,j as Z,k as f,p as bi,l as wi,m as vl,q as Pv,s as W,v as Le,x as gi,y as St,z as Oa,A as E0,B as Mo,C as NR,F as ct,D as Vt,E as At,G as An,H as sp,I as Q,J as zt,K as NC,L as ap,M as Gt,N as dt,O as OR,P as bt,Q as Rv,R as _t,S as OC,U as op,V as nc,W as DR,X as FR,Y as DC,Z as Jt,$ as FC,a0 as vn,a1 as Tn,a2 as Mt,a3 as Si,a4 as nr,a5 as BC,a6 as C0,a7 as Yt,a8 as Pu,a9 as Ut,aa as on,ab as BR,ac as Ot,ad as Sn,ae as Wt,af as Iv,ag as UC,ah as qi,ai as UR,aj as Yn,ak as cn,al as ri,am as x0,an as M0,ao as yn,ap as Xt,aq as Oi,ar as VC,as as Pl,at as zC,au as VR,av as $C,aw as zR,ax as $R,ay as hs,az as Ru,aA as Is,aB as gl,aC as wh,aD as HC,aE as Ct,aF as HR,aG as Lv,aH as T0,aI as ol,aJ as GR,aK as um,aL as lp,aM as WR,aN as ho,aO as db,aP as KR,aQ as qR,aR as YR}from"./framework.Cocs3215.js";const jR=ie({__name:"VPBadge",props:{text:{},type:{default:"tip"}},setup(t){return(e,n)=>(P(),K("span",{class:z(["VPBadge",e.type])},[oe(e.$slots,"default",{},()=>[pt(Ne(e.text),1)])],2))}}),XR={key:0,class:"VPBackdrop"},ZR=ie({__name:"VPBackdrop",props:{show:{type:Boolean}},setup(t){return(e,n)=>(P(),we(di,{name:"fade"},{default:te(()=>[e.show?(P(),K("div",XR)):he("",!0)]),_:1}))}}),JR=$t(ZR,[["__scopeId","data-v-41d6fff7"]]),Cn=IC;function QR(t,e){let n,i=!1;return()=>{n&&clearTimeout(n),i?n=setTimeout(t,e):(t(),(i=!0)&&setTimeout(()=>i=!1,e))}}function Nv(t){return/^\//.test(t)?t:`/${t}`}function A0(t){const{pathname:e,search:n,hash:i,protocol:r}=new URL(t,"http://a.com");if(LC(t)||t.startsWith("#")||!r.startsWith("http")||!LR(e))return t;const{site:s}=Cn(),a=e.endsWith("/")||e.endsWith(".html")?t:t.replace(/(?:(^\.+)\/)?.*$/,`$1${e.replace(/(\.md)?$/,s.value.cleanUrls?"":".html")}${n}${i}`);return S0(a)}function Td({correspondingLink:t=!1}={}){const{site:e,localeIndex:n,page:i,theme:r,hash:s}=Cn(),a=L(()=>{var l,c;return{label:(l=e.value.locales[n.value])==null?void 0:l.label,link:((c=e.value.locales[n.value])==null?void 0:c.link)||(n.value==="root"?"/":`/${n.value}/`)}});return{localeLinks:L(()=>Object.entries(e.value.locales).flatMap(([l,c])=>a.value.label===c.label?[]:{text:c.label,link:eI(c.link||(l==="root"?"/":`/${l}/`),r.value.i18nRouting!==!1&&t,i.value.relativePath.slice(a.value.link.length-1),!e.value.cleanUrls)+s.value})),currentLang:a}}function eI(t,e,n,i){return e?t.replace(/\/$/,"")+Nv(n.replace(/(^|\/)index\.md$/,"$1").replace(/\.md$/,i?".html":"")):t}const tI=t=>(bi("data-v-bcafd8ec"),t=t(),wi(),t),nI={class:"NotFound"},iI={class:"code"},rI={class:"title"},sI=tI(()=>Z("div",{class:"divider"},null,-1)),aI={class:"quote"},oI={class:"action"},lI=["href","aria-label"],uI=ie({__name:"NotFound",setup(t){const{theme:e}=Cn(),{currentLang:n}=Td();return(i,r)=>{var s,a,o,l,c;return P(),K("div",nI,[Z("p",iI,Ne(((s=f(e).notFound)==null?void 0:s.code)??"404"),1),Z("h1",rI,Ne(((a=f(e).notFound)==null?void 0:a.title)??"PAGE NOT FOUND"),1),sI,Z("blockquote",aI,Ne(((o=f(e).notFound)==null?void 0:o.quote)??"But if you don't change your direction, and if you keep looking, you may end up where you are heading."),1),Z("div",oI,[Z("a",{class:"link",href:f(S0)(f(n).link),"aria-label":((l=f(e).notFound)==null?void 0:l.linkLabel)??"go to home"},Ne(((c=f(e).notFound)==null?void 0:c.linkText)??"Take me home"),9,lI)])])}}}),cI=$t(uI,[["__scopeId","data-v-bcafd8ec"]]);function GC(t,e){if(Array.isArray(t))return Jf(t);if(t==null)return[];e=Nv(e);const n=Object.keys(t).sort((r,s)=>s.split("/").length-r.split("/").length).find(r=>e.startsWith(Nv(r))),i=n?t[n]:[];return Array.isArray(i)?Jf(i):Jf(i.items,i.base)}function dI(t){const e=[];let n=0;for(const i in t){const r=t[i];if(r.items){n=e.push(r);continue}e[n]||e.push({items:[]}),e[n].items.push(r)}return e}function fI(t){const e=[];function n(i){for(const r of i)r.text&&r.link&&e.push({text:r.text,link:r.link,docFooterText:r.docFooterText}),r.items&&n(r.items)}return n(t),e}function Ov(t,e){return Array.isArray(e)?e.some(n=>Ov(t,n)):vl(t,e.link)?!0:e.items?Ov(t,e.items):!1}function Jf(t,e){return[...t].map(n=>{const i={...n},r=i.base||e;return r&&i.link&&(i.link=r+i.link),i.items&&(i.items=Jf(i.items,r)),i})}function Da(){const{frontmatter:t,page:e,theme:n}=Cn(),i=Pv("(min-width: 960px)"),r=W(!1),s=L(()=>{const _=n.value.sidebar,w=e.value.relativePath;return _?GC(_,w):[]}),a=W(s.value);Le(s,(_,w)=>{JSON.stringify(_)!==JSON.stringify(w)&&(a.value=s.value)});const o=L(()=>t.value.sidebar!==!1&&a.value.length>0&&t.value.layout!=="home"),l=L(()=>c?t.value.aside==null?n.value.aside==="left":t.value.aside==="left":!1),c=L(()=>t.value.layout==="home"?!1:t.value.aside!=null?!!t.value.aside:n.value.aside!==!1),d=L(()=>o.value&&i.value),p=L(()=>o.value?dI(a.value):[]);function v(){r.value=!0}function g(){r.value=!1}function y(){r.value?g():v()}return{isOpen:r,sidebar:a,sidebarGroups:p,hasSidebar:o,hasAside:c,leftAside:l,isSidebarEnabled:d,open:v,close:g,toggle:y}}function hI(t,e){let n;gi(()=>{n=t.value?document.activeElement:void 0}),St(()=>{window.addEventListener("keyup",i)}),Oa(()=>{window.removeEventListener("keyup",i)});function i(r){r.key==="Escape"&&t.value&&(e(),n==null||n.focus())}}function pI(t){const{page:e,hash:n}=Cn(),i=W(!1),r=L(()=>t.value.collapsed!=null),s=L(()=>!!t.value.link),a=W(!1),o=()=>{a.value=vl(e.value.relativePath,t.value.link)};Le([e,t,n],o),St(o);const l=L(()=>a.value?!0:t.value.items?Ov(e.value.relativePath,t.value.items):!1),c=L(()=>!!(t.value.items&&t.value.items.length));gi(()=>{i.value=!!(r.value&&t.value.collapsed)}),E0(()=>{(a.value||l.value)&&(i.value=!1)});function d(){r.value&&(i.value=!i.value)}return{collapsed:i,collapsible:r,isLink:s,isActiveLink:a,hasActiveLink:l,hasChildren:c,toggle:d}}function mI(){const{hasSidebar:t}=Da(),e=Pv("(min-width: 960px)"),n=Pv("(min-width: 1280px)");return{isAsideEnabled:L(()=>!n.value&&!e.value?!1:t.value?n.value:e.value)}}const Dv=[];function WC(t){return typeof t.outline=="object"&&!Array.isArray(t.outline)&&t.outline.label||t.outlineTitle||"On this page"}function k0(t){const e=[...document.querySelectorAll(".VPDoc :where(h1,h2,h3,h4,h5,h6)")].filter(n=>n.id&&n.hasChildNodes()).map(n=>{const i=Number(n.tagName[1]);return{element:n,title:vI(n),link:"#"+n.id,level:i}});return gI(e,t)}function vI(t){let e="";for(const n of t.childNodes)if(n.nodeType===1){if(n.classList.contains("VPBadge")||n.classList.contains("header-anchor")||n.classList.contains("ignore-header"))continue;e+=n.textContent}else n.nodeType===3&&(e+=n.textContent);return e.trim()}function gI(t,e){if(e===!1)return[];const n=(typeof e=="object"&&!Array.isArray(e)?e.level:e)||2,[i,r]=typeof n=="number"?[n,n]:n==="deep"?[2,6]:n;return bI(t,i,r)}function yI(t,e){const{isAsideEnabled:n}=mI(),i=QR(s,100);let r=null;St(()=>{requestAnimationFrame(s),window.addEventListener("scroll",i)}),Mo(()=>{a(location.hash)}),Oa(()=>{window.removeEventListener("scroll",i)});function s(){if(!n.value)return;const o=window.scrollY,l=window.innerHeight,c=document.body.offsetHeight,d=Math.abs(o+l-c)<1,p=Dv.map(({element:g,link:y})=>({link:y,top:_I(g)})).filter(({top:g})=>!Number.isNaN(g)).sort((g,y)=>g.top-y.top);if(!p.length){a(null);return}if(o<1){a(null);return}if(d){a(p[p.length-1].link);return}let v=null;for(const{link:g,top:y}of p){if(y>o+NR()+4)break;v=g}a(v)}function a(o){r&&r.classList.remove("active"),o==null?r=null:r=t.value.querySelector(`a[href="${decodeURIComponent(o)}"]`);const l=r;l?(l.classList.add("active"),e.value.style.top=l.offsetTop+39+"px",e.value.style.opacity="1"):(e.value.style.top="33px",e.value.style.opacity="0")}}function _I(t){let e=0;for(;t!==document.body;){if(t===null)return NaN;e+=t.offsetTop,t=t.offsetParent}return e}function bI(t,e,n){Dv.length=0;const i=[],r=[];return t.forEach(s=>{const a={...s,children:[]};let o=r[r.length-1];for(;o&&o.level>=a.level;)r.pop(),o=r[r.length-1];if(a.element.classList.contains("ignore-header")||o&&"shouldIgnore"in o){r.push({level:a.level,shouldIgnore:!0});return}a.level>n||a.level<e||(Dv.push({element:a.element,link:a.link}),o?o.children.push(a):i.push(a),r.push(a))}),i}const wI=["href","title"],SI=ie({__name:"VPDocOutlineItem",props:{headers:{},root:{type:Boolean}},setup(t){function e({target:n}){const i=n.href.split("#")[1],r=document.getElementById(decodeURIComponent(i));r==null||r.focus({preventScroll:!0})}return(n,i)=>{const r=At("VPDocOutlineItem",!0);return P(),K("ul",{class:z(["VPDocOutlineItem",n.root?"root":"nested"])},[(P(!0),K(ct,null,Vt(n.headers,({children:s,link:a,title:o})=>(P(),K("li",null,[Z("a",{class:"outline-link",href:a,onClick:e,title:o},Ne(o),9,wI),s!=null&&s.length?(P(),we(r,{key:0,headers:s},null,8,["headers"])):he("",!0)]))),256))],2)}}}),KC=$t(SI,[["__scopeId","data-v-ff171b3f"]]),EI={class:"content"},CI={"aria-level":"2",class:"outline-title",id:"doc-outline-aria-label",role:"heading"},xI=ie({__name:"VPDocAsideOutline",setup(t){const{frontmatter:e,theme:n}=Cn(),i=An([]);sp(()=>{i.value=k0(e.value.outline??n.value.outline)});const r=W(),s=W();return yI(r,s),(a,o)=>(P(),K("nav",{"aria-labelledby":"doc-outline-aria-label",class:z(["VPDocAsideOutline",{"has-outline":i.value.length>0}]),ref_key:"container",ref:r},[Z("div",EI,[Z("div",{class:"outline-marker",ref_key:"marker",ref:s},null,512),Z("div",CI,Ne(f(WC)(f(n))),1),Q(KC,{headers:i.value,root:!0},null,8,["headers"])])],2))}}),MI=$t(xI,[["__scopeId","data-v-f0084521"]]),TI={class:"VPDocAsideCarbonAds"},AI=ie({__name:"VPDocAsideCarbonAds",props:{carbonAds:{}},setup(t){const e=()=>null;return(n,i)=>(P(),K("div",TI,[Q(f(e),{"carbon-ads":n.carbonAds},null,8,["carbon-ads"])]))}}),kI=t=>(bi("data-v-b8bcfc42"),t=t(),wi(),t),PI={class:"VPDocAside"},RI=kI(()=>Z("div",{class:"spacer"},null,-1)),II=ie({__name:"VPDocAside",setup(t){const{theme:e}=Cn();return(n,i)=>(P(),K("div",PI,[oe(n.$slots,"aside-top",{},void 0,!0),oe(n.$slots,"aside-outline-before",{},void 0,!0),Q(MI),oe(n.$slots,"aside-outline-after",{},void 0,!0),RI,oe(n.$slots,"aside-ads-before",{},void 0,!0),f(e).carbonAds?(P(),we(AI,{key:0,"carbon-ads":f(e).carbonAds},null,8,["carbon-ads"])):he("",!0),oe(n.$slots,"aside-ads-after",{},void 0,!0),oe(n.$slots,"aside-bottom",{},void 0,!0)]))}}),LI=$t(II,[["__scopeId","data-v-b8bcfc42"]]);function NI(){const{theme:t,page:e}=Cn();return L(()=>{const{text:n="Edit this page",pattern:i=""}=t.value.editLink||{};let r;return typeof i=="function"?r=i(e.value):r=i.replace(/:path/g,e.value.filePath),{url:r,text:n}})}function OI(){const{page:t,theme:e,frontmatter:n}=Cn();return L(()=>{var c,d,p,v,g,y,_,w;const i=GC(e.value.sidebar,t.value.relativePath),r=fI(i),s=DI(r,b=>b.link.replace(/[?#].*$/,"")),a=s.findIndex(b=>vl(t.value.relativePath,b.link)),o=((c=e.value.docFooter)==null?void 0:c.prev)===!1&&!n.value.prev||n.value.prev===!1,l=((d=e.value.docFooter)==null?void 0:d.next)===!1&&!n.value.next||n.value.next===!1;return{prev:o?void 0:{text:(typeof n.value.prev=="string"?n.value.prev:typeof n.value.prev=="object"?n.value.prev.text:void 0)??((p=s[a-1])==null?void 0:p.docFooterText)??((v=s[a-1])==null?void 0:v.text),link:(typeof n.value.prev=="object"?n.value.prev.link:void 0)??((g=s[a-1])==null?void 0:g.link)},next:l?void 0:{text:(typeof n.value.next=="string"?n.value.next:typeof n.value.next=="object"?n.value.next.text:void 0)??((y=s[a+1])==null?void 0:y.docFooterText)??((_=s[a+1])==null?void 0:_.text),link:(typeof n.value.next=="object"?n.value.next.link:void 0)??((w=s[a+1])==null?void 0:w.link)}}})}function DI(t,e){const n=new Set;return t.filter(i=>{const r=e(i);return n.has(r)?!1:n.add(r)})}const na=ie({__name:"VPLink",props:{tag:{},href:{},noIcon:{type:Boolean},target:{},rel:{}},setup(t){const e=t,n=L(()=>e.tag??(e.href?"a":"span")),i=L(()=>e.href&&NC.test(e.href)||e.target==="_blank");return(r,s)=>(P(),we(zt(n.value),{class:z(["VPLink",{link:r.href,"vp-external-link-icon":i.value,"no-icon":r.noIcon}]),href:r.href?f(A0)(r.href):void 0,target:r.target??(i.value?"_blank":void 0),rel:r.rel??(i.value?"noreferrer":void 0)},{default:te(()=>[oe(r.$slots,"default")]),_:3},8,["class","href","target","rel"]))}}),FI={class:"VPLastUpdated"},BI=["datetime"],UI=ie({__name:"VPDocFooterLastUpdated",setup(t){const{theme:e,page:n,lang:i}=Cn(),r=L(()=>new Date(n.value.lastUpdated)),s=L(()=>r.value.toISOString()),a=W("");return St(()=>{gi(()=>{var o,l,c;a.value=new Intl.DateTimeFormat((l=(o=e.value.lastUpdated)==null?void 0:o.formatOptions)!=null&&l.forceLocale?i.value:void 0,((c=e.value.lastUpdated)==null?void 0:c.formatOptions)??{dateStyle:"short",timeStyle:"short"}).format(r.value)})}),(o,l)=>{var c;return P(),K("p",FI,[pt(Ne(((c=f(e).lastUpdated)==null?void 0:c.text)||f(e).lastUpdatedText||"Last updated")+": ",1),Z("time",{datetime:s.value},Ne(a.value),9,BI)])}}}),VI=$t(UI,[["__scopeId","data-v-0621442a"]]),qC=t=>(bi("data-v-dbbe3b50"),t=t(),wi(),t),zI={key:0,class:"VPDocFooter"},$I={key:0,class:"edit-info"},HI={key:0,class:"edit-link"},GI=qC(()=>Z("span",{class:"vpi-square-pen edit-link-icon"},null,-1)),WI={key:1,class:"last-updated"},KI={key:1,class:"prev-next","aria-labelledby":"doc-footer-aria-label"},qI=qC(()=>Z("span",{class:"visually-hidden",id:"doc-footer-aria-label"},"Pager",-1)),YI={class:"pager"},jI=["innerHTML"],XI=["innerHTML"],ZI={class:"pager"},JI=["innerHTML"],QI=["innerHTML"],eL=ie({__name:"VPDocFooter",setup(t){const{theme:e,page:n,frontmatter:i}=Cn(),r=NI(),s=OI(),a=L(()=>e.value.editLink&&i.value.editLink!==!1),o=L(()=>n.value.lastUpdated),l=L(()=>a.value||o.value||s.value.prev||s.value.next);return(c,d)=>{var p,v,g,y;return l.value?(P(),K("footer",zI,[oe(c.$slots,"doc-footer-before",{},void 0,!0),a.value||o.value?(P(),K("div",$I,[a.value?(P(),K("div",HI,[Q(na,{class:"edit-link-button",href:f(r).url,"no-icon":!0},{default:te(()=>[GI,pt(" "+Ne(f(r).text),1)]),_:1},8,["href"])])):he("",!0),o.value?(P(),K("div",WI,[Q(VI)])):he("",!0)])):he("",!0),(p=f(s).prev)!=null&&p.link||(v=f(s).next)!=null&&v.link?(P(),K("nav",KI,[qI,Z("div",YI,[(g=f(s).prev)!=null&&g.link?(P(),we(na,{key:0,class:"pager-link prev",href:f(s).prev.link},{default:te(()=>{var _;return[Z("span",{class:"desc",innerHTML:((_=f(e).docFooter)==null?void 0:_.prev)||"Previous page"},null,8,jI),Z("span",{class:"title",innerHTML:f(s).prev.text},null,8,XI)]}),_:1},8,["href"])):he("",!0)]),Z("div",ZI,[(y=f(s).next)!=null&&y.link?(P(),we(na,{key:0,class:"pager-link next",href:f(s).next.link},{default:te(()=>{var _;return[Z("span",{class:"desc",innerHTML:((_=f(e).docFooter)==null?void 0:_.next)||"Next page"},null,8,JI),Z("span",{class:"title",innerHTML:f(s).next.text},null,8,QI)]}),_:1},8,["href"])):he("",!0)])])):he("",!0)])):he("",!0)}}}),tL=$t(eL,[["__scopeId","data-v-dbbe3b50"]]),nL=t=>(bi("data-v-68f5ff40"),t=t(),wi(),t),iL={class:"container"},rL=nL(()=>Z("div",{class:"aside-curtain"},null,-1)),sL={class:"aside-container"},aL={class:"aside-content"},oL={class:"content"},lL={class:"content-container"},uL={class:"main"},cL=ie({__name:"VPDoc",setup(t){const{theme:e}=Cn(),n=ap(),{hasSidebar:i,hasAside:r,leftAside:s}=Da(),a=L(()=>n.path.replace(/[./]+/g,"_").replace(/_html$/,""));return(o,l)=>{const c=At("Content");return P(),K("div",{class:z(["VPDoc",{"has-sidebar":f(i),"has-aside":f(r)}])},[oe(o.$slots,"doc-top",{},void 0,!0),Z("div",iL,[f(r)?(P(),K("div",{key:0,class:z(["aside",{"left-aside":f(s)}])},[rL,Z("div",sL,[Z("div",aL,[Q(LI,null,{"aside-top":te(()=>[oe(o.$slots,"aside-top",{},void 0,!0)]),"aside-bottom":te(()=>[oe(o.$slots,"aside-bottom",{},void 0,!0)]),"aside-outline-before":te(()=>[oe(o.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":te(()=>[oe(o.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":te(()=>[oe(o.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":te(()=>[oe(o.$slots,"aside-ads-after",{},void 0,!0)]),_:3})])])],2)):he("",!0),Z("div",oL,[Z("div",lL,[oe(o.$slots,"doc-before",{},void 0,!0),Z("main",uL,[Q(c,{class:z(["vp-doc",[a.value,f(e).externalLinkIcon&&"external-link-icon-enabled"]])},null,8,["class"])]),Q(tL,null,{"doc-footer-before":te(()=>[oe(o.$slots,"doc-footer-before",{},void 0,!0)]),_:3}),oe(o.$slots,"doc-after",{},void 0,!0)])])]),oe(o.$slots,"doc-bottom",{},void 0,!0)],2)}}}),dL=$t(cL,[["__scopeId","data-v-68f5ff40"]]),fL=ie({__name:"VPButton",props:{tag:{},size:{default:"medium"},theme:{default:"brand"},text:{},href:{},target:{},rel:{}},setup(t){const e=t,n=L(()=>e.href&&NC.test(e.href)),i=L(()=>e.tag||(e.href?"a":"button"));return(r,s)=>(P(),we(zt(i.value),{class:z(["VPButton",[r.size,r.theme]]),href:r.href?f(A0)(r.href):void 0,target:e.target??(n.value?"_blank":void 0),rel:e.rel??(n.value?"noreferrer":void 0)},{default:te(()=>[pt(Ne(r.text),1)]),_:1},8,["class","href","target","rel"]))}}),hL=$t(fL,[["__scopeId","data-v-5a7f4a3b"]]),pL=["src","alt"],mL=ie({inheritAttrs:!1,__name:"VPImage",props:{image:{},alt:{}},setup(t){return(e,n)=>{const i=At("VPImage",!0);return e.image?(P(),K(ct,{key:0},[typeof e.image=="string"||"src"in e.image?(P(),K("img",Gt({key:0,class:"VPImage"},typeof e.image=="string"?e.$attrs:{...e.image,...e.$attrs},{src:f(S0)(typeof e.image=="string"?e.image:e.image.src),alt:e.alt??(typeof e.image=="string"?"":e.image.alt||"")}),null,16,pL)):(P(),K(ct,{key:1},[Q(i,Gt({class:"dark",image:e.image.dark,alt:e.image.alt},e.$attrs),null,16,["image","alt"]),Q(i,Gt({class:"light",image:e.image.light,alt:e.image.alt},e.$attrs),null,16,["image","alt"])],64))],64)):he("",!0)}}}),Sh=$t(mL,[["__scopeId","data-v-161f3c50"]]),vL=t=>(bi("data-v-a958191c"),t=t(),wi(),t),gL={class:"container"},yL={class:"main"},_L={key:0,class:"name"},bL=["innerHTML"],wL=["innerHTML"],SL=["innerHTML"],EL={key:0,class:"actions"},CL={key:0,class:"image"},xL={class:"image-container"},ML=vL(()=>Z("div",{class:"image-bg"},null,-1)),TL=ie({__name:"VPHero",props:{name:{},text:{},tagline:{},image:{},actions:{}},setup(t){const e=dt("hero-image-slot-exists");return(n,i)=>(P(),K("div",{class:z(["VPHero",{"has-image":n.image||f(e)}])},[Z("div",gL,[Z("div",yL,[oe(n.$slots,"home-hero-info-before",{},void 0,!0),oe(n.$slots,"home-hero-info",{},()=>[n.name?(P(),K("h1",_L,[Z("span",{innerHTML:n.name,class:"clip"},null,8,bL)])):he("",!0),n.text?(P(),K("p",{key:1,innerHTML:n.text,class:"text"},null,8,wL)):he("",!0),n.tagline?(P(),K("p",{key:2,innerHTML:n.tagline,class:"tagline"},null,8,SL)):he("",!0)],!0),oe(n.$slots,"home-hero-info-after",{},void 0,!0),n.actions?(P(),K("div",EL,[(P(!0),K(ct,null,Vt(n.actions,r=>(P(),K("div",{key:r.link,class:"action"},[Q(hL,{tag:"a",size:"medium",theme:r.theme,text:r.text,href:r.link,target:r.target,rel:r.rel},null,8,["theme","text","href","target","rel"])]))),128))])):he("",!0),oe(n.$slots,"home-hero-actions-after",{},void 0,!0)]),n.image||f(e)?(P(),K("div",CL,[Z("div",xL,[ML,oe(n.$slots,"home-hero-image",{},()=>[n.image?(P(),we(Sh,{key:0,class:"image-src",image:n.image},null,8,["image"])):he("",!0)],!0)])])):he("",!0)])],2))}}),AL=$t(TL,[["__scopeId","data-v-a958191c"]]),kL=ie({__name:"VPHomeHero",setup(t){const{frontmatter:e}=Cn();return(n,i)=>f(e).hero?(P(),we(AL,{key:0,class:"VPHomeHero",name:f(e).hero.name,text:f(e).hero.text,tagline:f(e).hero.tagline,image:f(e).hero.image,actions:f(e).hero.actions},{"home-hero-info-before":te(()=>[oe(n.$slots,"home-hero-info-before")]),"home-hero-info":te(()=>[oe(n.$slots,"home-hero-info")]),"home-hero-info-after":te(()=>[oe(n.$slots,"home-hero-info-after")]),"home-hero-actions-after":te(()=>[oe(n.$slots,"home-hero-actions-after")]),"home-hero-image":te(()=>[oe(n.$slots,"home-hero-image")]),_:3},8,["name","text","tagline","image","actions"])):he("",!0)}}),PL=t=>(bi("data-v-592584e2"),t=t(),wi(),t),RL={class:"box"},IL={key:0,class:"icon"},LL=["innerHTML"],NL=["innerHTML"],OL=["innerHTML"],DL={key:4,class:"link-text"},FL={class:"link-text-value"},BL=PL(()=>Z("span",{class:"vpi-arrow-right link-text-icon"},null,-1)),UL=ie({__name:"VPFeature",props:{icon:{},title:{},details:{},link:{},linkText:{},rel:{},target:{}},setup(t){return(e,n)=>(P(),we(na,{class:"VPFeature",href:e.link,rel:e.rel,target:e.target,"no-icon":!0,tag:e.link?"a":"div"},{default:te(()=>[Z("article",RL,[typeof e.icon=="object"&&e.icon.wrap?(P(),K("div",IL,[Q(Sh,{image:e.icon,alt:e.icon.alt,height:e.icon.height||48,width:e.icon.width||48},null,8,["image","alt","height","width"])])):typeof e.icon=="object"?(P(),we(Sh,{key:1,image:e.icon,alt:e.icon.alt,height:e.icon.height||48,width:e.icon.width||48},null,8,["image","alt","height","width"])):e.icon?(P(),K("div",{key:2,class:"icon",innerHTML:e.icon},null,8,LL)):he("",!0),Z("h2",{class:"title",innerHTML:e.title},null,8,NL),e.details?(P(),K("p",{key:3,class:"details",innerHTML:e.details},null,8,OL)):he("",!0),e.linkText?(P(),K("div",DL,[Z("p",FL,[pt(Ne(e.linkText)+" ",1),BL])])):he("",!0)])]),_:1},8,["href","rel","target","tag"]))}}),VL=$t(UL,[["__scopeId","data-v-592584e2"]]),zL={key:0,class:"VPFeatures"},$L={class:"container"},HL={class:"items"},GL=ie({__name:"VPFeatures",props:{features:{}},setup(t){const e=t,n=L(()=>{const i=e.features.length;if(i){if(i===2)return"grid-2";if(i===3)return"grid-3";if(i%3===0)return"grid-6";if(i>3)return"grid-4"}else return});return(i,r)=>i.features?(P(),K("div",zL,[Z("div",$L,[Z("div",HL,[(P(!0),K(ct,null,Vt(i.features,s=>(P(),K("div",{key:s.title,class:z(["item",[n.value]])},[Q(VL,{icon:s.icon,title:s.title,details:s.details,link:s.link,"link-text":s.linkText,rel:s.rel,target:s.target},null,8,["icon","title","details","link","link-text","rel","target"])],2))),128))])])])):he("",!0)}}),WL=$t(GL,[["__scopeId","data-v-b7d3055b"]]),KL=ie({__name:"VPHomeFeatures",setup(t){const{frontmatter:e}=Cn();return(n,i)=>f(e).features?(P(),we(WL,{key:0,class:"VPHomeFeatures",features:f(e).features},null,8,["features"])):he("",!0)}}),qL=ie({__name:"VPHomeContent",setup(t){const{width:e}=OR({initialWidth:0,includeScrollbar:!1});return(n,i)=>(P(),K("div",{class:"vp-doc container",style:bt(f(e)?{"--vp-offset":`calc(50% - ${f(e)/2}px)`}:{})},[oe(n.$slots,"default",{},void 0,!0)],4))}}),YL=$t(qL,[["__scopeId","data-v-7c4645cc"]]),jL={class:"VPHome"},XL=ie({__name:"VPHome",setup(t){const{frontmatter:e}=Cn();return(n,i)=>{const r=At("Content");return P(),K("div",jL,[oe(n.$slots,"home-hero-before",{},void 0,!0),Q(kL,null,{"home-hero-info-before":te(()=>[oe(n.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":te(()=>[oe(n.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":te(()=>[oe(n.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":te(()=>[oe(n.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":te(()=>[oe(n.$slots,"home-hero-image",{},void 0,!0)]),_:3}),oe(n.$slots,"home-hero-after",{},void 0,!0),oe(n.$slots,"home-features-before",{},void 0,!0),Q(KL),oe(n.$slots,"home-features-after",{},void 0,!0),f(e).markdownStyles!==!1?(P(),we(YL,{key:0},{default:te(()=>[Q(r)]),_:1})):(P(),we(r,{key:1}))])}}}),ZL=$t(XL,[["__scopeId","data-v-eb036f8b"]]),JL={},QL={class:"VPPage"};function eN(t,e){const n=At("Content");return P(),K("div",QL,[oe(t.$slots,"page-top"),Q(n),oe(t.$slots,"page-bottom")])}const tN=$t(JL,[["render",eN]]),nN=ie({__name:"VPContent",setup(t){const{page:e,frontmatter:n}=Cn(),{hasSidebar:i}=Da();return(r,s)=>(P(),K("div",{class:z(["VPContent",{"has-sidebar":f(i),"is-home":f(n).layout==="home"}]),id:"VPContent"},[f(e).isNotFound?oe(r.$slots,"not-found",{key:0},()=>[Q(cI)],!0):f(n).layout==="page"?(P(),we(tN,{key:1},{"page-top":te(()=>[oe(r.$slots,"page-top",{},void 0,!0)]),"page-bottom":te(()=>[oe(r.$slots,"page-bottom",{},void 0,!0)]),_:3})):f(n).layout==="home"?(P(),we(ZL,{key:2},{"home-hero-before":te(()=>[oe(r.$slots,"home-hero-before",{},void 0,!0)]),"home-hero-info-before":te(()=>[oe(r.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":te(()=>[oe(r.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":te(()=>[oe(r.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":te(()=>[oe(r.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":te(()=>[oe(r.$slots,"home-hero-image",{},void 0,!0)]),"home-hero-after":te(()=>[oe(r.$slots,"home-hero-after",{},void 0,!0)]),"home-features-before":te(()=>[oe(r.$slots,"home-features-before",{},void 0,!0)]),"home-features-after":te(()=>[oe(r.$slots,"home-features-after",{},void 0,!0)]),_:3})):f(n).layout&&f(n).layout!=="doc"?(P(),we(zt(f(n).layout),{key:3})):(P(),we(dL,{key:4},{"doc-top":te(()=>[oe(r.$slots,"doc-top",{},void 0,!0)]),"doc-bottom":te(()=>[oe(r.$slots,"doc-bottom",{},void 0,!0)]),"doc-footer-before":te(()=>[oe(r.$slots,"doc-footer-before",{},void 0,!0)]),"doc-before":te(()=>[oe(r.$slots,"doc-before",{},void 0,!0)]),"doc-after":te(()=>[oe(r.$slots,"doc-after",{},void 0,!0)]),"aside-top":te(()=>[oe(r.$slots,"aside-top",{},void 0,!0)]),"aside-outline-before":te(()=>[oe(r.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":te(()=>[oe(r.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":te(()=>[oe(r.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":te(()=>[oe(r.$slots,"aside-ads-after",{},void 0,!0)]),"aside-bottom":te(()=>[oe(r.$slots,"aside-bottom",{},void 0,!0)]),_:3}))],2))}}),iN=$t(nN,[["__scopeId","data-v-2fef6454"]]),rN={class:"container"},sN=["innerHTML"],aN=["innerHTML"],oN=ie({__name:"VPFooter",setup(t){const{theme:e,frontmatter:n}=Cn(),{hasSidebar:i}=Da();return(r,s)=>f(e).footer&&f(n).footer!==!1?(P(),K("footer",{key:0,class:z(["VPFooter",{"has-sidebar":f(i)}])},[Z("div",rN,[f(e).footer.message?(P(),K("p",{key:0,class:"message",innerHTML:f(e).footer.message},null,8,sN)):he("",!0),f(e).footer.copyright?(P(),K("p",{key:1,class:"copyright",innerHTML:f(e).footer.copyright},null,8,aN)):he("",!0)])],2)):he("",!0)}}),lN=$t(oN,[["__scopeId","data-v-5bb950ac"]]);function uN(){const{theme:t,frontmatter:e}=Cn(),n=An([]),i=L(()=>n.value.length>0);return sp(()=>{n.value=k0(e.value.outline??t.value.outline)}),{headers:n,hasLocalNav:i}}const cN=t=>(bi("data-v-42e4b28b"),t=t(),wi(),t),dN={class:"menu-text"},fN=cN(()=>Z("span",{class:"vpi-chevron-right icon"},null,-1)),hN={class:"header"},pN={class:"outline"},mN=ie({__name:"VPLocalNavOutlineDropdown",props:{headers:{},navHeight:{}},setup(t){const e=t,{theme:n}=Cn(),i=W(!1),r=W(0),s=W(),a=W();function o(p){var v;(v=s.value)!=null&&v.contains(p.target)||(i.value=!1)}Le(i,p=>{if(p){document.addEventListener("click",o);return}document.removeEventListener("click",o)}),Rv("Escape",()=>{i.value=!1}),sp(()=>{i.value=!1});function l(){i.value=!i.value,r.value=window.innerHeight+Math.min(window.scrollY-e.navHeight,0)}function c(p){p.target.classList.contains("outline-link")&&(a.value&&(a.value.style.transition="none"),_t(()=>{i.value=!1}))}function d(){i.value=!1,window.scrollTo({top:0,left:0,behavior:"smooth"})}return(p,v)=>(P(),K("div",{class:"VPLocalNavOutlineDropdown",style:bt({"--vp-vh":r.value+"px"}),ref_key:"main",ref:s},[p.headers.length>0?(P(),K("button",{key:0,onClick:l,class:z({open:i.value})},[Z("span",dN,Ne(f(WC)(f(n))),1),fN],2)):(P(),K("button",{key:1,onClick:d},Ne(f(n).returnToTopLabel||"Return to top"),1)),Q(di,{name:"flyout"},{default:te(()=>[i.value?(P(),K("div",{key:0,ref_key:"items",ref:a,class:"items",onClick:c},[Z("div",hN,[Z("a",{class:"top-link",href:"#",onClick:d},Ne(f(n).returnToTopLabel||"Return to top"),1)]),Z("div",pN,[Q(KC,{headers:p.headers},null,8,["headers"])])],512)):he("",!0)]),_:1})],4))}}),vN=$t(mN,[["__scopeId","data-v-42e4b28b"]]),gN=t=>(bi("data-v-41a048b3"),t=t(),wi(),t),yN={class:"container"},_N=["aria-expanded"],bN=gN(()=>Z("span",{class:"vpi-align-left menu-icon"},null,-1)),wN={class:"menu-text"},SN=ie({__name:"VPLocalNav",props:{open:{type:Boolean}},emits:["open-menu"],setup(t){const{theme:e,frontmatter:n}=Cn(),{hasSidebar:i}=Da(),{headers:r}=uN(),{y:s}=OC(),a=W(0);St(()=>{a.value=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--vp-nav-height"))}),sp(()=>{r.value=k0(n.value.outline??e.value.outline)});const o=L(()=>r.value.length===0),l=L(()=>o.value&&!i.value),c=L(()=>({VPLocalNav:!0,"has-sidebar":i.value,empty:o.value,fixed:l.value}));return(d,p)=>f(n).layout!=="home"&&(!l.value||f(s)>=a.value)?(P(),K("div",{key:0,class:z(c.value)},[Z("div",yN,[f(i)?(P(),K("button",{key:0,class:"menu","aria-expanded":d.open,"aria-controls":"VPSidebarNav",onClick:p[0]||(p[0]=v=>d.$emit("open-menu"))},[bN,Z("span",wN,Ne(f(e).sidebarMenuLabel||"Menu"),1)],8,_N)):he("",!0),Q(vN,{headers:f(r),navHeight:a.value},null,8,["headers","navHeight"])])],2)):he("",!0)}}),EN=$t(SN,[["__scopeId","data-v-41a048b3"]]);function CN(){const t=W(!1);function e(){t.value=!0,window.addEventListener("resize",r)}function n(){t.value=!1,window.removeEventListener("resize",r)}function i(){t.value?n():e()}function r(){window.outerWidth>=768&&n()}const s=ap();return Le(()=>s.path,n),{isScreenOpen:t,openScreen:e,closeScreen:n,toggleScreen:i}}const xN={},MN={class:"VPSwitch",type:"button",role:"switch"},TN={class:"check"},AN={key:0,class:"icon"};function kN(t,e){return P(),K("button",MN,[Z("span",TN,[t.$slots.default?(P(),K("span",AN,[oe(t.$slots,"default",{},void 0,!0)])):he("",!0)])])}const PN=$t(xN,[["render",kN],["__scopeId","data-v-360e53fc"]]),YC=t=>(bi("data-v-8c66aee1"),t=t(),wi(),t),RN=YC(()=>Z("span",{class:"vpi-sun sun"},null,-1)),IN=YC(()=>Z("span",{class:"vpi-moon moon"},null,-1)),LN=ie({__name:"VPSwitchAppearance",setup(t){const{isDark:e,theme:n}=Cn(),i=dt("toggle-appearance",()=>{e.value=!e.value}),r=W("");return E0(()=>{r.value=e.value?n.value.lightModeSwitchTitle||"Switch to light theme":n.value.darkModeSwitchTitle||"Switch to dark theme"}),(s,a)=>(P(),we(PN,{title:r.value,class:"VPSwitchAppearance","aria-checked":f(e),onClick:f(i)},{default:te(()=>[RN,IN]),_:1},8,["title","aria-checked","onClick"]))}}),P0=$t(LN,[["__scopeId","data-v-8c66aee1"]]),NN={key:0,class:"VPNavBarAppearance"},ON=ie({__name:"VPNavBarAppearance",setup(t){const{site:e}=Cn();return(n,i)=>f(e).appearance&&f(e).appearance!=="force-dark"&&f(e).appearance!=="force-auto"?(P(),K("div",NN,[Q(P0)])):he("",!0)}}),DN=$t(ON,[["__scopeId","data-v-488750b3"]]),R0=W();let jC=!1,cm=0;function FN(t){const e=W(!1);if(op){!jC&&BN(),cm++;const n=Le(R0,i=>{var r,s,a;i===t.el.value||(r=t.el.value)!=null&&r.contains(i)?(e.value=!0,(s=t.onFocus)==null||s.call(t)):(e.value=!1,(a=t.onBlur)==null||a.call(t))});Oa(()=>{n(),cm--,cm||UN()})}return nc(e)}function BN(){document.addEventListener("focusin",XC),jC=!0,R0.value=document.activeElement}function UN(){document.removeEventListener("focusin",XC)}function XC(){R0.value=document.activeElement}const VN={class:"VPMenuLink"},zN=ie({__name:"VPMenuLink",props:{item:{}},setup(t){const{page:e}=Cn();return(n,i)=>(P(),K("div",VN,[Q(na,{class:z({active:f(vl)(f(e).relativePath,n.item.activeMatch||n.item.link,!!n.item.activeMatch)}),href:n.item.link,target:n.item.target,rel:n.item.rel},{default:te(()=>[pt(Ne(n.item.text),1)]),_:1},8,["class","href","target","rel"])]))}}),up=$t(zN,[["__scopeId","data-v-8a25db17"]]),$N={class:"VPMenuGroup"},HN={key:0,class:"title"},GN=ie({__name:"VPMenuGroup",props:{text:{},items:{}},setup(t){return(e,n)=>(P(),K("div",$N,[e.text?(P(),K("p",HN,Ne(e.text),1)):he("",!0),(P(!0),K(ct,null,Vt(e.items,i=>(P(),K(ct,null,["link"in i?(P(),we(up,{key:0,item:i},null,8,["item"])):he("",!0)],64))),256))]))}}),WN=$t(GN,[["__scopeId","data-v-2bfd8bae"]]),KN={class:"VPMenu"},qN={key:0,class:"items"},YN=ie({__name:"VPMenu",props:{items:{}},setup(t){return(e,n)=>(P(),K("div",KN,[e.items?(P(),K("div",qN,[(P(!0),K(ct,null,Vt(e.items,i=>(P(),K(ct,{key:JSON.stringify(i)},["link"in i?(P(),we(up,{key:0,item:i},null,8,["item"])):"component"in i?(P(),we(zt(i.component),Gt({key:1,ref_for:!0},i.props),null,16)):(P(),we(WN,{key:2,text:i.text,items:i.items},null,8,["text","items"]))],64))),128))])):he("",!0),oe(e.$slots,"default",{},void 0,!0)]))}}),jN=$t(YN,[["__scopeId","data-v-edffea9a"]]),XN=t=>(bi("data-v-2c36ac32"),t=t(),wi(),t),ZN=["aria-expanded","aria-label"],JN={key:0,class:"text"},QN=["innerHTML"],e3=XN(()=>Z("span",{class:"vpi-chevron-down text-icon"},null,-1)),t3={key:1,class:"vpi-more-horizontal icon"},n3={class:"menu"},i3=ie({__name:"VPFlyout",props:{icon:{},button:{},label:{},items:{}},setup(t){const e=W(!1),n=W();FN({el:n,onBlur:i});function i(){e.value=!1}return(r,s)=>(P(),K("div",{class:"VPFlyout",ref_key:"el",ref:n,onMouseenter:s[1]||(s[1]=a=>e.value=!0),onMouseleave:s[2]||(s[2]=a=>e.value=!1)},[Z("button",{type:"button",class:"button","aria-haspopup":"true","aria-expanded":e.value,"aria-label":r.label,onClick:s[0]||(s[0]=a=>e.value=!e.value)},[r.button||r.icon?(P(),K("span",JN,[r.icon?(P(),K("span",{key:0,class:z([r.icon,"option-icon"])},null,2)):he("",!0),r.button?(P(),K("span",{key:1,innerHTML:r.button},null,8,QN)):he("",!0),e3])):(P(),K("span",t3))],8,ZN),Z("div",n3,[Q(jN,{items:r.items},{default:te(()=>[oe(r.$slots,"default",{},void 0,!0)]),_:3},8,["items"])])],544))}}),I0=$t(i3,[["__scopeId","data-v-2c36ac32"]]),r3=["href","aria-label","innerHTML"],s3=ie({__name:"VPSocialLink",props:{icon:{},link:{},ariaLabel:{}},setup(t){const e=t,n=L(()=>typeof e.icon=="object"?e.icon.svg:`<span class="vpi-social-${e.icon}" />`);return(i,r)=>(P(),K("a",{class:"VPSocialLink no-icon",href:i.link,"aria-label":i.ariaLabel??(typeof i.icon=="string"?i.icon:""),target:"_blank",rel:"noopener",innerHTML:n.value},null,8,r3))}}),a3=$t(s3,[["__scopeId","data-v-b4bb9658"]]),o3={class:"VPSocialLinks"},l3=ie({__name:"VPSocialLinks",props:{links:{}},setup(t){return(e,n)=>(P(),K("div",o3,[(P(!0),K(ct,null,Vt(e.links,({link:i,icon:r,ariaLabel:s})=>(P(),we(a3,{key:i,icon:r,link:i,ariaLabel:s},null,8,["icon","link","ariaLabel"]))),128))]))}}),L0=$t(l3,[["__scopeId","data-v-d6fc0ca6"]]),u3={key:0,class:"group translations"},c3={class:"trans-title"},d3={key:1,class:"group"},f3={class:"item appearance"},h3={class:"label"},p3={class:"appearance-action"},m3={key:2,class:"group"},v3={class:"item social-links"},g3=ie({__name:"VPNavBarExtra",setup(t){const{site:e,theme:n}=Cn(),{localeLinks:i,currentLang:r}=Td({correspondingLink:!0}),s=L(()=>i.value.length&&r.value.label||e.value.appearance||n.value.socialLinks);return(a,o)=>s.value?(P(),we(I0,{key:0,class:"VPNavBarExtra",label:"extra navigation"},{default:te(()=>[f(i).length&&f(r).label?(P(),K("div",u3,[Z("p",c3,Ne(f(r).label),1),(P(!0),K(ct,null,Vt(f(i),l=>(P(),we(up,{key:l.link,item:l},null,8,["item"]))),128))])):he("",!0),f(e).appearance&&f(e).appearance!=="force-dark"&&f(e).appearance!=="force-auto"?(P(),K("div",d3,[Z("div",f3,[Z("p",h3,Ne(f(n).darkModeSwitchLabel||"Appearance"),1),Z("div",p3,[Q(P0)])])])):he("",!0),f(n).socialLinks?(P(),K("div",m3,[Z("div",v3,[Q(L0,{class:"social-links-list",links:f(n).socialLinks},null,8,["links"])])])):he("",!0)]),_:1})):he("",!0)}}),y3=$t(g3,[["__scopeId","data-v-9d2cbf32"]]),_3=t=>(bi("data-v-69a8a7a4"),t=t(),wi(),t),b3=["aria-expanded"],w3=_3(()=>Z("span",{class:"container"},[Z("span",{class:"top"}),Z("span",{class:"middle"}),Z("span",{class:"bottom"})],-1)),S3=[w3],E3=ie({__name:"VPNavBarHamburger",props:{active:{type:Boolean}},emits:["click"],setup(t){return(e,n)=>(P(),K("button",{type:"button",class:z(["VPNavBarHamburger",{active:e.active}]),"aria-label":"mobile navigation","aria-expanded":e.active,"aria-controls":"VPNavScreen",onClick:n[0]||(n[0]=i=>e.$emit("click"))},S3,10,b3))}}),C3=$t(E3,[["__scopeId","data-v-69a8a7a4"]]),x3=["innerHTML"],M3=ie({__name:"VPNavBarMenuLink",props:{item:{}},setup(t){const{page:e}=Cn();return(n,i)=>(P(),we(na,{class:z({VPNavBarMenuLink:!0,active:f(vl)(f(e).relativePath,n.item.activeMatch||n.item.link,!!n.item.activeMatch)}),href:n.item.link,noIcon:n.item.noIcon,target:n.item.target,rel:n.item.rel,tabindex:"0"},{default:te(()=>[Z("span",{innerHTML:n.item.text},null,8,x3)]),_:1},8,["class","href","noIcon","target","rel"]))}}),T3=$t(M3,[["__scopeId","data-v-b7be9d26"]]),A3=ie({__name:"VPNavBarMenuGroup",props:{item:{}},setup(t){const e=t,{page:n}=Cn(),i=s=>"component"in s?!1:"link"in s?vl(n.value.relativePath,s.link,!!e.item.activeMatch):s.items.some(i),r=L(()=>i(e.item));return(s,a)=>(P(),we(I0,{class:z({VPNavBarMenuGroup:!0,active:f(vl)(f(n).relativePath,s.item.activeMatch,!!s.item.activeMatch)||r.value}),button:s.item.text,items:s.item.items},null,8,["class","button","items"]))}}),k3=t=>(bi("data-v-7a2564bf"),t=t(),wi(),t),P3={key:0,"aria-labelledby":"main-nav-aria-label",class:"VPNavBarMenu"},R3=k3(()=>Z("span",{id:"main-nav-aria-label",class:"visually-hidden"}," Main Navigation ",-1)),I3=ie({__name:"VPNavBarMenu",setup(t){const{theme:e}=Cn();return(n,i)=>f(e).nav?(P(),K("nav",P3,[R3,(P(!0),K(ct,null,Vt(f(e).nav,r=>(P(),K(ct,{key:JSON.stringify(r)},["link"in r?(P(),we(T3,{key:0,item:r},null,8,["item"])):"component"in r?(P(),we(zt(r.component),Gt({key:1,ref_for:!0},r.props),null,16)):(P(),we(A3,{key:2,item:r},null,8,["item"]))],64))),128))])):he("",!0)}}),L3=$t(I3,[["__scopeId","data-v-7a2564bf"]]);function N3(t){const{localeIndex:e,theme:n}=Cn();function i(r){var y,_,w;const s=r.split("."),a=(y=n.value.search)==null?void 0:y.options,o=a&&typeof a=="object",l=o&&((w=(_=a.locales)==null?void 0:_[e.value])==null?void 0:w.translations)||null,c=o&&a.translations||null;let d=l,p=c,v=t;const g=s.pop();for(const b of s){let M=null;const E=v==null?void 0:v[b];E&&(M=v=E);const x=p==null?void 0:p[b];x&&(M=p=x);const T=d==null?void 0:d[b];T&&(M=d=T),E||(v=M),x||(p=M),T||(d=M)}return(d==null?void 0:d[g])??(p==null?void 0:p[g])??(v==null?void 0:v[g])??""}return i}const O3=["aria-label"],D3={class:"DocSearch-Button-Container"},F3=Z("span",{class:"vp-icon DocSearch-Search-Icon"},null,-1),B3={class:"DocSearch-Button-Placeholder"},U3=Z("span",{class:"DocSearch-Button-Keys"},[Z("kbd",{class:"DocSearch-Button-Key"}),Z("kbd",{class:"DocSearch-Button-Key"},"K")],-1),fb=ie({__name:"VPNavBarSearchButton",setup(t){const n=N3({button:{buttonText:"Search",buttonAriaLabel:"Search"}});return(i,r)=>(P(),K("button",{type:"button",class:"DocSearch DocSearch-Button","aria-label":f(n)("button.buttonAriaLabel")},[Z("span",D3,[F3,Z("span",B3,Ne(f(n)("button.buttonText")),1)]),U3],8,O3))}}),V3={class:"VPNavBarSearch"},z3={id:"local-search"},$3={key:1,id:"docsearch"},H3=ie({__name:"VPNavBarSearch",setup(t){const e=DR(()=>FR(()=>import("./VPLocalSearchBox.BY94dllw.js"),__vite__mapDeps([0,1]))),n=()=>null,{theme:i}=Cn(),r=W(!1),s=W(!1);St(()=>{});function a(){r.value||(r.value=!0,setTimeout(o,16))}function o(){const p=new Event("keydown");p.key="k",p.metaKey=!0,window.dispatchEvent(p),setTimeout(()=>{document.querySelector(".DocSearch-Modal")||o()},16)}function l(p){const v=p.target,g=v.tagName;return v.isContentEditable||g==="INPUT"||g==="SELECT"||g==="TEXTAREA"}const c=W(!1);Rv("k",p=>{(p.ctrlKey||p.metaKey)&&(p.preventDefault(),c.value=!0)}),Rv("/",p=>{l(p)||(p.preventDefault(),c.value=!0)});const d="local";return(p,v)=>{var g;return P(),K("div",V3,[f(d)==="local"?(P(),K(ct,{key:0},[c.value?(P(),we(f(e),{key:0,onClose:v[0]||(v[0]=y=>c.value=!1)})):he("",!0),Z("div",z3,[Q(fb,{onClick:v[1]||(v[1]=y=>c.value=!0)})])],64)):f(d)==="algolia"?(P(),K(ct,{key:1},[r.value?(P(),we(f(n),{key:0,algolia:((g=f(i).search)==null?void 0:g.options)??f(i).algolia,onVnodeBeforeMount:v[2]||(v[2]=y=>s.value=!0)},null,8,["algolia"])):he("",!0),s.value?he("",!0):(P(),K("div",$3,[Q(fb,{onClick:a})]))],64)):he("",!0)])}}}),G3=ie({__name:"VPNavBarSocialLinks",setup(t){const{theme:e}=Cn();return(n,i)=>f(e).socialLinks?(P(),we(L0,{key:0,class:"VPNavBarSocialLinks",links:f(e).socialLinks},null,8,["links"])):he("",!0)}}),W3=$t(G3,[["__scopeId","data-v-4adea010"]]),K3=["href","rel","target"],q3={key:1},Y3={key:2},j3=ie({__name:"VPNavBarTitle",setup(t){const{site:e,theme:n}=Cn(),{hasSidebar:i}=Da(),{currentLang:r}=Td(),s=L(()=>{var l;return typeof n.value.logoLink=="string"?n.value.logoLink:(l=n.value.logoLink)==null?void 0:l.link}),a=L(()=>{var l;return typeof n.value.logoLink=="string"||(l=n.value.logoLink)==null?void 0:l.rel}),o=L(()=>{var l;return typeof n.value.logoLink=="string"||(l=n.value.logoLink)==null?void 0:l.target});return(l,c)=>(P(),K("div",{class:z(["VPNavBarTitle",{"has-sidebar":f(i)}])},[Z("a",{class:"title",href:s.value??f(A0)(f(r).link),rel:a.value,target:o.value},[oe(l.$slots,"nav-bar-title-before",{},void 0,!0),f(n).logo?(P(),we(Sh,{key:0,class:"logo",image:f(n).logo},null,8,["image"])):he("",!0),f(n).siteTitle?(P(),K("span",q3,Ne(f(n).siteTitle),1)):f(n).siteTitle===void 0?(P(),K("span",Y3,Ne(f(e).title),1)):he("",!0),oe(l.$slots,"nav-bar-title-after",{},void 0,!0)],8,K3)],2))}}),X3=$t(j3,[["__scopeId","data-v-389aaf3d"]]),Z3={class:"items"},J3={class:"title"},Q3=ie({__name:"VPNavBarTranslations",setup(t){const{theme:e}=Cn(),{localeLinks:n,currentLang:i}=Td({correspondingLink:!0});return(r,s)=>f(n).length&&f(i).label?(P(),we(I0,{key:0,class:"VPNavBarTranslations",icon:"vpi-languages",label:f(e).langMenuLabel||"Change language"},{default:te(()=>[Z("div",Z3,[Z("p",J3,Ne(f(i).label),1),(P(!0),K(ct,null,Vt(f(n),a=>(P(),we(up,{key:a.link,item:a},null,8,["item"]))),128))])]),_:1},8,["label"])):he("",!0)}}),eO=$t(Q3,[["__scopeId","data-v-391c7104"]]),tO=t=>(bi("data-v-b26cb13e"),t=t(),wi(),t),nO={class:"wrapper"},iO={class:"container"},rO={class:"title"},sO={class:"content"},aO={class:"content-body"},oO=tO(()=>Z("div",{class:"divider"},[Z("div",{class:"divider-line"})],-1)),lO=ie({__name:"VPNavBar",props:{isScreenOpen:{type:Boolean}},emits:["toggle-screen"],setup(t){const e=t,{y:n}=OC(),{hasSidebar:i}=Da(),{frontmatter:r}=Cn(),s=W({});return E0(()=>{s.value={"has-sidebar":i.value,home:r.value.layout==="home",top:n.value===0,"screen-open":e.isScreenOpen}}),(a,o)=>(P(),K("div",{class:z(["VPNavBar",s.value])},[Z("div",nO,[Z("div",iO,[Z("div",rO,[Q(X3,null,{"nav-bar-title-before":te(()=>[oe(a.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":te(()=>[oe(a.$slots,"nav-bar-title-after",{},void 0,!0)]),_:3})]),Z("div",sO,[Z("div",aO,[oe(a.$slots,"nav-bar-content-before",{},void 0,!0),Q(H3,{class:"search"}),Q(L3,{class:"menu"}),Q(eO,{class:"translations"}),Q(DN,{class:"appearance"}),Q(W3,{class:"social-links"}),Q(y3,{class:"extra"}),oe(a.$slots,"nav-bar-content-after",{},void 0,!0),Q(C3,{class:"hamburger",active:a.isScreenOpen,onClick:o[0]||(o[0]=l=>a.$emit("toggle-screen"))},null,8,["active"])])])])]),oO],2))}}),uO=$t(lO,[["__scopeId","data-v-b26cb13e"]]),cO={key:0,class:"VPNavScreenAppearance"},dO={class:"text"},fO=ie({__name:"VPNavScreenAppearance",setup(t){const{site:e,theme:n}=Cn();return(i,r)=>f(e).appearance&&f(e).appearance!=="force-dark"&&f(e).appearance!=="force-auto"?(P(),K("div",cO,[Z("p",dO,Ne(f(n).darkModeSwitchLabel||"Appearance"),1),Q(P0)])):he("",!0)}}),hO=$t(fO,[["__scopeId","data-v-f140d185"]]),pO=ie({__name:"VPNavScreenMenuLink",props:{item:{}},setup(t){const e=dt("close-screen");return(n,i)=>(P(),we(na,{class:"VPNavScreenMenuLink",href:n.item.link,target:n.item.target,rel:n.item.rel,onClick:f(e),innerHTML:n.item.text},null,8,["href","target","rel","onClick","innerHTML"]))}}),mO=$t(pO,[["__scopeId","data-v-32d57cf6"]]),vO=ie({__name:"VPNavScreenMenuGroupLink",props:{item:{}},setup(t){const e=dt("close-screen");return(n,i)=>(P(),we(na,{class:"VPNavScreenMenuGroupLink",href:n.item.link,target:n.item.target,rel:n.item.rel,onClick:f(e)},{default:te(()=>[pt(Ne(n.item.text),1)]),_:1},8,["href","target","rel","onClick"]))}}),ZC=$t(vO,[["__scopeId","data-v-3adffa3c"]]),gO={class:"VPNavScreenMenuGroupSection"},yO={key:0,class:"title"},_O=ie({__name:"VPNavScreenMenuGroupSection",props:{text:{},items:{}},setup(t){return(e,n)=>(P(),K("div",gO,[e.text?(P(),K("p",yO,Ne(e.text),1)):he("",!0),(P(!0),K(ct,null,Vt(e.items,i=>(P(),we(ZC,{key:i.text,item:i},null,8,["item"]))),128))]))}}),bO=$t(_O,[["__scopeId","data-v-6dd549c2"]]),wO=t=>(bi("data-v-dd3775b8"),t=t(),wi(),t),SO=["aria-controls","aria-expanded"],EO=["innerHTML"],CO=wO(()=>Z("span",{class:"vpi-plus button-icon"},null,-1)),xO=["id"],MO={key:0,class:"item"},TO={key:1,class:"item"},AO={key:2,class:"group"},kO=ie({__name:"VPNavScreenMenuGroup",props:{text:{},items:{}},setup(t){const e=t,n=W(!1),i=L(()=>`NavScreenGroup-${e.text.replace(" ","-").toLowerCase()}`);function r(){n.value=!n.value}return(s,a)=>(P(),K("div",{class:z(["VPNavScreenMenuGroup",{open:n.value}])},[Z("button",{class:"button","aria-controls":i.value,"aria-expanded":n.value,onClick:r},[Z("span",{class:"button-text",innerHTML:s.text},null,8,EO),CO],8,SO),Z("div",{id:i.value,class:"items"},[(P(!0),K(ct,null,Vt(s.items,o=>(P(),K(ct,{key:JSON.stringify(o)},["link"in o?(P(),K("div",MO,[Q(ZC,{item:o},null,8,["item"])])):"component"in o?(P(),K("div",TO,[(P(),we(zt(o.component),Gt({ref_for:!0},o.props,{"screen-menu":""}),null,16))])):(P(),K("div",AO,[Q(bO,{text:o.text,items:o.items},null,8,["text","items"])]))],64))),128))],8,xO)],2))}}),PO=$t(kO,[["__scopeId","data-v-dd3775b8"]]),RO={key:0,class:"VPNavScreenMenu"},IO=ie({__name:"VPNavScreenMenu",setup(t){const{theme:e}=Cn();return(n,i)=>f(e).nav?(P(),K("nav",RO,[(P(!0),K(ct,null,Vt(f(e).nav,r=>(P(),K(ct,{key:JSON.stringify(r)},["link"in r?(P(),we(mO,{key:0,item:r},null,8,["item"])):"component"in r?(P(),we(zt(r.component),Gt({key:1,ref_for:!0},r.props,{"screen-menu":""}),null,16)):(P(),we(PO,{key:2,text:r.text||"",items:r.items},null,8,["text","items"]))],64))),128))])):he("",!0)}}),LO=ie({__name:"VPNavScreenSocialLinks",setup(t){const{theme:e}=Cn();return(n,i)=>f(e).socialLinks?(P(),we(L0,{key:0,class:"VPNavScreenSocialLinks",links:f(e).socialLinks},null,8,["links"])):he("",!0)}}),JC=t=>(bi("data-v-1e116d9d"),t=t(),wi(),t),NO=JC(()=>Z("span",{class:"vpi-languages icon lang"},null,-1)),OO=JC(()=>Z("span",{class:"vpi-chevron-down icon chevron"},null,-1)),DO={class:"list"},FO=ie({__name:"VPNavScreenTranslations",setup(t){const{localeLinks:e,currentLang:n}=Td({correspondingLink:!0}),i=W(!1);function r(){i.value=!i.value}return(s,a)=>f(e).length&&f(n).label?(P(),K("div",{key:0,class:z(["VPNavScreenTranslations",{open:i.value}])},[Z("button",{class:"title",onClick:r},[NO,pt(" "+Ne(f(n).label)+" ",1),OO]),Z("ul",DO,[(P(!0),K(ct,null,Vt(f(e),o=>(P(),K("li",{key:o.link,class:"item"},[Q(na,{class:"link",href:o.link},{default:te(()=>[pt(Ne(o.text),1)]),_:2},1032,["href"])]))),128))])],2)):he("",!0)}}),BO=$t(FO,[["__scopeId","data-v-1e116d9d"]]),UO={class:"container"},VO=ie({__name:"VPNavScreen",props:{open:{type:Boolean}},setup(t){const e=W(null),n=DC(op?document.body:null);return(i,r)=>(P(),we(di,{name:"fade",onEnter:r[0]||(r[0]=s=>n.value=!0),onAfterLeave:r[1]||(r[1]=s=>n.value=!1)},{default:te(()=>[i.open?(P(),K("div",{key:0,class:"VPNavScreen",ref_key:"screen",ref:e,id:"VPNavScreen"},[Z("div",UO,[oe(i.$slots,"nav-screen-content-before",{},void 0,!0),Q(IO,{class:"menu"}),Q(BO,{class:"translations"}),Q(hO,{class:"appearance"}),Q(LO,{class:"social-links"}),oe(i.$slots,"nav-screen-content-after",{},void 0,!0)])],512)):he("",!0)]),_:3}))}}),zO=$t(VO,[["__scopeId","data-v-ff89af51"]]),$O={key:0,class:"VPNav"},HO=ie({__name:"VPNav",setup(t){const{isScreenOpen:e,closeScreen:n,toggleScreen:i}=CN(),{frontmatter:r}=Cn(),s=L(()=>r.value.navbar!==!1);return Jt("close-screen",n),gi(()=>{op&&document.documentElement.classList.toggle("hide-nav",!s.value)}),(a,o)=>s.value?(P(),K("header",$O,[Q(uO,{"is-screen-open":f(e),onToggleScreen:f(i)},{"nav-bar-title-before":te(()=>[oe(a.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":te(()=>[oe(a.$slots,"nav-bar-title-after",{},void 0,!0)]),"nav-bar-content-before":te(()=>[oe(a.$slots,"nav-bar-content-before",{},void 0,!0)]),"nav-bar-content-after":te(()=>[oe(a.$slots,"nav-bar-content-after",{},void 0,!0)]),_:3},8,["is-screen-open","onToggleScreen"]),Q(zO,{open:f(e)},{"nav-screen-content-before":te(()=>[oe(a.$slots,"nav-screen-content-before",{},void 0,!0)]),"nav-screen-content-after":te(()=>[oe(a.$slots,"nav-screen-content-after",{},void 0,!0)]),_:3},8,["open"])])):he("",!0)}}),GO=$t(HO,[["__scopeId","data-v-6f474b23"]]),QC=t=>(bi("data-v-aad23f36"),t=t(),wi(),t),WO=["role","tabindex"],KO=QC(()=>Z("div",{class:"indicator"},null,-1)),qO=QC(()=>Z("span",{class:"vpi-chevron-right caret-icon"},null,-1)),YO=[qO],jO={key:1,class:"items"},XO=ie({__name:"VPSidebarItem",props:{item:{},depth:{}},setup(t){const e=t,{collapsed:n,collapsible:i,isLink:r,isActiveLink:s,hasActiveLink:a,hasChildren:o,toggle:l}=pI(L(()=>e.item)),c=L(()=>o.value?"section":"div"),d=L(()=>r.value?"a":"div"),p=L(()=>o.value?e.depth+2===7?"p":`h${e.depth+2}`:"p"),v=L(()=>r.value?void 0:"button"),g=L(()=>[[`level-${e.depth}`],{collapsible:i.value},{collapsed:n.value},{"is-link":r.value},{"is-active":s.value},{"has-active":a.value}]);function y(w){"key"in w&&w.key!=="Enter"||!e.item.link&&l()}function _(){e.item.link&&l()}return(w,b)=>{const M=At("VPSidebarItem",!0);return P(),we(zt(c.value),{class:z(["VPSidebarItem",g.value])},{default:te(()=>[w.item.text?(P(),K("div",Gt({key:0,class:"item",role:v.value},FC(w.item.items?{click:y,keydown:y}:{},!0),{tabindex:w.item.items&&0}),[KO,w.item.link?(P(),we(na,{key:0,tag:d.value,class:"link",href:w.item.link,rel:w.item.rel,target:w.item.target},{default:te(()=>[(P(),we(zt(p.value),{class:"text",innerHTML:w.item.text},null,8,["innerHTML"]))]),_:1},8,["tag","href","rel","target"])):(P(),we(zt(p.value),{key:1,class:"text",innerHTML:w.item.text},null,8,["innerHTML"])),w.item.collapsed!=null&&w.item.items&&w.item.items.length?(P(),K("div",{key:2,class:"caret",role:"button","aria-label":"toggle section",onClick:_,onKeydown:vn(_,["enter"]),tabindex:"0"},YO,32)):he("",!0)],16,WO)):he("",!0),w.item.items&&w.item.items.length?(P(),K("div",jO,[w.depth<5?(P(!0),K(ct,{key:0},Vt(w.item.items,E=>(P(),we(M,{key:E.text,item:E,depth:w.depth+1},null,8,["item","depth"]))),128)):he("",!0)])):he("",!0)]),_:1},8,["class"])}}}),ZO=$t(XO,[["__scopeId","data-v-aad23f36"]]),JO=ie({__name:"VPSidebarGroup",props:{items:{}},setup(t){const e=W(!0);let n=null;return St(()=>{n=setTimeout(()=>{n=null,e.value=!1},300)}),Tn(()=>{n!=null&&(clearTimeout(n),n=null)}),(i,r)=>(P(!0),K(ct,null,Vt(i.items,s=>(P(),K("div",{key:s.text,class:z(["group",{"no-transition":e.value}])},[Q(ZO,{item:s,depth:0},null,8,["item"])],2))),128))}}),QO=$t(JO,[["__scopeId","data-v-7b63e751"]]),e2=t=>(bi("data-v-73dab79a"),t=t(),wi(),t),eD=e2(()=>Z("div",{class:"curtain"},null,-1)),tD={class:"nav",id:"VPSidebarNav","aria-labelledby":"sidebar-aria-label",tabindex:"-1"},nD=e2(()=>Z("span",{class:"visually-hidden",id:"sidebar-aria-label"}," Sidebar Navigation ",-1)),iD=ie({__name:"VPSidebar",props:{open:{type:Boolean}},setup(t){const{sidebarGroups:e,hasSidebar:n}=Da(),i=t,r=W(null),s=DC(op?document.body:null);Le([i,r],()=>{var o;i.open?(s.value=!0,(o=r.value)==null||o.focus()):s.value=!1},{immediate:!0,flush:"post"});const a=W(0);return Le(e,()=>{a.value+=1},{deep:!0}),(o,l)=>f(n)?(P(),K("aside",{key:0,class:z(["VPSidebar",{open:o.open}]),ref_key:"navEl",ref:r,onClick:l[0]||(l[0]=Mt(()=>{},["stop"]))},[eD,Z("nav",tD,[nD,oe(o.$slots,"sidebar-nav-before",{},void 0,!0),(P(),we(QO,{items:f(e),key:a.value},null,8,["items"])),oe(o.$slots,"sidebar-nav-after",{},void 0,!0)])],2)):he("",!0)}}),rD=$t(iD,[["__scopeId","data-v-73dab79a"]]),sD=ie({__name:"VPSkipLink",setup(t){const e=ap(),n=W();Le(()=>e.path,()=>n.value.focus());function i({target:r}){const s=document.getElementById(decodeURIComponent(r.hash).slice(1));if(s){const a=()=>{s.removeAttribute("tabindex"),s.removeEventListener("blur",a)};s.setAttribute("tabindex","-1"),s.addEventListener("blur",a),s.focus(),window.scrollTo(0,0)}}return(r,s)=>(P(),K(ct,null,[Z("span",{ref_key:"backToTop",ref:n,tabindex:"-1"},null,512),Z("a",{href:"#VPContent",class:"VPSkipLink visually-hidden",onClick:i}," Skip to content ")],64))}}),aD=$t(sD,[["__scopeId","data-v-eea713a2"]]),oD=ie({__name:"Layout",setup(t){const{isOpen:e,open:n,close:i}=Da(),r=ap();Le(()=>r.path,i),hI(e,i);const{frontmatter:s}=Cn(),a=Si(),o=L(()=>!!a["home-hero-image"]);return Jt("hero-image-slot-exists",o),(l,c)=>{const d=At("Content");return f(s).layout!==!1?(P(),K("div",{key:0,class:z(["Layout",f(s).pageClass])},[oe(l.$slots,"layout-top",{},void 0,!0),Q(aD),Q(JR,{class:"backdrop",show:f(e),onClick:f(i)},null,8,["show","onClick"]),Q(GO,null,{"nav-bar-title-before":te(()=>[oe(l.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":te(()=>[oe(l.$slots,"nav-bar-title-after",{},void 0,!0)]),"nav-bar-content-before":te(()=>[oe(l.$slots,"nav-bar-content-before",{},void 0,!0)]),"nav-bar-content-after":te(()=>[oe(l.$slots,"nav-bar-content-after",{},void 0,!0)]),"nav-screen-content-before":te(()=>[oe(l.$slots,"nav-screen-content-before",{},void 0,!0)]),"nav-screen-content-after":te(()=>[oe(l.$slots,"nav-screen-content-after",{},void 0,!0)]),_:3}),Q(EN,{open:f(e),onOpenMenu:f(n)},null,8,["open","onOpenMenu"]),Q(rD,{open:f(e)},{"sidebar-nav-before":te(()=>[oe(l.$slots,"sidebar-nav-before",{},void 0,!0)]),"sidebar-nav-after":te(()=>[oe(l.$slots,"sidebar-nav-after",{},void 0,!0)]),_:3},8,["open"]),Q(iN,null,{"page-top":te(()=>[oe(l.$slots,"page-top",{},void 0,!0)]),"page-bottom":te(()=>[oe(l.$slots,"page-bottom",{},void 0,!0)]),"not-found":te(()=>[oe(l.$slots,"not-found",{},void 0,!0)]),"home-hero-before":te(()=>[oe(l.$slots,"home-hero-before",{},void 0,!0)]),"home-hero-info-before":te(()=>[oe(l.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":te(()=>[oe(l.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":te(()=>[oe(l.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":te(()=>[oe(l.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":te(()=>[oe(l.$slots,"home-hero-image",{},void 0,!0)]),"home-hero-after":te(()=>[oe(l.$slots,"home-hero-after",{},void 0,!0)]),"home-features-before":te(()=>[oe(l.$slots,"home-features-before",{},void 0,!0)]),"home-features-after":te(()=>[oe(l.$slots,"home-features-after",{},void 0,!0)]),"doc-footer-before":te(()=>[oe(l.$slots,"doc-footer-before",{},void 0,!0)]),"doc-before":te(()=>[oe(l.$slots,"doc-before",{},void 0,!0)]),"doc-after":te(()=>[oe(l.$slots,"doc-after",{},void 0,!0)]),"doc-top":te(()=>[oe(l.$slots,"doc-top",{},void 0,!0)]),"doc-bottom":te(()=>[oe(l.$slots,"doc-bottom",{},void 0,!0)]),"aside-top":te(()=>[oe(l.$slots,"aside-top",{},void 0,!0)]),"aside-bottom":te(()=>[oe(l.$slots,"aside-bottom",{},void 0,!0)]),"aside-outline-before":te(()=>[oe(l.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":te(()=>[oe(l.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":te(()=>[oe(l.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":te(()=>[oe(l.$slots,"aside-ads-after",{},void 0,!0)]),_:3}),Q(lN),oe(l.$slots,"layout-bottom",{},void 0,!0)],2)):(P(),we(d,{key:1}))}}}),lD=$t(oD,[["__scopeId","data-v-13494db4"]]),uD={Layout:lD,enhanceApp:({app:t})=>{t.component("Badge",jR)}};function t2(t){return BC()?(C0(t),!0):!1}function Iu(t){return typeof t=="function"?t():f(t)}const N0=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const cD=Object.prototype.toString,dD=t=>cD.call(t)==="[object Object]",fD=()=>{};function hD(t){let e;function n(){return e||(e=t()),e}return n.reset=async()=>{const i=e;e=void 0,i&&await i},n}function pD(t,e,n={}){const{immediate:i=!0}=n,r=W(!1);let s=null;function a(){s&&(clearTimeout(s),s=null)}function o(){r.value=!1,a()}function l(...c){a(),r.value=!0,s=setTimeout(()=>{r.value=!1,s=null,t(...c)},Iu(e))}return i&&(r.value=!0,N0&&l()),t2(o),{isPending:nc(r),start:l,stop:o}}function mD(t=!1,e={}){const{truthyValue:n=!0,falsyValue:i=!1}=e,r=nr(t),s=W(t);function a(o){if(arguments.length)return s.value=o,s.value;{const l=Iu(n);return s.value=s.value===l?Iu(i):l,s.value}}return r?a:[s,a]}const vD=N0?window:void 0,n2=N0?window.navigator:void 0;function gD(t){var e;const n=Iu(t);return(e=n==null?void 0:n.$el)!=null?e:n}function i2(...t){let e,n,i,r;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,i,r]=t,e=vD):[e,n,i,r]=t,!e)return fD;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const s=[],a=()=>{s.forEach(d=>d()),s.length=0},o=(d,p,v,g)=>(d.addEventListener(p,v,g),()=>d.removeEventListener(p,v,g)),l=Le(()=>[gD(e),Iu(r)],([d,p])=>{if(a(),!d)return;const v=dD(p)?{...p}:p;s.push(...n.flatMap(g=>i.map(y=>o(d,g,y,v))))},{immediate:!0,flush:"post"}),c=()=>{l(),a()};return t2(c),c}function yD(){const t=W(!1),e=Yt();return e&&St(()=>{t.value=!0},e),t}function r2(t){const e=yD();return L(()=>(e.value,!!t()))}function hb(t,e={}){const{controls:n=!1,navigator:i=n2}=e,r=r2(()=>i&&"permissions"in i),s=An(),a=typeof t=="string"?{name:t}:t,o=An(),l=()=>{var d,p;o.value=(p=(d=s.value)==null?void 0:d.state)!=null?p:"prompt"};i2(s,"change",l);const c=hD(async()=>{if(r.value){if(!s.value)try{s.value=await i.permissions.query(a)}catch{s.value=void 0}finally{l()}if(n)return Pu(s.value)}});return c(),n?{state:o,isSupported:r,query:c}:o}function _D(t={}){const{navigator:e=n2,read:n=!1,source:i,copiedDuring:r=1500,legacy:s=!1}=t,a=r2(()=>e&&"clipboard"in e),o=hb("clipboard-read"),l=hb("clipboard-write"),c=L(()=>a.value||s),d=W(""),p=W(!1),v=pD(()=>p.value=!1,r);function g(){a.value&&b(o.value)?e.clipboard.readText().then(M=>{d.value=M}):d.value=w()}c.value&&n&&i2(["copy","cut"],g);async function y(M=Iu(i)){c.value&&M!=null&&(a.value&&b(l.value)?await e.clipboard.writeText(M):_(M),d.value=M,p.value=!0,v.start())}function _(M){const E=document.createElement("textarea");E.value=M??"",E.style.position="absolute",E.style.opacity="0",document.body.appendChild(E),E.select(),document.execCommand("copy"),E.remove()}function w(){var M,E,x;return(x=(E=(M=document==null?void 0:document.getSelection)==null?void 0:M.call(document))==null?void 0:E.toString())!=null?x:""}function b(M){return M==="granted"||M==="prompt"}return{isSupported:c,text:d,copied:p,copy:y}}/*! Element Plus Icons Vue v2.3.1 */var bD=ie({name:"ArrowDown",__name:"arrow-down",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),Fa=bD,wD=ie({name:"ArrowLeft",__name:"arrow-left",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),po=wD,SD=ie({name:"ArrowRight",__name:"arrow-right",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),vr=SD,ED=ie({name:"ArrowUp",__name:"arrow-up",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),O0=ED,CD=ie({name:"Back",__name:"back",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),Z("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),xD=CD,MD=ie({name:"Calendar",__name:"calendar",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),TD=MD,AD=ie({name:"CaretRight",__name:"caret-right",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),s2=AD,kD=ie({name:"CaretTop",__name:"caret-top",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),a2=kD,PD=ie({name:"ChatSquare",__name:"chat-square",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M273.536 736H800a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H224a64 64 0 0 0-64 64v570.88zM296 800 147.968 918.4A32 32 0 0 1 96 893.44V256a128 128 0 0 1 128-128h576a128 128 0 0 1 128 128v416a128 128 0 0 1-128 128z"})]))}}),RD=PD,ID=ie({name:"Check",__name:"check",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),Ad=ID,LD=ie({name:"CircleCheckFilled",__name:"circle-check-filled",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),ND=LD,OD=ie({name:"CircleCheck",__name:"circle-check",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Z("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),D0=OD,DD=ie({name:"CircleCloseFilled",__name:"circle-close-filled",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),F0=DD,FD=ie({name:"CircleClose",__name:"circle-close",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),Z("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),To=FD,BD=ie({name:"Clock",__name:"clock",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Z("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),Z("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),o2=BD,UD=ie({name:"Close",__name:"close",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),Bs=UD,VD=ie({name:"CopyDocument",__name:"copy-document",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M768 832a128 128 0 0 1-128 128H192A128 128 0 0 1 64 832V384a128 128 0 0 1 128-128v64a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64z"}),Z("path",{fill:"currentColor",d:"M384 128a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64zm0-64h448a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H384a128 128 0 0 1-128-128V192A128 128 0 0 1 384 64"})]))}}),zD=VD,$D=ie({name:"DArrowLeft",__name:"d-arrow-left",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),mo=$D,HD=ie({name:"DArrowRight",__name:"d-arrow-right",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),vo=HD,GD=ie({name:"Delete",__name:"delete",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),WD=GD,KD=ie({name:"Document",__name:"document",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),qD=KD,YD=ie({name:"Edit",__name:"edit",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640z"}),Z("path",{fill:"currentColor",d:"m469.952 554.24 52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"})]))}}),jD=YD,XD=ie({name:"FullScreen",__name:"full-screen",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),ZD=XD,JD=ie({name:"Hide",__name:"hide",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),Z("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),QD=JD,e4=ie({name:"InfoFilled",__name:"info-filled",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),B0=e4,t4=ie({name:"Loading",__name:"loading",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),ra=t4,n4=ie({name:"Minus",__name:"minus",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),i4=n4,r4=ie({name:"MoreFilled",__name:"more-filled",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),pb=r4,s4=ie({name:"More",__name:"more",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),a4=s4,o4=ie({name:"PictureFilled",__name:"picture-filled",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),l4=o4,u4=ie({name:"Plus",__name:"plus",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),l2=u4,c4=ie({name:"QuestionFilled",__name:"question-filled",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}}),d4=c4,f4=ie({name:"Reading",__name:"reading",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m512 863.36 384-54.848v-638.72L525.568 222.72a96 96 0 0 1-27.136 0L128 169.792v638.72zM137.024 106.432l370.432 52.928a32 32 0 0 0 9.088 0l370.432-52.928A64 64 0 0 1 960 169.792v638.72a64 64 0 0 1-54.976 63.36l-388.48 55.488a32 32 0 0 1-9.088 0l-388.48-55.488A64 64 0 0 1 64 808.512v-638.72a64 64 0 0 1 73.024-63.36z"}),Z("path",{fill:"currentColor",d:"M480 192h64v704h-64z"})]))}}),h4=f4,p4=ie({name:"RefreshLeft",__name:"refresh-left",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),m4=p4,v4=ie({name:"RefreshRight",__name:"refresh-right",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),g4=v4,y4=ie({name:"ScaleToOriginal",__name:"scale-to-original",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),_4=y4,b4=ie({name:"Search",__name:"search",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),w4=b4,S4=ie({name:"SortDown",__name:"sort-down",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),E4=S4,C4=ie({name:"SortUp",__name:"sort-up",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),x4=C4,M4=ie({name:"StarFilled",__name:"star-filled",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),rf=M4,T4=ie({name:"Star",__name:"star",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),A4=T4,k4=ie({name:"SuccessFilled",__name:"success-filled",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),u2=k4,P4=ie({name:"View",__name:"view",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),R4=P4,I4=ie({name:"WarningFilled",__name:"warning-filled",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),cp=I4,L4=ie({name:"ZoomIn",__name:"zoom-in",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),c2=L4,N4=ie({name:"ZoomOut",__name:"zoom-out",setup(t){return(e,n)=>(P(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),O4=N4;const mb=/\/$/;function D4(t,e,n,i,r="examples/",s=".vue"){return`${(LC(t)?t:`https://gitee.com/${t}`).replace(mb,"")}/${n}/${e?`${e.replace(mb,"")}/`:""}${r||""}${i}${s||""}`}const F4=t=>{const{theme:e}=IC();return console.log("theme",e.value),L(()=>{const{repo:i,docsDir:r="dls-map",docsBranch:s="master",docsRepo:a=i}=e.value;return console.log(),D4(i,r,s,t.value)})},B4={class:"example-source-wrapper"},U4=["innerHTML"],V4=ie({__name:"vp-source-code",props:{visible:{type:Boolean,required:!0},source:{type:String,required:!0}},setup(t){const e=t,n=L(()=>decodeURIComponent(e.source));return(i,r)=>Ut((P(),K("div",B4,[Z("div",{class:"example-source",innerHTML:n.value},null,8,U4)],512)),[[on,t.visible]])}}),z4=$t(V4,[["__scopeId","data-v-f6d3955e"]]),$4='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',H4=t=>getComputedStyle(t).position==="fixed"?!1:t.offsetParent!==null,vb=t=>Array.from(t.querySelectorAll($4)).filter(e=>G4(e)&&H4(e)),G4=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},Qf=function(t,e,...n){let i;e.includes("mouse")||e.includes("click")?i="MouseEvents":e.includes("key")?i="KeyboardEvent":i="HTMLEvents";const r=document.createEvent(i);return r.initEvent(e,...n),t.dispatchEvent(r),t},d2=t=>!t.getAttribute("aria-owns"),f2=(t,e,n)=>{const{parentNode:i}=t;if(!i)return null;const r=i.querySelectorAll(n),s=Array.prototype.indexOf.call(r,t);return r[s+e]||null},eh=t=>{t&&(t.focus(),!d2(t)&&t.click())},jn=(t,e,{checkForDefaultPrevented:n=!0}={})=>r=>{const s=t==null?void 0:t(r);if(n===!1||!s)return e==null?void 0:e(r)},gb=t=>e=>e.pointerType==="mouse"?t(e):void 0;var W4=Object.defineProperty,K4=Object.defineProperties,q4=Object.getOwnPropertyDescriptors,yb=Object.getOwnPropertySymbols,Y4=Object.prototype.hasOwnProperty,j4=Object.prototype.propertyIsEnumerable,_b=(t,e,n)=>e in t?W4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,X4=(t,e)=>{for(var n in e||(e={}))Y4.call(e,n)&&_b(t,n,e[n]);if(yb)for(var n of yb(e))j4.call(e,n)&&_b(t,n,e[n]);return t},Z4=(t,e)=>K4(t,q4(e));function bb(t,e){var n;const i=An();return gi(()=>{i.value=t()},Z4(X4({},e),{flush:(n=void 0)!=null?n:"sync"})),nc(i)}var wb;const nn=typeof window<"u",J4=t=>typeof t<"u",Fv=t=>typeof t=="function",Q4=t=>typeof t=="string",Lu=()=>{},Bv=nn&&((wb=window==null?void 0:window.navigator)==null?void 0:wb.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function go(t){return typeof t=="function"?t():f(t)}function h2(t,e){function n(...i){return new Promise((r,s)=>{Promise.resolve(t(()=>e.apply(this,i),{fn:e,thisArg:this,args:i})).then(r).catch(s)})}return n}function eF(t,e={}){let n,i,r=Lu;const s=o=>{clearTimeout(o),r(),r=Lu};return o=>{const l=go(t),c=go(e.maxWait);return n&&s(n),l<=0||c!==void 0&&c<=0?(i&&(s(i),i=null),Promise.resolve(o())):new Promise((d,p)=>{r=e.rejectOnCancel?p:d,c&&!i&&(i=setTimeout(()=>{n&&s(n),i=null,d(o())},c)),n=setTimeout(()=>{i&&s(i),i=null,d(o())},l)})}}function tF(t,e=!0,n=!0,i=!1){let r=0,s,a=!0,o=Lu,l;const c=()=>{s&&(clearTimeout(s),s=void 0,o(),o=Lu)};return p=>{const v=go(t),g=Date.now()-r,y=()=>l=p();return c(),v<=0?(r=Date.now(),y()):(g>v&&(n||!a)?(r=Date.now(),y()):e&&(l=new Promise((_,w)=>{o=i?w:_,s=setTimeout(()=>{r=Date.now(),a=!0,_(y()),c()},Math.max(0,v-g))})),!n&&!s&&(s=setTimeout(()=>a=!0,v)),a=!1,l)}}function nF(t){return t}function iF(t,e){let n,i,r;const s=W(!0),a=()=>{s.value=!0,r()};Le(t,a,{flush:"sync"});const o=Fv(e)?e:e.get,l=Fv(e)?void 0:e.set,c=BR((d,p)=>(i=d,r=p,{get(){return s.value&&(n=o(),s.value=!1),i(),n},set(v){l==null||l(v)}}));return Object.isExtensible(c)&&(c.trigger=a),c}function kd(t){return BC()?(C0(t),!0):!1}function rF(t,e=200,n={}){return h2(eF(e,n),t)}function sF(t,e=200,n={}){const i=W(t.value),r=rF(()=>{i.value=t.value},e,n);return Le(t,()=>r()),i}function p2(t,e=200,n=!1,i=!0,r=!1){return h2(tF(e,n,i,r),t)}function U0(t,e=!0){Yt()?St(t):e?t():_t(t)}function yl(t,e,n={}){const{immediate:i=!0}=n,r=W(!1);let s=null;function a(){s&&(clearTimeout(s),s=null)}function o(){r.value=!1,a()}function l(...c){a(),r.value=!0,s=setTimeout(()=>{r.value=!1,s=null,t(...c)},go(e))}return i&&(r.value=!0,nn&&l()),kd(o),{isPending:nc(r),start:l,stop:o}}function Ar(t){var e;const n=go(t);return(e=n==null?void 0:n.$el)!=null?e:n}const Ao=nn?window:void 0,aF=nn?window.document:void 0;function bn(...t){let e,n,i,r;if(Q4(t[0])||Array.isArray(t[0])?([n,i,r]=t,e=Ao):[e,n,i,r]=t,!e)return Lu;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const s=[],a=()=>{s.forEach(d=>d()),s.length=0},o=(d,p,v,g)=>(d.addEventListener(p,v,g),()=>d.removeEventListener(p,v,g)),l=Le(()=>[Ar(e),go(r)],([d,p])=>{a(),d&&s.push(...n.flatMap(v=>i.map(g=>o(d,v,g,p))))},{immediate:!0,flush:"post"}),c=()=>{l(),a()};return kd(c),c}let Sb=!1;function V0(t,e,n={}){const{window:i=Ao,ignore:r=[],capture:s=!0,detectIframe:a=!1}=n;if(!i)return;Bv&&!Sb&&(Sb=!0,Array.from(i.document.body.children).forEach(v=>v.addEventListener("click",Lu)));let o=!0;const l=v=>r.some(g=>{if(typeof g=="string")return Array.from(i.document.querySelectorAll(g)).some(y=>y===v.target||v.composedPath().includes(y));{const y=Ar(g);return y&&(v.target===y||v.composedPath().includes(y))}}),d=[bn(i,"click",v=>{const g=Ar(t);if(!(!g||g===v.target||v.composedPath().includes(g))){if(v.detail===0&&(o=!l(v)),!o){o=!0;return}e(v)}},{passive:!0,capture:s}),bn(i,"pointerdown",v=>{const g=Ar(t);g&&(o=!v.composedPath().includes(g)&&!l(v))},{passive:!0}),a&&bn(i,"blur",v=>{var g;const y=Ar(t);((g=i.document.activeElement)==null?void 0:g.tagName)==="IFRAME"&&!(y!=null&&y.contains(i.document.activeElement))&&e(v)})].filter(Boolean);return()=>d.forEach(v=>v())}function oF(t={}){var e;const{window:n=Ao}=t,i=(e=t.document)!=null?e:n==null?void 0:n.document,r=iF(()=>null,()=>i==null?void 0:i.activeElement);return n&&(bn(n,"blur",s=>{s.relatedTarget===null&&r.trigger()},!0),bn(n,"focus",r.trigger,!0)),r}function m2(t,e=!1){const n=W(),i=()=>n.value=!!t();return i(),U0(i,e),n}function lF(t){return JSON.parse(JSON.stringify(t))}const Eb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Cb="__vueuse_ssr_handlers__";Eb[Cb]=Eb[Cb]||{};function uF(t,e,{window:n=Ao,initialValue:i=""}={}){const r=W(i),s=L(()=>{var a;return Ar(e)||((a=n==null?void 0:n.document)==null?void 0:a.documentElement)});return Le([s,()=>go(t)],([a,o])=>{var l;if(a&&n){const c=(l=n.getComputedStyle(a).getPropertyValue(o))==null?void 0:l.trim();r.value=c||i}},{immediate:!0}),Le(r,a=>{var o;(o=s.value)!=null&&o.style&&s.value.style.setProperty(go(t),a)}),r}function cF({document:t=aF}={}){if(!t)return W("visible");const e=W(t.visibilityState);return bn(t,"visibilitychange",()=>{e.value=t.visibilityState}),e}var xb=Object.getOwnPropertySymbols,dF=Object.prototype.hasOwnProperty,fF=Object.prototype.propertyIsEnumerable,hF=(t,e)=>{var n={};for(var i in t)dF.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&xb)for(var i of xb(t))e.indexOf(i)<0&&fF.call(t,i)&&(n[i]=t[i]);return n};function Fn(t,e,n={}){const i=n,{window:r=Ao}=i,s=hF(i,["window"]);let a;const o=m2(()=>r&&"ResizeObserver"in r),l=()=>{a&&(a.disconnect(),a=void 0)},c=Le(()=>Ar(t),p=>{l(),o.value&&r&&p&&(a=new ResizeObserver(e),a.observe(p,s))},{immediate:!0,flush:"post"}),d=()=>{l(),c()};return kd(d),{isSupported:o,stop:d}}function Mb(t,e={}){const{reset:n=!0,windowResize:i=!0,windowScroll:r=!0,immediate:s=!0}=e,a=W(0),o=W(0),l=W(0),c=W(0),d=W(0),p=W(0),v=W(0),g=W(0);function y(){const _=Ar(t);if(!_){n&&(a.value=0,o.value=0,l.value=0,c.value=0,d.value=0,p.value=0,v.value=0,g.value=0);return}const w=_.getBoundingClientRect();a.value=w.height,o.value=w.bottom,l.value=w.left,c.value=w.right,d.value=w.top,p.value=w.width,v.value=w.x,g.value=w.y}return Fn(t,y),Le(()=>Ar(t),_=>!_&&y()),r&&bn("scroll",y,{capture:!0,passive:!0}),i&&bn("resize",y,{passive:!0}),U0(()=>{s&&y()}),{height:a,bottom:o,left:l,right:c,top:d,width:p,x:v,y:g,update:y}}var Tb=Object.getOwnPropertySymbols,pF=Object.prototype.hasOwnProperty,mF=Object.prototype.propertyIsEnumerable,vF=(t,e)=>{var n={};for(var i in t)pF.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&Tb)for(var i of Tb(t))e.indexOf(i)<0&&mF.call(t,i)&&(n[i]=t[i]);return n};function v2(t,e,n={}){const i=n,{window:r=Ao}=i,s=vF(i,["window"]);let a;const o=m2(()=>r&&"MutationObserver"in r),l=()=>{a&&(a.disconnect(),a=void 0)},c=Le(()=>Ar(t),p=>{l(),o.value&&r&&p&&(a=new MutationObserver(e),a.observe(p,s))},{immediate:!0}),d=()=>{l(),c()};return kd(d),{isSupported:o,stop:d}}var Ab;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(Ab||(Ab={}));var gF=Object.defineProperty,kb=Object.getOwnPropertySymbols,yF=Object.prototype.hasOwnProperty,_F=Object.prototype.propertyIsEnumerable,Pb=(t,e,n)=>e in t?gF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bF=(t,e)=>{for(var n in e||(e={}))yF.call(e,n)&&Pb(t,n,e[n]);if(kb)for(var n of kb(e))_F.call(e,n)&&Pb(t,n,e[n]);return t};const wF={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};bF({linear:nF},wF);function g2(t,e,n,i={}){var r,s,a;const{clone:o=!1,passive:l=!1,eventName:c,deep:d=!1,defaultValue:p}=i,v=Yt(),g=n||(v==null?void 0:v.emit)||((r=v==null?void 0:v.$emit)==null?void 0:r.bind(v))||((a=(s=v==null?void 0:v.proxy)==null?void 0:s.$emit)==null?void 0:a.bind(v==null?void 0:v.proxy));let y=c;e||(e="modelValue"),y=c||y||`update:${e.toString()}`;const _=b=>o?Fv(o)?o(b):lF(b):b,w=()=>J4(t[e])?_(t[e]):p;if(l){const b=w(),M=W(b);return Le(()=>t[e],E=>M.value=_(E)),Le(M,E=>{(E!==t[e]||d)&&g(y,E)},{deep:d}),M}else return L({get(){return w()},set(b){g(y,b)}})}function SF({window:t=Ao}={}){if(!t)return W(!1);const e=W(t.document.hasFocus());return bn(t,"blur",()=>{e.value=!1}),bn(t,"focus",()=>{e.value=!0}),e}function EF(t={}){const{window:e=Ao,initialWidth:n=1/0,initialHeight:i=1/0,listenOrientation:r=!0,includeScrollbar:s=!0}=t,a=W(n),o=W(i),l=()=>{e&&(s?(a.value=e.innerWidth,o.value=e.innerHeight):(a.value=e.document.documentElement.clientWidth,o.value=e.document.documentElement.clientHeight))};return l(),U0(l),bn("resize",l,{passive:!0}),r&&bn("orientationchange",l,{passive:!0}),{width:a,height:o}}const z0=()=>nn&&/firefox/i.test(window.navigator.userAgent),CF=(t,e)=>{if(!nn||!t||!e)return!1;const n=t.getBoundingClientRect();let i;return e instanceof Element?i=e.getBoundingClientRect():i={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<i.bottom&&n.bottom>i.top&&n.right>i.left&&n.left<i.right},Rb=t=>{let e=0,n=t;for(;n;)e+=n.offsetTop,n=n.offsetParent;return e},Uv=(t,e)=>Math.abs(Rb(t)-Rb(e)),$0=t=>{let e,n;return t.type==="touchend"?(n=t.changedTouches[0].clientY,e=t.changedTouches[0].clientX):t.type.startsWith("touch")?(n=t.touches[0].clientY,e=t.touches[0].clientX):(n=t.clientY,e=t.clientX),{clientX:e,clientY:n}};function xF(t,e,n,i){const r=n-e;return t/=i/2,t<1?r/2*t*t*t+e:r/2*((t-=2)*t*t+2)+e}var y2=typeof global=="object"&&global&&global.Object===Object&&global,MF=typeof self=="object"&&self&&self.Object===Object&&self,zs=y2||MF||Function("return this")(),ps=zs.Symbol,_2=Object.prototype,TF=_2.hasOwnProperty,AF=_2.toString,Rc=ps?ps.toStringTag:void 0;function kF(t){var e=TF.call(t,Rc),n=t[Rc];try{t[Rc]=void 0;var i=!0}catch{}var r=AF.call(t);return i&&(e?t[Rc]=n:delete t[Rc]),r}var PF=Object.prototype,RF=PF.toString;function IF(t){return RF.call(t)}var LF="[object Null]",NF="[object Undefined]",Ib=ps?ps.toStringTag:void 0;function Rl(t){return t==null?t===void 0?NF:LF:Ib&&Ib in Object(t)?kF(t):IF(t)}function sa(t){return t!=null&&typeof t=="object"}var OF="[object Symbol]";function dp(t){return typeof t=="symbol"||sa(t)&&Rl(t)==OF}function H0(t,e){for(var n=-1,i=t==null?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}var yr=Array.isArray,DF=1/0,Lb=ps?ps.prototype:void 0,Nb=Lb?Lb.toString:void 0;function b2(t){if(typeof t=="string")return t;if(yr(t))return H0(t,b2)+"";if(dp(t))return Nb?Nb.call(t):"";var e=t+"";return e=="0"&&1/t==-DF?"-0":e}var FF=/\s/;function BF(t){for(var e=t.length;e--&&FF.test(t.charAt(e)););return e}var UF=/^\s+/;function VF(t){return t&&t.slice(0,BF(t)+1).replace(UF,"")}function _r(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ob=NaN,zF=/^[-+]0x[0-9a-f]+$/i,$F=/^0b[01]+$/i,HF=/^0o[0-7]+$/i,GF=parseInt;function Db(t){if(typeof t=="number")return t;if(dp(t))return Ob;if(_r(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=_r(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=VF(t);var n=$F.test(t);return n||HF.test(t)?GF(t.slice(2),n?2:8):zF.test(t)?Ob:+t}function G0(t){return t}var WF="[object AsyncFunction]",KF="[object Function]",qF="[object GeneratorFunction]",YF="[object Proxy]";function W0(t){if(!_r(t))return!1;var e=Rl(t);return e==KF||e==qF||e==WF||e==YF}var dm=zs["__core-js_shared__"],Fb=function(){var t=/[^.]+$/.exec(dm&&dm.keys&&dm.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function jF(t){return!!Fb&&Fb in t}var XF=Function.prototype,ZF=XF.toString;function Il(t){if(t!=null){try{return ZF.call(t)}catch{}try{return t+""}catch{}}return""}var JF=/[\\^$.*+?()[\]{}|]/g,QF=/^\[object .+?Constructor\]$/,eB=Function.prototype,tB=Object.prototype,nB=eB.toString,iB=tB.hasOwnProperty,rB=RegExp("^"+nB.call(iB).replace(JF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sB(t){if(!_r(t)||jF(t))return!1;var e=W0(t)?rB:QF;return e.test(Il(t))}function aB(t,e){return t==null?void 0:t[e]}function Ll(t,e){var n=aB(t,e);return sB(n)?n:void 0}var Vv=Ll(zs,"WeakMap"),Bb=Object.create,oB=function(){function t(){}return function(e){if(!_r(e))return{};if(Bb)return Bb(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function lB(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function uB(){}function w2(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}var cB=800,dB=16,fB=Date.now;function hB(t){var e=0,n=0;return function(){var i=fB(),r=dB-(i-n);if(n=i,r>0){if(++e>=cB)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function pB(t){return function(){return t}}var Eh=function(){try{var t=Ll(Object,"defineProperty");return t({},"",{}),t}catch{}}(),mB=Eh?function(t,e){return Eh(t,"toString",{configurable:!0,enumerable:!1,value:pB(e),writable:!0})}:G0,S2=hB(mB);function vB(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function K0(t,e,n,i){for(var r=t.length,s=n+(i?1:-1);i?s--:++s<r;)if(e(t[s],s,t))return s;return-1}function gB(t){return t!==t}function yB(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function _B(t,e,n){return e===e?yB(t,e,n):K0(t,gB,n)}function bB(t,e){var n=t==null?0:t.length;return!!n&&_B(t,e,0)>-1}var wB=9007199254740991,SB=/^(?:0|[1-9]\d*)$/;function fp(t,e){var n=typeof t;return e=e??wB,!!e&&(n=="number"||n!="symbol"&&SB.test(t))&&t>-1&&t%1==0&&t<e}function q0(t,e,n){e=="__proto__"&&Eh?Eh(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Pd(t,e){return t===e||t!==t&&e!==e}var EB=Object.prototype,CB=EB.hasOwnProperty;function Y0(t,e,n){var i=t[e];(!(CB.call(t,e)&&Pd(i,n))||n===void 0&&!(e in t))&&q0(t,e,n)}function ic(t,e,n,i){var r=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var o=e[s],l=void 0;l===void 0&&(l=t[o]),r?q0(n,o,l):Y0(n,o,l)}return n}var Ub=Math.max;function E2(t,e,n){return e=Ub(e===void 0?t.length-1:e,0),function(){for(var i=arguments,r=-1,s=Ub(i.length-e,0),a=Array(s);++r<s;)a[r]=i[e+r];r=-1;for(var o=Array(e+1);++r<e;)o[r]=i[r];return o[e]=n(a),lB(t,this,o)}}function C2(t,e){return S2(E2(t,e,G0),t+"")}var xB=9007199254740991;function j0(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=xB}function rc(t){return t!=null&&j0(t.length)&&!W0(t)}function MB(t,e,n){if(!_r(n))return!1;var i=typeof e;return(i=="number"?rc(n)&&fp(e,n.length):i=="string"&&e in n)?Pd(n[e],t):!1}function TB(t){return C2(function(e,n){var i=-1,r=n.length,s=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(r--,s):void 0,a&&MB(n[0],n[1],a)&&(s=r<3?void 0:s,r=1),e=Object(e);++i<r;){var o=n[i];o&&t(e,o,i,s)}return e})}var AB=Object.prototype;function X0(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||AB;return t===n}function kB(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var PB="[object Arguments]";function Vb(t){return sa(t)&&Rl(t)==PB}var x2=Object.prototype,RB=x2.hasOwnProperty,IB=x2.propertyIsEnumerable,nd=Vb(function(){return arguments}())?Vb:function(t){return sa(t)&&RB.call(t,"callee")&&!IB.call(t,"callee")};function LB(){return!1}var M2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,zb=M2&&typeof module=="object"&&module&&!module.nodeType&&module,NB=zb&&zb.exports===M2,$b=NB?zs.Buffer:void 0,OB=$b?$b.isBuffer:void 0,id=OB||LB,DB="[object Arguments]",FB="[object Array]",BB="[object Boolean]",UB="[object Date]",VB="[object Error]",zB="[object Function]",$B="[object Map]",HB="[object Number]",GB="[object Object]",WB="[object RegExp]",KB="[object Set]",qB="[object String]",YB="[object WeakMap]",jB="[object ArrayBuffer]",XB="[object DataView]",ZB="[object Float32Array]",JB="[object Float64Array]",QB="[object Int8Array]",e8="[object Int16Array]",t8="[object Int32Array]",n8="[object Uint8Array]",i8="[object Uint8ClampedArray]",r8="[object Uint16Array]",s8="[object Uint32Array]",ti={};ti[ZB]=ti[JB]=ti[QB]=ti[e8]=ti[t8]=ti[n8]=ti[i8]=ti[r8]=ti[s8]=!0;ti[DB]=ti[FB]=ti[jB]=ti[BB]=ti[XB]=ti[UB]=ti[VB]=ti[zB]=ti[$B]=ti[HB]=ti[GB]=ti[WB]=ti[KB]=ti[qB]=ti[YB]=!1;function a8(t){return sa(t)&&j0(t.length)&&!!ti[Rl(t)]}function Z0(t){return function(e){return t(e)}}var T2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,jc=T2&&typeof module=="object"&&module&&!module.nodeType&&module,o8=jc&&jc.exports===T2,fm=o8&&y2.process,Nu=function(){try{var t=jc&&jc.require&&jc.require("util").types;return t||fm&&fm.binding&&fm.binding("util")}catch{}}(),Hb=Nu&&Nu.isTypedArray,J0=Hb?Z0(Hb):a8,l8=Object.prototype,u8=l8.hasOwnProperty;function A2(t,e){var n=yr(t),i=!n&&nd(t),r=!n&&!i&&id(t),s=!n&&!i&&!r&&J0(t),a=n||i||r||s,o=a?kB(t.length,String):[],l=o.length;for(var c in t)(e||u8.call(t,c))&&!(a&&(c=="length"||r&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||fp(c,l)))&&o.push(c);return o}function k2(t,e){return function(n){return t(e(n))}}var c8=k2(Object.keys,Object),d8=Object.prototype,f8=d8.hasOwnProperty;function h8(t){if(!X0(t))return c8(t);var e=[];for(var n in Object(t))f8.call(t,n)&&n!="constructor"&&e.push(n);return e}function Rd(t){return rc(t)?A2(t):h8(t)}function p8(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var m8=Object.prototype,v8=m8.hasOwnProperty;function g8(t){if(!_r(t))return p8(t);var e=X0(t),n=[];for(var i in t)i=="constructor"&&(e||!v8.call(t,i))||n.push(i);return n}function Id(t){return rc(t)?A2(t,!0):g8(t)}var y8=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_8=/^\w*$/;function Q0(t,e){if(yr(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||dp(t)?!0:_8.test(t)||!y8.test(t)||e!=null&&t in Object(e)}var rd=Ll(Object,"create");function b8(){this.__data__=rd?rd(null):{},this.size=0}function w8(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var S8="__lodash_hash_undefined__",E8=Object.prototype,C8=E8.hasOwnProperty;function x8(t){var e=this.__data__;if(rd){var n=e[t];return n===S8?void 0:n}return C8.call(e,t)?e[t]:void 0}var M8=Object.prototype,T8=M8.hasOwnProperty;function A8(t){var e=this.__data__;return rd?e[t]!==void 0:T8.call(e,t)}var k8="__lodash_hash_undefined__";function P8(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=rd&&e===void 0?k8:e,this}function _l(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}_l.prototype.clear=b8;_l.prototype.delete=w8;_l.prototype.get=x8;_l.prototype.has=A8;_l.prototype.set=P8;function R8(){this.__data__=[],this.size=0}function hp(t,e){for(var n=t.length;n--;)if(Pd(t[n][0],e))return n;return-1}var I8=Array.prototype,L8=I8.splice;function N8(t){var e=this.__data__,n=hp(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():L8.call(e,n,1),--this.size,!0}function O8(t){var e=this.__data__,n=hp(e,t);return n<0?void 0:e[n][1]}function D8(t){return hp(this.__data__,t)>-1}function F8(t,e){var n=this.__data__,i=hp(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function Ba(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Ba.prototype.clear=R8;Ba.prototype.delete=N8;Ba.prototype.get=O8;Ba.prototype.has=D8;Ba.prototype.set=F8;var sd=Ll(zs,"Map");function B8(){this.size=0,this.__data__={hash:new _l,map:new(sd||Ba),string:new _l}}function U8(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function pp(t,e){var n=t.__data__;return U8(e)?n[typeof e=="string"?"string":"hash"]:n.map}function V8(t){var e=pp(this,t).delete(t);return this.size-=e?1:0,e}function z8(t){return pp(this,t).get(t)}function $8(t){return pp(this,t).has(t)}function H8(t,e){var n=pp(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function Ua(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Ua.prototype.clear=B8;Ua.prototype.delete=V8;Ua.prototype.get=z8;Ua.prototype.has=$8;Ua.prototype.set=H8;var G8="Expected a function";function mp(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(G8);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],s=n.cache;if(s.has(r))return s.get(r);var a=t.apply(this,i);return n.cache=s.set(r,a)||s,a};return n.cache=new(mp.Cache||Ua),n}mp.Cache=Ua;var W8=500;function K8(t){var e=mp(t,function(i){return n.size===W8&&n.clear(),i}),n=e.cache;return e}var q8=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Y8=/\\(\\)?/g,j8=K8(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(q8,function(n,i,r,s){e.push(r?s.replace(Y8,"$1"):i||n)}),e});function Ld(t){return t==null?"":b2(t)}function sc(t,e){return yr(t)?t:Q0(t,e)?[t]:j8(Ld(t))}var X8=1/0;function ac(t){if(typeof t=="string"||dp(t))return t;var e=t+"";return e=="0"&&1/t==-X8?"-0":e}function vp(t,e){e=sc(e,t);for(var n=0,i=e.length;t!=null&&n<i;)t=t[ac(e[n++])];return n&&n==i?t:void 0}function ni(t,e,n){var i=t==null?void 0:vp(t,e);return i===void 0?n:i}function ey(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}var Gb=ps?ps.isConcatSpreadable:void 0;function Z8(t){return yr(t)||nd(t)||!!(Gb&&t&&t[Gb])}function Nd(t,e,n,i,r){var s=-1,a=t.length;for(n||(n=Z8),r||(r=[]);++s<a;){var o=t[s];e>0&&n(o)?e>1?Nd(o,e-1,n,i,r):ey(r,o):i||(r[r.length]=o)}return r}function P2(t){var e=t==null?0:t.length;return e?Nd(t,1):[]}function R2(t){return S2(E2(t,void 0,P2),t+"")}var ty=k2(Object.getPrototypeOf,Object),J8="[object Object]",Q8=Function.prototype,e5=Object.prototype,I2=Q8.toString,t5=e5.hasOwnProperty,n5=I2.call(Object);function L2(t){if(!sa(t)||Rl(t)!=J8)return!1;var e=ty(t);if(e===null)return!0;var n=t5.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&I2.call(n)==n5}function N2(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),n=n>r?r:n,n<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(r);++i<r;)s[i]=t[i+e];return s}function i5(t,e,n){var i=t.length;return n=n===void 0?i:n,!e&&n>=i?t:N2(t,e,n)}var r5="\\ud800-\\udfff",s5="\\u0300-\\u036f",a5="\\ufe20-\\ufe2f",o5="\\u20d0-\\u20ff",l5=s5+a5+o5,u5="\\ufe0e\\ufe0f",c5="\\u200d",d5=RegExp("["+c5+r5+l5+u5+"]");function O2(t){return d5.test(t)}function f5(t){return t.split("")}var D2="\\ud800-\\udfff",h5="\\u0300-\\u036f",p5="\\ufe20-\\ufe2f",m5="\\u20d0-\\u20ff",v5=h5+p5+m5,g5="\\ufe0e\\ufe0f",y5="["+D2+"]",zv="["+v5+"]",$v="\\ud83c[\\udffb-\\udfff]",_5="(?:"+zv+"|"+$v+")",F2="[^"+D2+"]",B2="(?:\\ud83c[\\udde6-\\uddff]){2}",U2="[\\ud800-\\udbff][\\udc00-\\udfff]",b5="\\u200d",V2=_5+"?",z2="["+g5+"]?",w5="(?:"+b5+"(?:"+[F2,B2,U2].join("|")+")"+z2+V2+")*",S5=z2+V2+w5,E5="(?:"+[F2+zv+"?",zv,B2,U2,y5].join("|")+")",C5=RegExp($v+"(?="+$v+")|"+E5+S5,"g");function x5(t){return t.match(C5)||[]}function M5(t){return O2(t)?x5(t):f5(t)}function T5(t){return function(e){e=Ld(e);var n=O2(e)?M5(e):void 0,i=n?n[0]:e.charAt(0),r=n?i5(n,1).join(""):e.slice(1);return i[t]()+r}}var A5=T5("toUpperCase");function k5(t){return A5(Ld(t).toLowerCase())}function P5(t,e,n,i){for(var r=-1,s=t==null?0:t.length;++r<s;)n=e(n,t[r],r,t);return n}function R5(t){return function(e){return t==null?void 0:t[e]}}var I5={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},L5=R5(I5),N5=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,O5="\\u0300-\\u036f",D5="\\ufe20-\\ufe2f",F5="\\u20d0-\\u20ff",B5=O5+D5+F5,U5="["+B5+"]",V5=RegExp(U5,"g");function z5(t){return t=Ld(t),t&&t.replace(N5,L5).replace(V5,"")}var $5=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function H5(t){return t.match($5)||[]}var G5=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function W5(t){return G5.test(t)}var $2="\\ud800-\\udfff",K5="\\u0300-\\u036f",q5="\\ufe20-\\ufe2f",Y5="\\u20d0-\\u20ff",j5=K5+q5+Y5,H2="\\u2700-\\u27bf",G2="a-z\\xdf-\\xf6\\xf8-\\xff",X5="\\xac\\xb1\\xd7\\xf7",Z5="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",J5="\\u2000-\\u206f",Q5=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",W2="A-Z\\xc0-\\xd6\\xd8-\\xde",eU="\\ufe0e\\ufe0f",K2=X5+Z5+J5+Q5,q2="['’]",Wb="["+K2+"]",tU="["+j5+"]",Y2="\\d+",nU="["+H2+"]",j2="["+G2+"]",X2="[^"+$2+K2+Y2+H2+G2+W2+"]",iU="\\ud83c[\\udffb-\\udfff]",rU="(?:"+tU+"|"+iU+")",sU="[^"+$2+"]",Z2="(?:\\ud83c[\\udde6-\\uddff]){2}",J2="[\\ud800-\\udbff][\\udc00-\\udfff]",cu="["+W2+"]",aU="\\u200d",Kb="(?:"+j2+"|"+X2+")",oU="(?:"+cu+"|"+X2+")",qb="(?:"+q2+"(?:d|ll|m|re|s|t|ve))?",Yb="(?:"+q2+"(?:D|LL|M|RE|S|T|VE))?",Q2=rU+"?",ex="["+eU+"]?",lU="(?:"+aU+"(?:"+[sU,Z2,J2].join("|")+")"+ex+Q2+")*",uU="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",cU="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",dU=ex+Q2+lU,fU="(?:"+[nU,Z2,J2].join("|")+")"+dU,hU=RegExp([cu+"?"+j2+"+"+qb+"(?="+[Wb,cu,"$"].join("|")+")",oU+"+"+Yb+"(?="+[Wb,cu+Kb,"$"].join("|")+")",cu+"?"+Kb+"+"+qb,cu+"+"+Yb,cU,uU,Y2,fU].join("|"),"g");function pU(t){return t.match(hU)||[]}function mU(t,e,n){return t=Ld(t),e=e,e===void 0?W5(t)?pU(t):H5(t):t.match(e)||[]}var vU="['’]",gU=RegExp(vU,"g");function yU(t){return function(e){return P5(mU(z5(e).replace(gU,"")),t,"")}}var _U=yU(function(t,e,n){return e=e.toLowerCase(),t+(n?k5(e):e)});function Qi(){if(!arguments.length)return[];var t=arguments[0];return yr(t)?t:[t]}function bU(){this.__data__=new Ba,this.size=0}function wU(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function SU(t){return this.__data__.get(t)}function EU(t){return this.__data__.has(t)}var CU=200;function xU(t,e){var n=this.__data__;if(n instanceof Ba){var i=n.__data__;if(!sd||i.length<CU-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ua(i)}return n.set(t,e),this.size=n.size,this}function Ds(t){var e=this.__data__=new Ba(t);this.size=e.size}Ds.prototype.clear=bU;Ds.prototype.delete=wU;Ds.prototype.get=SU;Ds.prototype.has=EU;Ds.prototype.set=xU;function MU(t,e){return t&&ic(e,Rd(e),t)}function TU(t,e){return t&&ic(e,Id(e),t)}var tx=typeof exports=="object"&&exports&&!exports.nodeType&&exports,jb=tx&&typeof module=="object"&&module&&!module.nodeType&&module,AU=jb&&jb.exports===tx,Xb=AU?zs.Buffer:void 0,Zb=Xb?Xb.allocUnsafe:void 0;function nx(t,e){if(e)return t.slice();var n=t.length,i=Zb?Zb(n):new t.constructor(n);return t.copy(i),i}function kU(t,e){for(var n=-1,i=t==null?0:t.length,r=0,s=[];++n<i;){var a=t[n];e(a,n,t)&&(s[r++]=a)}return s}function ix(){return[]}var PU=Object.prototype,RU=PU.propertyIsEnumerable,Jb=Object.getOwnPropertySymbols,ny=Jb?function(t){return t==null?[]:(t=Object(t),kU(Jb(t),function(e){return RU.call(t,e)}))}:ix;function IU(t,e){return ic(t,ny(t),e)}var LU=Object.getOwnPropertySymbols,rx=LU?function(t){for(var e=[];t;)ey(e,ny(t)),t=ty(t);return e}:ix;function NU(t,e){return ic(t,rx(t),e)}function sx(t,e,n){var i=e(t);return yr(t)?i:ey(i,n(t))}function Hv(t){return sx(t,Rd,ny)}function ax(t){return sx(t,Id,rx)}var Gv=Ll(zs,"DataView"),Wv=Ll(zs,"Promise"),wu=Ll(zs,"Set"),Qb="[object Map]",OU="[object Object]",e1="[object Promise]",t1="[object Set]",n1="[object WeakMap]",i1="[object DataView]",DU=Il(Gv),FU=Il(sd),BU=Il(Wv),UU=Il(wu),VU=Il(Vv),ks=Rl;(Gv&&ks(new Gv(new ArrayBuffer(1)))!=i1||sd&&ks(new sd)!=Qb||Wv&&ks(Wv.resolve())!=e1||wu&&ks(new wu)!=t1||Vv&&ks(new Vv)!=n1)&&(ks=function(t){var e=Rl(t),n=e==OU?t.constructor:void 0,i=n?Il(n):"";if(i)switch(i){case DU:return i1;case FU:return Qb;case BU:return e1;case UU:return t1;case VU:return n1}return e});var zU=Object.prototype,$U=zU.hasOwnProperty;function HU(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&$U.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Ch=zs.Uint8Array;function iy(t){var e=new t.constructor(t.byteLength);return new Ch(e).set(new Ch(t)),e}function GU(t,e){var n=e?iy(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var WU=/\w*$/;function KU(t){var e=new t.constructor(t.source,WU.exec(t));return e.lastIndex=t.lastIndex,e}var r1=ps?ps.prototype:void 0,s1=r1?r1.valueOf:void 0;function qU(t){return s1?Object(s1.call(t)):{}}function ox(t,e){var n=e?iy(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var YU="[object Boolean]",jU="[object Date]",XU="[object Map]",ZU="[object Number]",JU="[object RegExp]",QU="[object Set]",eV="[object String]",tV="[object Symbol]",nV="[object ArrayBuffer]",iV="[object DataView]",rV="[object Float32Array]",sV="[object Float64Array]",aV="[object Int8Array]",oV="[object Int16Array]",lV="[object Int32Array]",uV="[object Uint8Array]",cV="[object Uint8ClampedArray]",dV="[object Uint16Array]",fV="[object Uint32Array]";function hV(t,e,n){var i=t.constructor;switch(e){case nV:return iy(t);case YU:case jU:return new i(+t);case iV:return GU(t,n);case rV:case sV:case aV:case oV:case lV:case uV:case cV:case dV:case fV:return ox(t,n);case XU:return new i;case ZU:case eV:return new i(t);case JU:return KU(t);case QU:return new i;case tV:return qU(t)}}function lx(t){return typeof t.constructor=="function"&&!X0(t)?oB(ty(t)):{}}var pV="[object Map]";function mV(t){return sa(t)&&ks(t)==pV}var a1=Nu&&Nu.isMap,vV=a1?Z0(a1):mV,gV="[object Set]";function yV(t){return sa(t)&&ks(t)==gV}var o1=Nu&&Nu.isSet,_V=o1?Z0(o1):yV,bV=1,wV=2,SV=4,ux="[object Arguments]",EV="[object Array]",CV="[object Boolean]",xV="[object Date]",MV="[object Error]",cx="[object Function]",TV="[object GeneratorFunction]",AV="[object Map]",kV="[object Number]",dx="[object Object]",PV="[object RegExp]",RV="[object Set]",IV="[object String]",LV="[object Symbol]",NV="[object WeakMap]",OV="[object ArrayBuffer]",DV="[object DataView]",FV="[object Float32Array]",BV="[object Float64Array]",UV="[object Int8Array]",VV="[object Int16Array]",zV="[object Int32Array]",$V="[object Uint8Array]",HV="[object Uint8ClampedArray]",GV="[object Uint16Array]",WV="[object Uint32Array]",qn={};qn[ux]=qn[EV]=qn[OV]=qn[DV]=qn[CV]=qn[xV]=qn[FV]=qn[BV]=qn[UV]=qn[VV]=qn[zV]=qn[AV]=qn[kV]=qn[dx]=qn[PV]=qn[RV]=qn[IV]=qn[LV]=qn[$V]=qn[HV]=qn[GV]=qn[WV]=!0;qn[MV]=qn[cx]=qn[NV]=!1;function Su(t,e,n,i,r,s){var a,o=e&bV,l=e&wV,c=e&SV;if(n&&(a=r?n(t,i,r,s):n(t)),a!==void 0)return a;if(!_r(t))return t;var d=yr(t);if(d){if(a=HU(t),!o)return w2(t,a)}else{var p=ks(t),v=p==cx||p==TV;if(id(t))return nx(t,o);if(p==dx||p==ux||v&&!r){if(a=l||v?{}:lx(t),!o)return l?NU(t,TU(a,t)):IU(t,MU(a,t))}else{if(!qn[p])return r?t:{};a=hV(t,p,o)}}s||(s=new Ds);var g=s.get(t);if(g)return g;s.set(t,a),_V(t)?t.forEach(function(w){a.add(Su(w,e,n,w,t,s))}):vV(t)&&t.forEach(function(w,b){a.set(b,Su(w,e,n,b,t,s))});var y=c?l?ax:Hv:l?Id:Rd,_=d?void 0:y(t);return vB(_||t,function(w,b){_&&(b=w,w=t[b]),Y0(a,b,Su(w,e,n,b,t,s))}),a}var KV=4;function l1(t){return Su(t,KV)}var qV=1,YV=4;function xh(t){return Su(t,qV|YV)}var jV="__lodash_hash_undefined__";function XV(t){return this.__data__.set(t,jV),this}function ZV(t){return this.__data__.has(t)}function ad(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Ua;++e<n;)this.add(t[e])}ad.prototype.add=ad.prototype.push=XV;ad.prototype.has=ZV;function JV(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function fx(t,e){return t.has(e)}var QV=1,e6=2;function hx(t,e,n,i,r,s){var a=n&QV,o=t.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var c=s.get(t),d=s.get(e);if(c&&d)return c==e&&d==t;var p=-1,v=!0,g=n&e6?new ad:void 0;for(s.set(t,e),s.set(e,t);++p<o;){var y=t[p],_=e[p];if(i)var w=a?i(_,y,p,e,t,s):i(y,_,p,t,e,s);if(w!==void 0){if(w)continue;v=!1;break}if(g){if(!JV(e,function(b,M){if(!fx(g,M)&&(y===b||r(y,b,n,i,s)))return g.push(M)})){v=!1;break}}else if(!(y===_||r(y,_,n,i,s))){v=!1;break}}return s.delete(t),s.delete(e),v}function t6(t){var e=-1,n=Array(t.size);return t.forEach(function(i,r){n[++e]=[r,i]}),n}function ry(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n}var n6=1,i6=2,r6="[object Boolean]",s6="[object Date]",a6="[object Error]",o6="[object Map]",l6="[object Number]",u6="[object RegExp]",c6="[object Set]",d6="[object String]",f6="[object Symbol]",h6="[object ArrayBuffer]",p6="[object DataView]",u1=ps?ps.prototype:void 0,hm=u1?u1.valueOf:void 0;function m6(t,e,n,i,r,s,a){switch(n){case p6:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case h6:return!(t.byteLength!=e.byteLength||!s(new Ch(t),new Ch(e)));case r6:case s6:case l6:return Pd(+t,+e);case a6:return t.name==e.name&&t.message==e.message;case u6:case d6:return t==e+"";case o6:var o=t6;case c6:var l=i&n6;if(o||(o=ry),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;i|=i6,a.set(t,e);var d=hx(o(t),o(e),i,r,s,a);return a.delete(t),d;case f6:if(hm)return hm.call(t)==hm.call(e)}return!1}var v6=1,g6=Object.prototype,y6=g6.hasOwnProperty;function _6(t,e,n,i,r,s){var a=n&v6,o=Hv(t),l=o.length,c=Hv(e),d=c.length;if(l!=d&&!a)return!1;for(var p=l;p--;){var v=o[p];if(!(a?v in e:y6.call(e,v)))return!1}var g=s.get(t),y=s.get(e);if(g&&y)return g==e&&y==t;var _=!0;s.set(t,e),s.set(e,t);for(var w=a;++p<l;){v=o[p];var b=t[v],M=e[v];if(i)var E=a?i(M,b,v,e,t,s):i(b,M,v,t,e,s);if(!(E===void 0?b===M||r(b,M,n,i,s):E)){_=!1;break}w||(w=v=="constructor")}if(_&&!w){var x=t.constructor,T=e.constructor;x!=T&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof T=="function"&&T instanceof T)&&(_=!1)}return s.delete(t),s.delete(e),_}var b6=1,c1="[object Arguments]",d1="[object Array]",sf="[object Object]",w6=Object.prototype,f1=w6.hasOwnProperty;function S6(t,e,n,i,r,s){var a=yr(t),o=yr(e),l=a?d1:ks(t),c=o?d1:ks(e);l=l==c1?sf:l,c=c==c1?sf:c;var d=l==sf,p=c==sf,v=l==c;if(v&&id(t)){if(!id(e))return!1;a=!0,d=!1}if(v&&!d)return s||(s=new Ds),a||J0(t)?hx(t,e,n,i,r,s):m6(t,e,l,n,i,r,s);if(!(n&b6)){var g=d&&f1.call(t,"__wrapped__"),y=p&&f1.call(e,"__wrapped__");if(g||y){var _=g?t.value():t,w=y?e.value():e;return s||(s=new Ds),r(_,w,n,i,s)}}return v?(s||(s=new Ds),_6(t,e,n,i,r,s)):!1}function gp(t,e,n,i,r){return t===e?!0:t==null||e==null||!sa(t)&&!sa(e)?t!==t&&e!==e:S6(t,e,n,i,gp,r)}var E6=1,C6=2;function x6(t,e,n,i){var r=n.length,s=r;if(t==null)return!s;for(t=Object(t);r--;){var a=n[r];if(a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<s;){a=n[r];var o=a[0],l=t[o],c=a[1];if(a[2]){if(l===void 0&&!(o in t))return!1}else{var d=new Ds,p;if(!(p===void 0?gp(c,l,E6|C6,i,d):p))return!1}}return!0}function px(t){return t===t&&!_r(t)}function M6(t){for(var e=Rd(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,px(r)]}return e}function mx(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function T6(t){var e=M6(t);return e.length==1&&e[0][2]?mx(e[0][0],e[0][1]):function(n){return n===t||x6(n,t,e)}}function A6(t,e){return t!=null&&e in Object(t)}function k6(t,e,n){e=sc(e,t);for(var i=-1,r=e.length,s=!1;++i<r;){var a=ac(e[i]);if(!(s=t!=null&&n(t,a)))break;t=t[a]}return s||++i!=r?s:(r=t==null?0:t.length,!!r&&j0(r)&&fp(a,r)&&(yr(t)||nd(t)))}function vx(t,e){return t!=null&&k6(t,e,A6)}var P6=1,R6=2;function I6(t,e){return Q0(t)&&px(e)?mx(ac(t),e):function(n){var i=ni(n,t);return i===void 0&&i===e?vx(n,t):gp(e,i,P6|R6)}}function L6(t){return function(e){return e==null?void 0:e[t]}}function N6(t){return function(e){return vp(e,t)}}function O6(t){return Q0(t)?L6(ac(t)):N6(t)}function sy(t){return typeof t=="function"?t:t==null?G0:typeof t=="object"?yr(t)?I6(t[0],t[1]):T6(t):O6(t)}function D6(t){return function(e,n,i){for(var r=-1,s=Object(e),a=i(e),o=a.length;o--;){var l=a[++r];if(n(s[l],l,s)===!1)break}return e}}var gx=D6();function F6(t,e){return t&&gx(t,e,Rd)}function B6(t,e){return function(n,i){if(n==null)return n;if(!rc(n))return t(n,i);for(var r=n.length,s=-1,a=Object(n);++s<r&&i(a[s],s,a)!==!1;);return n}}var U6=B6(F6),pm=function(){return zs.Date.now()},V6="Expected a function",z6=Math.max,$6=Math.min;function Br(t,e,n){var i,r,s,a,o,l,c=0,d=!1,p=!1,v=!0;if(typeof t!="function")throw new TypeError(V6);e=Db(e)||0,_r(n)&&(d=!!n.leading,p="maxWait"in n,s=p?z6(Db(n.maxWait)||0,e):s,v="trailing"in n?!!n.trailing:v);function g(k){var I=i,O=r;return i=r=void 0,c=k,a=t.apply(O,I),a}function y(k){return c=k,o=setTimeout(b,e),d?g(k):a}function _(k){var I=k-l,O=k-c,U=e-I;return p?$6(U,s-O):U}function w(k){var I=k-l,O=k-c;return l===void 0||I>=e||I<0||p&&O>=s}function b(){var k=pm();if(w(k))return M(k);o=setTimeout(b,_(k))}function M(k){return o=void 0,v&&i?g(k):(i=r=void 0,a)}function E(){o!==void 0&&clearTimeout(o),c=0,i=l=r=o=void 0}function x(){return o===void 0?a:M(pm())}function T(){var k=pm(),I=w(k);if(i=arguments,r=this,l=k,I){if(o===void 0)return y(l);if(p)return clearTimeout(o),o=setTimeout(b,e),g(l)}return o===void 0&&(o=setTimeout(b,e)),a}return T.cancel=E,T.flush=x,T}function Kv(t,e,n){(n!==void 0&&!Pd(t[e],n)||n===void 0&&!(e in t))&&q0(t,e,n)}function yx(t){return sa(t)&&rc(t)}function qv(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function H6(t){return ic(t,Id(t))}function G6(t,e,n,i,r,s,a){var o=qv(t,n),l=qv(e,n),c=a.get(l);if(c){Kv(t,n,c);return}var d=s?s(o,l,n+"",t,e,a):void 0,p=d===void 0;if(p){var v=yr(l),g=!v&&id(l),y=!v&&!g&&J0(l);d=l,v||g||y?yr(o)?d=o:yx(o)?d=w2(o):g?(p=!1,d=nx(l,!0)):y?(p=!1,d=ox(l,!0)):d=[]:L2(l)||nd(l)?(d=o,nd(o)?d=H6(o):(!_r(o)||W0(o))&&(d=lx(l))):p=!1}p&&(a.set(l,d),r(d,l,i,s,a),a.delete(l)),Kv(t,n,d)}function _x(t,e,n,i,r){t!==e&&gx(e,function(s,a){if(r||(r=new Ds),_r(s))G6(t,e,a,n,_x,i,r);else{var o=i?i(qv(t,a),s,a+"",t,e,r):void 0;o===void 0&&(o=s),Kv(t,a,o)}},Id)}function W6(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function K6(t,e,n){var i=t==null?0:t.length;if(!i)return-1;var r=0;return K0(t,sy(e),r)}function bx(t,e,n){var i=t==null?0:t.length;if(!i)return-1;var r=i-1;return K0(t,sy(e),r,!0)}function q6(t,e){var n=-1,i=rc(t)?Array(t.length):[];return U6(t,function(r,s,a){i[++n]=e(r,s,a)}),i}function Y6(t,e){var n=yr(t)?H0:q6;return n(t,sy(e))}function j6(t,e){return Nd(Y6(t,e),1)}var X6=1/0;function Z6(t){var e=t==null?0:t.length;return e?Nd(t,X6):[]}function od(t){for(var e=-1,n=t==null?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i}function J6(t,e){return e.length<2?t:vp(t,N2(e,0,-1))}function ir(t,e){return gp(t,e)}function Ai(t){return t==null}function wx(t){return t===void 0}var Q6=TB(function(t,e,n){_x(t,e,n)});function ez(t,e){return e=sc(e,t),t=J6(t,e),t==null||delete t[ac(W6(e))]}function tz(t){return L2(t)?void 0:t}var nz=1,iz=2,rz=4,sz=R2(function(t,e){var n={};if(t==null)return n;var i=!1;e=H0(e,function(s){return s=sc(s,t),i||(i=s.length>1),s}),ic(t,ax(t),n),i&&(n=Su(n,nz|iz|rz,tz));for(var r=e.length;r--;)ez(n,e[r]);return n});function Sx(t,e,n,i){if(!_r(t))return t;e=sc(e,t);for(var r=-1,s=e.length,a=s-1,o=t;o!=null&&++r<s;){var l=ac(e[r]),c=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(r!=a){var d=o[l];c=void 0,c===void 0&&(c=_r(d)?d:fp(e[r+1])?[]:{})}Y0(o,l,c),o=o[l]}return t}function az(t,e,n){for(var i=-1,r=e.length,s={};++i<r;){var a=e[i],o=vp(t,a);n(o,a)&&Sx(s,sc(a,t),o)}return s}function oz(t,e){return az(t,e,function(n,i){return vx(t,i)})}var Ls=R2(function(t,e){return t==null?{}:oz(t,e)});function lz(t,e,n){return t==null?t:Sx(t,e,n)}var uz="Expected a function";function ll(t,e,n){var i=!0,r=!0;if(typeof t!="function")throw new TypeError(uz);return _r(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Br(t,e,{leading:i,maxWait:e,trailing:r})}var cz=1/0,dz=wu&&1/ry(new wu([,-0]))[1]==cz?function(t){return new wu(t)}:uB,fz=200;function hz(t,e,n){var i=-1,r=bB,s=t.length,a=!0,o=[],l=o;if(s>=fz){var c=dz(t);if(c)return ry(c);a=!1,r=fx,l=new ad}else l=o;e:for(;++i<s;){var d=t[i],p=d;if(d=d!==0?d:0,a&&p===p){for(var v=l.length;v--;)if(l[v]===p)continue e;o.push(d)}else r(l,p,n)||(l!==o&&l.push(p),o.push(d))}return o}var mm=C2(function(t){return hz(Nd(t,1,yx,!0))});const Hn=t=>t===void 0,Gn=t=>typeof t=="boolean",Pt=t=>typeof t=="number",Kr=t=>!t&&t!==0||Ot(t)&&t.length===0||Sn(t)&&!Object.keys(t).length,Yr=t=>typeof Element>"u"?!1:t instanceof Element,bl=t=>Ai(t),pz=t=>Wt(t)?!Number.isNaN(Number(t)):!1,yp=t=>t===window,yo=t=>nn?window.requestAnimationFrame(t):setTimeout(t,16),wl=t=>nn?window.cancelAnimationFrame(t):clearTimeout(t),ay=(t="")=>t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Zs=t=>Iv(t),Ou=t=>Object.keys(t),mz=t=>Object.entries(t),th=(t,e,n)=>({get value(){return ni(t,e,n)},set value(i){lz(t,e,i)}});class vz extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function yi(t,e){throw new vz(`[${t}] ${e}`)}const Ex=(t="")=>t.split(" ").filter(e=>!!e.trim()),kr=(t,e)=>{if(!t||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return t.classList.contains(e)},us=(t,e)=>{!t||!e.trim()||t.classList.add(...Ex(e))},rr=(t,e)=>{!t||!e.trim()||t.classList.remove(...Ex(e))},to=(t,e)=>{var n;if(!nn||!t||!e)return"";let i=UC(e);i==="float"&&(i="cssFloat");try{const r=t.style[i];if(r)return r;const s=(n=document.defaultView)==null?void 0:n.getComputedStyle(t,"");return s?s[i]:""}catch{return t.style[i]}};function Jn(t,e="px"){if(!t)return"";if(Pt(t)||pz(t))return`${t}${e}`;if(Wt(t))return t}const gz=(t,e)=>{if(!nn)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],i=to(t,n);return["scroll","auto","overlay"].some(r=>i.includes(r))},oy=(t,e)=>{if(!nn)return;let n=t;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(gz(n,e))return n;n=n.parentNode}return n};let af;const Cx=t=>{var e;if(!nn)return 0;if(af!==void 0)return af;const n=document.createElement("div");n.className=`${t}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const i=n.offsetWidth;n.style.overflow="scroll";const r=document.createElement("div");r.style.width="100%",n.appendChild(r);const s=r.offsetWidth;return(e=n.parentNode)==null||e.removeChild(n),af=i-s,af};function ly(t,e){if(!nn)return;if(!e){t.scrollTop=0;return}const n=[];let i=e.offsetParent;for(;i!==null&&t!==i&&t.contains(i);)n.push(i),i=i.offsetParent;const r=e.offsetTop+n.reduce((l,c)=>l+c.offsetTop,0),s=r+e.offsetHeight,a=t.scrollTop,o=a+t.clientHeight;r<a?t.scrollTop=r:s>o&&(t.scrollTop=s-t.clientHeight)}function yz(t,e,n,i,r){const s=Date.now();let a;const o=()=>{const c=Date.now()-s,d=xF(c>i?i:c,e,n,i);yp(t)?t.scrollTo(window.pageXOffset,d):t.scrollTop=d,c<i?a=yo(o):typeof r=="function"&&r()};return o(),()=>{a&&wl(a)}}const h1=(t,e)=>yp(e)?t.ownerDocument.documentElement:e,p1=t=>yp(t)?window.scrollY:t.scrollTop,of=t=>{if(!nn||t==="")return null;if(Wt(t))try{return document.querySelector(t)}catch{return null}return t},xx="__epPropKey",_e=t=>t,_z=t=>Sn(t)&&!!t[xx],$s=(t,e)=>{if(!Sn(t)||_z(t))return t;const{values:n,required:i,default:r,type:s,validator:a}=t,l={type:s,required:!!i,validator:n||a?c=>{let d=!1,p=[];if(n&&(p=Array.from(n),qi(t,"default")&&p.push(r),d||(d=p.includes(c))),a&&(d||(d=a(c))),!d&&p.length>0){const v=[...new Set(p)].map(g=>JSON.stringify(g)).join(", ");UR(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${v}], got value ${JSON.stringify(c)}.`)}return d}:void 0,[xx]:!0};return qi(t,"default")&&(l.default=r),l},Ge=t=>od(Object.entries(t).map(([e,n])=>[e,$s(n,e)])),En=_e([String,Object,Function]),uy={Close:Bs},cy={Close:Bs,SuccessFilled:u2,InfoFilled:B0,WarningFilled:cp,CircleCloseFilled:F0},_o={success:u2,warning:cp,error:F0,info:B0},dy={validating:ra,success:D0,error:To},Ft=(t,e)=>{if(t.install=n=>{for(const i of[t,...Object.values(e??{})])n.component(i.name,i)},e)for(const[n,i]of Object.entries(e))t[n]=i;return t},Mx=(t,e)=>(t.install=n=>{t._context=n._context,n.config.globalProperties[e]=t},t),bz=(t,e)=>(t.install=n=>{n.directive(e,t)},t),Vn=t=>(t.install=Yn,t),_p=(...t)=>e=>{t.forEach(n=>{cn(n)?n(e):n.value=e})},Et={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},wz=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"],vm=["sun","mon","tue","wed","thu","fri","sat"],Kt="update:modelValue",Nn="change",gr="input",m1=Symbol("INSTALLED_KEY"),ca=["","default","small","large"],Tx=t=>["",...ca].includes(t);var ss=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(ss||{});function Yv(t){return ri(t)&&t.type===ct}function Sz(t){return ri(t)&&t.type===x0}function Ez(t){return ri(t)&&!Yv(t)&&!Sz(t)}const Cz=t=>{if(!ri(t))return{};const e=t.props||{},n=(ri(t.type)?t.type.props:void 0)||{},i={};return Object.keys(n).forEach(r=>{qi(n[r],"default")&&(i[r]=n[r].default)}),Object.keys(e).forEach(r=>{i[UC(r)]=e[r]}),i},xz=t=>{if(!Ot(t)||t.length>1)throw new Error("expect to receive a single Vue element child");return t[0]},ao=t=>{const e=Ot(t)?t:[t],n=[];return e.forEach(i=>{var r;Ot(i)?n.push(...ao(i)):ri(i)&&Ot(i.children)?n.push(...ao(i.children)):(n.push(i),ri(i)&&((r=i.component)!=null&&r.subTree)&&n.push(...ao(i.component.subTree)))}),n},v1=t=>[...new Set(t)],mr=t=>!t&&t!==0?[]:Array.isArray(t)?t:[t],Mz=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t),Un=t=>t;function Tz(t){let e=0;const n=(...i)=>{e&&wl(e),e=yo(()=>{t(...i),e=0})};return n.cancel=()=>{wl(e),e=0},n}const Az=["class","style"],kz=/^on[A-Z]/,fy=(t={})=>{const{excludeListeners:e=!1,excludeKeys:n}=t,i=L(()=>((n==null?void 0:n.value)||[]).concat(Az)),r=Yt();return r?L(()=>{var s;return od(Object.entries((s=r.proxy)==null?void 0:s.$attrs).filter(([a])=>!i.value.includes(a)&&!(e&&kz.test(a))))}):L(()=>({}))},oo=({from:t,replacement:e,scope:n,version:i,ref:r,type:s="API"},a)=>{Le(()=>f(a),o=>{},{immediate:!0})},Ax=(t,e,n,i)=>{let r={offsetX:0,offsetY:0};const s=c=>{const d=c.clientX,p=c.clientY,{offsetX:v,offsetY:g}=r,y=t.value.getBoundingClientRect(),_=y.left,w=y.top,b=y.width,M=y.height,E=document.documentElement.clientWidth,x=document.documentElement.clientHeight,T=-_+v,k=-w+g,I=E-_-b+v,O=x-w-M+g,U=N=>{let $=v+N.clientX-d,J=g+N.clientY-p;i!=null&&i.value||($=Math.min(Math.max($,T),I),J=Math.min(Math.max(J,k),O)),r={offsetX:$,offsetY:J},t.value&&(t.value.style.transform=`translate(${Jn($)}, ${Jn(J)})`)},R=()=>{document.removeEventListener("mousemove",U),document.removeEventListener("mouseup",R)};document.addEventListener("mousemove",U),document.addEventListener("mouseup",R)},a=()=>{e.value&&t.value&&e.value.addEventListener("mousedown",s)},o=()=>{e.value&&t.value&&e.value.removeEventListener("mousedown",s)},l=()=>{r={offsetX:0,offsetY:0},t.value&&(t.value.style.transform="none")};return St(()=>{gi(()=>{n.value?a():o()})}),Tn(()=>{o()}),{resetPosition:l}};var Pz={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const Rz=t=>(e,n)=>Iz(e,n,f(t)),Iz=(t,e,n)=>ni(n,t,t).replace(/\{(\w+)\}/g,(i,r)=>{var s;return`${(s=e==null?void 0:e[r])!=null?s:`{${r}}`}`}),Lz=t=>{const e=L(()=>f(t).name),n=nr(t)?t:W(t);return{lang:e,locale:n,t:Rz(t)}},kx=Symbol("localeContextKey"),rn=t=>{const e=t||dt(kx,W());return Lz(L(()=>e.value||Pz))},Xc="el",Nz="is-",Uo=(t,e,n,i,r)=>{let s=`${t}-${e}`;return n&&(s+=`-${n}`),i&&(s+=`__${i}`),r&&(s+=`--${r}`),s},Px=Symbol("namespaceContextKey"),hy=t=>{const e=t||(Yt()?dt(Px,W(Xc)):W(Xc));return L(()=>f(e)||Xc)},Fe=(t,e)=>{const n=hy(e);return{namespace:n,b:(_="")=>Uo(n.value,t,_,"",""),e:_=>_?Uo(n.value,t,"",_,""):"",m:_=>_?Uo(n.value,t,"","",_):"",be:(_,w)=>_&&w?Uo(n.value,t,_,w,""):"",em:(_,w)=>_&&w?Uo(n.value,t,"",_,w):"",bm:(_,w)=>_&&w?Uo(n.value,t,_,"",w):"",bem:(_,w,b)=>_&&w&&b?Uo(n.value,t,_,w,b):"",is:(_,...w)=>{const b=w.length>=1?w[0]:!0;return _&&b?`${Nz}${_}`:""},cssVar:_=>{const w={};for(const b in _)_[b]&&(w[`--${n.value}-${b}`]=_[b]);return w},cssVarName:_=>`--${n.value}-${_}`,cssVarBlock:_=>{const w={};for(const b in _)_[b]&&(w[`--${n.value}-${t}-${b}`]=_[b]);return w},cssVarBlockName:_=>`--${n.value}-${t}-${_}`}},py=(t,e={})=>{nr(t)||yi("[useLockscreen]","You need to pass a ref param to this function");const n=e.ns||Fe("popup"),i=L(()=>n.bm("parent","hidden"));if(!nn||kr(document.body,i.value))return;let r=0,s=!1,a="0";const o=()=>{setTimeout(()=>{rr(document==null?void 0:document.body,i.value),s&&document&&(document.body.style.width=a)},200)};Le(t,l=>{if(!l){o();return}s=!kr(document.body,i.value),s&&(a=document.body.style.width),r=Cx(n.namespace.value);const c=document.documentElement.clientHeight<document.body.scrollHeight,d=to(document.body,"overflowY");r>0&&(c||d==="scroll")&&s&&(document.body.style.width=`calc(100% - ${r}px)`),us(document.body,i.value)}),C0(()=>o())},Oz=$s({type:_e(Boolean),default:null}),Dz=$s({type:_e(Function)}),Rx=t=>{const e=`update:${t}`,n=`onUpdate:${t}`,i=[e],r={[t]:Oz,[n]:Dz};return{useModelToggle:({indicator:a,toggleReason:o,shouldHideWhenRouteChanges:l,shouldProceed:c,onShow:d,onHide:p})=>{const v=Yt(),{emit:g}=v,y=v.props,_=L(()=>cn(y[n])),w=L(()=>y[t]===null),b=I=>{a.value!==!0&&(a.value=!0,o&&(o.value=I),cn(d)&&d(I))},M=I=>{a.value!==!1&&(a.value=!1,o&&(o.value=I),cn(p)&&p(I))},E=I=>{if(y.disabled===!0||cn(c)&&!c())return;const O=_.value&&nn;O&&g(e,!0),(w.value||!O)&&b(I)},x=I=>{if(y.disabled===!0||!nn)return;const O=_.value&&nn;O&&g(e,!1),(w.value||!O)&&M(I)},T=I=>{Gn(I)&&(y.disabled&&I?_.value&&g(e,!1):a.value!==I&&(I?b():M()))},k=()=>{a.value?x():E()};return Le(()=>y[t],T),l&&v.appContext.config.globalProperties.$route!==void 0&&Le(()=>({...v.proxy.$route}),()=>{l.value&&a.value&&x()}),St(()=>{T(y[t])}),{hide:x,show:E,toggle:k,hasUpdateHandler:_}},useModelToggleProps:r,useModelToggleEmits:i}};Rx("modelValue");const Ix=t=>{const e=Yt();return L(()=>{var n,i;return(i=(n=e==null?void 0:e.proxy)==null?void 0:n.$props)==null?void 0:i[t]})};var Ir="top",ms="bottom",vs="right",Lr="left",my="auto",Od=[Ir,ms,vs,Lr],Du="start",ld="end",Fz="clippingParents",Lx="viewport",Ic="popper",Bz="reference",g1=Od.reduce(function(t,e){return t.concat([e+"-"+Du,e+"-"+ld])},[]),Va=[].concat(Od,[my]).reduce(function(t,e){return t.concat([e,e+"-"+Du,e+"-"+ld])},[]),Uz="beforeRead",Vz="read",zz="afterRead",$z="beforeMain",Hz="main",Gz="afterMain",Wz="beforeWrite",Kz="write",qz="afterWrite",Yz=[Uz,Vz,zz,$z,Hz,Gz,Wz,Kz,qz];function aa(t){return t?(t.nodeName||"").toLowerCase():null}function Hs(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Fu(t){var e=Hs(t).Element;return t instanceof e||t instanceof Element}function fs(t){var e=Hs(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function vy(t){if(typeof ShadowRoot>"u")return!1;var e=Hs(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function jz(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},s=e.elements[n];!fs(s)||!aa(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(a){var o=r[a];o===!1?s.removeAttribute(a):s.setAttribute(a,o===!0?"":o)}))})}function Xz(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],s=e.attributes[i]||{},a=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),o=a.reduce(function(l,c){return l[c]="",l},{});!fs(r)||!aa(r)||(Object.assign(r.style,o),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}var Nx={name:"applyStyles",enabled:!0,phase:"write",fn:jz,effect:Xz,requires:["computeStyles"]};function ia(t){return t.split("-")[0]}var ul=Math.max,Mh=Math.min,Bu=Math.round;function Uu(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),i=1,r=1;if(fs(t)&&e){var s=t.offsetHeight,a=t.offsetWidth;a>0&&(i=Bu(n.width)/a||1),s>0&&(r=Bu(n.height)/s||1)}return{width:n.width/i,height:n.height/r,top:n.top/r,right:n.right/i,bottom:n.bottom/r,left:n.left/i,x:n.left/i,y:n.top/r}}function gy(t){var e=Uu(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function Ox(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&vy(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Ra(t){return Hs(t).getComputedStyle(t)}function Zz(t){return["table","td","th"].indexOf(aa(t))>=0}function ko(t){return((Fu(t)?t.ownerDocument:t.document)||window.document).documentElement}function bp(t){return aa(t)==="html"?t:t.assignedSlot||t.parentNode||(vy(t)?t.host:null)||ko(t)}function y1(t){return!fs(t)||Ra(t).position==="fixed"?null:t.offsetParent}function Jz(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&fs(t)){var i=Ra(t);if(i.position==="fixed")return null}var r=bp(t);for(vy(r)&&(r=r.host);fs(r)&&["html","body"].indexOf(aa(r))<0;){var s=Ra(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function Dd(t){for(var e=Hs(t),n=y1(t);n&&Zz(n)&&Ra(n).position==="static";)n=y1(n);return n&&(aa(n)==="html"||aa(n)==="body"&&Ra(n).position==="static")?e:n||Jz(t)||e}function yy(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Zc(t,e,n){return ul(t,Mh(e,n))}function Qz(t,e,n){var i=Zc(t,e,n);return i>n?n:i}function Dx(){return{top:0,right:0,bottom:0,left:0}}function Fx(t){return Object.assign({},Dx(),t)}function Bx(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var e$=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,Fx(typeof t!="number"?t:Bx(t,Od))};function t$(t){var e,n=t.state,i=t.name,r=t.options,s=n.elements.arrow,a=n.modifiersData.popperOffsets,o=ia(n.placement),l=yy(o),c=[Lr,vs].indexOf(o)>=0,d=c?"height":"width";if(!(!s||!a)){var p=e$(r.padding,n),v=gy(s),g=l==="y"?Ir:Lr,y=l==="y"?ms:vs,_=n.rects.reference[d]+n.rects.reference[l]-a[l]-n.rects.popper[d],w=a[l]-n.rects.reference[l],b=Dd(s),M=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,E=_/2-w/2,x=p[g],T=M-v[d]-p[y],k=M/2-v[d]/2+E,I=Zc(x,k,T),O=l;n.modifiersData[i]=(e={},e[O]=I,e.centerOffset=I-k,e)}}function n$(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||!Ox(e.elements.popper,r)||(e.elements.arrow=r))}var i$={name:"arrow",enabled:!0,phase:"main",fn:t$,effect:n$,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Vu(t){return t.split("-")[1]}var r$={top:"auto",right:"auto",bottom:"auto",left:"auto"};function s$(t){var e=t.x,n=t.y,i=window,r=i.devicePixelRatio||1;return{x:Bu(e*r)/r||0,y:Bu(n*r)/r||0}}function _1(t){var e,n=t.popper,i=t.popperRect,r=t.placement,s=t.variation,a=t.offsets,o=t.position,l=t.gpuAcceleration,c=t.adaptive,d=t.roundOffsets,p=t.isFixed,v=a.x,g=v===void 0?0:v,y=a.y,_=y===void 0?0:y,w=typeof d=="function"?d({x:g,y:_}):{x:g,y:_};g=w.x,_=w.y;var b=a.hasOwnProperty("x"),M=a.hasOwnProperty("y"),E=Lr,x=Ir,T=window;if(c){var k=Dd(n),I="clientHeight",O="clientWidth";if(k===Hs(n)&&(k=ko(n),Ra(k).position!=="static"&&o==="absolute"&&(I="scrollHeight",O="scrollWidth")),k=k,r===Ir||(r===Lr||r===vs)&&s===ld){x=ms;var U=p&&k===T&&T.visualViewport?T.visualViewport.height:k[I];_-=U-i.height,_*=l?1:-1}if(r===Lr||(r===Ir||r===ms)&&s===ld){E=vs;var R=p&&k===T&&T.visualViewport?T.visualViewport.width:k[O];g-=R-i.width,g*=l?1:-1}}var N=Object.assign({position:o},c&&r$),$=d===!0?s$({x:g,y:_}):{x:g,y:_};if(g=$.x,_=$.y,l){var J;return Object.assign({},N,(J={},J[x]=M?"0":"",J[E]=b?"0":"",J.transform=(T.devicePixelRatio||1)<=1?"translate("+g+"px, "+_+"px)":"translate3d("+g+"px, "+_+"px, 0)",J))}return Object.assign({},N,(e={},e[x]=M?_+"px":"",e[E]=b?g+"px":"",e.transform="",e))}function a$(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,s=n.adaptive,a=s===void 0?!0:s,o=n.roundOffsets,l=o===void 0?!0:o,c={placement:ia(e.placement),variation:Vu(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,_1(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,_1(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Ux={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:a$,data:{}},lf={passive:!0};function o$(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,s=r===void 0?!0:r,a=i.resize,o=a===void 0?!0:a,l=Hs(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(d){d.addEventListener("scroll",n.update,lf)}),o&&l.addEventListener("resize",n.update,lf),function(){s&&c.forEach(function(d){d.removeEventListener("scroll",n.update,lf)}),o&&l.removeEventListener("resize",n.update,lf)}}var Vx={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:o$,data:{}},l$={left:"right",right:"left",bottom:"top",top:"bottom"};function nh(t){return t.replace(/left|right|bottom|top/g,function(e){return l$[e]})}var u$={start:"end",end:"start"};function b1(t){return t.replace(/start|end/g,function(e){return u$[e]})}function _y(t){var e=Hs(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function by(t){return Uu(ko(t)).left+_y(t).scrollLeft}function c$(t){var e=Hs(t),n=ko(t),i=e.visualViewport,r=n.clientWidth,s=n.clientHeight,a=0,o=0;return i&&(r=i.width,s=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=i.offsetLeft,o=i.offsetTop)),{width:r,height:s,x:a+by(t),y:o}}function d$(t){var e,n=ko(t),i=_y(t),r=(e=t.ownerDocument)==null?void 0:e.body,s=ul(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=ul(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),o=-i.scrollLeft+by(t),l=-i.scrollTop;return Ra(r||n).direction==="rtl"&&(o+=ul(n.clientWidth,r?r.clientWidth:0)-s),{width:s,height:a,x:o,y:l}}function wy(t){var e=Ra(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function zx(t){return["html","body","#document"].indexOf(aa(t))>=0?t.ownerDocument.body:fs(t)&&wy(t)?t:zx(bp(t))}function Jc(t,e){var n;e===void 0&&(e=[]);var i=zx(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),s=Hs(i),a=r?[s].concat(s.visualViewport||[],wy(i)?i:[]):i,o=e.concat(a);return r?o:o.concat(Jc(bp(a)))}function jv(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function f$(t){var e=Uu(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function w1(t,e){return e===Lx?jv(c$(t)):Fu(e)?f$(e):jv(d$(ko(t)))}function h$(t){var e=Jc(bp(t)),n=["absolute","fixed"].indexOf(Ra(t).position)>=0,i=n&&fs(t)?Dd(t):t;return Fu(i)?e.filter(function(r){return Fu(r)&&Ox(r,i)&&aa(r)!=="body"}):[]}function p$(t,e,n){var i=e==="clippingParents"?h$(t):[].concat(e),r=[].concat(i,[n]),s=r[0],a=r.reduce(function(o,l){var c=w1(t,l);return o.top=ul(c.top,o.top),o.right=Mh(c.right,o.right),o.bottom=Mh(c.bottom,o.bottom),o.left=ul(c.left,o.left),o},w1(t,s));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function $x(t){var e=t.reference,n=t.element,i=t.placement,r=i?ia(i):null,s=i?Vu(i):null,a=e.x+e.width/2-n.width/2,o=e.y+e.height/2-n.height/2,l;switch(r){case Ir:l={x:a,y:e.y-n.height};break;case ms:l={x:a,y:e.y+e.height};break;case vs:l={x:e.x+e.width,y:o};break;case Lr:l={x:e.x-n.width,y:o};break;default:l={x:e.x,y:e.y}}var c=r?yy(r):null;if(c!=null){var d=c==="y"?"height":"width";switch(s){case Du:l[c]=l[c]-(e[d]/2-n[d]/2);break;case ld:l[c]=l[c]+(e[d]/2-n[d]/2);break}}return l}function ud(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,s=n.boundary,a=s===void 0?Fz:s,o=n.rootBoundary,l=o===void 0?Lx:o,c=n.elementContext,d=c===void 0?Ic:c,p=n.altBoundary,v=p===void 0?!1:p,g=n.padding,y=g===void 0?0:g,_=Fx(typeof y!="number"?y:Bx(y,Od)),w=d===Ic?Bz:Ic,b=t.rects.popper,M=t.elements[v?w:d],E=p$(Fu(M)?M:M.contextElement||ko(t.elements.popper),a,l),x=Uu(t.elements.reference),T=$x({reference:x,element:b,strategy:"absolute",placement:r}),k=jv(Object.assign({},b,T)),I=d===Ic?k:x,O={top:E.top-I.top+_.top,bottom:I.bottom-E.bottom+_.bottom,left:E.left-I.left+_.left,right:I.right-E.right+_.right},U=t.modifiersData.offset;if(d===Ic&&U){var R=U[r];Object.keys(O).forEach(function(N){var $=[vs,ms].indexOf(N)>=0?1:-1,J=[Ir,ms].indexOf(N)>=0?"y":"x";O[N]+=R[J]*$})}return O}function m$(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,s=n.rootBoundary,a=n.padding,o=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Va:l,d=Vu(i),p=d?o?g1:g1.filter(function(y){return Vu(y)===d}):Od,v=p.filter(function(y){return c.indexOf(y)>=0});v.length===0&&(v=p);var g=v.reduce(function(y,_){return y[_]=ud(t,{placement:_,boundary:r,rootBoundary:s,padding:a})[ia(_)],y},{});return Object.keys(g).sort(function(y,_){return g[y]-g[_]})}function v$(t){if(ia(t)===my)return[];var e=nh(t);return[b1(t),e,b1(e)]}function g$(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,s=r===void 0?!0:r,a=n.altAxis,o=a===void 0?!0:a,l=n.fallbackPlacements,c=n.padding,d=n.boundary,p=n.rootBoundary,v=n.altBoundary,g=n.flipVariations,y=g===void 0?!0:g,_=n.allowedAutoPlacements,w=e.options.placement,b=ia(w),M=b===w,E=l||(M||!y?[nh(w)]:v$(w)),x=[w].concat(E).reduce(function(le,ye){return le.concat(ia(ye)===my?m$(e,{placement:ye,boundary:d,rootBoundary:p,padding:c,flipVariations:y,allowedAutoPlacements:_}):ye)},[]),T=e.rects.reference,k=e.rects.popper,I=new Map,O=!0,U=x[0],R=0;R<x.length;R++){var N=x[R],$=ia(N),J=Vu(N)===Du,Y=[Ir,ms].indexOf($)>=0,H=Y?"width":"height",B=ud(e,{placement:N,boundary:d,rootBoundary:p,altBoundary:v,padding:c}),X=Y?J?vs:Lr:J?ms:Ir;T[H]>k[H]&&(X=nh(X));var q=nh(X),D=[];if(s&&D.push(B[$]<=0),o&&D.push(B[X]<=0,B[q]<=0),D.every(function(le){return le})){U=N,O=!1;break}I.set(N,D)}if(O)for(var V=y?3:1,ee=function(le){var ye=x.find(function(Ee){var pe=I.get(Ee);if(pe)return pe.slice(0,le).every(function(ue){return ue})});if(ye)return U=ye,"break"},ce=V;ce>0;ce--){var ae=ee(ce);if(ae==="break")break}e.placement!==U&&(e.modifiersData[i]._skip=!0,e.placement=U,e.reset=!0)}}var y$={name:"flip",enabled:!0,phase:"main",fn:g$,requiresIfExists:["offset"],data:{_skip:!1}};function S1(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function E1(t){return[Ir,vs,ms,Lr].some(function(e){return t[e]>=0})}function _$(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,a=ud(e,{elementContext:"reference"}),o=ud(e,{altBoundary:!0}),l=S1(a,i),c=S1(o,r,s),d=E1(l),p=E1(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}var b$={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:_$};function w$(t,e,n){var i=ia(t),r=[Lr,Ir].indexOf(i)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=s[0],o=s[1];return a=a||0,o=(o||0)*r,[Lr,vs].indexOf(i)>=0?{x:o,y:a}:{x:a,y:o}}function S$(t){var e=t.state,n=t.options,i=t.name,r=n.offset,s=r===void 0?[0,0]:r,a=Va.reduce(function(d,p){return d[p]=w$(p,e.rects,s),d},{}),o=a[e.placement],l=o.x,c=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=a}var E$={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:S$};function C$(t){var e=t.state,n=t.name;e.modifiersData[n]=$x({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Hx={name:"popperOffsets",enabled:!0,phase:"read",fn:C$,data:{}};function x$(t){return t==="x"?"y":"x"}function M$(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,s=r===void 0?!0:r,a=n.altAxis,o=a===void 0?!1:a,l=n.boundary,c=n.rootBoundary,d=n.altBoundary,p=n.padding,v=n.tether,g=v===void 0?!0:v,y=n.tetherOffset,_=y===void 0?0:y,w=ud(e,{boundary:l,rootBoundary:c,padding:p,altBoundary:d}),b=ia(e.placement),M=Vu(e.placement),E=!M,x=yy(b),T=x$(x),k=e.modifiersData.popperOffsets,I=e.rects.reference,O=e.rects.popper,U=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,R=typeof U=="number"?{mainAxis:U,altAxis:U}:Object.assign({mainAxis:0,altAxis:0},U),N=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,$={x:0,y:0};if(k){if(s){var J,Y=x==="y"?Ir:Lr,H=x==="y"?ms:vs,B=x==="y"?"height":"width",X=k[x],q=X+w[Y],D=X-w[H],V=g?-O[B]/2:0,ee=M===Du?I[B]:O[B],ce=M===Du?-O[B]:-I[B],ae=e.elements.arrow,le=g&&ae?gy(ae):{width:0,height:0},ye=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Dx(),Ee=ye[Y],pe=ye[H],ue=Zc(0,I[B],le[B]),Me=E?I[B]/2-V-ue-Ee-R.mainAxis:ee-ue-Ee-R.mainAxis,De=E?-I[B]/2+V+ue+pe+R.mainAxis:ce+ue+pe+R.mainAxis,xe=e.elements.arrow&&Dd(e.elements.arrow),G=xe?x==="y"?xe.clientTop||0:xe.clientLeft||0:0,He=(J=N==null?void 0:N[x])!=null?J:0,Je=X+Me-He-G,at=X+De-He,rt=Zc(g?Mh(q,Je):q,X,g?ul(D,at):D);k[x]=rt,$[x]=rt-X}if(o){var it,qe=x==="x"?Ir:Lr,ne=x==="x"?ms:vs,se=k[T],ke=T==="y"?"height":"width",Be=se+w[qe],Ve=se-w[ne],Ae=[Ir,Lr].indexOf(b)!==-1,Re=(it=N==null?void 0:N[T])!=null?it:0,Xe=Ae?Be:se-I[ke]-O[ke]-Re+R.altAxis,gt=Ae?se+I[ke]+O[ke]-Re-R.altAxis:Ve,nt=g&&Ae?Qz(Xe,se,gt):Zc(g?Xe:Be,se,g?gt:Ve);k[T]=nt,$[T]=nt-se}e.modifiersData[i]=$}}var T$={name:"preventOverflow",enabled:!0,phase:"main",fn:M$,requiresIfExists:["offset"]};function A$(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function k$(t){return t===Hs(t)||!fs(t)?_y(t):A$(t)}function P$(t){var e=t.getBoundingClientRect(),n=Bu(e.width)/t.offsetWidth||1,i=Bu(e.height)/t.offsetHeight||1;return n!==1||i!==1}function R$(t,e,n){n===void 0&&(n=!1);var i=fs(e),r=fs(e)&&P$(e),s=ko(e),a=Uu(t,r),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((aa(e)!=="body"||wy(s))&&(o=k$(e)),fs(e)?(l=Uu(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=by(s))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function I$(t){var e=new Map,n=new Set,i=[];t.forEach(function(s){e.set(s.name,s)});function r(s){n.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(o){if(!n.has(o)){var l=e.get(o);l&&r(l)}}),i.push(s)}return t.forEach(function(s){n.has(s.name)||r(s)}),i}function L$(t){var e=I$(t);return Yz.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function N$(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function O$(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var C1={placement:"bottom",modifiers:[],strategy:"absolute"};function x1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Sy(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,s=r===void 0?C1:r;return function(a,o,l){l===void 0&&(l=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},C1,s),modifiersData:{},elements:{reference:a,popper:o},attributes:{},styles:{}},d=[],p=!1,v={state:c,setOptions:function(_){var w=typeof _=="function"?_(c.options):_;y(),c.options=Object.assign({},s,c.options,w),c.scrollParents={reference:Fu(a)?Jc(a):a.contextElement?Jc(a.contextElement):[],popper:Jc(o)};var b=L$(O$([].concat(i,c.options.modifiers)));return c.orderedModifiers=b.filter(function(M){return M.enabled}),g(),v.update()},forceUpdate:function(){if(!p){var _=c.elements,w=_.reference,b=_.popper;if(x1(w,b)){c.rects={reference:R$(w,Dd(b),c.options.strategy==="fixed"),popper:gy(b)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(O){return c.modifiersData[O.name]=Object.assign({},O.data)});for(var M=0;M<c.orderedModifiers.length;M++){if(c.reset===!0){c.reset=!1,M=-1;continue}var E=c.orderedModifiers[M],x=E.fn,T=E.options,k=T===void 0?{}:T,I=E.name;typeof x=="function"&&(c=x({state:c,options:k,name:I,instance:v})||c)}}}},update:N$(function(){return new Promise(function(_){v.forceUpdate(),_(c)})}),destroy:function(){y(),p=!0}};if(!x1(a,o))return v;v.setOptions(l).then(function(_){!p&&l.onFirstUpdate&&l.onFirstUpdate(_)});function g(){c.orderedModifiers.forEach(function(_){var w=_.name,b=_.options,M=b===void 0?{}:b,E=_.effect;if(typeof E=="function"){var x=E({state:c,name:w,instance:v,options:M}),T=function(){};d.push(x||T)}})}function y(){d.forEach(function(_){return _()}),d=[]}return v}}Sy();var D$=[Vx,Hx,Ux,Nx];Sy({defaultModifiers:D$});var F$=[Vx,Hx,Ux,Nx,E$,y$,T$,i$,b$],B$=Sy({defaultModifiers:F$});const U$=(t,e,n={})=>{const i={name:"updateState",enabled:!0,phase:"write",fn:({state:l})=>{const c=V$(l);Object.assign(a.value,c)},requires:["computeStyles"]},r=L(()=>{const{onFirstUpdate:l,placement:c,strategy:d,modifiers:p}=f(n);return{onFirstUpdate:l,placement:c||"bottom",strategy:d||"absolute",modifiers:[...p||[],i,{name:"applyStyles",enabled:!1}]}}),s=An(),a=W({styles:{popper:{position:f(r).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),o=()=>{s.value&&(s.value.destroy(),s.value=void 0)};return Le(r,l=>{const c=f(s);c&&c.setOptions(l)},{deep:!0}),Le([t,e],([l,c])=>{o(),!(!l||!c)&&(s.value=B$(l,c,f(r)))}),Tn(()=>{o()}),{state:L(()=>{var l;return{...((l=f(s))==null?void 0:l.state)||{}}}),styles:L(()=>f(a).styles),attributes:L(()=>f(a).attributes),update:()=>{var l;return(l=f(s))==null?void 0:l.update()},forceUpdate:()=>{var l;return(l=f(s))==null?void 0:l.forceUpdate()},instanceRef:L(()=>f(s))}};function V$(t){const e=Object.keys(t.elements),n=od(e.map(r=>[r,t.styles[r]||{}])),i=od(e.map(r=>[r,t.attributes[r]]));return{styles:n,attributes:i}}const Ey=t=>{if(!t)return{onClick:Yn,onMousedown:Yn,onMouseup:Yn};let e=!1,n=!1;return{onClick:a=>{e&&n&&t(a),e=n=!1},onMousedown:a=>{e=a.target===a.currentTarget},onMouseup:a=>{n=a.target===a.currentTarget}}},z$=(t,e=0)=>{if(e===0)return t;const n=W(!1);let i=null;const r=()=>{i&&clearTimeout(i),i=setTimeout(()=>{n.value=t.value},e)};return St(r),Le(()=>t.value,s=>{s?r():n.value=s}),n};function M1(){let t;const e=(i,r)=>{n(),t=window.setTimeout(i,r)},n=()=>window.clearTimeout(t);return kd(()=>n()),{registerTimeout:e,cancelTimeout:n}}const T1={prefix:Math.floor(Math.random()*1e4),current:0},$$=Symbol("elIdInjection"),Cy=()=>Yt()?dt($$,T1):T1,zi=t=>{const e=Cy(),n=hy();return L(()=>f(t)||`${n.value}-id-${e.prefix}-${e.current++}`)};let du=[];const A1=t=>{const e=t;e.key===Et.esc&&du.forEach(n=>n(e))},H$=t=>{St(()=>{du.length===0&&document.addEventListener("keydown",A1),nn&&du.push(t)}),Tn(()=>{du=du.filter(e=>e!==t),du.length===0&&nn&&document.removeEventListener("keydown",A1)})};let k1;const Gx=()=>{const t=hy(),e=Cy(),n=L(()=>`${t.value}-popper-container-${e.prefix}`),i=L(()=>`#${n.value}`);return{id:n,selector:i}},G$=t=>{const e=document.createElement("div");return e.id=t,document.body.appendChild(e),e},W$=()=>{const{id:t,selector:e}=Gx();return M0(()=>{nn&&(!k1||!document.body.querySelector(e.value))&&(k1=G$(t.value))}),{id:t,selector:e}},K$=Ge({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),q$=({showAfter:t,hideAfter:e,autoClose:n,open:i,close:r})=>{const{registerTimeout:s}=M1(),{registerTimeout:a,cancelTimeout:o}=M1();return{onOpen:d=>{s(()=>{i(d);const p=f(n);Pt(p)&&p>0&&a(()=>{r(d)},p)},f(t))},onClose:d=>{o(),s(()=>{r(d)},f(e))}}},Wx=Symbol("elForwardRef"),Y$=t=>{Jt(Wx,{setForwardRef:n=>{t.value=n}})},j$=t=>({mounted(e){t(e)},updated(e){t(e)},unmounted(){t(null)}}),P1={current:0},R1=W(0),Kx=2e3,I1=Symbol("elZIndexContextKey"),qx=Symbol("zIndexContextKey"),oc=t=>{const e=Yt()?dt(I1,P1):P1,n=t||(Yt()?dt(qx,void 0):void 0),i=L(()=>{const a=f(n);return Pt(a)?a:Kx}),r=L(()=>i.value+R1.value),s=()=>(e.current++,R1.value=e.current,r.value);return!nn&&dt(I1),{initialZIndex:i,currentZIndex:r,nextZIndex:s}},zu=Math.min,cl=Math.max,Th=Math.round,uf=Math.floor,bo=t=>({x:t,y:t}),X$={left:"right",right:"left",bottom:"top",top:"bottom"},Z$={start:"end",end:"start"};function Xv(t,e,n){return cl(t,zu(e,n))}function Fd(t,e){return typeof t=="function"?t(e):t}function Sl(t){return t.split("-")[0]}function Bd(t){return t.split("-")[1]}function Yx(t){return t==="x"?"y":"x"}function xy(t){return t==="y"?"height":"width"}function $u(t){return["top","bottom"].includes(Sl(t))?"y":"x"}function My(t){return Yx($u(t))}function J$(t,e,n){n===void 0&&(n=!1);const i=Bd(t),r=My(t),s=xy(r);let a=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Ah(a)),[a,Ah(a)]}function Q$(t){const e=Ah(t);return[Zv(t),e,Zv(e)]}function Zv(t){return t.replace(/start|end/g,e=>Z$[e])}function eH(t,e,n){const i=["left","right"],r=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:i:e?i:r;case"left":case"right":return e?s:a;default:return[]}}function tH(t,e,n,i){const r=Bd(t);let s=eH(Sl(t),n==="start",i);return r&&(s=s.map(a=>a+"-"+r),e&&(s=s.concat(s.map(Zv)))),s}function Ah(t){return t.replace(/left|right|bottom|top/g,e=>X$[e])}function nH(t){return{top:0,right:0,bottom:0,left:0,...t}}function jx(t){return typeof t!="number"?nH(t):{top:t,right:t,bottom:t,left:t}}function kh(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function L1(t,e,n){let{reference:i,floating:r}=t;const s=$u(e),a=My(e),o=xy(a),l=Sl(e),c=s==="y",d=i.x+i.width/2-r.width/2,p=i.y+i.height/2-r.height/2,v=i[o]/2-r[o]/2;let g;switch(l){case"top":g={x:d,y:i.y-r.height};break;case"bottom":g={x:d,y:i.y+i.height};break;case"right":g={x:i.x+i.width,y:p};break;case"left":g={x:i.x-r.width,y:p};break;default:g={x:i.x,y:i.y}}switch(Bd(e)){case"start":g[a]-=v*(n&&c?-1:1);break;case"end":g[a]+=v*(n&&c?-1:1);break}return g}const iH=async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:r}),{x:d,y:p}=L1(c,i,l),v=i,g={},y=0;for(let _=0;_<o.length;_++){const{name:w,fn:b}=o[_],{x:M,y:E,data:x,reset:T}=await b({x:d,y:p,initialPlacement:i,placement:v,strategy:r,middlewareData:g,rects:c,platform:a,elements:{reference:t,floating:e}});d=M??d,p=E??p,g={...g,[w]:{...g[w],...x}},T&&y<=50&&(y++,typeof T=="object"&&(T.placement&&(v=T.placement),T.rects&&(c=T.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:r}):T.rects),{x:d,y:p}=L1(c,v,l)),_=-1)}return{x:d,y:p,placement:v,strategy:r,middlewareData:g}};async function Ty(t,e){var n;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:a,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:v=!1,padding:g=0}=Fd(e,t),y=jx(g),w=o[v?p==="floating"?"reference":"floating":p],b=kh(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),M=p==="floating"?{x:i,y:r,width:a.floating.width,height:a.floating.height}:a.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),x=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},T=kh(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:M,offsetParent:E,strategy:l}):M);return{top:(b.top-T.top+y.top)/x.y,bottom:(T.bottom-b.bottom+y.bottom)/x.y,left:(b.left-T.left+y.left)/x.x,right:(T.right-b.right+y.right)/x.x}}const rH=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:c,padding:d=0}=Fd(t,e)||{};if(c==null)return{};const p=jx(d),v={x:n,y:i},g=My(r),y=xy(g),_=await a.getDimensions(c),w=g==="y",b=w?"top":"left",M=w?"bottom":"right",E=w?"clientHeight":"clientWidth",x=s.reference[y]+s.reference[g]-v[g]-s.floating[y],T=v[g]-s.reference[g],k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let I=k?k[E]:0;(!I||!await(a.isElement==null?void 0:a.isElement(k)))&&(I=o.floating[E]||s.floating[y]);const O=x/2-T/2,U=I/2-_[y]/2-1,R=zu(p[b],U),N=zu(p[M],U),$=R,J=I-_[y]-N,Y=I/2-_[y]/2+O,H=Xv($,Y,J),B=!l.arrow&&Bd(r)!=null&&Y!==H&&s.reference[y]/2-(Y<$?R:N)-_[y]/2<0,X=B?Y<$?Y-$:Y-J:0;return{[g]:v[g]+X,data:{[g]:H,centerOffset:Y-H-X,...B&&{alignmentOffset:X}},reset:B}}}),sH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:v,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:_=!0,...w}=Fd(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=Sl(r),M=$u(o),E=Sl(o)===o,x=await(l.isRTL==null?void 0:l.isRTL(c.floating)),T=v||(E||!_?[Ah(o)]:Q$(o)),k=y!=="none";!v&&k&&T.push(...tH(o,_,y,x));const I=[o,...T],O=await Ty(e,w),U=[];let R=((i=s.flip)==null?void 0:i.overflows)||[];if(d&&U.push(O[b]),p){const Y=J$(r,a,x);U.push(O[Y[0]],O[Y[1]])}if(R=[...R,{placement:r,overflows:U}],!U.every(Y=>Y<=0)){var N,$;const Y=(((N=s.flip)==null?void 0:N.index)||0)+1,H=I[Y];if(H)return{data:{index:Y,overflows:R},reset:{placement:H}};let B=($=R.filter(X=>X.overflows[0]<=0).sort((X,q)=>X.overflows[1]-q.overflows[1])[0])==null?void 0:$.placement;if(!B)switch(g){case"bestFit":{var J;const X=(J=R.filter(q=>{if(k){const D=$u(q.placement);return D===M||D==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(D=>D>0).reduce((D,V)=>D+V,0)]).sort((q,D)=>q[1]-D[1])[0])==null?void 0:J[0];X&&(B=X);break}case"initialPlacement":B=o;break}if(r!==B)return{reset:{placement:B}}}return{}}}};async function aH(t,e){const{placement:n,platform:i,elements:r}=t,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),a=Sl(n),o=Bd(n),l=$u(n)==="y",c=["left","top"].includes(a)?-1:1,d=s&&l?-1:1,p=Fd(e,t);let{mainAxis:v,crossAxis:g,alignmentAxis:y}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return o&&typeof y=="number"&&(g=o==="end"?y*-1:y),l?{x:g*d,y:v*c}:{x:v*c,y:g*d}}const oH=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:s,placement:a,middlewareData:o}=e,l=await aH(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(i=o.arrow)!=null&&i.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:a}}}}},lH=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:w=>{let{x:b,y:M}=w;return{x:b,y:M}}},...l}=Fd(t,e),c={x:n,y:i},d=await Ty(e,l),p=$u(Sl(r)),v=Yx(p);let g=c[v],y=c[p];if(s){const w=v==="y"?"top":"left",b=v==="y"?"bottom":"right",M=g+d[w],E=g-d[b];g=Xv(M,g,E)}if(a){const w=p==="y"?"top":"left",b=p==="y"?"bottom":"right",M=y+d[w],E=y-d[b];y=Xv(M,y,E)}const _=o.fn({...e,[v]:g,[p]:y});return{..._,data:{x:_.x-n,y:_.y-i,enabled:{[v]:s,[p]:a}}}}}};function wp(){return typeof window<"u"}function lc(t){return Xx(t)?(t.nodeName||"").toLowerCase():"#document"}function jr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function da(t){var e;return(e=(Xx(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Xx(t){return wp()?t instanceof Node||t instanceof jr(t).Node:!1}function Us(t){return wp()?t instanceof Element||t instanceof jr(t).Element:!1}function oa(t){return wp()?t instanceof HTMLElement||t instanceof jr(t).HTMLElement:!1}function N1(t){return!wp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof jr(t).ShadowRoot}function Ud(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=Vs(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(r)}function uH(t){return["table","td","th"].includes(lc(t))}function Sp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Ay(t){const e=ky(),n=Us(t)?Vs(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function cH(t){let e=wo(t);for(;oa(e)&&!Hu(e);){if(Ay(e))return e;if(Sp(e))return null;e=wo(e)}return null}function ky(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Hu(t){return["html","body","#document"].includes(lc(t))}function Vs(t){return jr(t).getComputedStyle(t)}function Ep(t){return Us(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function wo(t){if(lc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||N1(t)&&t.host||da(t);return N1(e)?e.host:e}function Zx(t){const e=wo(t);return Hu(e)?t.ownerDocument?t.ownerDocument.body:t.body:oa(e)&&Ud(e)?e:Zx(e)}function cd(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=Zx(t),s=r===((i=t.ownerDocument)==null?void 0:i.body),a=jr(r);if(s){const o=Jv(a);return e.concat(a,a.visualViewport||[],Ud(r)?r:[],o&&n?cd(o):[])}return e.concat(r,cd(r,[],n))}function Jv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Jx(t){const e=Vs(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=oa(t),s=r?t.offsetWidth:n,a=r?t.offsetHeight:i,o=Th(n)!==s||Th(i)!==a;return o&&(n=s,i=a),{width:n,height:i,$:o}}function Py(t){return Us(t)?t:t.contextElement}function Eu(t){const e=Py(t);if(!oa(e))return bo(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:s}=Jx(e);let a=(s?Th(n.width):n.width)/i,o=(s?Th(n.height):n.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const dH=bo(0);function Qx(t){const e=jr(t);return!ky()||!e.visualViewport?dH:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function fH(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==jr(t)?!1:e}function El(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=Py(t);let a=bo(1);e&&(i?Us(i)&&(a=Eu(i)):a=Eu(t));const o=fH(s,n,i)?Qx(s):bo(0);let l=(r.left+o.x)/a.x,c=(r.top+o.y)/a.y,d=r.width/a.x,p=r.height/a.y;if(s){const v=jr(s),g=i&&Us(i)?jr(i):i;let y=v,_=Jv(y);for(;_&&i&&g!==y;){const w=Eu(_),b=_.getBoundingClientRect(),M=Vs(_),E=b.left+(_.clientLeft+parseFloat(M.paddingLeft))*w.x,x=b.top+(_.clientTop+parseFloat(M.paddingTop))*w.y;l*=w.x,c*=w.y,d*=w.x,p*=w.y,l+=E,c+=x,y=jr(_),_=Jv(y)}}return kh({width:d,height:p,x:l,y:c})}function hH(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const s=r==="fixed",a=da(i),o=e?Sp(e.floating):!1;if(i===a||o&&s)return n;let l={scrollLeft:0,scrollTop:0},c=bo(1);const d=bo(0),p=oa(i);if((p||!p&&!s)&&((lc(i)!=="body"||Ud(a))&&(l=Ep(i)),oa(i))){const v=El(i);c=Eu(i),d.x=v.x+i.clientLeft,d.y=v.y+i.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function pH(t){return Array.from(t.getClientRects())}function Qv(t,e){const n=Ep(t).scrollLeft;return e?e.left+n:El(da(t)).left+n}function mH(t){const e=da(t),n=Ep(t),i=t.ownerDocument.body,r=cl(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=cl(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let a=-n.scrollLeft+Qv(t);const o=-n.scrollTop;return Vs(i).direction==="rtl"&&(a+=cl(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:a,y:o}}function vH(t,e){const n=jr(t),i=da(t),r=n.visualViewport;let s=i.clientWidth,a=i.clientHeight,o=0,l=0;if(r){s=r.width,a=r.height;const c=ky();(!c||c&&e==="fixed")&&(o=r.offsetLeft,l=r.offsetTop)}return{width:s,height:a,x:o,y:l}}function gH(t,e){const n=El(t,!0,e==="fixed"),i=n.top+t.clientTop,r=n.left+t.clientLeft,s=oa(t)?Eu(t):bo(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,l=r*s.x,c=i*s.y;return{width:a,height:o,x:l,y:c}}function O1(t,e,n){let i;if(e==="viewport")i=vH(t,n);else if(e==="document")i=mH(da(t));else if(Us(e))i=gH(e,n);else{const r=Qx(t);i={...e,x:e.x-r.x,y:e.y-r.y}}return kh(i)}function eM(t,e){const n=wo(t);return n===e||!Us(n)||Hu(n)?!1:Vs(n).position==="fixed"||eM(n,e)}function yH(t,e){const n=e.get(t);if(n)return n;let i=cd(t,[],!1).filter(o=>Us(o)&&lc(o)!=="body"),r=null;const s=Vs(t).position==="fixed";let a=s?wo(t):t;for(;Us(a)&&!Hu(a);){const o=Vs(a),l=Ay(a);!l&&o.position==="fixed"&&(r=null),(s?!l&&!r:!l&&o.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Ud(a)&&!l&&eM(t,a))?i=i.filter(d=>d!==a):r=o,a=wo(a)}return e.set(t,i),i}function _H(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const a=[...n==="clippingAncestors"?Sp(e)?[]:yH(e,this._c):[].concat(n),i],o=a[0],l=a.reduce((c,d)=>{const p=O1(e,d,r);return c.top=cl(p.top,c.top),c.right=zu(p.right,c.right),c.bottom=zu(p.bottom,c.bottom),c.left=cl(p.left,c.left),c},O1(e,o,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function bH(t){const{width:e,height:n}=Jx(t);return{width:e,height:n}}function wH(t,e,n){const i=oa(e),r=da(e),s=n==="fixed",a=El(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=bo(0);if(i||!i&&!s)if((lc(e)!=="body"||Ud(r))&&(o=Ep(e)),i){const g=El(e,!0,s,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else r&&(l.x=Qv(r));let c=0,d=0;if(r&&!i&&!s){const g=r.getBoundingClientRect();d=g.top+o.scrollTop,c=g.left+o.scrollLeft-Qv(r,g)}const p=a.left+o.scrollLeft-l.x-c,v=a.top+o.scrollTop-l.y-d;return{x:p,y:v,width:a.width,height:a.height}}function gm(t){return Vs(t).position==="static"}function D1(t,e){if(!oa(t)||Vs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return da(t)===n&&(n=n.ownerDocument.body),n}function tM(t,e){const n=jr(t);if(Sp(t))return n;if(!oa(t)){let r=wo(t);for(;r&&!Hu(r);){if(Us(r)&&!gm(r))return r;r=wo(r)}return n}let i=D1(t,e);for(;i&&uH(i)&&gm(i);)i=D1(i,e);return i&&Hu(i)&&gm(i)&&!Ay(i)?n:i||cH(t)||n}const SH=async function(t){const e=this.getOffsetParent||tM,n=this.getDimensions,i=await n(t.floating);return{reference:wH(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function EH(t){return Vs(t).direction==="rtl"}const CH={convertOffsetParentRelativeRectToViewportRelativeRect:hH,getDocumentElement:da,getClippingRect:_H,getOffsetParent:tM,getElementRects:SH,getClientRects:pH,getDimensions:bH,getScale:Eu,isElement:Us,isRTL:EH};function xH(t,e){let n=null,i;const r=da(t);function s(){var o;clearTimeout(i),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const{left:c,top:d,width:p,height:v}=t.getBoundingClientRect();if(o||e(),!p||!v)return;const g=uf(d),y=uf(r.clientWidth-(c+p)),_=uf(r.clientHeight-(d+v)),w=uf(c),M={rootMargin:-g+"px "+-y+"px "+-_+"px "+-w+"px",threshold:cl(0,zu(1,l))||1};let E=!0;function x(T){const k=T[0].intersectionRatio;if(k!==l){if(!E)return a();k?a(!1,k):i=setTimeout(()=>{a(!1,1e-7)},1e3)}E=!1}try{n=new IntersectionObserver(x,{...M,root:r.ownerDocument})}catch{n=new IntersectionObserver(x,M)}n.observe(t)}return a(!0),s}function MH(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=Py(t),d=r||s?[...c?cd(c):[],...cd(e)]:[];d.forEach(b=>{r&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const p=c&&o?xH(c,n):null;let v=-1,g=null;a&&(g=new ResizeObserver(b=>{let[M]=b;M&&M.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var E;(E=g)==null||E.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let y,_=l?El(t):null;l&&w();function w(){const b=El(t);_&&(b.x!==_.x||b.y!==_.y||b.width!==_.width||b.height!==_.height)&&n(),_=b,y=requestAnimationFrame(w)}return n(),()=>{var b;d.forEach(M=>{r&&M.removeEventListener("scroll",n),s&&M.removeEventListener("resize",n)}),p==null||p(),(b=g)==null||b.disconnect(),g=null,l&&cancelAnimationFrame(y)}}const TH=Ty,nM=oH,AH=lH,kH=sH,iM=rH,rM=(t,e,n)=>{const i=new Map,r={platform:CH,...n},s={...r.platform,_c:i};return iH(t,e,{...r,platform:s})};Ge({});const PH=t=>{if(!nn)return;if(!t)return t;const e=Ar(t);return e||(nr(t)?e:t)},RH=({middleware:t,placement:e,strategy:n})=>{const i=W(),r=W(),s=W(),a=W(),o=W({}),l={x:s,y:a,placement:e,strategy:n,middlewareData:o},c=async()=>{if(!nn)return;const d=PH(i),p=Ar(r);if(!d||!p)return;const v=await rM(d,p,{placement:f(e),strategy:f(n),middleware:f(t)});Ou(l).forEach(g=>{l[g].value=v[g]})};return St(()=>{gi(()=>{c()})}),{...l,update:c,referenceRef:i,contentRef:r}},IH=({arrowRef:t,padding:e})=>({name:"arrow",options:{element:t,padding:e},fn(n){const i=f(t);return i?iM({element:i,padding:e}).fn(n):{}}});function LH(t){let e;function n(){if(t.value==null)return;const{selectionStart:r,selectionEnd:s,value:a}=t.value;if(r==null||s==null)return;const o=a.slice(0,Math.max(0,r)),l=a.slice(Math.max(0,s));e={selectionStart:r,selectionEnd:s,value:a,beforeTxt:o,afterTxt:l}}function i(){if(t.value==null||e==null)return;const{value:r}=t.value,{beforeTxt:s,afterTxt:a,selectionStart:o}=e;if(s==null||a==null||o==null)return;let l=r.length;if(r.endsWith(a))l=r.length-a.length;else if(r.startsWith(s))l=s.length;else{const c=s[o-1],d=r.indexOf(c,o-1);d!==-1&&(l=d+1)}t.value.setSelectionRange(l,l)}return[n,i]}const NH=(t,e,n)=>ao(t.subTree).filter(s=>{var a;return ri(s)&&((a=s.type)==null?void 0:a.name)===e&&!!s.component}).map(s=>s.component.uid).map(s=>n[s]).filter(s=>!!s),Ry=(t,e)=>{const n={},i=An([]);return{children:i,addChild:a=>{n[a.uid]=a,i.value=NH(t,e,n)},removeChild:a=>{delete n[a],i.value=i.value.filter(o=>o.uid!==a)}}},_i=$s({type:String,values:ca,required:!1}),sM=Symbol("size"),aM=()=>{const t=dt(sM,{});return L(()=>f(t.size)||"")};function Vd(t,{beforeFocus:e,afterFocus:n,beforeBlur:i,afterBlur:r}={}){const s=Yt(),{emit:a}=s,o=An(),l=W(!1),c=v=>{cn(e)&&e(v)||l.value||(l.value=!0,a("focus",v),n==null||n())},d=v=>{var g;cn(i)&&i(v)||v.relatedTarget&&((g=o.value)!=null&&g.contains(v.relatedTarget))||(l.value=!1,a("blur",v),r==null||r())},p=()=>{var v,g;(v=o.value)!=null&&v.contains(document.activeElement)&&o.value!==document.activeElement||(g=t.value)==null||g.focus()};return Le(o,v=>{v&&v.setAttribute("tabindex","-1")}),bn(o,"focus",c,!0),bn(o,"blur",d,!0),bn(o,"click",p,!0),{isFocused:l,wrapperRef:o,handleFocus:c,handleBlur:d}}function Cp({afterComposition:t,emit:e}){const n=W(!1),i=o=>{e==null||e("compositionstart",o),n.value=!0},r=o=>{var l;e==null||e("compositionupdate",o);const c=(l=o.target)==null?void 0:l.value,d=c[c.length-1]||"";n.value=!Mz(d)},s=o=>{e==null||e("compositionend",o),n.value&&(n.value=!1,_t(()=>t(o)))};return{isComposing:n,handleComposition:o=>{o.type==="compositionend"?s(o):r(o)},handleCompositionStart:i,handleCompositionUpdate:r,handleCompositionEnd:s}}const oM=Symbol("emptyValuesContextKey"),OH=["",void 0,null],DH=void 0,uc=Ge({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:t=>cn(t)?!t():!t}}),xp=(t,e)=>{const n=Yt()?dt(oM,W({})):W({}),i=L(()=>t.emptyValues||n.value.emptyValues||OH),r=L(()=>cn(t.valueOnClear)?t.valueOnClear():t.valueOnClear!==void 0?t.valueOnClear:cn(n.value.valueOnClear)?n.value.valueOnClear():n.value.valueOnClear!==void 0?n.value.valueOnClear:e!==void 0?e:DH),s=a=>i.value.includes(a);return i.value.includes(r.value),{emptyValues:i,valueOnClear:r,isEmptyValue:s}},FH=Ge({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),$i=t=>Ls(FH,t),lM=Symbol(),Ph=W();function Mp(t,e=void 0){const n=Yt()?dt(lM,Ph):Ph;return t?L(()=>{var i,r;return(r=(i=n.value)==null?void 0:i[t])!=null?r:e}):n}function Tp(t,e){const n=Mp(),i=Fe(t,L(()=>{var o;return((o=n.value)==null?void 0:o.namespace)||Xc})),r=rn(L(()=>{var o;return(o=n.value)==null?void 0:o.locale})),s=oc(L(()=>{var o;return((o=n.value)==null?void 0:o.zIndex)||Kx})),a=L(()=>{var o;return f(e)||((o=n.value)==null?void 0:o.size)||""});return Iy(L(()=>f(n)||{})),{ns:i,locale:r,zIndex:s,size:a}}const Iy=(t,e,n=!1)=>{var i;const r=!!Yt(),s=r?Mp():void 0,a=(i=e==null?void 0:e.provide)!=null?i:r?Jt:void 0;if(!a)return;const o=L(()=>{const l=f(t);return s!=null&&s.value?BH(s.value,l):l});return a(lM,o),a(kx,L(()=>o.value.locale)),a(Px,L(()=>o.value.namespace)),a(qx,L(()=>o.value.zIndex)),a(sM,{size:L(()=>o.value.size||"")}),a(oM,L(()=>({emptyValues:o.value.emptyValues,valueOnClear:o.value.valueOnClear}))),(n||!Ph.value)&&(Ph.value=o.value),o},BH=(t,e)=>{const n=[...new Set([...Ou(t),...Ou(e)])],i={};for(const r of n)i[r]=e[r]!==void 0?e[r]:t[r];return i},UH=Ge({a11y:{type:Boolean,default:!0},locale:{type:_e(Object)},size:_i,button:{type:_e(Object)},experimentalFeatures:{type:_e(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:_e(Object)},zIndex:Number,namespace:{type:String,default:"el"},...uc}),As={},VH=ie({name:"ElConfigProvider",props:UH,setup(t,{slots:e}){Le(()=>t.message,i=>{Object.assign(As,i??{})},{immediate:!0,deep:!0});const n=Iy(t);return()=>oe(e,"default",{config:n==null?void 0:n.value})}}),zH=Ft(VH),$H="2.8.4",HH=(t=[])=>({version:$H,install:(n,i)=>{n[m1]||(n[m1]=!0,t.forEach(r=>n.use(r)),i&&Iy(i,n,!0))}}),GH=Ge({zIndex:{type:_e([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),WH={scroll:({scrollTop:t,fixed:e})=>Pt(t)&&Gn(e),[Nn]:t=>Gn(t)};var We=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n};const uM="ElAffix",KH=ie({name:uM}),qH=ie({...KH,props:GH,emits:WH,setup(t,{expose:e,emit:n}){const i=t,r=Fe("affix"),s=An(),a=An(),o=An(),{height:l}=EF(),{height:c,width:d,top:p,bottom:v,update:g}=Mb(a,{windowScroll:!1}),y=Mb(s),_=W(!1),w=W(0),b=W(0),M=L(()=>({height:_.value?`${c.value}px`:"",width:_.value?`${d.value}px`:""})),E=L(()=>{if(!_.value)return{};const k=i.offset?Jn(i.offset):0;return{height:`${c.value}px`,width:`${d.value}px`,top:i.position==="top"?k:"",bottom:i.position==="bottom"?k:"",transform:b.value?`translateY(${b.value}px)`:"",zIndex:i.zIndex}}),x=()=>{if(!o.value)return;w.value=o.value instanceof Window?document.documentElement.scrollTop:o.value.scrollTop||0;const{position:k,target:I,offset:O}=i,U=O+c.value;if(k==="top")if(I){const R=y.bottom.value-U;_.value=O>p.value&&y.bottom.value>0,b.value=R<0?R:0}else _.value=O>p.value;else if(I){const R=l.value-y.top.value-U;_.value=l.value-O<v.value&&l.value>y.top.value,b.value=R<0?-R:0}else _.value=l.value-O<v.value},T=()=>{g(),n("scroll",{scrollTop:w.value,fixed:_.value})};return Le(_,k=>n("change",k)),St(()=>{var k;i.target?(s.value=(k=document.querySelector(i.target))!=null?k:void 0,s.value||yi(uM,`Target does not exist: ${i.target}`)):s.value=document.documentElement,o.value=oy(a.value,!0),g()}),bn(o,"scroll",T),gi(x),e({update:x,updateRoot:g}),(k,I)=>(P(),K("div",{ref_key:"root",ref:a,class:z(f(r).b()),style:bt(f(M))},[Z("div",{class:z({[f(r).m("fixed")]:_.value}),style:bt(f(E))},[oe(k.$slots,"default")],6)],6))}});var YH=We(qH,[["__file","affix.vue"]]);const jH=Ft(YH),XH=Ge({size:{type:_e([Number,String])},color:{type:String}}),ZH=ie({name:"ElIcon",inheritAttrs:!1}),JH=ie({...ZH,props:XH,setup(t){const e=t,n=Fe("icon"),i=L(()=>{const{size:r,color:s}=e;return!r&&!s?{}:{fontSize:Hn(r)?void 0:Jn(r),"--color":s}});return(r,s)=>(P(),K("i",Gt({class:f(n).b(),style:f(i)},r.$attrs),[oe(r.$slots,"default")],16))}});var QH=We(JH,[["__file","icon.vue"]]);const ft=Ft(QH),eG=["light","dark"],tG=Ge({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:Ou(_o),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:eG,default:"light"}}),nG={close:t=>t instanceof MouseEvent},iG=ie({name:"ElAlert"}),rG=ie({...iG,props:tG,emits:nG,setup(t,{emit:e}){const n=t,{Close:i}=cy,r=Si(),s=Fe("alert"),a=W(!0),o=L(()=>_o[n.type]),l=L(()=>[s.e("icon"),{[s.is("big")]:!!n.description||!!r.default}]),c=L(()=>({"with-description":n.description||r.default})),d=p=>{a.value=!1,e("close",p)};return(p,v)=>(P(),we(di,{name:f(s).b("fade"),persisted:""},{default:te(()=>[Ut(Z("div",{class:z([f(s).b(),f(s).m(p.type),f(s).is("center",p.center),f(s).is(p.effect)]),role:"alert"},[p.showIcon&&f(o)?(P(),we(f(ft),{key:0,class:z(f(l))},{default:te(()=>[(P(),we(zt(f(o))))]),_:1},8,["class"])):he("v-if",!0),Z("div",{class:z(f(s).e("content"))},[p.title||p.$slots.title?(P(),K("span",{key:0,class:z([f(s).e("title"),f(c)])},[oe(p.$slots,"title",{},()=>[pt(Ne(p.title),1)])],2)):he("v-if",!0),p.$slots.default||p.description?(P(),K("p",{key:1,class:z(f(s).e("description"))},[oe(p.$slots,"default",{},()=>[pt(Ne(p.description),1)])],2)):he("v-if",!0),p.closable?(P(),K(ct,{key:2},[p.closeText?(P(),K("div",{key:0,class:z([f(s).e("close-btn"),f(s).is("customed")]),onClick:d},Ne(p.closeText),3)):(P(),we(f(ft),{key:1,class:z(f(s).e("close-btn")),onClick:d},{default:te(()=>[Q(f(i))]),_:1},8,["class"]))],64)):he("v-if",!0)],2)],2),[[on,a.value]])]),_:3},8,["name"]))}});var sG=We(rG,[["__file","alert.vue"]]);const aG=Ft(sG),Nl=Symbol("formContextKey"),la=Symbol("formItemContextKey"),pi=(t,e={})=>{const n=W(void 0),i=e.prop?n:Ix("size"),r=e.global?n:aM(),s=e.form?{size:void 0}:dt(Nl,void 0),a=e.formItem?{size:void 0}:dt(la,void 0);return L(()=>i.value||f(t)||(a==null?void 0:a.size)||(s==null?void 0:s.size)||r.value||"")},ar=t=>{const e=Ix("disabled"),n=dt(Nl,void 0);return L(()=>e.value||f(t)||(n==null?void 0:n.disabled)||!1)},or=()=>{const t=dt(Nl,void 0),e=dt(la,void 0);return{form:t,formItem:e}},Gs=(t,{formItemContext:e,disableIdGeneration:n,disableIdManagement:i})=>{n||(n=W(!1)),i||(i=W(!1));const r=W();let s;const a=L(()=>{var o;return!!(!(t.label||t.ariaLabel)&&e&&e.inputIds&&((o=e.inputIds)==null?void 0:o.length)<=1)});return St(()=>{s=Le([yn(t,"id"),n],([o,l])=>{const c=o??(l?void 0:zi().value);c!==r.value&&(e!=null&&e.removeInputId&&(r.value&&e.removeInputId(r.value),!(i!=null&&i.value)&&!l&&c&&e.addInputId(c)),r.value=c)},{immediate:!0})}),Oa(()=>{s&&s(),e!=null&&e.removeInputId&&r.value&&e.removeInputId(r.value)}),{isLabeledByFormItem:a,inputId:r}},oG=Ge({size:{type:String,values:ca},disabled:Boolean}),lG=Ge({...oG,model:Object,rules:{type:_e(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),uG={validate:(t,e,n)=>(Ot(t)||Wt(t))&&Gn(e)&&Wt(n)};function cG(){const t=W([]),e=L(()=>{if(!t.value.length)return"0";const s=Math.max(...t.value);return s?`${s}px`:""});function n(s){const a=t.value.indexOf(s);return a===-1&&e.value,a}function i(s,a){if(s&&a){const o=n(a);t.value.splice(o,1,s)}else s&&t.value.push(s)}function r(s){const a=n(s);a>-1&&t.value.splice(a,1)}return{autoLabelWidth:e,registerLabelWidth:i,deregisterLabelWidth:r}}const cf=(t,e)=>{const n=Qi(e);return n.length>0?t.filter(i=>i.prop&&n.includes(i.prop)):t},dG="ElForm",fG=ie({name:dG}),hG=ie({...fG,props:lG,emits:uG,setup(t,{expose:e,emit:n}){const i=t,r=[],s=pi(),a=Fe("form"),o=L(()=>{const{labelPosition:E,inline:x}=i;return[a.b(),a.m(s.value||"default"),{[a.m(`label-${E}`)]:E,[a.m("inline")]:x}]}),l=E=>r.find(x=>x.prop===E),c=E=>{r.push(E)},d=E=>{E.prop&&r.splice(r.indexOf(E),1)},p=(E=[])=>{i.model&&cf(r,E).forEach(x=>x.resetField())},v=(E=[])=>{cf(r,E).forEach(x=>x.clearValidate())},g=L(()=>!!i.model),y=E=>{if(r.length===0)return[];const x=cf(r,E);return x.length?x:[]},_=async E=>b(void 0,E),w=async(E=[])=>{if(!g.value)return!1;const x=y(E);if(x.length===0)return!0;let T={};for(const k of x)try{await k.validate("")}catch(I){T={...T,...I}}return Object.keys(T).length===0?!0:Promise.reject(T)},b=async(E=[],x)=>{const T=!cn(x);try{const k=await w(E);return k===!0&&await(x==null?void 0:x(k)),k}catch(k){if(k instanceof Error)throw k;const I=k;return i.scrollToError&&M(Object.keys(I)[0]),await(x==null?void 0:x(!1,I)),T&&Promise.reject(I)}},M=E=>{var x;const T=cf(r,E)[0];T&&((x=T.$el)==null||x.scrollIntoView(i.scrollIntoViewOptions))};return Le(()=>i.rules,()=>{i.validateOnRuleChange&&_().catch(E=>void 0)},{deep:!0}),Jt(Nl,Xt({...Oi(i),emit:n,resetFields:p,clearValidate:v,validateField:b,getField:l,addField:c,removeField:d,...cG()})),e({validate:_,validateField:b,resetFields:p,clearValidate:v,scrollToField:M,fields:r}),(E,x)=>(P(),K("form",{class:z(f(o))},[oe(E.$slots,"default")],2))}});var pG=We(hG,[["__file","form.vue"]]);function Jo(){return Jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Jo.apply(this,arguments)}function mG(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,dd(t,e)}function eg(t){return eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eg(t)}function dd(t,e){return dd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},dd(t,e)}function vG(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ih(t,e,n){return vG()?ih=Reflect.construct.bind():ih=function(r,s,a){var o=[null];o.push.apply(o,s);var l=Function.bind.apply(r,o),c=new l;return a&&dd(c,a.prototype),c},ih.apply(null,arguments)}function gG(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function tg(t){var e=typeof Map=="function"?new Map:void 0;return tg=function(i){if(i===null||!gG(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(i))return e.get(i);e.set(i,r)}function r(){return ih(i,arguments,eg(this).constructor)}return r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),dd(r,i)},tg(t)}var yG=/%[sdj%]/g,_G=function(){};function ng(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var i=n.field;e[i]=e[i]||[],e[i].push(n)}),e}function qr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=0,s=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var a=t.replace(yG,function(o){if(o==="%%")return"%";if(r>=s)return o;switch(o){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}break;default:return o}});return a}return t}function bG(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function Di(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||bG(e)&&typeof t=="string"&&!t)}function wG(t,e,n){var i=[],r=0,s=t.length;function a(o){i.push.apply(i,o||[]),r++,r===s&&n(i)}t.forEach(function(o){e(o,a)})}function F1(t,e,n){var i=0,r=t.length;function s(a){if(a&&a.length){n(a);return}var o=i;i=i+1,o<r?e(t[o],s):n([])}s([])}function SG(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var B1=function(t){mG(e,t);function e(n,i){var r;return r=t.call(this,"Async Validation Error")||this,r.errors=n,r.fields=i,r}return e}(tg(Error));function EG(t,e,n,i,r){if(e.first){var s=new Promise(function(v,g){var y=function(b){return i(b),b.length?g(new B1(b,ng(b))):v(r)},_=SG(t);F1(_,n,y)});return s.catch(function(v){return v}),s}var a=e.firstFields===!0?Object.keys(t):e.firstFields||[],o=Object.keys(t),l=o.length,c=0,d=[],p=new Promise(function(v,g){var y=function(w){if(d.push.apply(d,w),c++,c===l)return i(d),d.length?g(new B1(d,ng(d))):v(r)};o.length||(i(d),v(r)),o.forEach(function(_){var w=t[_];a.indexOf(_)!==-1?F1(w,n,y):wG(w,n,y)})});return p.catch(function(v){return v}),p}function CG(t){return!!(t&&t.message!==void 0)}function xG(t,e){for(var n=t,i=0;i<e.length;i++){if(n==null)return n;n=n[e[i]]}return n}function U1(t,e){return function(n){var i;return t.fullFields?i=xG(e,t.fullFields):i=e[n.field||t.fullField],CG(n)?(n.field=n.field||t.fullField,n.fieldValue=i,n):{message:typeof n=="function"?n():n,fieldValue:i,field:n.field||t.fullField}}}function V1(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];typeof i=="object"&&typeof t[n]=="object"?t[n]=Jo({},t[n],i):t[n]=i}}return t}var cM=function(e,n,i,r,s,a){e.required&&(!i.hasOwnProperty(e.field)||Di(n,a||e.type))&&r.push(qr(s.messages.required,e.fullField))},MG=function(e,n,i,r,s){(/^\s+$/.test(n)||n==="")&&r.push(qr(s.messages.whitespace,e.fullField))},df,TG=function(){if(df)return df;var t="[a-fA-F\\d:]",e=function(x){return x&&x.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",i="[a-fA-F\\d]{1,4}",r=(`
(?:
(?:`+i+":){7}(?:"+i+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+i+":){6}(?:"+n+"|:"+i+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+i+":){5}(?::"+n+"|(?::"+i+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+i+":){4}(?:(?::"+i+"){0,1}:"+n+"|(?::"+i+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+i+":){3}(?:(?::"+i+"){0,2}:"+n+"|(?::"+i+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+i+":){2}(?:(?::"+i+"){0,3}:"+n+"|(?::"+i+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+i+":){1}(?:(?::"+i+"){0,4}:"+n+"|(?::"+i+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+i+"){0,5}:"+n+"|(?::"+i+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),s=new RegExp("(?:^"+n+"$)|(?:^"+r+"$)"),a=new RegExp("^"+n+"$"),o=new RegExp("^"+r+"$"),l=function(x){return x&&x.exact?s:new RegExp("(?:"+e(x)+n+e(x)+")|(?:"+e(x)+r+e(x)+")","g")};l.v4=function(E){return E&&E.exact?a:new RegExp(""+e(E)+n+e(E),"g")},l.v6=function(E){return E&&E.exact?o:new RegExp(""+e(E)+r+e(E),"g")};var c="(?:(?:[a-z]+:)?//)",d="(?:\\S+(?::\\S*)?@)?",p=l.v4().source,v=l.v6().source,g="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",y="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",_="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",w="(?::\\d{2,5})?",b='(?:[/?#][^\\s"]*)?',M="(?:"+c+"|www\\.)"+d+"(?:localhost|"+p+"|"+v+"|"+g+y+_+")"+w+b;return df=new RegExp("(?:^"+M+"$)","i"),df},z1={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Hc={integer:function(e){return Hc.number(e)&&parseInt(e,10)===e},float:function(e){return Hc.number(e)&&!Hc.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!Hc.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(z1.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(TG())},hex:function(e){return typeof e=="string"&&!!e.match(z1.hex)}},AG=function(e,n,i,r,s){if(e.required&&n===void 0){cM(e,n,i,r,s);return}var a=["integer","float","array","regexp","object","method","email","number","date","url","hex"],o=e.type;a.indexOf(o)>-1?Hc[o](n)||r.push(qr(s.messages.types[o],e.fullField,e.type)):o&&typeof n!==e.type&&r.push(qr(s.messages.types[o],e.fullField,e.type))},kG=function(e,n,i,r,s){var a=typeof e.len=="number",o=typeof e.min=="number",l=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d=n,p=null,v=typeof n=="number",g=typeof n=="string",y=Array.isArray(n);if(v?p="number":g?p="string":y&&(p="array"),!p)return!1;y&&(d=n.length),g&&(d=n.replace(c,"_").length),a?d!==e.len&&r.push(qr(s.messages[p].len,e.fullField,e.len)):o&&!l&&d<e.min?r.push(qr(s.messages[p].min,e.fullField,e.min)):l&&!o&&d>e.max?r.push(qr(s.messages[p].max,e.fullField,e.max)):o&&l&&(d<e.min||d>e.max)&&r.push(qr(s.messages[p].range,e.fullField,e.min,e.max))},$l="enum",PG=function(e,n,i,r,s){e[$l]=Array.isArray(e[$l])?e[$l]:[],e[$l].indexOf(n)===-1&&r.push(qr(s.messages[$l],e.fullField,e[$l].join(", ")))},RG=function(e,n,i,r,s){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||r.push(qr(s.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var a=new RegExp(e.pattern);a.test(n)||r.push(qr(s.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},Mn={required:cM,whitespace:MG,type:AG,range:kG,enum:PG,pattern:RG},IG=function(e,n,i,r,s){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(Di(n,"string")&&!e.required)return i();Mn.required(e,n,r,a,s,"string"),Di(n,"string")||(Mn.type(e,n,r,a,s),Mn.range(e,n,r,a,s),Mn.pattern(e,n,r,a,s),e.whitespace===!0&&Mn.whitespace(e,n,r,a,s))}i(a)},LG=function(e,n,i,r,s){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(Di(n)&&!e.required)return i();Mn.required(e,n,r,a,s),n!==void 0&&Mn.type(e,n,r,a,s)}i(a)},NG=function(e,n,i,r,s){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(n===""&&(n=void 0),Di(n)&&!e.required)return i();Mn.required(e,n,r,a,s),n!==void 0&&(Mn.type(e,n,r,a,s),Mn.range(e,n,r,a,s))}i(a)},OG=function(e,n,i,r,s){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(Di(n)&&!e.required)return i();Mn.required(e,n,r,a,s),n!==void 0&&Mn.type(e,n,r,a,s)}i(a)},DG=function(e,n,i,r,s){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(Di(n)&&!e.required)return i();Mn.required(e,n,r,a,s),Di(n)||Mn.type(e,n,r,a,s)}i(a)},FG=function(e,n,i,r,s){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(Di(n)&&!e.required)return i();Mn.required(e,n,r,a,s),n!==void 0&&(Mn.type(e,n,r,a,s),Mn.range(e,n,r,a,s))}i(a)},BG=function(e,n,i,r,s){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(Di(n)&&!e.required)return i();Mn.required(e,n,r,a,s),n!==void 0&&(Mn.type(e,n,r,a,s),Mn.range(e,n,r,a,s))}i(a)},UG=function(e,n,i,r,s){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(n==null&&!e.required)return i();Mn.required(e,n,r,a,s,"array"),n!=null&&(Mn.type(e,n,r,a,s),Mn.range(e,n,r,a,s))}i(a)},VG=function(e,n,i,r,s){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(Di(n)&&!e.required)return i();Mn.required(e,n,r,a,s),n!==void 0&&Mn.type(e,n,r,a,s)}i(a)},zG="enum",$G=function(e,n,i,r,s){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(Di(n)&&!e.required)return i();Mn.required(e,n,r,a,s),n!==void 0&&Mn[zG](e,n,r,a,s)}i(a)},HG=function(e,n,i,r,s){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(Di(n,"string")&&!e.required)return i();Mn.required(e,n,r,a,s),Di(n,"string")||Mn.pattern(e,n,r,a,s)}i(a)},GG=function(e,n,i,r,s){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(Di(n,"date")&&!e.required)return i();if(Mn.required(e,n,r,a,s),!Di(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),Mn.type(e,l,r,a,s),l&&Mn.range(e,l.getTime(),r,a,s)}}i(a)},WG=function(e,n,i,r,s){var a=[],o=Array.isArray(n)?"array":typeof n;Mn.required(e,n,r,a,s,o),i(a)},ym=function(e,n,i,r,s){var a=e.type,o=[],l=e.required||!e.required&&r.hasOwnProperty(e.field);if(l){if(Di(n,a)&&!e.required)return i();Mn.required(e,n,r,o,s,a),Di(n,a)||Mn.type(e,n,r,o,s)}i(o)},KG=function(e,n,i,r,s){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(Di(n)&&!e.required)return i();Mn.required(e,n,r,a,s)}i(a)},Qc={string:IG,method:LG,number:NG,boolean:OG,regexp:DG,integer:FG,float:BG,array:UG,object:VG,enum:$G,pattern:HG,date:GG,url:ym,hex:ym,email:ym,required:WG,any:KG};function ig(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var rg=ig(),zd=function(){function t(n){this.rules=null,this._messages=rg,this.define(n)}var e=t.prototype;return e.define=function(i){var r=this;if(!i)throw new Error("Cannot configure a schema with no rules");if(typeof i!="object"||Array.isArray(i))throw new Error("Rules must be an object");this.rules={},Object.keys(i).forEach(function(s){var a=i[s];r.rules[s]=Array.isArray(a)?a:[a]})},e.messages=function(i){return i&&(this._messages=V1(ig(),i)),this._messages},e.validate=function(i,r,s){var a=this;r===void 0&&(r={}),s===void 0&&(s=function(){});var o=i,l=r,c=s;if(typeof l=="function"&&(c=l,l={}),!this.rules||Object.keys(this.rules).length===0)return c&&c(null,o),Promise.resolve(o);function d(_){var w=[],b={};function M(x){if(Array.isArray(x)){var T;w=(T=w).concat.apply(T,x)}else w.push(x)}for(var E=0;E<_.length;E++)M(_[E]);w.length?(b=ng(w),c(w,b)):c(null,o)}if(l.messages){var p=this.messages();p===rg&&(p=ig()),V1(p,l.messages),l.messages=p}else l.messages=this.messages();var v={},g=l.keys||Object.keys(this.rules);g.forEach(function(_){var w=a.rules[_],b=o[_];w.forEach(function(M){var E=M;typeof E.transform=="function"&&(o===i&&(o=Jo({},o)),b=o[_]=E.transform(b)),typeof E=="function"?E={validator:E}:E=Jo({},E),E.validator=a.getValidationMethod(E),E.validator&&(E.field=_,E.fullField=E.fullField||_,E.type=a.getType(E),v[_]=v[_]||[],v[_].push({rule:E,value:b,source:o,field:_}))})});var y={};return EG(v,l,function(_,w){var b=_.rule,M=(b.type==="object"||b.type==="array")&&(typeof b.fields=="object"||typeof b.defaultField=="object");M=M&&(b.required||!b.required&&_.value),b.field=_.field;function E(k,I){return Jo({},I,{fullField:b.fullField+"."+k,fullFields:b.fullFields?[].concat(b.fullFields,[k]):[k]})}function x(k){k===void 0&&(k=[]);var I=Array.isArray(k)?k:[k];!l.suppressWarning&&I.length&&t.warning("async-validator:",I),I.length&&b.message!==void 0&&(I=[].concat(b.message));var O=I.map(U1(b,o));if(l.first&&O.length)return y[b.field]=1,w(O);if(!M)w(O);else{if(b.required&&!_.value)return b.message!==void 0?O=[].concat(b.message).map(U1(b,o)):l.error&&(O=[l.error(b,qr(l.messages.required,b.field))]),w(O);var U={};b.defaultField&&Object.keys(_.value).map(function($){U[$]=b.defaultField}),U=Jo({},U,_.rule.fields);var R={};Object.keys(U).forEach(function($){var J=U[$],Y=Array.isArray(J)?J:[J];R[$]=Y.map(E.bind(null,$))});var N=new t(R);N.messages(l.messages),_.rule.options&&(_.rule.options.messages=l.messages,_.rule.options.error=l.error),N.validate(_.value,_.rule.options||l,function($){var J=[];O&&O.length&&J.push.apply(J,O),$&&$.length&&J.push.apply(J,$),w(J.length?J:null)})}}var T;if(b.asyncValidator)T=b.asyncValidator(b,_.value,x,_.source,l);else if(b.validator){try{T=b.validator(b,_.value,x,_.source,l)}catch(k){console.error==null||console.error(k),l.suppressValidatorError||setTimeout(function(){throw k},0),x(k.message)}T===!0?x():T===!1?x(typeof b.message=="function"?b.message(b.fullField||b.field):b.message||(b.fullField||b.field)+" fails"):T instanceof Array?x(T):T instanceof Error&&x(T.message)}T&&T.then&&T.then(function(){return x()},function(k){return x(k)})},function(_){d(_)},o)},e.getType=function(i){if(i.type===void 0&&i.pattern instanceof RegExp&&(i.type="pattern"),typeof i.validator!="function"&&i.type&&!Qc.hasOwnProperty(i.type))throw new Error(qr("Unknown rule type %s",i.type));return i.type||"string"},e.getValidationMethod=function(i){if(typeof i.validator=="function")return i.validator;var r=Object.keys(i),s=r.indexOf("message");return s!==-1&&r.splice(s,1),r.length===1&&r[0]==="required"?Qc.required:Qc[this.getType(i)]||void 0},t}();zd.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");Qc[e]=n};zd.warning=_G;zd.messages=rg;zd.validators=Qc;const qG=["","error","validating","success"],YG=Ge({label:String,labelWidth:{type:[String,Number],default:""},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:_e([String,Array])},required:{type:Boolean,default:void 0},rules:{type:_e([Object,Array])},error:String,validateStatus:{type:String,values:qG},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:ca}}),$1="ElLabelWrap";var jG=ie({name:$1,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(t,{slots:e}){const n=dt(Nl,void 0),i=dt(la);i||yi($1,"usage: <el-form-item><label-wrap /></el-form-item>");const r=Fe("form"),s=W(),a=W(0),o=()=>{var d;if((d=s.value)!=null&&d.firstElementChild){const p=window.getComputedStyle(s.value.firstElementChild).width;return Math.ceil(Number.parseFloat(p))}else return 0},l=(d="update")=>{_t(()=>{e.default&&t.isAutoWidth&&(d==="update"?a.value=o():d==="remove"&&(n==null||n.deregisterLabelWidth(a.value)))})},c=()=>l("update");return St(()=>{c()}),Tn(()=>{l("remove")}),Mo(()=>c()),Le(a,(d,p)=>{t.updateAll&&(n==null||n.registerLabelWidth(d,p))}),Fn(L(()=>{var d,p;return(p=(d=s.value)==null?void 0:d.firstElementChild)!=null?p:null}),c),()=>{var d,p;if(!e)return null;const{isAutoWidth:v}=t;if(v){const g=n==null?void 0:n.autoLabelWidth,y=i==null?void 0:i.hasLabel,_={};if(y&&g&&g!=="auto"){const w=Math.max(0,Number.parseInt(g,10)-a.value),M=(i.labelPosition||n.labelPosition)==="left"?"marginRight":"marginLeft";w&&(_[M]=`${w}px`)}return Q("div",{ref:s,class:[r.be("item","label-wrap")],style:_},[(d=e.default)==null?void 0:d.call(e)])}else return Q(ct,{ref:s},[(p=e.default)==null?void 0:p.call(e)])}}});const XG=ie({name:"ElFormItem"}),ZG=ie({...XG,props:YG,setup(t,{expose:e}){const n=t,i=Si(),r=dt(Nl,void 0),s=dt(la,void 0),a=pi(void 0,{formItem:!1}),o=Fe("form-item"),l=zi().value,c=W([]),d=W(""),p=sF(d,100),v=W(""),g=W();let y,_=!1;const w=L(()=>n.labelPosition||(r==null?void 0:r.labelPosition)),b=L(()=>{if(w.value==="top")return{};const ue=Jn(n.labelWidth||(r==null?void 0:r.labelWidth)||"");return ue?{width:ue}:{}}),M=L(()=>{if(w.value==="top"||r!=null&&r.inline)return{};if(!n.label&&!n.labelWidth&&R)return{};const ue=Jn(n.labelWidth||(r==null?void 0:r.labelWidth)||"");return!n.label&&!i.label?{marginLeft:ue}:{}}),E=L(()=>[o.b(),o.m(a.value),o.is("error",d.value==="error"),o.is("validating",d.value==="validating"),o.is("success",d.value==="success"),o.is("required",H.value||n.required),o.is("no-asterisk",r==null?void 0:r.hideRequiredAsterisk),(r==null?void 0:r.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[o.m("feedback")]:r==null?void 0:r.statusIcon,[o.m(`label-${w.value}`)]:w.value}]),x=L(()=>Gn(n.inlineMessage)?n.inlineMessage:(r==null?void 0:r.inlineMessage)||!1),T=L(()=>[o.e("error"),{[o.em("error","inline")]:x.value}]),k=L(()=>n.prop?Wt(n.prop)?n.prop:n.prop.join("."):""),I=L(()=>!!(n.label||i.label)),O=L(()=>n.for||(c.value.length===1?c.value[0]:void 0)),U=L(()=>!O.value&&I.value),R=!!s,N=L(()=>{const ue=r==null?void 0:r.model;if(!(!ue||!n.prop))return th(ue,n.prop).value}),$=L(()=>{const{required:ue}=n,Me=[];n.rules&&Me.push(...Qi(n.rules));const De=r==null?void 0:r.rules;if(De&&n.prop){const xe=th(De,n.prop).value;xe&&Me.push(...Qi(xe))}if(ue!==void 0){const xe=Me.map((G,He)=>[G,He]).filter(([G])=>Object.keys(G).includes("required"));if(xe.length>0)for(const[G,He]of xe)G.required!==ue&&(Me[He]={...G,required:ue});else Me.push({required:ue})}return Me}),J=L(()=>$.value.length>0),Y=ue=>$.value.filter(De=>!De.trigger||!ue?!0:Array.isArray(De.trigger)?De.trigger.includes(ue):De.trigger===ue).map(({trigger:De,...xe})=>xe),H=L(()=>$.value.some(ue=>ue.required)),B=L(()=>{var ue;return p.value==="error"&&n.showMessage&&((ue=r==null?void 0:r.showMessage)!=null?ue:!0)}),X=L(()=>`${n.label||""}${(r==null?void 0:r.labelSuffix)||""}`),q=ue=>{d.value=ue},D=ue=>{var Me,De;const{errors:xe,fields:G}=ue;(!xe||!G)&&console.error(ue),q("error"),v.value=xe?(De=(Me=xe==null?void 0:xe[0])==null?void 0:Me.message)!=null?De:`${n.prop} is required`:"",r==null||r.emit("validate",n.prop,!1,v.value)},V=()=>{q("success"),r==null||r.emit("validate",n.prop,!0,"")},ee=async ue=>{const Me=k.value;return new zd({[Me]:ue}).validate({[Me]:N.value},{firstFields:!0}).then(()=>(V(),!0)).catch(xe=>(D(xe),Promise.reject(xe)))},ce=async(ue,Me)=>{if(_||!n.prop)return!1;const De=cn(Me);if(!J.value)return Me==null||Me(!1),!1;const xe=Y(ue);return xe.length===0?(Me==null||Me(!0),!0):(q("validating"),ee(xe).then(()=>(Me==null||Me(!0),!0)).catch(G=>{const{fields:He}=G;return Me==null||Me(!1,He),De?!1:Promise.reject(He)}))},ae=()=>{q(""),v.value="",_=!1},le=async()=>{const ue=r==null?void 0:r.model;if(!ue||!n.prop)return;const Me=th(ue,n.prop);_=!0,Me.value=l1(y),await _t(),ae(),_=!1},ye=ue=>{c.value.includes(ue)||c.value.push(ue)},Ee=ue=>{c.value=c.value.filter(Me=>Me!==ue)};Le(()=>n.error,ue=>{v.value=ue||"",q(ue?"error":"")},{immediate:!0}),Le(()=>n.validateStatus,ue=>q(ue||""));const pe=Xt({...Oi(n),$el:g,size:a,validateState:d,labelId:l,inputIds:c,isGroup:U,hasLabel:I,fieldValue:N,addInputId:ye,removeInputId:Ee,resetField:le,clearValidate:ae,validate:ce});return Jt(la,pe),St(()=>{n.prop&&(r==null||r.addField(pe),y=l1(N.value))}),Tn(()=>{r==null||r.removeField(pe)}),e({size:a,validateMessage:v,validateState:d,validate:ce,clearValidate:ae,resetField:le}),(ue,Me)=>{var De;return P(),K("div",{ref_key:"formItemRef",ref:g,class:z(f(E)),role:f(U)?"group":void 0,"aria-labelledby":f(U)?f(l):void 0},[Q(f(jG),{"is-auto-width":f(b).width==="auto","update-all":((De=f(r))==null?void 0:De.labelWidth)==="auto"},{default:te(()=>[f(I)?(P(),we(zt(f(O)?"label":"div"),{key:0,id:f(l),for:f(O),class:z(f(o).e("label")),style:bt(f(b))},{default:te(()=>[oe(ue.$slots,"label",{label:f(X)},()=>[pt(Ne(f(X)),1)])]),_:3},8,["id","for","class","style"])):he("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),Z("div",{class:z(f(o).e("content")),style:bt(f(M))},[oe(ue.$slots,"default"),Q(VC,{name:`${f(o).namespace.value}-zoom-in-top`},{default:te(()=>[f(B)?oe(ue.$slots,"error",{key:0,error:v.value},()=>[Z("div",{class:z(f(T))},Ne(v.value),3)]):he("v-if",!0)]),_:3},8,["name"])],6)],10,["role","aria-labelledby"])}}});var dM=We(ZG,[["__file","form-item.vue"]]);const JG=Ft(pG,{FormItem:dM}),QG=Vn(dM);let Es;const e9=`
  height:0 !important;
  visibility:hidden !important;
  ${z0()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,t9=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function n9(t){const e=window.getComputedStyle(t),n=e.getPropertyValue("box-sizing"),i=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),r=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:t9.map(a=>`${a}:${e.getPropertyValue(a)}`).join(";"),paddingSize:i,borderSize:r,boxSizing:n}}function H1(t,e=1,n){var i;Es||(Es=document.createElement("textarea"),document.body.appendChild(Es));const{paddingSize:r,borderSize:s,boxSizing:a,contextStyle:o}=n9(t);Es.setAttribute("style",`${o};${e9}`),Es.value=t.value||t.placeholder||"";let l=Es.scrollHeight;const c={};a==="border-box"?l=l+s:a==="content-box"&&(l=l-r),Es.value="";const d=Es.scrollHeight-r;if(Pt(e)){let p=d*e;a==="border-box"&&(p=p+r+s),l=Math.max(p,l),c.minHeight=`${p}px`}if(Pt(n)){let p=d*n;a==="border-box"&&(p=p+r+s),l=Math.min(p,l)}return c.height=`${l}px`,(i=Es.parentNode)==null||i.removeChild(Es),Es=void 0,c}const Ly=Ge({id:{type:String,default:void 0},size:_i,disabled:Boolean,modelValue:{type:_e([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:_e([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:En},prefixIcon:{type:En},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:_e([Object,Array,String]),default:()=>Un({})},autofocus:Boolean,rows:{type:Number,default:2},...$i(["ariaLabel"])}),i9={[Kt]:t=>Wt(t),input:t=>Wt(t),change:t=>Wt(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},r9=ie({name:"ElInput",inheritAttrs:!1}),s9=ie({...r9,props:Ly,emits:i9,setup(t,{expose:e,emit:n}){const i=t,r=Pl(),s=Si(),a=L(()=>{const Re={};return i.containerRole==="combobox"&&(Re["aria-haspopup"]=r["aria-haspopup"],Re["aria-owns"]=r["aria-owns"],Re["aria-expanded"]=r["aria-expanded"]),Re}),o=L(()=>[i.type==="textarea"?w.b():_.b(),_.m(g.value),_.is("disabled",y.value),_.is("exceed",ae.value),{[_.b("group")]:s.prepend||s.append,[_.m("prefix")]:s.prefix||i.prefixIcon,[_.m("suffix")]:s.suffix||i.suffixIcon||i.clearable||i.showPassword,[_.bm("suffix","password-clear")]:D.value&&V.value,[_.b("hidden")]:i.type==="hidden"},r.class]),l=L(()=>[_.e("wrapper"),_.is("focus",U.value)]),c=fy({excludeKeys:L(()=>Object.keys(a.value))}),{form:d,formItem:p}=or(),{inputId:v}=Gs(i,{formItemContext:p}),g=pi(),y=ar(),_=Fe("input"),w=Fe("textarea"),b=An(),M=An(),E=W(!1),x=W(!1),T=W(),k=An(i.inputStyle),I=L(()=>b.value||M.value),{wrapperRef:O,isFocused:U,handleFocus:R,handleBlur:N}=Vd(I,{beforeFocus(){return y.value},afterBlur(){var Re;i.validateEvent&&((Re=p==null?void 0:p.validate)==null||Re.call(p,"blur").catch(Xe=>void 0))}}),$=L(()=>{var Re;return(Re=d==null?void 0:d.statusIcon)!=null?Re:!1}),J=L(()=>(p==null?void 0:p.validateState)||""),Y=L(()=>J.value&&dy[J.value]),H=L(()=>x.value?R4:QD),B=L(()=>[r.style]),X=L(()=>[i.inputStyle,k.value,{resize:i.resize}]),q=L(()=>Ai(i.modelValue)?"":String(i.modelValue)),D=L(()=>i.clearable&&!y.value&&!i.readonly&&!!q.value&&(U.value||E.value)),V=L(()=>i.showPassword&&!y.value&&!i.readonly&&!!q.value&&(!!q.value||U.value)),ee=L(()=>i.showWordLimit&&!!i.maxlength&&(i.type==="text"||i.type==="textarea")&&!y.value&&!i.readonly&&!i.showPassword),ce=L(()=>q.value.length),ae=L(()=>!!ee.value&&ce.value>Number(i.maxlength)),le=L(()=>!!s.suffix||!!i.suffixIcon||D.value||i.showPassword||ee.value||!!J.value&&$.value),[ye,Ee]=LH(b);Fn(M,Re=>{if(Me(),!ee.value||i.resize!=="both")return;const Xe=Re[0],{width:gt}=Xe.contentRect;T.value={right:`calc(100% - ${gt+15+6}px)`}});const pe=()=>{const{type:Re,autosize:Xe}=i;if(!(!nn||Re!=="textarea"||!M.value))if(Xe){const gt=Sn(Xe)?Xe.minRows:void 0,nt=Sn(Xe)?Xe.maxRows:void 0,Lt=H1(M.value,gt,nt);k.value={overflowY:"hidden",...Lt},_t(()=>{M.value.offsetHeight,k.value=Lt})}else k.value={minHeight:H1(M.value).minHeight}},Me=(Re=>{let Xe=!1;return()=>{var gt;if(Xe||!i.autosize)return;((gt=M.value)==null?void 0:gt.offsetParent)===null||(Re(),Xe=!0)}})(pe),De=()=>{const Re=I.value,Xe=i.formatter?i.formatter(q.value):q.value;!Re||Re.value===Xe||(Re.value=Xe)},xe=async Re=>{ye();let{value:Xe}=Re.target;if(i.formatter&&(Xe=i.parser?i.parser(Xe):Xe),!He.value){if(Xe===q.value){De();return}n(Kt,Xe),n("input",Xe),await _t(),De(),Ee()}},G=Re=>{n("change",Re.target.value)},{isComposing:He,handleCompositionStart:Je,handleCompositionUpdate:at,handleCompositionEnd:rt}=Cp({emit:n,afterComposition:xe}),it=()=>{x.value=!x.value,qe()},qe=async()=>{var Re;await _t(),(Re=I.value)==null||Re.focus()},ne=()=>{var Re;return(Re=I.value)==null?void 0:Re.blur()},se=Re=>{E.value=!1,n("mouseleave",Re)},ke=Re=>{E.value=!0,n("mouseenter",Re)},Be=Re=>{n("keydown",Re)},Ve=()=>{var Re;(Re=I.value)==null||Re.select()},Ae=()=>{n(Kt,""),n("change",""),n("clear"),n("input","")};return Le(()=>i.modelValue,()=>{var Re;_t(()=>pe()),i.validateEvent&&((Re=p==null?void 0:p.validate)==null||Re.call(p,"change").catch(Xe=>void 0))}),Le(q,()=>De()),Le(()=>i.type,async()=>{await _t(),De(),pe()}),St(()=>{!i.formatter&&i.parser,De(),_t(pe)}),e({input:b,textarea:M,ref:I,textareaStyle:X,autosize:yn(i,"autosize"),isComposing:He,focus:qe,blur:ne,select:Ve,clear:Ae,resizeTextarea:pe}),(Re,Xe)=>(P(),K("div",Gt(f(a),{class:[f(o),{[f(_).bm("group","append")]:Re.$slots.append,[f(_).bm("group","prepend")]:Re.$slots.prepend}],style:f(B),role:Re.containerRole,onMouseenter:ke,onMouseleave:se}),[he(" input "),Re.type!=="textarea"?(P(),K(ct,{key:0},[he(" prepend slot "),Re.$slots.prepend?(P(),K("div",{key:0,class:z(f(_).be("group","prepend"))},[oe(Re.$slots,"prepend")],2)):he("v-if",!0),Z("div",{ref_key:"wrapperRef",ref:O,class:z(f(l))},[he(" prefix slot "),Re.$slots.prefix||Re.prefixIcon?(P(),K("span",{key:0,class:z(f(_).e("prefix"))},[Z("span",{class:z(f(_).e("prefix-inner"))},[oe(Re.$slots,"prefix"),Re.prefixIcon?(P(),we(f(ft),{key:0,class:z(f(_).e("icon"))},{default:te(()=>[(P(),we(zt(Re.prefixIcon)))]),_:1},8,["class"])):he("v-if",!0)],2)],2)):he("v-if",!0),Z("input",Gt({id:f(v),ref_key:"input",ref:b,class:f(_).e("inner")},f(c),{minlength:Re.minlength,maxlength:Re.maxlength,type:Re.showPassword?x.value?"text":"password":Re.type,disabled:f(y),readonly:Re.readonly,autocomplete:Re.autocomplete,tabindex:Re.tabindex,"aria-label":Re.ariaLabel,placeholder:Re.placeholder,style:Re.inputStyle,form:Re.form,autofocus:Re.autofocus,onCompositionstart:f(Je),onCompositionupdate:f(at),onCompositionend:f(rt),onInput:xe,onChange:G,onKeydown:Be}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","onCompositionstart","onCompositionupdate","onCompositionend"]),he(" suffix slot "),f(le)?(P(),K("span",{key:1,class:z(f(_).e("suffix"))},[Z("span",{class:z(f(_).e("suffix-inner"))},[!f(D)||!f(V)||!f(ee)?(P(),K(ct,{key:0},[oe(Re.$slots,"suffix"),Re.suffixIcon?(P(),we(f(ft),{key:0,class:z(f(_).e("icon"))},{default:te(()=>[(P(),we(zt(Re.suffixIcon)))]),_:1},8,["class"])):he("v-if",!0)],64)):he("v-if",!0),f(D)?(P(),we(f(ft),{key:1,class:z([f(_).e("icon"),f(_).e("clear")]),onMousedown:Mt(f(Yn),["prevent"]),onClick:Ae},{default:te(()=>[Q(f(To))]),_:1},8,["class","onMousedown"])):he("v-if",!0),f(V)?(P(),we(f(ft),{key:2,class:z([f(_).e("icon"),f(_).e("password")]),onClick:it},{default:te(()=>[(P(),we(zt(f(H))))]),_:1},8,["class"])):he("v-if",!0),f(ee)?(P(),K("span",{key:3,class:z(f(_).e("count"))},[Z("span",{class:z(f(_).e("count-inner"))},Ne(f(ce))+" / "+Ne(Re.maxlength),3)],2)):he("v-if",!0),f(J)&&f(Y)&&f($)?(P(),we(f(ft),{key:4,class:z([f(_).e("icon"),f(_).e("validateIcon"),f(_).is("loading",f(J)==="validating")])},{default:te(()=>[(P(),we(zt(f(Y))))]),_:1},8,["class"])):he("v-if",!0)],2)],2)):he("v-if",!0)],2),he(" append slot "),Re.$slots.append?(P(),K("div",{key:1,class:z(f(_).be("group","append"))},[oe(Re.$slots,"append")],2)):he("v-if",!0)],64)):(P(),K(ct,{key:1},[he(" textarea "),Z("textarea",Gt({id:f(v),ref_key:"textarea",ref:M,class:[f(w).e("inner"),f(_).is("focus",f(U))]},f(c),{minlength:Re.minlength,maxlength:Re.maxlength,tabindex:Re.tabindex,disabled:f(y),readonly:Re.readonly,autocomplete:Re.autocomplete,style:f(X),"aria-label":Re.ariaLabel,placeholder:Re.placeholder,form:Re.form,autofocus:Re.autofocus,rows:Re.rows,onCompositionstart:f(Je),onCompositionupdate:f(at),onCompositionend:f(rt),onInput:xe,onFocus:f(R),onBlur:f(N),onChange:G,onKeydown:Be}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),f(ee)?(P(),K("span",{key:0,style:bt(T.value),class:z(f(_).e("count"))},Ne(f(ce))+" / "+Ne(Re.maxlength),7)):he("v-if",!0)],64))],16,["role"]))}});var a9=We(s9,[["__file","input.vue"]]);const tr=Ft(a9),Hl=4,fM={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},o9=({move:t,size:e,bar:n})=>({[n.size]:e,transform:`translate${n.axis}(${t}%)`}),Ny=Symbol("scrollbarContextKey"),l9=Ge({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),u9="Thumb",c9=ie({__name:"thumb",props:l9,setup(t){const e=t,n=dt(Ny),i=Fe("scrollbar");n||yi(u9,"can not inject scrollbar context");const r=W(),s=W(),a=W({}),o=W(!1);let l=!1,c=!1,d=nn?document.onselectstart:null;const p=L(()=>fM[e.vertical?"vertical":"horizontal"]),v=L(()=>o9({size:e.size,move:e.move,bar:p.value})),g=L(()=>r.value[p.value.offset]**2/n.wrapElement[p.value.scrollSize]/e.ratio/s.value[p.value.offset]),y=k=>{var I;if(k.stopPropagation(),k.ctrlKey||[1,2].includes(k.button))return;(I=window.getSelection())==null||I.removeAllRanges(),w(k);const O=k.currentTarget;O&&(a.value[p.value.axis]=O[p.value.offset]-(k[p.value.client]-O.getBoundingClientRect()[p.value.direction]))},_=k=>{if(!s.value||!r.value||!n.wrapElement)return;const I=Math.abs(k.target.getBoundingClientRect()[p.value.direction]-k[p.value.client]),O=s.value[p.value.offset]/2,U=(I-O)*100*g.value/r.value[p.value.offset];n.wrapElement[p.value.scroll]=U*n.wrapElement[p.value.scrollSize]/100},w=k=>{k.stopImmediatePropagation(),l=!0,document.addEventListener("mousemove",b),document.addEventListener("mouseup",M),d=document.onselectstart,document.onselectstart=()=>!1},b=k=>{if(!r.value||!s.value||l===!1)return;const I=a.value[p.value.axis];if(!I)return;const O=(r.value.getBoundingClientRect()[p.value.direction]-k[p.value.client])*-1,U=s.value[p.value.offset]-I,R=(O-U)*100*g.value/r.value[p.value.offset];n.wrapElement[p.value.scroll]=R*n.wrapElement[p.value.scrollSize]/100},M=()=>{l=!1,a.value[p.value.axis]=0,document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",M),T(),c&&(o.value=!1)},E=()=>{c=!1,o.value=!!e.size},x=()=>{c=!0,o.value=l};Tn(()=>{T(),document.removeEventListener("mouseup",M)});const T=()=>{document.onselectstart!==d&&(document.onselectstart=d)};return bn(yn(n,"scrollbarElement"),"mousemove",E),bn(yn(n,"scrollbarElement"),"mouseleave",x),(k,I)=>(P(),we(di,{name:f(i).b("fade"),persisted:""},{default:te(()=>[Ut(Z("div",{ref_key:"instance",ref:r,class:z([f(i).e("bar"),f(i).is(f(p).key)]),onMousedown:_},[Z("div",{ref_key:"thumb",ref:s,class:z(f(i).e("thumb")),style:bt(f(v)),onMousedown:y},null,38)],34),[[on,k.always||o.value]])]),_:1},8,["name"]))}});var G1=We(c9,[["__file","thumb.vue"]]);const d9=Ge({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),f9=ie({__name:"bar",props:d9,setup(t,{expose:e}){const n=t,i=dt(Ny),r=W(0),s=W(0),a=W(""),o=W(""),l=W(1),c=W(1);return e({handleScroll:v=>{if(v){const g=v.offsetHeight-Hl,y=v.offsetWidth-Hl;s.value=v.scrollTop*100/g*l.value,r.value=v.scrollLeft*100/y*c.value}},update:()=>{const v=i==null?void 0:i.wrapElement;if(!v)return;const g=v.offsetHeight-Hl,y=v.offsetWidth-Hl,_=g**2/v.scrollHeight,w=y**2/v.scrollWidth,b=Math.max(_,n.minSize),M=Math.max(w,n.minSize);l.value=_/(g-_)/(b/(g-b)),c.value=w/(y-w)/(M/(y-M)),o.value=b+Hl<g?`${b}px`:"",a.value=M+Hl<y?`${M}px`:""}}),(v,g)=>(P(),K(ct,null,[Q(G1,{move:r.value,ratio:c.value,size:a.value,always:v.always},null,8,["move","ratio","size","always"]),Q(G1,{move:s.value,ratio:l.value,size:o.value,vertical:"",always:v.always},null,8,["move","ratio","size","always"])],64))}});var h9=We(f9,[["__file","bar.vue"]]);const p9=Ge({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:_e([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...$i(["ariaLabel","ariaOrientation"])}),m9={scroll:({scrollTop:t,scrollLeft:e})=>[t,e].every(Pt)},v9="ElScrollbar",g9=ie({name:v9}),y9=ie({...g9,props:p9,emits:m9,setup(t,{expose:e,emit:n}){const i=t,r=Fe("scrollbar");let s,a,o=0,l=0;const c=W(),d=W(),p=W(),v=W(),g=L(()=>{const T={};return i.height&&(T.height=Jn(i.height)),i.maxHeight&&(T.maxHeight=Jn(i.maxHeight)),[i.wrapStyle,T]}),y=L(()=>[i.wrapClass,r.e("wrap"),{[r.em("wrap","hidden-default")]:!i.native}]),_=L(()=>[r.e("view"),i.viewClass]),w=()=>{var T;d.value&&((T=v.value)==null||T.handleScroll(d.value),o=d.value.scrollTop,l=d.value.scrollLeft,n("scroll",{scrollTop:d.value.scrollTop,scrollLeft:d.value.scrollLeft}))};function b(T,k){Sn(T)?d.value.scrollTo(T):Pt(T)&&Pt(k)&&d.value.scrollTo(T,k)}const M=T=>{Pt(T)&&(d.value.scrollTop=T)},E=T=>{Pt(T)&&(d.value.scrollLeft=T)},x=()=>{var T;(T=v.value)==null||T.update()};return Le(()=>i.noresize,T=>{T?(s==null||s(),a==null||a()):({stop:s}=Fn(p,x),a=bn("resize",x))},{immediate:!0}),Le(()=>[i.maxHeight,i.height],()=>{i.native||_t(()=>{var T;x(),d.value&&((T=v.value)==null||T.handleScroll(d.value))})}),Jt(Ny,Xt({scrollbarElement:c,wrapElement:d})),zC(()=>{d.value&&(d.value.scrollTop=o,d.value.scrollLeft=l)}),St(()=>{i.native||_t(()=>{x()})}),Mo(()=>x()),e({wrapRef:d,update:x,scrollTo:b,setScrollTop:M,setScrollLeft:E,handleScroll:w}),(T,k)=>(P(),K("div",{ref_key:"scrollbarRef",ref:c,class:z(f(r).b())},[Z("div",{ref_key:"wrapRef",ref:d,class:z(f(y)),style:bt(f(g)),tabindex:T.tabindex,onScroll:w},[(P(),we(zt(T.tag),{id:T.id,ref_key:"resizeRef",ref:p,class:z(f(_)),style:bt(T.viewStyle),role:T.role,"aria-label":T.ariaLabel,"aria-orientation":T.ariaOrientation},{default:te(()=>[oe(T.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),T.native?he("v-if",!0):(P(),we(h9,{key:0,ref_key:"barRef",ref:v,always:T.always,"min-size":T.minSize},null,8,["always","min-size"]))],2))}});var _9=We(y9,[["__file","scrollbar.vue"]]);const fa=Ft(_9),Oy=Symbol("popper"),hM=Symbol("popperContent"),b9=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],pM=Ge({role:{type:String,values:b9,default:"tooltip"}}),w9=ie({name:"ElPopper",inheritAttrs:!1}),S9=ie({...w9,props:pM,setup(t,{expose:e}){const n=t,i=W(),r=W(),s=W(),a=W(),o=L(()=>n.role),l={triggerRef:i,popperInstanceRef:r,contentRef:s,referenceRef:a,role:o};return e(l),Jt(Oy,l),(c,d)=>oe(c.$slots,"default")}});var E9=We(S9,[["__file","popper.vue"]]);const mM=Ge({arrowOffset:{type:Number,default:5}}),C9=ie({name:"ElPopperArrow",inheritAttrs:!1}),x9=ie({...C9,props:mM,setup(t,{expose:e}){const n=t,i=Fe("popper"),{arrowOffset:r,arrowRef:s,arrowStyle:a}=dt(hM,void 0);return Le(()=>n.arrowOffset,o=>{r.value=o}),Tn(()=>{s.value=void 0}),e({arrowRef:s}),(o,l)=>(P(),K("span",{ref_key:"arrowRef",ref:s,class:z(f(i).e("arrow")),style:bt(f(a)),"data-popper-arrow":""},null,6))}});var M9=We(x9,[["__file","arrow.vue"]]);const T9="ElOnlyChild",vM=ie({name:T9,setup(t,{slots:e,attrs:n}){var i;const r=dt(Wx),s=j$((i=r==null?void 0:r.setForwardRef)!=null?i:Yn);return()=>{var a;const o=(a=e.default)==null?void 0:a.call(e,n);if(!o||o.length>1)return null;const l=gM(o);return l?Ut(VR(l,n),[[s]]):null}}});function gM(t){if(!t)return null;const e=t;for(const n of e){if(Sn(n))switch(n.type){case x0:continue;case $C:case"svg":return W1(n);case ct:return gM(n.children);default:return n}return W1(n)}return null}function W1(t){const e=Fe("only-child");return Q("span",{class:e.e("content")},[t])}const yM=Ge({virtualRef:{type:_e(Object)},virtualTriggering:Boolean,onMouseenter:{type:_e(Function)},onMouseleave:{type:_e(Function)},onClick:{type:_e(Function)},onKeydown:{type:_e(Function)},onFocus:{type:_e(Function)},onBlur:{type:_e(Function)},onContextmenu:{type:_e(Function)},id:String,open:Boolean}),A9=ie({name:"ElPopperTrigger",inheritAttrs:!1}),k9=ie({...A9,props:yM,setup(t,{expose:e}){const n=t,{role:i,triggerRef:r}=dt(Oy,void 0);Y$(r);const s=L(()=>o.value?n.id:void 0),a=L(()=>{if(i&&i.value==="tooltip")return n.open&&n.id?n.id:void 0}),o=L(()=>{if(i&&i.value!=="tooltip")return i.value}),l=L(()=>o.value?`${n.open}`:void 0);let c;const d=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return St(()=>{Le(()=>n.virtualRef,p=>{p&&(r.value=Ar(p))},{immediate:!0}),Le(r,(p,v)=>{c==null||c(),c=void 0,Yr(p)&&(d.forEach(g=>{var y;const _=n[g];_&&(p.addEventListener(g.slice(2).toLowerCase(),_),(y=v==null?void 0:v.removeEventListener)==null||y.call(v,g.slice(2).toLowerCase(),_))}),c=Le([s,a,o,l],g=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((y,_)=>{Ai(g[_])?p.removeAttribute(y):p.setAttribute(y,g[_])})},{immediate:!0})),Yr(v)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(g=>v.removeAttribute(g))},{immediate:!0})}),Tn(()=>{if(c==null||c(),c=void 0,r.value&&Yr(r.value)){const p=r.value;d.forEach(v=>{const g=n[v];g&&p.removeEventListener(v.slice(2).toLowerCase(),g)}),r.value=void 0}}),e({triggerRef:r}),(p,v)=>p.virtualTriggering?he("v-if",!0):(P(),we(f(vM),Gt({key:0},p.$attrs,{"aria-controls":f(s),"aria-describedby":f(a),"aria-expanded":f(l),"aria-haspopup":f(o)}),{default:te(()=>[oe(p.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var P9=We(k9,[["__file","trigger.vue"]]);const _m="focus-trap.focus-after-trapped",bm="focus-trap.focus-after-released",R9="focus-trap.focusout-prevented",K1={cancelable:!0,bubbles:!1},I9={cancelable:!0,bubbles:!1},q1="focusAfterTrapped",Y1="focusAfterReleased",Dy=Symbol("elFocusTrap"),Fy=W(),Ap=W(0),By=W(0);let ff=0;const _M=t=>{const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0||i===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e},j1=(t,e)=>{for(const n of t)if(!L9(n,e))return n},L9=(t,e)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},N9=t=>{const e=_M(t),n=j1(e,t),i=j1(e.reverse(),t);return[n,i]},O9=t=>t instanceof HTMLInputElement&&"select"in t,Ja=(t,e)=>{if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),By.value=window.performance.now(),t!==n&&O9(t)&&e&&t.select()}};function X1(t,e){const n=[...t],i=t.indexOf(e);return i!==-1&&n.splice(i,1),n}const D9=()=>{let t=[];return{push:i=>{const r=t[0];r&&i!==r&&r.pause(),t=X1(t,i),t.unshift(i)},remove:i=>{var r,s;t=X1(t,i),(s=(r=t[0])==null?void 0:r.resume)==null||s.call(r)}}},F9=(t,e=!1)=>{const n=document.activeElement;for(const i of t)if(Ja(i,e),document.activeElement!==n)return},Z1=D9(),B9=()=>Ap.value>By.value,hf=()=>{Fy.value="pointer",Ap.value=window.performance.now()},J1=()=>{Fy.value="keyboard",Ap.value=window.performance.now()},U9=()=>(St(()=>{ff===0&&(document.addEventListener("mousedown",hf),document.addEventListener("touchstart",hf),document.addEventListener("keydown",J1)),ff++}),Tn(()=>{ff--,ff<=0&&(document.removeEventListener("mousedown",hf),document.removeEventListener("touchstart",hf),document.removeEventListener("keydown",J1))}),{focusReason:Fy,lastUserFocusTimestamp:Ap,lastAutomatedFocusTimestamp:By}),pf=t=>new CustomEvent(R9,{...I9,detail:t}),V9=ie({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[q1,Y1,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:e}){const n=W();let i,r;const{focusReason:s}=U9();H$(y=>{t.trapped&&!a.paused&&e("release-requested",y)});const a={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},o=y=>{if(!t.loop&&!t.trapped||a.paused)return;const{key:_,altKey:w,ctrlKey:b,metaKey:M,currentTarget:E,shiftKey:x}=y,{loop:T}=t,k=_===Et.tab&&!w&&!b&&!M,I=document.activeElement;if(k&&I){const O=E,[U,R]=N9(O);if(U&&R){if(!x&&I===R){const $=pf({focusReason:s.value});e("focusout-prevented",$),$.defaultPrevented||(y.preventDefault(),T&&Ja(U,!0))}else if(x&&[U,O].includes(I)){const $=pf({focusReason:s.value});e("focusout-prevented",$),$.defaultPrevented||(y.preventDefault(),T&&Ja(R,!0))}}else if(I===O){const $=pf({focusReason:s.value});e("focusout-prevented",$),$.defaultPrevented||y.preventDefault()}}};Jt(Dy,{focusTrapRef:n,onKeydown:o}),Le(()=>t.focusTrapEl,y=>{y&&(n.value=y)},{immediate:!0}),Le([n],([y],[_])=>{y&&(y.addEventListener("keydown",o),y.addEventListener("focusin",d),y.addEventListener("focusout",p)),_&&(_.removeEventListener("keydown",o),_.removeEventListener("focusin",d),_.removeEventListener("focusout",p))});const l=y=>{e(q1,y)},c=y=>e(Y1,y),d=y=>{const _=f(n);if(!_)return;const w=y.target,b=y.relatedTarget,M=w&&_.contains(w);t.trapped||b&&_.contains(b)||(i=b),M&&e("focusin",y),!a.paused&&t.trapped&&(M?r=w:Ja(r,!0))},p=y=>{const _=f(n);if(!(a.paused||!_))if(t.trapped){const w=y.relatedTarget;!Ai(w)&&!_.contains(w)&&setTimeout(()=>{if(!a.paused&&t.trapped){const b=pf({focusReason:s.value});e("focusout-prevented",b),b.defaultPrevented||Ja(r,!0)}},0)}else{const w=y.target;w&&_.contains(w)||e("focusout",y)}};async function v(){await _t();const y=f(n);if(y){Z1.push(a);const _=y.contains(document.activeElement)?i:document.activeElement;if(i=_,!y.contains(_)){const b=new Event(_m,K1);y.addEventListener(_m,l),y.dispatchEvent(b),b.defaultPrevented||_t(()=>{let M=t.focusStartEl;Wt(M)||(Ja(M),document.activeElement!==M&&(M="first")),M==="first"&&F9(_M(y),!0),(document.activeElement===_||M==="container")&&Ja(y)})}}}function g(){const y=f(n);if(y){y.removeEventListener(_m,l);const _=new CustomEvent(bm,{...K1,detail:{focusReason:s.value}});y.addEventListener(bm,c),y.dispatchEvent(_),!_.defaultPrevented&&(s.value=="keyboard"||!B9()||y.contains(document.activeElement))&&Ja(i??document.body),y.removeEventListener(bm,c),Z1.remove(a)}}return St(()=>{t.trapped&&v(),Le(()=>t.trapped,y=>{y?v():g()})}),Tn(()=>{t.trapped&&g(),n.value&&(n.value.removeEventListener("keydown",o),n.value.removeEventListener("focusin",d),n.value.removeEventListener("focusout",p),n.value=void 0)}),{onKeydown:o}}});function z9(t,e,n,i,r,s){return oe(t.$slots,"default",{handleKeydown:t.onKeydown})}var $d=We(V9,[["render",z9],["__file","focus-trap.vue"]]);const $9=["fixed","absolute"],H9=Ge({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:_e(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Va,default:"bottom"},popperOptions:{type:_e(Object),default:()=>({})},strategy:{type:String,values:$9,default:"absolute"}}),bM=Ge({...H9,id:String,style:{type:_e([String,Array,Object])},className:{type:_e([String,Array,Object])},effect:{type:_e(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:_e([String,Array,Object])},popperStyle:{type:_e([String,Array,Object])},referenceEl:{type:_e(Object)},triggerTargetEl:{type:_e(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...$i(["ariaLabel"])}),G9={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},W9=(t,e=[])=>{const{placement:n,strategy:i,popperOptions:r}=t,s={placement:n,strategy:i,...r,modifiers:[...q9(t),...e]};return Y9(s,r==null?void 0:r.modifiers),s},K9=t=>{if(nn)return Ar(t)};function q9(t){const{offset:e,gpuAcceleration:n,fallbackPlacements:i}=t;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:i}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function Y9(t,e){e&&(t.modifiers=[...t.modifiers,...e??[]])}const j9=0,X9=t=>{const{popperInstanceRef:e,contentRef:n,triggerRef:i,role:r}=dt(Oy,void 0),s=W(),a=W(),o=L(()=>({name:"eventListeners",enabled:!!t.visible})),l=L(()=>{var b;const M=f(s),E=(b=f(a))!=null?b:j9;return{name:"arrow",enabled:!wx(M),options:{element:M,padding:E}}}),c=L(()=>({onFirstUpdate:()=>{y()},...W9(t,[f(l),f(o)])})),d=L(()=>K9(t.referenceEl)||f(i)),{attributes:p,state:v,styles:g,update:y,forceUpdate:_,instanceRef:w}=U$(d,n,c);return Le(w,b=>e.value=b),St(()=>{Le(()=>{var b;return(b=f(d))==null?void 0:b.getBoundingClientRect()},()=>{y()})}),{attributes:p,arrowRef:s,contentRef:n,instanceRef:w,state:v,styles:g,role:r,forceUpdate:_,update:y}},Z9=(t,{attributes:e,styles:n,role:i})=>{const{nextZIndex:r}=oc(),s=Fe("popper"),a=L(()=>f(e).popper),o=W(Pt(t.zIndex)?t.zIndex:r()),l=L(()=>[s.b(),s.is("pure",t.pure),s.is(t.effect),t.popperClass]),c=L(()=>[{zIndex:f(o)},f(n).popper,t.popperStyle||{}]),d=L(()=>i.value==="dialog"?"false":void 0),p=L(()=>f(n).arrow||{});return{ariaModal:d,arrowStyle:p,contentAttrs:a,contentClass:l,contentStyle:c,contentZIndex:o,updateZIndex:()=>{o.value=Pt(t.zIndex)?t.zIndex:r()}}},J9=(t,e)=>{const n=W(!1),i=W();return{focusStartRef:i,trapped:n,onFocusAfterReleased:c=>{var d;((d=c.detail)==null?void 0:d.focusReason)!=="pointer"&&(i.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:c=>{t.visible&&!n.value&&(c.target&&(i.value=c.target),n.value=!0)},onFocusoutPrevented:c=>{t.trapping||(c.detail.focusReason==="pointer"&&c.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,e("close")}}},Q9=ie({name:"ElPopperContent"}),eW=ie({...Q9,props:bM,emits:G9,setup(t,{expose:e,emit:n}){const i=t,{focusStartRef:r,trapped:s,onFocusAfterReleased:a,onFocusAfterTrapped:o,onFocusInTrap:l,onFocusoutPrevented:c,onReleaseRequested:d}=J9(i,n),{attributes:p,arrowRef:v,contentRef:g,styles:y,instanceRef:_,role:w,update:b}=X9(i),{ariaModal:M,arrowStyle:E,contentAttrs:x,contentClass:T,contentStyle:k,updateZIndex:I}=Z9(i,{styles:y,attributes:p,role:w}),O=dt(la,void 0),U=W();Jt(hM,{arrowStyle:E,arrowRef:v,arrowOffset:U}),O&&Jt(la,{...O,addInputId:Yn,removeInputId:Yn});let R;const N=(J=!0)=>{b(),J&&I()},$=()=>{N(!1),i.visible&&i.focusOnShow?s.value=!0:i.visible===!1&&(s.value=!1)};return St(()=>{Le(()=>i.triggerTargetEl,(J,Y)=>{R==null||R(),R=void 0;const H=f(J||g.value),B=f(Y||g.value);Yr(H)&&(R=Le([w,()=>i.ariaLabel,M,()=>i.id],X=>{["role","aria-label","aria-modal","id"].forEach((q,D)=>{Ai(X[D])?H.removeAttribute(q):H.setAttribute(q,X[D])})},{immediate:!0})),B!==H&&Yr(B)&&["role","aria-label","aria-modal","id"].forEach(X=>{B.removeAttribute(X)})},{immediate:!0}),Le(()=>i.visible,$,{immediate:!0})}),Tn(()=>{R==null||R(),R=void 0}),e({popperContentRef:g,popperInstanceRef:_,updatePopper:N,contentStyle:k}),(J,Y)=>(P(),K("div",Gt({ref_key:"contentRef",ref:g},f(x),{style:f(k),class:f(T),tabindex:"-1",onMouseenter:H=>J.$emit("mouseenter",H),onMouseleave:H=>J.$emit("mouseleave",H)}),[Q(f($d),{trapped:f(s),"trap-on-focus-in":!0,"focus-trap-el":f(g),"focus-start-el":f(r),onFocusAfterTrapped:f(o),onFocusAfterReleased:f(a),onFocusin:f(l),onFocusoutPrevented:f(c),onReleaseRequested:f(d)},{default:te(()=>[oe(J.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var tW=We(eW,[["__file","content.vue"]]);const wM=Ft(E9),kp=Symbol("elTooltip"),Li=Ge({...K$,...bM,appendTo:{type:_e([String,Object])},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:_e(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...$i(["ariaLabel"])}),fd=Ge({...yM,disabled:Boolean,trigger:{type:_e([String,Array]),default:"hover"},triggerKeys:{type:_e(Array),default:()=>[Et.enter,Et.space]}}),{useModelToggleProps:nW,useModelToggleEmits:iW,useModelToggle:rW}=Rx("visible"),sW=Ge({...pM,...nW,...Li,...fd,...mM,showArrow:{type:Boolean,default:!0}}),aW=[...iW,"before-show","before-hide","show","hide","open","close"],oW=(t,e)=>Ot(t)?t.includes(e):t===e,Gl=(t,e,n)=>i=>{oW(f(t),e)&&n(i)},lW=ie({name:"ElTooltipTrigger"}),uW=ie({...lW,props:fd,setup(t,{expose:e}){const n=t,i=Fe("tooltip"),{controlled:r,id:s,open:a,onOpen:o,onClose:l,onToggle:c}=dt(kp,void 0),d=W(null),p=()=>{if(f(r)||n.disabled)return!0},v=yn(n,"trigger"),g=jn(p,Gl(v,"hover",o)),y=jn(p,Gl(v,"hover",l)),_=jn(p,Gl(v,"click",x=>{x.button===0&&c(x)})),w=jn(p,Gl(v,"focus",o)),b=jn(p,Gl(v,"focus",l)),M=jn(p,Gl(v,"contextmenu",x=>{x.preventDefault(),c(x)})),E=jn(p,x=>{const{code:T}=x;n.triggerKeys.includes(T)&&(x.preventDefault(),c(x))});return e({triggerRef:d}),(x,T)=>(P(),we(f(P9),{id:f(s),"virtual-ref":x.virtualRef,open:f(a),"virtual-triggering":x.virtualTriggering,class:z(f(i).e("trigger")),onBlur:f(b),onClick:f(_),onContextmenu:f(M),onFocus:f(w),onMouseenter:f(g),onMouseleave:f(y),onKeydown:f(E)},{default:te(()=>[oe(x.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var cW=We(uW,[["__file","trigger.vue"]]);const dW=Ge({to:{type:_e([String,Object]),required:!0},disabled:Boolean}),fW=ie({__name:"teleport",props:dW,setup(t){return(e,n)=>e.disabled?oe(e.$slots,"default",{key:0}):(P(),we(zR,{key:1,to:e.to},[oe(e.$slots,"default")],8,["to"]))}});var hW=We(fW,[["__file","teleport.vue"]]);const cc=Ft(hW),pW=ie({name:"ElTooltipContent",inheritAttrs:!1}),mW=ie({...pW,props:Li,setup(t,{expose:e}){const n=t,{selector:i}=Gx(),r=Fe("tooltip"),s=W(null);let a;const{controlled:o,id:l,open:c,trigger:d,onClose:p,onOpen:v,onShow:g,onHide:y,onBeforeShow:_,onBeforeHide:w}=dt(kp,void 0),b=L(()=>n.transition||`${r.namespace.value}-fade-in-linear`),M=L(()=>n.persistent);Tn(()=>{a==null||a()});const E=L(()=>f(M)?!0:f(c)),x=L(()=>n.disabled?!1:f(c)),T=L(()=>n.appendTo||i.value),k=L(()=>{var B;return(B=n.style)!=null?B:{}}),I=W(!0),O=()=>{y(),I.value=!0},U=()=>{if(f(o))return!0},R=jn(U,()=>{n.enterable&&f(d)==="hover"&&v()}),N=jn(U,()=>{f(d)==="hover"&&p()}),$=()=>{var B,X;(X=(B=s.value)==null?void 0:B.updatePopper)==null||X.call(B),_==null||_()},J=()=>{w==null||w()},Y=()=>{g(),a=V0(L(()=>{var B;return(B=s.value)==null?void 0:B.popperContentRef}),()=>{if(f(o))return;f(d)!=="hover"&&p()})},H=()=>{n.virtualTriggering||p()};return Le(()=>f(c),B=>{B?I.value=!1:a==null||a()},{flush:"post"}),Le(()=>n.content,()=>{var B,X;(X=(B=s.value)==null?void 0:B.updatePopper)==null||X.call(B)}),e({contentRef:s}),(B,X)=>(P(),we(f(cc),{disabled:!B.teleported,to:f(T)},{default:te(()=>[Q(di,{name:f(b),onAfterLeave:O,onBeforeEnter:$,onAfterEnter:Y,onBeforeLeave:J},{default:te(()=>[f(E)?Ut((P(),we(f(tW),Gt({key:0,id:f(l),ref_key:"contentRef",ref:s},B.$attrs,{"aria-label":B.ariaLabel,"aria-hidden":I.value,"boundaries-padding":B.boundariesPadding,"fallback-placements":B.fallbackPlacements,"gpu-acceleration":B.gpuAcceleration,offset:B.offset,placement:B.placement,"popper-options":B.popperOptions,strategy:B.strategy,effect:B.effect,enterable:B.enterable,pure:B.pure,"popper-class":B.popperClass,"popper-style":[B.popperStyle,f(k)],"reference-el":B.referenceEl,"trigger-target-el":B.triggerTargetEl,visible:f(x),"z-index":B.zIndex,onMouseenter:f(R),onMouseleave:f(N),onBlur:H,onClose:f(p)}),{default:te(()=>[oe(B.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[on,f(x)]]):he("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var vW=We(mW,[["__file","content.vue"]]);const gW=ie({name:"ElTooltip"}),yW=ie({...gW,props:sW,emits:aW,setup(t,{expose:e,emit:n}){const i=t;W$();const r=zi(),s=W(),a=W(),o=()=>{var b;const M=f(s);M&&((b=M.popperInstanceRef)==null||b.update())},l=W(!1),c=W(),{show:d,hide:p,hasUpdateHandler:v}=rW({indicator:l,toggleReason:c}),{onOpen:g,onClose:y}=q$({showAfter:yn(i,"showAfter"),hideAfter:yn(i,"hideAfter"),autoClose:yn(i,"autoClose"),open:d,close:p}),_=L(()=>Gn(i.visible)&&!v.value);Jt(kp,{controlled:_,id:r,open:nc(l),trigger:yn(i,"trigger"),onOpen:b=>{g(b)},onClose:b=>{y(b)},onToggle:b=>{f(l)?y(b):g(b)},onShow:()=>{n("show",c.value)},onHide:()=>{n("hide",c.value)},onBeforeShow:()=>{n("before-show",c.value)},onBeforeHide:()=>{n("before-hide",c.value)},updatePopper:o}),Le(()=>i.disabled,b=>{b&&l.value&&(l.value=!1)});const w=b=>{var M,E;const x=(E=(M=a.value)==null?void 0:M.contentRef)==null?void 0:E.popperContentRef,T=(b==null?void 0:b.relatedTarget)||document.activeElement;return x&&x.contains(T)};return $R(()=>l.value&&p()),e({popperRef:s,contentRef:a,isFocusInsideContent:w,updatePopper:o,onOpen:g,onClose:y,hide:p}),(b,M)=>(P(),we(f(wM),{ref_key:"popperRef",ref:s,role:b.role},{default:te(()=>[Q(cW,{disabled:b.disabled,trigger:b.trigger,"trigger-keys":b.triggerKeys,"virtual-ref":b.virtualRef,"virtual-triggering":b.virtualTriggering},{default:te(()=>[b.$slots.default?oe(b.$slots,"default",{key:0}):he("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),Q(vW,{ref_key:"contentRef",ref:a,"aria-label":b.ariaLabel,"boundaries-padding":b.boundariesPadding,content:b.content,disabled:b.disabled,effect:b.effect,enterable:b.enterable,"fallback-placements":b.fallbackPlacements,"hide-after":b.hideAfter,"gpu-acceleration":b.gpuAcceleration,offset:b.offset,persistent:b.persistent,"popper-class":b.popperClass,"popper-style":b.popperStyle,placement:b.placement,"popper-options":b.popperOptions,pure:b.pure,"raw-content":b.rawContent,"reference-el":b.referenceEl,"trigger-target-el":b.triggerTargetEl,"show-after":b.showAfter,strategy:b.strategy,teleported:b.teleported,transition:b.transition,"virtual-triggering":b.virtualTriggering,"z-index":b.zIndex,"append-to":b.appendTo},{default:te(()=>[oe(b.$slots,"content",{},()=>[b.rawContent?(P(),K("span",{key:0,innerHTML:b.content},null,8,["innerHTML"])):(P(),K("span",{key:1},Ne(b.content),1))]),b.showArrow?(P(),we(f(M9),{key:0,"arrow-offset":b.arrowOffset},null,8,["arrow-offset"])):he("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var _W=We(yW,[["__file","tooltip.vue"]]);const vi=Ft(_W),bW=Ge({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:_e(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:_e([Function,Array]),default:Yn},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},teleported:Li.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String,...$i(["ariaLabel"])}),wW={[Kt]:t=>Wt(t),[gr]:t=>Wt(t),[Nn]:t=>Wt(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,select:t=>Sn(t)},SM="ElAutocomplete",SW=ie({name:SM,inheritAttrs:!1}),EW=ie({...SW,props:bW,emits:wW,setup(t,{expose:e,emit:n}){const i=t,r=fy(),s=Pl(),a=ar(),o=Fe("autocomplete"),l=W(),c=W(),d=W(),p=W();let v=!1,g=!1;const y=W([]),_=W(-1),w=W(""),b=W(!1),M=W(!1),E=W(!1),x=zi(),T=L(()=>s.style),k=L(()=>(y.value.length>0||E.value)&&b.value),I=L(()=>!i.hideLoading&&E.value),O=L(()=>l.value?Array.from(l.value.$el.querySelectorAll("input")):[]),U=()=>{k.value&&(w.value=`${l.value.$el.offsetWidth}px`)},R=()=>{_.value=-1},N=async pe=>{if(M.value)return;const ue=Me=>{E.value=!1,!M.value&&(Ot(Me)?(y.value=Me,_.value=i.highlightFirstItem?0:-1):yi(SM,"autocomplete suggestions must be an array"))};if(E.value=!0,Ot(i.fetchSuggestions))ue(i.fetchSuggestions);else{const Me=await i.fetchSuggestions(pe,ue);Ot(Me)&&ue(Me)}},$=Br(N,i.debounce),J=pe=>{const ue=!!pe;if(n(gr,pe),n(Kt,pe),M.value=!1,b.value||(b.value=ue),!i.triggerOnFocus&&!pe){M.value=!0,y.value=[];return}$(pe)},Y=pe=>{var ue;a.value||(((ue=pe.target)==null?void 0:ue.tagName)!=="INPUT"||O.value.includes(document.activeElement))&&(b.value=!0)},H=pe=>{n(Nn,pe)},B=pe=>{g?g=!1:(b.value=!0,n("focus",pe),i.triggerOnFocus&&!v&&$(String(i.modelValue)))},X=pe=>{setTimeout(()=>{var ue;if((ue=d.value)!=null&&ue.isFocusInsideContent()){g=!0;return}b.value&&ee(),n("blur",pe)})},q=()=>{b.value=!1,n(Kt,""),n("clear")},D=async()=>{k.value&&_.value>=0&&_.value<y.value.length?le(y.value[_.value]):i.selectWhenUnmatched&&(n("select",{value:i.modelValue}),y.value=[],_.value=-1)},V=pe=>{k.value&&(pe.preventDefault(),pe.stopPropagation(),ee())},ee=()=>{b.value=!1},ce=()=>{var pe;(pe=l.value)==null||pe.focus()},ae=()=>{var pe;(pe=l.value)==null||pe.blur()},le=async pe=>{n(gr,pe[i.valueKey]),n(Kt,pe[i.valueKey]),n("select",pe),y.value=[],_.value=-1},ye=pe=>{if(!k.value||E.value)return;if(pe<0){_.value=-1;return}pe>=y.value.length&&(pe=y.value.length-1);const ue=c.value.querySelector(`.${o.be("suggestion","wrap")}`),De=ue.querySelectorAll(`.${o.be("suggestion","list")} li`)[pe],xe=ue.scrollTop,{offsetTop:G,scrollHeight:He}=De;G+He>xe+ue.clientHeight&&(ue.scrollTop+=He),G<xe&&(ue.scrollTop-=He),_.value=pe,l.value.ref.setAttribute("aria-activedescendant",`${x.value}-item-${_.value}`)},Ee=V0(p,()=>{k.value&&ee()});return Tn(()=>{Ee==null||Ee()}),St(()=>{l.value.ref.setAttribute("role","textbox"),l.value.ref.setAttribute("aria-autocomplete","list"),l.value.ref.setAttribute("aria-controls","id"),l.value.ref.setAttribute("aria-activedescendant",`${x.value}-item-${_.value}`),v=l.value.ref.hasAttribute("readonly")}),e({highlightedIndex:_,activated:b,loading:E,inputRef:l,popperRef:d,suggestions:y,handleSelect:le,handleKeyEnter:D,focus:ce,blur:ae,close:ee,highlight:ye,getData:N}),(pe,ue)=>(P(),we(f(vi),{ref_key:"popperRef",ref:d,visible:f(k),placement:pe.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[f(o).e("popper"),pe.popperClass],teleported:pe.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${f(o).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:U,onHide:R},{content:te(()=>[Z("div",{ref_key:"regionRef",ref:c,class:z([f(o).b("suggestion"),f(o).is("loading",f(I))]),style:bt({[pe.fitInputWidth?"width":"minWidth"]:w.value,outline:"none"}),role:"region"},[Q(f(fa),{id:f(x),tag:"ul","wrap-class":f(o).be("suggestion","wrap"),"view-class":f(o).be("suggestion","list"),role:"listbox"},{default:te(()=>[f(I)?(P(),K("li",{key:0},[oe(pe.$slots,"loading",{},()=>[Q(f(ft),{class:z(f(o).is("loading"))},{default:te(()=>[Q(f(ra))]),_:1},8,["class"])])])):(P(!0),K(ct,{key:1},Vt(y.value,(Me,De)=>(P(),K("li",{id:`${f(x)}-item-${De}`,key:De,class:z({highlighted:_.value===De}),role:"option","aria-selected":_.value===De,onClick:xe=>le(Me)},[oe(pe.$slots,"default",{item:Me},()=>[pt(Ne(Me[pe.valueKey]),1)])],10,["id","aria-selected","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:te(()=>[Z("div",{ref_key:"listboxRef",ref:p,class:z([f(o).b(),pe.$attrs.class]),style:bt(f(T)),role:"combobox","aria-haspopup":"listbox","aria-expanded":f(k),"aria-owns":f(x)},[Q(f(tr),Gt({ref_key:"inputRef",ref:l},f(r),{clearable:pe.clearable,disabled:f(a),name:pe.name,"model-value":pe.modelValue,"aria-label":pe.ariaLabel,onInput:J,onChange:H,onFocus:B,onBlur:X,onClear:q,onKeydown:[vn(Mt(Me=>ye(_.value-1),["prevent"]),["up"]),vn(Mt(Me=>ye(_.value+1),["prevent"]),["down"]),vn(D,["enter"]),vn(ee,["tab"]),vn(V,["esc"])],onMousedown:Y}),hs({_:2},[pe.$slots.prepend?{name:"prepend",fn:te(()=>[oe(pe.$slots,"prepend")])}:void 0,pe.$slots.append?{name:"append",fn:te(()=>[oe(pe.$slots,"append")])}:void 0,pe.$slots.prefix?{name:"prefix",fn:te(()=>[oe(pe.$slots,"prefix")])}:void 0,pe.$slots.suffix?{name:"suffix",fn:te(()=>[oe(pe.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","aria-label","onKeydown"])],14,["aria-expanded","aria-owns"])]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var CW=We(EW,[["__file","autocomplete.vue"]]);const xW=Ft(CW),MW=Ge({size:{type:[Number,String],values:ca,default:"",validator:t=>Pt(t)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:En},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:_e(String),default:"cover"}}),TW={error:t=>t instanceof Event},AW=ie({name:"ElAvatar"}),kW=ie({...AW,props:MW,emits:TW,setup(t,{emit:e}){const n=t,i=Fe("avatar"),r=W(!1),s=L(()=>{const{size:c,icon:d,shape:p}=n,v=[i.b()];return Wt(c)&&v.push(i.m(c)),d&&v.push(i.m("icon")),p&&v.push(i.m(p)),v}),a=L(()=>{const{size:c}=n;return Pt(c)?i.cssVarBlock({size:Jn(c)||""}):void 0}),o=L(()=>({objectFit:n.fit}));Le(()=>n.src,()=>r.value=!1);function l(c){r.value=!0,e("error",c)}return(c,d)=>(P(),K("span",{class:z(f(s)),style:bt(f(a))},[(c.src||c.srcSet)&&!r.value?(P(),K("img",{key:0,src:c.src,alt:c.alt,srcset:c.srcSet,style:bt(f(o)),onError:l},null,44,["src","alt","srcset"])):c.icon?(P(),we(f(ft),{key:1},{default:te(()=>[(P(),we(zt(c.icon)))]),_:1})):oe(c.$slots,"default",{key:2})],6))}});var PW=We(kW,[["__file","avatar.vue"]]);const RW=Ft(PW),IW={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},LW={click:t=>t instanceof MouseEvent},NW=(t,e,n)=>{const i=An(),r=An(),s=W(!1),a=()=>{i.value&&(s.value=i.value.scrollTop>=t.visibilityHeight)},o=c=>{var d;(d=i.value)==null||d.scrollTo({top:0,behavior:"smooth"}),e("click",c)},l=p2(a,300,!0);return bn(r,"scroll",l),St(()=>{var c;r.value=document,i.value=document.documentElement,t.target&&(i.value=(c=document.querySelector(t.target))!=null?c:void 0,i.value||yi(n,`target does not exist: ${t.target}`),r.value=i.value),a()}),{visible:s,handleClick:o}},EM="ElBacktop",OW=ie({name:EM}),DW=ie({...OW,props:IW,emits:LW,setup(t,{emit:e}){const n=t,i=Fe("backtop"),{handleClick:r,visible:s}=NW(n,e,EM),a=L(()=>({right:`${n.right}px`,bottom:`${n.bottom}px`}));return(o,l)=>(P(),we(di,{name:`${f(i).namespace.value}-fade-in`},{default:te(()=>[f(s)?(P(),K("div",{key:0,style:bt(f(a)),class:z(f(i).b()),onClick:Mt(f(r),["stop"])},[oe(o.$slots,"default",{},()=>[Q(f(ft),{class:z(f(i).e("icon"))},{default:te(()=>[Q(f(a2))]),_:1},8,["class"])])],14,["onClick"])):he("v-if",!0)]),_:3},8,["name"]))}});var FW=We(DW,[["__file","backtop.vue"]]);const BW=Ft(FW),UW=Ge({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:_e([String,Object,Array])},offset:{type:_e(Array),default:[0,0]},badgeClass:{type:String}}),VW=ie({name:"ElBadge"}),zW=ie({...VW,props:UW,setup(t,{expose:e}){const n=t,i=Fe("badge"),r=L(()=>n.isDot?"":Pt(n.value)&&Pt(n.max)?n.max<n.value?`${n.max}+`:n.value===0&&!n.showZero?"":`${n.value}`:`${n.value}`),s=L(()=>{var a,o,l,c,d;return[{backgroundColor:n.color,marginRight:Jn(-((o=(a=n.offset)==null?void 0:a[0])!=null?o:0)),marginTop:Jn((c=(l=n.offset)==null?void 0:l[1])!=null?c:0)},(d=n.badgeStyle)!=null?d:{}]});return e({content:r}),(a,o)=>(P(),K("div",{class:z(f(i).b())},[oe(a.$slots,"default"),Q(di,{name:`${f(i).namespace.value}-zoom-in-center`,persisted:""},{default:te(()=>[Ut(Z("sup",{class:z([f(i).e("content"),f(i).em("content",a.type),f(i).is("fixed",!!a.$slots.default),f(i).is("dot",a.isDot),a.badgeClass]),style:bt(f(s)),textContent:Ne(f(r))},null,14,["textContent"]),[[on,!a.hidden&&(f(r)||a.isDot)]])]),_:1},8,["name"])],2))}});var $W=We(zW,[["__file","badge.vue"]]);const CM=Ft($W),xM=Symbol("breadcrumbKey"),HW=Ge({separator:{type:String,default:"/"},separatorIcon:{type:En}}),GW=ie({name:"ElBreadcrumb"}),WW=ie({...GW,props:HW,setup(t){const e=t,{t:n}=rn(),i=Fe("breadcrumb"),r=W();return Jt(xM,e),St(()=>{const s=r.value.querySelectorAll(`.${i.e("item")}`);s.length&&s[s.length-1].setAttribute("aria-current","page")}),(s,a)=>(P(),K("div",{ref_key:"breadcrumb",ref:r,class:z(f(i).b()),"aria-label":f(n)("el.breadcrumb.label"),role:"navigation"},[oe(s.$slots,"default")],10,["aria-label"]))}});var KW=We(WW,[["__file","breadcrumb.vue"]]);const qW=Ge({to:{type:_e([String,Object]),default:""},replace:Boolean}),YW=ie({name:"ElBreadcrumbItem"}),jW=ie({...YW,props:qW,setup(t){const e=t,n=Yt(),i=dt(xM,void 0),r=Fe("breadcrumb"),s=n.appContext.config.globalProperties.$router,a=W(),o=()=>{!e.to||!s||(e.replace?s.replace(e.to):s.push(e.to))};return(l,c)=>{var d,p;return P(),K("span",{class:z(f(r).e("item"))},[Z("span",{ref_key:"link",ref:a,class:z([f(r).e("inner"),f(r).is("link",!!l.to)]),role:"link",onClick:o},[oe(l.$slots,"default")],2),(d=f(i))!=null&&d.separatorIcon?(P(),we(f(ft),{key:0,class:z(f(r).e("separator"))},{default:te(()=>[(P(),we(zt(f(i).separatorIcon)))]),_:1},8,["class"])):(P(),K("span",{key:1,class:z(f(r).e("separator")),role:"presentation"},Ne((p=f(i))==null?void 0:p.separator),3))],2)}}});var MM=We(jW,[["__file","breadcrumb-item.vue"]]);const XW=Ft(KW,{BreadcrumbItem:MM}),ZW=Vn(MM),TM=Symbol("buttonGroupContextKey"),JW=(t,e)=>{oo({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},L(()=>t.type==="text"));const n=dt(TM,void 0),i=Mp("button"),{form:r}=or(),s=pi(L(()=>n==null?void 0:n.size)),a=ar(),o=W(),l=Si(),c=L(()=>t.type||(n==null?void 0:n.type)||""),d=L(()=>{var y,_,w;return(w=(_=t.autoInsertSpace)!=null?_:(y=i.value)==null?void 0:y.autoInsertSpace)!=null?w:!1}),p=L(()=>t.tag==="button"?{ariaDisabled:a.value||t.loading,disabled:a.value||t.loading,autofocus:t.autofocus,type:t.nativeType}:{}),v=L(()=>{var y;const _=(y=l.default)==null?void 0:y.call(l);if(d.value&&(_==null?void 0:_.length)===1){const w=_[0];if((w==null?void 0:w.type)===$C){const b=w.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(b.trim())}}return!1});return{_disabled:a,_size:s,_type:c,_ref:o,_props:p,shouldAddSpace:v,handleClick:y=>{if(a.value||t.loading){y.stopPropagation();return}t.nativeType==="reset"&&(r==null||r.resetFields()),e("click",y)}}},sg=["default","primary","success","warning","info","danger","text",""],QW=["button","submit","reset"],ag=Ge({size:_i,disabled:Boolean,type:{type:String,values:sg,default:""},icon:{type:En},nativeType:{type:String,values:QW,default:"button"},loading:Boolean,loadingIcon:{type:En,default:()=>ra},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:_e([String,Object]),default:"button"}}),e7={click:t=>t instanceof MouseEvent};function Wi(t,e){t7(t)&&(t="100%");var n=n7(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function mf(t){return Math.min(1,Math.max(0,t))}function t7(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function n7(t){return typeof t=="string"&&t.indexOf("%")!==-1}function AM(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function vf(t){return t<=1?"".concat(Number(t)*100,"%"):t}function Qo(t){return t.length===1?"0"+t:String(t)}function i7(t,e,n){return{r:Wi(t,255)*255,g:Wi(e,255)*255,b:Wi(n,255)*255}}function Q1(t,e,n){t=Wi(t,255),e=Wi(e,255),n=Wi(n,255);var i=Math.max(t,e,n),r=Math.min(t,e,n),s=0,a=0,o=(i+r)/2;if(i===r)a=0,s=0;else{var l=i-r;switch(a=o>.5?l/(2-i-r):l/(i+r),i){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:a,l:o}}function wm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function r7(t,e,n){var i,r,s;if(t=Wi(t,360),e=Wi(e,100),n=Wi(n,100),e===0)r=n,s=n,i=n;else{var a=n<.5?n*(1+e):n+e-n*e,o=2*n-a;i=wm(o,a,t+1/3),r=wm(o,a,t),s=wm(o,a,t-1/3)}return{r:i*255,g:r*255,b:s*255}}function ew(t,e,n){t=Wi(t,255),e=Wi(e,255),n=Wi(n,255);var i=Math.max(t,e,n),r=Math.min(t,e,n),s=0,a=i,o=i-r,l=i===0?0:o/i;if(i===r)s=0;else{switch(i){case t:s=(e-n)/o+(e<n?6:0);break;case e:s=(n-t)/o+2;break;case n:s=(t-e)/o+4;break}s/=6}return{h:s,s:l,v:a}}function s7(t,e,n){t=Wi(t,360)*6,e=Wi(e,100),n=Wi(n,100);var i=Math.floor(t),r=t-i,s=n*(1-e),a=n*(1-r*e),o=n*(1-(1-r)*e),l=i%6,c=[n,a,s,s,o,n][l],d=[o,n,n,a,s,s][l],p=[s,s,o,n,n,a][l];return{r:c*255,g:d*255,b:p*255}}function tw(t,e,n,i){var r=[Qo(Math.round(t).toString(16)),Qo(Math.round(e).toString(16)),Qo(Math.round(n).toString(16))];return i&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function a7(t,e,n,i,r){var s=[Qo(Math.round(t).toString(16)),Qo(Math.round(e).toString(16)),Qo(Math.round(n).toString(16)),Qo(o7(i))];return r&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function o7(t){return Math.round(parseFloat(t)*255).toString(16)}function nw(t){return Wr(t)/255}function Wr(t){return parseInt(t,16)}function l7(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var og={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function u7(t){var e={r:0,g:0,b:0},n=1,i=null,r=null,s=null,a=!1,o=!1;return typeof t=="string"&&(t=f7(t)),typeof t=="object"&&(_a(t.r)&&_a(t.g)&&_a(t.b)?(e=i7(t.r,t.g,t.b),a=!0,o=String(t.r).substr(-1)==="%"?"prgb":"rgb"):_a(t.h)&&_a(t.s)&&_a(t.v)?(i=vf(t.s),r=vf(t.v),e=s7(t.h,i,r),a=!0,o="hsv"):_a(t.h)&&_a(t.s)&&_a(t.l)&&(i=vf(t.s),s=vf(t.l),e=r7(t.h,i,s),a=!0,o="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=AM(n),{ok:a,format:t.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var c7="[-\\+]?\\d+%?",d7="[-\\+]?\\d*\\.\\d+%?",no="(?:".concat(d7,")|(?:").concat(c7,")"),Sm="[\\s|\\(]+(".concat(no,")[,|\\s]+(").concat(no,")[,|\\s]+(").concat(no,")\\s*\\)?"),Em="[\\s|\\(]+(".concat(no,")[,|\\s]+(").concat(no,")[,|\\s]+(").concat(no,")[,|\\s]+(").concat(no,")\\s*\\)?"),Ts={CSS_UNIT:new RegExp(no),rgb:new RegExp("rgb"+Sm),rgba:new RegExp("rgba"+Em),hsl:new RegExp("hsl"+Sm),hsla:new RegExp("hsla"+Em),hsv:new RegExp("hsv"+Sm),hsva:new RegExp("hsva"+Em),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function f7(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(og[t])t=og[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=Ts.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=Ts.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Ts.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=Ts.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Ts.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=Ts.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Ts.hex8.exec(t),n?{r:Wr(n[1]),g:Wr(n[2]),b:Wr(n[3]),a:nw(n[4]),format:e?"name":"hex8"}:(n=Ts.hex6.exec(t),n?{r:Wr(n[1]),g:Wr(n[2]),b:Wr(n[3]),format:e?"name":"hex"}:(n=Ts.hex4.exec(t),n?{r:Wr(n[1]+n[1]),g:Wr(n[2]+n[2]),b:Wr(n[3]+n[3]),a:nw(n[4]+n[4]),format:e?"name":"hex8"}:(n=Ts.hex3.exec(t),n?{r:Wr(n[1]+n[1]),g:Wr(n[2]+n[2]),b:Wr(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function _a(t){return!!Ts.CSS_UNIT.exec(String(t))}var kM=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var i;if(e instanceof t)return e;typeof e=="number"&&(e=l7(e)),this.originalInput=e;var r=u7(e);this.originalInput=e,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=(i=n.format)!==null&&i!==void 0?i:r.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,i,r,s=e.r/255,a=e.g/255,o=e.b/255;return s<=.03928?n=s/12.92:n=Math.pow((s+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),o<=.03928?r=o/12.92:r=Math.pow((o+.055)/1.055,2.4),.2126*n+.7152*i+.0722*r},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=AM(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=ew(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=ew(this.r,this.g,this.b),n=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(i,"%, ").concat(r,"%)"):"hsva(".concat(n,", ").concat(i,"%, ").concat(r,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=Q1(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=Q1(this.r,this.g,this.b),n=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(i,"%, ").concat(r,"%)"):"hsla(".concat(n,", ").concat(i,"%, ").concat(r,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),tw(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),a7(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),i=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(i,")"):"rgba(".concat(e,", ").concat(n,", ").concat(i,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(Wi(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(Wi(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+tw(this.r,this.g,this.b,!1),n=0,i=Object.entries(og);n<i.length;n++){var r=i[n],s=r[0],a=r[1];if(e===a)return s}return!1},t.prototype.toString=function(e){var n=!!e;e=e??this.format;var i=!1,r=this.a<1&&this.a>=0,s=!n&&r&&(e.startsWith("hex")||e==="name");return s?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=mf(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=mf(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=mf(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=mf(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),i=(n.h+e)%360;return n.h=i<0?360+i:i,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var i=this.toRgb(),r=new t(e).toRgb(),s=n/100,a={r:(r.r-i.r)*s+i.r,g:(r.g-i.g)*s+i.g,b:(r.b-i.b)*s+i.b,a:(r.a-i.a)*s+i.a};return new t(a)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var i=this.toHsl(),r=360/n,s=[this];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,s.push(new t(i));return s},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),i=n.h,r=n.s,s=n.v,a=[],o=1/e;e--;)a.push(new t({h:i,s:r,v:s})),s=(s+o)%1;return a},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),i=new t(e).toRgb(),r=n.a+i.a*(1-n.a);return new t({r:(n.r*n.a+i.r*i.a*(1-n.a))/r,g:(n.g*n.a+i.g*i.a*(1-n.a))/r,b:(n.b*n.a+i.b*i.a*(1-n.a))/r,a:r})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),i=n.h,r=[this],s=360/e,a=1;a<e;a++)r.push(new t({h:(i+a*s)%360,s:n.s,l:n.l}));return r},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();function Ha(t,e=20){return t.mix("#141414",e).toString()}function h7(t){const e=ar(),n=Fe("button");return L(()=>{let i={},r=t.color;if(r){const s=r.match(/var\((.*?)\)/);s&&(r=window.getComputedStyle(window.document.documentElement).getPropertyValue(s[1]));const a=new kM(r),o=t.dark?a.tint(20).toString():Ha(a,20);if(t.plain)i=n.cssVarBlock({"bg-color":t.dark?Ha(a,90):a.tint(90).toString(),"text-color":r,"border-color":t.dark?Ha(a,50):a.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":r,"hover-border-color":r,"active-bg-color":o,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":o}),e.value&&(i[n.cssVarBlockName("disabled-bg-color")]=t.dark?Ha(a,90):a.tint(90).toString(),i[n.cssVarBlockName("disabled-text-color")]=t.dark?Ha(a,50):a.tint(50).toString(),i[n.cssVarBlockName("disabled-border-color")]=t.dark?Ha(a,80):a.tint(80).toString());else{const l=t.dark?Ha(a,30):a.tint(30).toString(),c=a.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(i=n.cssVarBlock({"bg-color":r,"text-color":c,"border-color":r,"hover-bg-color":l,"hover-text-color":c,"hover-border-color":l,"active-bg-color":o,"active-border-color":o}),e.value){const d=t.dark?Ha(a,50):a.tint(50).toString();i[n.cssVarBlockName("disabled-bg-color")]=d,i[n.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,i[n.cssVarBlockName("disabled-border-color")]=d}}}return i})}const p7=ie({name:"ElButton"}),m7=ie({...p7,props:ag,emits:e7,setup(t,{expose:e,emit:n}){const i=t,r=h7(i),s=Fe("button"),{_ref:a,_size:o,_type:l,_disabled:c,_props:d,shouldAddSpace:p,handleClick:v}=JW(i,n),g=L(()=>[s.b(),s.m(l.value),s.m(o.value),s.is("disabled",c.value),s.is("loading",i.loading),s.is("plain",i.plain),s.is("round",i.round),s.is("circle",i.circle),s.is("text",i.text),s.is("link",i.link),s.is("has-bg",i.bg)]);return e({ref:a,size:o,type:l,disabled:c,shouldAddSpace:p}),(y,_)=>(P(),we(zt(y.tag),Gt({ref_key:"_ref",ref:a},f(d),{class:f(g),style:f(r),onClick:f(v)}),{default:te(()=>[y.loading?(P(),K(ct,{key:0},[y.$slots.loading?oe(y.$slots,"loading",{key:0}):(P(),we(f(ft),{key:1,class:z(f(s).is("loading"))},{default:te(()=>[(P(),we(zt(y.loadingIcon)))]),_:1},8,["class"]))],64)):y.icon||y.$slots.icon?(P(),we(f(ft),{key:1},{default:te(()=>[y.icon?(P(),we(zt(y.icon),{key:0})):oe(y.$slots,"icon",{key:1})]),_:3})):he("v-if",!0),y.$slots.default?(P(),K("span",{key:2,class:z({[f(s).em("text","expand")]:f(p)})},[oe(y.$slots,"default")],2)):he("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var v7=We(m7,[["__file","button.vue"]]);const g7={size:ag.size,type:ag.type},y7=ie({name:"ElButtonGroup"}),_7=ie({...y7,props:g7,setup(t){const e=t;Jt(TM,Xt({size:yn(e,"size"),type:yn(e,"type")}));const n=Fe("button");return(i,r)=>(P(),K("div",{class:z(f(n).b("group"))},[oe(i.$slots,"default")],2))}});var PM=We(_7,[["__file","button-group.vue"]]);const Ni=Ft(v7,{ButtonGroup:PM}),RM=Vn(PM);var Pr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ws(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var IM={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Pr,function(){var n=1e3,i=6e4,r=36e5,s="millisecond",a="second",o="minute",l="hour",c="day",d="week",p="month",v="quarter",g="year",y="date",_="Invalid Date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Y){var H=["th","st","nd","rd"],B=Y%100;return"["+Y+(H[(B-20)%10]||H[B]||H[0])+"]"}},E=function(Y,H,B){var X=String(Y);return!X||X.length>=H?Y:""+Array(H+1-X.length).join(B)+Y},x={s:E,z:function(Y){var H=-Y.utcOffset(),B=Math.abs(H),X=Math.floor(B/60),q=B%60;return(H<=0?"+":"-")+E(X,2,"0")+":"+E(q,2,"0")},m:function Y(H,B){if(H.date()<B.date())return-Y(B,H);var X=12*(B.year()-H.year())+(B.month()-H.month()),q=H.clone().add(X,p),D=B-q<0,V=H.clone().add(X+(D?-1:1),p);return+(-(X+(B-q)/(D?q-V:V-q))||0)},a:function(Y){return Y<0?Math.ceil(Y)||0:Math.floor(Y)},p:function(Y){return{M:p,y:g,w:d,d:c,D:y,h:l,m:o,s:a,ms:s,Q:v}[Y]||String(Y||"").toLowerCase().replace(/s$/,"")},u:function(Y){return Y===void 0}},T="en",k={};k[T]=M;var I="$isDayjsObject",O=function(Y){return Y instanceof $||!(!Y||!Y[I])},U=function Y(H,B,X){var q;if(!H)return T;if(typeof H=="string"){var D=H.toLowerCase();k[D]&&(q=D),B&&(k[D]=B,q=D);var V=H.split("-");if(!q&&V.length>1)return Y(V[0])}else{var ee=H.name;k[ee]=H,q=ee}return!X&&q&&(T=q),q||!X&&T},R=function(Y,H){if(O(Y))return Y.clone();var B=typeof H=="object"?H:{};return B.date=Y,B.args=arguments,new $(B)},N=x;N.l=U,N.i=O,N.w=function(Y,H){return R(Y,{locale:H.$L,utc:H.$u,x:H.$x,$offset:H.$offset})};var $=function(){function Y(B){this.$L=U(B.locale,null,!0),this.parse(B),this.$x=this.$x||B.x||{},this[I]=!0}var H=Y.prototype;return H.parse=function(B){this.$d=function(X){var q=X.date,D=X.utc;if(q===null)return new Date(NaN);if(N.u(q))return new Date;if(q instanceof Date)return new Date(q);if(typeof q=="string"&&!/Z$/i.test(q)){var V=q.match(w);if(V){var ee=V[2]-1||0,ce=(V[7]||"0").substring(0,3);return D?new Date(Date.UTC(V[1],ee,V[3]||1,V[4]||0,V[5]||0,V[6]||0,ce)):new Date(V[1],ee,V[3]||1,V[4]||0,V[5]||0,V[6]||0,ce)}}return new Date(q)}(B),this.init()},H.init=function(){var B=this.$d;this.$y=B.getFullYear(),this.$M=B.getMonth(),this.$D=B.getDate(),this.$W=B.getDay(),this.$H=B.getHours(),this.$m=B.getMinutes(),this.$s=B.getSeconds(),this.$ms=B.getMilliseconds()},H.$utils=function(){return N},H.isValid=function(){return this.$d.toString()!==_},H.isSame=function(B,X){var q=R(B);return this.startOf(X)<=q&&q<=this.endOf(X)},H.isAfter=function(B,X){return R(B)<this.startOf(X)},H.isBefore=function(B,X){return this.endOf(X)<R(B)},H.$g=function(B,X,q){return N.u(B)?this[X]:this.set(q,B)},H.unix=function(){return Math.floor(this.valueOf()/1e3)},H.valueOf=function(){return this.$d.getTime()},H.startOf=function(B,X){var q=this,D=!!N.u(X)||X,V=N.p(B),ee=function(Me,De){var xe=N.w(q.$u?Date.UTC(q.$y,De,Me):new Date(q.$y,De,Me),q);return D?xe:xe.endOf(c)},ce=function(Me,De){return N.w(q.toDate()[Me].apply(q.toDate("s"),(D?[0,0,0,0]:[23,59,59,999]).slice(De)),q)},ae=this.$W,le=this.$M,ye=this.$D,Ee="set"+(this.$u?"UTC":"");switch(V){case g:return D?ee(1,0):ee(31,11);case p:return D?ee(1,le):ee(0,le+1);case d:var pe=this.$locale().weekStart||0,ue=(ae<pe?ae+7:ae)-pe;return ee(D?ye-ue:ye+(6-ue),le);case c:case y:return ce(Ee+"Hours",0);case l:return ce(Ee+"Minutes",1);case o:return ce(Ee+"Seconds",2);case a:return ce(Ee+"Milliseconds",3);default:return this.clone()}},H.endOf=function(B){return this.startOf(B,!1)},H.$set=function(B,X){var q,D=N.p(B),V="set"+(this.$u?"UTC":""),ee=(q={},q[c]=V+"Date",q[y]=V+"Date",q[p]=V+"Month",q[g]=V+"FullYear",q[l]=V+"Hours",q[o]=V+"Minutes",q[a]=V+"Seconds",q[s]=V+"Milliseconds",q)[D],ce=D===c?this.$D+(X-this.$W):X;if(D===p||D===g){var ae=this.clone().set(y,1);ae.$d[ee](ce),ae.init(),this.$d=ae.set(y,Math.min(this.$D,ae.daysInMonth())).$d}else ee&&this.$d[ee](ce);return this.init(),this},H.set=function(B,X){return this.clone().$set(B,X)},H.get=function(B){return this[N.p(B)]()},H.add=function(B,X){var q,D=this;B=Number(B);var V=N.p(X),ee=function(le){var ye=R(D);return N.w(ye.date(ye.date()+Math.round(le*B)),D)};if(V===p)return this.set(p,this.$M+B);if(V===g)return this.set(g,this.$y+B);if(V===c)return ee(1);if(V===d)return ee(7);var ce=(q={},q[o]=i,q[l]=r,q[a]=n,q)[V]||1,ae=this.$d.getTime()+B*ce;return N.w(ae,this)},H.subtract=function(B,X){return this.add(-1*B,X)},H.format=function(B){var X=this,q=this.$locale();if(!this.isValid())return q.invalidDate||_;var D=B||"YYYY-MM-DDTHH:mm:ssZ",V=N.z(this),ee=this.$H,ce=this.$m,ae=this.$M,le=q.weekdays,ye=q.months,Ee=q.meridiem,pe=function(De,xe,G,He){return De&&(De[xe]||De(X,D))||G[xe].slice(0,He)},ue=function(De){return N.s(ee%12||12,De,"0")},Me=Ee||function(De,xe,G){var He=De<12?"AM":"PM";return G?He.toLowerCase():He};return D.replace(b,function(De,xe){return xe||function(G){switch(G){case"YY":return String(X.$y).slice(-2);case"YYYY":return N.s(X.$y,4,"0");case"M":return ae+1;case"MM":return N.s(ae+1,2,"0");case"MMM":return pe(q.monthsShort,ae,ye,3);case"MMMM":return pe(ye,ae);case"D":return X.$D;case"DD":return N.s(X.$D,2,"0");case"d":return String(X.$W);case"dd":return pe(q.weekdaysMin,X.$W,le,2);case"ddd":return pe(q.weekdaysShort,X.$W,le,3);case"dddd":return le[X.$W];case"H":return String(ee);case"HH":return N.s(ee,2,"0");case"h":return ue(1);case"hh":return ue(2);case"a":return Me(ee,ce,!0);case"A":return Me(ee,ce,!1);case"m":return String(ce);case"mm":return N.s(ce,2,"0");case"s":return String(X.$s);case"ss":return N.s(X.$s,2,"0");case"SSS":return N.s(X.$ms,3,"0");case"Z":return V}return null}(De)||V.replace(":","")})},H.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},H.diff=function(B,X,q){var D,V=this,ee=N.p(X),ce=R(B),ae=(ce.utcOffset()-this.utcOffset())*i,le=this-ce,ye=function(){return N.m(V,ce)};switch(ee){case g:D=ye()/12;break;case p:D=ye();break;case v:D=ye()/3;break;case d:D=(le-ae)/6048e5;break;case c:D=(le-ae)/864e5;break;case l:D=le/r;break;case o:D=le/i;break;case a:D=le/n;break;default:D=le}return q?D:N.a(D)},H.daysInMonth=function(){return this.endOf(p).$D},H.$locale=function(){return k[this.$L]},H.locale=function(B,X){if(!B)return this.$L;var q=this.clone(),D=U(B,X,!0);return D&&(q.$L=D),q},H.clone=function(){return N.w(this.$d,this)},H.toDate=function(){return new Date(this.valueOf())},H.toJSON=function(){return this.isValid()?this.toISOString():null},H.toISOString=function(){return this.$d.toISOString()},H.toString=function(){return this.$d.toUTCString()},Y}(),J=$.prototype;return R.prototype=J,[["$ms",s],["$s",a],["$m",o],["$H",l],["$W",c],["$M",p],["$y",g],["$D",y]].forEach(function(Y){J[Y[1]]=function(H){return this.$g(H,Y[0],Y[1])}}),R.extend=function(Y,H){return Y.$i||(Y(H,$,R),Y.$i=!0),R},R.locale=U,R.isDayjs=O,R.unix=function(Y){return R(1e3*Y)},R.en=k[T],R.Ls=k,R.p={},R})})(IM);var b7=IM.exports;const Nt=Ws(b7);var LM={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Pr,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d/,s=/\d\d/,a=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,l={},c=function(w){return(w=+w)+(w>68?1900:2e3)},d=function(w){return function(b){this[w]=+b}},p=[/[+-]\d\d:?(\d\d)?|Z/,function(w){(this.zone||(this.zone={})).offset=function(b){if(!b||b==="Z")return 0;var M=b.match(/([+-]|\d\d)/g),E=60*M[1]+(+M[2]||0);return E===0?0:M[0]==="+"?-E:E}(w)}],v=function(w){var b=l[w];return b&&(b.indexOf?b:b.s.concat(b.f))},g=function(w,b){var M,E=l.meridiem;if(E){for(var x=1;x<=24;x+=1)if(w.indexOf(E(x,0,b))>-1){M=x>12;break}}else M=w===(b?"pm":"PM");return M},y={A:[o,function(w){this.afternoon=g(w,!1)}],a:[o,function(w){this.afternoon=g(w,!0)}],Q:[r,function(w){this.month=3*(w-1)+1}],S:[r,function(w){this.milliseconds=100*+w}],SS:[s,function(w){this.milliseconds=10*+w}],SSS:[/\d{3}/,function(w){this.milliseconds=+w}],s:[a,d("seconds")],ss:[a,d("seconds")],m:[a,d("minutes")],mm:[a,d("minutes")],H:[a,d("hours")],h:[a,d("hours")],HH:[a,d("hours")],hh:[a,d("hours")],D:[a,d("day")],DD:[s,d("day")],Do:[o,function(w){var b=l.ordinal,M=w.match(/\d+/);if(this.day=M[0],b)for(var E=1;E<=31;E+=1)b(E).replace(/\[|\]/g,"")===w&&(this.day=E)}],w:[a,d("week")],ww:[s,d("week")],M:[a,d("month")],MM:[s,d("month")],MMM:[o,function(w){var b=v("months"),M=(v("monthsShort")||b.map(function(E){return E.slice(0,3)})).indexOf(w)+1;if(M<1)throw new Error;this.month=M%12||M}],MMMM:[o,function(w){var b=v("months").indexOf(w)+1;if(b<1)throw new Error;this.month=b%12||b}],Y:[/[+-]?\d+/,d("year")],YY:[s,function(w){this.year=c(w)}],YYYY:[/\d{4}/,d("year")],Z:p,ZZ:p};function _(w){var b,M;b=w,M=l&&l.formats;for(var E=(w=b.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(R,N,$){var J=$&&$.toUpperCase();return N||M[$]||n[$]||M[J].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Y,H,B){return H||B.slice(1)})})).match(i),x=E.length,T=0;T<x;T+=1){var k=E[T],I=y[k],O=I&&I[0],U=I&&I[1];E[T]=U?{regex:O,parser:U}:k.replace(/^\[|\]$/g,"")}return function(R){for(var N={},$=0,J=0;$<x;$+=1){var Y=E[$];if(typeof Y=="string")J+=Y.length;else{var H=Y.regex,B=Y.parser,X=R.slice(J),q=H.exec(X)[0];B.call(N,q),R=R.replace(q,"")}}return function(D){var V=D.afternoon;if(V!==void 0){var ee=D.hours;V?ee<12&&(D.hours+=12):ee===12&&(D.hours=0),delete D.afternoon}}(N),N}}return function(w,b,M){M.p.customParseFormat=!0,w&&w.parseTwoDigitYear&&(c=w.parseTwoDigitYear);var E=b.prototype,x=E.parse;E.parse=function(T){var k=T.date,I=T.utc,O=T.args;this.$u=I;var U=O[1];if(typeof U=="string"){var R=O[2]===!0,N=O[3]===!0,$=R||N,J=O[2];N&&(J=O[2]),l=this.$locale(),!R&&J&&(l=M.Ls[J]),this.$d=function(X,q,D,V){try{if(["x","X"].indexOf(q)>-1)return new Date((q==="X"?1e3:1)*X);var ee=_(q)(X),ce=ee.year,ae=ee.month,le=ee.day,ye=ee.hours,Ee=ee.minutes,pe=ee.seconds,ue=ee.milliseconds,Me=ee.zone,De=ee.week,xe=new Date,G=le||(ce||ae?1:xe.getDate()),He=ce||xe.getFullYear(),Je=0;ce&&!ae||(Je=ae>0?ae-1:xe.getMonth());var at,rt=ye||0,it=Ee||0,qe=pe||0,ne=ue||0;return Me?new Date(Date.UTC(He,Je,G,rt,it,qe,ne+60*Me.offset*1e3)):D?new Date(Date.UTC(He,Je,G,rt,it,qe,ne)):(at=new Date(He,Je,G,rt,it,qe,ne),De&&(at=V(at).week(De).toDate()),at)}catch{return new Date("")}}(k,U,I,M),this.init(),J&&J!==!0&&(this.$L=this.locale(J).$L),$&&k!=this.format(U)&&(this.$d=new Date("")),l={}}else if(U instanceof Array)for(var Y=U.length,H=1;H<=Y;H+=1){O[1]=U[H-1];var B=M.apply(this,O);if(B.isValid()){this.$d=B.$d,this.$L=B.$L,this.init();break}H===Y&&(this.$d=new Date(""))}else x.call(this,T)}}})})(LM);var w7=LM.exports;const Uy=Ws(w7),iw=["hours","minutes","seconds"],lg="HH:mm:ss",fu="YYYY-MM-DD",S7={date:fu,dates:fu,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${fu} ${lg}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:fu,datetimerange:`${fu} ${lg}`},Cm=(t,e)=>[t>0?t-1:void 0,t,t<e?t+1:void 0],lo=t=>Array.from(Array.from({length:t}).keys()),NM=t=>t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),OM=t=>t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),rw=function(t,e){const n=Ru(t),i=Ru(e);return n&&i?t.getTime()===e.getTime():!n&&!i?t===e:!1},sw=function(t,e){const n=Ot(t),i=Ot(e);return n&&i?t.length!==e.length?!1:t.every((r,s)=>rw(r,e[s])):!n&&!i?rw(t,e):!1},aw=function(t,e,n){const i=Kr(e)||e==="x"?Nt(t).locale(n):Nt(t,e).locale(n);return i.isValid()?i:void 0},ow=function(t,e,n){return Kr(e)?t:e==="x"?+t:Nt(t).locale(n).format(e)},xm=(t,e)=>{var n;const i=[],r=e==null?void 0:e();for(let s=0;s<t;s++)i.push((n=r==null?void 0:r.includes(s))!=null?n:!1);return i},DM=Ge({disabledHours:{type:_e(Function)},disabledMinutes:{type:_e(Function)},disabledSeconds:{type:_e(Function)}}),FM=Ge({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),Vy=Ge({id:{type:_e([Array,String])},name:{type:_e([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:_e([String,Object]),default:To},editable:{type:Boolean,default:!0},prefixIcon:{type:_e([String,Object]),default:""},size:_i,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:_e(Object),default:()=>({})},modelValue:{type:_e([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:_e([Date,Array])},defaultTime:{type:_e([Date,Array])},isRange:Boolean,...DM,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:_e([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:_e(String),values:Va,default:"bottom"},fallbackPlacements:{type:_e(Array),default:["bottom","top","right","left"]},...uc,...$i(["ariaLabel"])}),E7=ie({name:"Picker"}),C7=ie({...E7,props:Vy,emits:["update:modelValue","change","focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(t,{expose:e,emit:n}){const i=t,r=Pl(),{lang:s}=rn(),a=Fe("date"),o=Fe("input"),l=Fe("range"),{form:c,formItem:d}=or(),p=dt("ElPopperOptions",{}),{valueOnClear:v}=xp(i,null),g=W(),y=W(),_=W(!1),w=W(!1),b=W(null);let M=!1,E=!1;const x=L(()=>[a.b("editor"),a.bm("editor",i.type),o.e("wrapper"),a.is("disabled",ae.value),a.is("active",_.value),l.b("editor"),se?l.bm("editor",se.value):"",r.class]),T=L(()=>[o.e("icon"),l.e("close-icon"),G.value?"":l.e("close-icon--hidden")]);Le(_,Ce=>{Ce?_t(()=>{Ce&&(b.value=i.modelValue)}):(Ae.value=null,_t(()=>{k(i.modelValue)}))});const k=(Ce,ot)=>{(ot||!sw(Ce,b.value))&&(n("change",Ce),i.validateEvent&&(d==null||d.validate("change").catch(ve=>void 0)))},I=Ce=>{if(!sw(i.modelValue,Ce)){let ot;Ot(Ce)?ot=Ce.map(ve=>ow(ve,i.valueFormat,s.value)):Ce&&(ot=ow(Ce,i.valueFormat,s.value)),n("update:modelValue",Ce&&ot,s.value)}},O=Ce=>{n("keydown",Ce)},U=L(()=>{if(y.value){const Ce=ne.value?y.value:y.value.$el;return Array.from(Ce.querySelectorAll("input"))}return[]}),R=(Ce,ot,ve)=>{const et=U.value;et.length&&(!ve||ve==="min"?(et[0].setSelectionRange(Ce,ot),et[0].focus()):ve==="max"&&(et[1].setSelectionRange(Ce,ot),et[1].focus()))},N=()=>{D(!0,!0),_t(()=>{E=!1})},$=(Ce="",ot=!1)=>{ot||(E=!0),_.value=ot;let ve;Ot(Ce)?ve=Ce.map(et=>et.toDate()):ve=Ce&&Ce.toDate(),Ae.value=null,I(ve)},J=()=>{w.value=!0},Y=()=>{n("visible-change",!0)},H=Ce=>{(Ce==null?void 0:Ce.key)===Et.esc&&D(!0,!0)},B=()=>{w.value=!1,_.value=!1,E=!1,n("visible-change",!1)},X=()=>{_.value=!0},q=()=>{_.value=!1},D=(Ce=!0,ot=!1)=>{E=ot;const[ve,et]=f(U);let ut=ve;!Ce&&ne.value&&(ut=et),ut&&ut.focus()},V=Ce=>{i.readonly||ae.value||_.value||E||(_.value=!0,n("focus",Ce))};let ee;const ce=Ce=>{const ot=async()=>{setTimeout(()=>{var ve;ee===ot&&(!((ve=g.value)!=null&&ve.isFocusInsideContent()&&!M)&&U.value.filter(et=>et.contains(document.activeElement)).length===0&&(Re(),_.value=!1,n("blur",Ce),i.validateEvent&&(d==null||d.validate("blur").catch(et=>void 0))),M=!1)},0)};ee=ot,ot()},ae=L(()=>i.disabled||(c==null?void 0:c.disabled)),le=L(()=>{let Ce;if(Je.value?be.value.getDefaultValue&&(Ce=be.value.getDefaultValue()):Ot(i.modelValue)?Ce=i.modelValue.map(ot=>aw(ot,i.valueFormat,s.value)):Ce=aw(i.modelValue,i.valueFormat,s.value),be.value.getRangeAvailableTime){const ot=be.value.getRangeAvailableTime(Ce);ir(ot,Ce)||(Ce=ot,Je.value||I(Ot(Ce)?Ce.map(ve=>ve.toDate()):Ce.toDate()))}return Ot(Ce)&&Ce.some(ot=>!ot)&&(Ce=[]),Ce}),ye=L(()=>{if(!be.value.panelReady)return"";const Ce=gt(le.value);return Ot(Ae.value)?[Ae.value[0]||Ce&&Ce[0]||"",Ae.value[1]||Ce&&Ce[1]||""]:Ae.value!==null?Ae.value:!pe.value&&Je.value||!_.value&&Je.value?"":Ce?ue.value||Me.value||De.value?Ce.join(", "):Ce:""}),Ee=L(()=>i.type.includes("time")),pe=L(()=>i.type.startsWith("time")),ue=L(()=>i.type==="dates"),Me=L(()=>i.type==="months"),De=L(()=>i.type==="years"),xe=L(()=>i.prefixIcon||(Ee.value?o2:TD)),G=W(!1),He=Ce=>{i.readonly||ae.value||(G.value&&(Ce.stopPropagation(),N(),be.value.handleClear?be.value.handleClear():I(v.value),k(v.value,!0),G.value=!1,B()),n("clear"))},Je=L(()=>{const{modelValue:Ce}=i;return!Ce||Ot(Ce)&&!Ce.filter(Boolean).length}),at=async Ce=>{var ot;i.readonly||ae.value||(((ot=Ce.target)==null?void 0:ot.tagName)!=="INPUT"||U.value.includes(document.activeElement))&&(_.value=!0)},rt=()=>{i.readonly||ae.value||!Je.value&&i.clearable&&(G.value=!0)},it=()=>{G.value=!1},qe=Ce=>{var ot;i.readonly||ae.value||(((ot=Ce.touches[0].target)==null?void 0:ot.tagName)!=="INPUT"||U.value.includes(document.activeElement))&&(_.value=!0)},ne=L(()=>i.type.includes("range")),se=pi(),ke=L(()=>{var Ce,ot;return(ot=(Ce=f(g))==null?void 0:Ce.popperRef)==null?void 0:ot.contentRef}),Be=L(()=>{var Ce;return f(ne)?f(y):(Ce=f(y))==null?void 0:Ce.$el}),Ve=V0(Be,Ce=>{const ot=f(ke),ve=f(Be);ot&&(Ce.target===ot||Ce.composedPath().includes(ot))||Ce.target===ve||Ce.composedPath().includes(ve)||(_.value=!1)});Tn(()=>{Ve==null||Ve()});const Ae=W(null),Re=()=>{if(Ae.value){const Ce=Xe(ye.value);Ce&&nt(Ce)&&(I(Ot(Ce)?Ce.map(ot=>ot.toDate()):Ce.toDate()),Ae.value=null)}Ae.value===""&&(I(v.value),k(v.value),Ae.value=null)},Xe=Ce=>Ce?be.value.parseUserInput(Ce):null,gt=Ce=>Ce?be.value.formatToString(Ce):null,nt=Ce=>be.value.isValidValue(Ce),Lt=async Ce=>{if(i.readonly||ae.value)return;const{code:ot}=Ce;if(O(Ce),ot===Et.esc){_.value===!0&&(_.value=!1,Ce.preventDefault(),Ce.stopPropagation());return}if(ot===Et.down&&(be.value.handleFocusPicker&&(Ce.preventDefault(),Ce.stopPropagation()),_.value===!1&&(_.value=!0,await _t()),be.value.handleFocusPicker)){be.value.handleFocusPicker();return}if(ot===Et.tab){M=!0;return}if(ot===Et.enter||ot===Et.numpadEnter){(Ae.value===null||Ae.value===""||nt(Xe(ye.value)))&&(Re(),_.value=!1),Ce.stopPropagation();return}if(Ae.value){Ce.stopPropagation();return}be.value.handleKeydownInput&&be.value.handleKeydownInput(Ce)},Ye=Ce=>{Ae.value=Ce,_.value||(_.value=!0)},xt=Ce=>{const ot=Ce.target;Ae.value?Ae.value=[ot.value,Ae.value[1]]:Ae.value=[ot.value,null]},Te=Ce=>{const ot=Ce.target;Ae.value?Ae.value=[Ae.value[0],ot.value]:Ae.value=[null,ot.value]},ze=()=>{var Ce;const ot=Ae.value,ve=Xe(ot&&ot[0]),et=f(le);if(ve&&ve.isValid()){Ae.value=[gt(ve),((Ce=ye.value)==null?void 0:Ce[1])||null];const ut=[ve,et&&(et[1]||null)];nt(ut)&&(I(ut),Ae.value=null)}},de=()=>{var Ce;const ot=f(Ae),ve=Xe(ot&&ot[1]),et=f(le);if(ve&&ve.isValid()){Ae.value=[((Ce=f(ye))==null?void 0:Ce[0])||null,gt(ve)];const ut=[et&&et[0],ve];nt(ut)&&(I(ut),Ae.value=null)}},be=W({}),Ie=Ce=>{be.value[Ce[0]]=Ce[1],be.value.panelReady=!0},yt=Ce=>{n("calendar-change",Ce)},Bt=(Ce,ot,ve)=>{n("panel-change",Ce,ot,ve)};return Jt("EP_PICKER_BASE",{props:i}),e({focus:D,handleFocusInput:V,handleBlurInput:ce,handleOpen:X,handleClose:q,onPick:$}),(Ce,ot)=>(P(),we(f(vi),Gt({ref_key:"refPopper",ref:g,visible:_.value,effect:"light",pure:"",trigger:"click"},Ce.$attrs,{role:"dialog",teleported:"",transition:`${f(a).namespace.value}-zoom-in-top`,"popper-class":[`${f(a).namespace.value}-picker__popper`,Ce.popperClass],"popper-options":f(p),"fallback-placements":Ce.fallbackPlacements,"gpu-acceleration":!1,placement:Ce.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:J,onShow:Y,onHide:B}),{default:te(()=>[f(ne)?(P(),K("div",{key:1,ref_key:"inputRef",ref:y,class:z(f(x)),style:bt(Ce.$attrs.style),onClick:V,onMouseenter:rt,onMouseleave:it,onTouchstartPassive:qe,onKeydown:Lt},[f(xe)?(P(),we(f(ft),{key:0,class:z([f(o).e("icon"),f(l).e("icon")]),onMousedown:Mt(at,["prevent"]),onTouchstartPassive:qe},{default:te(()=>[(P(),we(zt(f(xe))))]),_:1},8,["class","onMousedown"])):he("v-if",!0),Z("input",{id:Ce.id&&Ce.id[0],autocomplete:"off",name:Ce.name&&Ce.name[0],placeholder:Ce.startPlaceholder,value:f(ye)&&f(ye)[0],disabled:f(ae),readonly:!Ce.editable||Ce.readonly,class:z(f(l).b("input")),onMousedown:at,onInput:xt,onChange:ze,onFocus:V,onBlur:ce},null,42,["id","name","placeholder","value","disabled","readonly"]),oe(Ce.$slots,"range-separator",{},()=>[Z("span",{class:z(f(l).b("separator"))},Ne(Ce.rangeSeparator),3)]),Z("input",{id:Ce.id&&Ce.id[1],autocomplete:"off",name:Ce.name&&Ce.name[1],placeholder:Ce.endPlaceholder,value:f(ye)&&f(ye)[1],disabled:f(ae),readonly:!Ce.editable||Ce.readonly,class:z(f(l).b("input")),onMousedown:at,onFocus:V,onBlur:ce,onInput:Te,onChange:de},null,42,["id","name","placeholder","value","disabled","readonly"]),Ce.clearIcon?(P(),we(f(ft),{key:1,class:z(f(T)),onClick:He},{default:te(()=>[(P(),we(zt(Ce.clearIcon)))]),_:1},8,["class"])):he("v-if",!0)],38)):(P(),we(f(tr),{key:0,id:Ce.id,ref_key:"inputRef",ref:y,"container-role":"combobox","model-value":f(ye),name:Ce.name,size:f(se),disabled:f(ae),placeholder:Ce.placeholder,class:z([f(a).b("editor"),f(a).bm("editor",Ce.type),Ce.$attrs.class]),style:bt(Ce.$attrs.style),readonly:!Ce.editable||Ce.readonly||f(ue)||f(Me)||f(De)||Ce.type==="week","aria-label":Ce.ariaLabel,tabindex:Ce.tabindex,"validate-event":!1,onInput:Ye,onFocus:V,onBlur:ce,onKeydown:Lt,onChange:Re,onMousedown:at,onMouseenter:rt,onMouseleave:it,onTouchstartPassive:qe,onClick:Mt(()=>{},["stop"])},{prefix:te(()=>[f(xe)?(P(),we(f(ft),{key:0,class:z(f(o).e("icon")),onMousedown:Mt(at,["prevent"]),onTouchstartPassive:qe},{default:te(()=>[(P(),we(zt(f(xe))))]),_:1},8,["class","onMousedown"])):he("v-if",!0)]),suffix:te(()=>[G.value&&Ce.clearIcon?(P(),we(f(ft),{key:0,class:z(`${f(o).e("icon")} clear-icon`),onClick:Mt(He,["stop"])},{default:te(()=>[(P(),we(zt(Ce.clearIcon)))]),_:1},8,["class","onClick"])):he("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onKeydown","onClick"]))]),content:te(()=>[oe(Ce.$slots,"default",{visible:_.value,actualVisible:w.value,parsedValue:f(le),format:Ce.format,dateFormat:Ce.dateFormat,timeFormat:Ce.timeFormat,unlinkPanels:Ce.unlinkPanels,type:Ce.type,defaultValue:Ce.defaultValue,onPick:$,onSelectRange:R,onSetPickerOption:Ie,onCalendarChange:yt,onPanelChange:Bt,onKeydown:H,onMousedown:Mt(()=>{},["stop"])})]),_:3},16,["visible","transition","popper-class","popper-options","fallback-placements","placement"]))}});var BM=We(C7,[["__file","picker.vue"]]);const x7=Ge({...FM,datetimeRole:String,parsedValue:{type:_e(Object)}}),UM=({getAvailableHours:t,getAvailableMinutes:e,getAvailableSeconds:n})=>{const i=(a,o,l,c)=>{const d={hour:t,minute:e,second:n};let p=a;return["hour","minute","second"].forEach(v=>{if(d[v]){let g;const y=d[v];switch(v){case"minute":{g=y(p.hour(),o,c);break}case"second":{g=y(p.hour(),p.minute(),o,c);break}default:{g=y(o,c);break}}if(g!=null&&g.length&&!g.includes(p[v]())){const _=l?0:g.length-1;p=p[v](g[_])}}}),p},r={};return{timePickerOptions:r,getAvailableTime:i,onSetOption:([a,o])=>{r[a]=o}}},Mm=t=>{const e=(i,r)=>i||r,n=i=>i!==!0;return t.map(e).filter(n)},VM=(t,e,n)=>({getHoursList:(a,o)=>xm(24,t&&(()=>t==null?void 0:t(a,o))),getMinutesList:(a,o,l)=>xm(60,e&&(()=>e==null?void 0:e(a,o,l))),getSecondsList:(a,o,l,c)=>xm(60,n&&(()=>n==null?void 0:n(a,o,l,c)))}),zM=(t,e,n)=>{const{getHoursList:i,getMinutesList:r,getSecondsList:s}=VM(t,e,n);return{getAvailableHours:(c,d)=>Mm(i(c,d)),getAvailableMinutes:(c,d,p)=>Mm(r(c,d,p)),getAvailableSeconds:(c,d,p,v)=>Mm(s(c,d,p,v))}},$M=t=>{const e=W(t.parsedValue);return Le(()=>t.visible,n=>{n||(e.value=t.parsedValue)}),e},Qa=new Map;if(nn){let t;document.addEventListener("mousedown",e=>t=e),document.addEventListener("mouseup",e=>{if(t){for(const n of Qa.values())for(const{documentHandler:i}of n)i(e,t);t=void 0}})}function lw(t,e){let n=[];return Array.isArray(e.arg)?n=e.arg:Yr(e.arg)&&n.push(e.arg),function(i,r){const s=e.instance.popperRef,a=i.target,o=r==null?void 0:r.target,l=!e||!e.instance,c=!a||!o,d=t.contains(a)||t.contains(o),p=t===a,v=n.length&&n.some(y=>y==null?void 0:y.contains(a))||n.length&&n.includes(o),g=s&&(s.contains(a)||s.contains(o));l||c||d||p||v||g||e.value(i,r)}}const Ia={beforeMount(t,e){Qa.has(t)||Qa.set(t,[]),Qa.get(t).push({documentHandler:lw(t,e),bindingFn:e.value})},updated(t,e){Qa.has(t)||Qa.set(t,[]);const n=Qa.get(t),i=n.findIndex(s=>s.bindingFn===e.oldValue),r={documentHandler:lw(t,e),bindingFn:e.value};i>=0?n.splice(i,1,r):n.push(r)},unmounted(t){Qa.delete(t)}},M7=100,T7=600,Rh={beforeMount(t,e){const n=e.value,{interval:i=M7,delay:r=T7}=cn(n)?{}:n;let s,a;const o=()=>cn(n)?n():n.handler(),l=()=>{a&&(clearTimeout(a),a=void 0),s&&(clearInterval(s),s=void 0)};t.addEventListener("mousedown",c=>{c.button===0&&(l(),o(),document.addEventListener("mouseup",()=>l(),{once:!0}),a=setTimeout(()=>{s=setInterval(()=>{o()},i)},r))})}},ug="_trap-focus-children",el=[],uw=t=>{if(el.length===0)return;const e=el[el.length-1][ug];if(e.length>0&&t.code===Et.tab){if(e.length===1){t.preventDefault(),document.activeElement!==e[0]&&e[0].focus();return}const n=t.shiftKey,i=t.target===e[0],r=t.target===e[e.length-1];i&&n&&(t.preventDefault(),e[e.length-1].focus()),r&&!n&&(t.preventDefault(),e[0].focus())}},A7={beforeMount(t){t[ug]=vb(t),el.push(t),el.length<=1&&document.addEventListener("keydown",uw)},updated(t){_t(()=>{t[ug]=vb(t)})},unmounted(){el.shift(),el.length===0&&document.removeEventListener("keydown",uw)}};var cw=!1,Yo,cg,dg,rh,sh,HM,ah,fg,hg,pg,GM,mg,vg,WM,KM;function Er(){if(!cw){cw=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(mg=/\b(iPhone|iP[ao]d)/.exec(t),vg=/\b(iP[ao]d)/.exec(t),pg=/Android/i.exec(t),WM=/FBAN\/\w+;/i.exec(t),KM=/Mobile/i.exec(t),GM=!!/Win64/.exec(t),e){Yo=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,Yo&&document&&document.documentMode&&(Yo=document.documentMode);var i=/(?:Trident\/(\d+.\d+))/.exec(t);HM=i?parseFloat(i[1])+4:Yo,cg=e[2]?parseFloat(e[2]):NaN,dg=e[3]?parseFloat(e[3]):NaN,rh=e[4]?parseFloat(e[4]):NaN,rh?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),sh=e&&e[1]?parseFloat(e[1]):NaN):sh=NaN}else Yo=cg=dg=sh=rh=NaN;if(n){if(n[1]){var r=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);ah=r?parseFloat(r[1].replace("_",".")):!0}else ah=!1;fg=!!n[2],hg=!!n[3]}else ah=fg=hg=!1}}var gg={ie:function(){return Er()||Yo},ieCompatibilityMode:function(){return Er()||HM>Yo},ie64:function(){return gg.ie()&&GM},firefox:function(){return Er()||cg},opera:function(){return Er()||dg},webkit:function(){return Er()||rh},safari:function(){return gg.webkit()},chrome:function(){return Er()||sh},windows:function(){return Er()||fg},osx:function(){return Er()||ah},linux:function(){return Er()||hg},iphone:function(){return Er()||mg},mobile:function(){return Er()||mg||vg||pg||KM},nativeApp:function(){return Er()||WM},android:function(){return Er()||pg},ipad:function(){return Er()||vg}},k7=gg,gf=!!(typeof window<"u"&&window.document&&window.document.createElement),P7={canUseDOM:gf,canUseWorkers:typeof Worker<"u",canUseEventListeners:gf&&!!(window.addEventListener||window.attachEvent),canUseViewport:gf&&!!window.screen,isInWorker:!gf},qM=P7,YM;qM.canUseDOM&&(YM=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function R7(t,e){if(!qM.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,i=n in document;if(!i){var r=document.createElement("div");r.setAttribute(n,"return;"),i=typeof r[n]=="function"}return!i&&YM&&t==="wheel"&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}var I7=R7,dw=10,fw=40,hw=800;function jM(t){var e=0,n=0,i=0,r=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),i=e*dw,r=n*dw,"deltaY"in t&&(r=t.deltaY),"deltaX"in t&&(i=t.deltaX),(i||r)&&t.deltaMode&&(t.deltaMode==1?(i*=fw,r*=fw):(i*=hw,r*=hw)),i&&!e&&(e=i<1?-1:1),r&&!n&&(n=r<1?-1:1),{spinX:e,spinY:n,pixelX:i,pixelY:r}}jM.getEventType=function(){return k7.firefox()?"DOMMouseScroll":I7("wheel")?"wheel":"mousewheel"};var L7=jM;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const N7=function(t,e){if(t&&t.addEventListener){const n=function(i){const r=L7(i);e&&Reflect.apply(e,this,[i,r])};t.addEventListener("wheel",n,{passive:!0})}},O7={beforeMount(t,e){N7(t,e.value)}},D7=Ge({role:{type:String,required:!0},spinnerDate:{type:_e(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:_e(String),default:""},...DM}),F7=ie({__name:"basic-time-spinner",props:D7,emits:["change","select-range","set-option"],setup(t,{emit:e}){const n=t,i=Fe("time"),{getHoursList:r,getMinutesList:s,getSecondsList:a}=VM(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let o=!1;const l=W(),c=W(),d=W(),p=W(),v={hours:c,minutes:d,seconds:p},g=L(()=>n.showSeconds?iw:iw.slice(0,2)),y=L(()=>{const{spinnerDate:D}=n,V=D.hour(),ee=D.minute(),ce=D.second();return{hours:V,minutes:ee,seconds:ce}}),_=L(()=>{const{hours:D,minutes:V}=f(y);return{hours:r(n.role),minutes:s(D,n.role),seconds:a(D,V,n.role)}}),w=L(()=>{const{hours:D,minutes:V,seconds:ee}=f(y);return{hours:Cm(D,23),minutes:Cm(V,59),seconds:Cm(ee,59)}}),b=Br(D=>{o=!1,x(D)},200),M=D=>{if(!!!n.amPmMode)return"";const ee=n.amPmMode==="A";let ce=D<12?" am":" pm";return ee&&(ce=ce.toUpperCase()),ce},E=D=>{let V;switch(D){case"hours":V=[0,2];break;case"minutes":V=[3,5];break;case"seconds":V=[6,8];break}const[ee,ce]=V;e("select-range",ee,ce),l.value=D},x=D=>{I(D,f(y)[D])},T=()=>{x("hours"),x("minutes"),x("seconds")},k=D=>D.querySelector(`.${i.namespace.value}-scrollbar__wrap`),I=(D,V)=>{if(n.arrowControl)return;const ee=f(v[D]);ee&&ee.$el&&(k(ee.$el).scrollTop=Math.max(0,V*O(D)))},O=D=>{const V=f(v[D]),ee=V==null?void 0:V.$el.querySelector("li");return ee&&Number.parseFloat(to(ee,"height"))||0},U=()=>{N(1)},R=()=>{N(-1)},N=D=>{l.value||E("hours");const V=l.value,ee=f(y)[V],ce=l.value==="hours"?24:60,ae=$(V,ee,D,ce);J(V,ae),I(V,ae),_t(()=>E(V))},$=(D,V,ee,ce)=>{let ae=(V+ee+ce)%ce;const le=f(_)[D];for(;le[ae]&&ae!==V;)ae=(ae+ee+ce)%ce;return ae},J=(D,V)=>{if(f(_)[D][V])return;const{hours:ae,minutes:le,seconds:ye}=f(y);let Ee;switch(D){case"hours":Ee=n.spinnerDate.hour(V).minute(le).second(ye);break;case"minutes":Ee=n.spinnerDate.hour(ae).minute(V).second(ye);break;case"seconds":Ee=n.spinnerDate.hour(ae).minute(le).second(V);break}e("change",Ee)},Y=(D,{value:V,disabled:ee})=>{ee||(J(D,V),E(D),I(D,V))},H=D=>{o=!0,b(D);const V=Math.min(Math.round((k(f(v[D]).$el).scrollTop-(B(D)*.5-10)/O(D)+3)/O(D)),D==="hours"?23:59);J(D,V)},B=D=>f(v[D]).$el.offsetHeight,X=()=>{const D=V=>{const ee=f(v[V]);ee&&ee.$el&&(k(ee.$el).onscroll=()=>{H(V)})};D("hours"),D("minutes"),D("seconds")};St(()=>{_t(()=>{!n.arrowControl&&X(),T(),n.role==="start"&&E("hours")})});const q=(D,V)=>{v[V].value=D};return e("set-option",[`${n.role}_scrollDown`,N]),e("set-option",[`${n.role}_emitSelectRange`,E]),Le(()=>n.spinnerDate,()=>{o||T()}),(D,V)=>(P(),K("div",{class:z([f(i).b("spinner"),{"has-seconds":D.showSeconds}])},[D.arrowControl?he("v-if",!0):(P(!0),K(ct,{key:0},Vt(f(g),ee=>(P(),we(f(fa),{key:ee,ref_for:!0,ref:ce=>q(ce,ee),class:z(f(i).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":f(i).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:ce=>E(ee),onMousemove:ce=>x(ee)},{default:te(()=>[(P(!0),K(ct,null,Vt(f(_)[ee],(ce,ae)=>(P(),K("li",{key:ae,class:z([f(i).be("spinner","item"),f(i).is("active",ae===f(y)[ee]),f(i).is("disabled",ce)]),onClick:le=>Y(ee,{value:ae,disabled:ce})},[ee==="hours"?(P(),K(ct,{key:0},[pt(Ne(("0"+(D.amPmMode?ae%12||12:ae)).slice(-2))+Ne(M(ae)),1)],64)):(P(),K(ct,{key:1},[pt(Ne(("0"+ae).slice(-2)),1)],64))],10,["onClick"]))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),D.arrowControl?(P(!0),K(ct,{key:1},Vt(f(g),ee=>(P(),K("div",{key:ee,class:z([f(i).be("spinner","wrapper"),f(i).is("arrow")]),onMouseenter:ce=>E(ee)},[Ut((P(),we(f(ft),{class:z(["arrow-up",f(i).be("spinner","arrow")])},{default:te(()=>[Q(f(O0))]),_:1},8,["class"])),[[f(Rh),R]]),Ut((P(),we(f(ft),{class:z(["arrow-down",f(i).be("spinner","arrow")])},{default:te(()=>[Q(f(Fa))]),_:1},8,["class"])),[[f(Rh),U]]),Z("ul",{class:z(f(i).be("spinner","list"))},[(P(!0),K(ct,null,Vt(f(w)[ee],(ce,ae)=>(P(),K("li",{key:ae,class:z([f(i).be("spinner","item"),f(i).is("active",ce===f(y)[ee]),f(i).is("disabled",f(_)[ee][ce])])},[typeof ce=="number"?(P(),K(ct,{key:0},[ee==="hours"?(P(),K(ct,{key:0},[pt(Ne(("0"+(D.amPmMode?ce%12||12:ce)).slice(-2))+Ne(M(ce)),1)],64)):(P(),K(ct,{key:1},[pt(Ne(("0"+ce).slice(-2)),1)],64))],64)):he("v-if",!0)],2))),128))],2)],42,["onMouseenter"]))),128)):he("v-if",!0)],2))}});var yg=We(F7,[["__file","basic-time-spinner.vue"]]);const B7=ie({__name:"panel-time-pick",props:x7,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,i=dt("EP_PICKER_BASE"),{arrowControl:r,disabledHours:s,disabledMinutes:a,disabledSeconds:o,defaultValue:l}=i.props,{getAvailableHours:c,getAvailableMinutes:d,getAvailableSeconds:p}=zM(s,a,o),v=Fe("time"),{t:g,lang:y}=rn(),_=W([0,2]),w=$M(n),b=L(()=>Hn(n.actualVisible)?`${v.namespace.value}-zoom-in-top`:""),M=L(()=>n.format.includes("ss")),E=L(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),x=q=>{const D=Nt(q).locale(y.value),V=Y(D);return D.isSame(V)},T=()=>{e("pick",w.value,!1)},k=(q=!1,D=!1)=>{D||e("pick",n.parsedValue,q)},I=q=>{if(!n.visible)return;const D=Y(q).millisecond(0);e("pick",D,!0)},O=(q,D)=>{e("select-range",q,D),_.value=[q,D]},U=q=>{const D=[0,3].concat(M.value?[6]:[]),V=["hours","minutes"].concat(M.value?["seconds"]:[]),ce=(D.indexOf(_.value[0])+q+D.length)%D.length;N.start_emitSelectRange(V[ce])},R=q=>{const D=q.code,{left:V,right:ee,up:ce,down:ae}=Et;if([V,ee].includes(D)){U(D===V?-1:1),q.preventDefault();return}if([ce,ae].includes(D)){const le=D===ce?-1:1;N.start_scrollDown(le),q.preventDefault();return}},{timePickerOptions:N,onSetOption:$,getAvailableTime:J}=UM({getAvailableHours:c,getAvailableMinutes:d,getAvailableSeconds:p}),Y=q=>J(q,n.datetimeRole||"",!0),H=q=>q?Nt(q,n.format).locale(y.value):null,B=q=>q?q.format(n.format):null,X=()=>Nt(l).locale(y.value);return e("set-picker-option",["isValidValue",x]),e("set-picker-option",["formatToString",B]),e("set-picker-option",["parseUserInput",H]),e("set-picker-option",["handleKeydownInput",R]),e("set-picker-option",["getRangeAvailableTime",Y]),e("set-picker-option",["getDefaultValue",X]),(q,D)=>(P(),we(di,{name:f(b)},{default:te(()=>[q.actualVisible||q.visible?(P(),K("div",{key:0,class:z(f(v).b("panel"))},[Z("div",{class:z([f(v).be("panel","content"),{"has-seconds":f(M)}])},[Q(yg,{ref:"spinner",role:q.datetimeRole||"start","arrow-control":f(r),"show-seconds":f(M),"am-pm-mode":f(E),"spinner-date":q.parsedValue,"disabled-hours":f(s),"disabled-minutes":f(a),"disabled-seconds":f(o),onChange:I,onSetOption:f($),onSelectRange:O},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),Z("div",{class:z(f(v).be("panel","footer"))},[Z("button",{type:"button",class:z([f(v).be("panel","btn"),"cancel"]),onClick:T},Ne(f(g)("el.datepicker.cancel")),3),Z("button",{type:"button",class:z([f(v).be("panel","btn"),"confirm"]),onClick:V=>k()},Ne(f(g)("el.datepicker.confirm")),11,["onClick"])],2)],2)):he("v-if",!0)]),_:1},8,["name"]))}});var Ih=We(B7,[["__file","panel-time-pick.vue"]]);const U7=Ge({...FM,parsedValue:{type:_e(Array)}}),V7=ie({__name:"panel-time-range",props:U7,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,i=(xe,G)=>{const He=[];for(let Je=xe;Je<=G;Je++)He.push(Je);return He},{t:r,lang:s}=rn(),a=Fe("time"),o=Fe("picker"),l=dt("EP_PICKER_BASE"),{arrowControl:c,disabledHours:d,disabledMinutes:p,disabledSeconds:v,defaultValue:g}=l.props,y=L(()=>[a.be("range-picker","body"),a.be("panel","content"),a.is("arrow",c),x.value?"has-seconds":""]),_=L(()=>[a.be("range-picker","body"),a.be("panel","content"),a.is("arrow",c),x.value?"has-seconds":""]),w=L(()=>n.parsedValue[0]),b=L(()=>n.parsedValue[1]),M=$M(n),E=()=>{e("pick",M.value,!1)},x=L(()=>n.format.includes("ss")),T=L(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),k=(xe=!1)=>{e("pick",[w.value,b.value],xe)},I=xe=>{R(xe.millisecond(0),b.value)},O=xe=>{R(w.value,xe.millisecond(0))},U=xe=>{const G=xe.map(Je=>Nt(Je).locale(s.value)),He=ee(G);return G[0].isSame(He[0])&&G[1].isSame(He[1])},R=(xe,G)=>{e("pick",[xe,G],!0)},N=L(()=>w.value>b.value),$=W([0,2]),J=(xe,G)=>{e("select-range",xe,G,"min"),$.value=[xe,G]},Y=L(()=>x.value?11:8),H=(xe,G)=>{e("select-range",xe,G,"max");const He=f(Y);$.value=[xe+He,G+He]},B=xe=>{const G=x.value?[0,3,6,11,14,17]:[0,3,8,11],He=["hours","minutes"].concat(x.value?["seconds"]:[]),at=(G.indexOf($.value[0])+xe+G.length)%G.length,rt=G.length/2;at<rt?ye.start_emitSelectRange(He[at]):ye.end_emitSelectRange(He[at-rt])},X=xe=>{const G=xe.code,{left:He,right:Je,up:at,down:rt}=Et;if([He,Je].includes(G)){B(G===He?-1:1),xe.preventDefault();return}if([at,rt].includes(G)){const it=G===at?-1:1,qe=$.value[0]<Y.value?"start":"end";ye[`${qe}_scrollDown`](it),xe.preventDefault();return}},q=(xe,G)=>{const He=d?d(xe):[],Je=xe==="start",rt=(G||(Je?b.value:w.value)).hour(),it=Je?i(rt+1,23):i(0,rt-1);return mm(He,it)},D=(xe,G,He)=>{const Je=p?p(xe,G):[],at=G==="start",rt=He||(at?b.value:w.value),it=rt.hour();if(xe!==it)return Je;const qe=rt.minute(),ne=at?i(qe+1,59):i(0,qe-1);return mm(Je,ne)},V=(xe,G,He,Je)=>{const at=v?v(xe,G,He):[],rt=He==="start",it=Je||(rt?b.value:w.value),qe=it.hour(),ne=it.minute();if(xe!==qe||G!==ne)return at;const se=it.second(),ke=rt?i(se+1,59):i(0,se-1);return mm(at,ke)},ee=([xe,G])=>[Ee(xe,"start",!0,G),Ee(G,"end",!1,xe)],{getAvailableHours:ce,getAvailableMinutes:ae,getAvailableSeconds:le}=zM(q,D,V),{timePickerOptions:ye,getAvailableTime:Ee,onSetOption:pe}=UM({getAvailableHours:ce,getAvailableMinutes:ae,getAvailableSeconds:le}),ue=xe=>xe?Ot(xe)?xe.map(G=>Nt(G,n.format).locale(s.value)):Nt(xe,n.format).locale(s.value):null,Me=xe=>xe?Ot(xe)?xe.map(G=>G.format(n.format)):xe.format(n.format):null,De=()=>{if(Ot(g))return g.map(G=>Nt(G).locale(s.value));const xe=Nt(g).locale(s.value);return[xe,xe.add(60,"m")]};return e("set-picker-option",["formatToString",Me]),e("set-picker-option",["parseUserInput",ue]),e("set-picker-option",["isValidValue",U]),e("set-picker-option",["handleKeydownInput",X]),e("set-picker-option",["getDefaultValue",De]),e("set-picker-option",["getRangeAvailableTime",ee]),(xe,G)=>xe.actualVisible?(P(),K("div",{key:0,class:z([f(a).b("range-picker"),f(o).b("panel")])},[Z("div",{class:z(f(a).be("range-picker","content"))},[Z("div",{class:z(f(a).be("range-picker","cell"))},[Z("div",{class:z(f(a).be("range-picker","header"))},Ne(f(r)("el.datepicker.startTime")),3),Z("div",{class:z(f(y))},[Q(yg,{ref:"minSpinner",role:"start","show-seconds":f(x),"am-pm-mode":f(T),"arrow-control":f(c),"spinner-date":f(w),"disabled-hours":q,"disabled-minutes":D,"disabled-seconds":V,onChange:I,onSetOption:f(pe),onSelectRange:J},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),Z("div",{class:z(f(a).be("range-picker","cell"))},[Z("div",{class:z(f(a).be("range-picker","header"))},Ne(f(r)("el.datepicker.endTime")),3),Z("div",{class:z(f(_))},[Q(yg,{ref:"maxSpinner",role:"end","show-seconds":f(x),"am-pm-mode":f(T),"arrow-control":f(c),"spinner-date":f(b),"disabled-hours":q,"disabled-minutes":D,"disabled-seconds":V,onChange:O,onSetOption:f(pe),onSelectRange:H},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),Z("div",{class:z(f(a).be("panel","footer"))},[Z("button",{type:"button",class:z([f(a).be("panel","btn"),"cancel"]),onClick:He=>E()},Ne(f(r)("el.datepicker.cancel")),11,["onClick"]),Z("button",{type:"button",class:z([f(a).be("panel","btn"),"confirm"]),disabled:f(N),onClick:He=>k()},Ne(f(r)("el.datepicker.confirm")),11,["disabled","onClick"])],2)],2)):he("v-if",!0)}});var z7=We(V7,[["__file","panel-time-range.vue"]]);Nt.extend(Uy);var $7=ie({name:"ElTimePicker",install:null,props:{...Vy,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,e){const n=W(),[i,r]=t.isRange?["timerange",z7]:["time",Ih],s=a=>e.emit("update:modelValue",a);return Jt("ElPopperOptions",t.popperOptions),e.expose({focus:a=>{var o;(o=n.value)==null||o.handleFocusInput(a)},blur:a=>{var o;(o=n.value)==null||o.handleBlurInput(a)},handleOpen:()=>{var a;(a=n.value)==null||a.handleOpen()},handleClose:()=>{var a;(a=n.value)==null||a.handleClose()}}),()=>{var a;const o=(a=t.format)!=null?a:lg;return Q(BM,Gt(t,{ref:n,type:i,format:o,"onUpdate:modelValue":s}),{default:l=>Q(r,l,null)})}}});const H7=Ft($7),G7=(t,e)=>{const n=t.subtract(1,"month").endOf("month").date();return lo(e).map((i,r)=>n-(e-r-1))},W7=t=>{const e=t.daysInMonth();return lo(e).map((n,i)=>i+1)},K7=t=>lo(t.length/7).map(e=>{const n=e*7;return t.slice(n,n+7)}),q7=Ge({selectedDay:{type:_e(Object)},range:{type:_e(Array)},date:{type:_e(Object),required:!0},hideHeader:{type:Boolean}}),Y7={pick:t=>Sn(t)};var XM={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Pr,function(){return function(n,i,r){var s=i.prototype,a=function(p){return p&&(p.indexOf?p:p.s)},o=function(p,v,g,y,_){var w=p.name?p:p.$locale(),b=a(w[v]),M=a(w[g]),E=b||M.map(function(T){return T.slice(0,y)});if(!_)return E;var x=w.weekStart;return E.map(function(T,k){return E[(k+(x||0))%7]})},l=function(){return r.Ls[r.locale()]},c=function(p,v){return p.formats[v]||function(g){return g.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(y,_,w){return _||w.slice(1)})}(p.formats[v.toUpperCase()])},d=function(){var p=this;return{months:function(v){return v?v.format("MMMM"):o(p,"months")},monthsShort:function(v){return v?v.format("MMM"):o(p,"monthsShort","months",3)},firstDayOfWeek:function(){return p.$locale().weekStart||0},weekdays:function(v){return v?v.format("dddd"):o(p,"weekdays")},weekdaysMin:function(v){return v?v.format("dd"):o(p,"weekdaysMin","weekdays",2)},weekdaysShort:function(v){return v?v.format("ddd"):o(p,"weekdaysShort","weekdays",3)},longDateFormat:function(v){return c(p.$locale(),v)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return d.bind(this)()},r.localeData=function(){var p=l();return{firstDayOfWeek:function(){return p.weekStart||0},weekdays:function(){return r.weekdays()},weekdaysShort:function(){return r.weekdaysShort()},weekdaysMin:function(){return r.weekdaysMin()},months:function(){return r.months()},monthsShort:function(){return r.monthsShort()},longDateFormat:function(v){return c(p,v)},meridiem:p.meridiem,ordinal:p.ordinal}},r.months=function(){return o(l(),"months")},r.monthsShort=function(){return o(l(),"monthsShort","months",3)},r.weekdays=function(p){return o(l(),"weekdays",null,null,p)},r.weekdaysShort=function(p){return o(l(),"weekdaysShort","weekdays",3,p)},r.weekdaysMin=function(p){return o(l(),"weekdaysMin","weekdays",2,p)}}})})(XM);var j7=XM.exports;const ZM=Ws(j7),X7=(t,e)=>{Nt.extend(ZM);const n=Nt.localeData().firstDayOfWeek(),{t:i,lang:r}=rn(),s=Nt().locale(r.value),a=L(()=>!!t.range&&!!t.range.length),o=L(()=>{let v=[];if(a.value){const[g,y]=t.range,_=lo(y.date()-g.date()+1).map(M=>({text:g.date()+M,type:"current"}));let w=_.length%7;w=w===0?0:7-w;const b=lo(w).map((M,E)=>({text:E+1,type:"next"}));v=_.concat(b)}else{const g=t.date.startOf("month").day(),y=G7(t.date,(g-n+7)%7).map(M=>({text:M,type:"prev"})),_=W7(t.date).map(M=>({text:M,type:"current"}));v=[...y,..._];const w=7-(v.length%7||7),b=lo(w).map((M,E)=>({text:E+1,type:"next"}));v=v.concat(b)}return K7(v)}),l=L(()=>{const v=n;return v===0?vm.map(g=>i(`el.datepicker.weeks.${g}`)):vm.slice(v).concat(vm.slice(0,v)).map(g=>i(`el.datepicker.weeks.${g}`))}),c=(v,g)=>{switch(g){case"prev":return t.date.startOf("month").subtract(1,"month").date(v);case"next":return t.date.startOf("month").add(1,"month").date(v);case"current":return t.date.date(v)}};return{now:s,isInRange:a,rows:o,weekDays:l,getFormattedDate:c,handlePickDay:({text:v,type:g})=>{const y=c(v,g);e("pick",y)},getSlotData:({text:v,type:g})=>{const y=c(v,g);return{isSelected:y.isSame(t.selectedDay),type:`${g}-month`,day:y.format("YYYY-MM-DD"),date:y.toDate()}}}},Z7=ie({name:"DateTable"}),J7=ie({...Z7,props:q7,emits:Y7,setup(t,{expose:e,emit:n}){const i=t,{isInRange:r,now:s,rows:a,weekDays:o,getFormattedDate:l,handlePickDay:c,getSlotData:d}=X7(i,n),p=Fe("calendar-table"),v=Fe("calendar-day"),g=({text:y,type:_})=>{const w=[_];if(_==="current"){const b=l(y,_);b.isSame(i.selectedDay,"day")&&w.push(v.is("selected")),b.isSame(s,"day")&&w.push(v.is("today"))}return w};return e({getFormattedDate:l}),(y,_)=>(P(),K("table",{class:z([f(p).b(),f(p).is("range",f(r))]),cellspacing:"0",cellpadding:"0"},[y.hideHeader?he("v-if",!0):(P(),K("thead",{key:0},[(P(!0),K(ct,null,Vt(f(o),w=>(P(),K("th",{key:w},Ne(w),1))),128))])),Z("tbody",null,[(P(!0),K(ct,null,Vt(f(a),(w,b)=>(P(),K("tr",{key:b,class:z({[f(p).e("row")]:!0,[f(p).em("row","hide-border")]:b===0&&y.hideHeader})},[(P(!0),K(ct,null,Vt(w,(M,E)=>(P(),K("td",{key:E,class:z(g(M)),onClick:x=>f(c)(M)},[Z("div",{class:z(f(v).b())},[oe(y.$slots,"date-cell",{data:f(d)(M)},()=>[Z("span",null,Ne(M.text),1)])],2)],10,["onClick"]))),128))],2))),128))])],2))}});var pw=We(J7,[["__file","date-table.vue"]]);const Q7=(t,e)=>{const n=t.endOf("month"),i=e.startOf("month"),s=n.isSame(i,"week")?i.add(1,"week"):i;return[[t,n],[s.startOf("week"),e]]},eK=(t,e)=>{const n=t.endOf("month"),i=t.add(1,"month").startOf("month"),r=n.isSame(i,"week")?i.add(1,"week"):i,s=r.endOf("month"),a=e.startOf("month"),o=s.isSame(a,"week")?a.add(1,"week"):a;return[[t,n],[r.startOf("week"),s],[o.startOf("week"),e]]},tK=(t,e,n)=>{const{lang:i}=rn(),r=W(),s=Nt().locale(i.value),a=L({get(){return t.modelValue?l.value:r.value},set(w){if(!w)return;r.value=w;const b=w.toDate();e(gr,b),e(Kt,b)}}),o=L(()=>{if(!t.range||!Ot(t.range)||t.range.length!==2||t.range.some(E=>!Ru(E)))return[];const w=t.range.map(E=>Nt(E).locale(i.value)),[b,M]=w;return b.isAfter(M)?[]:b.isSame(M,"month")?g(b,M):b.add(1,"month").month()!==M.month()?[]:g(b,M)}),l=L(()=>t.modelValue?Nt(t.modelValue).locale(i.value):a.value||(o.value.length?o.value[0][0]:s)),c=L(()=>l.value.subtract(1,"month").date(1)),d=L(()=>l.value.add(1,"month").date(1)),p=L(()=>l.value.subtract(1,"year").date(1)),v=L(()=>l.value.add(1,"year").date(1)),g=(w,b)=>{const M=w.startOf("week"),E=b.endOf("week"),x=M.get("month"),T=E.get("month");return x===T?[[M,E]]:(x+1)%12===T?Q7(M,E):x+2===T||(x+1)%11===T?eK(M,E):[]},y=w=>{a.value=w};return{calculateValidatedDateRange:g,date:l,realSelectedDay:a,pickDay:y,selectDate:w=>{const M={"prev-month":c.value,"next-month":d.value,"prev-year":p.value,"next-year":v.value,today:s}[w];M.isSame(l.value,"day")||y(M)},validatedRange:o}},nK=t=>Ot(t)&&t.length===2&&t.every(e=>Ru(e)),iK=Ge({modelValue:{type:Date},range:{type:_e(Array),validator:nK}}),rK={[Kt]:t=>Ru(t),[gr]:t=>Ru(t)},sK="ElCalendar",aK=ie({name:sK}),oK=ie({...aK,props:iK,emits:rK,setup(t,{expose:e,emit:n}){const i=t,r=Fe("calendar"),{calculateValidatedDateRange:s,date:a,pickDay:o,realSelectedDay:l,selectDate:c,validatedRange:d}=tK(i,n),{t:p}=rn(),v=L(()=>{const g=`el.datepicker.month${a.value.format("M")}`;return`${a.value.year()} ${p("el.datepicker.year")} ${p(g)}`});return e({selectedDay:l,pickDay:o,selectDate:c,calculateValidatedDateRange:s}),(g,y)=>(P(),K("div",{class:z(f(r).b())},[Z("div",{class:z(f(r).e("header"))},[oe(g.$slots,"header",{date:f(v)},()=>[Z("div",{class:z(f(r).e("title"))},Ne(f(v)),3),f(d).length===0?(P(),K("div",{key:0,class:z(f(r).e("button-group"))},[Q(f(RM),null,{default:te(()=>[Q(f(Ni),{size:"small",onClick:_=>f(c)("prev-month")},{default:te(()=>[pt(Ne(f(p)("el.datepicker.prevMonth")),1)]),_:1},8,["onClick"]),Q(f(Ni),{size:"small",onClick:_=>f(c)("today")},{default:te(()=>[pt(Ne(f(p)("el.datepicker.today")),1)]),_:1},8,["onClick"]),Q(f(Ni),{size:"small",onClick:_=>f(c)("next-month")},{default:te(()=>[pt(Ne(f(p)("el.datepicker.nextMonth")),1)]),_:1},8,["onClick"])]),_:1})],2)):he("v-if",!0)])],2),f(d).length===0?(P(),K("div",{key:0,class:z(f(r).e("body"))},[Q(pw,{date:f(a),"selected-day":f(l),onPick:f(o)},hs({_:2},[g.$slots["date-cell"]?{name:"date-cell",fn:te(_=>[oe(g.$slots,"date-cell",Is(gl(_)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(P(),K("div",{key:1,class:z(f(r).e("body"))},[(P(!0),K(ct,null,Vt(f(d),(_,w)=>(P(),we(pw,{key:w,date:_[0],"selected-day":f(l),range:_,"hide-header":w!==0,onPick:f(o)},hs({_:2},[g.$slots["date-cell"]?{name:"date-cell",fn:te(b=>[oe(g.$slots,"date-cell",Is(gl(b)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var lK=We(oK,[["__file","calendar.vue"]]);const uK=Ft(lK),cK=Ge({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:_e([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),dK=ie({name:"ElCard"}),fK=ie({...dK,props:cK,setup(t){const e=Fe("card");return(n,i)=>(P(),K("div",{class:z([f(e).b(),f(e).is(`${n.shadow}-shadow`)])},[n.$slots.header||n.header?(P(),K("div",{key:0,class:z(f(e).e("header"))},[oe(n.$slots,"header",{},()=>[pt(Ne(n.header),1)])],2)):he("v-if",!0),Z("div",{class:z([f(e).e("body"),n.bodyClass]),style:bt(n.bodyStyle)},[oe(n.$slots,"default")],6),n.$slots.footer||n.footer?(P(),K("div",{key:1,class:z(f(e).e("footer"))},[oe(n.$slots,"footer",{},()=>[pt(Ne(n.footer),1)])],2)):he("v-if",!0)],2))}});var hK=We(fK,[["__file","card.vue"]]);const pK=Ft(hK),mK=Ge({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),vK={change:(t,e)=>[t,e].every(Pt)},JM=Symbol("carouselContextKey"),_g="ElCarouselItem",mw=300,gK=(t,e,n)=>{const{children:i,addChild:r,removeChild:s}=Ry(Yt(),_g),a=Si(),o=W(-1),l=W(null),c=W(!1),d=W(),p=W(0),v=W(!0),g=W(!0),y=W(!1),_=L(()=>t.arrow!=="never"&&!f(M)),w=L(()=>i.value.some(Ee=>Ee.props.label.toString().length>0)),b=L(()=>t.type==="card"),M=L(()=>t.direction==="vertical"),E=L(()=>t.height!=="auto"?{height:t.height}:{height:`${p.value}px`,overflow:"hidden"}),x=ll(Ee=>{R(Ee)},mw,{trailing:!0}),T=ll(Ee=>{D(Ee)},mw),k=Ee=>v.value?o.value<=1?Ee<=1:Ee>1:!0;function I(){l.value&&(clearInterval(l.value),l.value=null)}function O(){t.interval<=0||!t.autoplay||l.value||(l.value=setInterval(()=>U(),t.interval))}const U=()=>{g.value||(y.value=!0),g.value=!1,o.value<i.value.length-1?o.value=o.value+1:t.loop?o.value=0:y.value=!1};function R(Ee){if(g.value||(y.value=!0),g.value=!1,Wt(Ee)){const Me=i.value.filter(De=>De.props.name===Ee);Me.length>0&&(Ee=i.value.indexOf(Me[0]))}if(Ee=Number(Ee),Number.isNaN(Ee)||Ee!==Math.floor(Ee))return;const pe=i.value.length,ue=o.value;Ee<0?o.value=t.loop?pe-1:0:Ee>=pe?o.value=t.loop?0:pe-1:o.value=Ee,ue===o.value&&N(ue),ce()}function N(Ee){i.value.forEach((pe,ue)=>{pe.translateItem(ue,o.value,Ee)})}function $(Ee,pe){var ue,Me,De,xe;const G=f(i),He=G.length;if(He===0||!Ee.states.inStage)return!1;const Je=pe+1,at=pe-1,rt=He-1,it=G[rt].states.active,qe=G[0].states.active,ne=(Me=(ue=G[Je])==null?void 0:ue.states)==null?void 0:Me.active,se=(xe=(De=G[at])==null?void 0:De.states)==null?void 0:xe.active;return pe===rt&&qe||ne?"left":pe===0&&it||se?"right":!1}function J(){c.value=!0,t.pauseOnHover&&I()}function Y(){c.value=!1,O()}function H(){y.value=!1}function B(Ee){f(M)||i.value.forEach((pe,ue)=>{Ee===$(pe,ue)&&(pe.states.hover=!0)})}function X(){f(M)||i.value.forEach(Ee=>{Ee.states.hover=!1})}function q(Ee){Ee!==o.value&&(g.value||(y.value=!0)),o.value=Ee}function D(Ee){t.trigger==="hover"&&Ee!==o.value&&(o.value=Ee,g.value||(y.value=!0))}function V(){R(o.value-1)}function ee(){R(o.value+1)}function ce(){I(),t.pauseOnHover||O()}function ae(Ee){t.height==="auto"&&(p.value=Ee)}function le(){var Ee;const pe=(Ee=a.default)==null?void 0:Ee.call(a);if(!pe)return null;const Me=ao(pe).filter(De=>ri(De)&&De.type.name===_g);return(Me==null?void 0:Me.length)===2&&t.loop&&!b.value?(v.value=!0,Me):(v.value=!1,null)}Le(()=>o.value,(Ee,pe)=>{N(pe),v.value&&(Ee=Ee%2,pe=pe%2),pe>-1&&e("change",Ee,pe)}),Le(()=>t.autoplay,Ee=>{Ee?O():I()}),Le(()=>t.loop,()=>{R(o.value)}),Le(()=>t.interval,()=>{ce()});const ye=An();return St(()=>{Le(()=>i.value,()=>{i.value.length>0&&R(t.initialIndex)},{immediate:!0}),ye.value=Fn(d.value,()=>{N()}),O()}),Tn(()=>{I(),d.value&&ye.value&&ye.value.stop()}),Jt(JM,{root:d,isCardType:b,isVertical:M,items:i,loop:t.loop,cardScale:t.cardScale,addItem:r,removeItem:s,setActiveItem:R,setContainerHeight:ae}),{root:d,activeIndex:o,arrowDisplay:_,hasLabel:w,hover:c,isCardType:b,isTransitioning:y,items:i,isVertical:M,containerStyle:E,isItemsTwoLength:v,handleButtonEnter:B,handleTransitionEnd:H,handleButtonLeave:X,handleIndicatorClick:q,handleMouseEnter:J,handleMouseLeave:Y,setActiveItem:R,prev:V,next:ee,PlaceholderItem:le,isTwoLengthShow:k,throttledArrowClick:x,throttledIndicatorHover:T}},yK="ElCarousel",_K=ie({name:yK}),bK=ie({..._K,props:mK,emits:vK,setup(t,{expose:e,emit:n}){const i=t,{root:r,activeIndex:s,arrowDisplay:a,hasLabel:o,hover:l,isCardType:c,items:d,isVertical:p,containerStyle:v,handleButtonEnter:g,handleButtonLeave:y,isTransitioning:_,handleIndicatorClick:w,handleMouseEnter:b,handleMouseLeave:M,handleTransitionEnd:E,setActiveItem:x,prev:T,next:k,PlaceholderItem:I,isTwoLengthShow:O,throttledArrowClick:U,throttledIndicatorHover:R}=gK(i,n),N=Fe("carousel"),{t:$}=rn(),J=L(()=>{const B=[N.b(),N.m(i.direction)];return f(c)&&B.push(N.m("card")),B}),Y=L(()=>{const B=[N.e("container")];return i.motionBlur&&f(_)&&d.value.length>1&&B.push(f(p)?`${N.namespace.value}-transitioning-vertical`:`${N.namespace.value}-transitioning`),B}),H=L(()=>{const B=[N.e("indicators"),N.em("indicators",i.direction)];return f(o)&&B.push(N.em("indicators","labels")),i.indicatorPosition==="outside"&&B.push(N.em("indicators","outside")),f(p)&&B.push(N.em("indicators","right")),B});return e({activeIndex:s,setActiveItem:x,prev:T,next:k}),(B,X)=>(P(),K("div",{ref_key:"root",ref:r,class:z(f(J)),onMouseenter:Mt(f(b),["stop"]),onMouseleave:Mt(f(M),["stop"])},[f(a)?(P(),we(di,{key:0,name:"carousel-arrow-left",persisted:""},{default:te(()=>[Ut(Z("button",{type:"button",class:z([f(N).e("arrow"),f(N).em("arrow","left")]),"aria-label":f($)("el.carousel.leftArrow"),onMouseenter:q=>f(g)("left"),onMouseleave:f(y),onClick:Mt(q=>f(U)(f(s)-1),["stop"])},[Q(f(ft),null,{default:te(()=>[Q(f(po))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[on,(B.arrow==="always"||f(l))&&(i.loop||f(s)>0)]])]),_:1})):he("v-if",!0),f(a)?(P(),we(di,{key:1,name:"carousel-arrow-right",persisted:""},{default:te(()=>[Ut(Z("button",{type:"button",class:z([f(N).e("arrow"),f(N).em("arrow","right")]),"aria-label":f($)("el.carousel.rightArrow"),onMouseenter:q=>f(g)("right"),onMouseleave:f(y),onClick:Mt(q=>f(U)(f(s)+1),["stop"])},[Q(f(ft),null,{default:te(()=>[Q(f(vr))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[on,(B.arrow==="always"||f(l))&&(i.loop||f(s)<f(d).length-1)]])]),_:1})):he("v-if",!0),Z("div",{class:z(f(Y)),style:bt(f(v)),onTransitionend:f(E)},[Q(f(I)),oe(B.$slots,"default")],46,["onTransitionend"]),B.indicatorPosition!=="none"?(P(),K("ul",{key:2,class:z(f(H))},[(P(!0),K(ct,null,Vt(f(d),(q,D)=>Ut((P(),K("li",{key:D,class:z([f(N).e("indicator"),f(N).em("indicator",B.direction),f(N).is("active",D===f(s))]),onMouseenter:V=>f(R)(D),onClick:Mt(V=>f(w)(D),["stop"])},[Z("button",{class:z(f(N).e("button")),"aria-label":f($)("el.carousel.indicator",{index:D+1})},[f(o)?(P(),K("span",{key:0},Ne(q.props.label),1)):he("v-if",!0)],10,["aria-label"])],42,["onMouseenter","onClick"])),[[on,f(O)(D)]])),128))],2)):he("v-if",!0),i.motionBlur?(P(),K("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},[Z("defs",null,[Z("filter",{id:"elCarouselHorizontal"},[Z("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),Z("filter",{id:"elCarouselVertical"},[Z("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])])])):he("v-if",!0)],42,["onMouseenter","onMouseleave"]))}});var wK=We(bK,[["__file","carousel.vue"]]);const SK=Ge({name:{type:String,default:""},label:{type:[String,Number],default:""}}),EK=t=>{const e=dt(JM),n=Yt(),i=W(),r=W(!1),s=W(0),a=W(1),o=W(!1),l=W(!1),c=W(!1),d=W(!1),{isCardType:p,isVertical:v,cardScale:g}=e;function y(E,x,T){const k=T-1,I=x-1,O=x+1,U=T/2;return x===0&&E===k?-1:x===k&&E===0?T:E<I&&x-E>=U?T+1:E>O&&E-x>=U?-2:E}function _(E,x){var T,k;const I=f(v)?((T=e.root.value)==null?void 0:T.offsetHeight)||0:((k=e.root.value)==null?void 0:k.offsetWidth)||0;return c.value?I*((2-g)*(E-x)+1)/4:E<x?-(1+g)*I/4:(3+g)*I/4}function w(E,x,T){const k=e.root.value;return k?((T?k.offsetHeight:k.offsetWidth)||0)*(E-x):0}const b=(E,x,T)=>{var k;const I=f(p),O=(k=e.items.value.length)!=null?k:Number.NaN,U=E===x;!I&&!Hn(T)&&(d.value=U||E===T),!U&&O>2&&e.loop&&(E=y(E,x,O));const R=f(v);o.value=U,I?(c.value=Math.round(Math.abs(E-x))<=1,s.value=_(E,x),a.value=f(o)?1:g):s.value=w(E,x,R),l.value=!0,U&&i.value&&e.setContainerHeight(i.value.offsetHeight)};function M(){if(e&&f(p)){const E=e.items.value.findIndex(({uid:x})=>x===n.uid);e.setActiveItem(E)}}return St(()=>{e.addItem({props:t,states:Xt({hover:r,translate:s,scale:a,active:o,ready:l,inStage:c,animating:d}),uid:n.uid,translateItem:b})}),Oa(()=>{e.removeItem(n.uid)}),{carouselItemRef:i,active:o,animating:d,hover:r,inStage:c,isVertical:v,translate:s,isCardType:p,scale:a,ready:l,handleItemClick:M}},CK=ie({name:_g}),xK=ie({...CK,props:SK,setup(t){const e=t,n=Fe("carousel"),{carouselItemRef:i,active:r,animating:s,hover:a,inStage:o,isVertical:l,translate:c,isCardType:d,scale:p,ready:v,handleItemClick:g}=EK(e),y=L(()=>[n.e("item"),n.is("active",r.value),n.is("in-stage",o.value),n.is("hover",a.value),n.is("animating",s.value),{[n.em("item","card")]:d.value,[n.em("item","card-vertical")]:d.value&&l.value}]),_=L(()=>{const b=`${`translate${f(l)?"Y":"X"}`}(${f(c)}px)`,M=`scale(${f(p)})`;return{transform:[b,M].join(" ")}});return(w,b)=>Ut((P(),K("div",{ref_key:"carouselItemRef",ref:i,class:z(f(y)),style:bt(f(_)),onClick:f(g)},[f(d)?Ut((P(),K("div",{key:0,class:z(f(n).e("mask"))},null,2)),[[on,!f(r)]]):he("v-if",!0),oe(w.$slots,"default")],14,["onClick"])),[[on,f(v)]])}});var QM=We(xK,[["__file","carousel-item.vue"]]);const MK=Ft(wK,{CarouselItem:QM}),TK=Vn(QM),eT={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:_i,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...$i(["ariaControls"])},tT={[Kt]:t=>Wt(t)||Pt(t)||Gn(t),change:t=>Wt(t)||Pt(t)||Gn(t)},dc=Symbol("checkboxGroupContextKey"),AK=({model:t,isChecked:e})=>{const n=dt(dc,void 0),i=L(()=>{var s,a;const o=(s=n==null?void 0:n.max)==null?void 0:s.value,l=(a=n==null?void 0:n.min)==null?void 0:a.value;return!Hn(o)&&t.value.length>=o&&!e.value||!Hn(l)&&t.value.length<=l&&e.value});return{isDisabled:ar(L(()=>(n==null?void 0:n.disabled.value)||i.value)),isLimitDisabled:i}},kK=(t,{model:e,isLimitExceeded:n,hasOwnLabel:i,isDisabled:r,isLabeledByFormItem:s})=>{const a=dt(dc,void 0),{formItem:o}=or(),{emit:l}=Yt();function c(y){var _,w,b,M;return[!0,t.trueValue,t.trueLabel].includes(y)?(w=(_=t.trueValue)!=null?_:t.trueLabel)!=null?w:!0:(M=(b=t.falseValue)!=null?b:t.falseLabel)!=null?M:!1}function d(y,_){l("change",c(y),_)}function p(y){if(n.value)return;const _=y.target;l("change",c(_.checked),y)}async function v(y){n.value||!i.value&&!r.value&&s.value&&(y.composedPath().some(b=>b.tagName==="LABEL")||(e.value=c([!1,t.falseValue,t.falseLabel].includes(e.value)),await _t(),d(e.value,y)))}const g=L(()=>(a==null?void 0:a.validateEvent)||t.validateEvent);return Le(()=>t.modelValue,()=>{g.value&&(o==null||o.validate("change").catch(y=>void 0))}),{handleChange:p,onClickRoot:v}},PK=t=>{const e=W(!1),{emit:n}=Yt(),i=dt(dc,void 0),r=L(()=>Hn(i)===!1),s=W(!1),a=L({get(){var o,l;return r.value?(o=i==null?void 0:i.modelValue)==null?void 0:o.value:(l=t.modelValue)!=null?l:e.value},set(o){var l,c;r.value&&Ot(o)?(s.value=((l=i==null?void 0:i.max)==null?void 0:l.value)!==void 0&&o.length>(i==null?void 0:i.max.value)&&o.length>a.value.length,s.value===!1&&((c=i==null?void 0:i.changeEvent)==null||c.call(i,o))):(n(Kt,o),e.value=o)}});return{model:a,isGroup:r,isLimitExceeded:s}},RK=(t,e,{model:n})=>{const i=dt(dc,void 0),r=W(!1),s=L(()=>bl(t.value)?t.label:t.value),a=L(()=>{const d=n.value;return Gn(d)?d:Ot(d)?Sn(s.value)?d.map(Pu).some(p=>ir(p,s.value)):d.map(Pu).includes(s.value):d!=null?d===t.trueValue||d===t.trueLabel:!!d}),o=pi(L(()=>{var d;return(d=i==null?void 0:i.size)==null?void 0:d.value}),{prop:!0}),l=pi(L(()=>{var d;return(d=i==null?void 0:i.size)==null?void 0:d.value})),c=L(()=>!!e.default||!bl(s.value));return{checkboxButtonSize:o,isChecked:a,isFocused:r,checkboxSize:l,hasOwnLabel:c,actualValue:s}},nT=(t,e)=>{const{formItem:n}=or(),{model:i,isGroup:r,isLimitExceeded:s}=PK(t),{isFocused:a,isChecked:o,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:d,actualValue:p}=RK(t,e,{model:i}),{isDisabled:v}=AK({model:i,isChecked:o}),{inputId:g,isLabeledByFormItem:y}=Gs(t,{formItemContext:n,disableIdGeneration:d,disableIdManagement:r}),{handleChange:_,onClickRoot:w}=kK(t,{model:i,isLimitExceeded:s,hasOwnLabel:d,isDisabled:v,isLabeledByFormItem:y});return(()=>{function M(){var E,x;Ot(i.value)&&!i.value.includes(p.value)?i.value.push(p.value):i.value=(x=(E=t.trueValue)!=null?E:t.trueLabel)!=null?x:!0}t.checked&&M()})(),oo({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},L(()=>r.value&&bl(t.value))),oo({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},L(()=>!!t.trueLabel)),oo({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},L(()=>!!t.falseLabel)),{inputId:g,isLabeledByFormItem:y,isChecked:o,isDisabled:v,isFocused:a,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:d,model:i,actualValue:p,handleChange:_,onClickRoot:w}},IK=ie({name:"ElCheckbox"}),LK=ie({...IK,props:eT,emits:tT,setup(t){const e=t,n=Si(),{inputId:i,isLabeledByFormItem:r,isChecked:s,isDisabled:a,isFocused:o,checkboxSize:l,hasOwnLabel:c,model:d,actualValue:p,handleChange:v,onClickRoot:g}=nT(e,n),y=Fe("checkbox"),_=L(()=>[y.b(),y.m(l.value),y.is("disabled",a.value),y.is("bordered",e.border),y.is("checked",s.value)]),w=L(()=>[y.e("input"),y.is("disabled",a.value),y.is("checked",s.value),y.is("indeterminate",e.indeterminate),y.is("focus",o.value)]);return(b,M)=>(P(),we(zt(!f(c)&&f(r)?"span":"label"),{class:z(f(_)),"aria-controls":b.indeterminate?b.ariaControls:null,onClick:f(g)},{default:te(()=>{var E,x,T,k;return[Z("span",{class:z(f(w))},[b.trueValue||b.falseValue||b.trueLabel||b.falseLabel?Ut((P(),K("input",{key:0,id:f(i),"onUpdate:modelValue":I=>nr(d)?d.value=I:null,class:z(f(y).e("original")),type:"checkbox",indeterminate:b.indeterminate,name:b.name,tabindex:b.tabindex,disabled:f(a),"true-value":(x=(E=b.trueValue)!=null?E:b.trueLabel)!=null?x:!0,"false-value":(k=(T=b.falseValue)!=null?T:b.falseLabel)!=null?k:!1,onChange:f(v),onFocus:I=>o.value=!0,onBlur:I=>o.value=!1,onClick:Mt(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[wh,f(d)]]):Ut((P(),K("input",{key:1,id:f(i),"onUpdate:modelValue":I=>nr(d)?d.value=I:null,class:z(f(y).e("original")),type:"checkbox",indeterminate:b.indeterminate,disabled:f(a),value:f(p),name:b.name,tabindex:b.tabindex,onChange:f(v),onFocus:I=>o.value=!0,onBlur:I=>o.value=!1,onClick:Mt(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","disabled","value","name","tabindex","onChange","onFocus","onBlur","onClick"])),[[wh,f(d)]]),Z("span",{class:z(f(y).e("inner"))},null,2)],2),f(c)?(P(),K("span",{key:0,class:z(f(y).e("label"))},[oe(b.$slots,"default"),b.$slots.default?he("v-if",!0):(P(),K(ct,{key:0},[pt(Ne(b.label),1)],64))],2)):he("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var NK=We(LK,[["__file","checkbox.vue"]]);const OK=ie({name:"ElCheckboxButton"}),DK=ie({...OK,props:eT,emits:tT,setup(t){const e=t,n=Si(),{isFocused:i,isChecked:r,isDisabled:s,checkboxButtonSize:a,model:o,actualValue:l,handleChange:c}=nT(e,n),d=dt(dc,void 0),p=Fe("checkbox"),v=L(()=>{var y,_,w,b;const M=(_=(y=d==null?void 0:d.fill)==null?void 0:y.value)!=null?_:"";return{backgroundColor:M,borderColor:M,color:(b=(w=d==null?void 0:d.textColor)==null?void 0:w.value)!=null?b:"",boxShadow:M?`-1px 0 0 0 ${M}`:void 0}}),g=L(()=>[p.b("button"),p.bm("button",a.value),p.is("disabled",s.value),p.is("checked",r.value),p.is("focus",i.value)]);return(y,_)=>{var w,b,M,E;return P(),K("label",{class:z(f(g))},[y.trueValue||y.falseValue||y.trueLabel||y.falseLabel?Ut((P(),K("input",{key:0,"onUpdate:modelValue":x=>nr(o)?o.value=x:null,class:z(f(p).be("button","original")),type:"checkbox",name:y.name,tabindex:y.tabindex,disabled:f(s),"true-value":(b=(w=y.trueValue)!=null?w:y.trueLabel)!=null?b:!0,"false-value":(E=(M=y.falseValue)!=null?M:y.falseLabel)!=null?E:!1,onChange:f(c),onFocus:x=>i.value=!0,onBlur:x=>i.value=!1,onClick:Mt(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[wh,f(o)]]):Ut((P(),K("input",{key:1,"onUpdate:modelValue":x=>nr(o)?o.value=x:null,class:z(f(p).be("button","original")),type:"checkbox",name:y.name,tabindex:y.tabindex,disabled:f(s),value:f(l),onChange:f(c),onFocus:x=>i.value=!0,onBlur:x=>i.value=!1,onClick:Mt(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","value","onChange","onFocus","onBlur","onClick"])),[[wh,f(o)]]),y.$slots.default||y.label?(P(),K("span",{key:2,class:z(f(p).be("button","inner")),style:bt(f(r)?f(v):void 0)},[oe(y.$slots,"default",{},()=>[pt(Ne(y.label),1)])],6)):he("v-if",!0)],2)}}});var iT=We(DK,[["__file","checkbox-button.vue"]]);const FK=Ge({modelValue:{type:_e(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:_i,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...$i(["ariaLabel"])}),BK={[Kt]:t=>Ot(t),change:t=>Ot(t)},UK=ie({name:"ElCheckboxGroup"}),VK=ie({...UK,props:FK,emits:BK,setup(t,{emit:e}){const n=t,i=Fe("checkbox"),{formItem:r}=or(),{inputId:s,isLabeledByFormItem:a}=Gs(n,{formItemContext:r}),o=async c=>{e(Kt,c),await _t(),e("change",c)},l=L({get(){return n.modelValue},set(c){o(c)}});return Jt(dc,{...Ls(Oi(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:l,changeEvent:o}),Le(()=>n.modelValue,()=>{n.validateEvent&&(r==null||r.validate("change").catch(c=>void 0))}),(c,d)=>{var p;return P(),we(zt(c.tag),{id:f(s),class:z(f(i).b("group")),role:"group","aria-label":f(a)?void 0:c.ariaLabel||"checkbox-group","aria-labelledby":f(a)?(p=f(r))==null?void 0:p.labelId:void 0},{default:te(()=>[oe(c.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var rT=We(VK,[["__file","checkbox-group.vue"]]);const gs=Ft(NK,{CheckboxButton:iT,CheckboxGroup:rT}),zK=Vn(iT),sT=Vn(rT),aT=Ge({modelValue:{type:[String,Number,Boolean],default:void 0},size:_i,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),$K=Ge({...aT,border:Boolean}),oT={[Kt]:t=>Wt(t)||Pt(t)||Gn(t),[Nn]:t=>Wt(t)||Pt(t)||Gn(t)},lT=Symbol("radioGroupKey"),uT=(t,e)=>{const n=W(),i=dt(lT,void 0),r=L(()=>!!i),s=L(()=>bl(t.value)?t.label:t.value),a=L({get(){return r.value?i.modelValue:t.modelValue},set(p){r.value?i.changeEvent(p):e&&e(Kt,p),n.value.checked=t.modelValue===s.value}}),o=pi(L(()=>i==null?void 0:i.size)),l=ar(L(()=>i==null?void 0:i.disabled)),c=W(!1),d=L(()=>l.value||r.value&&a.value!==s.value?-1:0);return oo({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},L(()=>r.value&&bl(t.value))),{radioRef:n,isGroup:r,radioGroup:i,focus:c,size:o,disabled:l,tabIndex:d,modelValue:a,actualValue:s}},HK=ie({name:"ElRadio"}),GK=ie({...HK,props:$K,emits:oT,setup(t,{emit:e}){const n=t,i=Fe("radio"),{radioRef:r,radioGroup:s,focus:a,size:o,disabled:l,modelValue:c,actualValue:d}=uT(n,e);function p(){_t(()=>e("change",c.value))}return(v,g)=>{var y;return P(),K("label",{class:z([f(i).b(),f(i).is("disabled",f(l)),f(i).is("focus",f(a)),f(i).is("bordered",v.border),f(i).is("checked",f(c)===f(d)),f(i).m(f(o))])},[Z("span",{class:z([f(i).e("input"),f(i).is("disabled",f(l)),f(i).is("checked",f(c)===f(d))])},[Ut(Z("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":_=>nr(c)?c.value=_:null,class:z(f(i).e("original")),value:f(d),name:v.name||((y=f(s))==null?void 0:y.name),disabled:f(l),checked:f(c)===f(d),type:"radio",onFocus:_=>a.value=!0,onBlur:_=>a.value=!1,onChange:p,onClick:Mt(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","checked","onFocus","onBlur","onClick"]),[[HC,f(c)]]),Z("span",{class:z(f(i).e("inner"))},null,2)],2),Z("span",{class:z(f(i).e("label")),onKeydown:Mt(()=>{},["stop"])},[oe(v.$slots,"default",{},()=>[pt(Ne(v.label),1)])],42,["onKeydown"])],2)}}});var WK=We(GK,[["__file","radio.vue"]]);const KK=Ge({...aT}),qK=ie({name:"ElRadioButton"}),YK=ie({...qK,props:KK,setup(t){const e=t,n=Fe("radio"),{radioRef:i,focus:r,size:s,disabled:a,modelValue:o,radioGroup:l,actualValue:c}=uT(e),d=L(()=>({backgroundColor:(l==null?void 0:l.fill)||"",borderColor:(l==null?void 0:l.fill)||"",boxShadow:l!=null&&l.fill?`-1px 0 0 0 ${l.fill}`:"",color:(l==null?void 0:l.textColor)||""}));return(p,v)=>{var g;return P(),K("label",{class:z([f(n).b("button"),f(n).is("active",f(o)===f(c)),f(n).is("disabled",f(a)),f(n).is("focus",f(r)),f(n).bm("button",f(s))])},[Ut(Z("input",{ref_key:"radioRef",ref:i,"onUpdate:modelValue":y=>nr(o)?o.value=y:null,class:z(f(n).be("button","original-radio")),value:f(c),type:"radio",name:p.name||((g=f(l))==null?void 0:g.name),disabled:f(a),onFocus:y=>r.value=!0,onBlur:y=>r.value=!1,onClick:Mt(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","onFocus","onBlur","onClick"]),[[HC,f(o)]]),Z("span",{class:z(f(n).be("button","inner")),style:bt(f(o)===f(c)?f(d):{}),onKeydown:Mt(()=>{},["stop"])},[oe(p.$slots,"default",{},()=>[pt(Ne(p.label),1)])],46,["onKeydown"])],2)}}});var cT=We(YK,[["__file","radio-button.vue"]]);const jK=Ge({id:{type:String,default:void 0},size:_i,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...$i(["ariaLabel"])}),XK=oT,ZK=ie({name:"ElRadioGroup"}),JK=ie({...ZK,props:jK,emits:XK,setup(t,{emit:e}){const n=t,i=Fe("radio"),r=zi(),s=W(),{formItem:a}=or(),{inputId:o,isLabeledByFormItem:l}=Gs(n,{formItemContext:a}),c=p=>{e(Kt,p),_t(()=>e("change",p))};St(()=>{const p=s.value.querySelectorAll("[type=radio]"),v=p[0];!Array.from(p).some(g=>g.checked)&&v&&(v.tabIndex=0)});const d=L(()=>n.name||r.value);return Jt(lT,Xt({...Oi(n),changeEvent:c,name:d})),Le(()=>n.modelValue,()=>{n.validateEvent&&(a==null||a.validate("change").catch(p=>void 0))}),(p,v)=>(P(),K("div",{id:f(o),ref_key:"radioGroupRef",ref:s,class:z(f(i).b("group")),role:"radiogroup","aria-label":f(l)?void 0:p.ariaLabel||"radio-group","aria-labelledby":f(l)?f(a).labelId:void 0},[oe(p.$slots,"default")],10,["id","aria-label","aria-labelledby"]))}});var dT=We(JK,[["__file","radio-group.vue"]]);const fT=Ft(WK,{RadioButton:cT,RadioGroup:dT}),QK=Vn(dT),eq=Vn(cT);var tq=ie({name:"NodeContent",setup(){return{ns:Fe("cascader-node")}},render(){const{ns:t}=this,{node:e,panel:n}=this.$parent,{data:i,label:r}=e,{renderLabelFn:s}=n;return Ct("span",{class:t.e("label")},s?s({node:e,data:i}):r)}});const zy=Symbol(),nq=ie({name:"ElCascaderNode",components:{ElCheckbox:gs,ElRadio:fT,NodeContent:tq,ElIcon:ft,Check:Ad,Loading:ra,ArrowRight:vr},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(t,{emit:e}){const n=dt(zy),i=Fe("cascader-node"),r=L(()=>n.isHoverMenu),s=L(()=>n.config.multiple),a=L(()=>n.config.checkStrictly),o=L(()=>{var k;return(k=n.checkedNodes[0])==null?void 0:k.uid}),l=L(()=>t.node.isDisabled),c=L(()=>t.node.isLeaf),d=L(()=>a.value&&!c.value||!l.value),p=L(()=>g(n.expandingNode)),v=L(()=>a.value&&n.checkedNodes.some(g)),g=k=>{var I;const{level:O,uid:U}=t.node;return((I=k==null?void 0:k.pathNodes[O-1])==null?void 0:I.uid)===U},y=()=>{p.value||n.expandNode(t.node)},_=k=>{const{node:I}=t;k!==I.checked&&n.handleCheckChange(I,k)},w=()=>{n.lazyLoad(t.node,()=>{c.value||y()})},b=k=>{r.value&&(M(),!c.value&&e("expand",k))},M=()=>{const{node:k}=t;!d.value||k.loading||(k.loaded?y():w())},E=()=>{r.value&&!c.value||(c.value&&!l.value&&!a.value&&!s.value?T(!0):M())},x=k=>{a.value?(_(k),t.node.loaded&&y()):T(k)},T=k=>{t.node.loaded?(_(k),!a.value&&y()):w()};return{panel:n,isHoverMenu:r,multiple:s,checkStrictly:a,checkedNodeId:o,isDisabled:l,isLeaf:c,expandable:d,inExpandingPath:p,inCheckedPath:v,ns:i,handleHoverExpand:b,handleExpand:M,handleClick:E,handleCheck:T,handleSelectCheck:x}}});function iq(t,e,n,i,r,s){const a=At("el-checkbox"),o=At("el-radio"),l=At("check"),c=At("el-icon"),d=At("node-content"),p=At("loading"),v=At("arrow-right");return P(),K("li",{id:`${t.menuId}-${t.node.uid}`,role:"menuitem","aria-haspopup":!t.isLeaf,"aria-owns":t.isLeaf?null:t.menuId,"aria-expanded":t.inExpandingPath,tabindex:t.expandable?-1:void 0,class:z([t.ns.b(),t.ns.is("selectable",t.checkStrictly),t.ns.is("active",t.node.checked),t.ns.is("disabled",!t.expandable),t.inExpandingPath&&"in-active-path",t.inCheckedPath&&"in-checked-path"]),onMouseenter:t.handleHoverExpand,onFocus:t.handleHoverExpand,onClick:t.handleClick},[he(" prefix "),t.multiple?(P(),we(a,{key:0,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:t.isDisabled,onClick:Mt(()=>{},["stop"]),"onUpdate:modelValue":t.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onClick","onUpdate:modelValue"])):t.checkStrictly?(P(),we(o,{key:1,"model-value":t.checkedNodeId,label:t.node.uid,disabled:t.isDisabled,"onUpdate:modelValue":t.handleSelectCheck,onClick:Mt(()=>{},["stop"])},{default:te(()=>[he(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),Z("span")]),_:1},8,["model-value","label","disabled","onUpdate:modelValue","onClick"])):t.isLeaf&&t.node.checked?(P(),we(c,{key:2,class:z(t.ns.e("prefix"))},{default:te(()=>[Q(l)]),_:1},8,["class"])):he("v-if",!0),he(" content "),Q(d),he(" postfix "),t.isLeaf?he("v-if",!0):(P(),K(ct,{key:3},[t.node.loading?(P(),we(c,{key:0,class:z([t.ns.is("loading"),t.ns.e("postfix")])},{default:te(()=>[Q(p)]),_:1},8,["class"])):(P(),we(c,{key:1,class:z(["arrow-right",t.ns.e("postfix")])},{default:te(()=>[Q(v)]),_:1},8,["class"]))],64))],42,["id","aria-haspopup","aria-owns","aria-expanded","tabindex","onMouseenter","onFocus","onClick"])}var rq=We(nq,[["render",iq],["__file","node.vue"]]);const sq=ie({name:"ElCascaderMenu",components:{Loading:ra,ElIcon:ft,ElScrollbar:fa,ElCascaderNode:rq},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(t){const e=Yt(),n=Fe("cascader-menu"),{t:i}=rn(),r=zi();let s=null,a=null;const o=dt(zy),l=W(null),c=L(()=>!t.nodes.length),d=L(()=>!o.initialLoaded),p=L(()=>`${r.value}-${t.index}`),v=w=>{s=w.target},g=w=>{if(!(!o.isHoverMenu||!s||!l.value))if(s.contains(w.target)){y();const b=e.vnode.el,{left:M}=b.getBoundingClientRect(),{offsetWidth:E,offsetHeight:x}=b,T=w.clientX-M,k=s.offsetTop,I=k+s.offsetHeight;l.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${T} ${k} L${E} 0 V${k} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${T} ${I} L${E} ${x} V${I} Z" />
        `}else a||(a=window.setTimeout(_,o.config.hoverThreshold))},y=()=>{a&&(clearTimeout(a),a=null)},_=()=>{l.value&&(l.value.innerHTML="",y())};return{ns:n,panel:o,hoverZone:l,isEmpty:c,isLoading:d,menuId:p,t:i,handleExpand:v,handleMouseMove:g,clearHoverZone:_}}});function aq(t,e,n,i,r,s){const a=At("el-cascader-node"),o=At("loading"),l=At("el-icon"),c=At("el-scrollbar");return P(),we(c,{key:t.menuId,tag:"ul",role:"menu",class:z(t.ns.b()),"wrap-class":t.ns.e("wrap"),"view-class":[t.ns.e("list"),t.ns.is("empty",t.isEmpty)],onMousemove:t.handleMouseMove,onMouseleave:t.clearHoverZone},{default:te(()=>{var d;return[(P(!0),K(ct,null,Vt(t.nodes,p=>(P(),we(a,{key:p.uid,node:p,"menu-id":t.menuId,onExpand:t.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),t.isLoading?(P(),K("div",{key:0,class:z(t.ns.e("empty-text"))},[Q(l,{size:"14",class:z(t.ns.is("loading"))},{default:te(()=>[Q(o)]),_:1},8,["class"]),pt(" "+Ne(t.t("el.cascader.loading")),1)],2)):t.isEmpty?(P(),K("div",{key:1,class:z(t.ns.e("empty-text"))},[oe(t.$slots,"empty",{},()=>[pt(Ne(t.t("el.cascader.noData")),1)])],2)):(d=t.panel)!=null&&d.isHoverMenu?(P(),K("svg",{key:2,ref:"hoverZone",class:z(t.ns.e("hover-zone"))},null,2)):he("v-if",!0)]}),_:3},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var oq=We(sq,[["render",aq],["__file","menu.vue"]]);let lq=0;const uq=t=>{const e=[t];let{parent:n}=t;for(;n;)e.unshift(n),n=n.parent;return e};let bg=class wg{constructor(e,n,i,r=!1){this.data=e,this.config=n,this.parent=i,this.root=r,this.uid=lq++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:s,label:a,children:o}=n,l=e[o],c=uq(this);this.level=r?0:i?i.level+1:1,this.value=e[s],this.label=e[a],this.pathNodes=c,this.pathValues=c.map(d=>d.value),this.pathLabels=c.map(d=>d.label),this.childrenData=l,this.children=(l||[]).map(d=>new wg(d,n,this)),this.loaded=!n.lazy||this.isLeaf||!Kr(l)}get isDisabled(){const{data:e,parent:n,config:i}=this,{disabled:r,checkStrictly:s}=i;return(cn(r)?r(e,this):!!e[r])||!s&&(n==null?void 0:n.isDisabled)}get isLeaf(){const{data:e,config:n,childrenData:i,loaded:r}=this,{lazy:s,leaf:a}=n,o=cn(a)?a(e,this):e[a];return Hn(o)?s&&!r?!1:!(Array.isArray(i)&&i.length):!!o}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:n,children:i}=this,r=new wg(e,this.config,this);return Array.isArray(n)?n.push(e):this.childrenData=[e],i.push(r),r}calcText(e,n){const i=e?this.pathLabels.join(n):this.label;return this.text=i,i}broadcast(e,...n){const i=`onParent${Zs(e)}`;this.children.forEach(r=>{r&&(r.broadcast(e,...n),r[i]&&r[i](...n))})}emit(e,...n){const{parent:i}=this,r=`onChild${Zs(e)}`;i&&(i[r]&&i[r](...n),i.emit(e,...n))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,n=e.filter(r=>!r.isDisabled),i=n.length?n.every(r=>r.checked):!1;this.setCheckState(i)}setCheckState(e){const n=this.children.length,i=this.children.reduce((r,s)=>{const a=s.checked?1:s.indeterminate?.5:0;return r+a},0);this.checked=this.loaded&&this.children.filter(r=>!r.isDisabled).every(r=>r.loaded&&r.checked)&&e,this.indeterminate=this.loaded&&i!==n&&i>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:n,multiple:i}=this.config;n||!i?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}};const Sg=(t,e)=>t.reduce((n,i)=>(i.isLeaf?n.push(i):(!e&&n.push(i),n=n.concat(Sg(i.children,e))),n),[]);class vw{constructor(e,n){this.config=n;const i=(e||[]).map(r=>new bg(r,this.config));this.nodes=i,this.allNodes=Sg(i,!1),this.leafNodes=Sg(i,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,n){const i=n?n.appendChild(e):new bg(e,this.config);n||this.nodes.push(i),this.allNodes.push(i),i.isLeaf&&this.leafNodes.push(i)}appendNodes(e,n){e.forEach(i=>this.appendNode(i,n))}getNodeByValue(e,n=!1){return!e&&e!==0?null:this.getFlattedNodes(n).find(r=>ir(r.value,e)||ir(r.pathValues,e))||null}getSameNode(e){return e&&this.getFlattedNodes(!1).find(({value:i,level:r})=>ir(e.value,i)&&e.level===r)||null}}const hT=Ge({modelValue:{type:_e([Number,String,Array])},options:{type:_e(Array),default:()=>[]},props:{type:_e(Object),default:()=>({})}}),cq={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:Yn,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},dq=t=>L(()=>({...cq,...t.props})),gw=t=>{if(!t)return 0;const e=t.id.split("-");return Number(e[e.length-2])},fq=t=>{if(!t)return;const e=t.querySelector("input");e?e.click():d2(t)&&t.click()},hq=(t,e)=>{const n=e.slice(0),i=n.map(s=>s.uid),r=t.reduce((s,a)=>{const o=i.indexOf(a.uid);return o>-1&&(s.push(a),n.splice(o,1),i.splice(o,1)),s},[]);return r.push(...n),r},pq=ie({name:"ElCascaderPanel",components:{ElCascaderMenu:oq},props:{...hT,border:{type:Boolean,default:!0},renderLabel:Function},emits:[Kt,Nn,"close","expand-change"],setup(t,{emit:e,slots:n}){let i=!1;const r=Fe("cascader"),s=dq(t);let a=null;const o=W(!0),l=W([]),c=W(null),d=W([]),p=W(null),v=W([]),g=L(()=>s.value.expandTrigger==="hover"),y=L(()=>t.renderLabel||n.default),_=()=>{const{options:$}=t,J=s.value;i=!1,a=new vw($,J),d.value=[a.getNodes()],J.lazy&&Kr(t.options)?(o.value=!1,w(void 0,Y=>{Y&&(a=new vw(Y,J),d.value=[a.getNodes()]),o.value=!0,O(!1,!0)})):O(!1,!0)},w=($,J)=>{const Y=s.value;$=$||new bg({},Y,void 0,!0),$.loading=!0;const H=B=>{const X=$,q=X.root?null:X;B&&(a==null||a.appendNodes(B,q)),X.loading=!1,X.loaded=!0,X.childrenData=X.childrenData||[],J&&J(B)};Y.lazyLoad($,H)},b=($,J)=>{var Y;const{level:H}=$,B=d.value.slice(0,H);let X;$.isLeaf?X=$.pathNodes[H-2]:(X=$,B.push($.children)),((Y=p.value)==null?void 0:Y.uid)!==(X==null?void 0:X.uid)&&(p.value=$,d.value=B,!J&&e("expand-change",($==null?void 0:$.pathValues)||[]))},M=($,J,Y=!0)=>{const{checkStrictly:H,multiple:B}=s.value,X=v.value[0];i=!0,!B&&(X==null||X.doCheck(!1)),$.doCheck(J),I(),Y&&!B&&!H&&e("close"),!Y&&!B&&!H&&E($)},E=$=>{$&&($=$.parent,E($),$&&b($))},x=$=>a==null?void 0:a.getFlattedNodes($),T=$=>{var J;return(J=x($))==null?void 0:J.filter(Y=>Y.checked!==!1)},k=()=>{v.value.forEach($=>$.doCheck(!1)),I(),d.value=d.value.slice(0,1),p.value=null,e("expand-change",[])},I=()=>{var $;const{checkStrictly:J,multiple:Y}=s.value,H=v.value,B=T(!J),X=hq(H,B),q=X.map(D=>D.valueByOption);v.value=X,c.value=Y?q:($=q[0])!=null?$:null},O=($=!1,J=!1)=>{const{modelValue:Y}=t,{lazy:H,multiple:B,checkStrictly:X}=s.value,q=!X;if(!(!o.value||i||!J&&ir(Y,c.value)))if(H&&!$){const V=v1(Z6(mr(Y))).map(ee=>a==null?void 0:a.getNodeByValue(ee)).filter(ee=>!!ee&&!ee.loaded&&!ee.loading);V.length?V.forEach(ee=>{w(ee,()=>O(!1,J))}):O(!0,J)}else{const D=B?mr(Y):[Y],V=v1(D.map(ee=>a==null?void 0:a.getNodeByValue(ee,q)));U(V,J),c.value=xh(Y)}},U=($,J=!0)=>{const{checkStrictly:Y}=s.value,H=v.value,B=$.filter(D=>!!D&&(Y||D.isLeaf)),X=a==null?void 0:a.getSameNode(p.value),q=J&&X||B[0];q?q.pathNodes.forEach(D=>b(D,!0)):p.value=null,H.forEach(D=>D.doCheck(!1)),Xt(B).forEach(D=>D.doCheck(!0)),v.value=B,_t(R)},R=()=>{nn&&l.value.forEach($=>{const J=$==null?void 0:$.$el;if(J){const Y=J.querySelector(`.${r.namespace.value}-scrollbar__wrap`),H=J.querySelector(`.${r.b("node")}.${r.is("active")}`)||J.querySelector(`.${r.b("node")}.in-active-path`);ly(Y,H)}})},N=$=>{const J=$.target,{code:Y}=$;switch(Y){case Et.up:case Et.down:{$.preventDefault();const H=Y===Et.up?-1:1;eh(f2(J,H,`.${r.b("node")}[tabindex="-1"]`));break}case Et.left:{$.preventDefault();const H=l.value[gw(J)-1],B=H==null?void 0:H.$el.querySelector(`.${r.b("node")}[aria-expanded="true"]`);eh(B);break}case Et.right:{$.preventDefault();const H=l.value[gw(J)+1],B=H==null?void 0:H.$el.querySelector(`.${r.b("node")}[tabindex="-1"]`);eh(B);break}case Et.enter:fq(J);break}};return Jt(zy,Xt({config:s,expandingNode:p,checkedNodes:v,isHoverMenu:g,initialLoaded:o,renderLabelFn:y,lazyLoad:w,expandNode:b,handleCheckChange:M})),Le([s,()=>t.options],_,{deep:!0,immediate:!0}),Le(()=>t.modelValue,()=>{i=!1,O()},{deep:!0}),Le(()=>c.value,$=>{ir($,t.modelValue)||(e(Kt,$),e(Nn,$))}),HR(()=>l.value=[]),St(()=>!Kr(t.modelValue)&&O()),{ns:r,menuList:l,menus:d,checkedNodes:v,handleKeyDown:N,handleCheckChange:M,getFlattedNodes:x,getCheckedNodes:T,clearCheckedNodes:k,calculateCheckedValue:I,scrollToExpandingNode:R}}});function mq(t,e,n,i,r,s){const a=At("el-cascader-menu");return P(),K("div",{class:z([t.ns.b("panel"),t.ns.is("bordered",t.border)]),onKeydown:t.handleKeyDown},[(P(!0),K(ct,null,Vt(t.menus,(o,l)=>(P(),we(a,{key:l,ref_for:!0,ref:c=>t.menuList[l]=c,index:l,nodes:[...o]},{empty:te(()=>[oe(t.$slots,"empty")]),_:2},1032,["index","nodes"]))),128))],42,["onKeydown"])}var vq=We(pq,[["render",mq],["__file","index.vue"]]);const pT=Ft(vq),Cl=Ge({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:ca},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),gq={close:t=>t instanceof MouseEvent,click:t=>t instanceof MouseEvent},yq=ie({name:"ElTag"}),_q=ie({...yq,props:Cl,emits:gq,setup(t,{emit:e}){const n=t,i=pi(),r=Fe("tag"),s=L(()=>{const{type:c,hit:d,effect:p,closable:v,round:g}=n;return[r.b(),r.is("closable",v),r.m(c||"primary"),r.m(i.value),r.m(p),r.is("hit",d),r.is("round",g)]}),a=c=>{e("close",c)},o=c=>{e("click",c)},l=c=>{c.component.subTree.component.bum=null};return(c,d)=>c.disableTransitions?(P(),K("span",{key:0,class:z(f(s)),style:bt({backgroundColor:c.color}),onClick:o},[Z("span",{class:z(f(r).e("content"))},[oe(c.$slots,"default")],2),c.closable?(P(),we(f(ft),{key:0,class:z(f(r).e("close")),onClick:Mt(a,["stop"])},{default:te(()=>[Q(f(Bs))]),_:1},8,["class","onClick"])):he("v-if",!0)],6)):(P(),we(di,{key:1,name:`${f(r).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:l},{default:te(()=>[Z("span",{class:z(f(s)),style:bt({backgroundColor:c.color}),onClick:o},[Z("span",{class:z(f(r).e("content"))},[oe(c.$slots,"default")],2),c.closable?(P(),we(f(ft),{key:0,class:z(f(r).e("close")),onClick:Mt(a,["stop"])},{default:te(()=>[Q(f(Bs))]),_:1},8,["class","onClick"])):he("v-if",!0)],6)]),_:3},8,["name"]))}});var bq=We(_q,[["__file","tag.vue"]]);const hd=Ft(bq),wq=Ge({...hT,size:_i,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:_e(Function),default:(t,e)=>t.text.includes(e)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:_e(Function),default:()=>!0},placement:{type:_e(String),values:Va,default:"bottom-start"},fallbackPlacements:{type:_e(Array),default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:{type:String,default:""},teleported:Li.teleported,tagType:{...Cl.type,default:"info"},tagEffect:{...Cl.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...uc}),Sq={[Kt]:t=>!0,[Nn]:t=>!0,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,visibleChange:t=>Gn(t),expandChange:t=>!!t,removeTag:t=>!!t},Eq="ElCascader",Cq=ie({name:Eq}),xq=ie({...Cq,props:wq,emits:Sq,setup(t,{expose:e,emit:n}){const i=t,r={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:de})=>{const{modifiersData:be,placement:Ie}=de;["right","left","bottom","top"].includes(Ie)||(be.arrow.x=35)},requires:["arrow"]}]},s=Pl();let a=0,o=0;const l=Fe("cascader"),c=Fe("input"),{t:d}=rn(),{form:p,formItem:v}=or(),{valueOnClear:g}=xp(i),{isComposing:y,handleComposition:_}=Cp({afterComposition(de){var be;const Ie=(be=de.target)==null?void 0:be.value;Te(Ie)}}),w=W(null),b=W(null),M=W(null),E=W(null),x=W(null),T=W(!1),k=W(!1),I=W(!1),O=W(!1),U=W(""),R=W(""),N=W([]),$=W([]),J=W([]),Y=L(()=>s.style),H=L(()=>i.disabled||(p==null?void 0:p.disabled)),B=L(()=>i.placeholder||d("el.cascader.placeholder")),X=L(()=>R.value||N.value.length>0||y.value?"":B.value),q=pi(),D=L(()=>["small"].includes(q.value)?"small":"default"),V=L(()=>!!i.props.multiple),ee=L(()=>!i.filterable||V.value),ce=L(()=>V.value?R.value:U.value),ae=L(()=>{var de;return((de=E.value)==null?void 0:de.checkedNodes)||[]}),le=L(()=>!i.clearable||H.value||I.value||!k.value?!1:!!ae.value.length),ye=L(()=>{const{showAllLevels:de,separator:be}=i,Ie=ae.value;return Ie.length?V.value?"":Ie[0].calcText(de,be):""}),Ee=L(()=>(v==null?void 0:v.validateState)||""),pe=L({get(){return xh(i.modelValue)},set(de){const be=de??g.value;n(Kt,be),n(Nn,be),i.validateEvent&&(v==null||v.validate("change").catch(Ie=>void 0))}}),ue=L(()=>[l.b(),l.m(q.value),l.is("disabled",H.value),s.class]),Me=L(()=>[c.e("icon"),"icon-arrow-down",l.is("reverse",T.value)]),De=L(()=>l.is("focus",T.value||O.value)),xe=L(()=>{var de,be;return(be=(de=w.value)==null?void 0:de.popperRef)==null?void 0:be.contentRef}),G=de=>{var be,Ie,yt;H.value||(de=de??!T.value,de!==T.value&&(T.value=de,(Ie=(be=b.value)==null?void 0:be.input)==null||Ie.setAttribute("aria-expanded",`${de}`),de?(He(),_t((yt=E.value)==null?void 0:yt.scrollToExpandingNode)):i.filterable&&Re(),n("visibleChange",de)))},He=()=>{_t(()=>{var de;(de=w.value)==null||de.updatePopper()})},Je=()=>{I.value=!1},at=de=>{const{showAllLevels:be,separator:Ie}=i;return{node:de,key:de.uid,text:de.calcText(be,Ie),hitState:!1,closable:!H.value&&!de.isDisabled,isCollapseTag:!1}},rt=de=>{var be;const Ie=de.node;Ie.doCheck(!1),(be=E.value)==null||be.calculateCheckedValue(),n("removeTag",Ie.valueByOption)},it=()=>{if(!V.value)return;const de=ae.value,be=[],Ie=[];if(de.forEach(yt=>Ie.push(at(yt))),$.value=Ie,de.length){de.slice(0,i.maxCollapseTags).forEach(Ce=>be.push(at(Ce)));const yt=de.slice(i.maxCollapseTags),Bt=yt.length;Bt&&(i.collapseTags?be.push({key:-1,text:`+ ${Bt}`,closable:!1,isCollapseTag:!0}):yt.forEach(Ce=>be.push(at(Ce))))}N.value=be},qe=()=>{var de,be;const{filterMethod:Ie,showAllLevels:yt,separator:Bt}=i,Ce=(be=(de=E.value)==null?void 0:de.getFlattedNodes(!i.props.checkStrictly))==null?void 0:be.filter(ot=>ot.isDisabled?!1:(ot.calcText(yt,Bt),Ie(ot,ce.value)));V.value&&(N.value.forEach(ot=>{ot.hitState=!1}),$.value.forEach(ot=>{ot.hitState=!1})),I.value=!0,J.value=Ce,He()},ne=()=>{var de;let be;I.value&&x.value?be=x.value.$el.querySelector(`.${l.e("suggestion-item")}`):be=(de=E.value)==null?void 0:de.$el.querySelector(`.${l.b("node")}[tabindex="-1"]`),be&&(be.focus(),!I.value&&be.click())},se=()=>{var de,be;const Ie=(de=b.value)==null?void 0:de.input,yt=M.value,Bt=(be=x.value)==null?void 0:be.$el;if(!(!nn||!Ie)){if(Bt){const Ce=Bt.querySelector(`.${l.e("suggestion-list")}`);Ce.style.minWidth=`${Ie.offsetWidth}px`}if(yt){const{offsetHeight:Ce}=yt,ot=N.value.length>0?`${Math.max(Ce+6,a)}px`:`${a}px`;Ie.style.height=ot,He()}}},ke=de=>{var be;return(be=E.value)==null?void 0:be.getCheckedNodes(de)},Be=de=>{He(),n("expandChange",de)},Ve=de=>{if(!y.value)switch(de.code){case Et.enter:G();break;case Et.down:G(!0),_t(ne),de.preventDefault();break;case Et.esc:T.value===!0&&(de.preventDefault(),de.stopPropagation(),G(!1));break;case Et.tab:G(!1);break}},Ae=()=>{var de;(de=E.value)==null||de.clearCheckedNodes(),!T.value&&i.filterable&&Re(),G(!1),n("clear")},Re=()=>{const{value:de}=ye;U.value=de,R.value=de},Xe=de=>{var be,Ie;const{checked:yt}=de;V.value?(be=E.value)==null||be.handleCheckChange(de,!yt,!1):(!yt&&((Ie=E.value)==null||Ie.handleCheckChange(de,!0,!1)),G(!1))},gt=de=>{const be=de.target,{code:Ie}=de;switch(Ie){case Et.up:case Et.down:{const yt=Ie===Et.up?-1:1;eh(f2(be,yt,`.${l.e("suggestion-item")}[tabindex="-1"]`));break}case Et.enter:be.click();break}},nt=()=>{const de=N.value,be=de[de.length-1];o=R.value?0:o+1,!(!be||!o||i.collapseTags&&de.length>1)&&(be.hitState?rt(be):be.hitState=!0)},Lt=de=>{const be=de.target,Ie=l.e("search-input");be.className===Ie&&(O.value=!0),n("focus",de)},Ye=de=>{O.value=!1,n("blur",de)},xt=Br(()=>{const{value:de}=ce;if(!de)return;const be=i.beforeFilter(de);Lv(be)?be.then(qe).catch(()=>{}):be!==!1?qe():Je()},i.debounce),Te=(de,be)=>{!T.value&&G(!0),!(be!=null&&be.isComposing)&&(de?xt():Je())},ze=de=>Number.parseFloat(uF(c.cssVarName("input-height"),de).value)-2;return Le(I,He),Le([ae,H,()=>i.collapseTags],it),Le(N,()=>{_t(()=>se())}),Le(q,async()=>{await _t();const de=b.value.input;a=ze(de)||a,se()}),Le(ye,Re,{immediate:!0}),St(()=>{const de=b.value.input,be=ze(de);a=de.offsetHeight||be,Fn(de,se)}),e({getCheckedNodes:ke,cascaderPanelRef:E,togglePopperVisible:G,contentRef:xe,presentText:ye}),(de,be)=>(P(),we(f(vi),{ref_key:"tooltipRef",ref:w,visible:T.value,teleported:de.teleported,"popper-class":[f(l).e("dropdown"),de.popperClass],"popper-options":r,"fallback-placements":de.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:de.placement,transition:`${f(l).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:de.persistent,onHide:Je},{default:te(()=>[Ut((P(),K("div",{class:z(f(ue)),style:bt(f(Y)),onClick:()=>G(f(ee)?void 0:!0),onKeydown:Ve,onMouseenter:Ie=>k.value=!0,onMouseleave:Ie=>k.value=!1},[Q(f(tr),{ref_key:"input",ref:b,modelValue:U.value,"onUpdate:modelValue":Ie=>U.value=Ie,placeholder:f(X),readonly:f(ee),disabled:f(H),"validate-event":!1,size:f(q),class:z(f(De)),tabindex:f(V)&&de.filterable&&!f(H)?-1:void 0,onCompositionstart:f(_),onCompositionupdate:f(_),onCompositionend:f(_),onFocus:Lt,onBlur:Ye,onInput:Te},{suffix:te(()=>[f(le)?(P(),we(f(ft),{key:"clear",class:z([f(c).e("icon"),"icon-circle-close"]),onClick:Mt(Ae,["stop"])},{default:te(()=>[Q(f(To))]),_:1},8,["class","onClick"])):(P(),we(f(ft),{key:"arrow-down",class:z(f(Me)),onClick:Mt(Ie=>G(),["stop"])},{default:te(()=>[Q(f(Fa))]),_:1},8,["class","onClick"]))]),_:1},8,["modelValue","onUpdate:modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),f(V)?(P(),K("div",{key:0,ref_key:"tagWrapper",ref:M,class:z([f(l).e("tags"),f(l).is("validate",!!f(Ee))])},[(P(!0),K(ct,null,Vt(N.value,Ie=>(P(),we(f(hd),{key:Ie.key,type:de.tagType,size:f(D),effect:de.tagEffect,hit:Ie.hitState,closable:Ie.closable,"disable-transitions":"",onClose:yt=>rt(Ie)},{default:te(()=>[Ie.isCollapseTag===!1?(P(),K("span",{key:0},Ne(Ie.text),1)):(P(),we(f(vi),{key:1,disabled:T.value||!de.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:te(()=>[Z("span",null,Ne(Ie.text),1)]),content:te(()=>[Z("div",{class:z(f(l).e("collapse-tags"))},[(P(!0),K(ct,null,Vt($.value.slice(de.maxCollapseTags),(yt,Bt)=>(P(),K("div",{key:Bt,class:z(f(l).e("collapse-tag"))},[(P(),we(f(hd),{key:yt.key,class:"in-tooltip",type:de.tagType,size:f(D),effect:de.tagEffect,hit:yt.hitState,closable:yt.closable,"disable-transitions":"",onClose:Ce=>rt(yt)},{default:te(()=>[Z("span",null,Ne(yt.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","effect","hit","closable","onClose"]))),128)),de.filterable&&!f(H)?Ut((P(),K("input",{key:0,"onUpdate:modelValue":Ie=>R.value=Ie,type:"text",class:z(f(l).e("search-input")),placeholder:f(ye)?"":f(B),onInput:Ie=>Te(R.value,Ie),onClick:Mt(Ie=>G(!0),["stop"]),onKeydown:vn(nt,["delete"]),onCompositionstart:f(_),onCompositionupdate:f(_),onCompositionend:f(_),onFocus:Lt,onBlur:Ye},null,42,["onUpdate:modelValue","placeholder","onInput","onClick","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend"])),[[T0,R.value]]):he("v-if",!0)],2)):he("v-if",!0)],46,["onClick","onMouseenter","onMouseleave"])),[[f(Ia),()=>G(!1),f(xe)]])]),content:te(()=>[Ut(Q(f(pT),{ref_key:"cascaderPanelRef",ref:E,modelValue:f(pe),"onUpdate:modelValue":Ie=>nr(pe)?pe.value=Ie:null,options:de.options,props:i.props,border:!1,"render-label":de.$slots.default,onExpandChange:Be,onClose:Ie=>de.$nextTick(()=>G(!1))},{empty:te(()=>[oe(de.$slots,"empty")]),_:3},8,["modelValue","onUpdate:modelValue","options","props","render-label","onClose"]),[[on,!I.value]]),de.filterable?Ut((P(),we(f(fa),{key:0,ref_key:"suggestionPanel",ref:x,tag:"ul",class:z(f(l).e("suggestion-panel")),"view-class":f(l).e("suggestion-list"),onKeydown:gt},{default:te(()=>[J.value.length?(P(!0),K(ct,{key:0},Vt(J.value,Ie=>(P(),K("li",{key:Ie.uid,class:z([f(l).e("suggestion-item"),f(l).is("checked",Ie.checked)]),tabindex:-1,onClick:yt=>Xe(Ie)},[Z("span",null,Ne(Ie.text),1),Ie.checked?(P(),we(f(ft),{key:0},{default:te(()=>[Q(f(Ad))]),_:1})):he("v-if",!0)],10,["onClick"]))),128)):oe(de.$slots,"empty",{key:1},()=>[Z("li",{class:z(f(l).e("empty-text"))},Ne(f(d)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[on,I.value]]):he("v-if",!0)]),_:3},8,["visible","teleported","popper-class","fallback-placements","placement","transition","persistent"]))}});var Mq=We(xq,[["__file","cascader.vue"]]);const Tq=Ft(Mq),Aq=Ge({checked:Boolean,disabled:Boolean,type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),kq={"update:checked":t=>Gn(t),[Nn]:t=>Gn(t)},Pq=ie({name:"ElCheckTag"}),Rq=ie({...Pq,props:Aq,emits:kq,setup(t,{emit:e}){const n=t,i=Fe("check-tag"),r=L(()=>n.disabled),s=L(()=>[i.b(),i.is("checked",n.checked),i.is("disabled",r.value),i.m(n.type||"primary")]),a=()=>{if(r.value)return;const o=!n.checked;e(Nn,o),e("update:checked",o)};return(o,l)=>(P(),K("span",{class:z(f(s)),onClick:a},[oe(o.$slots,"default")],2))}});var Iq=We(Rq,[["__file","check-tag.vue"]]);const Lq=Ft(Iq),mT=Symbol("rowContextKey"),Nq=["start","center","end","space-around","space-between","space-evenly"],Oq=["top","middle","bottom"],Dq=Ge({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:Nq,default:"start"},align:{type:String,values:Oq}}),Fq=ie({name:"ElRow"}),Bq=ie({...Fq,props:Dq,setup(t){const e=t,n=Fe("row"),i=L(()=>e.gutter);Jt(mT,{gutter:i});const r=L(()=>{const a={};return e.gutter&&(a.marginRight=a.marginLeft=`-${e.gutter/2}px`),a}),s=L(()=>[n.b(),n.is(`justify-${e.justify}`,e.justify!=="start"),n.is(`align-${e.align}`,!!e.align)]);return(a,o)=>(P(),we(zt(a.tag),{class:z(f(s)),style:bt(f(r))},{default:te(()=>[oe(a.$slots,"default")]),_:3},8,["class","style"]))}});var Uq=We(Bq,[["__file","row.vue"]]);const Vq=Ft(Uq),zq=Ge({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:_e([Number,Object]),default:()=>Un({})},sm:{type:_e([Number,Object]),default:()=>Un({})},md:{type:_e([Number,Object]),default:()=>Un({})},lg:{type:_e([Number,Object]),default:()=>Un({})},xl:{type:_e([Number,Object]),default:()=>Un({})}}),$q=ie({name:"ElCol"}),Hq=ie({...$q,props:zq,setup(t){const e=t,{gutter:n}=dt(mT,{gutter:L(()=>0)}),i=Fe("col"),r=L(()=>{const a={};return n.value&&(a.paddingLeft=a.paddingRight=`${n.value/2}px`),a}),s=L(()=>{const a=[];return["span","offset","pull","push"].forEach(c=>{const d=e[c];Pt(d)&&(c==="span"?a.push(i.b(`${e[c]}`)):d>0&&a.push(i.b(`${c}-${e[c]}`)))}),["xs","sm","md","lg","xl"].forEach(c=>{Pt(e[c])?a.push(i.b(`${c}-${e[c]}`)):Sn(e[c])&&Object.entries(e[c]).forEach(([d,p])=>{a.push(d!=="span"?i.b(`${c}-${d}-${p}`):i.b(`${c}-${p}`))})}),n.value&&a.push(i.is("guttered")),[i.b(),a]});return(a,o)=>(P(),we(zt(a.tag),{class:z(f(s)),style:bt(f(r))},{default:te(()=>[oe(a.$slots,"default")]),_:3},8,["class","style"]))}});var Gq=We(Hq,[["__file","col.vue"]]);const Wq=Ft(Gq),yw=t=>Pt(t)||Wt(t)||Ot(t),Kq=Ge({accordion:Boolean,modelValue:{type:_e([Array,String,Number]),default:()=>Un([])}}),qq={[Kt]:yw,[Nn]:yw},vT=Symbol("collapseContextKey"),Yq=(t,e)=>{const n=W(Qi(t.modelValue)),i=s=>{n.value=s;const a=t.accordion?n.value[0]:n.value;e(Kt,a),e(Nn,a)},r=s=>{if(t.accordion)i([n.value[0]===s?"":s]);else{const a=[...n.value],o=a.indexOf(s);o>-1?a.splice(o,1):a.push(s),i(a)}};return Le(()=>t.modelValue,()=>n.value=Qi(t.modelValue),{deep:!0}),Jt(vT,{activeNames:n,handleItemClick:r}),{activeNames:n,setActiveNames:i}},jq=()=>{const t=Fe("collapse");return{rootKls:L(()=>t.b())}},Xq=ie({name:"ElCollapse"}),Zq=ie({...Xq,props:Kq,emits:qq,setup(t,{expose:e,emit:n}){const i=t,{activeNames:r,setActiveNames:s}=Yq(i,n),{rootKls:a}=jq();return e({activeNames:r,setActiveNames:s}),(o,l)=>(P(),K("div",{class:z(f(a))},[oe(o.$slots,"default")],2))}});var Jq=We(Zq,[["__file","collapse.vue"]]);const Qq=ie({name:"ElCollapseTransition"}),eY=ie({...Qq,setup(t){const e=Fe("collapse-transition"),n=r=>{r.style.maxHeight="",r.style.overflow=r.dataset.oldOverflow,r.style.paddingTop=r.dataset.oldPaddingTop,r.style.paddingBottom=r.dataset.oldPaddingBottom},i={beforeEnter(r){r.dataset||(r.dataset={}),r.dataset.oldPaddingTop=r.style.paddingTop,r.dataset.oldPaddingBottom=r.style.paddingBottom,r.style.height&&(r.dataset.elExistsHeight=r.style.height),r.style.maxHeight=0,r.style.paddingTop=0,r.style.paddingBottom=0},enter(r){requestAnimationFrame(()=>{r.dataset.oldOverflow=r.style.overflow,r.dataset.elExistsHeight?r.style.maxHeight=r.dataset.elExistsHeight:r.scrollHeight!==0?r.style.maxHeight=`${r.scrollHeight}px`:r.style.maxHeight=0,r.style.paddingTop=r.dataset.oldPaddingTop,r.style.paddingBottom=r.dataset.oldPaddingBottom,r.style.overflow="hidden"})},afterEnter(r){r.style.maxHeight="",r.style.overflow=r.dataset.oldOverflow},enterCancelled(r){n(r)},beforeLeave(r){r.dataset||(r.dataset={}),r.dataset.oldPaddingTop=r.style.paddingTop,r.dataset.oldPaddingBottom=r.style.paddingBottom,r.dataset.oldOverflow=r.style.overflow,r.style.maxHeight=`${r.scrollHeight}px`,r.style.overflow="hidden"},leave(r){r.scrollHeight!==0&&(r.style.maxHeight=0,r.style.paddingTop=0,r.style.paddingBottom=0)},afterLeave(r){n(r)},leaveCancelled(r){n(r)}};return(r,s)=>(P(),we(di,Gt({name:f(e).b()},FC(i)),{default:te(()=>[oe(r.$slots,"default")]),_:3},16,["name"]))}});var tY=We(eY,[["__file","collapse-transition.vue"]]);const Hd=Ft(tY),nY=Ge({title:{type:String,default:""},name:{type:_e([String,Number]),default:void 0},icon:{type:En,default:vr},disabled:Boolean}),iY=t=>{const e=dt(vT),{namespace:n}=Fe("collapse"),i=W(!1),r=W(!1),s=Cy(),a=L(()=>s.current++),o=L(()=>{var v;return(v=t.name)!=null?v:`${n.value}-id-${s.prefix}-${f(a)}`}),l=L(()=>e==null?void 0:e.activeNames.value.includes(f(o)));return{focusing:i,id:a,isActive:l,handleFocus:()=>{setTimeout(()=>{r.value?r.value=!1:i.value=!0},50)},handleHeaderClick:()=>{t.disabled||(e==null||e.handleItemClick(f(o)),i.value=!1,r.value=!0)},handleEnterClick:()=>{e==null||e.handleItemClick(f(o))}}},rY=(t,{focusing:e,isActive:n,id:i})=>{const r=Fe("collapse"),s=L(()=>[r.b("item"),r.is("active",f(n)),r.is("disabled",t.disabled)]),a=L(()=>[r.be("item","header"),r.is("active",f(n)),{focusing:f(e)&&!t.disabled}]),o=L(()=>[r.be("item","arrow"),r.is("active",f(n))]),l=L(()=>r.be("item","wrap")),c=L(()=>r.be("item","content")),d=L(()=>r.b(`content-${f(i)}`)),p=L(()=>r.b(`head-${f(i)}`));return{arrowKls:o,headKls:a,rootKls:s,itemWrapperKls:l,itemContentKls:c,scopedContentId:d,scopedHeadId:p}},sY=ie({name:"ElCollapseItem"}),aY=ie({...sY,props:nY,setup(t,{expose:e}){const n=t,{focusing:i,id:r,isActive:s,handleFocus:a,handleHeaderClick:o,handleEnterClick:l}=iY(n),{arrowKls:c,headKls:d,rootKls:p,itemWrapperKls:v,itemContentKls:g,scopedContentId:y,scopedHeadId:_}=rY(n,{focusing:i,isActive:s,id:r});return e({isActive:s}),(w,b)=>(P(),K("div",{class:z(f(p))},[Z("button",{id:f(_),class:z(f(d)),"aria-expanded":f(s),"aria-controls":f(y),"aria-describedby":f(y),tabindex:w.disabled?-1:0,type:"button",onClick:f(o),onKeydown:vn(Mt(f(l),["stop","prevent"]),["space","enter"]),onFocus:f(a),onBlur:M=>i.value=!1},[oe(w.$slots,"title",{},()=>[pt(Ne(w.title),1)]),oe(w.$slots,"icon",{isActive:f(s)},()=>[Q(f(ft),{class:z(f(c))},{default:te(()=>[(P(),we(zt(w.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),Q(f(Hd),null,{default:te(()=>[Ut(Z("div",{id:f(y),role:"region",class:z(f(v)),"aria-hidden":!f(s),"aria-labelledby":f(_)},[Z("div",{class:z(f(g))},[oe(w.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[on,f(s)]])]),_:3})],2))}});var gT=We(aY,[["__file","collapse-item.vue"]]);const oY=Ft(Jq,{CollapseItem:gT}),lY=Vn(gT),uY=Ge({color:{type:_e(Object),required:!0},vertical:{type:Boolean,default:!1}});let Tm=!1;function pd(t,e){if(!nn)return;const n=function(s){var a;(a=e.drag)==null||a.call(e,s)},i=function(s){var a;document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",i),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",i),document.onselectstart=null,document.ondragstart=null,Tm=!1,(a=e.end)==null||a.call(e,s)},r=function(s){var a;Tm||(s.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n),document.addEventListener("mouseup",i),document.addEventListener("touchmove",n),document.addEventListener("touchend",i),Tm=!0,(a=e.start)==null||a.call(e,s))};t.addEventListener("mousedown",r),t.addEventListener("touchstart",r,{passive:!1})}const cY=t=>{const e=Yt(),{t:n}=rn(),i=An(),r=An(),s=L(()=>t.color.get("alpha")),a=L(()=>n("el.colorpicker.alphaLabel"));function o(p){var v;p.target!==i.value&&l(p),(v=i.value)==null||v.focus()}function l(p){if(!r.value||!i.value)return;const g=e.vnode.el.getBoundingClientRect(),{clientX:y,clientY:_}=$0(p);if(t.vertical){let w=_-g.top;w=Math.max(i.value.offsetHeight/2,w),w=Math.min(w,g.height-i.value.offsetHeight/2),t.color.set("alpha",Math.round((w-i.value.offsetHeight/2)/(g.height-i.value.offsetHeight)*100))}else{let w=y-g.left;w=Math.max(i.value.offsetWidth/2,w),w=Math.min(w,g.width-i.value.offsetWidth/2),t.color.set("alpha",Math.round((w-i.value.offsetWidth/2)/(g.width-i.value.offsetWidth)*100))}}function c(p){const{code:v,shiftKey:g}=p,y=g?10:1;switch(v){case Et.left:case Et.down:p.preventDefault(),p.stopPropagation(),d(-y);break;case Et.right:case Et.up:p.preventDefault(),p.stopPropagation(),d(y);break}}function d(p){let v=s.value+p;v=v<0?0:v>100?100:v,t.color.set("alpha",v)}return{thumb:i,bar:r,alpha:s,alphaLabel:a,handleDrag:l,handleClick:o,handleKeydown:c}},dY=(t,{bar:e,thumb:n,handleDrag:i})=>{const r=Yt(),s=Fe("color-alpha-slider"),a=W(0),o=W(0),l=W();function c(){if(!n.value||t.vertical)return 0;const M=r.vnode.el,E=t.color.get("alpha");return M?Math.round(E*(M.offsetWidth-n.value.offsetWidth/2)/100):0}function d(){if(!n.value)return 0;const M=r.vnode.el;if(!t.vertical)return 0;const E=t.color.get("alpha");return M?Math.round(E*(M.offsetHeight-n.value.offsetHeight/2)/100):0}function p(){if(t.color&&t.color.value){const{r:M,g:E,b:x}=t.color.toRgb();return`linear-gradient(to right, rgba(${M}, ${E}, ${x}, 0) 0%, rgba(${M}, ${E}, ${x}, 1) 100%)`}return""}function v(){a.value=c(),o.value=d(),l.value=p()}St(()=>{if(!e.value||!n.value)return;const M={drag:E=>{i(E)},end:E=>{i(E)}};pd(e.value,M),pd(n.value,M),v()}),Le(()=>t.color.get("alpha"),()=>v()),Le(()=>t.color.value,()=>v());const g=L(()=>[s.b(),s.is("vertical",t.vertical)]),y=L(()=>s.e("bar")),_=L(()=>s.e("thumb")),w=L(()=>({background:l.value})),b=L(()=>({left:Jn(a.value),top:Jn(o.value)}));return{rootKls:g,barKls:y,barStyle:w,thumbKls:_,thumbStyle:b,update:v}},fY="ElColorAlphaSlider",hY=ie({name:fY}),pY=ie({...hY,props:uY,setup(t,{expose:e}){const n=t,{alpha:i,alphaLabel:r,bar:s,thumb:a,handleDrag:o,handleClick:l,handleKeydown:c}=cY(n),{rootKls:d,barKls:p,barStyle:v,thumbKls:g,thumbStyle:y,update:_}=dY(n,{bar:s,thumb:a,handleDrag:o});return e({update:_,bar:s,thumb:a}),(w,b)=>(P(),K("div",{class:z(f(d))},[Z("div",{ref_key:"bar",ref:s,class:z(f(p)),style:bt(f(v)),onClick:f(l)},null,14,["onClick"]),Z("div",{ref_key:"thumb",ref:a,class:z(f(g)),style:bt(f(y)),"aria-label":f(r),"aria-valuenow":f(i),"aria-orientation":w.vertical?"vertical":"horizontal","aria-valuemin":"0","aria-valuemax":"100",role:"slider",tabindex:"0",onKeydown:f(c)},null,46,["aria-label","aria-valuenow","aria-orientation","onKeydown"])],2))}});var mY=We(pY,[["__file","alpha-slider.vue"]]);const vY=ie({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(t){const e=Fe("color-hue-slider"),n=Yt(),i=W(),r=W(),s=W(0),a=W(0),o=L(()=>t.color.get("hue"));Le(()=>o.value,()=>{v()});function l(g){g.target!==i.value&&c(g)}function c(g){if(!r.value||!i.value)return;const _=n.vnode.el.getBoundingClientRect(),{clientX:w,clientY:b}=$0(g);let M;if(t.vertical){let E=b-_.top;E=Math.min(E,_.height-i.value.offsetHeight/2),E=Math.max(i.value.offsetHeight/2,E),M=Math.round((E-i.value.offsetHeight/2)/(_.height-i.value.offsetHeight)*360)}else{let E=w-_.left;E=Math.min(E,_.width-i.value.offsetWidth/2),E=Math.max(i.value.offsetWidth/2,E),M=Math.round((E-i.value.offsetWidth/2)/(_.width-i.value.offsetWidth)*360)}t.color.set("hue",M)}function d(){if(!i.value)return 0;const g=n.vnode.el;if(t.vertical)return 0;const y=t.color.get("hue");return g?Math.round(y*(g.offsetWidth-i.value.offsetWidth/2)/360):0}function p(){if(!i.value)return 0;const g=n.vnode.el;if(!t.vertical)return 0;const y=t.color.get("hue");return g?Math.round(y*(g.offsetHeight-i.value.offsetHeight/2)/360):0}function v(){s.value=d(),a.value=p()}return St(()=>{if(!r.value||!i.value)return;const g={drag:y=>{c(y)},end:y=>{c(y)}};pd(r.value,g),pd(i.value,g),v()}),{bar:r,thumb:i,thumbLeft:s,thumbTop:a,hueValue:o,handleClick:l,update:v,ns:e}}});function gY(t,e,n,i,r,s){return P(),K("div",{class:z([t.ns.b(),t.ns.is("vertical",t.vertical)])},[Z("div",{ref:"bar",class:z(t.ns.e("bar")),onClick:t.handleClick},null,10,["onClick"]),Z("div",{ref:"thumb",class:z(t.ns.e("thumb")),style:bt({left:t.thumbLeft+"px",top:t.thumbTop+"px"})},null,6)],2)}var yY=We(vY,[["render",gY],["__file","hue-slider.vue"]]);const _Y=Ge({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:_i,popperClass:{type:String,default:""},tabindex:{type:[String,Number],default:0},teleported:Li.teleported,predefine:{type:_e(Array)},validateEvent:{type:Boolean,default:!0},...$i(["ariaLabel"])}),bY={[Kt]:t=>Wt(t)||Ai(t),[Nn]:t=>Wt(t)||Ai(t),activeChange:t=>Wt(t)||Ai(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},yT=Symbol("colorPickerContextKey"),_w=function(t,e,n){return[t,e*n/((t=(2-e)*n)<1?t:2-t)||0,t/2]},wY=function(t){return typeof t=="string"&&t.includes(".")&&Number.parseFloat(t)===1},SY=function(t){return typeof t=="string"&&t.includes("%")},Cu=function(t,e){wY(t)&&(t="100%");const n=SY(t);return t=Math.min(e,Math.max(0,Number.parseFloat(`${t}`))),n&&(t=Number.parseInt(`${t*e}`,10)/100),Math.abs(t-e)<1e-6?1:t%e/Number.parseFloat(e)},bw={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},oh=t=>{t=Math.min(Math.round(t),255);const e=Math.floor(t/16),n=t%16;return`${bw[e]||e}${bw[n]||n}`},ww=function({r:t,g:e,b:n}){return Number.isNaN(+t)||Number.isNaN(+e)||Number.isNaN(+n)?"":`#${oh(t)}${oh(e)}${oh(n)}`},Am={A:10,B:11,C:12,D:13,E:14,F:15},Vo=function(t){return t.length===2?(Am[t[0].toUpperCase()]||+t[0])*16+(Am[t[1].toUpperCase()]||+t[1]):Am[t[1].toUpperCase()]||+t[1]},EY=function(t,e,n){e=e/100,n=n/100;let i=e;const r=Math.max(n,.01);n*=2,e*=n<=1?n:2-n,i*=r<=1?r:2-r;const s=(n+e)/2,a=n===0?2*i/(r+i):2*e/(n+e);return{h:t,s:a*100,v:s*100}},Sw=(t,e,n)=>{t=Cu(t,255),e=Cu(e,255),n=Cu(n,255);const i=Math.max(t,e,n),r=Math.min(t,e,n);let s;const a=i,o=i-r,l=i===0?0:o/i;if(i===r)s=0;else{switch(i){case t:{s=(e-n)/o+(e<n?6:0);break}case e:{s=(n-t)/o+2;break}case n:{s=(t-e)/o+4;break}}s/=6}return{h:s*360,s:l*100,v:a*100}},Lc=function(t,e,n){t=Cu(t,360)*6,e=Cu(e,100),n=Cu(n,100);const i=Math.floor(t),r=t-i,s=n*(1-e),a=n*(1-r*e),o=n*(1-(1-r)*e),l=i%6,c=[n,a,s,s,o,n][l],d=[o,n,n,a,s,s][l],p=[s,s,o,n,n,a][l];return{r:Math.round(c*255),g:Math.round(d*255),b:Math.round(p*255)}};let ed=class{constructor(e={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const n in e)qi(e,n)&&(this[n]=e[n]);e.value?this.fromString(e.value):this.doOnChange()}set(e,n){if(arguments.length===1&&typeof e=="object"){for(const i in e)qi(e,i)&&this.set(i,e[i]);return}this[`_${e}`]=n,this.doOnChange()}get(e){return e==="alpha"?Math.floor(this[`_${e}`]):this[`_${e}`]}toRgb(){return Lc(this._hue,this._saturation,this._value)}fromString(e){if(!e){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const n=(i,r,s)=>{this._hue=Math.max(0,Math.min(360,i)),this._saturation=Math.max(0,Math.min(100,r)),this._value=Math.max(0,Math.min(100,s)),this.doOnChange()};if(e.includes("hsl")){const i=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,s)=>s>2?Number.parseFloat(r):Number.parseInt(r,10));if(i.length===4?this._alpha=Number.parseFloat(i[3])*100:i.length===3&&(this._alpha=100),i.length>=3){const{h:r,s,v:a}=EY(i[0],i[1],i[2]);n(r,s,a)}}else if(e.includes("hsv")){const i=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,s)=>s>2?Number.parseFloat(r):Number.parseInt(r,10));i.length===4?this._alpha=Number.parseFloat(i[3])*100:i.length===3&&(this._alpha=100),i.length>=3&&n(i[0],i[1],i[2])}else if(e.includes("rgb")){const i=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,s)=>s>2?Number.parseFloat(r):Number.parseInt(r,10));if(i.length===4?this._alpha=Number.parseFloat(i[3])*100:i.length===3&&(this._alpha=100),i.length>=3){const{h:r,s,v:a}=Sw(i[0],i[1],i[2]);n(r,s,a)}}else if(e.includes("#")){const i=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(i))return;let r,s,a;i.length===3?(r=Vo(i[0]+i[0]),s=Vo(i[1]+i[1]),a=Vo(i[2]+i[2])):(i.length===6||i.length===8)&&(r=Vo(i.slice(0,2)),s=Vo(i.slice(2,4)),a=Vo(i.slice(4,6))),i.length===8?this._alpha=Vo(i.slice(6))/255*100:(i.length===3||i.length===6)&&(this._alpha=100);const{h:o,s:l,v:c}=Sw(r,s,a);n(o,l,c)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:n,_value:i,_alpha:r,format:s}=this;if(this.enableAlpha)switch(s){case"hsl":{const a=_w(e,n/100,i/100);this.value=`hsla(${e}, ${Math.round(a[1]*100)}%, ${Math.round(a[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${e}, ${Math.round(n)}%, ${Math.round(i)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${ww(Lc(e,n,i))}${oh(r*255/100)}`;break}default:{const{r:a,g:o,b:l}=Lc(e,n,i);this.value=`rgba(${a}, ${o}, ${l}, ${this.get("alpha")/100})`}}else switch(s){case"hsl":{const a=_w(e,n/100,i/100);this.value=`hsl(${e}, ${Math.round(a[1]*100)}%, ${Math.round(a[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${e}, ${Math.round(n)}%, ${Math.round(i)}%)`;break}case"rgb":{const{r:a,g:o,b:l}=Lc(e,n,i);this.value=`rgb(${a}, ${o}, ${l})`;break}default:this.value=ww(Lc(e,n,i))}}};const CY=ie({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0},enableAlpha:{type:Boolean,required:!0}},setup(t){const e=Fe("color-predefine"),{currentColor:n}=dt(yT),i=W(s(t.colors,t.color));Le(()=>n.value,a=>{const o=new ed;o.fromString(a),i.value.forEach(l=>{l.selected=o.compare(l)})}),gi(()=>{i.value=s(t.colors,t.color)});function r(a){t.color.fromString(t.colors[a])}function s(a,o){return a.map(l=>{const c=new ed;return c.enableAlpha=t.enableAlpha,c.format="rgba",c.fromString(l),c.selected=c.value===o.value,c})}return{rgbaColors:i,handleSelect:r,ns:e}}});function xY(t,e,n,i,r,s){return P(),K("div",{class:z(t.ns.b())},[Z("div",{class:z(t.ns.e("colors"))},[(P(!0),K(ct,null,Vt(t.rgbaColors,(a,o)=>(P(),K("div",{key:t.colors[o],class:z([t.ns.e("color-selector"),t.ns.is("alpha",a._alpha<100),{selected:a.selected}]),onClick:l=>t.handleSelect(o)},[Z("div",{style:bt({backgroundColor:a.value})},null,4)],10,["onClick"]))),128))],2)],2)}var MY=We(CY,[["render",xY],["__file","predefine.vue"]]);const TY=ie({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(t){const e=Fe("color-svpanel"),n=Yt(),i=W(0),r=W(0),s=W("hsl(0, 100%, 50%)"),a=L(()=>{const c=t.color.get("hue"),d=t.color.get("value");return{hue:c,value:d}});function o(){const c=t.color.get("saturation"),d=t.color.get("value"),p=n.vnode.el,{clientWidth:v,clientHeight:g}=p;r.value=c*v/100,i.value=(100-d)*g/100,s.value=`hsl(${t.color.get("hue")}, 100%, 50%)`}function l(c){const p=n.vnode.el.getBoundingClientRect(),{clientX:v,clientY:g}=$0(c);let y=v-p.left,_=g-p.top;y=Math.max(0,y),y=Math.min(y,p.width),_=Math.max(0,_),_=Math.min(_,p.height),r.value=y,i.value=_,t.color.set({saturation:y/p.width*100,value:100-_/p.height*100})}return Le(()=>a.value,()=>{o()}),St(()=>{pd(n.vnode.el,{drag:c=>{l(c)},end:c=>{l(c)}}),o()}),{cursorTop:i,cursorLeft:r,background:s,colorValue:a,handleDrag:l,update:o,ns:e}}});function AY(t,e,n,i,r,s){return P(),K("div",{class:z(t.ns.b()),style:bt({backgroundColor:t.background})},[Z("div",{class:z(t.ns.e("white"))},null,2),Z("div",{class:z(t.ns.e("black"))},null,2),Z("div",{class:z(t.ns.e("cursor")),style:bt({top:t.cursorTop+"px",left:t.cursorLeft+"px"})},[Z("div")],6)],6)}var kY=We(TY,[["render",AY],["__file","sv-panel.vue"]]);const PY=ie({name:"ElColorPicker"}),RY=ie({...PY,props:_Y,emits:bY,setup(t,{expose:e,emit:n}){const i=t,{t:r}=rn(),s=Fe("color"),{formItem:a}=or(),o=pi(),l=ar(),{inputId:c,isLabeledByFormItem:d}=Gs(i,{formItemContext:a}),p=W(),v=W(),g=W(),y=W(),_=W(),w=W(),{isFocused:b,handleFocus:M,handleBlur:E}=Vd(_,{beforeFocus(){return l.value},beforeBlur(Me){var De;return(De=y.value)==null?void 0:De.isFocusInsideContent(Me)},afterBlur(){H(!1),D()}});let x=!0;const T=Xt(new ed({enableAlpha:i.showAlpha,format:i.colorFormat||"",value:i.modelValue})),k=W(!1),I=W(!1),O=W(""),U=L(()=>!i.modelValue&&!I.value?"transparent":Y(T,i.showAlpha)),R=L(()=>!i.modelValue&&!I.value?"":T.value),N=L(()=>d.value?void 0:i.ariaLabel||r("el.colorpicker.defaultLabel")),$=L(()=>d.value?a==null?void 0:a.labelId:void 0),J=L(()=>[s.b("picker"),s.is("disabled",l.value),s.bm("picker",o.value),s.is("focused",b.value)]);function Y(Me,De){if(!(Me instanceof ed))throw new TypeError("color should be instance of _color Class");const{r:xe,g:G,b:He}=Me.toRgb();return De?`rgba(${xe}, ${G}, ${He}, ${Me.get("alpha")/100})`:`rgb(${xe}, ${G}, ${He})`}function H(Me){k.value=Me}const B=Br(H,100,{leading:!0});function X(){l.value||H(!0)}function q(){B(!1),D()}function D(){_t(()=>{i.modelValue?T.fromString(i.modelValue):(T.value="",_t(()=>{I.value=!1}))})}function V(){l.value||B(!k.value)}function ee(){T.fromString(O.value)}function ce(){const Me=T.value;n(Kt,Me),n("change",Me),i.validateEvent&&(a==null||a.validate("change").catch(De=>void 0)),B(!1),_t(()=>{const De=new ed({enableAlpha:i.showAlpha,format:i.colorFormat||"",value:i.modelValue});T.compare(De)||D()})}function ae(){B(!1),n(Kt,null),n("change",null),i.modelValue!==null&&i.validateEvent&&(a==null||a.validate("change").catch(Me=>void 0)),D()}function le(){k.value&&(q(),b.value&&pe())}function ye(Me){Me.preventDefault(),Me.stopPropagation(),H(!1),D()}function Ee(Me){switch(Me.code){case Et.enter:case Et.space:Me.preventDefault(),Me.stopPropagation(),X(),w.value.focus();break;case Et.esc:ye(Me);break}}function pe(){_.value.focus()}function ue(){_.value.blur()}return St(()=>{i.modelValue&&(O.value=R.value)}),Le(()=>i.modelValue,Me=>{Me?Me&&Me!==T.value&&(x=!1,T.fromString(Me)):I.value=!1}),Le(()=>[i.colorFormat,i.showAlpha],()=>{T.enableAlpha=i.showAlpha,T.format=i.colorFormat||T.format,T.doOnChange(),n(Kt,T.value)}),Le(()=>R.value,Me=>{O.value=Me,x&&n("activeChange",Me),x=!0}),Le(()=>T.value,()=>{!i.modelValue&&!I.value&&(I.value=!0)}),Le(()=>k.value,()=>{_t(()=>{var Me,De,xe;(Me=p.value)==null||Me.update(),(De=v.value)==null||De.update(),(xe=g.value)==null||xe.update()})}),Jt(yT,{currentColor:R}),e({color:T,show:X,hide:q,focus:pe,blur:ue}),(Me,De)=>(P(),we(f(vi),{ref_key:"popper",ref:y,visible:k.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[f(s).be("picker","panel"),f(s).b("dropdown"),Me.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:Me.teleported,transition:`${f(s).namespace.value}-zoom-in-top`,persistent:"",onHide:xe=>H(!1)},{content:te(()=>[Ut((P(),K("div",{onKeydown:vn(ye,["esc"])},[Z("div",{class:z(f(s).be("dropdown","main-wrapper"))},[Q(yY,{ref_key:"hue",ref:p,class:"hue-slider",color:f(T),vertical:""},null,8,["color"]),Q(kY,{ref_key:"sv",ref:v,color:f(T)},null,8,["color"])],2),Me.showAlpha?(P(),we(mY,{key:0,ref_key:"alpha",ref:g,color:f(T)},null,8,["color"])):he("v-if",!0),Me.predefine?(P(),we(MY,{key:1,ref:"predefine","enable-alpha":Me.showAlpha,color:f(T),colors:Me.predefine},null,8,["enable-alpha","color","colors"])):he("v-if",!0),Z("div",{class:z(f(s).be("dropdown","btns"))},[Z("span",{class:z(f(s).be("dropdown","value"))},[Q(f(tr),{ref_key:"inputRef",ref:w,modelValue:O.value,"onUpdate:modelValue":xe=>O.value=xe,"validate-event":!1,size:"small",onKeyup:vn(ee,["enter"]),onBlur:ee},null,8,["modelValue","onUpdate:modelValue","onKeyup"])],2),Q(f(Ni),{class:z(f(s).be("dropdown","link-btn")),text:"",size:"small",onClick:ae},{default:te(()=>[pt(Ne(f(r)("el.colorpicker.clear")),1)]),_:1},8,["class"]),Q(f(Ni),{plain:"",size:"small",class:z(f(s).be("dropdown","btn")),onClick:ce},{default:te(()=>[pt(Ne(f(r)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,["onKeydown"])),[[f(Ia),le]])]),default:te(()=>[Z("div",Gt({id:f(c),ref_key:"triggerRef",ref:_},Me.$attrs,{class:f(J),role:"button","aria-label":f(N),"aria-labelledby":f($),"aria-description":f(r)("el.colorpicker.description",{color:Me.modelValue||""}),"aria-disabled":f(l),tabindex:f(l)?-1:Me.tabindex,onKeydown:Ee,onFocus:f(M),onBlur:f(E)}),[f(l)?(P(),K("div",{key:0,class:z(f(s).be("picker","mask"))},null,2)):he("v-if",!0),Z("div",{class:z(f(s).be("picker","trigger")),onClick:V},[Z("span",{class:z([f(s).be("picker","color"),f(s).is("alpha",Me.showAlpha)])},[Z("span",{class:z(f(s).be("picker","color-inner")),style:bt({backgroundColor:f(U)})},[Ut(Q(f(ft),{class:z([f(s).be("picker","icon"),f(s).is("icon-arrow-down")])},{default:te(()=>[Q(f(Fa))]),_:1},8,["class"]),[[on,Me.modelValue||I.value]]),Ut(Q(f(ft),{class:z([f(s).be("picker","empty"),f(s).is("icon-close")])},{default:te(()=>[Q(f(Bs))]),_:1},8,["class"]),[[on,!Me.modelValue&&!I.value]])],6)],2)],2)],16,["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex","onFocus","onBlur"])]),_:1},8,["visible","popper-class","teleported","transition","onHide"]))}});var IY=We(RY,[["__file","color-picker.vue"]]);const LY=Ft(IY),NY=ie({name:"ElContainer"}),OY=ie({...NY,props:{direction:{type:String}},setup(t){const e=t,n=Si(),i=Fe("container"),r=L(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:n&&n.default?n.default().some(a=>{const o=a.type.name;return o==="ElHeader"||o==="ElFooter"}):!1);return(s,a)=>(P(),K("section",{class:z([f(i).b(),f(i).is("vertical",f(r))])},[oe(s.$slots,"default")],2))}});var DY=We(OY,[["__file","container.vue"]]);const FY=ie({name:"ElAside"}),BY=ie({...FY,props:{width:{type:String,default:null}},setup(t){const e=t,n=Fe("aside"),i=L(()=>e.width?n.cssVarBlock({width:e.width}):{});return(r,s)=>(P(),K("aside",{class:z(f(n).b()),style:bt(f(i))},[oe(r.$slots,"default")],6))}});var _T=We(BY,[["__file","aside.vue"]]);const UY=ie({name:"ElFooter"}),VY=ie({...UY,props:{height:{type:String,default:null}},setup(t){const e=t,n=Fe("footer"),i=L(()=>e.height?n.cssVarBlock({height:e.height}):{});return(r,s)=>(P(),K("footer",{class:z(f(n).b()),style:bt(f(i))},[oe(r.$slots,"default")],6))}});var bT=We(VY,[["__file","footer.vue"]]);const zY=ie({name:"ElHeader"}),$Y=ie({...zY,props:{height:{type:String,default:null}},setup(t){const e=t,n=Fe("header"),i=L(()=>e.height?n.cssVarBlock({height:e.height}):{});return(r,s)=>(P(),K("header",{class:z(f(n).b()),style:bt(f(i))},[oe(r.$slots,"default")],6))}});var wT=We($Y,[["__file","header.vue"]]);const HY=ie({name:"ElMain"}),GY=ie({...HY,setup(t){const e=Fe("main");return(n,i)=>(P(),K("main",{class:z(f(e).b())},[oe(n.$slots,"default")],2))}});var ST=We(GY,[["__file","main.vue"]]);const WY=Ft(DY,{Aside:_T,Footer:bT,Header:wT,Main:ST}),KY=Vn(_T),qY=Vn(bT),YY=Vn(wT),jY=Vn(ST);var ET={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Pr,function(){return function(n,i){var r=i.prototype,s=r.format;r.format=function(a){var o=this,l=this.$locale();if(!this.isValid())return s.bind(this)(a);var c=this.$utils(),d=(a||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(p){switch(p){case"Q":return Math.ceil((o.$M+1)/3);case"Do":return l.ordinal(o.$D);case"gggg":return o.weekYear();case"GGGG":return o.isoWeekYear();case"wo":return l.ordinal(o.week(),"W");case"w":case"ww":return c.s(o.week(),p==="w"?1:2,"0");case"W":case"WW":return c.s(o.isoWeek(),p==="W"?1:2,"0");case"k":case"kk":return c.s(String(o.$H===0?24:o.$H),p==="k"?1:2,"0");case"X":return Math.floor(o.$d.getTime()/1e3);case"x":return o.$d.getTime();case"z":return"["+o.offsetName()+"]";case"zzz":return"["+o.offsetName("long")+"]";default:return p}});return s.bind(this)(d)}}})})(ET);var XY=ET.exports;const ZY=Ws(XY);var CT={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Pr,function(){var n="week",i="year";return function(r,s,a){var o=s.prototype;o.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var d=a(this).startOf(i).add(1,i).date(c),p=a(this).endOf(n);if(d.isBefore(p))return 1}var v=a(this).startOf(i).date(c).startOf(n).subtract(1,"millisecond"),g=this.diff(v,n,!0);return g<0?a(this).startOf("week").week():Math.ceil(g)},o.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(CT);var JY=CT.exports;const QY=Ws(JY);var xT={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Pr,function(){return function(n,i){i.prototype.weekYear=function(){var r=this.month(),s=this.week(),a=this.year();return s===1&&r===11?a+1:r===0&&s>=52?a-1:a}}})})(xT);var ej=xT.exports;const tj=Ws(ej);var MT={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Pr,function(){return function(n,i,r){i.prototype.dayOfYear=function(s){var a=Math.round((r(this).startOf("day")-r(this).startOf("year"))/864e5)+1;return s==null?a:this.add(s-a,"day")}}})})(MT);var nj=MT.exports;const ij=Ws(nj);var TT={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Pr,function(){return function(n,i){i.prototype.isSameOrAfter=function(r,s){return this.isSame(r,s)||this.isAfter(r,s)}}})})(TT);var rj=TT.exports;const sj=Ws(rj);var AT={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Pr,function(){return function(n,i){i.prototype.isSameOrBefore=function(r,s){return this.isSame(r,s)||this.isBefore(r,s)}}})})(AT);var aj=AT.exports;const oj=Ws(aj),Pp=Symbol(),lj=Ge({...Vy,type:{type:_e(String),default:"date"}}),uj=["date","dates","year","years","month","months","week","range"],$y=Ge({disabledDate:{type:_e(Function)},date:{type:_e(Object),required:!0},minDate:{type:_e(Object)},maxDate:{type:_e(Object)},parsedValue:{type:_e([Object,Array])},rangeState:{type:_e(Object),default:()=>({endDate:null,selecting:!1})}}),kT=Ge({type:{type:_e(String),required:!0,values:wz},dateFormat:String,timeFormat:String}),Hy=Ge({unlinkPanels:Boolean,parsedValue:{type:_e(Array)}}),Gy=t=>({type:String,values:uj,default:t}),cj=Ge({...kT,parsedValue:{type:_e([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),Gu=t=>{if(!Ot(t))return!1;const[e,n]=t;return Nt.isDayjs(e)&&Nt.isDayjs(n)&&e.isSameOrBefore(n)},Wy=(t,{lang:e,unit:n,unlinkPanels:i})=>{let r;if(Ot(t)){let[s,a]=t.map(o=>Nt(o).locale(e));return i||(a=s.add(1,n)),[s,a]}else t?r=Nt(t):r=Nt();return r=r.locale(e),[r,r.add(1,n)]},dj=(t,e,{columnIndexOffset:n,startDate:i,nextEndDate:r,now:s,unit:a,relativeDateGetter:o,setCellMetadata:l,setRowMetadata:c})=>{for(let d=0;d<t.row;d++){const p=e[d];for(let v=0;v<t.column;v++){let g=p[v+n];g||(g={row:d,column:v,type:"normal",inRange:!1,start:!1,end:!1});const y=d*t.column+v,_=o(y);g.dayjs=_,g.date=_.toDate(),g.timestamp=_.valueOf(),g.type="normal",g.inRange=!!(i&&_.isSameOrAfter(i,a)&&r&&_.isSameOrBefore(r,a))||!!(i&&_.isSameOrBefore(i,a)&&r&&_.isSameOrAfter(r,a)),i!=null&&i.isSameOrAfter(r)?(g.start=!!r&&_.isSame(r,a),g.end=i&&_.isSame(i,a)):(g.start=!!i&&_.isSame(i,a),g.end=!!r&&_.isSame(r,a)),_.isSame(s,a)&&(g.type="today"),l==null||l(g,{rowIndex:d,columnIndex:v}),p[v+n]=g}c==null||c(p)}},Lh=(t,e,n)=>{const i=Nt().locale(n).startOf("month").month(e).year(t),r=i.daysInMonth();return lo(r).map(s=>i.add(s,"day").toDate())},md=(t,e,n,i)=>{const r=Nt().year(t).month(e).startOf("month"),s=Lh(t,e,n).find(a=>!(i!=null&&i(a)));return s?Nt(s).locale(n):r.locale(n)},Eg=(t,e,n)=>{const i=t.year();if(!(n!=null&&n(t.toDate())))return t.locale(e);const r=t.month();if(!Lh(i,r,e).every(n))return md(i,r,e,n);for(let s=0;s<12;s++)if(!Lh(i,s,e).every(n))return md(i,s,e,n);return t},fj=Ge({...$y,cellClassName:{type:_e(Function)},showWeekNumber:Boolean,selectionMode:Gy("date")}),hj=["changerange","pick","select"],Cg=(t="")=>["normal","today"].includes(t),pj=(t,e)=>{const{lang:n}=rn(),i=W(),r=W(),s=W(),a=W(),o=W([[],[],[],[],[],[]]);let l=!1;const c=t.date.$locale().weekStart||7,d=t.date.locale("en").localeData().weekdaysShort().map(D=>D.toLowerCase()),p=L(()=>c>3?7-c:-c),v=L(()=>{const D=t.date.startOf("month");return D.subtract(D.day()||7,"day")}),g=L(()=>d.concat(d).slice(c,c+7)),y=L(()=>P2(f(x)).some(D=>D.isCurrent)),_=L(()=>{const D=t.date.startOf("month"),V=D.day()||7,ee=D.daysInMonth(),ce=D.subtract(1,"month").daysInMonth();return{startOfMonthDay:V,dateCountOfMonth:ee,dateCountOfLastMonth:ce}}),w=L(()=>t.selectionMode==="dates"?mr(t.parsedValue):[]),b=(D,{count:V,rowIndex:ee,columnIndex:ce})=>{const{startOfMonthDay:ae,dateCountOfMonth:le,dateCountOfLastMonth:ye}=f(_),Ee=f(p);if(ee>=0&&ee<=1){const pe=ae+Ee<0?7+ae+Ee:ae+Ee;if(ce+ee*7>=pe)return D.text=V,!0;D.text=ye-(pe-ce%7)+1+ee*7,D.type="prev-month"}else return V<=le?D.text=V:(D.text=V-le,D.type="next-month"),!0;return!1},M=(D,{columnIndex:V,rowIndex:ee},ce)=>{const{disabledDate:ae,cellClassName:le}=t,ye=f(w),Ee=b(D,{count:ce,rowIndex:ee,columnIndex:V}),pe=D.dayjs.toDate();return D.selected=ye.find(ue=>ue.isSame(D.dayjs,"day")),D.isSelected=!!D.selected,D.isCurrent=k(D),D.disabled=ae==null?void 0:ae(pe),D.customClass=le==null?void 0:le(pe),Ee},E=D=>{if(t.selectionMode==="week"){const[V,ee]=t.showWeekNumber?[1,7]:[0,6],ce=q(D[V+1]);D[V].inRange=ce,D[V].start=ce,D[ee].inRange=ce,D[ee].end=ce}},x=L(()=>{const{minDate:D,maxDate:V,rangeState:ee,showWeekNumber:ce}=t,ae=f(p),le=f(o),ye="day";let Ee=1;if(ce)for(let pe=0;pe<6;pe++)le[pe][0]||(le[pe][0]={type:"week",text:f(v).add(pe*7+1,ye).week()});return dj({row:6,column:7},le,{startDate:D,columnIndexOffset:ce?1:0,nextEndDate:ee.endDate||V||ee.selecting&&D||null,now:Nt().locale(f(n)).startOf(ye),unit:ye,relativeDateGetter:pe=>f(v).add(pe-ae,ye),setCellMetadata:(...pe)=>{M(...pe,Ee)&&(Ee+=1)},setRowMetadata:E}),le});Le(()=>t.date,async()=>{var D;(D=f(i))!=null&&D.contains(document.activeElement)&&(await _t(),await T())});const T=async()=>{var D;return(D=f(r))==null?void 0:D.focus()},k=D=>t.selectionMode==="date"&&Cg(D.type)&&I(D,t.parsedValue),I=(D,V)=>V?Nt(V).locale(f(n)).isSame(t.date.date(Number(D.text)),"day"):!1,O=(D,V)=>{const ee=D*7+(V-(t.showWeekNumber?1:0))-f(p);return f(v).add(ee,"day")},U=D=>{var V;if(!t.rangeState.selecting)return;let ee=D.target;if(ee.tagName==="SPAN"&&(ee=(V=ee.parentNode)==null?void 0:V.parentNode),ee.tagName==="DIV"&&(ee=ee.parentNode),ee.tagName!=="TD")return;const ce=ee.parentNode.rowIndex-1,ae=ee.cellIndex;f(x)[ce][ae].disabled||(ce!==f(s)||ae!==f(a))&&(s.value=ce,a.value=ae,e("changerange",{selecting:!0,endDate:O(ce,ae)}))},R=D=>!f(y)&&(D==null?void 0:D.text)===1&&D.type==="normal"||D.isCurrent,N=D=>{l||f(y)||t.selectionMode!=="date"||X(D,!0)},$=D=>{D.target.closest("td")&&(l=!0)},J=D=>{D.target.closest("td")&&(l=!1)},Y=D=>{!t.rangeState.selecting||!t.minDate?(e("pick",{minDate:D,maxDate:null}),e("select",!0)):(D>=t.minDate?e("pick",{minDate:t.minDate,maxDate:D}):e("pick",{minDate:D,maxDate:t.minDate}),e("select",!1))},H=D=>{const V=D.week(),ee=`${D.year()}w${V}`;e("pick",{year:D.year(),week:V,value:ee,date:D.startOf("week")})},B=(D,V)=>{const ee=V?mr(t.parsedValue).filter(ce=>(ce==null?void 0:ce.valueOf())!==D.valueOf()):mr(t.parsedValue).concat([D]);e("pick",ee)},X=(D,V=!1)=>{const ee=D.target.closest("td");if(!ee)return;const ce=ee.parentNode.rowIndex-1,ae=ee.cellIndex,le=f(x)[ce][ae];if(le.disabled||le.type==="week")return;const ye=O(ce,ae);switch(t.selectionMode){case"range":{Y(ye);break}case"date":{e("pick",ye,V);break}case"week":{H(ye);break}case"dates":{B(ye,!!le.selected);break}}},q=D=>{if(t.selectionMode!=="week")return!1;let V=t.date.startOf("day");if(D.type==="prev-month"&&(V=V.subtract(1,"month")),D.type==="next-month"&&(V=V.add(1,"month")),V=V.date(Number.parseInt(D.text,10)),t.parsedValue&&!Array.isArray(t.parsedValue)){const ee=(t.parsedValue.day()-c+7)%7-1;return t.parsedValue.subtract(ee,"day").isSame(V,"day")}return!1};return{WEEKS:g,rows:x,tbodyRef:i,currentCellRef:r,focus:T,isCurrent:k,isWeekActive:q,isSelectedCell:R,handlePickDate:X,handleMouseUp:J,handleMouseDown:$,handleMouseMove:U,handleFocus:N}},mj=(t,{isCurrent:e,isWeekActive:n})=>{const i=Fe("date-table"),{t:r}=rn(),s=L(()=>[i.b(),{"is-week-mode":t.selectionMode==="week"}]),a=L(()=>r("el.datepicker.dateTablePrompt")),o=L(()=>r("el.datepicker.week"));return{tableKls:s,tableLabel:a,weekLabel:o,getCellClasses:d=>{const p=[];return Cg(d.type)&&!d.disabled?(p.push("available"),d.type==="today"&&p.push("today")):p.push(d.type),e(d)&&p.push("current"),d.inRange&&(Cg(d.type)||t.selectionMode==="week")&&(p.push("in-range"),d.start&&p.push("start-date"),d.end&&p.push("end-date")),d.disabled&&p.push("disabled"),d.selected&&p.push("selected"),d.customClass&&p.push(d.customClass),p.join(" ")},getRowKls:d=>[i.e("row"),{current:n(d)}],t:r}},vj=Ge({cell:{type:_e(Object)}});var Ky=ie({name:"ElDatePickerCell",props:vj,setup(t){const e=Fe("date-table-cell"),{slots:n}=dt(Pp);return()=>{const{cell:i}=t;return oe(n,"default",{...i},()=>{var r;return[Q("div",{class:e.b()},[Q("span",{class:e.e("text")},[(r=i==null?void 0:i.renderText)!=null?r:i==null?void 0:i.text])])]})}}});const gj=ie({__name:"basic-date-table",props:fj,emits:hj,setup(t,{expose:e,emit:n}){const i=t,{WEEKS:r,rows:s,tbodyRef:a,currentCellRef:o,focus:l,isCurrent:c,isWeekActive:d,isSelectedCell:p,handlePickDate:v,handleMouseUp:g,handleMouseDown:y,handleMouseMove:_,handleFocus:w}=pj(i,n),{tableLabel:b,tableKls:M,weekLabel:E,getCellClasses:x,getRowKls:T,t:k}=mj(i,{isCurrent:c,isWeekActive:d});return e({focus:l}),(I,O)=>(P(),K("table",{"aria-label":f(b),class:z(f(M)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:f(v),onMousemove:f(_),onMousedown:Mt(f(y),["prevent"]),onMouseup:f(g)},[Z("tbody",{ref_key:"tbodyRef",ref:a},[Z("tr",null,[I.showWeekNumber?(P(),K("th",{key:0,scope:"col"},Ne(f(E)),1)):he("v-if",!0),(P(!0),K(ct,null,Vt(f(r),(U,R)=>(P(),K("th",{key:R,"aria-label":f(k)("el.datepicker.weeksFull."+U),scope:"col"},Ne(f(k)("el.datepicker.weeks."+U)),9,["aria-label"]))),128))]),(P(!0),K(ct,null,Vt(f(s),(U,R)=>(P(),K("tr",{key:R,class:z(f(T)(U[1]))},[(P(!0),K(ct,null,Vt(U,(N,$)=>(P(),K("td",{key:`${R}.${$}`,ref_for:!0,ref:J=>f(p)(N)&&(o.value=J),class:z(f(x)(N)),"aria-current":N.isCurrent?"date":void 0,"aria-selected":N.isCurrent,tabindex:f(p)(N)?0:-1,onFocus:f(w)},[Q(f(Ky),{cell:N},null,8,["cell"])],42,["aria-current","aria-selected","tabindex","onFocus"]))),128))],2))),128))],512)],42,["aria-label","onClick","onMousemove","onMousedown","onMouseup"]))}});var xg=We(gj,[["__file","basic-date-table.vue"]]);const yj=Ge({...$y,selectionMode:Gy("month")}),_j=ie({__name:"basic-month-table",props:yj,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const i=t,r=Fe("month-table"),{t:s,lang:a}=rn(),o=W(),l=W(),c=W(i.date.locale("en").localeData().monthsShort().map(E=>E.toLowerCase())),d=W([[],[],[]]),p=W(),v=W(),g=L(()=>{var E,x;const T=d.value,k=Nt().locale(a.value).startOf("month");for(let I=0;I<3;I++){const O=T[I];for(let U=0;U<4;U++){const R=O[U]||(O[U]={row:I,column:U,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});R.type="normal";const N=I*4+U,$=i.date.startOf("year").month(N),J=i.rangeState.endDate||i.maxDate||i.rangeState.selecting&&i.minDate||null;R.inRange=!!(i.minDate&&$.isSameOrAfter(i.minDate,"month")&&J&&$.isSameOrBefore(J,"month"))||!!(i.minDate&&$.isSameOrBefore(i.minDate,"month")&&J&&$.isSameOrAfter(J,"month")),(E=i.minDate)!=null&&E.isSameOrAfter(J)?(R.start=!!(J&&$.isSame(J,"month")),R.end=i.minDate&&$.isSame(i.minDate,"month")):(R.start=!!(i.minDate&&$.isSame(i.minDate,"month")),R.end=!!(J&&$.isSame(J,"month"))),k.isSame($)&&(R.type="today"),R.text=N,R.disabled=((x=i.disabledDate)==null?void 0:x.call(i,$.toDate()))||!1}}return T}),y=()=>{var E;(E=l.value)==null||E.focus()},_=E=>{const x={},T=i.date.year(),k=new Date,I=E.text;return x.disabled=i.disabledDate?Lh(T,I,a.value).every(i.disabledDate):!1,x.current=mr(i.parsedValue).findIndex(O=>Nt.isDayjs(O)&&O.year()===T&&O.month()===I)>=0,x.today=k.getFullYear()===T&&k.getMonth()===I,E.inRange&&(x["in-range"]=!0,E.start&&(x["start-date"]=!0),E.end&&(x["end-date"]=!0)),x},w=E=>{const x=i.date.year(),T=E.text;return mr(i.date).findIndex(k=>k.year()===x&&k.month()===T)>=0},b=E=>{var x;if(!i.rangeState.selecting)return;let T=E.target;if(T.tagName==="SPAN"&&(T=(x=T.parentNode)==null?void 0:x.parentNode),T.tagName==="DIV"&&(T=T.parentNode),T.tagName!=="TD")return;const k=T.parentNode.rowIndex,I=T.cellIndex;g.value[k][I].disabled||(k!==p.value||I!==v.value)&&(p.value=k,v.value=I,n("changerange",{selecting:!0,endDate:i.date.startOf("year").month(k*4+I)}))},M=E=>{var x;const T=(x=E.target)==null?void 0:x.closest("td");if((T==null?void 0:T.tagName)!=="TD"||kr(T,"disabled"))return;const k=T.cellIndex,O=T.parentNode.rowIndex*4+k,U=i.date.startOf("year").month(O);if(i.selectionMode==="months"){if(E.type==="keydown"){n("pick",mr(i.parsedValue),!1);return}const R=md(i.date.year(),O,a.value,i.disabledDate),N=kr(T,"current")?mr(i.parsedValue).filter($=>($==null?void 0:$.month())!==R.month()):mr(i.parsedValue).concat([Nt(R)]);n("pick",N)}else i.selectionMode==="range"?i.rangeState.selecting?(i.minDate&&U>=i.minDate?n("pick",{minDate:i.minDate,maxDate:U}):n("pick",{minDate:U,maxDate:i.minDate}),n("select",!1)):(n("pick",{minDate:U,maxDate:null}),n("select",!0)):n("pick",O)};return Le(()=>i.date,async()=>{var E,x;(E=o.value)!=null&&E.contains(document.activeElement)&&(await _t(),(x=l.value)==null||x.focus())}),e({focus:y}),(E,x)=>(P(),K("table",{role:"grid","aria-label":f(s)("el.datepicker.monthTablePrompt"),class:z(f(r).b()),onClick:M,onMousemove:b},[Z("tbody",{ref_key:"tbodyRef",ref:o},[(P(!0),K(ct,null,Vt(f(g),(T,k)=>(P(),K("tr",{key:k},[(P(!0),K(ct,null,Vt(T,(I,O)=>(P(),K("td",{key:O,ref_for:!0,ref:U=>w(I)&&(l.value=U),class:z(_(I)),"aria-selected":`${w(I)}`,"aria-label":f(s)(`el.datepicker.month${+I.text+1}`),tabindex:w(I)?0:-1,onKeydown:[vn(Mt(M,["prevent","stop"]),["space"]),vn(Mt(M,["prevent","stop"]),["enter"])]},[Q(f(Ky),{cell:{...I,renderText:f(s)("el.datepicker.months."+c.value[I.text])}},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var Mg=We(_j,[["__file","basic-month-table.vue"]]);const bj=Ge({...$y,selectionMode:Gy("year")}),wj=ie({__name:"basic-year-table",props:bj,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const i=t,r=(x,T)=>{const k=Nt(String(x)).locale(T).startOf("year"),O=k.endOf("year").dayOfYear();return lo(O).map(U=>k.add(U,"day").toDate())},s=Fe("year-table"),{t:a,lang:o}=rn(),l=W(),c=W(),d=L(()=>Math.floor(i.date.year()/10)*10),p=W([[],[],[]]),v=W(),g=W(),y=L(()=>{var x;const T=p.value,k=Nt().locale(o.value).startOf("year");for(let I=0;I<3;I++){const O=T[I];for(let U=0;U<4&&!(I*4+U>=10);U++){let R=O[U];R||(R={row:I,column:U,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1}),R.type="normal";const N=I*4+U+d.value,$=Nt().year(N),J=i.rangeState.endDate||i.maxDate||i.rangeState.selecting&&i.minDate||null;R.inRange=!!(i.minDate&&$.isSameOrAfter(i.minDate,"year")&&J&&$.isSameOrBefore(J,"year"))||!!(i.minDate&&$.isSameOrBefore(i.minDate,"year")&&J&&$.isSameOrAfter(J,"year")),(x=i.minDate)!=null&&x.isSameOrAfter(J)?(R.start=!!(J&&$.isSame(J,"year")),R.end=!!(i.minDate&&$.isSame(i.minDate,"year"))):(R.start=!!(i.minDate&&$.isSame(i.minDate,"year")),R.end=!!(J&&$.isSame(J,"year"))),k.isSame($)&&(R.type="today"),R.text=N;const H=$.toDate();R.disabled=i.disabledDate&&i.disabledDate(H)||!1,O[U]=R}}return T}),_=()=>{var x;(x=c.value)==null||x.focus()},w=x=>{const T={},k=Nt().locale(o.value),I=x.text;return T.disabled=i.disabledDate?r(I,o.value).every(i.disabledDate):!1,T.today=k.year()===I,T.current=mr(i.parsedValue).findIndex(O=>O.year()===I)>=0,x.inRange&&(T["in-range"]=!0,x.start&&(T["start-date"]=!0),x.end&&(T["end-date"]=!0)),T},b=x=>{const T=x.text;return mr(i.date).findIndex(k=>k.year()===T)>=0},M=x=>{var T;const k=(T=x.target)==null?void 0:T.closest("td");if(!k||!k.textContent||kr(k,"disabled"))return;const I=k.cellIndex,U=k.parentNode.rowIndex*4+I+d.value,R=Nt().year(U);if(i.selectionMode==="range")i.rangeState.selecting?(i.minDate&&R>=i.minDate?n("pick",{minDate:i.minDate,maxDate:R}):n("pick",{minDate:R,maxDate:i.minDate}),n("select",!1)):(n("pick",{minDate:R,maxDate:null}),n("select",!0));else if(i.selectionMode==="years"){if(x.type==="keydown"){n("pick",mr(i.parsedValue),!1);return}const N=Eg(R.startOf("year"),o.value,i.disabledDate),$=kr(k,"current")?mr(i.parsedValue).filter(J=>(J==null?void 0:J.year())!==U):mr(i.parsedValue).concat([N]);n("pick",$)}else n("pick",U)},E=x=>{var T;if(!i.rangeState.selecting)return;const k=(T=x.target)==null?void 0:T.closest("td");if(!k)return;const I=k.parentNode.rowIndex,O=k.cellIndex;y.value[I][O].disabled||(I!==v.value||O!==g.value)&&(v.value=I,g.value=O,n("changerange",{selecting:!0,endDate:Nt().year(d.value).add(I*4+O,"year")}))};return Le(()=>i.date,async()=>{var x,T;(x=l.value)!=null&&x.contains(document.activeElement)&&(await _t(),(T=c.value)==null||T.focus())}),e({focus:_}),(x,T)=>(P(),K("table",{role:"grid","aria-label":f(a)("el.datepicker.yearTablePrompt"),class:z(f(s).b()),onClick:M,onMousemove:E},[Z("tbody",{ref_key:"tbodyRef",ref:l},[(P(!0),K(ct,null,Vt(f(y),(k,I)=>(P(),K("tr",{key:I},[(P(!0),K(ct,null,Vt(k,(O,U)=>(P(),K("td",{key:`${I}_${U}`,ref_for:!0,ref:R=>b(O)&&(c.value=R),class:z(["available",w(O)]),"aria-selected":b(O),"aria-label":String(O.text),tabindex:b(O)?0:-1,onKeydown:[vn(Mt(M,["prevent","stop"]),["space"]),vn(Mt(M,["prevent","stop"]),["enter"])]},[Q(f(Ky),{cell:O},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var Tg=We(wj,[["__file","basic-year-table.vue"]]);const Sj=ie({__name:"panel-date-pick",props:cj,emits:["pick","set-picker-option","panel-change"],setup(t,{emit:e}){const n=t,i=(Te,ze,de)=>!0,r=Fe("picker-panel"),s=Fe("date-picker"),a=Pl(),o=Si(),{t:l,lang:c}=rn(),d=dt("EP_PICKER_BASE"),p=dt(kp),{shortcuts:v,disabledDate:g,cellClassName:y,defaultTime:_}=d.props,w=yn(d.props,"defaultValue"),b=W(),M=W(Nt().locale(c.value)),E=W(!1);let x=!1;const T=L(()=>Nt(_).locale(c.value)),k=L(()=>M.value.month()),I=L(()=>M.value.year()),O=W([]),U=W(null),R=W(null),N=Te=>O.value.length>0?i(Te,O.value,n.format||"HH:mm:ss"):!0,$=Te=>_&&!at.value&&!E.value&&!x?T.value.year(Te.year()).month(Te.month()).date(Te.date()):pe.value?Te.millisecond(0):Te.startOf("day"),J=(Te,...ze)=>{if(!Te)e("pick",Te,...ze);else if(Ot(Te)){const de=Te.map($);e("pick",de,...ze)}else e("pick",$(Te),...ze);U.value=null,R.value=null,E.value=!1,x=!1},Y=async(Te,ze)=>{if(V.value==="date"){Te=Te;let de=n.parsedValue?n.parsedValue.year(Te.year()).month(Te.month()).date(Te.date()):Te;N(de)||(de=O.value[0][0].year(Te.year()).month(Te.month()).date(Te.date())),M.value=de,J(de,pe.value||ze),n.type==="datetime"&&(await _t(),nt())}else V.value==="week"?J(Te.date):V.value==="dates"&&J(Te,!0)},H=Te=>{const ze=Te?"add":"subtract";M.value=M.value[ze](1,"month"),xt("month")},B=Te=>{const ze=M.value,de=Te?"add":"subtract";M.value=X.value==="year"?ze[de](10,"year"):ze[de](1,"year"),xt("year")},X=W("date"),q=L(()=>{const Te=l("el.datepicker.year");if(X.value==="year"){const ze=Math.floor(I.value/10)*10;return Te?`${ze} ${Te} - ${ze+9} ${Te}`:`${ze} - ${ze+9}`}return`${I.value} ${Te}`}),D=Te=>{const ze=cn(Te.value)?Te.value():Te.value;if(ze){x=!0,J(Nt(ze).locale(c.value));return}Te.onClick&&Te.onClick({attrs:a,slots:o,emit:e})},V=L(()=>{const{type:Te}=n;return["week","month","months","year","years","dates"].includes(Te)?Te:"date"}),ee=L(()=>V.value==="dates"||V.value==="months"||V.value==="years"),ce=L(()=>V.value==="date"?X.value:V.value),ae=L(()=>!!v.length),le=async(Te,ze)=>{V.value==="month"?(M.value=md(M.value.year(),Te,c.value,g),J(M.value,!1)):V.value==="months"?J(Te,ze??!0):(M.value=md(M.value.year(),Te,c.value,g),X.value="date",["month","year","date","week"].includes(V.value)&&(J(M.value,!0),await _t(),nt())),xt("month")},ye=async(Te,ze)=>{if(V.value==="year"){const de=M.value.startOf("year").year(Te);M.value=Eg(de,c.value,g),J(M.value,!1)}else if(V.value==="years")J(Te,ze??!0);else{const de=M.value.year(Te);M.value=Eg(de,c.value,g),X.value="month",["month","year","date","week"].includes(V.value)&&(J(M.value,!0),await _t(),nt())}xt("year")},Ee=async Te=>{X.value=Te,await _t(),nt()},pe=L(()=>n.type==="datetime"||n.type==="datetimerange"),ue=L(()=>{const Te=pe.value||V.value==="dates",ze=V.value==="years",de=V.value==="months",be=X.value==="date",Ie=X.value==="year",yt=X.value==="month";return Te&&be||ze&&Ie||de&&yt}),Me=L(()=>g?n.parsedValue?Ot(n.parsedValue)?g(n.parsedValue[0].toDate()):g(n.parsedValue.toDate()):!0:!1),De=()=>{if(ee.value)J(n.parsedValue);else{let Te=n.parsedValue;if(!Te){const ze=Nt(_).locale(c.value),de=gt();Te=ze.year(de.year()).month(de.month()).date(de.date())}M.value=Te,J(Te)}},xe=L(()=>g?g(Nt().locale(c.value).toDate()):!1),G=()=>{const ze=Nt().locale(c.value).toDate();E.value=!0,(!g||!g(ze))&&N(ze)&&(M.value=Nt().locale(c.value),J(M.value))},He=L(()=>n.timeFormat||OM(n.format)),Je=L(()=>n.dateFormat||NM(n.format)),at=L(()=>{if(R.value)return R.value;if(!(!n.parsedValue&&!w.value))return(n.parsedValue||M.value).format(He.value)}),rt=L(()=>{if(U.value)return U.value;if(!(!n.parsedValue&&!w.value))return(n.parsedValue||M.value).format(Je.value)}),it=W(!1),qe=()=>{it.value=!0},ne=()=>{it.value=!1},se=Te=>({hour:Te.hour(),minute:Te.minute(),second:Te.second(),year:Te.year(),month:Te.month(),date:Te.date()}),ke=(Te,ze,de)=>{const{hour:be,minute:Ie,second:yt}=se(Te),Bt=n.parsedValue?n.parsedValue.hour(be).minute(Ie).second(yt):Te;M.value=Bt,J(M.value,!0),de||(it.value=ze)},Be=Te=>{const ze=Nt(Te,He.value).locale(c.value);if(ze.isValid()&&N(ze)){const{year:de,month:be,date:Ie}=se(M.value);M.value=ze.year(de).month(be).date(Ie),R.value=null,it.value=!1,J(M.value,!0)}},Ve=Te=>{const ze=Nt(Te,Je.value).locale(c.value);if(ze.isValid()){if(g&&g(ze.toDate()))return;const{hour:de,minute:be,second:Ie}=se(M.value);M.value=ze.hour(de).minute(be).second(Ie),U.value=null,J(M.value,!0)}},Ae=Te=>Nt.isDayjs(Te)&&Te.isValid()&&(g?!g(Te.toDate()):!0),Re=Te=>Ot(Te)?Te.map(ze=>ze.format(n.format)):Te.format(n.format),Xe=Te=>Nt(Te,n.format).locale(c.value),gt=()=>{const Te=Nt(w.value).locale(c.value);if(!w.value){const ze=T.value;return Nt().hour(ze.hour()).minute(ze.minute()).second(ze.second()).locale(c.value)}return Te},nt=async()=>{var Te;["week","month","year","date"].includes(V.value)&&((Te=b.value)==null||Te.focus(),V.value==="week"&&Ye(Et.down))},Lt=Te=>{const{code:ze}=Te;[Et.up,Et.down,Et.left,Et.right,Et.home,Et.end,Et.pageUp,Et.pageDown].includes(ze)&&(Ye(ze),Te.stopPropagation(),Te.preventDefault()),[Et.enter,Et.space,Et.numpadEnter].includes(ze)&&U.value===null&&R.value===null&&(Te.preventDefault(),J(M.value,!1))},Ye=Te=>{var ze;const{up:de,down:be,left:Ie,right:yt,home:Bt,end:Ce,pageUp:ot,pageDown:ve}=Et,et={year:{[de]:-4,[be]:4,[Ie]:-1,[yt]:1,offset:(wt,Ht)=>wt.setFullYear(wt.getFullYear()+Ht)},month:{[de]:-4,[be]:4,[Ie]:-1,[yt]:1,offset:(wt,Ht)=>wt.setMonth(wt.getMonth()+Ht)},week:{[de]:-1,[be]:1,[Ie]:-1,[yt]:1,offset:(wt,Ht)=>wt.setDate(wt.getDate()+Ht*7)},date:{[de]:-7,[be]:7,[Ie]:-1,[yt]:1,[Bt]:wt=>-wt.getDay(),[Ce]:wt=>-wt.getDay()+6,[ot]:wt=>-new Date(wt.getFullYear(),wt.getMonth(),0).getDate(),[ve]:wt=>new Date(wt.getFullYear(),wt.getMonth()+1,0).getDate(),offset:(wt,Ht)=>wt.setDate(wt.getDate()+Ht)}},ut=M.value.toDate();for(;Math.abs(M.value.diff(ut,"year",!0))<1;){const wt=et[ce.value];if(!wt)return;if(wt.offset(ut,cn(wt[Te])?wt[Te](ut):(ze=wt[Te])!=null?ze:0),g&&g(ut))break;const Ht=Nt(ut).locale(c.value);M.value=Ht,e("pick",Ht,!0);break}},xt=Te=>{e("panel-change",M.value.toDate(),Te,X.value)};return Le(()=>V.value,Te=>{if(["month","year"].includes(Te)){X.value=Te;return}else if(Te==="years"){X.value="year";return}else if(Te==="months"){X.value="month";return}X.value="date"},{immediate:!0}),Le(()=>X.value,()=>{p==null||p.updatePopper()}),Le(()=>w.value,Te=>{Te&&(M.value=gt())},{immediate:!0}),Le(()=>n.parsedValue,Te=>{if(Te){if(ee.value||Array.isArray(Te))return;M.value=Te}else M.value=gt()},{immediate:!0}),e("set-picker-option",["isValidValue",Ae]),e("set-picker-option",["formatToString",Re]),e("set-picker-option",["parseUserInput",Xe]),e("set-picker-option",["handleFocusPicker",nt]),(Te,ze)=>(P(),K("div",{class:z([f(r).b(),f(s).b(),{"has-sidebar":Te.$slots.sidebar||f(ae),"has-time":f(pe)}])},[Z("div",{class:z(f(r).e("body-wrapper"))},[oe(Te.$slots,"sidebar",{class:z(f(r).e("sidebar"))}),f(ae)?(P(),K("div",{key:0,class:z(f(r).e("sidebar"))},[(P(!0),K(ct,null,Vt(f(v),(de,be)=>(P(),K("button",{key:be,type:"button",class:z(f(r).e("shortcut")),onClick:Ie=>D(de)},Ne(de.text),11,["onClick"]))),128))],2)):he("v-if",!0),Z("div",{class:z(f(r).e("body"))},[f(pe)?(P(),K("div",{key:0,class:z(f(s).e("time-header"))},[Z("span",{class:z(f(s).e("editor-wrap"))},[Q(f(tr),{placeholder:f(l)("el.datepicker.selectDate"),"model-value":f(rt),size:"small","validate-event":!1,onInput:de=>U.value=de,onChange:Ve},null,8,["placeholder","model-value","onInput"])],2),Ut((P(),K("span",{class:z(f(s).e("editor-wrap"))},[Q(f(tr),{placeholder:f(l)("el.datepicker.selectTime"),"model-value":f(at),size:"small","validate-event":!1,onFocus:qe,onInput:de=>R.value=de,onChange:Be},null,8,["placeholder","model-value","onInput"]),Q(f(Ih),{visible:it.value,format:f(He),"parsed-value":M.value,onPick:ke},null,8,["visible","format","parsed-value"])],2)),[[f(Ia),ne]])],2)):he("v-if",!0),Ut(Z("div",{class:z([f(s).e("header"),(X.value==="year"||X.value==="month")&&f(s).e("header--bordered")])},[Z("span",{class:z(f(s).e("prev-btn"))},[Z("button",{type:"button","aria-label":f(l)("el.datepicker.prevYear"),class:z(["d-arrow-left",f(r).e("icon-btn")]),onClick:de=>B(!1)},[oe(Te.$slots,"prev-year",{},()=>[Q(f(ft),null,{default:te(()=>[Q(f(mo))]),_:1})])],10,["aria-label","onClick"]),Ut(Z("button",{type:"button","aria-label":f(l)("el.datepicker.prevMonth"),class:z([f(r).e("icon-btn"),"arrow-left"]),onClick:de=>H(!1)},[oe(Te.$slots,"prev-month",{},()=>[Q(f(ft),null,{default:te(()=>[Q(f(po))]),_:1})])],10,["aria-label","onClick"]),[[on,X.value==="date"]])],2),Z("span",{role:"button",class:z(f(s).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:vn(de=>Ee("year"),["enter"]),onClick:de=>Ee("year")},Ne(f(q)),43,["onKeydown","onClick"]),Ut(Z("span",{role:"button","aria-live":"polite",tabindex:"0",class:z([f(s).e("header-label"),{active:X.value==="month"}]),onKeydown:vn(de=>Ee("month"),["enter"]),onClick:de=>Ee("month")},Ne(f(l)(`el.datepicker.month${f(k)+1}`)),43,["onKeydown","onClick"]),[[on,X.value==="date"]]),Z("span",{class:z(f(s).e("next-btn"))},[Ut(Z("button",{type:"button","aria-label":f(l)("el.datepicker.nextMonth"),class:z([f(r).e("icon-btn"),"arrow-right"]),onClick:de=>H(!0)},[oe(Te.$slots,"next-month",{},()=>[Q(f(ft),null,{default:te(()=>[Q(f(vr))]),_:1})])],10,["aria-label","onClick"]),[[on,X.value==="date"]]),Z("button",{type:"button","aria-label":f(l)("el.datepicker.nextYear"),class:z([f(r).e("icon-btn"),"d-arrow-right"]),onClick:de=>B(!0)},[oe(Te.$slots,"next-year",{},()=>[Q(f(ft),null,{default:te(()=>[Q(f(vo))]),_:1})])],10,["aria-label","onClick"])],2)],2),[[on,X.value!=="time"]]),Z("div",{class:z(f(r).e("content")),onKeydown:Lt},[X.value==="date"?(P(),we(xg,{key:0,ref_key:"currentViewRef",ref:b,"selection-mode":f(V),date:M.value,"parsed-value":Te.parsedValue,"disabled-date":f(g),"cell-class-name":f(y),onPick:Y},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):he("v-if",!0),X.value==="year"?(P(),we(Tg,{key:1,ref_key:"currentViewRef",ref:b,"selection-mode":f(V),date:M.value,"disabled-date":f(g),"parsed-value":Te.parsedValue,onPick:ye},null,8,["selection-mode","date","disabled-date","parsed-value"])):he("v-if",!0),X.value==="month"?(P(),we(Mg,{key:2,ref_key:"currentViewRef",ref:b,"selection-mode":f(V),date:M.value,"parsed-value":Te.parsedValue,"disabled-date":f(g),onPick:le},null,8,["selection-mode","date","parsed-value","disabled-date"])):he("v-if",!0)],34)],2)],2),Ut(Z("div",{class:z(f(r).e("footer"))},[Ut(Q(f(Ni),{text:"",size:"small",class:z(f(r).e("link-btn")),disabled:f(xe),onClick:G},{default:te(()=>[pt(Ne(f(l)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[on,!f(ee)]]),Q(f(Ni),{plain:"",size:"small",class:z(f(r).e("link-btn")),disabled:f(Me),onClick:De},{default:te(()=>[pt(Ne(f(l)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[on,f(ue)]])],2))}});var Ej=We(Sj,[["__file","panel-date-pick.vue"]]);const Cj=Ge({...kT,...Hy,visible:Boolean}),PT=t=>{const{emit:e}=Yt(),n=Pl(),i=Si();return s=>{const a=cn(s.value)?s.value():s.value;if(a){e("pick",[Nt(a[0]).locale(t.value),Nt(a[1]).locale(t.value)]);return}s.onClick&&s.onClick({attrs:n,slots:i,emit:e})}},RT=(t,{defaultValue:e,leftDate:n,rightDate:i,unit:r,onParsedValueChanged:s})=>{const{emit:a}=Yt(),{pickerNs:o}=dt(Pp),l=Fe("date-range-picker"),{t:c,lang:d}=rn(),p=PT(d),v=W(),g=W(),y=W({endDate:null,selecting:!1}),_=x=>{y.value=x},w=(x=!1)=>{const T=f(v),k=f(g);Gu([T,k])&&a("pick",[T,k],x)},b=x=>{y.value.selecting=x,x||(y.value.endDate=null)},M=x=>{if(Ot(x)&&x.length===2){const[T,k]=x;v.value=T,n.value=T,g.value=k,s(f(v),f(g))}else E()},E=()=>{const[x,T]=Wy(f(e),{lang:f(d),unit:r,unlinkPanels:t.unlinkPanels});v.value=void 0,g.value=void 0,n.value=x,i.value=T};return Le(e,x=>{x&&E()},{immediate:!0}),Le(()=>t.parsedValue,M,{immediate:!0}),{minDate:v,maxDate:g,rangeState:y,lang:d,ppNs:o,drpNs:l,handleChangeRange:_,handleRangeConfirm:w,handleShortcutClick:p,onSelect:b,onReset:M,t:c}},yf="month",xj=ie({__name:"panel-date-range",props:Cj,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(t,{emit:e}){const n=t,i=dt("EP_PICKER_BASE"),{disabledDate:r,cellClassName:s,defaultTime:a,clearable:o}=i.props,l=yn(i.props,"format"),c=yn(i.props,"shortcuts"),d=yn(i.props,"defaultValue"),{lang:p}=rn(),v=W(Nt().locale(p.value)),g=W(Nt().locale(p.value).add(1,yf)),{minDate:y,maxDate:_,rangeState:w,ppNs:b,drpNs:M,handleChangeRange:E,handleRangeConfirm:x,handleShortcutClick:T,onSelect:k,onReset:I,t:O}=RT(n,{defaultValue:d,leftDate:v,rightDate:g,unit:yf,onParsedValueChanged:ze});Le(()=>n.visible,de=>{!de&&w.value.selecting&&(I(n.parsedValue),k(!1))});const U=W({min:null,max:null}),R=W({min:null,max:null}),N=L(()=>`${v.value.year()} ${O("el.datepicker.year")} ${O(`el.datepicker.month${v.value.month()+1}`)}`),$=L(()=>`${g.value.year()} ${O("el.datepicker.year")} ${O(`el.datepicker.month${g.value.month()+1}`)}`),J=L(()=>v.value.year()),Y=L(()=>v.value.month()),H=L(()=>g.value.year()),B=L(()=>g.value.month()),X=L(()=>!!c.value.length),q=L(()=>U.value.min!==null?U.value.min:y.value?y.value.format(ae.value):""),D=L(()=>U.value.max!==null?U.value.max:_.value||y.value?(_.value||y.value).format(ae.value):""),V=L(()=>R.value.min!==null?R.value.min:y.value?y.value.format(ce.value):""),ee=L(()=>R.value.max!==null?R.value.max:_.value||y.value?(_.value||y.value).format(ce.value):""),ce=L(()=>n.timeFormat||OM(l.value)),ae=L(()=>n.dateFormat||NM(l.value)),le=de=>Gu(de)&&(r?!r(de[0].toDate())&&!r(de[1].toDate()):!0),ye=()=>{v.value=v.value.subtract(1,"year"),n.unlinkPanels||(g.value=v.value.add(1,"month")),He("year")},Ee=()=>{v.value=v.value.subtract(1,"month"),n.unlinkPanels||(g.value=v.value.add(1,"month")),He("month")},pe=()=>{n.unlinkPanels?g.value=g.value.add(1,"year"):(v.value=v.value.add(1,"year"),g.value=v.value.add(1,"month")),He("year")},ue=()=>{n.unlinkPanels?g.value=g.value.add(1,"month"):(v.value=v.value.add(1,"month"),g.value=v.value.add(1,"month")),He("month")},Me=()=>{v.value=v.value.add(1,"year"),He("year")},De=()=>{v.value=v.value.add(1,"month"),He("month")},xe=()=>{g.value=g.value.subtract(1,"year"),He("year")},G=()=>{g.value=g.value.subtract(1,"month"),He("month")},He=de=>{e("panel-change",[v.value.toDate(),g.value.toDate()],de)},Je=L(()=>{const de=(Y.value+1)%12,be=Y.value+1>=12?1:0;return n.unlinkPanels&&new Date(J.value+be,de)<new Date(H.value,B.value)}),at=L(()=>n.unlinkPanels&&H.value*12+B.value-(J.value*12+Y.value+1)>=12),rt=L(()=>!(y.value&&_.value&&!w.value.selecting&&Gu([y.value,_.value]))),it=L(()=>n.type==="datetime"||n.type==="datetimerange"),qe=(de,be)=>{if(de)return a?Nt(a[be]||a).locale(p.value).year(de.year()).month(de.month()).date(de.date()):de},ne=(de,be=!0)=>{const Ie=de.minDate,yt=de.maxDate,Bt=qe(Ie,0),Ce=qe(yt,1);_.value===Ce&&y.value===Bt||(e("calendar-change",[Ie.toDate(),yt&&yt.toDate()]),_.value=Ce,y.value=Bt,!(!be||it.value)&&x())},se=W(!1),ke=W(!1),Be=()=>{se.value=!1},Ve=()=>{ke.value=!1},Ae=(de,be)=>{U.value[be]=de;const Ie=Nt(de,ae.value).locale(p.value);if(Ie.isValid()){if(r&&r(Ie.toDate()))return;be==="min"?(v.value=Ie,y.value=(y.value||v.value).year(Ie.year()).month(Ie.month()).date(Ie.date()),!n.unlinkPanels&&(!_.value||_.value.isBefore(y.value))&&(g.value=Ie.add(1,"month"),_.value=y.value.add(1,"month"))):(g.value=Ie,_.value=(_.value||g.value).year(Ie.year()).month(Ie.month()).date(Ie.date()),!n.unlinkPanels&&(!y.value||y.value.isAfter(_.value))&&(v.value=Ie.subtract(1,"month"),y.value=_.value.subtract(1,"month")))}},Re=(de,be)=>{U.value[be]=null},Xe=(de,be)=>{R.value[be]=de;const Ie=Nt(de,ce.value).locale(p.value);Ie.isValid()&&(be==="min"?(se.value=!0,y.value=(y.value||v.value).hour(Ie.hour()).minute(Ie.minute()).second(Ie.second())):(ke.value=!0,_.value=(_.value||g.value).hour(Ie.hour()).minute(Ie.minute()).second(Ie.second()),g.value=_.value))},gt=(de,be)=>{R.value[be]=null,be==="min"?(v.value=y.value,se.value=!1,(!_.value||_.value.isBefore(y.value))&&(_.value=y.value)):(g.value=_.value,ke.value=!1,_.value&&_.value.isBefore(y.value)&&(y.value=_.value))},nt=(de,be,Ie)=>{R.value.min||(de&&(v.value=de,y.value=(y.value||v.value).hour(de.hour()).minute(de.minute()).second(de.second())),Ie||(se.value=be),(!_.value||_.value.isBefore(y.value))&&(_.value=y.value,g.value=de))},Lt=(de,be,Ie)=>{R.value.max||(de&&(g.value=de,_.value=(_.value||g.value).hour(de.hour()).minute(de.minute()).second(de.second())),Ie||(ke.value=be),_.value&&_.value.isBefore(y.value)&&(y.value=_.value))},Ye=()=>{v.value=Wy(f(d),{lang:f(p),unit:"month",unlinkPanels:n.unlinkPanels})[0],g.value=v.value.add(1,"month"),_.value=void 0,y.value=void 0,e("pick",null)},xt=de=>Ot(de)?de.map(be=>be.format(l.value)):de.format(l.value),Te=de=>Ot(de)?de.map(be=>Nt(be,l.value).locale(p.value)):Nt(de,l.value).locale(p.value);function ze(de,be){if(n.unlinkPanels&&be){const Ie=(de==null?void 0:de.year())||0,yt=(de==null?void 0:de.month())||0,Bt=be.year(),Ce=be.month();g.value=Ie===Bt&&yt===Ce?be.add(1,yf):be}else g.value=v.value.add(1,yf),be&&(g.value=g.value.hour(be.hour()).minute(be.minute()).second(be.second()))}return e("set-picker-option",["isValidValue",le]),e("set-picker-option",["parseUserInput",Te]),e("set-picker-option",["formatToString",xt]),e("set-picker-option",["handleClear",Ye]),(de,be)=>(P(),K("div",{class:z([f(b).b(),f(M).b(),{"has-sidebar":de.$slots.sidebar||f(X),"has-time":f(it)}])},[Z("div",{class:z(f(b).e("body-wrapper"))},[oe(de.$slots,"sidebar",{class:z(f(b).e("sidebar"))}),f(X)?(P(),K("div",{key:0,class:z(f(b).e("sidebar"))},[(P(!0),K(ct,null,Vt(f(c),(Ie,yt)=>(P(),K("button",{key:yt,type:"button",class:z(f(b).e("shortcut")),onClick:Bt=>f(T)(Ie)},Ne(Ie.text),11,["onClick"]))),128))],2)):he("v-if",!0),Z("div",{class:z(f(b).e("body"))},[f(it)?(P(),K("div",{key:0,class:z(f(M).e("time-header"))},[Z("span",{class:z(f(M).e("editors-wrap"))},[Z("span",{class:z(f(M).e("time-picker-wrap"))},[Q(f(tr),{size:"small",disabled:f(w).selecting,placeholder:f(O)("el.datepicker.startDate"),class:z(f(M).e("editor")),"model-value":f(q),"validate-event":!1,onInput:Ie=>Ae(Ie,"min"),onChange:Ie=>Re(Ie,"min")},null,8,["disabled","placeholder","class","model-value","onInput","onChange"])],2),Ut((P(),K("span",{class:z(f(M).e("time-picker-wrap"))},[Q(f(tr),{size:"small",class:z(f(M).e("editor")),disabled:f(w).selecting,placeholder:f(O)("el.datepicker.startTime"),"model-value":f(V),"validate-event":!1,onFocus:Ie=>se.value=!0,onInput:Ie=>Xe(Ie,"min"),onChange:Ie=>gt(Ie,"min")},null,8,["class","disabled","placeholder","model-value","onFocus","onInput","onChange"]),Q(f(Ih),{visible:se.value,format:f(ce),"datetime-role":"start","parsed-value":v.value,onPick:nt},null,8,["visible","format","parsed-value"])],2)),[[f(Ia),Be]])],2),Z("span",null,[Q(f(ft),null,{default:te(()=>[Q(f(vr))]),_:1})]),Z("span",{class:z([f(M).e("editors-wrap"),"is-right"])},[Z("span",{class:z(f(M).e("time-picker-wrap"))},[Q(f(tr),{size:"small",class:z(f(M).e("editor")),disabled:f(w).selecting,placeholder:f(O)("el.datepicker.endDate"),"model-value":f(D),readonly:!f(y),"validate-event":!1,onInput:Ie=>Ae(Ie,"max"),onChange:Ie=>Re(Ie,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onInput","onChange"])],2),Ut((P(),K("span",{class:z(f(M).e("time-picker-wrap"))},[Q(f(tr),{size:"small",class:z(f(M).e("editor")),disabled:f(w).selecting,placeholder:f(O)("el.datepicker.endTime"),"model-value":f(ee),readonly:!f(y),"validate-event":!1,onFocus:Ie=>f(y)&&(ke.value=!0),onInput:Ie=>Xe(Ie,"max"),onChange:Ie=>gt(Ie,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onFocus","onInput","onChange"]),Q(f(Ih),{"datetime-role":"end",visible:ke.value,format:f(ce),"parsed-value":g.value,onPick:Lt},null,8,["visible","format","parsed-value"])],2)),[[f(Ia),Ve]])],2)],2)):he("v-if",!0),Z("div",{class:z([[f(b).e("content"),f(M).e("content")],"is-left"])},[Z("div",{class:z(f(M).e("header"))},[Z("button",{type:"button",class:z([f(b).e("icon-btn"),"d-arrow-left"]),"aria-label":f(O)("el.datepicker.prevYear"),onClick:ye},[oe(de.$slots,"prev-year",{},()=>[Q(f(ft),null,{default:te(()=>[Q(f(mo))]),_:1})])],10,["aria-label"]),Z("button",{type:"button",class:z([f(b).e("icon-btn"),"arrow-left"]),"aria-label":f(O)("el.datepicker.prevMonth"),onClick:Ee},[oe(de.$slots,"prev-month",{},()=>[Q(f(ft),null,{default:te(()=>[Q(f(po))]),_:1})])],10,["aria-label"]),de.unlinkPanels?(P(),K("button",{key:0,type:"button",disabled:!f(at),class:z([[f(b).e("icon-btn"),{"is-disabled":!f(at)}],"d-arrow-right"]),"aria-label":f(O)("el.datepicker.nextYear"),onClick:Me},[oe(de.$slots,"next-year",{},()=>[Q(f(ft),null,{default:te(()=>[Q(f(vo))]),_:1})])],10,["disabled","aria-label"])):he("v-if",!0),de.unlinkPanels?(P(),K("button",{key:1,type:"button",disabled:!f(Je),class:z([[f(b).e("icon-btn"),{"is-disabled":!f(Je)}],"arrow-right"]),"aria-label":f(O)("el.datepicker.nextMonth"),onClick:De},[oe(de.$slots,"next-month",{},()=>[Q(f(ft),null,{default:te(()=>[Q(f(vr))]),_:1})])],10,["disabled","aria-label"])):he("v-if",!0),Z("div",null,Ne(f(N)),1)],2),Q(xg,{"selection-mode":"range",date:v.value,"min-date":f(y),"max-date":f(_),"range-state":f(w),"disabled-date":f(r),"cell-class-name":f(s),onChangerange:f(E),onPick:ne,onSelect:f(k)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),Z("div",{class:z([[f(b).e("content"),f(M).e("content")],"is-right"])},[Z("div",{class:z(f(M).e("header"))},[de.unlinkPanels?(P(),K("button",{key:0,type:"button",disabled:!f(at),class:z([[f(b).e("icon-btn"),{"is-disabled":!f(at)}],"d-arrow-left"]),"aria-label":f(O)("el.datepicker.prevYear"),onClick:xe},[oe(de.$slots,"prev-year",{},()=>[Q(f(ft),null,{default:te(()=>[Q(f(mo))]),_:1})])],10,["disabled","aria-label"])):he("v-if",!0),de.unlinkPanels?(P(),K("button",{key:1,type:"button",disabled:!f(Je),class:z([[f(b).e("icon-btn"),{"is-disabled":!f(Je)}],"arrow-left"]),"aria-label":f(O)("el.datepicker.prevMonth"),onClick:G},[oe(de.$slots,"prev-month",{},()=>[Q(f(ft),null,{default:te(()=>[Q(f(po))]),_:1})])],10,["disabled","aria-label"])):he("v-if",!0),Z("button",{type:"button","aria-label":f(O)("el.datepicker.nextYear"),class:z([f(b).e("icon-btn"),"d-arrow-right"]),onClick:pe},[oe(de.$slots,"next-year",{},()=>[Q(f(ft),null,{default:te(()=>[Q(f(vo))]),_:1})])],10,["aria-label"]),Z("button",{type:"button",class:z([f(b).e("icon-btn"),"arrow-right"]),"aria-label":f(O)("el.datepicker.nextMonth"),onClick:ue},[oe(de.$slots,"next-month",{},()=>[Q(f(ft),null,{default:te(()=>[Q(f(vr))]),_:1})])],10,["aria-label"]),Z("div",null,Ne(f($)),1)],2),Q(xg,{"selection-mode":"range",date:g.value,"min-date":f(y),"max-date":f(_),"range-state":f(w),"disabled-date":f(r),"cell-class-name":f(s),onChangerange:f(E),onPick:ne,onSelect:f(k)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),f(it)?(P(),K("div",{key:0,class:z(f(b).e("footer"))},[f(o)?(P(),we(f(Ni),{key:0,text:"",size:"small",class:z(f(b).e("link-btn")),onClick:Ye},{default:te(()=>[pt(Ne(f(O)("el.datepicker.clear")),1)]),_:1},8,["class"])):he("v-if",!0),Q(f(Ni),{plain:"",size:"small",class:z(f(b).e("link-btn")),disabled:f(rt),onClick:Ie=>f(x)(!1)},{default:te(()=>[pt(Ne(f(O)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled","onClick"])],2)):he("v-if",!0)],2))}});var Mj=We(xj,[["__file","panel-date-range.vue"]]);const Tj=Ge({...Hy}),Aj=["pick","set-picker-option","calendar-change"],kj=({unlinkPanels:t,leftDate:e,rightDate:n})=>{const{t:i}=rn(),r=()=>{e.value=e.value.subtract(1,"year"),t.value||(n.value=n.value.subtract(1,"year"))},s=()=>{t.value||(e.value=e.value.add(1,"year")),n.value=n.value.add(1,"year")},a=()=>{e.value=e.value.add(1,"year")},o=()=>{n.value=n.value.subtract(1,"year")},l=L(()=>`${e.value.year()} ${i("el.datepicker.year")}`),c=L(()=>`${n.value.year()} ${i("el.datepicker.year")}`),d=L(()=>e.value.year()),p=L(()=>n.value.year()===e.value.year()?e.value.year()+1:n.value.year());return{leftPrevYear:r,rightNextYear:s,leftNextYear:a,rightPrevYear:o,leftLabel:l,rightLabel:c,leftYear:d,rightYear:p}},_f="year",Pj=ie({name:"DatePickerMonthRange"}),Rj=ie({...Pj,props:Tj,emits:Aj,setup(t,{emit:e}){const n=t,{lang:i}=rn(),r=dt("EP_PICKER_BASE"),{shortcuts:s,disabledDate:a}=r.props,o=yn(r.props,"format"),l=yn(r.props,"defaultValue"),c=W(Nt().locale(i.value)),d=W(Nt().locale(i.value).add(1,_f)),{minDate:p,maxDate:v,rangeState:g,ppNs:y,drpNs:_,handleChangeRange:w,handleRangeConfirm:b,handleShortcutClick:M,onSelect:E}=RT(n,{defaultValue:l,leftDate:c,rightDate:d,unit:_f,onParsedValueChanged:q}),x=L(()=>!!s.length),{leftPrevYear:T,rightNextYear:k,leftNextYear:I,rightPrevYear:O,leftLabel:U,rightLabel:R,leftYear:N,rightYear:$}=kj({unlinkPanels:yn(n,"unlinkPanels"),leftDate:c,rightDate:d}),J=L(()=>n.unlinkPanels&&$.value>N.value+1),Y=(D,V=!0)=>{const ee=D.minDate,ce=D.maxDate;v.value===ce&&p.value===ee||(e("calendar-change",[ee.toDate(),ce&&ce.toDate()]),v.value=ce,p.value=ee,V&&b())},H=()=>{c.value=Wy(f(l),{lang:f(i),unit:"year",unlinkPanels:n.unlinkPanels})[0],d.value=c.value.add(1,"year"),e("pick",null)},B=D=>Ot(D)?D.map(V=>V.format(o.value)):D.format(o.value),X=D=>Ot(D)?D.map(V=>Nt(V,o.value).locale(i.value)):Nt(D,o.value).locale(i.value);function q(D,V){if(n.unlinkPanels&&V){const ee=(D==null?void 0:D.year())||0,ce=V.year();d.value=ee===ce?V.add(1,_f):V}else d.value=c.value.add(1,_f)}return e("set-picker-option",["isValidValue",Gu]),e("set-picker-option",["formatToString",B]),e("set-picker-option",["parseUserInput",X]),e("set-picker-option",["handleClear",H]),(D,V)=>(P(),K("div",{class:z([f(y).b(),f(_).b(),{"has-sidebar":!!D.$slots.sidebar||f(x)}])},[Z("div",{class:z(f(y).e("body-wrapper"))},[oe(D.$slots,"sidebar",{class:z(f(y).e("sidebar"))}),f(x)?(P(),K("div",{key:0,class:z(f(y).e("sidebar"))},[(P(!0),K(ct,null,Vt(f(s),(ee,ce)=>(P(),K("button",{key:ce,type:"button",class:z(f(y).e("shortcut")),onClick:ae=>f(M)(ee)},Ne(ee.text),11,["onClick"]))),128))],2)):he("v-if",!0),Z("div",{class:z(f(y).e("body"))},[Z("div",{class:z([[f(y).e("content"),f(_).e("content")],"is-left"])},[Z("div",{class:z(f(_).e("header"))},[Z("button",{type:"button",class:z([f(y).e("icon-btn"),"d-arrow-left"]),onClick:f(T)},[oe(D.$slots,"prev-year",{},()=>[Q(f(ft),null,{default:te(()=>[Q(f(mo))]),_:1})])],10,["onClick"]),D.unlinkPanels?(P(),K("button",{key:0,type:"button",disabled:!f(J),class:z([[f(y).e("icon-btn"),{[f(y).is("disabled")]:!f(J)}],"d-arrow-right"]),onClick:f(I)},[oe(D.$slots,"next-year",{},()=>[Q(f(ft),null,{default:te(()=>[Q(f(vo))]),_:1})])],10,["disabled","onClick"])):he("v-if",!0),Z("div",null,Ne(f(U)),1)],2),Q(Mg,{"selection-mode":"range",date:c.value,"min-date":f(p),"max-date":f(v),"range-state":f(g),"disabled-date":f(a),onChangerange:f(w),onPick:Y,onSelect:f(E)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),Z("div",{class:z([[f(y).e("content"),f(_).e("content")],"is-right"])},[Z("div",{class:z(f(_).e("header"))},[D.unlinkPanels?(P(),K("button",{key:0,type:"button",disabled:!f(J),class:z([[f(y).e("icon-btn"),{"is-disabled":!f(J)}],"d-arrow-left"]),onClick:f(O)},[oe(D.$slots,"prev-year",{},()=>[Q(f(ft),null,{default:te(()=>[Q(f(mo))]),_:1})])],10,["disabled","onClick"])):he("v-if",!0),Z("button",{type:"button",class:z([f(y).e("icon-btn"),"d-arrow-right"]),onClick:f(k)},[oe(D.$slots,"next-year",{},()=>[Q(f(ft),null,{default:te(()=>[Q(f(vo))]),_:1})])],10,["onClick"]),Z("div",null,Ne(f(R)),1)],2),Q(Mg,{"selection-mode":"range",date:d.value,"min-date":f(p),"max-date":f(v),"range-state":f(g),"disabled-date":f(a),onChangerange:f(w),onPick:Y,onSelect:f(E)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var Ij=We(Rj,[["__file","panel-month-range.vue"]]);const Lj=Ge({...Hy}),Nj=["pick","set-picker-option","calendar-change"],Oj=({unlinkPanels:t,leftDate:e,rightDate:n})=>{const i=()=>{e.value=e.value.subtract(10,"year"),t.value||(n.value=n.value.subtract(10,"year"))},r=()=>{t.value||(e.value=e.value.add(10,"year")),n.value=n.value.add(10,"year")},s=()=>{e.value=e.value.add(10,"year")},a=()=>{n.value=n.value.subtract(10,"year")},o=L(()=>{const p=Math.floor(e.value.year()/10)*10;return`${p}-${p+9}`}),l=L(()=>{const p=Math.floor(n.value.year()/10)*10;return`${p}-${p+9}`}),c=L(()=>Math.floor(e.value.year()/10)*10+9),d=L(()=>Math.floor(n.value.year()/10)*10);return{leftPrevYear:i,rightNextYear:r,leftNextYear:s,rightPrevYear:a,leftLabel:o,rightLabel:l,leftYear:c,rightYear:d}},Ew="year",Dj=ie({name:"DatePickerYearRange"}),Fj=ie({...Dj,props:Lj,emits:Nj,setup(t,{emit:e}){const n=t,{lang:i}=rn(),r=W(Nt().locale(i.value)),s=W(r.value.add(10,"year")),{pickerNs:a}=dt(Pp),o=Fe("date-range-picker"),l=L(()=>!!Y.length),c=L(()=>[a.b(),o.b(),{"has-sidebar":!!Si().sidebar||l.value}]),d=L(()=>({content:[a.e("content"),o.e("content"),"is-left"],arrowLeftBtn:[a.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[a.e("icon-btn"),{[a.is("disabled")]:!T.value},"d-arrow-right"]})),p=L(()=>({content:[a.e("content"),o.e("content"),"is-right"],arrowLeftBtn:[a.e("icon-btn"),{"is-disabled":!T.value},"d-arrow-left"],arrowRightBtn:[a.e("icon-btn"),"d-arrow-right"]})),v=PT(i),{leftPrevYear:g,rightNextYear:y,leftNextYear:_,rightPrevYear:w,leftLabel:b,rightLabel:M,leftYear:E,rightYear:x}=Oj({unlinkPanels:yn(n,"unlinkPanels"),leftDate:r,rightDate:s}),T=L(()=>n.unlinkPanels&&x.value>E.value+1),k=W(),I=W(),O=W({endDate:null,selecting:!1}),U=ae=>{O.value=ae},R=(ae,le=!0)=>{const ye=ae.minDate,Ee=ae.maxDate;I.value===Ee&&k.value===ye||(e("calendar-change",[ye.toDate(),Ee&&Ee.toDate()]),I.value=Ee,k.value=ye,le&&N())},N=(ae=!1)=>{Gu([k.value,I.value])&&e("pick",[k.value,I.value],ae)},$=ae=>{O.value.selecting=ae,ae||(O.value.endDate=null)},J=dt("EP_PICKER_BASE"),{shortcuts:Y,disabledDate:H}=J.props,B=yn(J.props,"format"),X=yn(J.props,"defaultValue"),q=()=>{let ae;if(Ot(X.value)){const le=Nt(X.value[0]);let ye=Nt(X.value[1]);return n.unlinkPanels||(ye=le.add(10,Ew)),[le,ye]}else X.value?ae=Nt(X.value):ae=Nt();return ae=ae.locale(i.value),[ae,ae.add(10,Ew)]};Le(()=>X.value,ae=>{if(ae){const le=q();r.value=le[0],s.value=le[1]}},{immediate:!0}),Le(()=>n.parsedValue,ae=>{if(ae&&ae.length===2)if(k.value=ae[0],I.value=ae[1],r.value=k.value,n.unlinkPanels&&I.value){const le=k.value.year(),ye=I.value.year();s.value=le===ye?I.value.add(10,"year"):I.value}else s.value=r.value.add(10,"year");else{const le=q();k.value=void 0,I.value=void 0,r.value=le[0],s.value=le[1]}},{immediate:!0});const D=ae=>Ot(ae)?ae.map(le=>Nt(le,B.value).locale(i.value)):Nt(ae,B.value).locale(i.value),V=ae=>Ot(ae)?ae.map(le=>le.format(B.value)):ae.format(B.value),ee=ae=>Gu(ae)&&(H?!H(ae[0].toDate())&&!H(ae[1].toDate()):!0),ce=()=>{const ae=q();r.value=ae[0],s.value=ae[1],I.value=void 0,k.value=void 0,e("pick",null)};return e("set-picker-option",["isValidValue",ee]),e("set-picker-option",["parseUserInput",D]),e("set-picker-option",["formatToString",V]),e("set-picker-option",["handleClear",ce]),(ae,le)=>(P(),K("div",{class:z(f(c))},[Z("div",{class:z(f(a).e("body-wrapper"))},[oe(ae.$slots,"sidebar",{class:z(f(a).e("sidebar"))}),f(l)?(P(),K("div",{key:0,class:z(f(a).e("sidebar"))},[(P(!0),K(ct,null,Vt(f(Y),(ye,Ee)=>(P(),K("button",{key:Ee,type:"button",class:z(f(a).e("shortcut")),onClick:pe=>f(v)(ye)},Ne(ye.text),11,["onClick"]))),128))],2)):he("v-if",!0),Z("div",{class:z(f(a).e("body"))},[Z("div",{class:z(f(d).content)},[Z("div",{class:z(f(o).e("header"))},[Z("button",{type:"button",class:z(f(d).arrowLeftBtn),onClick:f(g)},[oe(ae.$slots,"prev-year",{},()=>[Q(f(ft),null,{default:te(()=>[Q(f(mo))]),_:1})])],10,["onClick"]),ae.unlinkPanels?(P(),K("button",{key:0,type:"button",disabled:!f(T),class:z(f(d).arrowRightBtn),onClick:f(_)},[oe(ae.$slots,"next-year",{},()=>[Q(f(ft),null,{default:te(()=>[Q(f(vo))]),_:1})])],10,["disabled","onClick"])):he("v-if",!0),Z("div",null,Ne(f(b)),1)],2),Q(Tg,{"selection-mode":"range",date:r.value,"min-date":k.value,"max-date":I.value,"range-state":O.value,"disabled-date":f(H),onChangerange:U,onPick:R,onSelect:$},null,8,["date","min-date","max-date","range-state","disabled-date"])],2),Z("div",{class:z(f(p).content)},[Z("div",{class:z(f(o).e("header"))},[ae.unlinkPanels?(P(),K("button",{key:0,type:"button",disabled:!f(T),class:z(f(p).arrowLeftBtn),onClick:f(w)},[oe(ae.$slots,"prev-year",{},()=>[Q(f(ft),null,{default:te(()=>[Q(f(mo))]),_:1})])],10,["disabled","onClick"])):he("v-if",!0),Z("button",{type:"button",class:z(f(p).arrowRightBtn),onClick:f(y)},[oe(ae.$slots,"next-year",{},()=>[Q(f(ft),null,{default:te(()=>[Q(f(vo))]),_:1})])],10,["onClick"]),Z("div",null,Ne(f(M)),1)],2),Q(Tg,{"selection-mode":"range",date:s.value,"min-date":k.value,"max-date":I.value,"range-state":O.value,"disabled-date":f(H),onChangerange:U,onPick:R,onSelect:$},null,8,["date","min-date","max-date","range-state","disabled-date"])],2)],2)],2)],2))}});var Bj=We(Fj,[["__file","panel-year-range.vue"]]);const Uj=function(t){switch(t){case"daterange":case"datetimerange":return Mj;case"monthrange":return Ij;case"yearrange":return Bj;default:return Ej}};Nt.extend(ZM);Nt.extend(ZY);Nt.extend(Uy);Nt.extend(QY);Nt.extend(tj);Nt.extend(ij);Nt.extend(sj);Nt.extend(oj);var Vj=ie({name:"ElDatePicker",install:null,props:lj,emits:["update:modelValue"],setup(t,{expose:e,emit:n,slots:i}){const r=Fe("picker-panel");Jt("ElPopperOptions",Xt(yn(t,"popperOptions"))),Jt(Pp,{slots:i,pickerNs:r});const s=W();e({focus:(l=!0)=>{var c;(c=s.value)==null||c.focus(l)},handleOpen:()=>{var l;(l=s.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=s.value)==null||l.handleClose()}});const o=l=>{n("update:modelValue",l)};return()=>{var l;const c=(l=t.format)!=null?l:S7[t.type]||fu,d=Uj(t.type);return Q(BM,Gt(t,{format:c,type:t.type,ref:s,"onUpdate:modelValue":o}),{default:p=>Q(d,p,{"prev-month":i["prev-month"],"next-month":i["next-month"],"prev-year":i["prev-year"],"next-year":i["next-year"]}),"range-separator":i["range-separator"]})}}});const zj=Ft(Vj),qy=Symbol("elDescriptions");var Nc=ie({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:dt(qy,{})}},render(){var t;const e=Cz(this.cell),n=(((t=this.cell)==null?void 0:t.dirs)||[]).map(w=>{const{dir:b,arg:M,modifiers:E,value:x}=w;return[b,x,M,E]}),{border:i,direction:r}=this.descriptions,s=r==="vertical",a=()=>{var w,b,M;return((M=(b=(w=this.cell)==null?void 0:w.children)==null?void 0:b.label)==null?void 0:M.call(b))||e.label},o=()=>{var w,b,M;return(M=(b=(w=this.cell)==null?void 0:w.children)==null?void 0:b.default)==null?void 0:M.call(b)},l=e.span,c=e.rowspan,d=e.align?`is-${e.align}`:"",p=e.labelAlign?`is-${e.labelAlign}`:d,v=e.className,g=e.labelClassName,y={width:Jn(e.width),minWidth:Jn(e.minWidth)},_=Fe("descriptions");switch(this.type){case"label":return Ut(Ct(this.tag,{style:y,class:[_.e("cell"),_.e("label"),_.is("bordered-label",i),_.is("vertical-label",s),p,g],colSpan:s?l:1,rowspan:s?1:c},a()),n);case"content":return Ut(Ct(this.tag,{style:y,class:[_.e("cell"),_.e("content"),_.is("bordered-content",i),_.is("vertical-content",s),d,v],colSpan:s?l:l*2-1,rowspan:s?c*2-1:c},o()),n);default:{const w=a();return Ut(Ct("td",{style:y,class:[_.e("cell"),d],colSpan:l,rowspan:c},[Ai(w)?void 0:Ct("span",{class:[_.e("label"),g]},w),Ct("span",{class:[_.e("content"),v]},o())]),n)}}}});const $j=Ge({row:{type:_e(Array),default:()=>[]}}),Hj=ie({name:"ElDescriptionsRow"}),Gj=ie({...Hj,props:$j,setup(t){const e=dt(qy,{});return(n,i)=>f(e).direction==="vertical"?(P(),K(ct,{key:0},[Z("tr",null,[(P(!0),K(ct,null,Vt(n.row,(r,s)=>(P(),we(f(Nc),{key:`tr1-${s}`,cell:r,tag:"th",type:"label"},null,8,["cell"]))),128))]),Z("tr",null,[(P(!0),K(ct,null,Vt(n.row,(r,s)=>(P(),we(f(Nc),{key:`tr2-${s}`,cell:r,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(P(),K("tr",{key:1},[(P(!0),K(ct,null,Vt(n.row,(r,s)=>(P(),K(ct,{key:`tr3-${s}`},[f(e).border?(P(),K(ct,{key:0},[Q(f(Nc),{cell:r,tag:"td",type:"label"},null,8,["cell"]),Q(f(Nc),{cell:r,tag:"td",type:"content"},null,8,["cell"])],64)):(P(),we(f(Nc),{key:1,cell:r,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var Wj=We(Gj,[["__file","descriptions-row.vue"]]);const Kj=Ge({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:_i,title:{type:String,default:""},extra:{type:String,default:""}}),qj=ie({name:"ElDescriptions"}),Yj=ie({...qj,props:Kj,setup(t){const e=t,n=Fe("descriptions"),i=pi(),r=Si();Jt(qy,e);const s=L(()=>[n.b(),n.m(i.value)]),a=(l,c,d,p=!1)=>(l.props||(l.props={}),c>d&&(l.props.span=d),p&&(l.props.span=c),l),o=()=>{if(!r.default)return[];const l=ao(r.default()).filter(y=>{var _;return((_=y==null?void 0:y.type)==null?void 0:_.name)==="ElDescriptionsItem"}),c=[];let d=[],p=e.column,v=0;const g=[];return l.forEach((y,_)=>{var w,b,M;const E=((w=y.props)==null?void 0:w.span)||1,x=((b=y.props)==null?void 0:b.rowspan)||1,T=c.length;if(g[T]||(g[T]=0),x>1)for(let k=1;k<x;k++)g[M=T+k]||(g[M]=0),g[T+k]++,v++;if(g[T]>0&&(p-=g[T],g[T]=0),_<l.length-1&&(v+=E>p?p:E),_===l.length-1){const k=e.column-v%e.column;d.push(a(y,k,p,!0)),c.push(d);return}E<p?(p-=E,d.push(y)):(d.push(a(y,E,p)),c.push(d),p=e.column,d=[])}),c};return(l,c)=>(P(),K("div",{class:z(f(s))},[l.title||l.extra||l.$slots.title||l.$slots.extra?(P(),K("div",{key:0,class:z(f(n).e("header"))},[Z("div",{class:z(f(n).e("title"))},[oe(l.$slots,"title",{},()=>[pt(Ne(l.title),1)])],2),Z("div",{class:z(f(n).e("extra"))},[oe(l.$slots,"extra",{},()=>[pt(Ne(l.extra),1)])],2)],2)):he("v-if",!0),Z("div",{class:z(f(n).e("body"))},[Z("table",{class:z([f(n).e("table"),f(n).is("bordered",l.border)])},[Z("tbody",null,[(P(!0),K(ct,null,Vt(o(),(d,p)=>(P(),we(Wj,{key:p,row:d},null,8,["row"]))),128))])],2)],2)],2))}});var jj=We(Yj,[["__file","description.vue"]]);const Xj=Ge({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),IT=ie({name:"ElDescriptionsItem",props:Xj}),Zj=Ft(jj,{DescriptionsItem:IT}),Jj=Vn(IT),Qj=Ge({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:_e([String,Array,Object])},zIndex:{type:_e([String,Number])}}),eX={click:t=>t instanceof MouseEvent},tX="overlay";var nX=ie({name:"ElOverlay",props:Qj,emits:eX,setup(t,{slots:e,emit:n}){const i=Fe(tX),r=l=>{n("click",l)},{onClick:s,onMousedown:a,onMouseup:o}=Ey(t.customMaskEvent?void 0:r);return()=>t.mask?Q("div",{class:[i.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:s,onMousedown:a,onMouseup:o},[oe(e,"default")],ss.STYLE|ss.CLASS|ss.PROPS,["onClick","onMouseup","onMousedown"]):Ct("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[oe(e,"default")])}});const Yy=nX,LT=Symbol("dialogInjectionKey"),NT=Ge({center:Boolean,alignCenter:Boolean,closeIcon:{type:En},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),iX={close:()=>!0},rX=ie({name:"ElDialogContent"}),sX=ie({...rX,props:NT,emits:iX,setup(t,{expose:e}){const n=t,{t:i}=rn(),{Close:r}=uy,{dialogRef:s,headerRef:a,bodyId:o,ns:l,style:c}=dt(LT),{focusTrapRef:d}=dt(Dy),p=L(()=>[l.b(),l.is("fullscreen",n.fullscreen),l.is("draggable",n.draggable),l.is("align-center",n.alignCenter),{[l.m("center")]:n.center}]),v=_p(d,s),g=L(()=>n.draggable),y=L(()=>n.overflow),{resetPosition:_}=Ax(s,a,g,y);return e({resetPosition:_}),(w,b)=>(P(),K("div",{ref:f(v),class:z(f(p)),style:bt(f(c)),tabindex:"-1"},[Z("header",{ref_key:"headerRef",ref:a,class:z([f(l).e("header"),{"show-close":w.showClose}])},[oe(w.$slots,"header",{},()=>[Z("span",{role:"heading","aria-level":w.ariaLevel,class:z(f(l).e("title"))},Ne(w.title),11,["aria-level"])]),w.showClose?(P(),K("button",{key:0,"aria-label":f(i)("el.dialog.close"),class:z(f(l).e("headerbtn")),type:"button",onClick:M=>w.$emit("close")},[Q(f(ft),{class:z(f(l).e("close"))},{default:te(()=>[(P(),we(zt(w.closeIcon||f(r))))]),_:1},8,["class"])],10,["aria-label","onClick"])):he("v-if",!0)],2),Z("div",{id:f(o),class:z(f(l).e("body"))},[oe(w.$slots,"default")],10,["id"]),w.$slots.footer?(P(),K("footer",{key:0,class:z(f(l).e("footer"))},[oe(w.$slots,"footer")],2)):he("v-if",!0)],6))}});var aX=We(sX,[["__file","dialog-content.vue"]]);const OT=Ge({...NT,appendToBody:Boolean,appendTo:{type:_e([String,Object]),default:"body"},beforeClose:{type:_e(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),DT={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Kt]:t=>Gn(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},FT=(t,e)=>{var n;const r=Yt().emit,{nextZIndex:s}=oc();let a="";const o=zi(),l=zi(),c=W(!1),d=W(!1),p=W(!1),v=W((n=t.zIndex)!=null?n:s());let g,y;const _=Mp("namespace",Xc),w=L(()=>{const H={},B=`--${_.value}-dialog`;return t.fullscreen||(t.top&&(H[`${B}-margin-top`]=t.top),t.width&&(H[`${B}-width`]=Jn(t.width))),H}),b=L(()=>t.alignCenter?{display:"flex"}:{});function M(){r("opened")}function E(){r("closed"),r(Kt,!1),t.destroyOnClose&&(p.value=!1)}function x(){r("close")}function T(){y==null||y(),g==null||g(),t.openDelay&&t.openDelay>0?{stop:g}=yl(()=>U(),t.openDelay):U()}function k(){g==null||g(),y==null||y(),t.closeDelay&&t.closeDelay>0?{stop:y}=yl(()=>R(),t.closeDelay):R()}function I(){function H(B){B||(d.value=!0,c.value=!1)}t.beforeClose?t.beforeClose(H):k()}function O(){t.closeOnClickModal&&I()}function U(){nn&&(c.value=!0)}function R(){c.value=!1}function N(){r("openAutoFocus")}function $(){r("closeAutoFocus")}function J(H){var B;((B=H.detail)==null?void 0:B.focusReason)==="pointer"&&H.preventDefault()}t.lockScroll&&py(c);function Y(){t.closeOnPressEscape&&I()}return Le(()=>t.modelValue,H=>{H?(d.value=!1,T(),p.value=!0,v.value=wx(t.zIndex)?s():v.value++,_t(()=>{r("open"),e.value&&(e.value.scrollTop=0)})):c.value&&k()}),Le(()=>t.fullscreen,H=>{e.value&&(H?(a=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=a)}),St(()=>{t.modelValue&&(c.value=!0,p.value=!0,T())}),{afterEnter:M,afterLeave:E,beforeLeave:x,handleClose:I,onModalClick:O,close:k,doClose:R,onOpenAutoFocus:N,onCloseAutoFocus:$,onCloseRequested:Y,onFocusoutPrevented:J,titleId:o,bodyId:l,closed:d,style:w,overlayDialogStyle:b,rendered:p,visible:c,zIndex:v}},oX=ie({name:"ElDialog",inheritAttrs:!1}),lX=ie({...oX,props:OT,emits:DT,setup(t,{expose:e}){const n=t,i=Si();oo({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},L(()=>!!i.title));const r=Fe("dialog"),s=W(),a=W(),o=W(),{visible:l,titleId:c,bodyId:d,style:p,overlayDialogStyle:v,rendered:g,zIndex:y,afterEnter:_,afterLeave:w,beforeLeave:b,handleClose:M,onModalClick:E,onOpenAutoFocus:x,onCloseAutoFocus:T,onCloseRequested:k,onFocusoutPrevented:I}=FT(n,s);Jt(LT,{dialogRef:s,headerRef:a,bodyId:d,ns:r,rendered:g,style:p});const O=Ey(E),U=L(()=>n.draggable&&!n.fullscreen);return e({visible:l,dialogContentRef:o,resetPosition:()=>{var N;(N=o.value)==null||N.resetPosition()}}),(N,$)=>(P(),we(f(cc),{to:N.appendTo,disabled:N.appendTo!=="body"?!1:!N.appendToBody},{default:te(()=>[Q(di,{name:"dialog-fade",onAfterEnter:f(_),onAfterLeave:f(w),onBeforeLeave:f(b),persisted:""},{default:te(()=>[Ut(Q(f(Yy),{"custom-mask-event":"",mask:N.modal,"overlay-class":N.modalClass,"z-index":f(y)},{default:te(()=>[Z("div",{role:"dialog","aria-modal":"true","aria-label":N.title||void 0,"aria-labelledby":N.title?void 0:f(c),"aria-describedby":f(d),class:z(`${f(r).namespace.value}-overlay-dialog`),style:bt(f(v)),onClick:f(O).onClick,onMousedown:f(O).onMousedown,onMouseup:f(O).onMouseup},[Q(f($d),{loop:"",trapped:f(l),"focus-start-el":"container",onFocusAfterTrapped:f(x),onFocusAfterReleased:f(T),onFocusoutPrevented:f(I),onReleaseRequested:f(k)},{default:te(()=>[f(g)?(P(),we(aX,Gt({key:0,ref_key:"dialogContentRef",ref:o},N.$attrs,{center:N.center,"align-center":N.alignCenter,"close-icon":N.closeIcon,draggable:f(U),overflow:N.overflow,fullscreen:N.fullscreen,"show-close":N.showClose,title:N.title,"aria-level":N.headerAriaLevel,onClose:f(M)}),hs({header:te(()=>[N.$slots.title?oe(N.$slots,"title",{key:1}):oe(N.$slots,"header",{key:0,close:f(M),titleId:f(c),titleClass:f(r).e("title")})]),default:te(()=>[oe(N.$slots,"default")]),_:2},[N.$slots.footer?{name:"footer",fn:te(()=>[oe(N.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):he("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[on,f(l)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var uX=We(lX,[["__file","dialog.vue"]]);const cX=Ft(uX),dX=Ge({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:_e(String),default:"solid"}}),fX=ie({name:"ElDivider"}),hX=ie({...fX,props:dX,setup(t){const e=t,n=Fe("divider"),i=L(()=>n.cssVar({"border-style":e.borderStyle}));return(r,s)=>(P(),K("div",{class:z([f(n).b(),f(n).m(r.direction)]),style:bt(f(i)),role:"separator"},[r.$slots.default&&r.direction!=="vertical"?(P(),K("div",{key:0,class:z([f(n).e("text"),f(n).is(r.contentPosition)])},[oe(r.$slots,"default")],2)):he("v-if",!0)],6))}});var pX=We(hX,[["__file","divider.vue"]]);const jy=Ft(pX),mX=Ge({...OT,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),vX=DT,gX=ie({name:"ElDrawer",inheritAttrs:!1}),yX=ie({...gX,props:mX,emits:vX,setup(t,{expose:e}){const n=t,i=Si();oo({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},L(()=>!!i.title));const r=W(),s=W(),a=Fe("drawer"),{t:o}=rn(),{afterEnter:l,afterLeave:c,beforeLeave:d,visible:p,rendered:v,titleId:g,bodyId:y,zIndex:_,onModalClick:w,onOpenAutoFocus:b,onCloseAutoFocus:M,onFocusoutPrevented:E,onCloseRequested:x,handleClose:T}=FT(n,r),k=L(()=>n.direction==="rtl"||n.direction==="ltr"),I=L(()=>Jn(n.size));return e({handleClose:T,afterEnter:l,afterLeave:c}),(O,U)=>(P(),we(f(cc),{to:O.appendTo,disabled:O.appendTo!=="body"?!1:!O.appendToBody},{default:te(()=>[Q(di,{name:f(a).b("fade"),onAfterEnter:f(l),onAfterLeave:f(c),onBeforeLeave:f(d),persisted:""},{default:te(()=>[Ut(Q(f(Yy),{mask:O.modal,"overlay-class":O.modalClass,"z-index":f(_),onClick:f(w)},{default:te(()=>[Q(f($d),{loop:"",trapped:f(p),"focus-trap-el":r.value,"focus-start-el":s.value,onFocusAfterTrapped:f(b),onFocusAfterReleased:f(M),onFocusoutPrevented:f(E),onReleaseRequested:f(x)},{default:te(()=>[Z("div",Gt({ref_key:"drawerRef",ref:r,"aria-modal":"true","aria-label":O.title||void 0,"aria-labelledby":O.title?void 0:f(g),"aria-describedby":f(y)},O.$attrs,{class:[f(a).b(),O.direction,f(p)&&"open"],style:f(k)?"width: "+f(I):"height: "+f(I),role:"dialog",onClick:Mt(()=>{},["stop"])}),[Z("span",{ref_key:"focusStartRef",ref:s,class:z(f(a).e("sr-focus")),tabindex:"-1"},null,2),O.withHeader?(P(),K("header",{key:0,class:z(f(a).e("header"))},[O.$slots.title?oe(O.$slots,"title",{key:1},()=>[he(" DEPRECATED SLOT ")]):oe(O.$slots,"header",{key:0,close:f(T),titleId:f(g),titleClass:f(a).e("title")},()=>[O.$slots.title?he("v-if",!0):(P(),K("span",{key:0,id:f(g),role:"heading","aria-level":O.headerAriaLevel,class:z(f(a).e("title"))},Ne(O.title),11,["id","aria-level"]))]),O.showClose?(P(),K("button",{key:2,"aria-label":f(o)("el.drawer.close"),class:z(f(a).e("close-btn")),type:"button",onClick:f(T)},[Q(f(ft),{class:z(f(a).e("close"))},{default:te(()=>[Q(f(Bs))]),_:1},8,["class"])],10,["aria-label","onClick"])):he("v-if",!0)],2)):he("v-if",!0),f(v)?(P(),K("div",{key:1,id:f(y),class:z(f(a).e("body"))},[oe(O.$slots,"default")],10,["id"])):he("v-if",!0),O.$slots.footer?(P(),K("div",{key:2,class:z(f(a).e("footer"))},[oe(O.$slots,"footer")],2)):he("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[on,f(p)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var _X=We(yX,[["__file","drawer.vue"]]);const bX=Ft(_X),wX=ie({inheritAttrs:!1});function SX(t,e,n,i,r,s){return oe(t.$slots,"default")}var EX=We(wX,[["render",SX],["__file","collection.vue"]]);const CX=ie({name:"ElCollectionItem",inheritAttrs:!1});function xX(t,e,n,i,r,s){return oe(t.$slots,"default")}var MX=We(CX,[["render",xX],["__file","collection-item.vue"]]);const BT="data-el-collection-item",UT=t=>{const e=`El${t}Collection`,n=`${e}Item`,i=Symbol(e),r=Symbol(n),s={...EX,name:e,setup(){const o=W(null),l=new Map;Jt(i,{itemMap:l,getItems:()=>{const d=f(o);if(!d)return[];const p=Array.from(d.querySelectorAll(`[${BT}]`));return[...l.values()].sort((g,y)=>p.indexOf(g.ref)-p.indexOf(y.ref))},collectionRef:o})}},a={...MX,name:n,setup(o,{attrs:l}){const c=W(null),d=dt(i,void 0);Jt(r,{collectionItemRef:c}),St(()=>{const p=f(c);p&&d.itemMap.set(p,{ref:p,...l})}),Tn(()=>{const p=f(c);d.itemMap.delete(p)})}};return{COLLECTION_INJECTION_KEY:i,COLLECTION_ITEM_INJECTION_KEY:r,ElCollection:s,ElCollectionItem:a}},TX=Ge({style:{type:_e([String,Array,Object])},currentTabId:{type:_e(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:_e(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:AX,ElCollectionItem:kX,COLLECTION_INJECTION_KEY:Xy,COLLECTION_ITEM_INJECTION_KEY:PX}=UT("RovingFocusGroup"),Zy=Symbol("elRovingFocusGroup"),VT=Symbol("elRovingFocusGroupItem"),RX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},IX=(t,e)=>t,LX=(t,e,n)=>{const i=IX(t.key);return RX[i]},NX=(t,e)=>t.map((n,i)=>t[(i+e)%t.length]),Jy=t=>{const{activeElement:e}=document;for(const n of t)if(n===e||(n.focus(),e!==document.activeElement))return},Cw="currentTabIdChange",xw="rovingFocusGroup.entryFocus",OX={bubbles:!1,cancelable:!0},DX=ie({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:TX,emits:[Cw,"entryFocus"],setup(t,{emit:e}){var n;const i=W((n=t.currentTabId||t.defaultCurrentTabId)!=null?n:null),r=W(!1),s=W(!1),a=W(null),{getItems:o}=dt(Xy,void 0),l=L(()=>[{outline:"none"},t.style]),c=_=>{e(Cw,_)},d=()=>{r.value=!0},p=jn(_=>{var w;(w=t.onMousedown)==null||w.call(t,_)},()=>{s.value=!0}),v=jn(_=>{var w;(w=t.onFocus)==null||w.call(t,_)},_=>{const w=!f(s),{target:b,currentTarget:M}=_;if(b===M&&w&&!f(r)){const E=new Event(xw,OX);if(M==null||M.dispatchEvent(E),!E.defaultPrevented){const x=o().filter(U=>U.focusable),T=x.find(U=>U.active),k=x.find(U=>U.id===f(i)),O=[T,k,...x].filter(Boolean).map(U=>U.ref);Jy(O)}}s.value=!1}),g=jn(_=>{var w;(w=t.onBlur)==null||w.call(t,_)},()=>{r.value=!1}),y=(..._)=>{e("entryFocus",..._)};Jt(Zy,{currentTabbedId:nc(i),loop:yn(t,"loop"),tabIndex:L(()=>f(r)?-1:0),rovingFocusGroupRef:a,rovingFocusGroupRootStyle:l,orientation:yn(t,"orientation"),dir:yn(t,"dir"),onItemFocus:c,onItemShiftTab:d,onBlur:g,onFocus:v,onMousedown:p}),Le(()=>t.currentTabId,_=>{i.value=_??null}),bn(a,xw,y)}});function FX(t,e,n,i,r,s){return oe(t.$slots,"default")}var BX=We(DX,[["render",FX],["__file","roving-focus-group-impl.vue"]]);const UX=ie({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:AX,ElRovingFocusGroupImpl:BX}});function VX(t,e,n,i,r,s){const a=At("el-roving-focus-group-impl"),o=At("el-focus-group-collection");return P(),we(o,null,{default:te(()=>[Q(a,Is(gl(t.$attrs)),{default:te(()=>[oe(t.$slots,"default")]),_:3},16)]),_:3})}var zX=We(UX,[["render",VX],["__file","roving-focus-group.vue"]]);const $X=ie({components:{ElRovingFocusCollectionItem:kX},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(t,{emit:e}){const{currentTabbedId:n,loop:i,onItemFocus:r,onItemShiftTab:s}=dt(Zy,void 0),{getItems:a}=dt(Xy,void 0),o=zi(),l=W(null),c=jn(g=>{e("mousedown",g)},g=>{t.focusable?r(f(o)):g.preventDefault()}),d=jn(g=>{e("focus",g)},()=>{r(f(o))}),p=jn(g=>{e("keydown",g)},g=>{const{key:y,shiftKey:_,target:w,currentTarget:b}=g;if(y===Et.tab&&_){s();return}if(w!==b)return;const M=LX(g);if(M){g.preventDefault();let x=a().filter(T=>T.focusable).map(T=>T.ref);switch(M){case"last":{x.reverse();break}case"prev":case"next":{M==="prev"&&x.reverse();const T=x.indexOf(b);x=i.value?NX(x,T+1):x.slice(T+1);break}}_t(()=>{Jy(x)})}}),v=L(()=>n.value===f(o));return Jt(VT,{rovingFocusGroupItemRef:l,tabIndex:L(()=>f(v)?0:-1),handleMousedown:c,handleFocus:d,handleKeydown:p}),{id:o,handleKeydown:p,handleFocus:d,handleMousedown:c}}});function HX(t,e,n,i,r,s){const a=At("el-roving-focus-collection-item");return P(),we(a,{id:t.id,focusable:t.focusable,active:t.active},{default:te(()=>[oe(t.$slots,"default")]),_:3},8,["id","focusable","active"])}var GX=We($X,[["render",HX],["__file","roving-focus-item.vue"]]);const lh=Ge({trigger:fd.trigger,effect:{...Li.effect,default:"light"},type:{type:_e(String)},placement:{type:_e(String),default:"bottom"},popperOptions:{type:_e(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:_e([Number,String]),default:0},maxHeight:{type:_e([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,default:"menu"},buttonProps:{type:_e(Object)},teleported:Li.teleported}),zT=Ge({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:En}}),WX=Ge({onKeydown:{type:_e(Function)}}),KX=[Et.down,Et.pageDown,Et.home],$T=[Et.up,Et.pageUp,Et.end],qX=[...KX,...$T],{ElCollection:YX,ElCollectionItem:jX,COLLECTION_INJECTION_KEY:XX,COLLECTION_ITEM_INJECTION_KEY:ZX}=UT("Dropdown"),Rp=Symbol("elDropdown"),{ButtonGroup:JX}=Ni,QX=ie({name:"ElDropdown",components:{ElButton:Ni,ElButtonGroup:JX,ElScrollbar:fa,ElDropdownCollection:YX,ElTooltip:vi,ElRovingFocusGroup:zX,ElOnlyChild:vM,ElIcon:ft,ArrowDown:Fa},props:lh,emits:["visible-change","click","command"],setup(t,{emit:e}){const n=Yt(),i=Fe("dropdown"),{t:r}=rn(),s=W(),a=W(),o=W(null),l=W(null),c=W(null),d=W(null),p=W(!1),v=[Et.enter,Et.space,Et.down],g=L(()=>({maxHeight:Jn(t.maxHeight)})),y=L(()=>[i.m(T.value)]),_=L(()=>Qi(t.trigger)),w=zi().value,b=L(()=>t.id||w);Le([s,_],([X,q],[D])=>{var V,ee,ce;(V=D==null?void 0:D.$el)!=null&&V.removeEventListener&&D.$el.removeEventListener("pointerenter",I),(ee=X==null?void 0:X.$el)!=null&&ee.removeEventListener&&X.$el.removeEventListener("pointerenter",I),(ce=X==null?void 0:X.$el)!=null&&ce.addEventListener&&q.includes("hover")&&X.$el.addEventListener("pointerenter",I)},{immediate:!0}),Tn(()=>{var X,q;(q=(X=s.value)==null?void 0:X.$el)!=null&&q.removeEventListener&&s.value.$el.removeEventListener("pointerenter",I)});function M(){E()}function E(){var X;(X=o.value)==null||X.onClose()}function x(){var X;(X=o.value)==null||X.onOpen()}const T=pi();function k(...X){e("command",...X)}function I(){var X,q;(q=(X=s.value)==null?void 0:X.$el)==null||q.focus()}function O(){}function U(){const X=f(l);_.value.includes("hover")&&(X==null||X.focus()),d.value=null}function R(X){d.value=X}function N(X){p.value||(X.preventDefault(),X.stopImmediatePropagation())}function $(){e("visible-change",!0)}function J(X){(X==null?void 0:X.type)==="keydown"&&l.value.focus()}function Y(){e("visible-change",!1)}return Jt(Rp,{contentRef:l,role:L(()=>t.role),triggerId:b,isUsingKeyboard:p,onItemEnter:O,onItemLeave:U}),Jt("elDropdown",{instance:n,dropdownSize:T,handleClick:M,commandHandler:k,trigger:yn(t,"trigger"),hideOnClick:yn(t,"hideOnClick")}),{t:r,ns:i,scrollbar:c,wrapStyle:g,dropdownTriggerKls:y,dropdownSize:T,triggerId:b,triggerKeys:v,currentTabId:d,handleCurrentTabIdChange:R,handlerMainButtonClick:X=>{e("click",X)},handleEntryFocus:N,handleClose:E,handleOpen:x,handleBeforeShowTooltip:$,handleShowTooltip:J,handleBeforeHideTooltip:Y,onFocusAfterTrapped:X=>{var q,D;X.preventDefault(),(D=(q=l.value)==null?void 0:q.focus)==null||D.call(q,{preventScroll:!0})},popperRef:o,contentRef:l,triggeringElementRef:s,referenceElementRef:a}}});function eZ(t,e,n,i,r,s){var a;const o=At("el-dropdown-collection"),l=At("el-roving-focus-group"),c=At("el-scrollbar"),d=At("el-only-child"),p=At("el-tooltip"),v=At("el-button"),g=At("arrow-down"),y=At("el-icon"),_=At("el-button-group");return P(),K("div",{class:z([t.ns.b(),t.ns.is("disabled",t.disabled)])},[Q(p,{ref:"popperRef",role:t.role,effect:t.effect,"fallback-placements":["bottom","top"],"popper-options":t.popperOptions,"gpu-acceleration":!1,"hide-after":t.trigger==="hover"?t.hideTimeout:0,"manual-mode":!0,placement:t.placement,"popper-class":[t.ns.e("popper"),t.popperClass],"reference-element":(a=t.referenceElementRef)==null?void 0:a.$el,trigger:t.trigger,"trigger-keys":t.triggerKeys,"trigger-target-el":t.contentRef,"show-after":t.trigger==="hover"?t.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":t.triggeringElementRef,"virtual-triggering":t.splitButton,disabled:t.disabled,transition:`${t.ns.namespace.value}-zoom-in-top`,teleported:t.teleported,pure:"",persistent:"",onBeforeShow:t.handleBeforeShowTooltip,onShow:t.handleShowTooltip,onBeforeHide:t.handleBeforeHideTooltip},hs({content:te(()=>[Q(c,{ref:"scrollbar","wrap-style":t.wrapStyle,tag:"div","view-class":t.ns.e("list")},{default:te(()=>[Q(l,{loop:t.loop,"current-tab-id":t.currentTabId,orientation:"horizontal",onCurrentTabIdChange:t.handleCurrentTabIdChange,onEntryFocus:t.handleEntryFocus},{default:te(()=>[Q(o,null,{default:te(()=>[oe(t.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[t.splitButton?void 0:{name:"default",fn:te(()=>[Q(d,{id:t.triggerId,ref:"triggeringElementRef",role:"button",tabindex:t.tabindex},{default:te(()=>[oe(t.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),t.splitButton?(P(),we(_,{key:0},{default:te(()=>[Q(v,Gt({ref:"referenceElementRef"},t.buttonProps,{size:t.dropdownSize,type:t.type,disabled:t.disabled,tabindex:t.tabindex,onClick:t.handlerMainButtonClick}),{default:te(()=>[oe(t.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),Q(v,Gt({id:t.triggerId,ref:"triggeringElementRef"},t.buttonProps,{role:"button",size:t.dropdownSize,type:t.type,class:t.ns.e("caret-button"),disabled:t.disabled,tabindex:t.tabindex,"aria-label":t.t("el.dropdown.toggleDropdown")}),{default:te(()=>[Q(y,{class:z(t.ns.e("icon"))},{default:te(()=>[Q(g)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):he("v-if",!0)],2)}var tZ=We(QX,[["render",eZ],["__file","dropdown.vue"]]);const nZ=ie({name:"DropdownItemImpl",components:{ElIcon:ft},props:zT,emits:["pointermove","pointerleave","click","clickimpl"],setup(t,{emit:e}){const n=Fe("dropdown"),{role:i}=dt(Rp,void 0),{collectionItemRef:r}=dt(ZX,void 0),{collectionItemRef:s}=dt(PX,void 0),{rovingFocusGroupItemRef:a,tabIndex:o,handleFocus:l,handleKeydown:c,handleMousedown:d}=dt(VT,void 0),p=_p(r,s,a),v=L(()=>i.value==="menu"?"menuitem":i.value==="navigation"?"link":"button"),g=jn(y=>{const{code:_}=y;if(_===Et.enter||_===Et.space)return y.preventDefault(),y.stopImmediatePropagation(),e("clickimpl",y),!0},c);return{ns:n,itemRef:p,dataset:{[BT]:""},role:v,tabIndex:o,handleFocus:l,handleKeydown:g,handleMousedown:d}}});function iZ(t,e,n,i,r,s){const a=At("el-icon");return P(),K(ct,null,[t.divided?(P(),K("li",Gt({key:0,role:"separator",class:t.ns.bem("menu","item","divided")},t.$attrs),null,16)):he("v-if",!0),Z("li",Gt({ref:t.itemRef},{...t.dataset,...t.$attrs},{"aria-disabled":t.disabled,class:[t.ns.be("menu","item"),t.ns.is("disabled",t.disabled)],tabindex:t.tabIndex,role:t.role,onClick:o=>t.$emit("clickimpl",o),onFocus:t.handleFocus,onKeydown:Mt(t.handleKeydown,["self"]),onMousedown:t.handleMousedown,onPointermove:o=>t.$emit("pointermove",o),onPointerleave:o=>t.$emit("pointerleave",o)}),[t.icon?(P(),we(a,{key:0},{default:te(()=>[(P(),we(zt(t.icon)))]),_:1})):he("v-if",!0),oe(t.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var rZ=We(nZ,[["render",iZ],["__file","dropdown-item-impl.vue"]]);const HT=()=>{const t=dt("elDropdown",{}),e=L(()=>t==null?void 0:t.dropdownSize);return{elDropdown:t,_elDropdownSize:e}},sZ=ie({name:"ElDropdownItem",components:{ElDropdownCollectionItem:jX,ElRovingFocusItem:GX,ElDropdownItemImpl:rZ},inheritAttrs:!1,props:zT,emits:["pointermove","pointerleave","click"],setup(t,{emit:e,attrs:n}){const{elDropdown:i}=HT(),r=Yt(),s=W(null),a=L(()=>{var g,y;return(y=(g=f(s))==null?void 0:g.textContent)!=null?y:""}),{onItemEnter:o,onItemLeave:l}=dt(Rp,void 0),c=jn(g=>(e("pointermove",g),g.defaultPrevented),gb(g=>{if(t.disabled){l(g);return}const y=g.currentTarget;y===document.activeElement||y.contains(document.activeElement)||(o(g),g.defaultPrevented||y==null||y.focus())})),d=jn(g=>(e("pointerleave",g),g.defaultPrevented),gb(l)),p=jn(g=>{if(!t.disabled)return e("click",g),g.type!=="keydown"&&g.defaultPrevented},g=>{var y,_,w;if(t.disabled){g.stopImmediatePropagation();return}(y=i==null?void 0:i.hideOnClick)!=null&&y.value&&((_=i.handleClick)==null||_.call(i)),(w=i.commandHandler)==null||w.call(i,t.command,r,g)}),v=L(()=>({...t,...n}));return{handleClick:p,handlePointerMove:c,handlePointerLeave:d,textContent:a,propsAndAttrs:v}}});function aZ(t,e,n,i,r,s){var a;const o=At("el-dropdown-item-impl"),l=At("el-roving-focus-item"),c=At("el-dropdown-collection-item");return P(),we(c,{disabled:t.disabled,"text-value":(a=t.textValue)!=null?a:t.textContent},{default:te(()=>[Q(l,{focusable:!t.disabled},{default:te(()=>[Q(o,Gt(t.propsAndAttrs,{onPointerleave:t.handlePointerLeave,onPointermove:t.handlePointerMove,onClickimpl:t.handleClick}),{default:te(()=>[oe(t.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var GT=We(sZ,[["render",aZ],["__file","dropdown-item.vue"]]);const oZ=ie({name:"ElDropdownMenu",props:WX,setup(t){const e=Fe("dropdown"),{_elDropdownSize:n}=HT(),i=n.value,{focusTrapRef:r,onKeydown:s}=dt(Dy,void 0),{contentRef:a,role:o,triggerId:l}=dt(Rp,void 0),{collectionRef:c,getItems:d}=dt(XX,void 0),{rovingFocusGroupRef:p,rovingFocusGroupRootStyle:v,tabIndex:g,onBlur:y,onFocus:_,onMousedown:w}=dt(Zy,void 0),{collectionRef:b}=dt(Xy,void 0),M=L(()=>[e.b("menu"),e.bm("menu",i==null?void 0:i.value)]),E=_p(a,c,r,p,b),x=jn(k=>{var I;(I=t.onKeydown)==null||I.call(t,k)},k=>{const{currentTarget:I,code:O,target:U}=k;if(I.contains(U),Et.tab===O&&k.stopImmediatePropagation(),k.preventDefault(),U!==f(a)||!qX.includes(O))return;const N=d().filter($=>!$.disabled).map($=>$.ref);$T.includes(O)&&N.reverse(),Jy(N)});return{size:i,rovingFocusGroupRootStyle:v,tabIndex:g,dropdownKls:M,role:o,triggerId:l,dropdownListWrapperRef:E,handleKeydown:k=>{x(k),s(k)},onBlur:y,onFocus:_,onMousedown:w}}});function lZ(t,e,n,i,r,s){return P(),K("ul",{ref:t.dropdownListWrapperRef,class:z(t.dropdownKls),style:bt(t.rovingFocusGroupRootStyle),tabindex:-1,role:t.role,"aria-labelledby":t.triggerId,onBlur:t.onBlur,onFocus:t.onFocus,onKeydown:Mt(t.handleKeydown,["self"]),onMousedown:Mt(t.onMousedown,["self"])},[oe(t.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}var WT=We(oZ,[["render",lZ],["__file","dropdown-menu.vue"]]);const uZ=Ft(tZ,{DropdownItem:GT,DropdownMenu:WT}),cZ=Vn(GT),dZ=Vn(WT),fZ=ie({name:"ImgEmpty"}),hZ=ie({...fZ,setup(t){const e=Fe("empty"),n=zi();return(i,r)=>(P(),K("svg",{viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[Z("defs",null,[Z("linearGradient",{id:`linearGradient-1-${f(n)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[Z("stop",{"stop-color":`var(${f(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),Z("stop",{"stop-color":`var(${f(e).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),Z("linearGradient",{id:`linearGradient-2-${f(n)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[Z("stop",{"stop-color":`var(${f(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),Z("stop",{"stop-color":`var(${f(e).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),Z("rect",{id:`path-3-${f(n)}`,x:"0",y:"0",width:"17",height:"36"},null,8,["id"])]),Z("g",{id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[Z("g",{id:"B-type",transform:"translate(-1268.000000, -535.000000)"},[Z("g",{id:"Group-2",transform:"translate(1268.000000, 535.000000)"},[Z("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${f(e).cssVarBlockName("fill-color-3")})`},null,8,["fill"]),Z("polygon",{id:"Rectangle-Copy-14",fill:`var(${f(e).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,["fill"]),Z("g",{id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},[Z("polygon",{id:"Rectangle-Copy-10",fill:`var(${f(e).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,["fill"]),Z("polygon",{id:"Rectangle-Copy-11",fill:`var(${f(e).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,["fill"]),Z("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${f(n)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,["fill"]),Z("polygon",{id:"Rectangle-Copy-13",fill:`var(${f(e).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,["fill"])]),Z("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${f(n)})`,x:"13",y:"45",width:"40",height:"36"},null,8,["fill"]),Z("g",{id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},[Z("use",{id:"Mask",fill:`var(${f(e).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${f(n)}`},null,8,["fill","xlink:href"]),Z("polygon",{id:"Rectangle-Copy",fill:`var(${f(e).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${f(n)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,["fill","mask"])]),Z("polygon",{id:"Rectangle-Copy-18",fill:`var(${f(e).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,["fill"])])])])]))}});var pZ=We(hZ,[["__file","img-empty.vue"]]);const mZ=Ge({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),vZ=ie({name:"ElEmpty"}),gZ=ie({...vZ,props:mZ,setup(t){const e=t,{t:n}=rn(),i=Fe("empty"),r=L(()=>e.description||n("el.table.emptyText")),s=L(()=>({width:Jn(e.imageSize)}));return(a,o)=>(P(),K("div",{class:z(f(i).b())},[Z("div",{class:z(f(i).e("image")),style:bt(f(s))},[a.image?(P(),K("img",{key:0,src:a.image,ondragstart:"return false"},null,8,["src"])):oe(a.$slots,"image",{key:1},()=>[Q(pZ)])],6),Z("div",{class:z(f(i).e("description"))},[a.$slots.description?oe(a.$slots,"description",{key:0}):(P(),K("p",{key:1},Ne(f(r)),1))],2),a.$slots.default?(P(),K("div",{key:0,class:z(f(i).e("bottom"))},[oe(a.$slots,"default")],2)):he("v-if",!0)],2))}});var yZ=We(gZ,[["__file","empty.vue"]]);const KT=Ft(yZ),_Z=Ge({urlList:{type:_e(Array),default:()=>Un([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:_e(String)}}),bZ={close:()=>!0,switch:t=>Pt(t),rotate:t=>Pt(t)},wZ=ie({name:"ElImageViewer"}),SZ=ie({...wZ,props:_Z,emits:bZ,setup(t,{expose:e,emit:n}){var i;const r=t,s={CONTAIN:{name:"contain",icon:ol(ZD)},ORIGINAL:{name:"original",icon:ol(_4)}},{t:a}=rn(),o=Fe("image-viewer"),{nextZIndex:l}=oc(),c=W(),d=W([]),p=GR(),v=W(!0),g=W(r.initialIndex),y=An(s.CONTAIN),_=W({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),w=W((i=r.zIndex)!=null?i:l()),b=L(()=>{const{urlList:V}=r;return V.length<=1}),M=L(()=>g.value===0),E=L(()=>g.value===r.urlList.length-1),x=L(()=>r.urlList[g.value]),T=L(()=>[o.e("btn"),o.e("prev"),o.is("disabled",!r.infinite&&M.value)]),k=L(()=>[o.e("btn"),o.e("next"),o.is("disabled",!r.infinite&&E.value)]),I=L(()=>{const{scale:V,deg:ee,offsetX:ce,offsetY:ae,enableTransition:le}=_.value;let ye=ce/V,Ee=ae/V;const pe=ee*Math.PI/180,ue=Math.cos(pe),Me=Math.sin(pe);ye=ye*ue+Ee*Me,Ee=Ee*ue-ce/V*Me;const De={transform:`scale(${V}) rotate(${ee}deg) translate(${ye}px, ${Ee}px)`,transition:le?"transform .3s":""};return y.value.name===s.CONTAIN.name&&(De.maxWidth=De.maxHeight="100%"),De});function O(){R(),n("close")}function U(){const V=ll(ce=>{switch(ce.code){case Et.esc:r.closeOnPressEscape&&O();break;case Et.space:H();break;case Et.left:X();break;case Et.up:D("zoomIn");break;case Et.right:q();break;case Et.down:D("zoomOut");break}}),ee=ll(ce=>{const ae=ce.deltaY||ce.deltaX;D(ae<0?"zoomIn":"zoomOut",{zoomRate:r.zoomRate,enableTransition:!1})});p.run(()=>{bn(document,"keydown",V),bn(document,"wheel",ee)})}function R(){p.stop()}function N(){v.value=!1}function $(V){v.value=!1,V.target.alt=a("el.image.error")}function J(V){if(v.value||V.button!==0||!c.value)return;_.value.enableTransition=!1;const{offsetX:ee,offsetY:ce}=_.value,ae=V.pageX,le=V.pageY,ye=ll(pe=>{_.value={..._.value,offsetX:ee+pe.pageX-ae,offsetY:ce+pe.pageY-le}}),Ee=bn(document,"mousemove",ye);bn(document,"mouseup",()=>{Ee()}),V.preventDefault()}function Y(){_.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function H(){if(v.value)return;const V=Ou(s),ee=Object.values(s),ce=y.value.name,le=(ee.findIndex(ye=>ye.name===ce)+1)%V.length;y.value=s[V[le]],Y()}function B(V){const ee=r.urlList.length;g.value=(V+ee)%ee}function X(){M.value&&!r.infinite||B(g.value-1)}function q(){E.value&&!r.infinite||B(g.value+1)}function D(V,ee={}){if(v.value)return;const{minScale:ce,maxScale:ae}=r,{zoomRate:le,rotateDeg:ye,enableTransition:Ee}={zoomRate:r.zoomRate,rotateDeg:90,enableTransition:!0,...ee};switch(V){case"zoomOut":_.value.scale>ce&&(_.value.scale=Number.parseFloat((_.value.scale/le).toFixed(3)));break;case"zoomIn":_.value.scale<ae&&(_.value.scale=Number.parseFloat((_.value.scale*le).toFixed(3)));break;case"clockwise":_.value.deg+=ye,n("rotate",_.value.deg);break;case"anticlockwise":_.value.deg-=ye,n("rotate",_.value.deg);break}_.value.enableTransition=Ee}return Le(x,()=>{_t(()=>{const V=d.value[0];V!=null&&V.complete||(v.value=!0)})}),Le(g,V=>{Y(),n("switch",V)}),St(()=>{var V,ee;U(),(ee=(V=c.value)==null?void 0:V.focus)==null||ee.call(V)}),e({setActiveItem:B}),(V,ee)=>(P(),we(f(cc),{to:"body",disabled:!V.teleported},{default:te(()=>[Q(di,{name:"viewer-fade",appear:""},{default:te(()=>[Z("div",{ref_key:"wrapper",ref:c,tabindex:-1,class:z(f(o).e("wrapper")),style:bt({zIndex:w.value})},[Z("div",{class:z(f(o).e("mask")),onClick:Mt(ce=>V.hideOnClickModal&&O(),["self"])},null,10,["onClick"]),he(" CLOSE "),Z("span",{class:z([f(o).e("btn"),f(o).e("close")]),onClick:O},[Q(f(ft),null,{default:te(()=>[Q(f(Bs))]),_:1})],2),he(" ARROW "),f(b)?he("v-if",!0):(P(),K(ct,{key:0},[Z("span",{class:z(f(T)),onClick:X},[Q(f(ft),null,{default:te(()=>[Q(f(po))]),_:1})],2),Z("span",{class:z(f(k)),onClick:q},[Q(f(ft),null,{default:te(()=>[Q(f(vr))]),_:1})],2)],64)),he(" ACTIONS "),Z("div",{class:z([f(o).e("btn"),f(o).e("actions")])},[Z("div",{class:z(f(o).e("actions__inner"))},[Q(f(ft),{onClick:ce=>D("zoomOut")},{default:te(()=>[Q(f(O4))]),_:1},8,["onClick"]),Q(f(ft),{onClick:ce=>D("zoomIn")},{default:te(()=>[Q(f(c2))]),_:1},8,["onClick"]),Z("i",{class:z(f(o).e("actions__divider"))},null,2),Q(f(ft),{onClick:H},{default:te(()=>[(P(),we(zt(f(y).icon)))]),_:1}),Z("i",{class:z(f(o).e("actions__divider"))},null,2),Q(f(ft),{onClick:ce=>D("anticlockwise")},{default:te(()=>[Q(f(m4))]),_:1},8,["onClick"]),Q(f(ft),{onClick:ce=>D("clockwise")},{default:te(()=>[Q(f(g4))]),_:1},8,["onClick"])],2)],2),he(" CANVAS "),Z("div",{class:z(f(o).e("canvas"))},[(P(!0),K(ct,null,Vt(V.urlList,(ce,ae)=>Ut((P(),K("img",{ref_for:!0,ref:le=>d.value[ae]=le,key:ce,src:ce,style:bt(f(I)),class:z(f(o).e("img")),crossorigin:V.crossorigin,onLoad:N,onError:$,onMousedown:J},null,46,["src","crossorigin"])),[[on,ae===g.value]])),128))],2),oe(V.$slots,"default")],6)]),_:3})]),_:3},8,["disabled"]))}});var EZ=We(SZ,[["__file","image-viewer.vue"]]);const qT=Ft(EZ),CZ=Ge({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:_e([String,Object])},previewSrcList:{type:_e(Array),default:()=>Un([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:_e(String)}}),xZ={load:t=>t instanceof Event,error:t=>t instanceof Event,switch:t=>Pt(t),close:()=>!0,show:()=>!0},MZ=ie({name:"ElImage",inheritAttrs:!1}),TZ=ie({...MZ,props:CZ,emits:xZ,setup(t,{emit:e}){const n=t;let i="";const{t:r}=rn(),s=Fe("image"),a=Pl(),o=L(()=>od(Object.entries(a).filter(([q])=>/^(data-|on[A-Z])/i.test(q)||["id","style"].includes(q)))),l=fy({excludeListeners:!0,excludeKeys:L(()=>Object.keys(o.value))}),c=W(),d=W(!1),p=W(!0),v=W(!1),g=W(),y=W(),_=nn&&"loading"in HTMLImageElement.prototype;let w,b;const M=L(()=>[s.e("inner"),x.value&&s.e("preview"),p.value&&s.is("loading")]),E=L(()=>{const{fit:q}=n;return nn&&q?{objectFit:q}:{}}),x=L(()=>{const{previewSrcList:q}=n;return Array.isArray(q)&&q.length>0}),T=L(()=>{const{previewSrcList:q,initialIndex:D}=n;let V=D;return D>q.length-1&&(V=0),V}),k=L(()=>n.loading==="eager"?!1:!_&&n.loading==="lazy"||n.lazy),I=()=>{nn&&(p.value=!0,d.value=!1,c.value=n.src)};function O(q){p.value=!1,d.value=!1,e("load",q)}function U(q){p.value=!1,d.value=!0,e("error",q)}function R(){CF(g.value,y.value)&&(I(),J())}const N=p2(R,200,!0);async function $(){var q;if(!nn)return;await _t();const{scrollContainer:D}=n;Yr(D)?y.value=D:Wt(D)&&D!==""?y.value=(q=document.querySelector(D))!=null?q:void 0:g.value&&(y.value=oy(g.value)),y.value&&(w=bn(y,"scroll",N),setTimeout(()=>R(),100))}function J(){!nn||!y.value||!N||(w==null||w(),y.value=void 0)}function Y(q){if(q.ctrlKey){if(q.deltaY<0)return q.preventDefault(),!1;if(q.deltaY>0)return q.preventDefault(),!1}}function H(){x.value&&(b=bn("wheel",Y,{passive:!1}),i=document.body.style.overflow,document.body.style.overflow="hidden",v.value=!0,e("show"))}function B(){b==null||b(),document.body.style.overflow=i,v.value=!1,e("close")}function X(q){e("switch",q)}return Le(()=>n.src,()=>{k.value?(p.value=!0,d.value=!1,J(),$()):I()}),St(()=>{k.value?$():I()}),(q,D)=>(P(),K("div",Gt({ref_key:"container",ref:g},f(o),{class:[f(s).b(),q.$attrs.class]}),[d.value?oe(q.$slots,"error",{key:0},()=>[Z("div",{class:z(f(s).e("error"))},Ne(f(r)("el.image.error")),3)]):(P(),K(ct,{key:1},[c.value!==void 0?(P(),K("img",Gt({key:0},f(l),{src:c.value,loading:q.loading,style:f(E),class:f(M),crossorigin:q.crossorigin,onClick:H,onLoad:O,onError:U}),null,16,["src","loading","crossorigin"])):he("v-if",!0),p.value?(P(),K("div",{key:1,class:z(f(s).e("wrapper"))},[oe(q.$slots,"placeholder",{},()=>[Z("div",{class:z(f(s).e("placeholder"))},null,2)])],2)):he("v-if",!0)],64)),f(x)?(P(),K(ct,{key:2},[v.value?(P(),we(f(qT),{key:0,"z-index":q.zIndex,"initial-index":f(T),infinite:q.infinite,"zoom-rate":q.zoomRate,"min-scale":q.minScale,"max-scale":q.maxScale,"url-list":q.previewSrcList,crossorigin:q.crossorigin,"hide-on-click-modal":q.hideOnClickModal,teleported:q.previewTeleported,"close-on-press-escape":q.closeOnPressEscape,onClose:B,onSwitch:X},{default:te(()=>[q.$slots.viewer?(P(),K("div",{key:0},[oe(q.$slots,"viewer")])):he("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):he("v-if",!0)],64)):he("v-if",!0)],16))}});var AZ=We(TZ,[["__file","image.vue"]]);const kZ=Ft(AZ),PZ=Ge({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:_i,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:t=>t===null||Pt(t)||["min","max"].includes(t),default:null},name:String,placeholder:String,precision:{type:Number,validator:t=>t>=0&&t===Number.parseInt(`${t}`,10)},validateEvent:{type:Boolean,default:!0},...$i(["ariaLabel"])}),RZ={[Nn]:(t,e)=>e!==t,blur:t=>t instanceof FocusEvent,focus:t=>t instanceof FocusEvent,[gr]:t=>Pt(t)||Ai(t),[Kt]:t=>Pt(t)||Ai(t)},IZ=ie({name:"ElInputNumber"}),LZ=ie({...IZ,props:PZ,emits:RZ,setup(t,{expose:e,emit:n}){const i=t,{t:r}=rn(),s=Fe("input-number"),a=W(),o=Xt({currentValue:i.modelValue,userInput:null}),{formItem:l}=or(),c=L(()=>Pt(i.modelValue)&&i.modelValue<=i.min),d=L(()=>Pt(i.modelValue)&&i.modelValue>=i.max),p=L(()=>{const H=b(i.step);return Hn(i.precision)?Math.max(b(i.modelValue),H):(H>i.precision,i.precision)}),v=L(()=>i.controls&&i.controlsPosition==="right"),g=pi(),y=ar(),_=L(()=>{if(o.userInput!==null)return o.userInput;let H=o.currentValue;if(Ai(H))return"";if(Pt(H)){if(Number.isNaN(H))return"";Hn(i.precision)||(H=H.toFixed(i.precision))}return H}),w=(H,B)=>{if(Hn(B)&&(B=p.value),B===0)return Math.round(H);let X=String(H);const q=X.indexOf(".");if(q===-1||!X.replace(".","").split("")[q+B])return H;const ee=X.length;return X.charAt(ee-1)==="5"&&(X=`${X.slice(0,Math.max(0,ee-1))}6`),Number.parseFloat(Number(X).toFixed(B))},b=H=>{if(Ai(H))return 0;const B=H.toString(),X=B.indexOf(".");let q=0;return X!==-1&&(q=B.length-X-1),q},M=(H,B=1)=>Pt(H)?w(H+i.step*B):o.currentValue,E=()=>{if(i.readonly||y.value||d.value)return;const H=Number(_.value)||0,B=M(H);k(B),n(gr,o.currentValue),J()},x=()=>{if(i.readonly||y.value||c.value)return;const H=Number(_.value)||0,B=M(H,-1);k(B),n(gr,o.currentValue),J()},T=(H,B)=>{const{max:X,min:q,step:D,precision:V,stepStrictly:ee,valueOnClear:ce}=i;X<q&&yi("InputNumber","min should not be greater than max.");let ae=Number(H);if(Ai(H)||Number.isNaN(ae))return null;if(H===""){if(ce===null)return null;ae=Wt(ce)?{min:q,max:X}[ce]:ce}return ee&&(ae=w(Math.round(ae/D)*D,V),ae!==H&&B&&n(Kt,ae)),Hn(V)||(ae=w(ae,V)),(ae>X||ae<q)&&(ae=ae>X?X:q,B&&n(Kt,ae)),ae},k=(H,B=!0)=>{var X;const q=o.currentValue,D=T(H);if(!B){n(Kt,D);return}q===D&&H||(o.userInput=null,n(Kt,D),q!==D&&n(Nn,D,q),i.validateEvent&&((X=l==null?void 0:l.validate)==null||X.call(l,"change").catch(V=>void 0)),o.currentValue=D)},I=H=>{o.userInput=H;const B=H===""?null:Number(H);n(gr,B),k(B,!1)},O=H=>{const B=H!==""?Number(H):"";(Pt(B)&&!Number.isNaN(B)||H==="")&&k(B),J(),o.userInput=null},U=()=>{var H,B;(B=(H=a.value)==null?void 0:H.focus)==null||B.call(H)},R=()=>{var H,B;(B=(H=a.value)==null?void 0:H.blur)==null||B.call(H)},N=H=>{n("focus",H)},$=H=>{var B;o.userInput=null,n("blur",H),i.validateEvent&&((B=l==null?void 0:l.validate)==null||B.call(l,"blur").catch(X=>void 0))},J=()=>{o.currentValue!==i.modelValue&&(o.currentValue=i.modelValue)},Y=H=>{document.activeElement===H.target&&H.preventDefault()};return Le(()=>i.modelValue,(H,B)=>{const X=T(H,!0);o.userInput===null&&X!==B&&(o.currentValue=X)},{immediate:!0}),St(()=>{var H;const{min:B,max:X,modelValue:q}=i,D=(H=a.value)==null?void 0:H.input;if(D.setAttribute("role","spinbutton"),Number.isFinite(X)?D.setAttribute("aria-valuemax",String(X)):D.removeAttribute("aria-valuemax"),Number.isFinite(B)?D.setAttribute("aria-valuemin",String(B)):D.removeAttribute("aria-valuemin"),D.setAttribute("aria-valuenow",o.currentValue||o.currentValue===0?String(o.currentValue):""),D.setAttribute("aria-disabled",String(y.value)),!Pt(q)&&q!=null){let V=Number(q);Number.isNaN(V)&&(V=null),n(Kt,V)}D.addEventListener("wheel",Y,{passive:!1})}),Mo(()=>{var H,B;const X=(H=a.value)==null?void 0:H.input;X==null||X.setAttribute("aria-valuenow",`${(B=o.currentValue)!=null?B:""}`)}),e({focus:U,blur:R}),(H,B)=>(P(),K("div",{class:z([f(s).b(),f(s).m(f(g)),f(s).is("disabled",f(y)),f(s).is("without-controls",!H.controls),f(s).is("controls-right",f(v))]),onDragstart:Mt(()=>{},["prevent"])},[H.controls?Ut((P(),K("span",{key:0,role:"button","aria-label":f(r)("el.inputNumber.decrease"),class:z([f(s).e("decrease"),f(s).is("disabled",f(c))]),onKeydown:vn(x,["enter"])},[oe(H.$slots,"decrease-icon",{},()=>[Q(f(ft),null,{default:te(()=>[f(v)?(P(),we(f(Fa),{key:0})):(P(),we(f(i4),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[f(Rh),x]]):he("v-if",!0),H.controls?Ut((P(),K("span",{key:1,role:"button","aria-label":f(r)("el.inputNumber.increase"),class:z([f(s).e("increase"),f(s).is("disabled",f(d))]),onKeydown:vn(E,["enter"])},[oe(H.$slots,"increase-icon",{},()=>[Q(f(ft),null,{default:te(()=>[f(v)?(P(),we(f(O0),{key:0})):(P(),we(f(l2),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[f(Rh),E]]):he("v-if",!0),Q(f(tr),{id:H.id,ref_key:"input",ref:a,type:"number",step:H.step,"model-value":f(_),placeholder:H.placeholder,readonly:H.readonly,disabled:f(y),size:f(g),max:H.max,min:H.min,name:H.name,"aria-label":H.ariaLabel,"validate-event":!1,onKeydown:[vn(Mt(E,["prevent"]),["up"]),vn(Mt(x,["prevent"]),["down"])],onBlur:$,onFocus:N,onInput:I,onChange:O},hs({_:2},[H.$slots.prefix?{name:"prefix",fn:te(()=>[oe(H.$slots,"prefix")])}:void 0,H.$slots.suffix?{name:"suffix",fn:te(()=>[oe(H.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var NZ=We(LZ,[["__file","input-number.vue"]]);const YT=Ft(NZ),OZ=Ge({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:Boolean,href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:En}}),DZ={click:t=>t instanceof MouseEvent},FZ=ie({name:"ElLink"}),BZ=ie({...FZ,props:OZ,emits:DZ,setup(t,{emit:e}){const n=t,i=Fe("link"),r=L(()=>[i.b(),i.m(n.type),i.is("disabled",n.disabled),i.is("underline",n.underline&&!n.disabled)]);function s(a){n.disabled||e("click",a)}return(a,o)=>(P(),K("a",{class:z(f(r)),href:a.disabled||!a.href?void 0:a.href,target:a.disabled||!a.href?void 0:a.target,onClick:s},[a.icon?(P(),we(f(ft),{key:0},{default:te(()=>[(P(),we(zt(a.icon)))]),_:1})):he("v-if",!0),a.$slots.default?(P(),K("span",{key:1,class:z(f(i).e("inner"))},[oe(a.$slots,"default")],2)):he("v-if",!0),a.$slots.icon?oe(a.$slots,"icon",{key:2}):he("v-if",!0)],10,["href","target"]))}});var UZ=We(BZ,[["__file","link.vue"]]);const VZ=Ft(UZ);let zZ=class{constructor(e,n){this.parent=e,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",i=>{let r=!1;switch(i.code){case Et.down:{this.gotoSubIndex(this.subIndex+1),r=!0;break}case Et.up:{this.gotoSubIndex(this.subIndex-1),r=!0;break}case Et.tab:{Qf(e,"mouseleave");break}case Et.enter:case Et.space:{r=!0,i.currentTarget.click();break}}return r&&(i.preventDefault(),i.stopPropagation()),!1})})}},$Z=class{constructor(e,n){this.domNode=e,this.submenu=null,this.submenu=null,this.init(n)}init(e){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${e}-menu`);n&&(this.submenu=new zZ(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let n=!1;switch(e.code){case Et.down:{Qf(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case Et.up:{Qf(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case Et.tab:{Qf(e.currentTarget,"mouseleave");break}case Et.enter:case Et.space:{n=!0,e.currentTarget.click();break}}n&&e.preventDefault()})}},HZ=class{constructor(e,n){this.domNode=e,this.init(n)}init(e){const n=this.domNode.childNodes;Array.from(n).forEach(i=>{i.nodeType===1&&new $Z(i,e)})}};const GZ=ie({name:"ElMenuCollapseTransition",setup(){const t=Fe("menu");return{listeners:{onBeforeEnter:n=>n.style.opacity="0.2",onEnter(n,i){us(n,`${t.namespace.value}-opacity-transition`),n.style.opacity="1",i()},onAfterEnter(n){rr(n,`${t.namespace.value}-opacity-transition`),n.style.opacity=""},onBeforeLeave(n){n.dataset||(n.dataset={}),kr(n,t.m("collapse"))?(rr(n,t.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),us(n,t.m("collapse"))):(us(n,t.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),rr(n,t.m("collapse"))),n.style.width=`${n.scrollWidth}px`,n.style.overflow="hidden"},onLeave(n){us(n,"horizontal-collapse-transition"),n.style.width=`${n.dataset.scrollWidth}px`}}}}});function WZ(t,e,n,i,r,s){return P(),we(di,Gt({mode:"out-in"},t.listeners),{default:te(()=>[oe(t.$slots,"default")]),_:3},16)}var KZ=We(GZ,[["render",WZ],["__file","menu-collapse-transition.vue"]]);function jT(t,e){const n=L(()=>{let r=t.parent;const s=[e.value];for(;r.type.name!=="ElMenu";)r.props.index&&s.unshift(r.props.index),r=r.parent;return s});return{parentMenu:L(()=>{let r=t.parent;for(;r&&!["ElMenu","ElSubMenu"].includes(r.type.name);)r=r.parent;return r}),indexPath:n}}function qZ(t){return L(()=>{const n=t.backgroundColor;return n?new kM(n).shade(20).toString():""})}const XT=(t,e)=>{const n=Fe("menu");return L(()=>n.cssVarBlock({"text-color":t.textColor||"","hover-text-color":t.textColor||"","bg-color":t.backgroundColor||"","hover-bg-color":qZ(t).value||"","active-color":t.activeTextColor||"",level:`${e}`}))},YZ=Ge({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:En},expandOpenIcon:{type:En},collapseCloseIcon:{type:En},collapseOpenIcon:{type:En}}),km="ElSubMenu";var Qy=ie({name:km,props:YZ,setup(t,{slots:e,expose:n}){const i=Yt(),{indexPath:r,parentMenu:s}=jT(i,L(()=>t.index)),a=Fe("menu"),o=Fe("sub-menu"),l=dt("rootMenu");l||yi(km,"can not inject root menu");const c=dt(`subMenu:${s.value.uid}`);c||yi(km,"can not inject sub menu");const d=W({}),p=W({});let v;const g=W(!1),y=W(),_=W(null),w=L(()=>O.value==="horizontal"&&M.value?"bottom-start":"right-start"),b=L(()=>O.value==="horizontal"&&M.value||O.value==="vertical"&&!l.props.collapse?t.expandCloseIcon&&t.expandOpenIcon?k.value?t.expandOpenIcon:t.expandCloseIcon:Fa:t.collapseCloseIcon&&t.collapseOpenIcon?k.value?t.collapseOpenIcon:t.collapseCloseIcon:vr),M=L(()=>c.level===0),E=L(()=>{const V=t.teleported;return V===void 0?M.value:V}),x=L(()=>l.props.collapse?`${a.namespace.value}-zoom-in-left`:`${a.namespace.value}-zoom-in-top`),T=L(()=>O.value==="horizontal"&&M.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),k=L(()=>l.openedMenus.includes(t.index)),I=L(()=>{let V=!1;return Object.values(d.value).forEach(ee=>{ee.active&&(V=!0)}),Object.values(p.value).forEach(ee=>{ee.active&&(V=!0)}),V}),O=L(()=>l.props.mode),U=Xt({index:t.index,indexPath:r,active:I}),R=XT(l.props,c.level+1),N=L(()=>{var V;return(V=t.popperOffset)!=null?V:l.props.popperOffset}),$=L(()=>{var V;return(V=t.popperClass)!=null?V:l.props.popperClass}),J=L(()=>{var V;return(V=t.showTimeout)!=null?V:l.props.showTimeout}),Y=L(()=>{var V;return(V=t.hideTimeout)!=null?V:l.props.hideTimeout}),H=()=>{var V,ee,ce;return(ce=(ee=(V=_.value)==null?void 0:V.popperRef)==null?void 0:ee.popperInstanceRef)==null?void 0:ce.destroy()},B=V=>{V||H()},X=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||t.disabled||l.handleSubMenuClick({index:t.index,indexPath:r.value,active:I.value})},q=(V,ee=J.value)=>{var ce;if(V.type!=="focus"){if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||t.disabled){c.mouseInChild.value=!0;return}c.mouseInChild.value=!0,v==null||v(),{stop:v}=yl(()=>{l.openMenu(t.index,r.value)},ee),E.value&&((ce=s.value.vnode.el)==null||ce.dispatchEvent(new MouseEvent("mouseenter")))}},D=(V=!1)=>{var ee;if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"){c.mouseInChild.value=!1;return}v==null||v(),c.mouseInChild.value=!1,{stop:v}=yl(()=>!g.value&&l.closeMenu(t.index,r.value),Y.value),E.value&&V&&((ee=c.handleMouseleave)==null||ee.call(c,!0))};Le(()=>l.props.collapse,V=>B(!!V));{const V=ce=>{p.value[ce.index]=ce},ee=ce=>{delete p.value[ce.index]};Jt(`subMenu:${i.uid}`,{addSubMenu:V,removeSubMenu:ee,handleMouseleave:D,mouseInChild:g,level:c.level+1})}return n({opened:k}),St(()=>{l.addSubMenu(U),c.addSubMenu(U)}),Tn(()=>{c.removeSubMenu(U),l.removeSubMenu(U)}),()=>{var V;const ee=[(V=e.title)==null?void 0:V.call(e),Ct(ft,{class:o.e("icon-arrow"),style:{transform:k.value?t.expandCloseIcon&&t.expandOpenIcon||t.collapseCloseIcon&&t.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>Wt(b.value)?Ct(i.appContext.components[b.value]):Ct(b.value)})],ce=l.isMenuPopup?Ct(vi,{ref:_,visible:k.value,effect:"light",pure:!0,offset:N.value,showArrow:!1,persistent:!0,popperClass:$.value,placement:w.value,teleported:E.value,fallbackPlacements:T.value,transition:x.value,gpuAcceleration:!1},{content:()=>{var ae;return Ct("div",{class:[a.m(O.value),a.m("popup-container"),$.value],onMouseenter:le=>q(le,100),onMouseleave:()=>D(!0),onFocus:le=>q(le,100)},[Ct("ul",{class:[a.b(),a.m("popup"),a.m(`popup-${w.value}`)],style:R.value},[(ae=e.default)==null?void 0:ae.call(e)])])},default:()=>Ct("div",{class:o.e("title"),onClick:X},ee)}):Ct(ct,{},[Ct("div",{class:o.e("title"),ref:y,onClick:X},ee),Ct(Hd,{},{default:()=>{var ae;return Ut(Ct("ul",{role:"menu",class:[a.b(),a.m("inline")],style:R.value},[(ae=e.default)==null?void 0:ae.call(e)]),[[on,k.value]])}})]);return Ct("li",{class:[o.b(),o.is("active",I.value),o.is("opened",k.value),o.is("disabled",t.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:k.value,onMouseenter:q,onMouseleave:()=>D(),onFocus:q},[ce])}}});const jZ=Ge({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:_e(Array),default:()=>Un([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:En,default:()=>a4},popperEffect:{type:_e(String),default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),Pm=t=>Array.isArray(t)&&t.every(e=>Wt(e)),XZ={close:(t,e)=>Wt(t)&&Pm(e),open:(t,e)=>Wt(t)&&Pm(e),select:(t,e,n,i)=>Wt(t)&&Pm(e)&&Sn(n)&&(i===void 0||i instanceof Promise)};var ZZ=ie({name:"ElMenu",props:jZ,emits:XZ,setup(t,{emit:e,slots:n,expose:i}){const r=Yt(),s=r.appContext.config.globalProperties.$router,a=W(),o=Fe("menu"),l=Fe("sub-menu"),c=W(-1),d=W(t.defaultOpeneds&&!t.collapse?t.defaultOpeneds.slice(0):[]),p=W(t.defaultActive),v=W({}),g=W({}),y=L(()=>t.mode==="horizontal"||t.mode==="vertical"&&t.collapse),_=()=>{const H=p.value&&v.value[p.value];if(!H||t.mode==="horizontal"||t.collapse)return;H.indexPath.forEach(X=>{const q=g.value[X];q&&w(X,q.indexPath)})},w=(H,B)=>{d.value.includes(H)||(t.uniqueOpened&&(d.value=d.value.filter(X=>B.includes(X))),d.value.push(H),e("open",H,B))},b=H=>{const B=d.value.indexOf(H);B!==-1&&d.value.splice(B,1)},M=(H,B)=>{b(H),e("close",H,B)},E=({index:H,indexPath:B})=>{d.value.includes(H)?M(H,B):w(H,B)},x=H=>{(t.mode==="horizontal"||t.collapse)&&(d.value=[]);const{index:B,indexPath:X}=H;if(!(Ai(B)||Ai(X)))if(t.router&&s){const q=H.route||B,D=s.push(q).then(V=>(V||(p.value=B),V));e("select",B,X,{index:B,indexPath:X,route:q},D)}else p.value=B,e("select",B,X,{index:B,indexPath:X})},T=H=>{const B=v.value,X=B[H]||p.value&&B[p.value]||B[t.defaultActive];X?p.value=X.index:p.value=H},k=H=>{const B=getComputedStyle(H),X=Number.parseInt(B.marginLeft,10),q=Number.parseInt(B.marginRight,10);return H.offsetWidth+X+q||0},I=()=>{var H,B;if(!a.value)return-1;const X=Array.from((B=(H=a.value)==null?void 0:H.childNodes)!=null?B:[]).filter(ye=>ye.nodeName!=="#comment"&&(ye.nodeName!=="#text"||ye.nodeValue)),q=64,D=getComputedStyle(a.value),V=Number.parseInt(D.paddingLeft,10),ee=Number.parseInt(D.paddingRight,10),ce=a.value.clientWidth-V-ee;let ae=0,le=0;return X.forEach((ye,Ee)=>{ae+=k(ye),ae<=ce-q&&(le=Ee+1)}),le===X.length?-1:le},O=H=>g.value[H].indexPath,U=(H,B=33.34)=>{let X;return()=>{X&&clearTimeout(X),X=setTimeout(()=>{H()},B)}};let R=!0;const N=()=>{if(c.value===I())return;const H=()=>{c.value=-1,_t(()=>{c.value=I()})};R?H():U(H)(),R=!1};Le(()=>t.defaultActive,H=>{v.value[H]||(p.value=""),T(H)}),Le(()=>t.collapse,H=>{H&&(d.value=[])}),Le(v.value,_);let $;gi(()=>{t.mode==="horizontal"&&t.ellipsis?$=Fn(a,N).stop:$==null||$()});const J=W(!1);{const H=D=>{g.value[D.index]=D},B=D=>{delete g.value[D.index]};Jt("rootMenu",Xt({props:t,openedMenus:d,items:v,subMenus:g,activeIndex:p,isMenuPopup:y,addMenuItem:D=>{v.value[D.index]=D},removeMenuItem:D=>{delete v.value[D.index]},addSubMenu:H,removeSubMenu:B,openMenu:w,closeMenu:M,handleMenuItemClick:x,handleSubMenuClick:E})),Jt(`subMenu:${r.uid}`,{addSubMenu:H,removeSubMenu:B,mouseInChild:J,level:0})}St(()=>{t.mode==="horizontal"&&new HZ(r.vnode.el,o.namespace.value)}),i({open:B=>{const{indexPath:X}=g.value[B];X.forEach(q=>w(q,X))},close:b,handleResize:N});const Y=XT(t,0);return()=>{var H,B;let X=(B=(H=n.default)==null?void 0:H.call(n))!=null?B:[];const q=[];if(t.mode==="horizontal"&&a.value){const ee=ao(X),ce=c.value===-1?ee:ee.slice(0,c.value),ae=c.value===-1?[]:ee.slice(c.value);ae!=null&&ae.length&&t.ellipsis&&(X=ce,q.push(Ct(Qy,{index:"sub-menu-more",class:l.e("hide-arrow"),popperOffset:t.popperOffset},{title:()=>Ct(ft,{class:l.e("icon-more")},{default:()=>Ct(t.ellipsisIcon)}),default:()=>ae})))}const D=t.closeOnClickOutside?[[Ia,()=>{d.value.length&&(J.value||(d.value.forEach(ee=>e("close",ee,O(ee))),d.value=[]))}]]:[],V=Ut(Ct("ul",{key:String(t.collapse),role:"menubar",ref:a,style:Y.value,class:{[o.b()]:!0,[o.m(t.mode)]:!0,[o.m("collapse")]:t.collapse}},[...X,...q]),D);return t.collapseTransition&&t.mode==="vertical"?Ct(KZ,()=>V):V}}});const JZ=Ge({index:{type:_e([String,null]),default:null},route:{type:_e([String,Object])},disabled:Boolean}),QZ={click:t=>Wt(t.index)&&Array.isArray(t.indexPath)},Rm="ElMenuItem",eJ=ie({name:Rm,components:{ElTooltip:vi},props:JZ,emits:QZ,setup(t,{emit:e}){const n=Yt(),i=dt("rootMenu"),r=Fe("menu"),s=Fe("menu-item");i||yi(Rm,"can not inject root menu");const{parentMenu:a,indexPath:o}=jT(n,yn(t,"index")),l=dt(`subMenu:${a.value.uid}`);l||yi(Rm,"can not inject sub menu");const c=L(()=>t.index===i.activeIndex),d=Xt({index:t.index,indexPath:o,active:c}),p=()=>{t.disabled||(i.handleMenuItemClick({index:t.index,indexPath:o.value,route:t.route}),e("click",d))};return St(()=>{l.addSubMenu(d),i.addMenuItem(d)}),Tn(()=>{l.removeSubMenu(d),i.removeMenuItem(d)}),{parentMenu:a,rootMenu:i,active:c,nsMenu:r,nsMenuItem:s,handleClick:p}}});function tJ(t,e,n,i,r,s){const a=At("el-tooltip");return P(),K("li",{class:z([t.nsMenuItem.b(),t.nsMenuItem.is("active",t.active),t.nsMenuItem.is("disabled",t.disabled)]),role:"menuitem",tabindex:"-1",onClick:t.handleClick},[t.parentMenu.type.name==="ElMenu"&&t.rootMenu.props.collapse&&t.$slots.title?(P(),we(a,{key:0,effect:t.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:te(()=>[oe(t.$slots,"title")]),default:te(()=>[Z("div",{class:z(t.nsMenu.be("tooltip","trigger"))},[oe(t.$slots,"default")],2)]),_:3},8,["effect"])):(P(),K(ct,{key:1},[oe(t.$slots,"default"),oe(t.$slots,"title")],64))],10,["onClick"])}var ZT=We(eJ,[["render",tJ],["__file","menu-item.vue"]]);const nJ={title:String},iJ="ElMenuItemGroup",rJ=ie({name:iJ,props:nJ,setup(){return{ns:Fe("menu-item-group")}}});function sJ(t,e,n,i,r,s){return P(),K("li",{class:z(t.ns.b())},[Z("div",{class:z(t.ns.e("title"))},[t.$slots.title?oe(t.$slots,"title",{key:1}):(P(),K(ct,{key:0},[pt(Ne(t.title),1)],64))],2),Z("ul",null,[oe(t.$slots,"default")])],2)}var JT=We(rJ,[["render",sJ],["__file","menu-item-group.vue"]]);const aJ=Ft(ZZ,{MenuItem:ZT,MenuItemGroup:JT,SubMenu:Qy}),oJ=Vn(ZT),lJ=Vn(JT),uJ=Vn(Qy),cJ=Ge({icon:{type:En,default:()=>xD},title:String,content:{type:String,default:""}}),dJ={back:()=>!0},fJ=ie({name:"ElPageHeader"}),hJ=ie({...fJ,props:cJ,emits:dJ,setup(t,{emit:e}){const n=Si(),{t:i}=rn(),r=Fe("page-header"),s=L(()=>[r.b(),{[r.m("has-breadcrumb")]:!!n.breadcrumb,[r.m("has-extra")]:!!n.extra,[r.is("contentful")]:!!n.default}]);function a(){e("back")}return(o,l)=>(P(),K("div",{class:z(f(s))},[o.$slots.breadcrumb?(P(),K("div",{key:0,class:z(f(r).e("breadcrumb"))},[oe(o.$slots,"breadcrumb")],2)):he("v-if",!0),Z("div",{class:z(f(r).e("header"))},[Z("div",{class:z(f(r).e("left"))},[Z("div",{class:z(f(r).e("back")),role:"button",tabindex:"0",onClick:a},[o.icon||o.$slots.icon?(P(),K("div",{key:0,"aria-label":o.title||f(i)("el.pageHeader.title"),class:z(f(r).e("icon"))},[oe(o.$slots,"icon",{},()=>[o.icon?(P(),we(f(ft),{key:0},{default:te(()=>[(P(),we(zt(o.icon)))]),_:1})):he("v-if",!0)])],10,["aria-label"])):he("v-if",!0),Z("div",{class:z(f(r).e("title"))},[oe(o.$slots,"title",{},()=>[pt(Ne(o.title||f(i)("el.pageHeader.title")),1)])],2)],2),Q(f(jy),{direction:"vertical"}),Z("div",{class:z(f(r).e("content"))},[oe(o.$slots,"content",{},()=>[pt(Ne(o.content),1)])],2)],2),o.$slots.extra?(P(),K("div",{key:0,class:z(f(r).e("extra"))},[oe(o.$slots,"extra")],2)):he("v-if",!0)],2),o.$slots.default?(P(),K("div",{key:1,class:z(f(r).e("main"))},[oe(o.$slots,"default")],2)):he("v-if",!0)],2))}});var pJ=We(hJ,[["__file","page-header.vue"]]);const mJ=Ft(pJ),QT=Symbol("elPaginationKey"),vJ=Ge({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:En}}),gJ={click:t=>t instanceof MouseEvent},yJ=ie({name:"ElPaginationPrev"}),_J=ie({...yJ,props:vJ,emits:gJ,setup(t){const e=t,{t:n}=rn(),i=L(()=>e.disabled||e.currentPage<=1);return(r,s)=>(P(),K("button",{type:"button",class:"btn-prev",disabled:f(i),"aria-label":r.prevText||f(n)("el.pagination.prev"),"aria-disabled":f(i),onClick:a=>r.$emit("click",a)},[r.prevText?(P(),K("span",{key:0},Ne(r.prevText),1)):(P(),we(f(ft),{key:1},{default:te(()=>[(P(),we(zt(r.prevIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var bJ=We(_J,[["__file","prev.vue"]]);const wJ=Ge({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:En}}),SJ=ie({name:"ElPaginationNext"}),EJ=ie({...SJ,props:wJ,emits:["click"],setup(t){const e=t,{t:n}=rn(),i=L(()=>e.disabled||e.currentPage===e.pageCount||e.pageCount===0);return(r,s)=>(P(),K("button",{type:"button",class:"btn-next",disabled:f(i),"aria-label":r.nextText||f(n)("el.pagination.next"),"aria-disabled":f(i),onClick:a=>r.$emit("click",a)},[r.nextText?(P(),K("span",{key:0},Ne(r.nextText),1)):(P(),we(f(ft),{key:1},{default:te(()=>[(P(),we(zt(r.nextIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var CJ=We(EJ,[["__file","next.vue"]]);const eA=Symbol("ElSelectGroup"),fc=Symbol("ElSelect");function xJ(t,e){const n=dt(fc),i=dt(eA,{disabled:!1}),r=L(()=>d(Qi(n.props.modelValue),t.value)),s=L(()=>{var g;if(n.props.multiple){const y=Qi((g=n.props.modelValue)!=null?g:[]);return!r.value&&y.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),a=L(()=>t.label||(Sn(t.value)?"":t.value)),o=L(()=>t.value||t.label||""),l=L(()=>t.disabled||e.groupDisabled||s.value),c=Yt(),d=(g=[],y)=>{if(Sn(t.value)){const _=n.props.valueKey;return g&&g.some(w=>Pu(ni(w,_))===ni(y,_))}else return g&&g.includes(y)},p=()=>{!t.disabled&&!i.disabled&&(n.states.hoveringIndex=n.optionsArray.indexOf(c.proxy))},v=g=>{const y=new RegExp(ay(g),"i");e.visible=y.test(a.value)||t.created};return Le(()=>a.value,()=>{!t.created&&!n.props.remote&&n.setSelected()}),Le(()=>t.value,(g,y)=>{const{remote:_,valueKey:w}=n.props;if(g!==y&&(n.onOptionDestroy(y,c.proxy),n.onOptionCreate(c.proxy)),!t.created&&!_){if(w&&Sn(g)&&Sn(y)&&g[w]===y[w])return;n.setSelected()}}),Le(()=>i.disabled,()=>{e.groupDisabled=i.disabled},{immediate:!0}),{select:n,currentLabel:a,currentValue:o,itemSelected:r,isDisabled:l,hoverItem:p,updateOption:v}}const MJ=ie({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(t){const e=Fe("select"),n=zi(),i=L(()=>[e.be("dropdown","item"),e.is("disabled",f(o)),e.is("selected",f(a)),e.is("hovering",f(v))]),r=Xt({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:s,itemSelected:a,isDisabled:o,select:l,hoverItem:c,updateOption:d}=xJ(t,r),{visible:p,hover:v}=Oi(r),g=Yt().proxy;l.onOptionCreate(g),Tn(()=>{const _=g.value,{selected:w}=l.states,M=(l.props.multiple?w:[w]).some(E=>E.value===g.value);_t(()=>{l.states.cachedOptions.get(_)===g&&!M&&l.states.cachedOptions.delete(_)}),l.onOptionDestroy(_,g)});function y(){o.value||l.handleOptionSelect(g)}return{ns:e,id:n,containerKls:i,currentLabel:s,itemSelected:a,isDisabled:o,select:l,hoverItem:c,updateOption:d,visible:p,hover:v,selectOptionClick:y,states:r}}});function TJ(t,e,n,i,r,s){return Ut((P(),K("li",{id:t.id,class:z(t.containerKls),role:"option","aria-disabled":t.isDisabled||void 0,"aria-selected":t.itemSelected,onMouseenter:t.hoverItem,onClick:Mt(t.selectOptionClick,["stop"])},[oe(t.$slots,"default",{},()=>[Z("span",null,Ne(t.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMouseenter","onClick"])),[[on,t.visible]])}var e_=We(MJ,[["render",TJ],["__file","option.vue"]]);const AJ=ie({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const t=dt(fc),e=Fe("select"),n=L(()=>t.props.popperClass),i=L(()=>t.props.multiple),r=L(()=>t.props.fitInputWidth),s=W("");function a(){var o;s.value=`${(o=t.selectRef)==null?void 0:o.offsetWidth}px`}return St(()=>{a(),Fn(t.selectRef,a)}),{ns:e,minWidth:s,popperClass:n,isMultiple:i,isFitInputWidth:r}}});function kJ(t,e,n,i,r,s){return P(),K("div",{class:z([t.ns.b("dropdown"),t.ns.is("multiple",t.isMultiple),t.popperClass]),style:bt({[t.isFitInputWidth?"width":"minWidth"]:t.minWidth})},[t.$slots.header?(P(),K("div",{key:0,class:z(t.ns.be("dropdown","header"))},[oe(t.$slots,"header")],2)):he("v-if",!0),oe(t.$slots,"default"),t.$slots.footer?(P(),K("div",{key:1,class:z(t.ns.be("dropdown","footer"))},[oe(t.$slots,"footer")],2)):he("v-if",!0)],6)}var PJ=We(AJ,[["render",kJ],["__file","select-dropdown.vue"]]);const RJ=11,IJ=(t,e)=>{const{t:n}=rn(),i=zi(),r=Fe("select"),s=Fe("input"),a=Xt({inputValue:"",options:new Map,cachedOptions:new Map,disabledOptions:new Map,optionValues:[],selected:[],selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),o=W(null),l=W(null),c=W(null),d=W(null),p=W(null),v=W(null),g=W(null),y=W(null),_=W(null),w=W(null),b=W(null),M=W(null),{isComposing:E,handleCompositionStart:x,handleCompositionUpdate:T,handleCompositionEnd:k}=Cp({afterComposition:tt=>gt(tt)}),{wrapperRef:I,isFocused:O}=Vd(p,{beforeFocus(){return B.value},afterFocus(){t.automaticDropdown&&!U.value&&(U.value=!0,a.menuVisibleOnFocus=!0)},beforeBlur(tt){var It,fn;return((It=c.value)==null?void 0:It.isFocusInsideContent(tt))||((fn=d.value)==null?void 0:fn.isFocusInsideContent(tt))},afterBlur(){U.value=!1,a.menuVisibleOnFocus=!1}}),U=W(!1),R=W(),{form:N,formItem:$}=or(),{inputId:J}=Gs(t,{formItemContext:$}),{valueOnClear:Y,isEmptyValue:H}=xp(t),B=L(()=>t.disabled||(N==null?void 0:N.disabled)),X=L(()=>Ot(t.modelValue)?t.modelValue.length>0:!H(t.modelValue)),q=L(()=>t.clearable&&!B.value&&a.inputHovering&&X.value),D=L(()=>t.remote&&t.filterable&&!t.remoteShowSuffix?"":t.suffixIcon),V=L(()=>r.is("reverse",D.value&&U.value)),ee=L(()=>($==null?void 0:$.validateState)||""),ce=L(()=>dy[ee.value]),ae=L(()=>t.remote?300:0),le=L(()=>t.loading?t.loadingText||n("el.select.loading"):t.remote&&!a.inputValue&&a.options.size===0?!1:t.filterable&&a.inputValue&&a.options.size>0&&ye.value===0?t.noMatchText||n("el.select.noMatch"):a.options.size===0?t.noDataText||n("el.select.noData"):null),ye=L(()=>Ee.value.filter(tt=>tt.visible).length),Ee=L(()=>{const tt=Array.from(a.options.values()),It=[];return a.optionValues.forEach(fn=>{const dn=tt.findIndex(Ri=>Ri.value===fn);dn>-1&&It.push(tt[dn])}),It.length>=tt.length?It:tt}),pe=L(()=>Array.from(a.cachedOptions.values())),ue=L(()=>{const tt=Ee.value.filter(It=>!It.created).some(It=>It.currentLabel===a.inputValue);return t.filterable&&t.allowCreate&&a.inputValue!==""&&!tt}),Me=()=>{t.filterable&&cn(t.filterMethod)||t.filterable&&t.remote&&cn(t.remoteMethod)||Ee.value.forEach(tt=>{var It;(It=tt.updateOption)==null||It.call(tt,a.inputValue)})},De=pi(),xe=L(()=>["small"].includes(De.value)?"small":"default"),G=L({get(){return U.value&&le.value!==!1},set(tt){U.value=tt}}),He=L(()=>{if(t.multiple&&!Hn(t.modelValue))return Qi(t.modelValue).length===0&&!a.inputValue;const tt=Ot(t.modelValue)?t.modelValue[0]:t.modelValue;return t.filterable||Hn(tt)?!a.inputValue:!0}),Je=L(()=>{var tt;const It=(tt=t.placeholder)!=null?tt:n("el.select.placeholder");return t.multiple||!X.value?It:a.selectedLabel}),at=L(()=>Bv?null:"mouseenter");Le(()=>t.modelValue,(tt,It)=>{t.multiple&&t.filterable&&!t.reserveKeyword&&(a.inputValue="",rt("")),qe(),!ir(tt,It)&&t.validateEvent&&($==null||$.validate("change").catch(fn=>void 0))},{flush:"post",deep:!0}),Le(()=>U.value,tt=>{tt?rt(a.inputValue):(a.inputValue="",a.previousQuery=null,a.isBeforeHide=!0),e("visible-change",tt)}),Le(()=>a.options.entries(),()=>{var tt;if(!nn)return;const It=((tt=o.value)==null?void 0:tt.querySelectorAll("input"))||[];(!t.filterable&&!t.defaultFirstOption&&!Hn(t.modelValue)||!Array.from(It).includes(document.activeElement))&&qe(),t.defaultFirstOption&&(t.filterable||t.remote)&&ye.value&&it()},{flush:"post"}),Le(()=>a.hoveringIndex,tt=>{Pt(tt)&&tt>-1?R.value=Ee.value[tt]||{}:R.value={},Ee.value.forEach(It=>{It.hover=R.value===It})}),gi(()=>{a.isBeforeHide||Me()});const rt=tt=>{a.previousQuery===tt||E.value||(a.previousQuery=tt,t.filterable&&cn(t.filterMethod)?t.filterMethod(tt):t.filterable&&t.remote&&cn(t.remoteMethod)&&t.remoteMethod(tt),t.defaultFirstOption&&(t.filterable||t.remote)&&ye.value?_t(it):_t(se))},it=()=>{const tt=Ee.value.filter(dn=>dn.visible&&!dn.disabled&&!dn.states.groupDisabled),It=tt.find(dn=>dn.created),fn=tt[0];a.hoveringIndex=be(Ee.value,It||fn)},qe=()=>{if(t.multiple)a.selectedLabel="";else{const It=Ot(t.modelValue)?t.modelValue[0]:t.modelValue,fn=ne(It);a.selectedLabel=fn.currentLabel,a.selected=[fn];return}const tt=[];Hn(t.modelValue)||Qi(t.modelValue).forEach(It=>{tt.push(ne(It))}),a.selected=tt},ne=tt=>{let It;const fn=um(tt).toLowerCase()==="object",dn=um(tt).toLowerCase()==="null",Ri=um(tt).toLowerCase()==="undefined";for(let Ue=a.cachedOptions.size-1;Ue>=0;Ue--){const Ke=pe.value[Ue];if(fn?ni(Ke.value,t.valueKey)===ni(tt,t.valueKey):Ke.value===tt){It={value:tt,currentLabel:Ke.currentLabel,get isDisabled(){return Ke.isDisabled}};break}}if(It)return It;const ai=fn?tt.label:!dn&&!Ri?tt:"";return{value:tt,currentLabel:ai}},se=()=>{a.hoveringIndex=Ee.value.findIndex(tt=>a.selected.some(It=>Rn(It)===Rn(tt)))},ke=()=>{a.selectionWidth=l.value.getBoundingClientRect().width},Be=()=>{a.calculatorWidth=v.value.getBoundingClientRect().width},Ve=()=>{a.collapseItemWidth=b.value.getBoundingClientRect().width},Ae=()=>{var tt,It;(It=(tt=c.value)==null?void 0:tt.updatePopper)==null||It.call(tt)},Re=()=>{var tt,It;(It=(tt=d.value)==null?void 0:tt.updatePopper)==null||It.call(tt)},Xe=()=>{a.inputValue.length>0&&!U.value&&(U.value=!0),rt(a.inputValue)},gt=tt=>{if(a.inputValue=tt.target.value,t.remote)nt();else return Xe()},nt=Br(()=>{Xe()},ae.value),Lt=tt=>{ir(t.modelValue,tt)||e(Nn,tt)},Ye=tt=>bx(tt,It=>!a.disabledOptions.has(It)),xt=tt=>{if(t.multiple&&tt.code!==Et.delete&&tt.target.value.length<=0){const It=Qi(t.modelValue).slice(),fn=Ye(It);if(fn<0)return;const dn=It[fn];It.splice(fn,1),e(Kt,It),Lt(It),e("remove-tag",dn)}},Te=(tt,It)=>{const fn=a.selected.indexOf(It);if(fn>-1&&!B.value){const dn=Qi(t.modelValue).slice();dn.splice(fn,1),e(Kt,dn),Lt(dn),e("remove-tag",It.value)}tt.stopPropagation(),ve()},ze=tt=>{tt.stopPropagation();const It=t.multiple?[]:Y.value;if(t.multiple)for(const fn of a.selected)fn.isDisabled&&It.push(fn.value);e(Kt,It),Lt(It),a.hoveringIndex=-1,U.value=!1,e("clear"),ve()},de=tt=>{var It;if(t.multiple){const fn=Qi((It=t.modelValue)!=null?It:[]).slice(),dn=be(fn,tt.value);dn>-1?fn.splice(dn,1):(t.multipleLimit<=0||fn.length<t.multipleLimit)&&fn.push(tt.value),e(Kt,fn),Lt(fn),tt.created&&rt(""),t.filterable&&!t.reserveKeyword&&(a.inputValue="")}else e(Kt,tt.value),Lt(tt.value),U.value=!1;ve(),!U.value&&_t(()=>{Ie(tt)})},be=(tt=[],It)=>{if(!Sn(It))return tt.indexOf(It);const fn=t.valueKey;let dn=-1;return tt.some((Ri,ai)=>Pu(ni(Ri,fn))===ni(It,fn)?(dn=ai,!0):!1),dn},Ie=tt=>{var It,fn,dn,Ri,ai;const me=Ot(tt)?tt[0]:tt;let Ue=null;if(me!=null&&me.value){const Ke=Ee.value.filter(Qe=>Qe.value===me.value);Ke.length>0&&(Ue=Ke[0].$el)}if(c.value&&Ue){const Ke=(Ri=(dn=(fn=(It=c.value)==null?void 0:It.popperRef)==null?void 0:fn.contentRef)==null?void 0:dn.querySelector)==null?void 0:Ri.call(dn,`.${r.be("dropdown","wrap")}`);Ke&&ly(Ke,Ue)}(ai=M.value)==null||ai.handleScroll()},yt=tt=>{a.options.set(tt.value,tt),a.cachedOptions.set(tt.value,tt),tt.disabled&&a.disabledOptions.set(tt.value,tt)},Bt=(tt,It)=>{a.options.get(tt)===It&&a.options.delete(tt)},Ce=L(()=>{var tt,It;return(It=(tt=c.value)==null?void 0:tt.popperRef)==null?void 0:It.contentRef}),ot=()=>{a.isBeforeHide=!1,_t(()=>Ie(a.selected))},ve=()=>{var tt;(tt=p.value)==null||tt.focus()},et=()=>{var tt;(tt=p.value)==null||tt.blur()},ut=tt=>{ze(tt)},wt=()=>{U.value=!1,O.value&&et()},Ht=()=>{a.inputValue.length>0?a.inputValue="":U.value=!1},pn=()=>{B.value||(Bv&&(a.inputHovering=!0),a.menuVisibleOnFocus?a.menuVisibleOnFocus=!1:U.value=!U.value)},ht=()=>{U.value?Ee.value[a.hoveringIndex]&&de(Ee.value[a.hoveringIndex]):pn()},Rn=tt=>Sn(tt.value)?ni(tt.value,t.valueKey):tt.value,Qn=L(()=>Ee.value.filter(tt=>tt.visible).every(tt=>tt.disabled)),mn=L(()=>t.multiple?t.collapseTags?a.selected.slice(0,t.maxCollapseTags):a.selected:[]),zn=L(()=>t.multiple?t.collapseTags?a.selected.slice(t.maxCollapseTags):[]:[]),fi=tt=>{if(!U.value){U.value=!0;return}if(!(a.options.size===0||a.filteredOptionsCount===0||E.value)&&!Qn.value){tt==="next"?(a.hoveringIndex++,a.hoveringIndex===a.options.size&&(a.hoveringIndex=0)):tt==="prev"&&(a.hoveringIndex--,a.hoveringIndex<0&&(a.hoveringIndex=a.options.size-1));const It=Ee.value[a.hoveringIndex];(It.disabled===!0||It.states.groupDisabled===!0||!It.visible)&&fi(tt),_t(()=>Ie(R.value))}},_s=()=>{if(!l.value)return 0;const tt=window.getComputedStyle(l.value);return Number.parseFloat(tt.gap||"6px")},lr=L(()=>{const tt=_s();return{maxWidth:`${b.value&&t.maxCollapseTags===1?a.selectionWidth-a.collapseItemWidth-tt:a.selectionWidth}px`}}),Ur=L(()=>({maxWidth:`${a.selectionWidth}px`})),mi=L(()=>({width:`${Math.max(a.calculatorWidth,RJ)}px`}));return Fn(l,ke),Fn(v,Be),Fn(_,Ae),Fn(I,Ae),Fn(w,Re),Fn(b,Ve),St(()=>{qe()}),{inputId:J,contentId:i,nsSelect:r,nsInput:s,states:a,isFocused:O,expanded:U,optionsArray:Ee,hoverOption:R,selectSize:De,filteredOptionsCount:ye,resetCalculatorWidth:Be,updateTooltip:Ae,updateTagTooltip:Re,debouncedOnInputChange:nt,onInput:gt,deletePrevTag:xt,deleteTag:Te,deleteSelected:ze,handleOptionSelect:de,scrollToOption:Ie,hasModelValue:X,shouldShowPlaceholder:He,currentPlaceholder:Je,mouseEnterEventName:at,showClose:q,iconComponent:D,iconReverse:V,validateState:ee,validateIcon:ce,showNewOption:ue,updateOptions:Me,collapseTagSize:xe,setSelected:qe,selectDisabled:B,emptyText:le,handleCompositionStart:x,handleCompositionUpdate:T,handleCompositionEnd:k,onOptionCreate:yt,onOptionDestroy:Bt,handleMenuEnter:ot,focus:ve,blur:et,handleClearClick:ut,handleClickOutside:wt,handleEsc:Ht,toggleMenu:pn,selectOption:ht,getValueKey:Rn,navigateOptions:fi,dropdownMenuVisible:G,showTagList:mn,collapseTagList:zn,tagStyle:lr,collapseTagStyle:Ur,inputStyle:mi,popperRef:Ce,inputRef:p,tooltipRef:c,tagTooltipRef:d,calculatorRef:v,prefixRef:g,suffixRef:y,selectRef:o,wrapperRef:I,selectionRef:l,scrollbarRef:M,menuRef:_,tagMenuRef:w,collapseItemRef:b}};var LJ=ie({name:"ElOptions",setup(t,{slots:e}){const n=dt(fc);let i=[];return()=>{var r,s;const a=(r=e.default)==null?void 0:r.call(e),o=[];function l(c){Ot(c)&&c.forEach(d=>{var p,v,g,y;const _=(p=(d==null?void 0:d.type)||{})==null?void 0:p.name;_==="ElOptionGroup"?l(!Wt(d.children)&&!Ot(d.children)&&cn((v=d.children)==null?void 0:v.default)?(g=d.children)==null?void 0:g.default():d.children):_==="ElOption"?o.push((y=d.props)==null?void 0:y.value):Ot(d.children)&&l(d.children)})}return a.length&&l((s=a[0])==null?void 0:s.children),ir(o,i)||(i=o,n&&(n.states.optionValues=o)),a}}});const NJ=Ge({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:_i,effect:{type:_e(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:_e(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:Li.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:En,default:To},fitInputWidth:Boolean,suffixIcon:{type:En,default:Fa},tagType:{...Cl.type,default:"info"},tagEffect:{...Cl.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,placement:{type:_e(String),values:Va,default:"bottom-start"},fallbackPlacements:{type:_e(Array),default:["bottom-start","top-start","right","left"]},appendTo:String,...uc,...$i(["ariaLabel"])}),Mw="ElSelect",OJ=ie({name:Mw,componentName:Mw,components:{ElSelectMenu:PJ,ElOption:e_,ElOptions:LJ,ElTag:hd,ElScrollbar:fa,ElTooltip:vi,ElIcon:ft},directives:{ClickOutside:Ia},props:NJ,emits:[Kt,Nn,"remove-tag","clear","visible-change","focus","blur"],setup(t,{emit:e}){const n=L(()=>{const{modelValue:s,multiple:a}=t,o=a?[]:void 0;return Ot(s)?a?s:o:a?o:s}),i=Xt({...Oi(t),modelValue:n}),r=IJ(i,e);return Jt(fc,Xt({props:i,states:r.states,optionsArray:r.optionsArray,handleOptionSelect:r.handleOptionSelect,onOptionCreate:r.onOptionCreate,onOptionDestroy:r.onOptionDestroy,selectRef:r.selectRef,setSelected:r.setSelected})),{...r,modelValue:n}}});function DJ(t,e,n,i,r,s){const a=At("el-tag"),o=At("el-tooltip"),l=At("el-icon"),c=At("el-option"),d=At("el-options"),p=At("el-scrollbar"),v=At("el-select-menu"),g=lp("click-outside");return Ut((P(),K("div",{ref:"selectRef",class:z([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),[WR(t.mouseEnterEventName)]:y=>t.states.inputHovering=!0,onMouseleave:y=>t.states.inputHovering=!1},[Q(o,{ref:"tooltipRef",visible:t.dropdownMenuVisible,placement:t.placement,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,pure:"",trigger:"click",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:t.persistent,"append-to":t.appendTo,onBeforeShow:t.handleMenuEnter,onHide:y=>t.states.isBeforeHide=!1},{default:te(()=>{var y;return[Z("div",{ref:"wrapperRef",class:z([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)]),onClick:Mt(t.toggleMenu,["prevent"])},[t.$slots.prefix?(P(),K("div",{key:0,ref:"prefixRef",class:z(t.nsSelect.e("prefix"))},[oe(t.$slots,"prefix")],2)):he("v-if",!0),Z("div",{ref:"selectionRef",class:z([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.states.selected.length)])},[t.multiple?oe(t.$slots,"tag",{key:0},()=>[(P(!0),K(ct,null,Vt(t.showTagList,_=>(P(),K("div",{key:t.getValueKey(_),class:z(t.nsSelect.e("selected-item"))},[Q(a,{closable:!t.selectDisabled&&!_.isDisabled,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:bt(t.tagStyle),onClose:w=>t.deleteTag(w,_)},{default:te(()=>[Z("span",{class:z(t.nsSelect.e("tags-text"))},[oe(t.$slots,"label",{label:_.currentLabel,value:_.value},()=>[pt(Ne(_.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),t.collapseTags&&t.states.selected.length>t.maxCollapseTags?(P(),we(o,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:te(()=>[Z("div",{ref:"collapseItemRef",class:z(t.nsSelect.e("selected-item"))},[Q(a,{closable:!1,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:bt(t.collapseTagStyle)},{default:te(()=>[Z("span",{class:z(t.nsSelect.e("tags-text"))}," + "+Ne(t.states.selected.length-t.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:te(()=>[Z("div",{ref:"tagMenuRef",class:z(t.nsSelect.e("selection"))},[(P(!0),K(ct,null,Vt(t.collapseTagList,_=>(P(),K("div",{key:t.getValueKey(_),class:z(t.nsSelect.e("selected-item"))},[Q(a,{class:"in-tooltip",closable:!t.selectDisabled&&!_.isDisabled,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",onClose:w=>t.deleteTag(w,_)},{default:te(()=>[Z("span",{class:z(t.nsSelect.e("tags-text"))},[oe(t.$slots,"label",{label:_.currentLabel,value:_.value},()=>[pt(Ne(_.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):he("v-if",!0)]):he("v-if",!0),t.selectDisabled?he("v-if",!0):(P(),K("div",{key:1,class:z([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[Ut(Z("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":_=>t.states.inputValue=_,type:"text",name:t.name,class:z([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,autocomplete:t.autocomplete,style:bt(t.inputStyle),role:"combobox",readonly:!t.filterable,spellcheck:"false","aria-activedescendant":((y=t.hoverOption)==null?void 0:y.id)||"","aria-controls":t.contentId,"aria-expanded":t.dropdownMenuVisible,"aria-label":t.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[vn(Mt(_=>t.navigateOptions("next"),["stop","prevent"]),["down"]),vn(Mt(_=>t.navigateOptions("prev"),["stop","prevent"]),["up"]),vn(Mt(t.handleEsc,["stop","prevent"]),["esc"]),vn(Mt(t.selectOption,["stop","prevent"]),["enter"]),vn(Mt(t.deletePrevTag,["stop"]),["delete"])],onCompositionstart:t.handleCompositionStart,onCompositionupdate:t.handleCompositionUpdate,onCompositionend:t.handleCompositionEnd,onInput:t.onInput,onClick:Mt(t.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[T0,t.states.inputValue]]),t.filterable?(P(),K("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:z(t.nsSelect.e("input-calculator")),textContent:Ne(t.states.inputValue)},null,10,["textContent"])):he("v-if",!0)],2)),t.shouldShowPlaceholder?(P(),K("div",{key:2,class:z([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[t.hasModelValue?oe(t.$slots,"label",{key:0,label:t.currentPlaceholder,value:t.modelValue},()=>[Z("span",null,Ne(t.currentPlaceholder),1)]):(P(),K("span",{key:1},Ne(t.currentPlaceholder),1))],2)):he("v-if",!0)],2),Z("div",{ref:"suffixRef",class:z(t.nsSelect.e("suffix"))},[t.iconComponent&&!t.showClose?(P(),we(l,{key:0,class:z([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.iconReverse])},{default:te(()=>[(P(),we(zt(t.iconComponent)))]),_:1},8,["class"])):he("v-if",!0),t.showClose&&t.clearIcon?(P(),we(l,{key:1,class:z([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.nsSelect.e("clear")]),onClick:t.handleClearClick},{default:te(()=>[(P(),we(zt(t.clearIcon)))]),_:1},8,["class","onClick"])):he("v-if",!0),t.validateState&&t.validateIcon?(P(),we(l,{key:2,class:z([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:te(()=>[(P(),we(zt(t.validateIcon)))]),_:1},8,["class"])):he("v-if",!0)],2)],10,["onClick"])]}),content:te(()=>[Q(v,{ref:"menuRef"},{default:te(()=>[t.$slots.header?(P(),K("div",{key:0,class:z(t.nsSelect.be("dropdown","header")),onClick:Mt(()=>{},["stop"])},[oe(t.$slots,"header")],10,["onClick"])):he("v-if",!0),Ut(Q(p,{id:t.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":t.nsSelect.be("dropdown","wrap"),"view-class":t.nsSelect.be("dropdown","list"),class:z([t.nsSelect.is("empty",t.filteredOptionsCount===0)]),role:"listbox","aria-label":t.ariaLabel,"aria-orientation":"vertical"},{default:te(()=>[t.showNewOption?(P(),we(c,{key:0,value:t.states.inputValue,created:!0},null,8,["value"])):he("v-if",!0),Q(d,null,{default:te(()=>[oe(t.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[on,t.states.options.size>0&&!t.loading]]),t.$slots.loading&&t.loading?(P(),K("div",{key:1,class:z(t.nsSelect.be("dropdown","loading"))},[oe(t.$slots,"loading")],2)):t.loading||t.filteredOptionsCount===0?(P(),K("div",{key:2,class:z(t.nsSelect.be("dropdown","empty"))},[oe(t.$slots,"empty",{},()=>[Z("span",null,Ne(t.emptyText),1)])],2)):he("v-if",!0),t.$slots.footer?(P(),K("div",{key:3,class:z(t.nsSelect.be("dropdown","footer")),onClick:Mt(()=>{},["stop"])},[oe(t.$slots,"footer")],10,["onClick"])):he("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","append-to","onBeforeShow","onHide"])],16,["onMouseleave"])),[[g,t.handleClickOutside,t.popperRef]])}var FJ=We(OJ,[["render",DJ],["__file","select.vue"]]);const BJ=ie({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(t){const e=Fe("select"),n=W(null),i=Yt(),r=W([]);Jt(eA,Xt({...Oi(t)}));const s=L(()=>r.value.some(c=>c.visible===!0)),a=c=>{var d,p;return((d=c.type)==null?void 0:d.name)==="ElOption"&&!!((p=c.component)!=null&&p.proxy)},o=c=>{const d=Qi(c),p=[];return d.forEach(v=>{var g,y;a(v)?p.push(v.component.proxy):(g=v.children)!=null&&g.length?p.push(...o(v.children)):(y=v.component)!=null&&y.subTree&&p.push(...o(v.component.subTree))}),p},l=()=>{r.value=o(i.subTree)};return St(()=>{l()}),v2(n,l,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:s,ns:e}}});function UJ(t,e,n,i,r,s){return Ut((P(),K("ul",{ref:"groupRef",class:z(t.ns.be("group","wrap"))},[Z("li",{class:z(t.ns.be("group","title"))},Ne(t.label),3),Z("li",null,[Z("ul",{class:z(t.ns.b("group"))},[oe(t.$slots,"default")],2)])],2)),[[on,t.visible]])}var tA=We(BJ,[["render",UJ],["__file","option-group.vue"]]);const xl=Ft(FJ,{Option:e_,OptionGroup:tA}),Nh=Vn(e_),VJ=Vn(tA),t_=()=>dt(QT,{}),zJ=Ge({pageSize:{type:Number,required:!0},pageSizes:{type:_e(Array),default:()=>Un([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:ca},appendSizeTo:String}),$J=ie({name:"ElPaginationSizes"}),HJ=ie({...$J,props:zJ,emits:["page-size-change"],setup(t,{emit:e}){const n=t,{t:i}=rn(),r=Fe("pagination"),s=t_(),a=W(n.pageSize);Le(()=>n.pageSizes,(c,d)=>{if(!ir(c,d)&&Array.isArray(c)){const p=c.includes(n.pageSize)?n.pageSize:n.pageSizes[0];e("page-size-change",p)}}),Le(()=>n.pageSize,c=>{a.value=c});const o=L(()=>n.pageSizes);function l(c){var d;c!==a.value&&(a.value=c,(d=s.handleSizeChange)==null||d.call(s,Number(c)))}return(c,d)=>(P(),K("span",{class:z(f(r).e("sizes"))},[Q(f(xl),{"model-value":a.value,disabled:c.disabled,"popper-class":c.popperClass,size:c.size,teleported:c.teleported,"validate-event":!1,"append-to":c.appendSizeTo,onChange:l},{default:te(()=>[(P(!0),K(ct,null,Vt(f(o),p=>(P(),we(f(Nh),{key:p,value:p,label:p+f(i)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported","append-to"])],2))}});var GJ=We(HJ,[["__file","sizes.vue"]]);const WJ=Ge({size:{type:String,values:ca}}),KJ=ie({name:"ElPaginationJumper"}),qJ=ie({...KJ,props:WJ,setup(t){const{t:e}=rn(),n=Fe("pagination"),{pageCount:i,disabled:r,currentPage:s,changeEvent:a}=t_(),o=W(),l=L(()=>{var p;return(p=o.value)!=null?p:s==null?void 0:s.value});function c(p){o.value=p?+p:""}function d(p){p=Math.trunc(+p),a==null||a(p),o.value=void 0}return(p,v)=>(P(),K("span",{class:z(f(n).e("jump")),disabled:f(r)},[Z("span",{class:z([f(n).e("goto")])},Ne(f(e)("el.pagination.goto")),3),Q(f(tr),{size:p.size,class:z([f(n).e("editor"),f(n).is("in-pagination")]),min:1,max:f(i),disabled:f(r),"model-value":f(l),"validate-event":!1,"aria-label":f(e)("el.pagination.page"),type:"number","onUpdate:modelValue":c,onChange:d},null,8,["size","class","max","disabled","model-value","aria-label"]),Z("span",{class:z([f(n).e("classifier")])},Ne(f(e)("el.pagination.pageClassifier")),3)],10,["disabled"]))}});var YJ=We(qJ,[["__file","jumper.vue"]]);const jJ=Ge({total:{type:Number,default:1e3}}),XJ=ie({name:"ElPaginationTotal"}),ZJ=ie({...XJ,props:jJ,setup(t){const{t:e}=rn(),n=Fe("pagination"),{disabled:i}=t_();return(r,s)=>(P(),K("span",{class:z(f(n).e("total")),disabled:f(i)},Ne(f(e)("el.pagination.total",{total:r.total})),11,["disabled"]))}});var JJ=We(ZJ,[["__file","total.vue"]]);const QJ=Ge({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),eQ=ie({name:"ElPaginationPager"}),tQ=ie({...eQ,props:QJ,emits:["change"],setup(t,{emit:e}){const n=t,i=Fe("pager"),r=Fe("icon"),{t:s}=rn(),a=W(!1),o=W(!1),l=W(!1),c=W(!1),d=W(!1),p=W(!1),v=L(()=>{const x=n.pagerCount,T=(x-1)/2,k=Number(n.currentPage),I=Number(n.pageCount);let O=!1,U=!1;I>x&&(k>x-T&&(O=!0),k<I-T&&(U=!0));const R=[];if(O&&!U){const N=I-(x-2);for(let $=N;$<I;$++)R.push($)}else if(!O&&U)for(let N=2;N<x;N++)R.push(N);else if(O&&U){const N=Math.floor(x/2)-1;for(let $=k-N;$<=k+N;$++)R.push($)}else for(let N=2;N<I;N++)R.push(N);return R}),g=L(()=>["more","btn-quickprev",r.b(),i.is("disabled",n.disabled)]),y=L(()=>["more","btn-quicknext",r.b(),i.is("disabled",n.disabled)]),_=L(()=>n.disabled?-1:0);gi(()=>{const x=(n.pagerCount-1)/2;a.value=!1,o.value=!1,n.pageCount>n.pagerCount&&(n.currentPage>n.pagerCount-x&&(a.value=!0),n.currentPage<n.pageCount-x&&(o.value=!0))});function w(x=!1){n.disabled||(x?l.value=!0:c.value=!0)}function b(x=!1){x?d.value=!0:p.value=!0}function M(x){const T=x.target;if(T.tagName.toLowerCase()==="li"&&Array.from(T.classList).includes("number")){const k=Number(T.textContent);k!==n.currentPage&&e("change",k)}else T.tagName.toLowerCase()==="li"&&Array.from(T.classList).includes("more")&&E(x)}function E(x){const T=x.target;if(T.tagName.toLowerCase()==="ul"||n.disabled)return;let k=Number(T.textContent);const I=n.pageCount,O=n.currentPage,U=n.pagerCount-2;T.className.includes("more")&&(T.className.includes("quickprev")?k=O-U:T.className.includes("quicknext")&&(k=O+U)),Number.isNaN(+k)||(k<1&&(k=1),k>I&&(k=I)),k!==O&&e("change",k)}return(x,T)=>(P(),K("ul",{class:z(f(i).b()),onClick:E,onKeyup:vn(M,["enter"])},[x.pageCount>0?(P(),K("li",{key:0,class:z([[f(i).is("active",x.currentPage===1),f(i).is("disabled",x.disabled)],"number"]),"aria-current":x.currentPage===1,"aria-label":f(s)("el.pagination.currentPage",{pager:1}),tabindex:f(_)}," 1 ",10,["aria-current","aria-label","tabindex"])):he("v-if",!0),a.value?(P(),K("li",{key:1,class:z(f(g)),tabindex:f(_),"aria-label":f(s)("el.pagination.prevPages",{pager:x.pagerCount-2}),onMouseenter:k=>w(!0),onMouseleave:k=>l.value=!1,onFocus:k=>b(!0),onBlur:k=>d.value=!1},[(l.value||d.value)&&!x.disabled?(P(),we(f(mo),{key:0})):(P(),we(f(pb),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):he("v-if",!0),(P(!0),K(ct,null,Vt(f(v),k=>(P(),K("li",{key:k,class:z([[f(i).is("active",x.currentPage===k),f(i).is("disabled",x.disabled)],"number"]),"aria-current":x.currentPage===k,"aria-label":f(s)("el.pagination.currentPage",{pager:k}),tabindex:f(_)},Ne(k),11,["aria-current","aria-label","tabindex"]))),128)),o.value?(P(),K("li",{key:2,class:z(f(y)),tabindex:f(_),"aria-label":f(s)("el.pagination.nextPages",{pager:x.pagerCount-2}),onMouseenter:k=>w(),onMouseleave:k=>c.value=!1,onFocus:k=>b(),onBlur:k=>p.value=!1},[(c.value||p.value)&&!x.disabled?(P(),we(f(vo),{key:0})):(P(),we(f(pb),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):he("v-if",!0),x.pageCount>1?(P(),K("li",{key:3,class:z([[f(i).is("active",x.currentPage===x.pageCount),f(i).is("disabled",x.disabled)],"number"]),"aria-current":x.currentPage===x.pageCount,"aria-label":f(s)("el.pagination.currentPage",{pager:x.pageCount}),tabindex:f(_)},Ne(x.pageCount),11,["aria-current","aria-label","tabindex"])):he("v-if",!0)],42,["onKeyup"]))}});var nQ=We(tQ,[["__file","pager.vue"]]);const dr=t=>typeof t!="number",iQ=Ge({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:t=>Pt(t)&&Math.trunc(t)===t&&t>4&&t<22&&t%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:_e(Array),default:()=>Un([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:En,default:()=>po},nextText:{type:String,default:""},nextIcon:{type:En,default:()=>vr},teleported:{type:Boolean,default:!0},small:Boolean,size:_i,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean,appendSizeTo:String}),rQ={"update:current-page":t=>Pt(t),"update:page-size":t=>Pt(t),"size-change":t=>Pt(t),change:(t,e)=>Pt(t)&&Pt(e),"current-change":t=>Pt(t),"prev-click":t=>Pt(t),"next-click":t=>Pt(t)},Tw="ElPagination";var sQ=ie({name:Tw,props:iQ,emits:rQ,setup(t,{emit:e,slots:n}){const{t:i}=rn(),r=Fe("pagination"),s=Yt().vnode.props||{},a=aM(),o=L(()=>{var T;return t.small?"small":(T=t.size)!=null?T:a.value});oo({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},L(()=>!!t.small));const l="onUpdate:currentPage"in s||"onUpdate:current-page"in s||"onCurrentChange"in s,c="onUpdate:pageSize"in s||"onUpdate:page-size"in s||"onSizeChange"in s,d=L(()=>{if(dr(t.total)&&dr(t.pageCount)||!dr(t.currentPage)&&!l)return!1;if(t.layout.includes("sizes")){if(dr(t.pageCount)){if(!dr(t.total)&&!dr(t.pageSize)&&!c)return!1}else if(!c)return!1}return!0}),p=W(dr(t.defaultPageSize)?10:t.defaultPageSize),v=W(dr(t.defaultCurrentPage)?1:t.defaultCurrentPage),g=L({get(){return dr(t.pageSize)?p.value:t.pageSize},set(T){dr(t.pageSize)&&(p.value=T),c&&(e("update:page-size",T),e("size-change",T))}}),y=L(()=>{let T=0;return dr(t.pageCount)?dr(t.total)||(T=Math.max(1,Math.ceil(t.total/g.value))):T=t.pageCount,T}),_=L({get(){return dr(t.currentPage)?v.value:t.currentPage},set(T){let k=T;T<1?k=1:T>y.value&&(k=y.value),dr(t.currentPage)&&(v.value=k),l&&(e("update:current-page",k),e("current-change",k))}});Le(y,T=>{_.value>T&&(_.value=T)}),Le([_,g],T=>{e("change",...T)},{flush:"post"});function w(T){_.value=T}function b(T){g.value=T;const k=y.value;_.value>k&&(_.value=k)}function M(){t.disabled||(_.value-=1,e("prev-click",_.value))}function E(){t.disabled||(_.value+=1,e("next-click",_.value))}function x(T,k){T&&(T.props||(T.props={}),T.props.class=[T.props.class,k].join(" "))}return Jt(QT,{pageCount:y,disabled:L(()=>t.disabled),currentPage:_,changeEvent:w,handleSizeChange:b}),()=>{var T,k;if(!d.value)return i("el.pagination.deprecationWarning"),null;if(!t.layout||t.hideOnSinglePage&&y.value<=1)return null;const I=[],O=[],U=Ct("div",{class:r.e("rightwrapper")},O),R={prev:Ct(bJ,{disabled:t.disabled,currentPage:_.value,prevText:t.prevText,prevIcon:t.prevIcon,onClick:M}),jumper:Ct(YJ,{size:o.value}),pager:Ct(nQ,{currentPage:_.value,pageCount:y.value,pagerCount:t.pagerCount,onChange:w,disabled:t.disabled}),next:Ct(CJ,{disabled:t.disabled,currentPage:_.value,pageCount:y.value,nextText:t.nextText,nextIcon:t.nextIcon,onClick:E}),sizes:Ct(GJ,{pageSize:g.value,pageSizes:t.pageSizes,popperClass:t.popperClass,disabled:t.disabled,teleported:t.teleported,size:o.value,appendSizeTo:t.appendSizeTo}),slot:(k=(T=n==null?void 0:n.default)==null?void 0:T.call(n))!=null?k:null,total:Ct(JJ,{total:dr(t.total)?0:t.total})},N=t.layout.split(",").map(J=>J.trim());let $=!1;return N.forEach(J=>{if(J==="->"){$=!0;return}$?O.push(R[J]):I.push(R[J])}),x(I[0],r.is("first")),x(I[I.length-1],r.is("last")),$&&O.length>0&&(x(O[0],r.is("first")),x(O[O.length-1],r.is("last")),I.push(U)),Ct("div",{class:[r.b(),r.is("background",t.background),r.m(o.value)]},I)}}});const aQ=Ft(sQ),oQ=Ge({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:sg,default:"primary"},cancelButtonType:{type:String,values:sg,default:"text"},icon:{type:En,default:()=>d4},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:Li.teleported,persistent:Li.persistent,width:{type:[String,Number],default:150}}),lQ={confirm:t=>t instanceof MouseEvent,cancel:t=>t instanceof MouseEvent},uQ=ie({name:"ElPopconfirm"}),cQ=ie({...uQ,props:oQ,emits:lQ,setup(t,{emit:e}){const n=t,{t:i}=rn(),r=Fe("popconfirm"),s=W(),a=()=>{var v,g;(g=(v=s.value)==null?void 0:v.onClose)==null||g.call(v)},o=L(()=>({width:Jn(n.width)})),l=v=>{e("confirm",v),a()},c=v=>{e("cancel",v),a()},d=L(()=>n.confirmButtonText||i("el.popconfirm.confirmButtonText")),p=L(()=>n.cancelButtonText||i("el.popconfirm.cancelButtonText"));return(v,g)=>(P(),we(f(vi),Gt({ref_key:"tooltipRef",ref:s,trigger:"click",effect:"light"},v.$attrs,{"popper-class":`${f(r).namespace.value}-popover`,"popper-style":f(o),teleported:v.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":v.hideAfter,persistent:v.persistent}),{content:te(()=>[Z("div",{class:z(f(r).b())},[Z("div",{class:z(f(r).e("main"))},[!v.hideIcon&&v.icon?(P(),we(f(ft),{key:0,class:z(f(r).e("icon")),style:bt({color:v.iconColor})},{default:te(()=>[(P(),we(zt(v.icon)))]),_:1},8,["class","style"])):he("v-if",!0),pt(" "+Ne(v.title),1)],2),Z("div",{class:z(f(r).e("action"))},[oe(v.$slots,"actions",{confirm:l,cancel:c},()=>[Q(f(Ni),{size:"small",type:v.cancelButtonType==="text"?"":v.cancelButtonType,text:v.cancelButtonType==="text",onClick:c},{default:te(()=>[pt(Ne(f(p)),1)]),_:1},8,["type","text"]),Q(f(Ni),{size:"small",type:v.confirmButtonType==="text"?"":v.confirmButtonType,text:v.confirmButtonType==="text",onClick:l},{default:te(()=>[pt(Ne(f(d)),1)]),_:1},8,["type","text"])])],2)],2)]),default:te(()=>[v.$slots.reference?oe(v.$slots,"reference",{key:0}):he("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var dQ=We(cQ,[["__file","popconfirm.vue"]]);const fQ=Ft(dQ),hQ=Ge({trigger:fd.trigger,placement:lh.placement,disabled:fd.disabled,visible:Li.visible,transition:Li.transition,popperOptions:lh.popperOptions,tabindex:lh.tabindex,content:Li.content,popperStyle:Li.popperStyle,popperClass:Li.popperClass,enterable:{...Li.enterable,default:!0},effect:{...Li.effect,default:"light"},teleported:Li.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),pQ={"update:visible":t=>Gn(t),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},mQ="onUpdate:visible",vQ=ie({name:"ElPopover"}),gQ=ie({...vQ,props:hQ,emits:pQ,setup(t,{expose:e,emit:n}){const i=t,r=L(()=>i[mQ]),s=Fe("popover"),a=W(),o=L(()=>{var w;return(w=f(a))==null?void 0:w.popperRef}),l=L(()=>[{width:Jn(i.width)},i.popperStyle]),c=L(()=>[s.b(),i.popperClass,{[s.m("plain")]:!!i.content}]),d=L(()=>i.transition===`${s.namespace.value}-fade-in-linear`),p=()=>{var w;(w=a.value)==null||w.hide()},v=()=>{n("before-enter")},g=()=>{n("before-leave")},y=()=>{n("after-enter")},_=()=>{n("update:visible",!1),n("after-leave")};return e({popperRef:o,hide:p}),(w,b)=>(P(),we(f(vi),Gt({ref_key:"tooltipRef",ref:a},w.$attrs,{trigger:w.trigger,placement:w.placement,disabled:w.disabled,visible:w.visible,transition:w.transition,"popper-options":w.popperOptions,tabindex:w.tabindex,content:w.content,offset:w.offset,"show-after":w.showAfter,"hide-after":w.hideAfter,"auto-close":w.autoClose,"show-arrow":w.showArrow,"aria-label":w.title,effect:w.effect,enterable:w.enterable,"popper-class":f(c),"popper-style":f(l),teleported:w.teleported,persistent:w.persistent,"gpu-acceleration":f(d),"onUpdate:visible":f(r),onBeforeShow:v,onBeforeHide:g,onShow:y,onHide:_}),{content:te(()=>[w.title?(P(),K("div",{key:0,class:z(f(s).e("title")),role:"title"},Ne(w.title),3)):he("v-if",!0),oe(w.$slots,"default",{},()=>[pt(Ne(w.content),1)])]),default:te(()=>[w.$slots.reference?oe(w.$slots,"reference",{key:0}):he("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var yQ=We(gQ,[["__file","popover.vue"]]);const Aw=(t,e)=>{const n=e.arg||e.value,i=n==null?void 0:n.popperRef;i&&(i.triggerRef=t)};var _Q={mounted(t,e){Aw(t,e)},updated(t,e){Aw(t,e)}};const bQ="popover",nA=bz(_Q,bQ),wQ=Ft(yQ,{directive:nA}),SQ=Ge({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:_e(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:_e([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:_e(Function),default:t=>`${t}%`}}),EQ=ie({name:"ElProgress"}),CQ=ie({...EQ,props:SQ,setup(t){const e=t,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},i=Fe("progress"),r=L(()=>{const E={width:`${e.percentage}%`,animationDuration:`${e.duration}s`},x=M(e.percentage);return x.includes("gradient")?E.background=x:E.backgroundColor=x,E}),s=L(()=>(e.strokeWidth/e.width*100).toFixed(1)),a=L(()=>["circle","dashboard"].includes(e.type)?Number.parseInt(`${50-Number.parseFloat(s.value)/2}`,10):0),o=L(()=>{const E=a.value,x=e.type==="dashboard";return`
          M 50 50
          m 0 ${x?"":"-"}${E}
          a ${E} ${E} 0 1 1 0 ${x?"-":""}${E*2}
          a ${E} ${E} 0 1 1 0 ${x?"":"-"}${E*2}
          `}),l=L(()=>2*Math.PI*a.value),c=L(()=>e.type==="dashboard"?.75:1),d=L(()=>`${-1*l.value*(1-c.value)/2}px`),p=L(()=>({strokeDasharray:`${l.value*c.value}px, ${l.value}px`,strokeDashoffset:d.value})),v=L(()=>({strokeDasharray:`${l.value*c.value*(e.percentage/100)}px, ${l.value}px`,strokeDashoffset:d.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),g=L(()=>{let E;return e.color?E=M(e.percentage):E=n[e.status]||n.default,E}),y=L(()=>e.status==="warning"?cp:e.type==="line"?e.status==="success"?D0:To:e.status==="success"?Ad:Bs),_=L(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),w=L(()=>e.format(e.percentage));function b(E){const x=100/E.length;return E.map((k,I)=>Wt(k)?{color:k,percentage:(I+1)*x}:k).sort((k,I)=>k.percentage-I.percentage)}const M=E=>{var x;const{color:T}=e;if(cn(T))return T(E);if(Wt(T))return T;{const k=b(T);for(const I of k)if(I.percentage>E)return I.color;return(x=k[k.length-1])==null?void 0:x.color}};return(E,x)=>(P(),K("div",{class:z([f(i).b(),f(i).m(E.type),f(i).is(E.status),{[f(i).m("without-text")]:!E.showText,[f(i).m("text-inside")]:E.textInside}]),role:"progressbar","aria-valuenow":E.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[E.type==="line"?(P(),K("div",{key:0,class:z(f(i).b("bar"))},[Z("div",{class:z(f(i).be("bar","outer")),style:bt({height:`${E.strokeWidth}px`})},[Z("div",{class:z([f(i).be("bar","inner"),{[f(i).bem("bar","inner","indeterminate")]:E.indeterminate},{[f(i).bem("bar","inner","striped")]:E.striped},{[f(i).bem("bar","inner","striped-flow")]:E.stripedFlow}]),style:bt(f(r))},[(E.showText||E.$slots.default)&&E.textInside?(P(),K("div",{key:0,class:z(f(i).be("bar","innerText"))},[oe(E.$slots,"default",{percentage:E.percentage},()=>[Z("span",null,Ne(f(w)),1)])],2)):he("v-if",!0)],6)],6)],2)):(P(),K("div",{key:1,class:z(f(i).b("circle")),style:bt({height:`${E.width}px`,width:`${E.width}px`})},[(P(),K("svg",{viewBox:"0 0 100 100"},[Z("path",{class:z(f(i).be("circle","track")),d:f(o),stroke:`var(${f(i).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":E.strokeLinecap,"stroke-width":f(s),fill:"none",style:bt(f(p))},null,14,["d","stroke","stroke-linecap","stroke-width"]),Z("path",{class:z(f(i).be("circle","path")),d:f(o),stroke:f(g),fill:"none",opacity:E.percentage?1:0,"stroke-linecap":E.strokeLinecap,"stroke-width":f(s),style:bt(f(v))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(E.showText||E.$slots.default)&&!E.textInside?(P(),K("div",{key:2,class:z(f(i).e("text")),style:bt({fontSize:`${f(_)}px`})},[oe(E.$slots,"default",{percentage:E.percentage},()=>[E.status?(P(),we(f(ft),{key:1},{default:te(()=>[(P(),we(zt(f(y))))]),_:1})):(P(),K("span",{key:0},Ne(f(w)),1))])],6)):he("v-if",!0)],10,["aria-valuenow"]))}});var xQ=We(CQ,[["__file","progress.vue"]]);const iA=Ft(xQ),MQ=Ge({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:_e([Array,Object]),default:()=>Un(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:_e([Array,Object]),default:()=>[rf,rf,rf]},voidIcon:{type:En,default:()=>A4},disabledVoidIcon:{type:En,default:()=>rf},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:_e(Array),default:()=>Un(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:_i,clearable:Boolean,...$i(["ariaLabel"])}),TQ={[Nn]:t=>Pt(t),[Kt]:t=>Pt(t)},AQ=ie({name:"ElRate"}),kQ=ie({...AQ,props:MQ,emits:TQ,setup(t,{expose:e,emit:n}){const i=t;function r(B,X){const q=ee=>Sn(ee),D=Object.keys(X).map(ee=>+ee).filter(ee=>{const ce=X[ee];return(q(ce)?ce.excluded:!1)?B<ee:B<=ee}).sort((ee,ce)=>ee-ce),V=X[D[0]];return q(V)&&V.value||V}const s=dt(Nl,void 0),a=dt(la,void 0),o=pi(),l=Fe("rate"),{inputId:c,isLabeledByFormItem:d}=Gs(i,{formItemContext:a}),p=W(i.modelValue),v=W(-1),g=W(!0),y=L(()=>[l.b(),l.m(o.value)]),_=L(()=>i.disabled||(s==null?void 0:s.disabled)),w=L(()=>l.cssVarBlock({"void-color":i.voidColor,"disabled-void-color":i.disabledVoidColor,"fill-color":x.value})),b=L(()=>{let B="";return i.showScore?B=i.scoreTemplate.replace(/\{\s*value\s*\}/,_.value?`${i.modelValue}`:`${p.value}`):i.showText&&(B=i.texts[Math.ceil(p.value)-1]),B}),M=L(()=>i.modelValue*100-Math.floor(i.modelValue)*100),E=L(()=>Ot(i.colors)?{[i.lowThreshold]:i.colors[0],[i.highThreshold]:{value:i.colors[1],excluded:!0},[i.max]:i.colors[2]}:i.colors),x=L(()=>{const B=r(p.value,E.value);return Sn(B)?"":B}),T=L(()=>{let B="";return _.value?B=`${M.value}%`:i.allowHalf&&(B="50%"),{color:x.value,width:B}}),k=L(()=>{let B=Ot(i.icons)?[...i.icons]:{...i.icons};return B=ol(B),Ot(B)?{[i.lowThreshold]:B[0],[i.highThreshold]:{value:B[1],excluded:!0},[i.max]:B[2]}:B}),I=L(()=>r(i.modelValue,k.value)),O=L(()=>_.value?Wt(i.disabledVoidIcon)?i.disabledVoidIcon:ol(i.disabledVoidIcon):Wt(i.voidIcon)?i.voidIcon:ol(i.voidIcon)),U=L(()=>r(p.value,k.value));function R(B){const X=_.value&&M.value>0&&B-1<i.modelValue&&B>i.modelValue,q=i.allowHalf&&g.value&&B-.5<=p.value&&B>p.value;return X||q}function N(B){i.clearable&&B===i.modelValue&&(B=0),n(Kt,B),i.modelValue!==B&&n("change",B)}function $(B){_.value||(i.allowHalf&&g.value?N(p.value):N(B))}function J(B){if(_.value)return;let X=p.value;const q=B.code;return q===Et.up||q===Et.right?(i.allowHalf?X+=.5:X+=1,B.stopPropagation(),B.preventDefault()):(q===Et.left||q===Et.down)&&(i.allowHalf?X-=.5:X-=1,B.stopPropagation(),B.preventDefault()),X=X<0?0:X,X=X>i.max?i.max:X,n(Kt,X),n("change",X),X}function Y(B,X){if(!_.value){if(i.allowHalf&&X){let q=X.target;kr(q,l.e("item"))&&(q=q.querySelector(`.${l.e("icon")}`)),(q.clientWidth===0||kr(q,l.e("decimal")))&&(q=q.parentNode),g.value=X.offsetX*2<=q.clientWidth,p.value=g.value?B-.5:B}else p.value=B;v.value=B}}function H(){_.value||(i.allowHalf&&(g.value=i.modelValue!==Math.floor(i.modelValue)),p.value=i.modelValue,v.value=-1)}return Le(()=>i.modelValue,B=>{p.value=B,g.value=i.modelValue!==Math.floor(i.modelValue)}),i.modelValue||n(Kt,0),e({setCurrentValue:Y,resetCurrentValue:H}),(B,X)=>{var q;return P(),K("div",{id:f(c),class:z([f(y),f(l).is("disabled",f(_))]),role:"slider","aria-label":f(d)?void 0:B.ariaLabel||"rating","aria-labelledby":f(d)?(q=f(a))==null?void 0:q.labelId:void 0,"aria-valuenow":p.value,"aria-valuetext":f(b)||void 0,"aria-valuemin":"0","aria-valuemax":B.max,tabindex:"0",style:bt(f(w)),onKeydown:J},[(P(!0),K(ct,null,Vt(B.max,(D,V)=>(P(),K("span",{key:V,class:z(f(l).e("item")),onMousemove:ee=>Y(D,ee),onMouseleave:H,onClick:ee=>$(D)},[Q(f(ft),{class:z([f(l).e("icon"),{hover:v.value===D},f(l).is("active",D<=p.value)])},{default:te(()=>[R(D)?he("v-if",!0):(P(),K(ct,{key:0},[Ut((P(),we(zt(f(U)),null,null,512)),[[on,D<=p.value]]),Ut((P(),we(zt(f(O)),null,null,512)),[[on,!(D<=p.value)]])],64)),R(D)?(P(),K(ct,{key:1},[(P(),we(zt(f(O)),{class:z([f(l).em("decimal","box")])},null,8,["class"])),Q(f(ft),{style:bt(f(T)),class:z([f(l).e("icon"),f(l).e("decimal")])},{default:te(()=>[(P(),we(zt(f(I))))]),_:1},8,["style","class"])],64)):he("v-if",!0)]),_:2},1032,["class"])],42,["onMousemove","onClick"]))),128)),B.showText||B.showScore?(P(),K("span",{key:0,class:z(f(l).e("text")),style:bt({color:B.textColor})},Ne(f(b)),7)):he("v-if",!0)],46,["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"])}}});var PQ=We(kQ,[["__file","rate.vue"]]);const RQ=Ft(PQ),vu={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},kw={[vu.success]:ND,[vu.warning]:cp,[vu.error]:F0,[vu.info]:B0},IQ=Ge({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),LQ=ie({name:"ElResult"}),NQ=ie({...LQ,props:IQ,setup(t){const e=t,n=Fe("result"),i=L(()=>{const r=e.icon,s=r&&vu[r]?vu[r]:"icon-info",a=kw[s]||kw["icon-info"];return{class:s,component:a}});return(r,s)=>(P(),K("div",{class:z(f(n).b())},[Z("div",{class:z(f(n).e("icon"))},[oe(r.$slots,"icon",{},()=>[f(i).component?(P(),we(zt(f(i).component),{key:0,class:z(f(i).class)},null,8,["class"])):he("v-if",!0)])],2),r.title||r.$slots.title?(P(),K("div",{key:0,class:z(f(n).e("title"))},[oe(r.$slots,"title",{},()=>[Z("p",null,Ne(r.title),1)])],2)):he("v-if",!0),r.subTitle||r.$slots["sub-title"]?(P(),K("div",{key:1,class:z(f(n).e("subtitle"))},[oe(r.$slots,"sub-title",{},()=>[Z("p",null,Ne(r.subTitle),1)])],2)):he("v-if",!0),r.$slots.extra?(P(),K("div",{key:2,class:z(f(n).e("extra"))},[oe(r.$slots,"extra")],2)):he("v-if",!0)],2))}});var OQ=We(NQ,[["__file","result.vue"]]);const DQ=Ft(OQ);var Pw=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function FQ(t,e){return!!(t===e||Pw(t)&&Pw(e))}function BQ(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!FQ(t[n],e[n]))return!1;return!0}function UQ(t,e){e===void 0&&(e=BQ);var n=null;function i(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(n&&n.lastThis===this&&e(r,n.lastArgs))return n.lastResult;var a=t.apply(this,r);return n={lastResult:a,lastArgs:r,lastThis:this},a}return i.clear=function(){n=null},i}const rA=()=>{const e=Yt().proxy.$props;return L(()=>{const n=(i,r,s)=>({});return e.perfMode?mp(n):UQ(n)})},Ag=50,Oh="itemRendered",Dh="scroll",gu="forward",Fh="backward",cs="auto",Ip="smart",vd="start",ea="center",gd="end",Wu="horizontal",n_="vertical",VQ="ltr",xu="rtl",yd="negative",i_="positive-ascending",r_="positive-descending",zQ={[Wu]:"left",[n_]:"top"},$Q=20,HQ={[Wu]:"deltaX",[n_]:"deltaY"},GQ=({atEndEdge:t,atStartEdge:e,layout:n},i)=>{let r,s=0;const a=l=>l<0&&e.value||l>0&&t.value;return{hasReachedEdge:a,onWheel:l=>{wl(r);const c=l[HQ[n.value]];a(s)&&a(s+c)||(s+=c,z0()||l.preventDefault(),r=yo(()=>{i(s),s=0}))}}},kg=$s({type:_e([Number,Function]),required:!0}),Pg=$s({type:Number}),Rg=$s({type:Number,default:2}),WQ=$s({type:String,values:["ltr","rtl"],default:"ltr"}),Ig=$s({type:Number,default:0}),Bh=$s({type:Number,required:!0}),sA=$s({type:String,values:["horizontal","vertical"],default:n_}),aA=Ge({className:{type:String,default:""},containerElement:{type:_e([String,Object]),default:"div"},data:{type:_e(Array),default:()=>Un([])},direction:WQ,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:_e([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),oA=Ge({cache:Rg,estimatedItemSize:Pg,layout:sA,initScrollOffset:Ig,total:Bh,itemSize:kg,...aA}),Lg={type:Number,default:6},lA={type:Number,default:0},uA={type:Number,default:2},dl=Ge({columnCache:Rg,columnWidth:kg,estimatedColumnWidth:Pg,estimatedRowHeight:Pg,initScrollLeft:Ig,initScrollTop:Ig,itemKey:{type:_e(Function),default:({columnIndex:t,rowIndex:e})=>`${e}:${t}`},rowCache:Rg,rowHeight:kg,totalColumn:Bh,totalRow:Bh,hScrollbarSize:Lg,vScrollbarSize:Lg,scrollbarStartGap:lA,scrollbarEndGap:uA,role:String,...aA}),cA=Ge({alwaysOn:Boolean,class:String,layout:sA,total:Bh,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:Lg,startGap:lA,endGap:uA,visible:Boolean}),tl=(t,e)=>t<e?gu:Fh,_d=t=>t===VQ||t===xu||t===Wu,Rw=t=>t===xu;let Wl=null;function Uh(t=!1){if(Wl===null||t){const e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const i=document.createElement("div"),r=i.style;return r.width="100px",r.height="100px",e.appendChild(i),document.body.appendChild(e),e.scrollLeft>0?Wl=r_:(e.scrollLeft=1,e.scrollLeft===0?Wl=yd:Wl=i_),document.body.removeChild(e),Wl}return Wl}function KQ({move:t,size:e,bar:n},i){const r={},s=`translate${n.axis}(${t}px)`;return r[n.size]=e,r.transform=s,r.msTransform=s,r.webkitTransform=s,i==="horizontal"?r.height="100%":r.width="100%",r}const Ng=ie({name:"ElVirtualScrollBar",props:cA,emits:["scroll","start-move","stop-move"],setup(t,{emit:e}){const n=L(()=>t.startGap+t.endGap),i=Fe("virtual-scrollbar"),r=Fe("scrollbar"),s=W(),a=W();let o=null,l=null;const c=Xt({isDragging:!1,traveled:0}),d=L(()=>fM[t.layout]),p=L(()=>t.clientSize-f(n)),v=L(()=>({position:"absolute",width:`${Wu===t.layout?p.value:t.scrollbarSize}px`,height:`${Wu===t.layout?t.scrollbarSize:p.value}px`,[zQ[t.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),g=L(()=>{const k=t.ratio,I=t.clientSize;if(k>=100)return Number.POSITIVE_INFINITY;if(k>=50)return k*I/100;const O=I/3;return Math.floor(Math.min(Math.max(k*I,$Q),O))}),y=L(()=>{if(!Number.isFinite(g.value))return{display:"none"};const k=`${g.value}px`;return KQ({bar:d.value,size:k,move:c.traveled},t.layout)}),_=L(()=>Math.floor(t.clientSize-g.value-f(n))),w=()=>{window.addEventListener("mousemove",x),window.addEventListener("mouseup",E);const k=f(a);k&&(l=document.onselectstart,document.onselectstart=()=>!1,k.addEventListener("touchmove",x,{passive:!0}),k.addEventListener("touchend",E))},b=()=>{window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",E),document.onselectstart=l,l=null;const k=f(a);k&&(k.removeEventListener("touchmove",x),k.removeEventListener("touchend",E))},M=k=>{k.stopImmediatePropagation(),!(k.ctrlKey||[1,2].includes(k.button))&&(c.isDragging=!0,c[d.value.axis]=k.currentTarget[d.value.offset]-(k[d.value.client]-k.currentTarget.getBoundingClientRect()[d.value.direction]),e("start-move"),w())},E=()=>{c.isDragging=!1,c[d.value.axis]=0,e("stop-move"),b()},x=k=>{const{isDragging:I}=c;if(!I||!a.value||!s.value)return;const O=c[d.value.axis];if(!O)return;wl(o);const U=(s.value.getBoundingClientRect()[d.value.direction]-k[d.value.client])*-1,R=a.value[d.value.offset]-O,N=U-R;o=yo(()=>{c.traveled=Math.max(t.startGap,Math.min(N,_.value)),e("scroll",N,_.value)})},T=k=>{const I=Math.abs(k.target.getBoundingClientRect()[d.value.direction]-k[d.value.client]),O=a.value[d.value.offset]/2,U=I-O;c.traveled=Math.max(0,Math.min(U,_.value)),e("scroll",U,_.value)};return Le(()=>t.scrollFrom,k=>{c.isDragging||(c.traveled=Math.ceil(k*_.value))}),Tn(()=>{b()}),()=>Ct("div",{role:"presentation",ref:s,class:[i.b(),t.class,(t.alwaysOn||c.isDragging)&&"always-on"],style:v.value,onMousedown:Mt(T,["stop","prevent"]),onTouchstartPrevent:M},Ct("div",{ref:a,class:r.e("thumb"),style:y.value,onMousedown:M},[]))}}),dA=({name:t,getOffset:e,getItemSize:n,getItemOffset:i,getEstimatedTotalSize:r,getStartIndexForOffset:s,getStopIndexForStartIndex:a,initCache:o,clearCache:l,validateProps:c})=>ie({name:t??"ElVirtualList",props:oA,emits:[Oh,Dh],setup(d,{emit:p,expose:v}){c(d);const g=Yt(),y=Fe("vl"),_=W(o(d,g)),w=rA(),b=W(),M=W(),E=W(),x=W({isScrolling:!1,scrollDir:"forward",scrollOffset:Pt(d.initScrollOffset)?d.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:d.scrollbarAlwaysOn}),T=L(()=>{const{total:ae,cache:le}=d,{isScrolling:ye,scrollDir:Ee,scrollOffset:pe}=f(x);if(ae===0)return[0,0,0,0];const ue=s(d,pe,f(_)),Me=a(d,ue,pe,f(_)),De=!ye||Ee===Fh?Math.max(1,le):1,xe=!ye||Ee===gu?Math.max(1,le):1;return[Math.max(0,ue-De),Math.max(0,Math.min(ae-1,Me+xe)),ue,Me]}),k=L(()=>r(d,f(_))),I=L(()=>_d(d.layout)),O=L(()=>[{position:"relative",[`overflow-${I.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:d.direction,height:Pt(d.height)?`${d.height}px`:d.height,width:Pt(d.width)?`${d.width}px`:d.width},d.style]),U=L(()=>{const ae=f(k),le=f(I);return{height:le?"100%":`${ae}px`,pointerEvents:f(x).isScrolling?"none":void 0,width:le?`${ae}px`:"100%"}}),R=L(()=>I.value?d.width:d.height),{onWheel:N}=GQ({atStartEdge:L(()=>x.value.scrollOffset<=0),atEndEdge:L(()=>x.value.scrollOffset>=k.value),layout:L(()=>d.layout)},ae=>{var le,ye;(ye=(le=E.value).onMouseUp)==null||ye.call(le),X(Math.min(x.value.scrollOffset+ae,k.value-R.value))});bn(b,"wheel",N,{passive:!1});const $=()=>{const{total:ae}=d;if(ae>0){const[pe,ue,Me,De]=f(T);p(Oh,pe,ue,Me,De)}const{scrollDir:le,scrollOffset:ye,updateRequested:Ee}=f(x);p(Dh,le,ye,Ee)},J=ae=>{const{clientHeight:le,scrollHeight:ye,scrollTop:Ee}=ae.currentTarget,pe=f(x);if(pe.scrollOffset===Ee)return;const ue=Math.max(0,Math.min(Ee,ye-le));x.value={...pe,isScrolling:!0,scrollDir:tl(pe.scrollOffset,ue),scrollOffset:ue,updateRequested:!1},_t(V)},Y=ae=>{const{clientWidth:le,scrollLeft:ye,scrollWidth:Ee}=ae.currentTarget,pe=f(x);if(pe.scrollOffset===ye)return;const{direction:ue}=d;let Me=ye;if(ue===xu)switch(Uh()){case yd:{Me=-ye;break}case r_:{Me=Ee-le-ye;break}}Me=Math.max(0,Math.min(Me,Ee-le)),x.value={...pe,isScrolling:!0,scrollDir:tl(pe.scrollOffset,Me),scrollOffset:Me,updateRequested:!1},_t(V)},H=ae=>{f(I)?Y(ae):J(ae),$()},B=(ae,le)=>{const ye=(k.value-R.value)/le*ae;X(Math.min(k.value-R.value,ye))},X=ae=>{ae=Math.max(ae,0),ae!==f(x).scrollOffset&&(x.value={...f(x),scrollOffset:ae,scrollDir:tl(f(x).scrollOffset,ae),updateRequested:!0},_t(V))},q=(ae,le=cs)=>{const{scrollOffset:ye}=f(x);ae=Math.max(0,Math.min(ae,d.total-1)),X(e(d,ae,le,ye,f(_)))},D=ae=>{const{direction:le,itemSize:ye,layout:Ee}=d,pe=w.value(l&&ye,l&&Ee,l&&le);let ue;if(qi(pe,String(ae)))ue=pe[ae];else{const Me=i(d,ae,f(_)),De=n(d,ae,f(_)),xe=f(I),G=le===xu,He=xe?Me:0;pe[ae]=ue={position:"absolute",left:G?void 0:`${He}px`,right:G?`${He}px`:void 0,top:xe?0:`${Me}px`,height:xe?"100%":`${De}px`,width:xe?`${De}px`:"100%"}}return ue},V=()=>{x.value.isScrolling=!1,_t(()=>{w.value(-1,null,null)})},ee=()=>{const ae=b.value;ae&&(ae.scrollTop=0)};St(()=>{if(!nn)return;const{initScrollOffset:ae}=d,le=f(b);Pt(ae)&&le&&(f(I)?le.scrollLeft=ae:le.scrollTop=ae),$()}),Mo(()=>{const{direction:ae,layout:le}=d,{scrollOffset:ye,updateRequested:Ee}=f(x),pe=f(b);if(Ee&&pe)if(le===Wu)if(ae===xu)switch(Uh()){case yd:{pe.scrollLeft=-ye;break}case i_:{pe.scrollLeft=ye;break}default:{const{clientWidth:ue,scrollWidth:Me}=pe;pe.scrollLeft=Me-ue-ye;break}}else pe.scrollLeft=ye;else pe.scrollTop=ye}),zC(()=>{f(b).scrollTop=f(x).scrollOffset});const ce={ns:y,clientSize:R,estimatedTotalSize:k,windowStyle:O,windowRef:b,innerRef:M,innerStyle:U,itemsToRender:T,scrollbarRef:E,states:x,getItemStyle:D,onScroll:H,onScrollbarScroll:B,onWheel:N,scrollTo:X,scrollToItem:q,resetScrollTop:ee};return v({windowRef:b,innerRef:M,getItemStyleCache:w,scrollTo:X,scrollToItem:q,resetScrollTop:ee,states:x}),ce},render(d){var p;const{$slots:v,className:g,clientSize:y,containerElement:_,data:w,getItemStyle:b,innerElement:M,itemsToRender:E,innerStyle:x,layout:T,total:k,onScroll:I,onScrollbarScroll:O,states:U,useIsScrolling:R,windowStyle:N,ns:$}=d,[J,Y]=E,H=zt(_),B=zt(M),X=[];if(k>0)for(let ee=J;ee<=Y;ee++)X.push(Ct(ct,{key:ee},(p=v.default)==null?void 0:p.call(v,{data:w,index:ee,isScrolling:R?U.isScrolling:void 0,style:b(ee)})));const q=[Ct(B,{style:x,ref:"innerRef"},Wt(B)?X:{default:()=>X})],D=Ct(Ng,{ref:"scrollbarRef",clientSize:y,layout:T,onScroll:O,ratio:y*100/this.estimatedTotalSize,scrollFrom:U.scrollOffset/(this.estimatedTotalSize-y),total:k}),V=Ct(H,{class:[$.e("window"),g],style:N,onScroll:I,ref:"windowRef",key:0},Wt(H)?[q]:{default:()=>[q]});return Ct("div",{key:0,class:[$.e("wrapper"),U.scrollbarAlwaysOn?"always-on":""]},[V,D])}}),fA=dA({name:"ElFixedSizeList",getItemOffset:({itemSize:t},e)=>e*t,getItemSize:({itemSize:t})=>t,getEstimatedTotalSize:({total:t,itemSize:e})=>e*t,getOffset:({height:t,total:e,itemSize:n,layout:i,width:r},s,a,o)=>{const l=_d(i)?r:t,c=Math.max(0,e*n-l),d=Math.min(c,s*n),p=Math.max(0,(s+1)*n-l);switch(a===Ip&&(o>=p-l&&o<=d+l?a=cs:a=ea),a){case vd:return d;case gd:return p;case ea:{const v=Math.round(p+(d-p)/2);return v<Math.ceil(l/2)?0:v>c+Math.floor(l/2)?c:v}case cs:default:return o>=p&&o<=d?o:o<p?p:d}},getStartIndexForOffset:({total:t,itemSize:e},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getStopIndexForStartIndex:({height:t,total:e,itemSize:n,layout:i,width:r},s,a)=>{const o=s*n,l=_d(i)?r:t,c=Math.ceil((l+a-o)/n);return Math.max(0,Math.min(e-1,s+c-1))},initCache(){},clearCache:!0,validateProps(){}}),yu=(t,e,n)=>{const{itemSize:i}=t,{items:r,lastVisitedIndex:s}=n;if(e>s){let a=0;if(s>=0){const o=r[s];a=o.offset+o.size}for(let o=s+1;o<=e;o++){const l=i(o);r[o]={offset:a,size:l},a+=l}n.lastVisitedIndex=e}return r[e]},qQ=(t,e,n)=>{const{items:i,lastVisitedIndex:r}=e;return(r>0?i[r].offset:0)>=n?hA(t,e,0,r,n):YQ(t,e,Math.max(0,r),n)},hA=(t,e,n,i,r)=>{for(;n<=i;){const s=n+Math.floor((i-n)/2),a=yu(t,s,e).offset;if(a===r)return s;a<r?n=s+1:a>r&&(i=s-1)}return Math.max(0,n-1)},YQ=(t,e,n,i)=>{const{total:r}=t;let s=1;for(;n<r&&yu(t,n,e).offset<i;)n+=s,s*=2;return hA(t,e,Math.floor(n/2),Math.min(n,r-1),i)},Iw=({total:t},{items:e,estimatedItemSize:n,lastVisitedIndex:i})=>{let r=0;if(i>=t&&(i=t-1),i>=0){const o=e[i];r=o.offset+o.size}const a=(t-i-1)*n;return r+a},jQ=dA({name:"ElDynamicSizeList",getItemOffset:(t,e,n)=>yu(t,e,n).offset,getItemSize:(t,e,{items:n})=>n[e].size,getEstimatedTotalSize:Iw,getOffset:(t,e,n,i,r)=>{const{height:s,layout:a,width:o}=t,l=_d(a)?o:s,c=yu(t,e,r),d=Iw(t,r),p=Math.max(0,Math.min(d-l,c.offset)),v=Math.max(0,c.offset-l+c.size);switch(n===Ip&&(i>=v-l&&i<=p+l?n=cs:n=ea),n){case vd:return p;case gd:return v;case ea:return Math.round(v+(p-v)/2);case cs:default:return i>=v&&i<=p?i:i<v?v:p}},getStartIndexForOffset:(t,e,n)=>qQ(t,n,e),getStopIndexForStartIndex:(t,e,n,i)=>{const{height:r,total:s,layout:a,width:o}=t,l=_d(a)?o:r,c=yu(t,e,i),d=n+l;let p=c.offset+c.size,v=e;for(;v<s-1&&p<d;)v++,p+=yu(t,v,i).size;return v},initCache({estimatedItemSize:t=Ag},e){const n={items:{},estimatedItemSize:t,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(i,r=!0)=>{var s,a;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,i-1),(s=e.exposed)==null||s.getItemStyleCache(-1),r&&((a=e.proxy)==null||a.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:t})=>{}}),XQ=({atXEndEdge:t,atXStartEdge:e,atYEndEdge:n,atYStartEdge:i},r)=>{let s=null,a=0,o=0;const l=(d,p)=>{const v=d<=0&&e.value||d>=0&&t.value,g=p<=0&&i.value||p>=0&&n.value;return v&&g};return{hasReachedEdge:l,onWheel:d=>{wl(s);let p=d.deltaX,v=d.deltaY;Math.abs(p)>Math.abs(v)?v=0:p=0,d.shiftKey&&v!==0&&(p=v,v=0),!(l(a,o)&&l(a+p,o+v))&&(a+=p,o+=v,d.preventDefault(),s=yo(()=>{r(a,o),a=0,o=0}))}}},pA=({name:t,clearCache:e,getColumnPosition:n,getColumnStartIndexForOffset:i,getColumnStopIndexForStartIndex:r,getEstimatedTotalHeight:s,getEstimatedTotalWidth:a,getColumnOffset:o,getRowOffset:l,getRowPosition:c,getRowStartIndexForOffset:d,getRowStopIndexForStartIndex:p,initCache:v,injectToInstance:g,validateProps:y})=>ie({name:t??"ElVirtualList",props:dl,emits:[Oh,Dh],setup(_,{emit:w,expose:b,slots:M}){const E=Fe("vl");y(_);const x=Yt(),T=W(v(_,x));g==null||g(x,T);const k=W(),I=W(),O=W(),U=W(null),R=W({isScrolling:!1,scrollLeft:Pt(_.initScrollLeft)?_.initScrollLeft:0,scrollTop:Pt(_.initScrollTop)?_.initScrollTop:0,updateRequested:!1,xAxisScrollDir:gu,yAxisScrollDir:gu}),N=rA(),$=L(()=>Number.parseInt(`${_.height}`,10)),J=L(()=>Number.parseInt(`${_.width}`,10)),Y=L(()=>{const{totalColumn:it,totalRow:qe,columnCache:ne}=_,{isScrolling:se,xAxisScrollDir:ke,scrollLeft:Be}=f(R);if(it===0||qe===0)return[0,0,0,0];const Ve=i(_,Be,f(T)),Ae=r(_,Ve,Be,f(T)),Re=!se||ke===Fh?Math.max(1,ne):1,Xe=!se||ke===gu?Math.max(1,ne):1;return[Math.max(0,Ve-Re),Math.max(0,Math.min(it-1,Ae+Xe)),Ve,Ae]}),H=L(()=>{const{totalColumn:it,totalRow:qe,rowCache:ne}=_,{isScrolling:se,yAxisScrollDir:ke,scrollTop:Be}=f(R);if(it===0||qe===0)return[0,0,0,0];const Ve=d(_,Be,f(T)),Ae=p(_,Ve,Be,f(T)),Re=!se||ke===Fh?Math.max(1,ne):1,Xe=!se||ke===gu?Math.max(1,ne):1;return[Math.max(0,Ve-Re),Math.max(0,Math.min(qe-1,Ae+Xe)),Ve,Ae]}),B=L(()=>s(_,f(T))),X=L(()=>a(_,f(T))),q=L(()=>{var it;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:_.direction,height:Pt(_.height)?`${_.height}px`:_.height,width:Pt(_.width)?`${_.width}px`:_.width},(it=_.style)!=null?it:{}]}),D=L(()=>{const it=`${f(X)}px`;return{height:`${f(B)}px`,pointerEvents:f(R).isScrolling?"none":void 0,width:it}}),V=()=>{const{totalColumn:it,totalRow:qe}=_;if(it>0&&qe>0){const[Ae,Re,Xe,gt]=f(Y),[nt,Lt,Ye,xt]=f(H);w(Oh,{columnCacheStart:Ae,columnCacheEnd:Re,rowCacheStart:nt,rowCacheEnd:Lt,columnVisibleStart:Xe,columnVisibleEnd:gt,rowVisibleStart:Ye,rowVisibleEnd:xt})}const{scrollLeft:ne,scrollTop:se,updateRequested:ke,xAxisScrollDir:Be,yAxisScrollDir:Ve}=f(R);w(Dh,{xAxisScrollDir:Be,scrollLeft:ne,yAxisScrollDir:Ve,scrollTop:se,updateRequested:ke})},ee=it=>{const{clientHeight:qe,clientWidth:ne,scrollHeight:se,scrollLeft:ke,scrollTop:Be,scrollWidth:Ve}=it.currentTarget,Ae=f(R);if(Ae.scrollTop===Be&&Ae.scrollLeft===ke)return;let Re=ke;if(Rw(_.direction))switch(Uh()){case yd:Re=-ke;break;case r_:Re=Ve-ne-ke;break}R.value={...Ae,isScrolling:!0,scrollLeft:Re,scrollTop:Math.max(0,Math.min(Be,se-qe)),updateRequested:!0,xAxisScrollDir:tl(Ae.scrollLeft,Re),yAxisScrollDir:tl(Ae.scrollTop,Be)},_t(()=>ue()),Me(),V()},ce=(it,qe)=>{const ne=f($),se=(B.value-ne)/qe*it;ye({scrollTop:Math.min(B.value-ne,se)})},ae=(it,qe)=>{const ne=f(J),se=(X.value-ne)/qe*it;ye({scrollLeft:Math.min(X.value-ne,se)})},{onWheel:le}=XQ({atXStartEdge:L(()=>R.value.scrollLeft<=0),atXEndEdge:L(()=>R.value.scrollLeft>=X.value-f(J)),atYStartEdge:L(()=>R.value.scrollTop<=0),atYEndEdge:L(()=>R.value.scrollTop>=B.value-f($))},(it,qe)=>{var ne,se,ke,Be;(se=(ne=I.value)==null?void 0:ne.onMouseUp)==null||se.call(ne),(Be=(ke=O.value)==null?void 0:ke.onMouseUp)==null||Be.call(ke);const Ve=f(J),Ae=f($);ye({scrollLeft:Math.min(R.value.scrollLeft+it,X.value-Ve),scrollTop:Math.min(R.value.scrollTop+qe,B.value-Ae)})});bn(k,"wheel",le,{passive:!1});const ye=({scrollLeft:it=R.value.scrollLeft,scrollTop:qe=R.value.scrollTop})=>{it=Math.max(it,0),qe=Math.max(qe,0);const ne=f(R);qe===ne.scrollTop&&it===ne.scrollLeft||(R.value={...ne,xAxisScrollDir:tl(ne.scrollLeft,it),yAxisScrollDir:tl(ne.scrollTop,qe),scrollLeft:it,scrollTop:qe,updateRequested:!0},_t(()=>ue()),Me(),V())},Ee=(it=0,qe=0,ne=cs)=>{const se=f(R);qe=Math.max(0,Math.min(qe,_.totalColumn-1)),it=Math.max(0,Math.min(it,_.totalRow-1));const ke=Cx(E.namespace.value),Be=f(T),Ve=s(_,Be),Ae=a(_,Be);ye({scrollLeft:o(_,qe,ne,se.scrollLeft,Be,Ae>_.width?ke:0),scrollTop:l(_,it,ne,se.scrollTop,Be,Ve>_.height?ke:0)})},pe=(it,qe)=>{const{columnWidth:ne,direction:se,rowHeight:ke}=_,Be=N.value(e&&ne,e&&ke,e&&se),Ve=`${it},${qe}`;if(qi(Be,Ve))return Be[Ve];{const[,Ae]=n(_,qe,f(T)),Re=f(T),Xe=Rw(se),[gt,nt]=c(_,it,Re),[Lt]=n(_,qe,Re);return Be[Ve]={position:"absolute",left:Xe?void 0:`${Ae}px`,right:Xe?`${Ae}px`:void 0,top:`${nt}px`,height:`${gt}px`,width:`${Lt}px`},Be[Ve]}},ue=()=>{R.value.isScrolling=!1,_t(()=>{N.value(-1,null,null)})};St(()=>{if(!nn)return;const{initScrollLeft:it,initScrollTop:qe}=_,ne=f(k);ne&&(Pt(it)&&(ne.scrollLeft=it),Pt(qe)&&(ne.scrollTop=qe)),V()});const Me=()=>{const{direction:it}=_,{scrollLeft:qe,scrollTop:ne,updateRequested:se}=f(R),ke=f(k);if(se&&ke){if(it===xu)switch(Uh()){case yd:{ke.scrollLeft=-qe;break}case i_:{ke.scrollLeft=qe;break}default:{const{clientWidth:Be,scrollWidth:Ve}=ke;ke.scrollLeft=Ve-Be-qe;break}}else ke.scrollLeft=Math.max(0,qe);ke.scrollTop=Math.max(0,ne)}},{resetAfterColumnIndex:De,resetAfterRowIndex:xe,resetAfter:G}=x.proxy;b({windowRef:k,innerRef:U,getItemStyleCache:N,scrollTo:ye,scrollToItem:Ee,states:R,resetAfterColumnIndex:De,resetAfterRowIndex:xe,resetAfter:G});const He=()=>{const{scrollbarAlwaysOn:it,scrollbarStartGap:qe,scrollbarEndGap:ne,totalColumn:se,totalRow:ke}=_,Be=f(J),Ve=f($),Ae=f(X),Re=f(B),{scrollLeft:Xe,scrollTop:gt}=f(R),nt=Ct(Ng,{ref:I,alwaysOn:it,startGap:qe,endGap:ne,class:E.e("horizontal"),clientSize:Be,layout:"horizontal",onScroll:ae,ratio:Be*100/Ae,scrollFrom:Xe/(Ae-Be),total:ke,visible:!0}),Lt=Ct(Ng,{ref:O,alwaysOn:it,startGap:qe,endGap:ne,class:E.e("vertical"),clientSize:Ve,layout:"vertical",onScroll:ce,ratio:Ve*100/Re,scrollFrom:gt/(Re-Ve),total:se,visible:!0});return{horizontalScrollbar:nt,verticalScrollbar:Lt}},Je=()=>{var it;const[qe,ne]=f(Y),[se,ke]=f(H),{data:Be,totalColumn:Ve,totalRow:Ae,useIsScrolling:Re,itemKey:Xe}=_,gt=[];if(Ae>0&&Ve>0)for(let nt=se;nt<=ke;nt++)for(let Lt=qe;Lt<=ne;Lt++){const Ye=Xe({columnIndex:Lt,data:Be,rowIndex:nt});gt.push(Ct(ct,{key:Ye},(it=M.default)==null?void 0:it.call(M,{columnIndex:Lt,data:Be,isScrolling:Re?f(R).isScrolling:void 0,style:pe(nt,Lt),rowIndex:nt})))}return gt},at=()=>{const it=zt(_.innerElement),qe=Je();return[Ct(it,{style:f(D),ref:U},Wt(it)?qe:{default:()=>qe})]};return()=>{const it=zt(_.containerElement),{horizontalScrollbar:qe,verticalScrollbar:ne}=He(),se=at();return Ct("div",{key:0,class:E.e("wrapper"),role:_.role},[Ct(it,{class:_.className,style:f(q),onScroll:ee,ref:k},Wt(it)?se:{default:()=>se}),qe,ne])}}}),ZQ=pA({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:t},e)=>[t,e*t],getRowPosition:({rowHeight:t},e)=>[t,e*t],getEstimatedTotalHeight:({totalRow:t,rowHeight:e})=>e*t,getEstimatedTotalWidth:({totalColumn:t,columnWidth:e})=>e*t,getColumnOffset:({totalColumn:t,columnWidth:e,width:n},i,r,s,a,o)=>{n=Number(n);const l=Math.max(0,t*e-n),c=Math.min(l,i*e),d=Math.max(0,i*e-n+o+e);switch(r==="smart"&&(s>=d-n&&s<=c+n?r=cs:r=ea),r){case vd:return c;case gd:return d;case ea:{const p=Math.round(d+(c-d)/2);return p<Math.ceil(n/2)?0:p>l+Math.floor(n/2)?l:p}case cs:default:return s>=d&&s<=c?s:d>c||s<d?d:c}},getRowOffset:({rowHeight:t,height:e,totalRow:n},i,r,s,a,o)=>{e=Number(e);const l=Math.max(0,n*t-e),c=Math.min(l,i*t),d=Math.max(0,i*t-e+o+t);switch(r===Ip&&(s>=d-e&&s<=c+e?r=cs:r=ea),r){case vd:return c;case gd:return d;case ea:{const p=Math.round(d+(c-d)/2);return p<Math.ceil(e/2)?0:p>l+Math.floor(e/2)?l:p}case cs:default:return s>=d&&s<=c?s:d>c||s<d?d:c}},getColumnStartIndexForOffset:({columnWidth:t,totalColumn:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getColumnStopIndexForStartIndex:({columnWidth:t,totalColumn:e,width:n},i,r)=>{const s=i*t,a=Math.ceil((n+r-s)/t);return Math.max(0,Math.min(e-1,i+a-1))},getRowStartIndexForOffset:({rowHeight:t,totalRow:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getRowStopIndexForStartIndex:({rowHeight:t,totalRow:e,height:n},i,r)=>{const s=i*t,a=Math.ceil((n+r-s)/t);return Math.max(0,Math.min(e-1,i+a-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:t,rowHeight:e})=>{}}),{max:Vh,min:mA,floor:vA}=Math,JQ={column:"columnWidth",row:"rowHeight"},Og={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},Ma=(t,e,n,i)=>{const[r,s,a]=[n[i],t[JQ[i]],n[Og[i]]];if(e>a){let o=0;if(a>=0){const l=r[a];o=l.offset+l.size}for(let l=a+1;l<=e;l++){const c=s(l);r[l]={offset:o,size:c},o+=c}n[Og[i]]=e}return r[e]},gA=(t,e,n,i,r,s)=>{for(;n<=i;){const a=n+vA((i-n)/2),o=Ma(t,a,e,s).offset;if(o===r)return a;o<r?n=a+1:i=a-1}return Vh(0,n-1)},QQ=(t,e,n,i,r)=>{const s=r==="column"?t.totalColumn:t.totalRow;let a=1;for(;n<s&&Ma(t,n,e,r).offset<i;)n+=a,a*=2;return gA(t,e,vA(n/2),mA(n,s-1),i,r)},Lw=(t,e,n,i)=>{const[r,s]=[e[i],e[Og[i]]];return(s>0?r[s].offset:0)>=n?gA(t,e,0,s,n,i):QQ(t,e,Vh(0,s),n,i)},yA=({totalRow:t},{estimatedRowHeight:e,lastVisitedRowIndex:n,row:i})=>{let r=0;if(n>=t&&(n=t-1),n>=0){const o=i[n];r=o.offset+o.size}const a=(t-n-1)*e;return r+a},_A=({totalColumn:t},{column:e,estimatedColumnWidth:n,lastVisitedColumnIndex:i})=>{let r=0;if(i>t&&(i=t-1),i>=0){const o=e[i];r=o.offset+o.size}const a=(t-i-1)*n;return r+a},eee={column:_A,row:yA},Nw=(t,e,n,i,r,s,a)=>{const[o,l]=[s==="row"?t.height:t.width,eee[s]],c=Ma(t,e,r,s),d=l(t,r),p=Vh(0,mA(d-o,c.offset)),v=Vh(0,c.offset-o+a+c.size);switch(n===Ip&&(i>=v-o&&i<=p+o?n=cs:n=ea),n){case vd:return p;case gd:return v;case ea:return Math.round(v+(p-v)/2);case cs:default:return i>=v&&i<=p?i:v>p||i<v?v:p}},tee=pA({name:"ElDynamicSizeGrid",getColumnPosition:(t,e,n)=>{const i=Ma(t,e,n,"column");return[i.size,i.offset]},getRowPosition:(t,e,n)=>{const i=Ma(t,e,n,"row");return[i.size,i.offset]},getColumnOffset:(t,e,n,i,r,s)=>Nw(t,e,n,i,r,"column",s),getRowOffset:(t,e,n,i,r,s)=>Nw(t,e,n,i,r,"row",s),getColumnStartIndexForOffset:(t,e,n)=>Lw(t,n,e,"column"),getColumnStopIndexForStartIndex:(t,e,n,i)=>{const r=Ma(t,e,i,"column"),s=n+t.width;let a=r.offset+r.size,o=e;for(;o<t.totalColumn-1&&a<s;)o++,a+=Ma(t,e,i,"column").size;return o},getEstimatedTotalHeight:yA,getEstimatedTotalWidth:_A,getRowStartIndexForOffset:(t,e,n)=>Lw(t,n,e,"row"),getRowStopIndexForStartIndex:(t,e,n,i)=>{const{totalRow:r,height:s}=t,a=Ma(t,e,i,"row"),o=n+s;let l=a.size+a.offset,c=e;for(;c<r-1&&l<o;)c++,l+=Ma(t,c,i,"row").size;return c},injectToInstance:(t,e)=>{const n=({columnIndex:s,rowIndex:a},o)=>{var l,c;o=Hn(o)?!0:o,Pt(s)&&(e.value.lastVisitedColumnIndex=Math.min(e.value.lastVisitedColumnIndex,s-1)),Pt(a)&&(e.value.lastVisitedRowIndex=Math.min(e.value.lastVisitedRowIndex,a-1)),(l=t.exposed)==null||l.getItemStyleCache.value(-1,null,null),o&&((c=t.proxy)==null||c.$forceUpdate())},i=(s,a)=>{n({columnIndex:s},a)},r=(s,a)=>{n({rowIndex:s},a)};Object.assign(t.proxy,{resetAfterColumnIndex:i,resetAfterRowIndex:r,resetAfter:n})},initCache:({estimatedColumnWidth:t=Ag,estimatedRowHeight:e=Ag})=>({column:{},estimatedColumnWidth:t,estimatedRowHeight:e,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:t,rowHeight:e})=>{}}),nee=ie({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup(){return{ns:Fe("select")}}});function iee(t,e,n,i,r,s){return P(),K("div",{class:z(t.ns.be("group","title")),style:bt({...t.style,lineHeight:`${t.height}px`})},Ne(t.item.label),7)}var ree=We(nee,[["render",iee],["__file","group-item.vue"]]);function see(t,{emit:e}){return{hoverItem:()=>{t.disabled||e("hover",t.index)},selectOptionClick:()=>{t.disabled||e("select",t.item,t.index)}}}const bA={label:"label",value:"value",disabled:"disabled",options:"options"};function Lp(t){const e=L(()=>({...bA,...t.props}));return{aliasProps:e,getLabel:a=>ni(a,e.value.label),getValue:a=>ni(a,e.value.value),getDisabled:a=>ni(a,e.value.disabled),getOptions:a=>ni(a,e.value.options)}}const aee=Ge({allowCreate:Boolean,autocomplete:{type:_e(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:En,default:To},effect:{type:_e(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:_e([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:_e(Array),required:!0},placeholder:{type:String},teleported:Li.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:_e(Object),default:()=>({})},remote:Boolean,size:_i,props:{type:_e(Object),default:()=>bA},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},placement:{type:_e(String),values:Va,default:"bottom-start"},fallbackPlacements:{type:_e(Array),default:["bottom-start","top-start","right","left"]},tagType:{...Cl.type,default:"info"},tagEffect:{...Cl.effect,default:"light"},...uc,...$i(["ariaLabel"])}),oee=Ge({data:Array,disabled:Boolean,hovering:Boolean,item:{type:_e(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),lee={[Kt]:t=>!0,[Nn]:t=>!0,"remove-tag":t=>!0,"visible-change":t=>!0,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0},uee={hover:t=>Pt(t),select:(t,e)=>!0},s_=Symbol("ElSelectV2Injection"),cee=ie({props:oee,emits:uee,setup(t,{emit:e}){const n=dt(s_),i=Fe("select"),{hoverItem:r,selectOptionClick:s}=see(t,{emit:e}),{getLabel:a}=Lp(n.props);return{ns:i,hoverItem:r,selectOptionClick:s,getLabel:a}}});function dee(t,e,n,i,r,s){return P(),K("li",{"aria-selected":t.selected,style:bt(t.style),class:z([t.ns.be("dropdown","item"),t.ns.is("selected",t.selected),t.ns.is("disabled",t.disabled),t.ns.is("created",t.created),t.ns.is("hovering",t.hovering)]),onMouseenter:t.hoverItem,onClick:Mt(t.selectOptionClick,["stop"])},[oe(t.$slots,"default",{item:t.item,index:t.index,disabled:t.disabled},()=>[Z("span",null,Ne(t.getLabel(t.item)),1)])],46,["aria-selected","onMouseenter","onClick"])}var fee=We(cee,[["render",dee],["__file","option-item.vue"]]);const hee={loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number};var pee=ie({name:"ElSelectDropdown",props:hee,setup(t,{slots:e,expose:n}){const i=dt(s_),r=Fe("select"),{getLabel:s,getValue:a,getDisabled:o}=Lp(i.props),l=W([]),c=W(),d=L(()=>t.data.length);Le(()=>d.value,()=>{var N,$;($=(N=i.tooltipRef.value).updatePopper)==null||$.call(N)});const p=L(()=>Hn(i.props.estimatedOptionHeight)),v=L(()=>p.value?{itemSize:i.props.itemHeight}:{estimatedSize:i.props.estimatedOptionHeight,itemSize:N=>l.value[N]}),g=(N=[],$)=>{const{props:{valueKey:J}}=i;return Sn($)?N&&N.some(Y=>Pu(ni(Y,J))===ni($,J)):N.includes($)},y=(N,$)=>{if(Sn($)){const{valueKey:J}=i.props;return ni(N,J)===ni($,J)}else return N===$},_=(N,$)=>i.props.multiple?g(N,a($)):y(N,a($)),w=(N,$)=>{const{disabled:J,multiple:Y,multipleLimit:H}=i.props;return J||!$&&(Y?H>0&&N.length>=H:!1)},b=N=>t.hoveringIndex===N;n({listRef:c,isSized:p,isItemDisabled:w,isItemHovering:b,isItemSelected:_,scrollToItem:N=>{const $=c.value;$&&$.scrollToItem(N)},resetScrollTop:()=>{const N=c.value;N&&N.resetScrollTop()}});const T=N=>{const{index:$,data:J,style:Y}=N,H=f(p),{itemSize:B,estimatedSize:X}=f(v),{modelValue:q}=i.props,{onSelect:D,onHover:V}=i,ee=J[$];if(ee.type==="Group")return Q(ree,{item:ee,style:Y,height:H?B:X},null);const ce=_(q,ee),ae=w(q,ce),le=b($);return Q(fee,Gt(N,{selected:ce,disabled:o(ee)||ae,created:!!ee.created,hovering:le,item:ee,onSelect:D,onHover:V}),{default:ye=>{var Ee;return((Ee=e.default)==null?void 0:Ee.call(e,ye))||Q("span",null,[s(ee)])}})},{onKeyboardNavigate:k,onKeyboardSelect:I}=i,O=()=>{k("forward")},U=()=>{k("backward")},R=N=>{const{code:$}=N,{tab:J,esc:Y,down:H,up:B,enter:X}=Et;switch($!==J&&(N.preventDefault(),N.stopPropagation()),$){case J:case Y:break;case H:{O();break}case B:{U();break}case X:{I();break}}};return()=>{var N,$,J,Y;const{data:H,width:B}=t,{height:X,multiple:q,scrollbarAlwaysOn:D}=i.props,V=f(p)?fA:jQ;return Q("div",{class:[r.b("dropdown"),r.is("multiple",q)],style:{width:`${B}px`}},[(N=e.header)==null?void 0:N.call(e),(($=e.loading)==null?void 0:$.call(e))||((J=e.empty)==null?void 0:J.call(e))||Q(V,Gt({ref:c},f(v),{className:r.be("dropdown","list"),scrollbarAlwaysOn:D,data:H,height:X,width:B,total:H.length,onKeydown:R}),{default:ee=>Q(T,ee,null)}),(Y=e.footer)==null?void 0:Y.call(e)])}}});function mee(t,e){const{aliasProps:n,getLabel:i,getValue:r}=Lp(t),s=W(0),a=W(),o=L(()=>t.allowCreate&&t.filterable);function l(g){const y=_=>i(_)===g;return t.options&&t.options.some(y)||e.createdOptions.some(y)}function c(g){o.value&&(t.multiple&&g.created?s.value++:a.value=g)}function d(g){if(o.value)if(g&&g.length>0){if(l(g))return;const y={[n.value.value]:g,[n.value.label]:g,created:!0,[n.value.disabled]:!1};e.createdOptions.length>=s.value?e.createdOptions[s.value]=y:e.createdOptions.push(y)}else if(t.multiple)e.createdOptions.length=s.value;else{const y=a.value;e.createdOptions.length=0,y&&y.created&&e.createdOptions.push(y)}}function p(g){if(!o.value||!g||!g.created||g.created&&t.reserveKeyword&&e.inputValue===i(g))return;const y=e.createdOptions.findIndex(_=>r(_)===r(g));~y&&(e.createdOptions.splice(y,1),s.value--)}function v(){o.value&&(e.createdOptions.length=0,s.value=0)}return{createNewOption:d,removeNewOption:p,selectNewOption:c,clearAllNewOption:v}}const vee=11,gee=(t,e)=>{const{t:n}=rn(),i=Fe("select"),r=Fe("input"),{form:s,formItem:a}=or(),{inputId:o}=Gs(t,{formItemContext:a}),{aliasProps:l,getLabel:c,getValue:d,getDisabled:p,getOptions:v}=Lp(t),{valueOnClear:g,isEmptyValue:y}=xp(t),_=Xt({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),w=W(-1),b=W(),M=W(),E=W(),x=W(),T=W(),k=W(),I=W(),O=W(),U=W(),R=W(),N=W(),{isComposing:$,handleCompositionStart:J,handleCompositionEnd:Y,handleCompositionUpdate:H}=Cp({afterComposition:Se=>Ri(Se)}),{wrapperRef:B,isFocused:X}=Vd(T,{beforeFocus(){return ee.value},afterFocus(){t.automaticDropdown&&!V.value&&(V.value=!0,_.menuVisibleOnFocus=!0)},beforeBlur(Se){var $e,mt;return(($e=E.value)==null?void 0:$e.isFocusInsideContent(Se))||((mt=x.value)==null?void 0:mt.isFocusInsideContent(Se))},afterBlur(){V.value=!1,_.menuVisibleOnFocus=!1}}),q=W([]),D=W([]),V=W(!1),ee=L(()=>t.disabled||(s==null?void 0:s.disabled)),ce=L(()=>{const Se=D.value.length*t.itemHeight;return Se>t.height?t.height:Se}),ae=L(()=>t.multiple?Ot(t.modelValue)&&t.modelValue.length>0:!y(t.modelValue)),le=L(()=>t.clearable&&!ee.value&&_.inputHovering&&ae.value),ye=L(()=>t.remote&&t.filterable?"":Fa),Ee=L(()=>ye.value&&i.is("reverse",V.value)),pe=L(()=>(a==null?void 0:a.validateState)||""),ue=L(()=>{if(pe.value)return dy[pe.value]}),Me=L(()=>t.remote?300:0),De=L(()=>t.loading?t.loadingText||n("el.select.loading"):t.remote&&!_.inputValue&&q.value.length===0?!1:t.filterable&&_.inputValue&&q.value.length>0&&D.value.length===0?t.noMatchText||n("el.select.noMatch"):q.value.length===0?t.noDataText||n("el.select.noData"):null),xe=Se=>{const $e=mt=>{if(t.filterable&&cn(t.filterMethod)||t.filterable&&t.remote&&cn(t.remoteMethod))return!0;const kt=new RegExp(ay(Se),"i");return Se?kt.test(c(mt)||""):!0};return t.loading?[]:[..._.createdOptions,...t.options].reduce((mt,kt)=>{const qt=v(kt);if(Ot(qt)){const Qt=qt.filter($e);Qt.length>0&&mt.push({label:c(kt),type:"Group"},...Qt)}else(t.remote||$e(kt))&&mt.push(kt);return mt},[])},G=()=>{q.value=xe(""),D.value=xe(_.inputValue)},He=L(()=>{const Se=new Map;return q.value.forEach(($e,mt)=>{Se.set(et(d($e)),{option:$e,index:mt})}),Se}),Je=L(()=>{const Se=new Map;return D.value.forEach(($e,mt)=>{Se.set(et(d($e)),{option:$e,index:mt})}),Se}),at=L(()=>D.value.every(Se=>p(Se))),rt=pi(),it=L(()=>rt.value==="small"?"small":"default"),qe=()=>{var Se;w.value=((Se=b.value)==null?void 0:Se.offsetWidth)||200},ne=()=>{if(!M.value)return 0;const Se=window.getComputedStyle(M.value);return Number.parseFloat(Se.gap||"6px")},se=L(()=>{const Se=ne();return{maxWidth:`${N.value&&t.maxCollapseTags===1?_.selectionWidth-_.collapseItemWidth-Se:_.selectionWidth}px`}}),ke=L(()=>({maxWidth:`${_.selectionWidth}px`})),Be=L(()=>({width:`${Math.max(_.calculatorWidth,vee)}px`})),Ve=L(()=>Ot(t.modelValue)?t.modelValue.length===0&&!_.inputValue:t.filterable?!_.inputValue:!0),Ae=L(()=>{var Se;const $e=(Se=t.placeholder)!=null?Se:n("el.select.placeholder");return t.multiple||!ae.value?$e:_.selectedLabel}),Re=L(()=>{var Se,$e;return($e=(Se=E.value)==null?void 0:Se.popperRef)==null?void 0:$e.contentRef}),Xe=L(()=>{if(t.multiple){const Se=t.modelValue.length;if(t.modelValue.length>0&&Je.value.has(t.modelValue[Se-1])){const{index:$e}=Je.value.get(t.modelValue[Se-1]);return $e}}else if(t.modelValue&&Je.value.has(t.modelValue)){const{index:Se}=Je.value.get(t.modelValue);return Se}return-1}),gt=L({get(){return V.value&&De.value!==!1},set(Se){V.value=Se}}),nt=L(()=>t.multiple?t.collapseTags?_.cachedOptions.slice(0,t.maxCollapseTags):_.cachedOptions:[]),Lt=L(()=>t.multiple?t.collapseTags?_.cachedOptions.slice(t.maxCollapseTags):[]:[]),{createNewOption:Ye,removeNewOption:xt,selectNewOption:Te,clearAllNewOption:ze}=mee(t,_),de=()=>{ee.value||(_.menuVisibleOnFocus?_.menuVisibleOnFocus=!1:V.value=!V.value)},be=()=>{_.inputValue.length>0&&!V.value&&(V.value=!0),Ye(_.inputValue),yt(_.inputValue)},Ie=Br(be,Me.value),yt=Se=>{_.previousQuery===Se||$.value||(_.previousQuery=Se,t.filterable&&cn(t.filterMethod)?t.filterMethod(Se):t.filterable&&t.remote&&cn(t.remoteMethod)&&t.remoteMethod(Se),t.defaultFirstOption&&(t.filterable||t.remote)&&D.value.length?_t(Bt):_t(dn))},Bt=()=>{const Se=D.value.filter(kt=>!kt.disabled&&kt.type!=="Group"),$e=Se.find(kt=>kt.created),mt=Se[0];_.hoveringIndex=ve(D.value,$e||mt)},Ce=Se=>{ir(t.modelValue,Se)||e(Nn,Se)},ot=Se=>{e(Kt,Se),Ce(Se),_.previousValue=t.multiple?String(Se):Se},ve=(Se=[],$e)=>{if(!Sn($e))return Se.indexOf($e);const mt=t.valueKey;let kt=-1;return Se.some((qt,Qt)=>ni(qt,mt)===ni($e,mt)?(kt=Qt,!0):!1),kt},et=Se=>Sn(Se)?ni(Se,t.valueKey):Se,ut=()=>{qe()},wt=()=>{_.selectionWidth=M.value.getBoundingClientRect().width},Ht=()=>{_.calculatorWidth=k.value.getBoundingClientRect().width},pn=()=>{_.collapseItemWidth=N.value.getBoundingClientRect().width},ht=()=>{var Se,$e;($e=(Se=E.value)==null?void 0:Se.updatePopper)==null||$e.call(Se)},Rn=()=>{var Se,$e;($e=(Se=x.value)==null?void 0:Se.updatePopper)==null||$e.call(Se)},Qn=Se=>{if(t.multiple){let $e=t.modelValue.slice();const mt=ve($e,d(Se));mt>-1?($e=[...$e.slice(0,mt),...$e.slice(mt+1)],_.cachedOptions.splice(mt,1),xt(Se)):(t.multipleLimit<=0||$e.length<t.multipleLimit)&&($e=[...$e,d(Se)],_.cachedOptions.push(Se),Te(Se)),ot($e),Se.created&&yt(""),t.filterable&&!t.reserveKeyword&&(_.inputValue="")}else _.selectedLabel=c(Se),ot(d(Se)),V.value=!1,Te(Se),Se.created||ze();zn()},mn=(Se,$e)=>{let mt=t.modelValue.slice();const kt=ve(mt,d($e));kt>-1&&!ee.value&&(mt=[...t.modelValue.slice(0,kt),...t.modelValue.slice(kt+1)],_.cachedOptions.splice(kt,1),ot(mt),e("remove-tag",d($e)),xt($e)),Se.stopPropagation(),zn()},zn=()=>{var Se;(Se=T.value)==null||Se.focus()},fi=()=>{var Se;(Se=T.value)==null||Se.blur()},_s=()=>{_.inputValue.length>0?_.inputValue="":V.value=!1},lr=Se=>bx(Se,$e=>!_.cachedOptions.some(mt=>d(mt)===$e&&p(mt))),Ur=Se=>{if(t.multiple&&Se.code!==Et.delete&&_.inputValue.length===0){Se.preventDefault();const $e=t.modelValue.slice(),mt=lr($e);if(mt<0)return;const kt=$e[mt];$e.splice(mt,1);const qt=_.cachedOptions[mt];_.cachedOptions.splice(mt,1),xt(qt),ot($e),e("remove-tag",kt)}},mi=()=>{let Se;Ot(t.modelValue)?Se=[]:Se=g.value,t.multiple?_.cachedOptions=[]:_.selectedLabel="",V.value=!1,ot(Se),e("clear"),ze(),zn()},tt=(Se,$e=void 0)=>{const mt=D.value;if(!["forward","backward"].includes(Se)||ee.value||mt.length<=0||at.value||$.value)return;if(!V.value)return de();$e===void 0&&($e=_.hoveringIndex);let kt=-1;Se==="forward"?(kt=$e+1,kt>=mt.length&&(kt=0)):Se==="backward"&&(kt=$e-1,(kt<0||kt>=mt.length)&&(kt=mt.length-1));const qt=mt[kt];if(p(qt)||qt.type==="Group")return tt(Se,kt);_.hoveringIndex=kt,Ue(kt)},It=()=>{if(V.value)~_.hoveringIndex&&D.value[_.hoveringIndex]&&Qn(D.value[_.hoveringIndex]);else return de()},fn=Se=>{_.hoveringIndex=Se??-1},dn=()=>{t.multiple?_.hoveringIndex=D.value.findIndex(Se=>t.modelValue.some($e=>et($e)===et(Se))):_.hoveringIndex=D.value.findIndex(Se=>et(Se)===et(t.modelValue))},Ri=Se=>{if(_.inputValue=Se.target.value,t.remote)Ie();else return be()},ai=()=>{V.value=!1,X.value&&fi()},me=()=>(_.isBeforeHide=!1,_t(()=>{~Xe.value&&Ue(_.hoveringIndex)})),Ue=Se=>{U.value.scrollToItem(Se)},Ke=(Se,$e)=>{const mt=et(Se);if(He.value.has(mt)){const{option:kt}=He.value.get(mt);return kt}if($e&&$e.length){const kt=$e.find(qt=>et(d(qt))===mt);if(kt)return kt}return{[l.value.value]:Se,[l.value.label]:Se}},Qe=()=>{if(t.multiple)if(t.modelValue.length>0){const Se=_.cachedOptions.slice();_.cachedOptions.length=0,_.previousValue=t.modelValue.toString();for(const $e of t.modelValue){const mt=Ke($e,Se);_.cachedOptions.push(mt)}}else _.cachedOptions=[],_.previousValue=void 0;else if(ae.value){_.previousValue=t.modelValue;const Se=D.value,$e=Se.findIndex(mt=>et(d(mt))===et(t.modelValue));~$e?_.selectedLabel=c(Se[$e]):_.selectedLabel=et(t.modelValue)}else _.selectedLabel="",_.previousValue=void 0;ze(),qe()};return Le(V,Se=>{Se?yt(""):(_.inputValue="",_.previousQuery=null,_.isBeforeHide=!0,Ye("")),e("visible-change",Se)}),Le(()=>t.modelValue,(Se,$e)=>{var mt;(!Se||t.multiple&&Se.toString()!==_.previousValue||!t.multiple&&et(Se)!==et(_.previousValue))&&Qe(),!ir(Se,$e)&&t.validateEvent&&((mt=a==null?void 0:a.validate)==null||mt.call(a,"change").catch(kt=>void 0))},{deep:!0}),Le(()=>t.options,()=>{const Se=T.value;(!Se||Se&&document.activeElement!==Se)&&Qe()},{deep:!0,flush:"post"}),Le(()=>D.value,()=>U.value&&_t(U.value.resetScrollTop)),gi(()=>{_.isBeforeHide||G()}),gi(()=>{const{valueKey:Se,options:$e}=t,mt=new Map;for(const kt of $e){const qt=d(kt);let Qt=qt;if(Sn(Qt)&&(Qt=ni(qt,Se)),mt.get(Qt))break;mt.set(Qt,!0)}}),St(()=>{Qe()}),Fn(b,ut),Fn(M,wt),Fn(k,Ht),Fn(U,ht),Fn(B,ht),Fn(R,Rn),Fn(N,pn),{inputId:o,collapseTagSize:it,currentPlaceholder:Ae,expanded:V,emptyText:De,popupHeight:ce,debounce:Me,allOptions:q,filteredOptions:D,iconComponent:ye,iconReverse:Ee,tagStyle:se,collapseTagStyle:ke,inputStyle:Be,popperSize:w,dropdownMenuVisible:gt,hasModelValue:ae,shouldShowPlaceholder:Ve,selectDisabled:ee,selectSize:rt,showClearBtn:le,states:_,isFocused:X,nsSelect:i,nsInput:r,calculatorRef:k,inputRef:T,menuRef:U,tagMenuRef:R,tooltipRef:E,tagTooltipRef:x,selectRef:b,wrapperRef:B,selectionRef:M,prefixRef:I,suffixRef:O,collapseItemRef:N,popperRef:Re,validateState:pe,validateIcon:ue,showTagList:nt,collapseTagList:Lt,debouncedOnInputChange:Ie,deleteTag:mn,getLabel:c,getValue:d,getDisabled:p,getValueKey:et,handleClear:mi,handleClickOutside:ai,handleDel:Ur,handleEsc:_s,focus:zn,blur:fi,handleMenuEnter:me,handleResize:ut,resetSelectionWidth:wt,resetCalculatorWidth:Ht,updateTooltip:ht,updateTagTooltip:Rn,updateOptions:G,toggleMenu:de,scrollTo:Ue,onInput:Ri,onKeyboardNavigate:tt,onKeyboardSelect:It,onSelect:Qn,onHover:fn,handleCompositionStart:J,handleCompositionEnd:Y,handleCompositionUpdate:H}},yee=ie({name:"ElSelectV2",components:{ElSelectMenu:pee,ElTag:hd,ElTooltip:vi,ElIcon:ft},directives:{ClickOutside:Ia},props:aee,emits:lee,setup(t,{emit:e}){const n=L(()=>{const{modelValue:r,multiple:s}=t,a=s?[]:void 0;return Ot(r)?s?r:a:s?a:r}),i=gee(Xt({...Oi(t),modelValue:n}),e);return Jt(s_,{props:Xt({...Oi(t),height:i.popupHeight,modelValue:n}),expanded:i.expanded,tooltipRef:i.tooltipRef,onSelect:i.onSelect,onHover:i.onHover,onKeyboardNavigate:i.onKeyboardNavigate,onKeyboardSelect:i.onKeyboardSelect}),{...i,modelValue:n}}});function _ee(t,e,n,i,r,s){const a=At("el-tag"),o=At("el-tooltip"),l=At("el-icon"),c=At("el-select-menu"),d=lp("click-outside");return Ut((P(),K("div",{ref:"selectRef",class:z([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),onMouseenter:p=>t.states.inputHovering=!0,onMouseleave:p=>t.states.inputHovering=!1},[Q(o,{ref:"tooltipRef",visible:t.dropdownMenuVisible,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,placement:t.placement,pure:"",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:t.persistent,onBeforeShow:t.handleMenuEnter,onHide:p=>t.states.isBeforeHide=!1},{default:te(()=>[Z("div",{ref:"wrapperRef",class:z([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)]),onClick:Mt(t.toggleMenu,["prevent"])},[t.$slots.prefix?(P(),K("div",{key:0,ref:"prefixRef",class:z(t.nsSelect.e("prefix"))},[oe(t.$slots,"prefix")],2)):he("v-if",!0),Z("div",{ref:"selectionRef",class:z([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.modelValue.length)])},[t.multiple?oe(t.$slots,"tag",{key:0},()=>[(P(!0),K(ct,null,Vt(t.showTagList,p=>(P(),K("div",{key:t.getValueKey(t.getValue(p)),class:z(t.nsSelect.e("selected-item"))},[Q(a,{closable:!t.selectDisabled&&!t.getDisabled(p),size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:bt(t.tagStyle),onClose:v=>t.deleteTag(v,p)},{default:te(()=>[Z("span",{class:z(t.nsSelect.e("tags-text"))},[oe(t.$slots,"label",{label:t.getLabel(p),value:t.getValue(p)},()=>[pt(Ne(t.getLabel(p)),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),t.collapseTags&&t.modelValue.length>t.maxCollapseTags?(P(),we(o,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:te(()=>[Z("div",{ref:"collapseItemRef",class:z(t.nsSelect.e("selected-item"))},[Q(a,{closable:!1,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,style:bt(t.collapseTagStyle),"disable-transitions":""},{default:te(()=>[Z("span",{class:z(t.nsSelect.e("tags-text"))}," + "+Ne(t.modelValue.length-t.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:te(()=>[Z("div",{ref:"tagMenuRef",class:z(t.nsSelect.e("selection"))},[(P(!0),K(ct,null,Vt(t.collapseTagList,p=>(P(),K("div",{key:t.getValueKey(t.getValue(p)),class:z(t.nsSelect.e("selected-item"))},[Q(a,{class:"in-tooltip",closable:!t.selectDisabled&&!t.getDisabled(p),size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",onClose:v=>t.deleteTag(v,p)},{default:te(()=>[Z("span",{class:z(t.nsSelect.e("tags-text"))},[oe(t.$slots,"label",{label:t.getLabel(p),value:t.getValue(p)},()=>[pt(Ne(t.getLabel(p)),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):he("v-if",!0)]):he("v-if",!0),t.selectDisabled?he("v-if",!0):(P(),K("div",{key:1,class:z([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[Ut(Z("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":p=>t.states.inputValue=p,style:bt(t.inputStyle),autocomplete:t.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":t.expanded,"aria-label":t.ariaLabel,class:z([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",name:t.name,onInput:t.onInput,onCompositionstart:t.handleCompositionStart,onCompositionupdate:t.handleCompositionUpdate,onCompositionend:t.handleCompositionEnd,onKeydown:[vn(Mt(p=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"]),vn(Mt(p=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"]),vn(Mt(t.onKeyboardSelect,["stop","prevent"]),["enter"]),vn(Mt(t.handleEsc,["stop","prevent"]),["esc"]),vn(Mt(t.handleDel,["stop"]),["delete"])],onClick:Mt(t.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","autocomplete","aria-expanded","aria-label","disabled","readonly","name","onInput","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown","onClick"]),[[T0,t.states.inputValue]]),t.filterable?(P(),K("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:z(t.nsSelect.e("input-calculator")),textContent:Ne(t.states.inputValue)},null,10,["textContent"])):he("v-if",!0)],2)),t.shouldShowPlaceholder?(P(),K("div",{key:2,class:z([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[t.hasModelValue?oe(t.$slots,"label",{key:0,label:t.currentPlaceholder,value:t.modelValue},()=>[Z("span",null,Ne(t.currentPlaceholder),1)]):(P(),K("span",{key:1},Ne(t.currentPlaceholder),1))],2)):he("v-if",!0)],2),Z("div",{ref:"suffixRef",class:z(t.nsSelect.e("suffix"))},[t.iconComponent?Ut((P(),we(l,{key:0,class:z([t.nsSelect.e("caret"),t.nsInput.e("icon"),t.iconReverse])},{default:te(()=>[(P(),we(zt(t.iconComponent)))]),_:1},8,["class"])),[[on,!t.showClearBtn]]):he("v-if",!0),t.showClearBtn&&t.clearIcon?(P(),we(l,{key:1,class:z([t.nsSelect.e("caret"),t.nsInput.e("icon"),t.nsSelect.e("clear")]),onClick:Mt(t.handleClear,["prevent","stop"])},{default:te(()=>[(P(),we(zt(t.clearIcon)))]),_:1},8,["class","onClick"])):he("v-if",!0),t.validateState&&t.validateIcon?(P(),we(l,{key:2,class:z([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:te(()=>[(P(),we(zt(t.validateIcon)))]),_:1},8,["class"])):he("v-if",!0)],2)],10,["onClick"])]),content:te(()=>[Q(c,{ref:"menuRef",data:t.filteredOptions,width:t.popperSize,"hovering-index":t.states.hoveringIndex,"scrollbar-always-on":t.scrollbarAlwaysOn},hs({default:te(p=>[oe(t.$slots,"default",Is(gl(p)))]),_:2},[t.$slots.header?{name:"header",fn:te(()=>[Z("div",{class:z(t.nsSelect.be("dropdown","header"))},[oe(t.$slots,"header")],2)])}:void 0,t.$slots.loading&&t.loading?{name:"loading",fn:te(()=>[Z("div",{class:z(t.nsSelect.be("dropdown","loading"))},[oe(t.$slots,"loading")],2)])}:t.loading||t.filteredOptions.length===0?{name:"empty",fn:te(()=>[Z("div",{class:z(t.nsSelect.be("dropdown","empty"))},[oe(t.$slots,"empty",{},()=>[Z("span",null,Ne(t.emptyText),1)])],2)])}:void 0,t.$slots.footer?{name:"footer",fn:te(()=>[Z("div",{class:z(t.nsSelect.be("dropdown","footer"))},[oe(t.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","onBeforeShow","onHide"])],42,["onMouseenter","onMouseleave"])),[[d,t.handleClickOutside,t.popperRef]])}var bee=We(yee,[["render",_ee],["__file","select.vue"]]);const wee=Ft(bee),See=Ge({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),Eee=Ge({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),Cee=ie({name:"ElSkeletonItem"}),xee=ie({...Cee,props:Eee,setup(t){const e=Fe("skeleton");return(n,i)=>(P(),K("div",{class:z([f(e).e("item"),f(e).e(n.variant)])},[n.variant==="image"?(P(),we(f(l4),{key:0})):he("v-if",!0)],2))}});var zh=We(xee,[["__file","skeleton-item.vue"]]);const Mee=ie({name:"ElSkeleton"}),Tee=ie({...Mee,props:See,setup(t,{expose:e}){const n=t,i=Fe("skeleton"),r=z$(yn(n,"loading"),n.throttle);return e({uiLoading:r}),(s,a)=>f(r)?(P(),K("div",Gt({key:0,class:[f(i).b(),f(i).is("animated",s.animated)]},s.$attrs),[(P(!0),K(ct,null,Vt(s.count,o=>(P(),K(ct,{key:o},[s.loading?oe(s.$slots,"template",{key:o},()=>[Q(zh,{class:z(f(i).is("first")),variant:"p"},null,8,["class"]),(P(!0),K(ct,null,Vt(s.rows,l=>(P(),we(zh,{key:l,class:z([f(i).e("paragraph"),f(i).is("last",l===s.rows&&s.rows>1)]),variant:"p"},null,8,["class"]))),128))]):he("v-if",!0)],64))),128))],16)):oe(s.$slots,"default",Is(Gt({key:1},s.$attrs)))}});var Aee=We(Tee,[["__file","skeleton.vue"]]);const kee=Ft(Aee,{SkeletonItem:zh}),Pee=Vn(zh),wA=Symbol("sliderContextKey"),Ree=Ge({modelValue:{type:_e([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:_i,inputSize:_i,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:_e(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:_e(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Va,default:"top"},marks:{type:_e(Object)},validateEvent:{type:Boolean,default:!0},...$i(["ariaLabel"])}),Im=t=>Pt(t)||Ot(t)&&t.every(Pt),Iee={[Kt]:Im,[gr]:Im,[Nn]:Im},Lee=(t,e,n)=>{const i=W();return St(async()=>{t.range?(Array.isArray(t.modelValue)?(e.firstValue=Math.max(t.min,t.modelValue[0]),e.secondValue=Math.min(t.max,t.modelValue[1])):(e.firstValue=t.min,e.secondValue=t.max),e.oldValue=[e.firstValue,e.secondValue]):(typeof t.modelValue!="number"||Number.isNaN(t.modelValue)?e.firstValue=t.min:e.firstValue=Math.min(t.max,Math.max(t.min,t.modelValue)),e.oldValue=e.firstValue),bn(window,"resize",n),await _t(),n()}),{sliderWrapper:i}},Nee=t=>L(()=>t.marks?Object.keys(t.marks).map(Number.parseFloat).sort((n,i)=>n-i).filter(n=>n<=t.max&&n>=t.min).map(n=>({point:n,position:(n-t.min)*100/(t.max-t.min),mark:t.marks[n]})):[]),Oee=(t,e,n)=>{const{form:i,formItem:r}=or(),s=An(),a=W(),o=W(),l={firstButton:a,secondButton:o},c=L(()=>t.disabled||(i==null?void 0:i.disabled)||!1),d=L(()=>Math.min(e.firstValue,e.secondValue)),p=L(()=>Math.max(e.firstValue,e.secondValue)),v=L(()=>t.range?`${100*(p.value-d.value)/(t.max-t.min)}%`:`${100*(e.firstValue-t.min)/(t.max-t.min)}%`),g=L(()=>t.range?`${100*(d.value-t.min)/(t.max-t.min)}%`:"0%"),y=L(()=>t.vertical?{height:t.height}:{}),_=L(()=>t.vertical?{height:v.value,bottom:g.value}:{width:v.value,left:g.value}),w=()=>{s.value&&(e.sliderSize=s.value[`client${t.vertical?"Height":"Width"}`])},b=$=>{const J=t.min+$*(t.max-t.min)/100;if(!t.range)return a;let Y;return Math.abs(d.value-J)<Math.abs(p.value-J)?Y=e.firstValue<e.secondValue?"firstButton":"secondButton":Y=e.firstValue>e.secondValue?"firstButton":"secondButton",l[Y]},M=$=>{const J=b($);return J.value.setPosition($),J},E=$=>{e.firstValue=$??t.min,T(t.range?[d.value,p.value]:$??t.min)},x=$=>{e.secondValue=$,t.range&&T([d.value,p.value])},T=$=>{n(Kt,$),n(gr,$)},k=async()=>{await _t(),n(Nn,t.range?[d.value,p.value]:t.modelValue)},I=$=>{var J,Y,H,B,X,q;if(c.value||e.dragging)return;w();let D=0;if(t.vertical){const V=(H=(Y=(J=$.touches)==null?void 0:J.item(0))==null?void 0:Y.clientY)!=null?H:$.clientY;D=(s.value.getBoundingClientRect().bottom-V)/e.sliderSize*100}else{const V=(q=(X=(B=$.touches)==null?void 0:B.item(0))==null?void 0:X.clientX)!=null?q:$.clientX,ee=s.value.getBoundingClientRect().left;D=(V-ee)/e.sliderSize*100}if(!(D<0||D>100))return M(D)};return{elFormItem:r,slider:s,firstButton:a,secondButton:o,sliderDisabled:c,minValue:d,maxValue:p,runwayStyle:y,barStyle:_,resetSize:w,setPosition:M,emitChange:k,onSliderWrapperPrevent:$=>{var J,Y;((J=l.firstButton.value)!=null&&J.dragging||(Y=l.secondButton.value)!=null&&Y.dragging)&&$.preventDefault()},onSliderClick:$=>{I($)&&k()},onSliderDown:async $=>{const J=I($);J&&(await _t(),J.value.onButtonDown($))},onSliderMarkerDown:$=>{c.value||e.dragging||M($)},setFirstValue:E,setSecondValue:x}},{left:Dee,down:Fee,right:Bee,up:Uee,home:Vee,end:zee,pageUp:$ee,pageDown:Hee}=Et,Gee=(t,e,n)=>{const i=W(),r=W(!1),s=L(()=>e.value instanceof Function),a=L(()=>s.value&&e.value(t.modelValue)||t.modelValue),o=Br(()=>{n.value&&(r.value=!0)},50),l=Br(()=>{n.value&&(r.value=!1)},50);return{tooltip:i,tooltipVisible:r,formatValue:a,displayTooltip:o,hideTooltip:l}},Wee=(t,e,n)=>{const{disabled:i,min:r,max:s,step:a,showTooltip:o,precision:l,sliderSize:c,formatTooltip:d,emitChange:p,resetSize:v,updateDragging:g}=dt(wA),{tooltip:y,tooltipVisible:_,formatValue:w,displayTooltip:b,hideTooltip:M}=Gee(t,d,o),E=W(),x=L(()=>`${(t.modelValue-r.value)/(s.value-r.value)*100}%`),T=L(()=>t.vertical?{bottom:x.value}:{left:x.value}),k=()=>{e.hovering=!0,b()},I=()=>{e.hovering=!1,e.dragging||M()},O=ce=>{i.value||(ce.preventDefault(),q(ce),window.addEventListener("mousemove",D),window.addEventListener("touchmove",D),window.addEventListener("mouseup",V),window.addEventListener("touchend",V),window.addEventListener("contextmenu",V),E.value.focus())},U=ce=>{i.value||(e.newPosition=Number.parseFloat(x.value)+ce/(s.value-r.value)*100,ee(e.newPosition),p())},R=()=>{U(-a.value)},N=()=>{U(a.value)},$=()=>{U(-a.value*4)},J=()=>{U(a.value*4)},Y=()=>{i.value||(ee(0),p())},H=()=>{i.value||(ee(100),p())},B=ce=>{let ae=!0;[Dee,Fee].includes(ce.key)?R():[Bee,Uee].includes(ce.key)?N():ce.key===Vee?Y():ce.key===zee?H():ce.key===Hee?$():ce.key===$ee?J():ae=!1,ae&&ce.preventDefault()},X=ce=>{let ae,le;return ce.type.startsWith("touch")?(le=ce.touches[0].clientY,ae=ce.touches[0].clientX):(le=ce.clientY,ae=ce.clientX),{clientX:ae,clientY:le}},q=ce=>{e.dragging=!0,e.isClick=!0;const{clientX:ae,clientY:le}=X(ce);t.vertical?e.startY=le:e.startX=ae,e.startPosition=Number.parseFloat(x.value),e.newPosition=e.startPosition},D=ce=>{if(e.dragging){e.isClick=!1,b(),v();let ae;const{clientX:le,clientY:ye}=X(ce);t.vertical?(e.currentY=ye,ae=(e.startY-e.currentY)/c.value*100):(e.currentX=le,ae=(e.currentX-e.startX)/c.value*100),e.newPosition=e.startPosition+ae,ee(e.newPosition)}},V=()=>{e.dragging&&(setTimeout(()=>{e.dragging=!1,e.hovering||M(),e.isClick||ee(e.newPosition),p()},0),window.removeEventListener("mousemove",D),window.removeEventListener("touchmove",D),window.removeEventListener("mouseup",V),window.removeEventListener("touchend",V),window.removeEventListener("contextmenu",V))},ee=async ce=>{if(ce===null||Number.isNaN(+ce))return;ce<0?ce=0:ce>100&&(ce=100);const ae=100/((s.value-r.value)/a.value);let ye=Math.round(ce/ae)*ae*(s.value-r.value)*.01+r.value;ye=Number.parseFloat(ye.toFixed(l.value)),ye!==t.modelValue&&n(Kt,ye),!e.dragging&&t.modelValue!==e.oldValue&&(e.oldValue=t.modelValue),await _t(),e.dragging&&b(),y.value.updatePopper()};return Le(()=>e.dragging,ce=>{g(ce)}),bn(E,"touchstart",O,{passive:!1}),{disabled:i,button:E,tooltip:y,tooltipVisible:_,showTooltip:o,wrapperStyle:T,formatValue:w,handleMouseEnter:k,handleMouseLeave:I,onButtonDown:O,onKeyDown:B,setPosition:ee}},Kee=(t,e,n,i)=>({stops:L(()=>{if(!t.showStops||t.min>t.max)return[];if(t.step===0)return[];const a=(t.max-t.min)/t.step,o=100*t.step/(t.max-t.min),l=Array.from({length:a-1}).map((c,d)=>(d+1)*o);return t.range?l.filter(c=>c<100*(n.value-t.min)/(t.max-t.min)||c>100*(i.value-t.min)/(t.max-t.min)):l.filter(c=>c>100*(e.firstValue-t.min)/(t.max-t.min))}),getStopStyle:a=>t.vertical?{bottom:`${a}%`}:{left:`${a}%`}}),qee=(t,e,n,i,r,s)=>{const a=c=>{r(Kt,c),r(gr,c)},o=()=>t.range?![n.value,i.value].every((c,d)=>c===e.oldValue[d]):t.modelValue!==e.oldValue,l=()=>{var c,d;t.min>t.max&&yi("Slider","min should not be greater than max.");const p=t.modelValue;t.range&&Array.isArray(p)?p[1]<t.min?a([t.min,t.min]):p[0]>t.max?a([t.max,t.max]):p[0]<t.min?a([t.min,p[1]]):p[1]>t.max?a([p[0],t.max]):(e.firstValue=p[0],e.secondValue=p[1],o()&&(t.validateEvent&&((c=s==null?void 0:s.validate)==null||c.call(s,"change").catch(v=>void 0)),e.oldValue=p.slice())):!t.range&&typeof p=="number"&&!Number.isNaN(p)&&(p<t.min?a(t.min):p>t.max?a(t.max):(e.firstValue=p,o()&&(t.validateEvent&&((d=s==null?void 0:s.validate)==null||d.call(s,"change").catch(v=>void 0)),e.oldValue=p)))};l(),Le(()=>e.dragging,c=>{c||l()}),Le(()=>t.modelValue,(c,d)=>{e.dragging||Array.isArray(c)&&Array.isArray(d)&&c.every((p,v)=>p===d[v])&&e.firstValue===c[0]&&e.secondValue===c[1]||l()},{deep:!0}),Le(()=>[t.min,t.max],()=>{l()})},Yee=Ge({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Va,default:"top"}}),jee={[Kt]:t=>Pt(t)},Xee=ie({name:"ElSliderButton"}),Zee=ie({...Xee,props:Yee,emits:jee,setup(t,{expose:e,emit:n}){const i=t,r=Fe("slider"),s=Xt({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:i.modelValue}),{disabled:a,button:o,tooltip:l,showTooltip:c,tooltipVisible:d,wrapperStyle:p,formatValue:v,handleMouseEnter:g,handleMouseLeave:y,onButtonDown:_,onKeyDown:w,setPosition:b}=Wee(i,s,n),{hovering:M,dragging:E}=Oi(s);return e({onButtonDown:_,onKeyDown:w,setPosition:b,hovering:M,dragging:E}),(x,T)=>(P(),K("div",{ref_key:"button",ref:o,class:z([f(r).e("button-wrapper"),{hover:f(M),dragging:f(E)}]),style:bt(f(p)),tabindex:f(a)?-1:0,onMouseenter:f(g),onMouseleave:f(y),onMousedown:f(_),onFocus:f(g),onBlur:f(y),onKeydown:f(w)},[Q(f(vi),{ref_key:"tooltip",ref:l,visible:f(d),placement:x.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":x.tooltipClass,disabled:!f(c),persistent:""},{content:te(()=>[Z("span",null,Ne(f(v)),1)]),default:te(()=>[Z("div",{class:z([f(r).e("button"),{hover:f(M),dragging:f(E)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}});var Ow=We(Zee,[["__file","button.vue"]]);const Jee=Ge({mark:{type:_e([String,Object]),default:void 0}});var Qee=ie({name:"ElSliderMarker",props:Jee,setup(t){const e=Fe("slider"),n=L(()=>Wt(t.mark)?t.mark:t.mark.label),i=L(()=>Wt(t.mark)?void 0:t.mark.style);return()=>Ct("div",{class:e.e("marks-text"),style:i.value},n.value)}});const ete=ie({name:"ElSlider"}),tte=ie({...ete,props:Ree,emits:Iee,setup(t,{expose:e,emit:n}){const i=t,r=Fe("slider"),{t:s}=rn(),a=Xt({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:o,slider:l,firstButton:c,secondButton:d,sliderDisabled:p,minValue:v,maxValue:g,runwayStyle:y,barStyle:_,resetSize:w,emitChange:b,onSliderWrapperPrevent:M,onSliderClick:E,onSliderDown:x,onSliderMarkerDown:T,setFirstValue:k,setSecondValue:I}=Oee(i,a,n),{stops:O,getStopStyle:U}=Kee(i,a,v,g),{inputId:R,isLabeledByFormItem:N}=Gs(i,{formItemContext:o}),$=pi(),J=L(()=>i.inputSize||$.value),Y=L(()=>i.ariaLabel||s("el.slider.defaultLabel",{min:i.min,max:i.max})),H=L(()=>i.range?i.rangeStartLabel||s("el.slider.defaultRangeStartLabel"):Y.value),B=L(()=>i.formatValueText?i.formatValueText(ae.value):`${ae.value}`),X=L(()=>i.rangeEndLabel||s("el.slider.defaultRangeEndLabel")),q=L(()=>i.formatValueText?i.formatValueText(le.value):`${le.value}`),D=L(()=>[r.b(),r.m($.value),r.is("vertical",i.vertical),{[r.m("with-input")]:i.showInput}]),V=Nee(i);qee(i,a,v,g,n,o);const ee=L(()=>{const pe=[i.min,i.max,i.step].map(ue=>{const Me=`${ue}`.split(".")[1];return Me?Me.length:0});return Math.max.apply(null,pe)}),{sliderWrapper:ce}=Lee(i,a,w),{firstValue:ae,secondValue:le,sliderSize:ye}=Oi(a),Ee=pe=>{a.dragging=pe};return bn(ce,"touchstart",M,{passive:!1}),bn(ce,"touchmove",M,{passive:!1}),Jt(wA,{...Oi(i),sliderSize:ye,disabled:p,precision:ee,emitChange:b,resetSize:w,updateDragging:Ee}),e({onSliderClick:E}),(pe,ue)=>{var Me,De;return P(),K("div",{id:pe.range?f(R):void 0,ref_key:"sliderWrapper",ref:ce,class:z(f(D)),role:pe.range?"group":void 0,"aria-label":pe.range&&!f(N)?f(Y):void 0,"aria-labelledby":pe.range&&f(N)?(Me=f(o))==null?void 0:Me.labelId:void 0},[Z("div",{ref_key:"slider",ref:l,class:z([f(r).e("runway"),{"show-input":pe.showInput&&!pe.range},f(r).is("disabled",f(p))]),style:bt(f(y)),onMousedown:f(x),onTouchstartPassive:f(x)},[Z("div",{class:z(f(r).e("bar")),style:bt(f(_))},null,6),Q(Ow,{id:pe.range?void 0:f(R),ref_key:"firstButton",ref:c,"model-value":f(ae),vertical:pe.vertical,"tooltip-class":pe.tooltipClass,placement:pe.placement,role:"slider","aria-label":pe.range||!f(N)?f(H):void 0,"aria-labelledby":!pe.range&&f(N)?(De=f(o))==null?void 0:De.labelId:void 0,"aria-valuemin":pe.min,"aria-valuemax":pe.range?f(le):pe.max,"aria-valuenow":f(ae),"aria-valuetext":f(B),"aria-orientation":pe.vertical?"vertical":"horizontal","aria-disabled":f(p),"onUpdate:modelValue":f(k)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),pe.range?(P(),we(Ow,{key:0,ref_key:"secondButton",ref:d,"model-value":f(le),vertical:pe.vertical,"tooltip-class":pe.tooltipClass,placement:pe.placement,role:"slider","aria-label":f(X),"aria-valuemin":f(ae),"aria-valuemax":pe.max,"aria-valuenow":f(le),"aria-valuetext":f(q),"aria-orientation":pe.vertical?"vertical":"horizontal","aria-disabled":f(p),"onUpdate:modelValue":f(I)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):he("v-if",!0),pe.showStops?(P(),K("div",{key:1},[(P(!0),K(ct,null,Vt(f(O),(xe,G)=>(P(),K("div",{key:G,class:z(f(r).e("stop")),style:bt(f(U)(xe))},null,6))),128))])):he("v-if",!0),f(V).length>0?(P(),K(ct,{key:2},[Z("div",null,[(P(!0),K(ct,null,Vt(f(V),(xe,G)=>(P(),K("div",{key:G,style:bt(f(U)(xe.position)),class:z([f(r).e("stop"),f(r).e("marks-stop")])},null,6))),128))]),Z("div",{class:z(f(r).e("marks"))},[(P(!0),K(ct,null,Vt(f(V),(xe,G)=>(P(),we(f(Qee),{key:G,mark:xe.mark,style:bt(f(U)(xe.position)),onMousedown:Mt(He=>f(T)(xe.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):he("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),pe.showInput&&!pe.range?(P(),we(f(YT),{key:0,ref:"input","model-value":f(ae),class:z(f(r).e("input")),step:pe.step,disabled:f(p),controls:pe.showInputControls,min:pe.min,max:pe.max,precision:f(ee),debounce:pe.debounce,size:f(J),"onUpdate:modelValue":f(k),onChange:f(b)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):he("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});var nte=We(tte,[["__file","slider.vue"]]);const ite=Ft(nte),rte=Ge({prefixCls:{type:String}}),Dw=ie({name:"ElSpaceItem",props:rte,setup(t,{slots:e}){const n=Fe("space"),i=L(()=>`${t.prefixCls||n.b()}__item`);return()=>Ct("div",{class:i.value},oe(e,"default"))}}),Fw={small:8,default:12,large:16};function ste(t){const e=Fe("space"),n=L(()=>[e.b(),e.m(t.direction),t.class]),i=W(0),r=W(0),s=L(()=>{const o=t.wrap||t.fill?{flexWrap:"wrap"}:{},l={alignItems:t.alignment},c={rowGap:`${r.value}px`,columnGap:`${i.value}px`};return[o,l,c,t.style]}),a=L(()=>t.fill?{flexGrow:1,minWidth:`${t.fillRatio}%`}:{});return gi(()=>{const{size:o="small",wrap:l,direction:c,fill:d}=t;if(Ot(o)){const[p=0,v=0]=o;i.value=p,r.value=v}else{let p;Pt(o)?p=o:p=Fw[o||"small"]||Fw.small,(l||d)&&c==="horizontal"?i.value=r.value=p:c==="horizontal"?(i.value=p,r.value=0):(r.value=p,i.value=0)}}),{classes:n,containerStyle:s,itemStyle:a}}const ate=Ge({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:_e([String,Object,Array]),default:""},style:{type:_e([String,Array,Object]),default:""},alignment:{type:_e(String),default:"center"},prefixCls:{type:String},spacer:{type:_e([Object,String,Number,Array]),default:null,validator:t=>ri(t)||Pt(t)||Wt(t)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:ca,validator:t=>Pt(t)||Ot(t)&&t.length===2&&t.every(Pt)}}),ote=ie({name:"ElSpace",props:ate,setup(t,{slots:e}){const{classes:n,containerStyle:i,itemStyle:r}=ste(t);function s(a,o="",l=[]){const{prefixCls:c}=t;return a.forEach((d,p)=>{Yv(d)?Ot(d.children)&&d.children.forEach((v,g)=>{Yv(v)&&Ot(v.children)?s(v.children,`${o+g}-`,l):l.push(Q(Dw,{style:r.value,prefixCls:c,key:`nested-${o+g}`},{default:()=>[v]},ss.PROPS|ss.STYLE,["style","prefixCls"]))}):Ez(d)&&l.push(Q(Dw,{style:r.value,prefixCls:c,key:`LoopKey${o+p}`},{default:()=>[d]},ss.PROPS|ss.STYLE,["style","prefixCls"]))}),l}return()=>{var a;const{spacer:o,direction:l}=t,c=oe(e,"default",{key:0},()=>[]);if(((a=c.children)!=null?a:[]).length===0)return null;if(Ot(c.children)){let d=s(c.children);if(o){const p=d.length-1;d=d.reduce((v,g,y)=>{const _=[...v,g];return y!==p&&_.push(Q("span",{style:[r.value,l==="vertical"?"width: 100%":null],key:y},[ri(o)?o:pt(o,ss.TEXT)],ss.STYLE)),_},[])}return Q("div",{class:n.value,style:i.value},d,ss.STYLE|ss.CLASS)}return c.children}}}),lte=Ft(ote),ute=Ge({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:_e([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:_e([String,Object,Array])}}),cte=ie({name:"ElStatistic"}),dte=ie({...cte,props:ute,setup(t,{expose:e}){const n=t,i=Fe("statistic"),r=L(()=>{const{value:s,formatter:a,precision:o,decimalSeparator:l,groupSeparator:c}=n;if(cn(a))return a(s);if(!Pt(s)||Number.isNaN(s))return s;let[d,p=""]=String(s).split(".");return p=p.padEnd(o,"0").slice(0,o>0?o:0),d=d.replace(/\B(?=(\d{3})+(?!\d))/g,c),[d,p].join(p?l:"")});return e({displayValue:r}),(s,a)=>(P(),K("div",{class:z(f(i).b())},[s.$slots.title||s.title?(P(),K("div",{key:0,class:z(f(i).e("head"))},[oe(s.$slots,"title",{},()=>[pt(Ne(s.title),1)])],2)):he("v-if",!0),Z("div",{class:z(f(i).e("content"))},[s.$slots.prefix||s.prefix?(P(),K("div",{key:0,class:z(f(i).e("prefix"))},[oe(s.$slots,"prefix",{},()=>[Z("span",null,Ne(s.prefix),1)])],2)):he("v-if",!0),Z("span",{class:z(f(i).e("number")),style:bt(s.valueStyle)},Ne(f(r)),7),s.$slots.suffix||s.suffix?(P(),K("div",{key:1,class:z(f(i).e("suffix"))},[oe(s.$slots,"suffix",{},()=>[Z("span",null,Ne(s.suffix),1)])],2)):he("v-if",!0)],2)],2))}});var fte=We(dte,[["__file","statistic.vue"]]);const SA=Ft(fte),hte=Ge({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:_e([Number,Object]),default:0},valueStyle:{type:_e([String,Object,Array])}}),pte={finish:()=>!0,[Nn]:t=>Pt(t)},mte=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],Bw=t=>Pt(t)?new Date(t).getTime():t.valueOf(),Uw=(t,e)=>{let n=t;const i=/\[([^\]]*)]/g;return mte.reduce((s,[a,o])=>{const l=new RegExp(`${a}+(?![^\\[\\]]*\\])`,"g");if(l.test(s)){const c=Math.floor(n/o);return n-=c*o,s.replace(l,d=>String(c).padStart(d.length,"0"))}return s},e).replace(i,"$1")},vte=ie({name:"ElCountdown"}),gte=ie({...vte,props:hte,emits:pte,setup(t,{expose:e,emit:n}){const i=t;let r;const s=W(0),a=L(()=>Uw(s.value,i.format)),o=d=>Uw(d,i.format),l=()=>{r&&(wl(r),r=void 0)},c=()=>{const d=Bw(i.value),p=()=>{let v=d-Date.now();n("change",v),v<=0?(v=0,l(),n("finish")):r=yo(p),s.value=v};r=yo(p)};return St(()=>{s.value=Bw(i.value)-Date.now(),Le(()=>[i.value,i.format],()=>{l(),c()},{immediate:!0})}),Tn(()=>{l()}),e({displayValue:a}),(d,p)=>(P(),we(f(SA),{value:s.value,title:d.title,prefix:d.prefix,suffix:d.suffix,"value-style":d.valueStyle,formatter:o},hs({_:2},[Vt(d.$slots,(v,g)=>({name:g,fn:te(()=>[oe(d.$slots,g)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var yte=We(gte,[["__file","countdown.vue"]]);const _te=Ft(yte),bte=Ge({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),wte={[Nn]:(t,e)=>[t,e].every(Pt)},Ste=ie({name:"ElSteps"}),Ete=ie({...Ste,props:bte,emits:wte,setup(t,{emit:e}){const n=t,i=Fe("steps"),{children:r,addChild:s,removeChild:a}=Ry(Yt(),"ElStep");return Le(r,()=>{r.value.forEach((o,l)=>{o.setIndex(l)})}),Jt("ElSteps",{props:n,steps:r,addStep:s,removeStep:a}),Le(()=>n.active,(o,l)=>{e(Nn,o,l)}),(o,l)=>(P(),K("div",{class:z([f(i).b(),f(i).m(o.simple?"simple":o.direction)])},[oe(o.$slots,"default")],2))}});var Cte=We(Ete,[["__file","steps.vue"]]);const xte=Ge({title:{type:String,default:""},icon:{type:En},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),Mte=ie({name:"ElStep"}),Tte=ie({...Mte,props:xte,setup(t){const e=t,n=Fe("step"),i=W(-1),r=W({}),s=W(""),a=dt("ElSteps"),o=Yt();St(()=>{Le([()=>a.props.active,()=>a.props.processStatus,()=>a.props.finishStatus],([k])=>{x(k)},{immediate:!0})}),Tn(()=>{a.removeStep(T.uid)});const l=L(()=>e.status||s.value),c=L(()=>{const k=a.steps.value[i.value-1];return k?k.currentStatus:"wait"}),d=L(()=>a.props.alignCenter),p=L(()=>a.props.direction==="vertical"),v=L(()=>a.props.simple),g=L(()=>a.steps.value.length),y=L(()=>{var k;return((k=a.steps.value[g.value-1])==null?void 0:k.uid)===(o==null?void 0:o.uid)}),_=L(()=>v.value?"":a.props.space),w=L(()=>[n.b(),n.is(v.value?"simple":a.props.direction),n.is("flex",y.value&&!_.value&&!d.value),n.is("center",d.value&&!p.value&&!v.value)]),b=L(()=>{const k={flexBasis:Pt(_.value)?`${_.value}px`:_.value?_.value:`${100/(g.value-(d.value?0:1))}%`};return p.value||y.value&&(k.maxWidth=`${100/g.value}%`),k}),M=k=>{i.value=k},E=k=>{const I=k==="wait",O={transitionDelay:`${I?"-":""}${150*i.value}ms`},U=k===a.props.processStatus||I?0:100;O.borderWidth=U&&!v.value?"1px":0,O[a.props.direction==="vertical"?"height":"width"]=`${U}%`,r.value=O},x=k=>{k>i.value?s.value=a.props.finishStatus:k===i.value&&c.value!=="error"?s.value=a.props.processStatus:s.value="wait";const I=a.steps.value[i.value-1];I&&I.calcProgress(s.value)},T=Xt({uid:o.uid,currentStatus:l,setIndex:M,calcProgress:E});return a.addStep(T),(k,I)=>(P(),K("div",{style:bt(f(b)),class:z(f(w))},[he(" icon & line "),Z("div",{class:z([f(n).e("head"),f(n).is(f(l))])},[f(v)?he("v-if",!0):(P(),K("div",{key:0,class:z(f(n).e("line"))},[Z("i",{class:z(f(n).e("line-inner")),style:bt(r.value)},null,6)],2)),Z("div",{class:z([f(n).e("icon"),f(n).is(k.icon||k.$slots.icon?"icon":"text")])},[oe(k.$slots,"icon",{},()=>[k.icon?(P(),we(f(ft),{key:0,class:z(f(n).e("icon-inner"))},{default:te(()=>[(P(),we(zt(k.icon)))]),_:1},8,["class"])):f(l)==="success"?(P(),we(f(ft),{key:1,class:z([f(n).e("icon-inner"),f(n).is("status")])},{default:te(()=>[Q(f(Ad))]),_:1},8,["class"])):f(l)==="error"?(P(),we(f(ft),{key:2,class:z([f(n).e("icon-inner"),f(n).is("status")])},{default:te(()=>[Q(f(Bs))]),_:1},8,["class"])):f(v)?he("v-if",!0):(P(),K("div",{key:3,class:z(f(n).e("icon-inner"))},Ne(i.value+1),3))])],2)],2),he(" title & description "),Z("div",{class:z(f(n).e("main"))},[Z("div",{class:z([f(n).e("title"),f(n).is(f(l))])},[oe(k.$slots,"title",{},()=>[pt(Ne(k.title),1)])],2),f(v)?(P(),K("div",{key:0,class:z(f(n).e("arrow"))},null,2)):(P(),K("div",{key:1,class:z([f(n).e("description"),f(n).is(f(l))])},[oe(k.$slots,"description",{},()=>[pt(Ne(k.description),1)])],2))],2)],6))}});var EA=We(Tte,[["__file","item.vue"]]);const Ate=Ft(Cte,{Step:EA}),kte=Vn(EA),Pte=Ge({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:Tx},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:En},activeActionIcon:{type:En},activeIcon:{type:En},inactiveIcon:{type:En},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:_e(Function)},id:String,tabindex:{type:[String,Number]},...$i(["ariaLabel"])}),Rte={[Kt]:t=>Gn(t)||Wt(t)||Pt(t),[Nn]:t=>Gn(t)||Wt(t)||Pt(t),[gr]:t=>Gn(t)||Wt(t)||Pt(t)},CA="ElSwitch",Ite=ie({name:CA}),Lte=ie({...Ite,props:Pte,emits:Rte,setup(t,{expose:e,emit:n}){const i=t,{formItem:r}=or(),s=pi(),a=Fe("switch"),{inputId:o}=Gs(i,{formItemContext:r}),l=ar(L(()=>i.loading)),c=W(i.modelValue!==!1),d=W(),p=W(),v=L(()=>[a.b(),a.m(s.value),a.is("disabled",l.value),a.is("checked",b.value)]),g=L(()=>[a.e("label"),a.em("label","left"),a.is("active",!b.value)]),y=L(()=>[a.e("label"),a.em("label","right"),a.is("active",b.value)]),_=L(()=>({width:Jn(i.width)}));Le(()=>i.modelValue,()=>{c.value=!0});const w=L(()=>c.value?i.modelValue:!1),b=L(()=>w.value===i.activeValue);[i.activeValue,i.inactiveValue].includes(w.value)||(n(Kt,i.inactiveValue),n(Nn,i.inactiveValue),n(gr,i.inactiveValue)),Le(b,T=>{var k;d.value.checked=T,i.validateEvent&&((k=r==null?void 0:r.validate)==null||k.call(r,"change").catch(I=>void 0))});const M=()=>{const T=b.value?i.inactiveValue:i.activeValue;n(Kt,T),n(Nn,T),n(gr,T),_t(()=>{d.value.checked=b.value})},E=()=>{if(l.value)return;const{beforeChange:T}=i;if(!T){M();return}const k=T();[Lv(k),Gn(k)].includes(!0)||yi(CA,"beforeChange must return type `Promise<boolean>` or `boolean`"),Lv(k)?k.then(O=>{O&&M()}).catch(O=>{}):k&&M()},x=()=>{var T,k;(k=(T=d.value)==null?void 0:T.focus)==null||k.call(T)};return St(()=>{d.value.checked=b.value}),e({focus:x,checked:b}),(T,k)=>(P(),K("div",{class:z(f(v)),onClick:Mt(E,["prevent"])},[Z("input",{id:f(o),ref_key:"input",ref:d,class:z(f(a).e("input")),type:"checkbox",role:"switch","aria-checked":f(b),"aria-disabled":f(l),"aria-label":T.ariaLabel,name:T.name,"true-value":T.activeValue,"false-value":T.inactiveValue,disabled:f(l),tabindex:T.tabindex,onChange:M,onKeydown:vn(E,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!T.inlinePrompt&&(T.inactiveIcon||T.inactiveText)?(P(),K("span",{key:0,class:z(f(g))},[T.inactiveIcon?(P(),we(f(ft),{key:0},{default:te(()=>[(P(),we(zt(T.inactiveIcon)))]),_:1})):he("v-if",!0),!T.inactiveIcon&&T.inactiveText?(P(),K("span",{key:1,"aria-hidden":f(b)},Ne(T.inactiveText),9,["aria-hidden"])):he("v-if",!0)],2)):he("v-if",!0),Z("span",{ref_key:"core",ref:p,class:z(f(a).e("core")),style:bt(f(_))},[T.inlinePrompt?(P(),K("div",{key:0,class:z(f(a).e("inner"))},[T.activeIcon||T.inactiveIcon?(P(),we(f(ft),{key:0,class:z(f(a).is("icon"))},{default:te(()=>[(P(),we(zt(f(b)?T.activeIcon:T.inactiveIcon)))]),_:1},8,["class"])):T.activeText||T.inactiveText?(P(),K("span",{key:1,class:z(f(a).is("text")),"aria-hidden":!f(b)},Ne(f(b)?T.activeText:T.inactiveText),11,["aria-hidden"])):he("v-if",!0)],2)):he("v-if",!0),Z("div",{class:z(f(a).e("action"))},[T.loading?(P(),we(f(ft),{key:0,class:z(f(a).is("loading"))},{default:te(()=>[Q(f(ra))]),_:1},8,["class"])):f(b)?oe(T.$slots,"active-action",{key:1},()=>[T.activeActionIcon?(P(),we(f(ft),{key:0},{default:te(()=>[(P(),we(zt(T.activeActionIcon)))]),_:1})):he("v-if",!0)]):f(b)?he("v-if",!0):oe(T.$slots,"inactive-action",{key:2},()=>[T.inactiveActionIcon?(P(),we(f(ft),{key:0},{default:te(()=>[(P(),we(zt(T.inactiveActionIcon)))]),_:1})):he("v-if",!0)])],2)],6),!T.inlinePrompt&&(T.activeIcon||T.activeText)?(P(),K("span",{key:1,class:z(f(y))},[T.activeIcon?(P(),we(f(ft),{key:0},{default:te(()=>[(P(),we(zt(T.activeIcon)))]),_:1})):he("v-if",!0),!T.activeIcon&&T.activeText?(P(),K("span",{key:1,"aria-hidden":!f(b)},Ne(T.activeText),9,["aria-hidden"])):he("v-if",!0)],2)):he("v-if",!0)],10,["onClick"]))}});var Nte=We(Lte,[["__file","switch.vue"]]);const Ote=Ft(Nte),Lm=function(t){var e;return(e=t.target)==null?void 0:e.closest("td")},Dte=function(t,e,n,i,r){if(!e&&!i&&(!r||Array.isArray(r)&&!r.length))return t;typeof n=="string"?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const s=i?null:function(o,l){return r?(Array.isArray(r)||(r=[r]),r.map(c=>typeof c=="string"?ni(o,c):c(o,l,t))):(e!=="$key"&&Sn(o)&&"$value"in o&&(o=o.$value),[Sn(o)?ni(o,e):o])},a=function(o,l){if(i)return i(o.value,l.value);for(let c=0,d=o.key.length;c<d;c++){if(o.key[c]<l.key[c])return-1;if(o.key[c]>l.key[c])return 1}return 0};return t.map((o,l)=>({value:o,index:l,key:s?s(o,l):null})).sort((o,l)=>{let c=a(o,l);return c||(c=o.index-l.index),c*+n}).map(o=>o.value)},xA=function(t,e){let n=null;return t.columns.forEach(i=>{i.id===e&&(n=i)}),n},Fte=function(t,e){let n=null;for(let i=0;i<t.columns.length;i++){const r=t.columns[i];if(r.columnKey===e){n=r;break}}return n||yi("ElTable",`No column matching with column-key: ${e}`),n},Vw=function(t,e,n){const i=(e.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return i?xA(t,i[0]):null},er=(t,e)=>{if(!t)throw new Error("Row is required when get row identity");if(typeof e=="string"){if(!e.includes("."))return`${t[e]}`;const n=e.split(".");let i=t;for(const r of n)i=i[r];return`${i}`}else if(typeof e=="function")return e.call(null,t)},nl=function(t,e){const n={};return(t||[]).forEach((i,r)=>{n[er(i,e)]={row:i,index:r}}),n};function Bte(t,e){const n={};let i;for(i in t)n[i]=t[i];for(i in e)if(qi(e,i)){const r=e[i];typeof r<"u"&&(n[i]=r)}return n}function a_(t){return t===""||t!==void 0&&(t=Number.parseInt(t,10),Number.isNaN(t)&&(t="")),t}function MA(t){return t===""||t!==void 0&&(t=a_(t),Number.isNaN(t)&&(t=80)),t}function Ute(t){return typeof t=="number"?t:typeof t=="string"?/^\d+(?:px)?$/.test(t)?Number.parseInt(t,10):t:null}function Vte(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function $h(t,e,n,i,r,s){let a=s??0,o=!1;const l=t.indexOf(e),c=l!==-1,d=r==null?void 0:r.call(null,e,s),p=g=>{g==="add"?t.push(e):t.splice(l,1),o=!0},v=g=>{let y=0;const _=(i==null?void 0:i.children)&&g[i.children];return _&&Ot(_)&&(y+=_.length,_.forEach(w=>{y+=v(w)})),y};return(!r||d)&&(Gn(n)?n&&!c?p("add"):!n&&c&&p("remove"):p(c?"remove":"add")),!(i!=null&&i.checkStrictly)&&(i!=null&&i.children)&&Ot(e[i.children])&&e[i.children].forEach(g=>{$h(t,g,n??!c,i,r,a+1),a+=v(g)+1}),o}function zte(t,e,n="children",i="hasChildren"){const r=a=>!(Array.isArray(a)&&a.length);function s(a,o,l){e(a,o,l),o.forEach(c=>{if(c[i]){e(c,null,l+1);return}const d=c[n];r(d)||s(c,d,l+1)})}t.forEach(a=>{if(a[i]){e(a,null,0);return}const o=a[n];r(o)||s(a,o,0)})}let is=null;function $te(t,e,n,i){if((is==null?void 0:is.trigger)===n)return;is==null||is();const r=i==null?void 0:i.refs.tableWrapper,s=r==null?void 0:r.dataset.prefix,a={strategy:"fixed",...t.popperOptions},o=Q(vi,{content:e,virtualTriggering:!0,virtualRef:n,appendTo:r,placement:"top",transition:"none",offset:0,hideAfter:0,...t,popperOptions:a,onHide:()=>{is==null||is()}});o.appContext={...i.appContext,...i};const l=document.createElement("div");ho(o,l),o.component.exposed.onOpen();const c=r==null?void 0:r.querySelector(`.${s}-scrollbar__wrap`);is=()=>{ho(null,l),c==null||c.removeEventListener("scroll",is),is=null},is.trigger=n,c==null||c.addEventListener("scroll",is)}function TA(t){return t.children?j6(t.children,TA):[t]}function zw(t,e){return t+e.colSpan}const AA=(t,e,n,i)=>{let r=0,s=t;const a=n.states.columns.value;if(i){const l=TA(i[t]);r=a.slice(0,a.indexOf(l[0])).reduce(zw,0),s=r+l.reduce(zw,0)-1}else r=t;let o;switch(e){case"left":s<n.states.fixedLeafColumnsLength.value&&(o="left");break;case"right":r>=a.length-n.states.rightFixedLeafColumnsLength.value&&(o="right");break;default:s<n.states.fixedLeafColumnsLength.value?o="left":r>=a.length-n.states.rightFixedLeafColumnsLength.value&&(o="right")}return o?{direction:o,start:r,after:s}:{}},o_=(t,e,n,i,r,s=0)=>{const a=[],{direction:o,start:l,after:c}=AA(e,n,i,r);if(o){const d=o==="left";a.push(`${t}-fixed-column--${o}`),d&&c+s===i.states.fixedLeafColumnsLength.value-1?a.push("is-last-column"):!d&&l-s===i.states.columns.value.length-i.states.rightFixedLeafColumnsLength.value&&a.push("is-first-column")}return a};function $w(t,e){return t+(e.realWidth===null||Number.isNaN(e.realWidth)?Number(e.width):e.realWidth)}const l_=(t,e,n,i)=>{const{direction:r,start:s=0,after:a=0}=AA(t,e,n,i);if(!r)return;const o={},l=r==="left",c=n.states.columns.value;return l?o.left=c.slice(0,s).reduce($w,0):o.right=c.slice(a+1).reverse().reduce($w,0),o},Ku=(t,e)=>{t&&(Number.isNaN(t[e])||(t[e]=`${t[e]}px`))};function Hte(t){const e=Yt(),n=W(!1),i=W([]);return{updateExpandRows:()=>{const l=t.data.value||[],c=t.rowKey.value;if(n.value)i.value=l.slice();else if(c){const d=nl(i.value,c);i.value=l.reduce((p,v)=>{const g=er(v,c);return d[g]&&p.push(v),p},[])}else i.value=[]},toggleRowExpansion:(l,c)=>{$h(i.value,l,c)&&e.emit("expand-change",l,i.value.slice())},setExpandRowKeys:l=>{e.store.assertRowKey();const c=t.data.value||[],d=t.rowKey.value,p=nl(c,d);i.value=l.reduce((v,g)=>{const y=p[g];return y&&v.push(y.row),v},[])},isRowExpanded:l=>{const c=t.rowKey.value;return c?!!nl(i.value,c)[er(l,c)]:i.value.includes(l)},states:{expandRows:i,defaultExpandAll:n}}}function Gte(t){const e=Yt(),n=W(null),i=W(null),r=c=>{e.store.assertRowKey(),n.value=c,a(c)},s=()=>{n.value=null},a=c=>{const{data:d,rowKey:p}=t;let v=null;p.value&&(v=(f(d)||[]).find(g=>er(g,p.value)===c)),i.value=v,e.emit("current-change",i.value,null)};return{setCurrentRowKey:r,restoreCurrentRowKey:s,setCurrentRowByKey:a,updateCurrentRow:c=>{const d=i.value;if(c&&c!==d){i.value=c,e.emit("current-change",i.value,d);return}!c&&d&&(i.value=null,e.emit("current-change",null,d))},updateCurrentRowData:()=>{const c=t.rowKey.value,d=t.data.value||[],p=i.value;if(!d.includes(p)&&p){if(c){const v=er(p,c);a(v)}else i.value=null;i.value===null&&e.emit("current-change",null,p)}else n.value&&(a(n.value),s())},states:{_currentRowKey:n,currentRow:i}}}function Wte(t){const e=W([]),n=W({}),i=W(16),r=W(!1),s=W({}),a=W("hasChildren"),o=W("children"),l=W(!1),c=Yt(),d=L(()=>{if(!t.rowKey.value)return{};const E=t.data.value||[];return v(E)}),p=L(()=>{const E=t.rowKey.value,x=Object.keys(s.value),T={};return x.length&&x.forEach(k=>{if(s.value[k].length){const I={children:[]};s.value[k].forEach(O=>{const U=er(O,E);I.children.push(U),O[a.value]&&!T[U]&&(T[U]={children:[]})}),T[k]=I}}),T}),v=E=>{const x=t.rowKey.value,T={};return zte(E,(k,I,O)=>{const U=er(k,x);Array.isArray(I)?T[U]={children:I.map(R=>er(R,x)),level:O}:r.value&&(T[U]={children:[],lazy:!0,level:O})},o.value,a.value),T},g=(E=!1,x=(T=>(T=c.store)==null?void 0:T.states.defaultExpandAll.value)())=>{var T;const k=d.value,I=p.value,O=Object.keys(k),U={};if(O.length){const R=f(n),N=[],$=(Y,H)=>{if(E)return e.value?x||e.value.includes(H):!!(x||Y!=null&&Y.expanded);{const B=x||e.value&&e.value.includes(H);return!!(Y!=null&&Y.expanded||B)}};O.forEach(Y=>{const H=R[Y],B={...k[Y]};if(B.expanded=$(H,Y),B.lazy){const{loaded:X=!1,loading:q=!1}=H||{};B.loaded=!!X,B.loading=!!q,N.push(Y)}U[Y]=B});const J=Object.keys(I);r.value&&J.length&&N.length&&J.forEach(Y=>{const H=R[Y],B=I[Y].children;if(N.includes(Y)){if(U[Y].children.length!==0)throw new Error("[ElTable]children must be an empty array.");U[Y].children=B}else{const{loaded:X=!1,loading:q=!1}=H||{};U[Y]={lazy:!0,loaded:!!X,loading:!!q,expanded:$(H,Y),children:B,level:""}}})}n.value=U,(T=c.store)==null||T.updateTableScrollY()};Le(()=>e.value,()=>{g(!0)}),Le(()=>d.value,()=>{g()}),Le(()=>p.value,()=>{g()});const y=E=>{e.value=E,g()},_=(E,x)=>{c.store.assertRowKey();const T=t.rowKey.value,k=er(E,T),I=k&&n.value[k];if(k&&I&&"expanded"in I){const O=I.expanded;x=typeof x>"u"?!I.expanded:x,n.value[k].expanded=x,O!==x&&c.emit("expand-change",E,x),c.store.updateTableScrollY()}},w=E=>{c.store.assertRowKey();const x=t.rowKey.value,T=er(E,x),k=n.value[T];r.value&&k&&"loaded"in k&&!k.loaded?b(E,T,k):_(E,void 0)},b=(E,x,T)=>{const{load:k}=c.props;k&&!n.value[x].loaded&&(n.value[x].loading=!0,k(E,T,I=>{if(!Array.isArray(I))throw new TypeError("[ElTable] data must be an array");n.value[x].loading=!1,n.value[x].loaded=!0,n.value[x].expanded=!0,I.length&&(s.value[x]=I),c.emit("expand-change",E,!0)}))};return{loadData:b,loadOrToggle:w,toggleTreeExpansion:_,updateTreeExpandKeys:y,updateTreeData:g,updateKeyChildren:(E,x)=>{const{lazy:T,rowKey:k}=c.props;if(T){if(!k)throw new Error("[Table] rowKey is required in updateKeyChild");s.value[E]&&(s.value[E]=x)}},normalize:v,states:{expandRowKeys:e,treeData:n,indent:i,lazy:r,lazyTreeNodeMap:s,lazyColumnIdentifier:a,childrenColumnName:o,checkStrictly:l}}}const Kte=(t,e)=>{const n=e.sortingColumn;return!n||typeof n.sortable=="string"?t:Dte(t,e.sortProp,e.sortOrder,n.sortMethod,n.sortBy)},uh=t=>{const e=[];return t.forEach(n=>{n.children&&n.children.length>0?e.push.apply(e,uh(n.children)):e.push(n)}),e};function qte(){var t;const e=Yt(),{size:n}=Oi((t=e.proxy)==null?void 0:t.$props),i=W(null),r=W([]),s=W([]),a=W(!1),o=W([]),l=W([]),c=W([]),d=W([]),p=W([]),v=W([]),g=W([]),y=W([]),_=[],w=W(0),b=W(0),M=W(0),E=W(!1),x=W([]),T=W(!1),k=W(!1),I=W(null),O=W({}),U=W(null),R=W(null),N=W(null),$=W(null),J=W(null);Le(r,()=>e.state&&q(!1),{deep:!0});const Y=()=>{if(!i.value)throw new Error("[ElTable] prop row-key is required")},H=Te=>{var ze;(ze=Te.children)==null||ze.forEach(de=>{de.fixed=Te.fixed,H(de)})};let B;const X=()=>{o.value.forEach(Ie=>{H(Ie)}),d.value=o.value.filter(Ie=>Ie.fixed===!0||Ie.fixed==="left"),p.value=o.value.filter(Ie=>Ie.fixed==="right"),Hn(B)&&o.value[0]&&o.value[0].type==="selection"&&(B=!!o.value[0].fixed),d.value.length>0&&o.value[0]&&o.value[0].type==="selection"&&(o.value[0].fixed?d.value.some(yt=>yt.type!=="selection")?B=void 0:(o.value[0].fixed=B,B||d.value.shift()):(o.value[0].fixed=!0,d.value.unshift(o.value[0])));const Te=o.value.filter(Ie=>!Ie.fixed);l.value=[].concat(d.value).concat(Te).concat(p.value);const ze=uh(Te),de=uh(d.value),be=uh(p.value);w.value=ze.length,b.value=de.length,M.value=be.length,c.value=[].concat(de).concat(ze).concat(be),a.value=d.value.length>0||p.value.length>0},q=(Te,ze=!1)=>{Te&&X(),ze?e.state.doLayout():e.state.debouncedUpdateLayout()},D=Te=>x.value.some(ze=>ir(ze,Te)),V=()=>{E.value=!1;const Te=x.value;x.value=[],Te.length&&e.emit("selection-change",[])},ee=()=>{let Te;if(i.value){Te=[];const ze=nl(x.value,i.value),de=nl(r.value,i.value);for(const be in ze)qi(ze,be)&&!de[be]&&Te.push(ze[be].row)}else Te=x.value.filter(ze=>!r.value.includes(ze));if(Te.length){const ze=x.value.filter(de=>!Te.includes(de));x.value=ze,e.emit("selection-change",ze.slice())}},ce=()=>(x.value||[]).slice(),ae=(Te,ze,de=!0,be=!1)=>{var Ie,yt,Bt,Ce;const ot={children:(yt=(Ie=e==null?void 0:e.store)==null?void 0:Ie.states)==null?void 0:yt.childrenColumnName.value,checkStrictly:(Ce=(Bt=e==null?void 0:e.store)==null?void 0:Bt.states)==null?void 0:Ce.checkStrictly.value};if($h(x.value,Te,ze,ot,be?void 0:I.value)){const et=(x.value||[]).slice();de&&e.emit("select",et,Te),e.emit("selection-change",et)}},le=()=>{var Te,ze;const de=k.value?!E.value:!(E.value||x.value.length);E.value=de;let be=!1,Ie=0;const yt=(ze=(Te=e==null?void 0:e.store)==null?void 0:Te.states)==null?void 0:ze.rowKey.value,{childrenColumnName:Bt}=e.store.states,Ce={children:Bt.value,checkStrictly:!1};r.value.forEach((ot,ve)=>{const et=ve+Ie;$h(x.value,ot,de,Ce,I.value,et)&&(be=!0),Ie+=pe(er(ot,yt))}),be&&e.emit("selection-change",x.value?x.value.slice():[]),e.emit("select-all",(x.value||[]).slice())},ye=()=>{const Te=nl(x.value,i.value);r.value.forEach(ze=>{const de=er(ze,i.value),be=Te[de];be&&(x.value[be.index]=ze)})},Ee=()=>{var Te;if(((Te=r.value)==null?void 0:Te.length)===0){E.value=!1;return}const{childrenColumnName:ze}=e.store.states,de=i.value?nl(x.value,i.value):void 0;let be=0,Ie=0;const yt=ot=>de?!!de[er(ot,i.value)]:x.value.includes(ot),Bt=ot=>{var ve;for(const et of ot){const ut=I.value&&I.value.call(null,et,be);if(yt(et))Ie++;else if(!I.value||ut)return!1;if(be++,(ve=et[ze.value])!=null&&ve.length&&!Bt(et[ze.value]))return!1}return!0},Ce=Bt(r.value||[]);E.value=Ie===0?!1:Ce},pe=Te=>{var ze;if(!e||!e.store)return 0;const{treeData:de}=e.store.states;let be=0;const Ie=(ze=de.value[Te])==null?void 0:ze.children;return Ie&&(be+=Ie.length,Ie.forEach(yt=>{be+=pe(yt)})),be},ue=(Te,ze)=>{Array.isArray(Te)||(Te=[Te]);const de={};return Te.forEach(be=>{O.value[be.id]=ze,de[be.columnKey||be.id]=ze}),de},Me=(Te,ze,de)=>{R.value&&R.value!==Te&&(R.value.order=null),R.value=Te,N.value=ze,$.value=de},De=()=>{let Te=f(s);Object.keys(O.value).forEach(ze=>{const de=O.value[ze];if(!de||de.length===0)return;const be=xA({columns:c.value},ze);be&&be.filterMethod&&(Te=Te.filter(Ie=>de.some(yt=>be.filterMethod.call(null,yt,Ie,be))))}),U.value=Te},xe=()=>{r.value=Kte(U.value,{sortingColumn:R.value,sortProp:N.value,sortOrder:$.value})},G=(Te=void 0)=>{Te&&Te.filter||De(),xe()},He=Te=>{const{tableHeaderRef:ze}=e.refs;if(!ze)return;const de=Object.assign({},ze.filterPanels),be=Object.keys(de);if(be.length)if(typeof Te=="string"&&(Te=[Te]),Array.isArray(Te)){const Ie=Te.map(yt=>Fte({columns:c.value},yt));be.forEach(yt=>{const Bt=Ie.find(Ce=>Ce.id===yt);Bt&&(Bt.filteredValue=[])}),e.store.commit("filterChange",{column:Ie,values:[],silent:!0,multi:!0})}else be.forEach(Ie=>{const yt=c.value.find(Bt=>Bt.id===Ie);yt&&(yt.filteredValue=[])}),O.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},Je=()=>{R.value&&(Me(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:at,toggleRowExpansion:rt,updateExpandRows:it,states:qe,isRowExpanded:ne}=Hte({data:r,rowKey:i}),{updateTreeExpandKeys:se,toggleTreeExpansion:ke,updateTreeData:Be,updateKeyChildren:Ve,loadOrToggle:Ae,states:Re}=Wte({data:r,rowKey:i}),{updateCurrentRowData:Xe,updateCurrentRow:gt,setCurrentRowKey:nt,states:Lt}=Gte({data:r,rowKey:i});return{assertRowKey:Y,updateColumns:X,scheduleLayout:q,isSelected:D,clearSelection:V,cleanSelection:ee,getSelectionRows:ce,toggleRowSelection:ae,_toggleAllSelection:le,toggleAllSelection:null,updateSelectionByRowKey:ye,updateAllSelected:Ee,updateFilters:ue,updateCurrentRow:gt,updateSort:Me,execFilter:De,execSort:xe,execQuery:G,clearFilter:He,clearSort:Je,toggleRowExpansion:rt,setExpandRowKeysAdapter:Te=>{at(Te),se(Te)},setCurrentRowKey:nt,toggleRowExpansionAdapter:(Te,ze)=>{c.value.some(({type:be})=>be==="expand")?rt(Te,ze):ke(Te,ze)},isRowExpanded:ne,updateExpandRows:it,updateCurrentRowData:Xe,loadOrToggle:Ae,updateTreeData:Be,updateKeyChildren:Ve,states:{tableSize:n,rowKey:i,data:r,_data:s,isComplex:a,_columns:o,originColumns:l,columns:c,fixedColumns:d,rightFixedColumns:p,leafColumns:v,fixedLeafColumns:g,rightFixedLeafColumns:y,updateOrderFns:_,leafColumnsLength:w,fixedLeafColumnsLength:b,rightFixedLeafColumnsLength:M,isAllSelected:E,selection:x,reserveSelection:T,selectOnIndeterminate:k,selectable:I,filters:O,filteredData:U,sortingColumn:R,sortProp:N,sortOrder:$,hoverRow:J,...qe,...Re,...Lt}}}function Dg(t,e){return t.map(n=>{var i;return n.id===e.id?e:((i=n.children)!=null&&i.length&&(n.children=Dg(n.children,e)),n)})}function Fg(t){t.forEach(e=>{var n,i;e.no=(n=e.getColumnIndex)==null?void 0:n.call(e),(i=e.children)!=null&&i.length&&Fg(e.children)}),t.sort((e,n)=>e.no-n.no)}function Yte(){const t=Yt(),e=qte();return{ns:Fe("table"),...e,mutations:{setData(a,o){const l=f(a._data)!==o;a.data.value=o,a._data.value=o,t.store.execQuery(),t.store.updateCurrentRowData(),t.store.updateExpandRows(),t.store.updateTreeData(t.store.states.defaultExpandAll.value),f(a.reserveSelection)?(t.store.assertRowKey(),t.store.updateSelectionByRowKey()):l?t.store.clearSelection():t.store.cleanSelection(),t.store.updateAllSelected(),t.$ready&&t.store.scheduleLayout()},insertColumn(a,o,l,c){const d=f(a._columns);let p=[];l?(l&&!l.children&&(l.children=[]),l.children.push(o),p=Dg(d,l)):(d.push(o),p=d),Fg(p),a._columns.value=p,a.updateOrderFns.push(c),o.type==="selection"&&(a.selectable.value=o.selectable,a.reserveSelection.value=o.reserveSelection),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},updateColumnOrder(a,o){var l;((l=o.getColumnIndex)==null?void 0:l.call(o))!==o.no&&(Fg(a._columns.value),t.$ready&&t.store.updateColumns())},removeColumn(a,o,l,c){const d=f(a._columns)||[];if(l)l.children.splice(l.children.findIndex(v=>v.id===o.id),1),_t(()=>{var v;((v=l.children)==null?void 0:v.length)===0&&delete l.children}),a._columns.value=Dg(d,l);else{const v=d.indexOf(o);v>-1&&(d.splice(v,1),a._columns.value=d)}const p=a.updateOrderFns.indexOf(c);p>-1&&a.updateOrderFns.splice(p,1),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},sort(a,o){const{prop:l,order:c,init:d}=o;if(l){const p=f(a.columns).find(v=>v.property===l);p&&(p.order=c,t.store.updateSort(p,l,c),t.store.commit("changeSortCondition",{init:d}))}},changeSortCondition(a,o){const{sortingColumn:l,sortProp:c,sortOrder:d}=a,p=f(l),v=f(c),g=f(d);g===null&&(a.sortingColumn.value=null,a.sortProp.value=null);const y={filter:!0};t.store.execQuery(y),(!o||!(o.silent||o.init))&&t.emit("sort-change",{column:p,prop:v,order:g}),t.store.updateTableScrollY()},filterChange(a,o){const{column:l,values:c,silent:d}=o,p=t.store.updateFilters(l,c);t.store.execQuery(),d||t.emit("filter-change",p),t.store.updateTableScrollY()},toggleAllSelection(){t.store.toggleAllSelection()},rowSelectedChanged(a,o){t.store.toggleRowSelection(o),t.store.updateAllSelected()},setHoverRow(a,o){a.hoverRow.value=o},setCurrentRow(a,o){t.store.updateCurrentRow(o)}},commit:function(a,...o){const l=t.store.mutations;if(l[a])l[a].apply(t,[t.store.states].concat(o));else throw new Error(`Action not found: ${a}`)},updateTableScrollY:function(){_t(()=>t.layout.updateScrollY.apply(t.layout))}}}const td={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function jte(t,e){if(!t)throw new Error("Table is required.");const n=Yte();return n.toggleAllSelection=Br(n._toggleAllSelection,10),Object.keys(td).forEach(i=>{kA(PA(e,i),i,n)}),Xte(n,e),n}function Xte(t,e){Object.keys(td).forEach(n=>{Le(()=>PA(e,n),i=>{kA(i,n,t)})})}function kA(t,e,n){let i=t,r=td[e];typeof td[e]=="object"&&(r=r.key,i=i||td[e].default),n.states[r].value=i}function PA(t,e){if(e.includes(".")){const n=e.split(".");let i=t;return n.forEach(r=>{i=i[r]}),i}else return t[e]}class Zte{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=W(null),this.scrollX=W(!1),this.scrollY=W(!1),this.bodyWidth=W(null),this.fixedWidth=W(null),this.rightFixedWidth=W(null),this.gutterWidth=0;for(const n in e)qi(e,n)&&(nr(this[n])?this[n].value=e[n]:this[n]=e[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(n!=null&&n.wrapRef)){let i=!0;const r=this.scrollY.value;return i=n.wrapRef.scrollHeight>n.wrapRef.clientHeight,this.scrollY.value=i,r!==i}return!1}setHeight(e,n="height"){if(!nn)return;const i=this.table.vnode.el;if(e=Ute(e),this.height.value=Number(e),!i&&(e||e===0))return _t(()=>this.setHeight(e,n));typeof e=="number"?(i.style[n]=`${e}px`,this.updateElsHeight()):typeof e=="string"&&(i.style[n]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach(i=>{i.isColumnGroup?e.push.apply(e,i.columns):e.push(i)}),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let n=e;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){if(!nn)return;const e=this.fit,n=this.table.vnode.el.clientWidth;let i=0;const r=this.getFlattenColumns(),s=r.filter(l=>typeof l.width!="number");if(r.forEach(l=>{typeof l.width=="number"&&l.realWidth&&(l.realWidth=null)}),s.length>0&&e){if(r.forEach(l=>{i+=Number(l.width||l.minWidth||80)}),i<=n){this.scrollX.value=!1;const l=n-i;if(s.length===1)s[0].realWidth=Number(s[0].minWidth||80)+l;else{const c=s.reduce((v,g)=>v+Number(g.minWidth||80),0),d=l/c;let p=0;s.forEach((v,g)=>{if(g===0)return;const y=Math.floor(Number(v.minWidth||80)*d);p+=y,v.realWidth=Number(v.minWidth||80)+y}),s[0].realWidth=Number(s[0].minWidth||80)+l-p}}else this.scrollX.value=!0,s.forEach(l=>{l.realWidth=Number(l.minWidth)});this.bodyWidth.value=Math.max(i,n),this.table.state.resizeState.value.width=this.bodyWidth.value}else r.forEach(l=>{!l.width&&!l.minWidth?l.realWidth=80:l.realWidth=Number(l.width||l.minWidth),i+=l.realWidth}),this.scrollX.value=i>n,this.bodyWidth.value=i;const a=this.store.states.fixedColumns.value;if(a.length>0){let l=0;a.forEach(c=>{l+=Number(c.realWidth||c.width)}),this.fixedWidth.value=l}const o=this.store.states.rightFixedColumns.value;if(o.length>0){let l=0;o.forEach(c=>{l+=Number(c.realWidth||c.width)}),this.rightFixedWidth.value=l}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const n=this.observers.indexOf(e);n!==-1&&this.observers.splice(n,1)}notifyObservers(e){this.observers.forEach(i=>{var r,s;switch(e){case"columns":(r=i.state)==null||r.onColumnsChange(this);break;case"scrollable":(s=i.state)==null||s.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}})}}const{CheckboxGroup:Jte}=gs,Qte=ie({name:"ElTableFilterPanel",components:{ElCheckbox:gs,ElCheckboxGroup:Jte,ElScrollbar:fa,ElTooltip:vi,ElIcon:ft,ArrowDown:Fa,ArrowUp:O0},directives:{ClickOutside:Ia},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:{type:String}},setup(t){const e=Yt(),{t:n}=rn(),i=Fe("table-filter"),r=e==null?void 0:e.parent;r.filterPanels.value[t.column.id]||(r.filterPanels.value[t.column.id]=e);const s=W(!1),a=W(null),o=L(()=>t.column&&t.column.filters),l=L(()=>t.column.filterClassName?`${i.b()} ${t.column.filterClassName}`:i.b()),c=L({get:()=>{var T;return(((T=t.column)==null?void 0:T.filteredValue)||[])[0]},set:T=>{d.value&&(typeof T<"u"&&T!==null?d.value.splice(0,1,T):d.value.splice(0,1))}}),d=L({get(){return t.column?t.column.filteredValue||[]:[]},set(T){t.column&&t.upDataColumn("filteredValue",T)}}),p=L(()=>t.column?t.column.filterMultiple:!0),v=T=>T.value===c.value,g=()=>{s.value=!1},y=T=>{T.stopPropagation(),s.value=!s.value},_=()=>{s.value=!1},w=()=>{E(d.value),g()},b=()=>{d.value=[],E(d.value),g()},M=T=>{c.value=T,E(typeof T<"u"&&T!==null?d.value:[]),g()},E=T=>{t.store.commit("filterChange",{column:t.column,values:T}),t.store.updateAllSelected()};Le(s,T=>{t.column&&t.upDataColumn("filterOpened",T)},{immediate:!0});const x=L(()=>{var T,k;return(k=(T=a.value)==null?void 0:T.popperRef)==null?void 0:k.contentRef});return{tooltipVisible:s,multiple:p,filterClassName:l,filteredValue:d,filterValue:c,filters:o,handleConfirm:w,handleReset:b,handleSelect:M,isActive:v,t:n,ns:i,showFilterPanel:y,hideFilterPanel:_,popperPaneRef:x,tooltip:a}}});function ene(t,e,n,i,r,s){const a=At("el-checkbox"),o=At("el-checkbox-group"),l=At("el-scrollbar"),c=At("arrow-up"),d=At("arrow-down"),p=At("el-icon"),v=At("el-tooltip"),g=lp("click-outside");return P(),we(v,{ref:"tooltip",visible:t.tooltipVisible,offset:0,placement:t.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":t.filterClassName,persistent:"","append-to":t.appendTo},{content:te(()=>[t.multiple?(P(),K("div",{key:0},[Z("div",{class:z(t.ns.e("content"))},[Q(l,{"wrap-class":t.ns.e("wrap")},{default:te(()=>[Q(o,{modelValue:t.filteredValue,"onUpdate:modelValue":y=>t.filteredValue=y,class:z(t.ns.e("checkbox-group"))},{default:te(()=>[(P(!0),K(ct,null,Vt(t.filters,y=>(P(),we(a,{key:y.value,value:y.value},{default:te(()=>[pt(Ne(y.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"])]),_:1},8,["wrap-class"])],2),Z("div",{class:z(t.ns.e("bottom"))},[Z("button",{class:z({[t.ns.is("disabled")]:t.filteredValue.length===0}),disabled:t.filteredValue.length===0,type:"button",onClick:t.handleConfirm},Ne(t.t("el.table.confirmFilter")),11,["disabled","onClick"]),Z("button",{type:"button",onClick:t.handleReset},Ne(t.t("el.table.resetFilter")),9,["onClick"])],2)])):(P(),K("ul",{key:1,class:z(t.ns.e("list"))},[Z("li",{class:z([t.ns.e("list-item"),{[t.ns.is("active")]:t.filterValue===void 0||t.filterValue===null}]),onClick:y=>t.handleSelect(null)},Ne(t.t("el.table.clearFilter")),11,["onClick"]),(P(!0),K(ct,null,Vt(t.filters,y=>(P(),K("li",{key:y.value,class:z([t.ns.e("list-item"),t.ns.is("active",t.isActive(y))]),label:y.value,onClick:_=>t.handleSelect(y.value)},Ne(y.text),11,["label","onClick"]))),128))],2))]),default:te(()=>[Ut((P(),K("span",{class:z([`${t.ns.namespace.value}-table__column-filter-trigger`,`${t.ns.namespace.value}-none-outline`]),onClick:t.showFilterPanel},[Q(p,null,{default:te(()=>[oe(t.$slots,"filter-icon",{},()=>[t.column.filterOpened?(P(),we(c,{key:0})):(P(),we(d,{key:1}))])]),_:3})],10,["onClick"])),[[g,t.hideFilterPanel,t.popperPaneRef]])]),_:3},8,["visible","placement","popper-class","append-to"])}var tne=We(Qte,[["render",ene],["__file","filter-panel.vue"]]);function RA(t){const e=Yt();M0(()=>{n.value.addObserver(e)}),St(()=>{i(n.value),r(n.value)}),Mo(()=>{i(n.value),r(n.value)}),Oa(()=>{n.value.removeObserver(e)});const n=L(()=>{const s=t.layout;if(!s)throw new Error("Can not find table layout.");return s}),i=s=>{var a;const o=((a=t.vnode.el)==null?void 0:a.querySelectorAll("colgroup > col"))||[];if(!o.length)return;const l=s.getFlattenColumns(),c={};l.forEach(d=>{c[d.id]=d});for(let d=0,p=o.length;d<p;d++){const v=o[d],g=v.getAttribute("name"),y=c[g];y&&v.setAttribute("width",y.realWidth||y.width)}},r=s=>{var a,o;const l=((a=t.vnode.el)==null?void 0:a.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let d=0,p=l.length;d<p;d++)l[d].setAttribute("width",s.scrollY.value?s.gutterWidth:"0");const c=((o=t.vnode.el)==null?void 0:o.querySelectorAll("th.gutter"))||[];for(let d=0,p=c.length;d<p;d++){const v=c[d];v.style.width=s.scrollY.value?`${s.gutterWidth}px`:"0",v.style.display=s.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:i,onScrollableChange:r}}const ha=Symbol("ElTable");function nne(t,e){const n=Yt(),i=dt(ha),r=_=>{_.stopPropagation()},s=(_,w)=>{!w.filters&&w.sortable?y(_,w,!1):w.filterable&&!w.sortable&&r(_),i==null||i.emit("header-click",w,_)},a=(_,w)=>{i==null||i.emit("header-contextmenu",w,_)},o=W(null),l=W(!1),c=W({}),d=(_,w)=>{if(nn&&!(w.children&&w.children.length>0)&&o.value&&t.border){l.value=!0;const b=i;e("set-drag-visible",!0);const E=(b==null?void 0:b.vnode.el).getBoundingClientRect().left,x=n.vnode.el.querySelector(`th.${w.id}`),T=x.getBoundingClientRect(),k=T.left-E+30;us(x,"noclick"),c.value={startMouseLeft:_.clientX,startLeft:T.right-E,startColumnLeft:T.left-E,tableLeft:E};const I=b==null?void 0:b.refs.resizeProxy;I.style.left=`${c.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const O=R=>{const N=R.clientX-c.value.startMouseLeft,$=c.value.startLeft+N;I.style.left=`${Math.max(k,$)}px`},U=()=>{if(l.value){const{startColumnLeft:R,startLeft:N}=c.value,J=Number.parseInt(I.style.left,10)-R;w.width=w.realWidth=J,b==null||b.emit("header-dragend",w.width,N-R,w,_),requestAnimationFrame(()=>{t.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",l.value=!1,o.value=null,c.value={},e("set-drag-visible",!1)}document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",U),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{rr(x,"noclick")},0)};document.addEventListener("mousemove",O),document.addEventListener("mouseup",U)}},p=(_,w)=>{if(w.children&&w.children.length>0)return;const b=_.target;if(!Yr(b))return;const M=b==null?void 0:b.closest("th");if(!(!w||!w.resizable)&&!l.value&&t.border){const E=M.getBoundingClientRect(),x=document.body.style;E.width>12&&E.right-_.pageX<8?(x.cursor="col-resize",kr(M,"is-sortable")&&(M.style.cursor="col-resize"),o.value=w):l.value||(x.cursor="",kr(M,"is-sortable")&&(M.style.cursor="pointer"),o.value=null)}},v=()=>{nn&&(document.body.style.cursor="")},g=({order:_,sortOrders:w})=>{if(_==="")return w[0];const b=w.indexOf(_||null);return w[b>w.length-2?0:b+1]},y=(_,w,b)=>{var M;_.stopPropagation();const E=w.order===b?null:b||g(w),x=(M=_.target)==null?void 0:M.closest("th");if(x&&kr(x,"noclick")){rr(x,"noclick");return}if(!w.sortable)return;const T=_.currentTarget;if(["ascending","descending"].some(R=>kr(T,R)&&!w.sortOrders.includes(R)))return;const k=t.store.states;let I=k.sortProp.value,O;const U=k.sortingColumn.value;(U!==w||U===w&&U.order===null)&&(U&&(U.order=null),k.sortingColumn.value=w,I=w.property),E?O=w.order=E:O=w.order=null,k.sortProp.value=I,k.sortOrder.value=O,i==null||i.store.commit("changeSortCondition")};return{handleHeaderClick:s,handleHeaderContextMenu:a,handleMouseDown:d,handleMouseMove:p,handleMouseOut:v,handleSortClick:y,handleFilterClick:r}}function ine(t){const e=dt(ha),n=Fe("table");return{getHeaderRowStyle:o=>{const l=e==null?void 0:e.props.headerRowStyle;return typeof l=="function"?l.call(null,{rowIndex:o}):l},getHeaderRowClass:o=>{const l=[],c=e==null?void 0:e.props.headerRowClassName;return typeof c=="string"?l.push(c):typeof c=="function"&&l.push(c.call(null,{rowIndex:o})),l.join(" ")},getHeaderCellStyle:(o,l,c,d)=>{var p;let v=(p=e==null?void 0:e.props.headerCellStyle)!=null?p:{};typeof v=="function"&&(v=v.call(null,{rowIndex:o,columnIndex:l,row:c,column:d}));const g=l_(l,d.fixed,t.store,c);return Ku(g,"left"),Ku(g,"right"),Object.assign({},v,g)},getHeaderCellClass:(o,l,c,d)=>{const p=o_(n.b(),l,d.fixed,t.store,c),v=[d.id,d.order,d.headerAlign,d.className,d.labelClassName,...p];d.children||v.push("is-leaf"),d.sortable&&v.push("is-sortable");const g=e==null?void 0:e.props.headerCellClassName;return typeof g=="string"?v.push(g):typeof g=="function"&&v.push(g.call(null,{rowIndex:o,columnIndex:l,row:c,column:d})),v.push(n.e("cell")),v.filter(y=>!!y).join(" ")}}}const IA=t=>{const e=[];return t.forEach(n=>{n.children?(e.push(n),e.push.apply(e,IA(n.children))):e.push(n)}),e},LA=t=>{let e=1;const n=(s,a)=>{if(a&&(s.level=a.level+1,e<s.level&&(e=s.level)),s.children){let o=0;s.children.forEach(l=>{n(l,s),o+=l.colSpan}),s.colSpan=o}else s.colSpan=1};t.forEach(s=>{s.level=1,n(s,void 0)});const i=[];for(let s=0;s<e;s++)i.push([]);return IA(t).forEach(s=>{s.children?(s.rowSpan=1,s.children.forEach(a=>a.isSubColumn=!0)):s.rowSpan=e-s.level+1,i[s.level-1].push(s)}),i};function rne(t){const e=dt(ha),n=L(()=>LA(t.store.states.originColumns.value));return{isGroup:L(()=>{const s=n.value.length>1;return s&&e&&(e.state.isGroup.value=!0),s}),toggleAllSelection:s=>{s.stopPropagation(),e==null||e.store.commit("toggleAllSelection")},columnRows:n}}var sne=ie({name:"ElTableHeader",components:{ElCheckbox:gs},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})},appendFilterPanelTo:{type:String}},setup(t,{emit:e}){const n=Yt(),i=dt(ha),r=Fe("table"),s=W({}),{onColumnsChange:a,onScrollableChange:o}=RA(i);St(async()=>{await _t(),await _t();const{prop:k,order:I}=t.defaultSort;i==null||i.store.commit("sort",{prop:k,order:I,init:!0})});const{handleHeaderClick:l,handleHeaderContextMenu:c,handleMouseDown:d,handleMouseMove:p,handleMouseOut:v,handleSortClick:g,handleFilterClick:y}=nne(t,e),{getHeaderRowStyle:_,getHeaderRowClass:w,getHeaderCellStyle:b,getHeaderCellClass:M}=ine(t),{isGroup:E,toggleAllSelection:x,columnRows:T}=rne(t);return n.state={onColumnsChange:a,onScrollableChange:o},n.filterPanels=s,{ns:r,filterPanels:s,onColumnsChange:a,onScrollableChange:o,columnRows:T,getHeaderRowClass:w,getHeaderRowStyle:_,getHeaderCellClass:M,getHeaderCellStyle:b,handleHeaderClick:l,handleHeaderContextMenu:c,handleMouseDown:d,handleMouseMove:p,handleMouseOut:v,handleSortClick:g,handleFilterClick:y,isGroup:E,toggleAllSelection:x}},render(){const{ns:t,isGroup:e,columnRows:n,getHeaderCellStyle:i,getHeaderCellClass:r,getHeaderRowClass:s,getHeaderRowStyle:a,handleHeaderClick:o,handleHeaderContextMenu:l,handleMouseDown:c,handleMouseMove:d,handleSortClick:p,handleMouseOut:v,store:g,$parent:y}=this;let _=1;return Ct("thead",{class:{[t.is("group")]:e}},n.map((w,b)=>Ct("tr",{class:s(b),key:b,style:a(b)},w.map((M,E)=>(M.rowSpan>_&&(_=M.rowSpan),Ct("th",{class:r(b,E,w,M),colspan:M.colSpan,key:`${M.id}-thead`,rowspan:M.rowSpan,style:i(b,E,w,M),onClick:x=>{x.currentTarget.classList.contains("noclick")||o(x,M)},onContextmenu:x=>l(x,M),onMousedown:x=>c(x,M),onMousemove:x=>d(x,M),onMouseout:v},[Ct("div",{class:["cell",M.filteredValue&&M.filteredValue.length>0?"highlight":""]},[M.renderHeader?M.renderHeader({column:M,$index:E,store:g,_self:y}):M.label,M.sortable&&Ct("span",{onClick:x=>p(x,M),class:"caret-wrapper"},[Ct("i",{onClick:x=>p(x,M,"ascending"),class:"sort-caret ascending"}),Ct("i",{onClick:x=>p(x,M,"descending"),class:"sort-caret descending"})]),M.filterable&&Ct(tne,{store:g,placement:M.filterPlacement||"bottom-start",appendTo:y.appendFilterPanelTo,column:M,upDataColumn:(x,T)=>{M[x]=T}},{"filter-icon":()=>M.renderFilterIcon?M.renderFilterIcon({filterOpened:M.filterOpened}):null})])]))))))}});function Nm(t,e,n=.03){return t-e>n}function ane(t){const e=dt(ha),n=W(""),i=W(Ct("div")),r=(y,_,w)=>{var b;const M=e,E=Lm(y);let x;const T=(b=M==null?void 0:M.vnode.el)==null?void 0:b.dataset.prefix;E&&(x=Vw({columns:t.store.states.columns.value},E,T),x&&(M==null||M.emit(`cell-${w}`,_,x,E,y))),M==null||M.emit(`row-${w}`,_,x,y)},s=(y,_)=>{r(y,_,"dblclick")},a=(y,_)=>{t.store.commit("setCurrentRow",_),r(y,_,"click")},o=(y,_)=>{r(y,_,"contextmenu")},l=Br(y=>{t.store.commit("setHoverRow",y)},30),c=Br(()=>{t.store.commit("setHoverRow",null)},30),d=y=>{const _=window.getComputedStyle(y,null),w=Number.parseInt(_.paddingLeft,10)||0,b=Number.parseInt(_.paddingRight,10)||0,M=Number.parseInt(_.paddingTop,10)||0,E=Number.parseInt(_.paddingBottom,10)||0;return{left:w,right:b,top:M,bottom:E}},p=(y,_,w)=>{let b=_.target.parentNode;for(;y>1&&(b=b==null?void 0:b.nextSibling,!(!b||b.nodeName!=="TR"));)w(b,"hover-row hover-fixed-row"),y--};return{handleDoubleClick:s,handleClick:a,handleContextMenu:o,handleMouseEnter:l,handleMouseLeave:c,handleCellMouseEnter:(y,_,w)=>{var b;const M=e,E=Lm(y),x=(b=M==null?void 0:M.vnode.el)==null?void 0:b.dataset.prefix;if(E){const X=Vw({columns:t.store.states.columns.value},E,x);E.rowSpan>1&&p(E.rowSpan,y,us);const q=M.hoverState={cell:E,column:X,row:_};M==null||M.emit("cell-mouse-enter",q.row,q.column,q.cell,y)}if(!w)return;const T=y.target.querySelector(".cell");if(!(kr(T,`${x}-tooltip`)&&T.childNodes.length))return;const k=document.createRange();k.setStart(T,0),k.setEnd(T,T.childNodes.length);const{width:I,height:O}=k.getBoundingClientRect(),{width:U,height:R}=T.getBoundingClientRect(),{top:N,left:$,right:J,bottom:Y}=d(T),H=$+J,B=N+Y;(Nm(I+H,U)||Nm(O+B,R)||Nm(T.scrollWidth,U))&&$te(w,E.innerText||E.textContent,E,M)},handleCellMouseLeave:y=>{const _=Lm(y);if(!_)return;_.rowSpan>1&&p(_.rowSpan,y,rr);const w=e==null?void 0:e.hoverState;e==null||e.emit("cell-mouse-leave",w==null?void 0:w.row,w==null?void 0:w.column,w==null?void 0:w.cell,y)},tooltipContent:n,tooltipTrigger:i}}function one(t){const e=dt(ha),n=Fe("table");return{getRowStyle:(c,d)=>{const p=e==null?void 0:e.props.rowStyle;return typeof p=="function"?p.call(null,{row:c,rowIndex:d}):p||null},getRowClass:(c,d)=>{const p=[n.e("row")];e!=null&&e.props.highlightCurrentRow&&c===t.store.states.currentRow.value&&p.push("current-row"),t.stripe&&d%2===1&&p.push(n.em("row","striped"));const v=e==null?void 0:e.props.rowClassName;return typeof v=="string"?p.push(v):typeof v=="function"&&p.push(v.call(null,{row:c,rowIndex:d})),p},getCellStyle:(c,d,p,v)=>{const g=e==null?void 0:e.props.cellStyle;let y=g??{};typeof g=="function"&&(y=g.call(null,{rowIndex:c,columnIndex:d,row:p,column:v}));const _=l_(d,t==null?void 0:t.fixed,t.store);return Ku(_,"left"),Ku(_,"right"),Object.assign({},y,_)},getCellClass:(c,d,p,v,g)=>{const y=o_(n.b(),d,t==null?void 0:t.fixed,t.store,void 0,g),_=[v.id,v.align,v.className,...y],w=e==null?void 0:e.props.cellClassName;return typeof w=="string"?_.push(w):typeof w=="function"&&_.push(w.call(null,{rowIndex:c,columnIndex:d,row:p,column:v})),_.push(n.e("cell")),_.filter(b=>!!b).join(" ")},getSpan:(c,d,p,v)=>{let g=1,y=1;const _=e==null?void 0:e.props.spanMethod;if(typeof _=="function"){const w=_({row:c,column:d,rowIndex:p,columnIndex:v});Array.isArray(w)?(g=w[0],y=w[1]):typeof w=="object"&&(g=w.rowspan,y=w.colspan)}return{rowspan:g,colspan:y}},getColspanRealWidth:(c,d,p)=>{if(d<1)return c[p].realWidth;const v=c.map(({realWidth:g,width:y})=>g||y).slice(p,p+d);return Number(v.reduce((g,y)=>Number(g)+Number(y),-1))}}}function lne(t){const e=dt(ha),n=Fe("table"),{handleDoubleClick:i,handleClick:r,handleContextMenu:s,handleMouseEnter:a,handleMouseLeave:o,handleCellMouseEnter:l,handleCellMouseLeave:c,tooltipContent:d,tooltipTrigger:p}=ane(t),{getRowStyle:v,getRowClass:g,getCellStyle:y,getCellClass:_,getSpan:w,getColspanRealWidth:b}=one(t),M=L(()=>t.store.states.columns.value.findIndex(({type:I})=>I==="default")),E=(I,O)=>{const U=e.props.rowKey;return U?er(I,U):O},x=(I,O,U,R=!1)=>{const{tooltipEffect:N,tooltipOptions:$,store:J}=t,{indent:Y,columns:H}=J.states,B=g(I,O);let X=!0;return U&&(B.push(n.em("row",`level-${U.level}`)),X=U.display),Ct("tr",{style:[X?null:{display:"none"},v(I,O)],class:B,key:E(I,O),onDblclick:D=>i(D,I),onClick:D=>r(D,I),onContextmenu:D=>s(D,I),onMouseenter:()=>a(O),onMouseleave:o},H.value.map((D,V)=>{const{rowspan:ee,colspan:ce}=w(I,D,O,V);if(!ee||!ce)return null;const ae=Object.assign({},D);ae.realWidth=b(H.value,ce,V);const le={store:t.store,_self:t.context||e,column:ae,row:I,$index:O,cellIndex:V,expanded:R};V===M.value&&U&&(le.treeNode={indent:U.level*Y.value,level:U.level},typeof U.expanded=="boolean"&&(le.treeNode.expanded=U.expanded,"loading"in U&&(le.treeNode.loading=U.loading),"noLazyChildren"in U&&(le.treeNode.noLazyChildren=U.noLazyChildren)));const ye=`${E(I,O)},${V}`,Ee=ae.columnKey||ae.rawColumnKey||"",pe=T(V,D,le),ue=D.showOverflowTooltip&&Q6({effect:N},$,D.showOverflowTooltip);return Ct("td",{style:y(O,V,I,D),class:_(O,V,I,D,ce-1),key:`${Ee}${ye}`,rowspan:ee,colspan:ce,onMouseenter:Me=>l(Me,I,ue),onMouseleave:c},[pe])}))},T=(I,O,U)=>O.renderCell(U);return{wrappedRowRender:(I,O)=>{const U=t.store,{isRowExpanded:R,assertRowKey:N}=U,{treeData:$,lazyTreeNodeMap:J,childrenColumnName:Y,rowKey:H}=U.states,B=U.states.columns.value;if(B.some(({type:q})=>q==="expand")){const q=R(I),D=x(I,O,void 0,q),V=e.renderExpanded;return q?V?[[D,Ct("tr",{key:`expanded-row__${D.key}`},[Ct("td",{colspan:B.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[V({row:I,$index:O,store:U,expanded:q})])])]]:(console.error("[Element Error]renderExpanded is required."),D):[[D]]}else if(Object.keys($.value).length){N();const q=er(I,H.value);let D=$.value[q],V=null;D&&(V={expanded:D.expanded,level:D.level,display:!0},typeof D.lazy=="boolean"&&(typeof D.loaded=="boolean"&&D.loaded&&(V.noLazyChildren=!(D.children&&D.children.length)),V.loading=D.loading));const ee=[x(I,O,V)];if(D){let ce=0;const ae=(ye,Ee)=>{ye&&ye.length&&Ee&&ye.forEach(pe=>{const ue={display:Ee.display&&Ee.expanded,level:Ee.level+1,expanded:!1,noLazyChildren:!1,loading:!1},Me=er(pe,H.value);if(Me==null)throw new Error("For nested data item, row-key is required.");if(D={...$.value[Me]},D&&(ue.expanded=D.expanded,D.level=D.level||ue.level,D.display=!!(D.expanded&&ue.display),typeof D.lazy=="boolean"&&(typeof D.loaded=="boolean"&&D.loaded&&(ue.noLazyChildren=!(D.children&&D.children.length)),ue.loading=D.loading)),ce++,ee.push(x(pe,O+ce,ue)),D){const De=J.value[Me]||pe[Y.value];ae(De,D)}})};D.display=!0;const le=J.value[q]||I[Y.value];ae(le,D)}return ee}else return x(I,O,void 0)},tooltipContent:d,tooltipTrigger:p}}const une={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var cne=ie({name:"ElTableBody",props:une,setup(t){const e=Yt(),n=dt(ha),i=Fe("table"),{wrappedRowRender:r,tooltipContent:s,tooltipTrigger:a}=lne(t),{onColumnsChange:o,onScrollableChange:l}=RA(n),c=[];return Le(t.store.states.hoverRow,(d,p)=>{var v;const g=e==null?void 0:e.vnode.el,y=Array.from((g==null?void 0:g.children)||[]).filter(b=>b==null?void 0:b.classList.contains(`${i.e("row")}`));let _=d;const w=(v=y[_])==null?void 0:v.childNodes;if(w!=null&&w.length){let b=0;Array.from(w).reduce((E,x,T)=>{var k,I;return((k=w[T])==null?void 0:k.colSpan)>1&&(b=(I=w[T])==null?void 0:I.colSpan),x.nodeName!=="TD"&&b===0&&E.push(T),b>0&&b--,E},[]).forEach(E=>{var x;for(_=d;_>0;){const T=(x=y[_-1])==null?void 0:x.childNodes;if(T[E]&&T[E].nodeName==="TD"&&T[E].rowSpan>1){us(T[E],"hover-cell"),c.push(T[E]);break}_--}})}else c.forEach(b=>rr(b,"hover-cell")),c.length=0;!t.store.states.isComplex.value||!nn||yo(()=>{const b=y[p],M=y[d];b&&!b.classList.contains("hover-fixed-row")&&rr(b,"hover-row"),M&&us(M,"hover-row")})}),Oa(()=>{var d;(d=is)==null||d()}),{ns:i,onColumnsChange:o,onScrollableChange:l,wrappedRowRender:r,tooltipContent:s,tooltipTrigger:a}},render(){const{wrappedRowRender:t,store:e}=this,n=e.states.data.value||[];return Ct("tbody",{tabIndex:-1},[n.reduce((i,r)=>i.concat(t(r,i.length)),[])])}});function dne(){const t=dt(ha),e=t==null?void 0:t.store,n=L(()=>e.states.fixedLeafColumnsLength.value),i=L(()=>e.states.rightFixedColumns.value.length),r=L(()=>e.states.columns.value.length),s=L(()=>e.states.fixedColumns.value.length),a=L(()=>e.states.rightFixedColumns.value.length);return{leftFixedLeafCount:n,rightFixedLeafCount:i,columnsCount:r,leftFixedCount:s,rightFixedCount:a,columns:e.states.columns}}function fne(t){const{columns:e}=dne(),n=Fe("table");return{getCellClasses:(s,a)=>{const o=s[a],l=[n.e("cell"),o.id,o.align,o.labelClassName,...o_(n.b(),a,o.fixed,t.store)];return o.className&&l.push(o.className),o.children||l.push(n.is("leaf")),l},getCellStyles:(s,a)=>{const o=l_(a,s.fixed,t.store);return Ku(o,"left"),Ku(o,"right"),o},columns:e}}var hne=ie({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t){const{getCellClasses:e,getCellStyles:n,columns:i}=fne(t);return{ns:Fe("table"),getCellClasses:e,getCellStyles:n,columns:i}},render(){const{columns:t,getCellStyles:e,getCellClasses:n,summaryMethod:i,sumText:r}=this,s=this.store.states.data.value;let a=[];return i?a=i({columns:t,data:s}):t.forEach((o,l)=>{if(l===0){a[l]=r;return}const c=s.map(g=>Number(g[o.property])),d=[];let p=!0;c.forEach(g=>{if(!Number.isNaN(+g)){p=!1;const y=`${g}`.split(".")[1];d.push(y?y.length:0)}});const v=Math.max.apply(null,d);p?a[l]="":a[l]=c.reduce((g,y)=>{const _=Number(y);return Number.isNaN(+_)?g:Number.parseFloat((g+y).toFixed(Math.min(v,20)))},0)}),Ct(Ct("tfoot",[Ct("tr",{},[...t.map((o,l)=>Ct("td",{key:l,colspan:o.colSpan,rowspan:o.rowSpan,class:n(t,l),style:e(o,l)},[Ct("div",{class:["cell",o.labelClassName]},[a[l]])]))])]))}});function pne(t){return{setCurrentRow:p=>{t.commit("setCurrentRow",p)},getSelectionRows:()=>t.getSelectionRows(),toggleRowSelection:(p,v,g=!0)=>{t.toggleRowSelection(p,v,!1,g),t.updateAllSelected()},clearSelection:()=>{t.clearSelection()},clearFilter:p=>{t.clearFilter(p)},toggleAllSelection:()=>{t.commit("toggleAllSelection")},toggleRowExpansion:(p,v)=>{t.toggleRowExpansionAdapter(p,v)},clearSort:()=>{t.clearSort()},sort:(p,v)=>{t.commit("sort",{prop:p,order:v})},updateKeyChildren:(p,v)=>{t.updateKeyChildren(p,v)}}}function mne(t,e,n,i){const r=W(!1),s=W(null),a=W(!1),o=D=>{a.value=D},l=W({width:null,height:null,headerHeight:null}),c=W(!1),d={display:"inline-block",verticalAlign:"middle"},p=W(),v=W(0),g=W(0),y=W(0),_=W(0),w=W(0);gi(()=>{e.setHeight(t.height)}),gi(()=>{e.setMaxHeight(t.maxHeight)}),Le(()=>[t.currentRowKey,n.states.rowKey],([D,V])=>{!f(V)||!f(D)||n.setCurrentRowKey(`${D}`)},{immediate:!0}),Le(()=>t.data,D=>{i.store.commit("setData",D)},{immediate:!0,deep:!0}),gi(()=>{t.expandRowKeys&&n.setExpandRowKeysAdapter(t.expandRowKeys)});const b=()=>{i.store.commit("setHoverRow",null),i.hoverState&&(i.hoverState=null)},M=(D,V)=>{const{pixelX:ee,pixelY:ce}=V;Math.abs(ee)>=Math.abs(ce)&&(i.refs.bodyWrapper.scrollLeft+=V.pixelX/5)},E=L(()=>t.height||t.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),x=L(()=>({width:e.bodyWidth.value?`${e.bodyWidth.value}px`:""})),T=()=>{E.value&&e.updateElsHeight(),e.updateColumnsWidth(),requestAnimationFrame(U)};St(async()=>{await _t(),n.updateColumns(),R(),requestAnimationFrame(T);const D=i.vnode.el,V=i.refs.headerWrapper;t.flexible&&D&&D.parentElement&&(D.parentElement.style.minWidth="0"),l.value={width:p.value=D.offsetWidth,height:D.offsetHeight,headerHeight:t.showHeader&&V?V.offsetHeight:null},n.states.columns.value.forEach(ee=>{ee.filteredValue&&ee.filteredValue.length&&i.store.commit("filterChange",{column:ee,values:ee.filteredValue,silent:!0})}),i.$ready=!0});const k=(D,V)=>{if(!D)return;const ee=Array.from(D.classList).filter(ce=>!ce.startsWith("is-scrolling-"));ee.push(e.scrollX.value?V:"is-scrolling-none"),D.className=ee.join(" ")},I=D=>{const{tableWrapper:V}=i.refs;k(V,D)},O=D=>{const{tableWrapper:V}=i.refs;return!!(V&&V.classList.contains(D))},U=function(){if(!i.refs.scrollBarRef)return;if(!e.scrollX.value){const Ee="is-scrolling-none";O(Ee)||I(Ee);return}const D=i.refs.scrollBarRef.wrapRef;if(!D)return;const{scrollLeft:V,offsetWidth:ee,scrollWidth:ce}=D,{headerWrapper:ae,footerWrapper:le}=i.refs;ae&&(ae.scrollLeft=V),le&&(le.scrollLeft=V);const ye=ce-ee-1;V>=ye?I("is-scrolling-right"):I(V===0?"is-scrolling-left":"is-scrolling-middle")},R=()=>{i.refs.scrollBarRef&&(i.refs.scrollBarRef.wrapRef&&bn(i.refs.scrollBarRef.wrapRef,"scroll",U,{passive:!0}),t.fit?Fn(i.vnode.el,N):bn(window,"resize",N),Fn(i.refs.bodyWrapper,()=>{var D,V;N(),(V=(D=i.refs)==null?void 0:D.scrollBarRef)==null||V.update()}))},N=()=>{var D,V,ee,ce;const ae=i.vnode.el;if(!i.$ready||!ae)return;let le=!1;const{width:ye,height:Ee,headerHeight:pe}=l.value,ue=p.value=ae.offsetWidth;ye!==ue&&(le=!0);const Me=ae.offsetHeight;(t.height||E.value)&&Ee!==Me&&(le=!0);const De=t.tableLayout==="fixed"?i.refs.headerWrapper:(D=i.refs.tableHeaderRef)==null?void 0:D.$el;t.showHeader&&(De==null?void 0:De.offsetHeight)!==pe&&(le=!0),v.value=((V=i.refs.tableWrapper)==null?void 0:V.scrollHeight)||0,y.value=(De==null?void 0:De.scrollHeight)||0,_.value=((ee=i.refs.footerWrapper)==null?void 0:ee.offsetHeight)||0,w.value=((ce=i.refs.appendWrapper)==null?void 0:ce.offsetHeight)||0,g.value=v.value-y.value-_.value-w.value,le&&(l.value={width:ue,height:Me,headerHeight:t.showHeader&&(De==null?void 0:De.offsetHeight)||0},T())},$=pi(),J=L(()=>{const{bodyWidth:D,scrollY:V,gutterWidth:ee}=e;return D.value?`${D.value-(V.value?ee:0)}px`:""}),Y=L(()=>t.maxHeight?"fixed":t.tableLayout),H=L(()=>{if(t.data&&t.data.length)return null;let D="100%";t.height&&g.value&&(D=`${g.value}px`);const V=p.value;return{width:V?`${V}px`:"",height:D}}),B=L(()=>t.height?{height:Number.isNaN(Number(t.height))?t.height:`${t.height}px`}:t.maxHeight?{maxHeight:Number.isNaN(Number(t.maxHeight))?t.maxHeight:`${t.maxHeight}px`}:{}),X=L(()=>t.height?{height:"100%"}:t.maxHeight?Number.isNaN(Number(t.maxHeight))?{maxHeight:`calc(${t.maxHeight} - ${y.value+_.value}px)`}:{maxHeight:`${t.maxHeight-y.value-_.value}px`}:{});return{isHidden:r,renderExpanded:s,setDragVisible:o,isGroup:c,handleMouseLeave:b,handleHeaderFooterMousewheel:M,tableSize:$,emptyBlockStyle:H,handleFixedMousewheel:(D,V)=>{const ee=i.refs.bodyWrapper;if(Math.abs(V.spinY)>0){const ce=ee.scrollTop;V.pixelY<0&&ce!==0&&D.preventDefault(),V.pixelY>0&&ee.scrollHeight-ee.clientHeight>ce&&D.preventDefault(),ee.scrollTop+=Math.ceil(V.pixelY/5)}else ee.scrollLeft+=Math.ceil(V.pixelX/5)},resizeProxyVisible:a,bodyWidth:J,resizeState:l,doLayout:T,tableBodyStyles:x,tableLayout:Y,scrollbarViewStyle:d,tableInnerStyle:B,scrollbarStyle:X}}function vne(t){const e=W(),n=()=>{const r=t.vnode.el.querySelector(".hidden-columns"),s={childList:!0,subtree:!0},a=t.store.states.updateOrderFns;e.value=new MutationObserver(()=>{a.forEach(o=>o())}),e.value.observe(r,s)};St(()=>{n()}),Oa(()=>{var i;(i=e.value)==null||i.disconnect()})}var gne={data:{type:Array,default:()=>[]},size:_i,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0}};function NA(t){const e=t.tableLayout==="auto";let n=t.columns||[];e&&n.every(r=>r.width===void 0)&&(n=[]);const i=r=>{const s={key:`${t.tableLayout}_${r.id}`,style:{},name:void 0};return e?s.style={width:`${r.width}px`}:s.name=r.id,s};return Ct("colgroup",{},n.map(r=>Ct("col",i(r))))}NA.props=["columns","tableLayout"];const yne=()=>{const t=W(),e=(s,a)=>{const o=t.value;o&&o.scrollTo(s,a)},n=(s,a)=>{const o=t.value;o&&Pt(a)&&["Top","Left"].includes(s)&&o[`setScroll${s}`](a)};return{scrollBarRef:t,scrollTo:e,setScrollTop:s=>n("Top",s),setScrollLeft:s=>n("Left",s)}};let _ne=1;const bne=ie({name:"ElTable",directives:{Mousewheel:O7},components:{TableHeader:sne,TableBody:cne,TableFooter:hne,ElScrollbar:fa,hColgroup:NA},props:gne,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(t){const{t:e}=rn(),n=Fe("table"),i=Yt();Jt(ha,i);const r=jte(i,t);i.store=r;const s=new Zte({store:i.store,table:i,fit:t.fit,showHeader:t.showHeader});i.layout=s;const a=L(()=>(r.states.data.value||[]).length===0),{setCurrentRow:o,getSelectionRows:l,toggleRowSelection:c,clearSelection:d,clearFilter:p,toggleAllSelection:v,toggleRowExpansion:g,clearSort:y,sort:_,updateKeyChildren:w}=pne(r),{isHidden:b,renderExpanded:M,setDragVisible:E,isGroup:x,handleMouseLeave:T,handleHeaderFooterMousewheel:k,tableSize:I,emptyBlockStyle:O,handleFixedMousewheel:U,resizeProxyVisible:R,bodyWidth:N,resizeState:$,doLayout:J,tableBodyStyles:Y,tableLayout:H,scrollbarViewStyle:B,tableInnerStyle:X,scrollbarStyle:q}=mne(t,s,r,i),{scrollBarRef:D,scrollTo:V,setScrollLeft:ee,setScrollTop:ce}=yne(),ae=Br(J,50),le=`${n.namespace.value}-table_${_ne++}`;i.tableId=le,i.state={isGroup:x,resizeState:$,doLayout:J,debouncedUpdateLayout:ae};const ye=L(()=>{var ue;return(ue=t.sumText)!=null?ue:e("el.table.sumText")}),Ee=L(()=>{var ue;return(ue=t.emptyText)!=null?ue:e("el.table.emptyText")}),pe=L(()=>LA(r.states.originColumns.value)[0]);return vne(i),{ns:n,layout:s,store:r,columns:pe,handleHeaderFooterMousewheel:k,handleMouseLeave:T,tableId:le,tableSize:I,isHidden:b,isEmpty:a,renderExpanded:M,resizeProxyVisible:R,resizeState:$,isGroup:x,bodyWidth:N,tableBodyStyles:Y,emptyBlockStyle:O,debouncedUpdateLayout:ae,handleFixedMousewheel:U,setCurrentRow:o,getSelectionRows:l,toggleRowSelection:c,clearSelection:d,clearFilter:p,toggleAllSelection:v,toggleRowExpansion:g,clearSort:y,doLayout:J,sort:_,updateKeyChildren:w,t:e,setDragVisible:E,context:i,computedSumText:ye,computedEmptyText:Ee,tableLayout:H,scrollbarViewStyle:B,tableInnerStyle:X,scrollbarStyle:q,scrollBarRef:D,scrollTo:V,setScrollLeft:ee,setScrollTop:ce}}});function wne(t,e,n,i,r,s){const a=At("hColgroup"),o=At("table-header"),l=At("table-body"),c=At("table-footer"),d=At("el-scrollbar"),p=lp("mousewheel");return P(),K("div",{ref:"tableWrapper",class:z([{[t.ns.m("fit")]:t.fit,[t.ns.m("striped")]:t.stripe,[t.ns.m("border")]:t.border||t.isGroup,[t.ns.m("hidden")]:t.isHidden,[t.ns.m("group")]:t.isGroup,[t.ns.m("fluid-height")]:t.maxHeight,[t.ns.m("scrollable-x")]:t.layout.scrollX.value,[t.ns.m("scrollable-y")]:t.layout.scrollY.value,[t.ns.m("enable-row-hover")]:!t.store.states.isComplex.value,[t.ns.m("enable-row-transition")]:(t.store.states.data.value||[]).length!==0&&(t.store.states.data.value||[]).length<100,"has-footer":t.showSummary},t.ns.m(t.tableSize),t.className,t.ns.b(),t.ns.m(`layout-${t.tableLayout}`)]),style:bt(t.style),"data-prefix":t.ns.namespace.value,onMouseleave:t.handleMouseLeave},[Z("div",{class:z(t.ns.e("inner-wrapper")),style:bt(t.tableInnerStyle)},[Z("div",{ref:"hiddenColumns",class:"hidden-columns"},[oe(t.$slots,"default")],512),t.showHeader&&t.tableLayout==="fixed"?Ut((P(),K("div",{key:0,ref:"headerWrapper",class:z(t.ns.e("header-wrapper"))},[Z("table",{ref:"tableHeader",class:z(t.ns.e("header")),style:bt(t.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[Q(a,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),Q(o,{ref:"tableHeaderRef",border:t.border,"default-sort":t.defaultSort,store:t.store,"append-filter-panel-to":t.appendFilterPanelTo,onSetDragVisible:t.setDragVisible},null,8,["border","default-sort","store","append-filter-panel-to","onSetDragVisible"])],6)],2)),[[p,t.handleHeaderFooterMousewheel]]):he("v-if",!0),Z("div",{ref:"bodyWrapper",class:z(t.ns.e("body-wrapper"))},[Q(d,{ref:"scrollBarRef","view-style":t.scrollbarViewStyle,"wrap-style":t.scrollbarStyle,always:t.scrollbarAlwaysOn,tabindex:t.scrollbarTabindex},{default:te(()=>[Z("table",{ref:"tableBody",class:z(t.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:bt({width:t.bodyWidth,tableLayout:t.tableLayout})},[Q(a,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),t.showHeader&&t.tableLayout==="auto"?(P(),we(o,{key:0,ref:"tableHeaderRef",class:z(t.ns.e("body-header")),border:t.border,"default-sort":t.defaultSort,store:t.store,"append-filter-panel-to":t.appendFilterPanelTo,onSetDragVisible:t.setDragVisible},null,8,["class","border","default-sort","store","append-filter-panel-to","onSetDragVisible"])):he("v-if",!0),Q(l,{context:t.context,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"tooltip-effect":t.tooltipEffect,"tooltip-options":t.tooltipOptions,"row-style":t.rowStyle,store:t.store,stripe:t.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),t.showSummary&&t.tableLayout==="auto"?(P(),we(c,{key:1,class:z(t.ns.e("body-footer")),border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):he("v-if",!0)],6),t.isEmpty?(P(),K("div",{key:0,ref:"emptyBlock",style:bt(t.emptyBlockStyle),class:z(t.ns.e("empty-block"))},[Z("span",{class:z(t.ns.e("empty-text"))},[oe(t.$slots,"empty",{},()=>[pt(Ne(t.computedEmptyText),1)])],2)],6)):he("v-if",!0),t.$slots.append?(P(),K("div",{key:1,ref:"appendWrapper",class:z(t.ns.e("append-wrapper"))},[oe(t.$slots,"append")],2)):he("v-if",!0)]),_:3},8,["view-style","wrap-style","always","tabindex"])],2),t.showSummary&&t.tableLayout==="fixed"?Ut((P(),K("div",{key:1,ref:"footerWrapper",class:z(t.ns.e("footer-wrapper"))},[Z("table",{class:z(t.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:bt(t.tableBodyStyles)},[Q(a,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),Q(c,{border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[on,!t.isEmpty],[p,t.handleHeaderFooterMousewheel]]):he("v-if",!0),t.border||t.isGroup?(P(),K("div",{key:2,class:z(t.ns.e("border-left-patch"))},null,2)):he("v-if",!0)],6),Ut(Z("div",{ref:"resizeProxy",class:z(t.ns.e("column-resize-proxy"))},null,2),[[on,t.resizeProxyVisible]])],46,["data-prefix","onMouseleave"])}var Sne=We(bne,[["render",wne],["__file","table.vue"]]);const Ene={selection:"table-column--selection",expand:"table__expand-column"},Cne={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},xne=t=>Ene[t]||"",Mne={selection:{renderHeader({store:t,column:e}){function n(){return t.states.data.value&&t.states.data.value.length===0}return Ct(gs,{disabled:n(),size:t.states.tableSize.value,indeterminate:t.states.selection.value.length>0&&!t.states.isAllSelected.value,"onUpdate:modelValue":t.toggleAllSelection,modelValue:t.states.isAllSelected.value,ariaLabel:e.label})},renderCell({row:t,column:e,store:n,$index:i}){return Ct(gs,{disabled:e.selectable?!e.selectable.call(null,t,i):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",t)},onClick:r=>r.stopPropagation(),modelValue:n.isSelected(t),ariaLabel:e.label})},sortable:!1,resizable:!1},index:{renderHeader({column:t}){return t.label||"#"},renderCell({column:t,$index:e}){let n=e+1;const i=t.index;return typeof i=="number"?n=e+i:typeof i=="function"&&(n=i(e)),Ct("div",{},[n])},sortable:!1},expand:{renderHeader({column:t}){return t.label||""},renderCell({row:t,store:e,expanded:n}){const{ns:i}=e,r=[i.e("expand-icon")];return n&&r.push(i.em("expand-icon","expanded")),Ct("div",{class:r,onClick:function(a){a.stopPropagation(),e.toggleRowExpansion(t)}},{default:()=>[Ct(ft,null,{default:()=>[Ct(vr)]})]})},sortable:!1,resizable:!1}};function Tne({row:t,column:e,$index:n}){var i;const r=e.property,s=r&&th(t,r).value;return e&&e.formatter?e.formatter(t,e,s,n):((i=s==null?void 0:s.toString)==null?void 0:i.call(s))||""}function Ane({row:t,treeNode:e,store:n},i=!1){const{ns:r}=n;if(!e)return i?[Ct("span",{class:r.e("placeholder")})]:null;const s=[],a=function(o){o.stopPropagation(),!e.loading&&n.loadOrToggle(t)};if(e.indent&&s.push(Ct("span",{class:r.e("indent"),style:{"padding-left":`${e.indent}px`}})),typeof e.expanded=="boolean"&&!e.noLazyChildren){const o=[r.e("expand-icon"),e.expanded?r.em("expand-icon","expanded"):""];let l=vr;e.loading&&(l=ra),s.push(Ct("div",{class:o,onClick:a},{default:()=>[Ct(ft,{class:{[r.is("loading")]:e.loading}},{default:()=>[Ct(l)]})]}))}else s.push(Ct("span",{class:r.e("placeholder")}));return s}function Hw(t,e){return t.reduce((n,i)=>(n[i]=i,n),e)}function kne(t,e){const n=Yt();return{registerComplexWatchers:()=>{const s=["fixed"],a={realWidth:"width",realMinWidth:"minWidth"},o=Hw(s,a);Object.keys(o).forEach(l=>{const c=a[l];qi(e,c)&&Le(()=>e[c],d=>{let p=d;c==="width"&&l==="realWidth"&&(p=a_(d)),c==="minWidth"&&l==="realMinWidth"&&(p=MA(d)),n.columnConfig.value[c]=p,n.columnConfig.value[l]=p;const v=c==="fixed";t.value.store.scheduleLayout(v)})})},registerNormalWatchers:()=>{const s=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],a={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},o=Hw(s,a);Object.keys(o).forEach(l=>{const c=a[l];qi(e,c)&&Le(()=>e[c],d=>{n.columnConfig.value[l]=d})})}}}function Pne(t,e,n){const i=Yt(),r=W(""),s=W(!1),a=W(),o=W(),l=Fe("table");gi(()=>{a.value=t.align?`is-${t.align}`:null,a.value}),gi(()=>{o.value=t.headerAlign?`is-${t.headerAlign}`:a.value,o.value});const c=L(()=>{let x=i.vnode.vParent||i.parent;for(;x&&!x.tableId&&!x.columnId;)x=x.vnode.vParent||x.parent;return x}),d=L(()=>{const{store:x}=i.parent;if(!x)return!1;const{treeData:T}=x.states,k=T.value;return k&&Object.keys(k).length>0}),p=W(a_(t.width)),v=W(MA(t.minWidth)),g=x=>(p.value&&(x.width=p.value),v.value&&(x.minWidth=v.value),!p.value&&v.value&&(x.width=void 0),x.minWidth||(x.minWidth=80),x.realWidth=Number(x.width===void 0?x.minWidth:x.width),x),y=x=>{const T=x.type,k=Mne[T]||{};Object.keys(k).forEach(O=>{const U=k[O];O!=="className"&&U!==void 0&&(x[O]=U)});const I=xne(T);if(I){const O=`${f(l.namespace)}-${I}`;x.className=x.className?`${x.className} ${O}`:O}return x},_=x=>{Array.isArray(x)?x.forEach(k=>T(k)):T(x);function T(k){var I;((I=k==null?void 0:k.type)==null?void 0:I.name)==="ElTableColumn"&&(k.vParent=i)}};return{columnId:r,realAlign:a,isSubColumn:s,realHeaderAlign:o,columnOrTableParent:c,setColumnWidth:g,setColumnForcedProps:y,setColumnRenders:x=>{t.renderHeader||x.type!=="selection"&&(x.renderHeader=k=>(i.columnConfig.value.label,oe(e,"header",k,()=>[x.label]))),e["filter-icon"]&&(x.renderFilterIcon=k=>oe(e,"filter-icon",k));let T=x.renderCell;return x.type==="expand"?(x.renderCell=k=>Ct("div",{class:"cell"},[T(k)]),n.value.renderExpanded=k=>e.default?e.default(k):e.default):(T=T||Tne,x.renderCell=k=>{let I=null;if(e.default){const J=e.default(k);I=J.some(Y=>Y.type!==x0)?J:T(k)}else I=T(k);const{columns:O}=n.value.store.states,U=O.value.findIndex(J=>J.type==="default"),R=d.value&&k.cellIndex===U,N=Ane(k,R),$={class:"cell",style:{}};return x.showOverflowTooltip&&($.class=`${$.class} ${f(l.namespace)}-tooltip`,$.style={width:`${(k.column.realWidth||Number(k.column.width))-1}px`}),_(I),Ct("div",$,[N,I])}),x},getPropsData:(...x)=>x.reduce((T,k)=>(Array.isArray(k)&&k.forEach(I=>{T[I]=t[I]}),T),{}),getColumnElIndex:(x,T)=>Array.prototype.indexOf.call(x,T),updateColumnOrder:()=>{n.value.store.commit("updateColumnOrder",i.columnConfig.value)}}}var Rne={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:t=>t.every(e=>["ascending","descending",null].includes(e))}};let Ine=1;var OA=ie({name:"ElTableColumn",components:{ElCheckbox:gs},props:Rne,setup(t,{slots:e}){const n=Yt(),i=W({}),r=L(()=>{let E=n.parent;for(;E&&!E.tableId;)E=E.parent;return E}),{registerNormalWatchers:s,registerComplexWatchers:a}=kne(r,t),{columnId:o,isSubColumn:l,realHeaderAlign:c,columnOrTableParent:d,setColumnWidth:p,setColumnForcedProps:v,setColumnRenders:g,getPropsData:y,getColumnElIndex:_,realAlign:w,updateColumnOrder:b}=Pne(t,e,r),M=d.value;o.value=`${M.tableId||M.columnId}_column_${Ine++}`,M0(()=>{l.value=r.value!==M;const E=t.type||"default",x=t.sortable===""?!0:t.sortable,T=Hn(t.showOverflowTooltip)?M.props.showOverflowTooltip:t.showOverflowTooltip,k={...Cne[E],id:o.value,type:E,property:t.prop||t.property,align:w,headerAlign:c,showOverflowTooltip:T,filterable:t.filters||t.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:x,index:t.index,rawColumnKey:n.vnode.key};let N=y(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);N=Bte(k,N),N=Vte(g,p,v)(N),i.value=N,s(),a()}),St(()=>{var E;const x=d.value,T=l.value?x.vnode.el.children:(E=x.refs.hiddenColumns)==null?void 0:E.children,k=()=>_(T||[],n.vnode.el);i.value.getColumnIndex=k,k()>-1&&r.value.store.commit("insertColumn",i.value,l.value?x.columnConfig.value:null,b)}),Tn(()=>{const E=i.value.getColumnIndex;(E?E():-1)>-1&&r.value.store.commit("removeColumn",i.value,l.value?M.columnConfig.value:null,b)}),n.columnId=o.value,n.columnConfig=i},render(){var t,e,n;try{const i=(e=(t=this.$slots).default)==null?void 0:e.call(t,{row:{},column:{},$index:-1}),r=[];if(Array.isArray(i))for(const a of i)((n=a.type)==null?void 0:n.name)==="ElTableColumn"||a.shapeFlag&2?r.push(a):a.type===ct&&Array.isArray(a.children)&&a.children.forEach(o=>{(o==null?void 0:o.patchFlag)!==1024&&!Wt(o==null?void 0:o.children)&&r.push(o)});return Ct("div",r)}catch{return Ct("div",[])}}});const Lne=Ft(Sne,{TableColumn:OA}),Nne=Vn(OA);var bd=(t=>(t.ASC="asc",t.DESC="desc",t))(bd||{}),wd=(t=>(t.CENTER="center",t.RIGHT="right",t))(wd||{}),DA=(t=>(t.LEFT="left",t.RIGHT="right",t))(DA||{});const Bg={asc:"desc",desc:"asc"},Sd=Symbol("placeholder"),One=(t,e,n)=>{var i;const r={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:t.flexGrow||0,flexShrink:t.flexShrink||1}};n||(r.flexShrink=1);const s={...(i=t.style)!=null?i:{},...r,flexBasis:"auto",width:t.width};return e||(t.maxWidth&&(s.maxWidth=t.maxWidth),t.minWidth&&(s.minWidth=t.minWidth)),s};function Dne(t,e,n){const i=L(()=>f(e).map((w,b)=>{var M,E;return{...w,key:(E=(M=w.key)!=null?M:w.dataKey)!=null?E:b}})),r=L(()=>f(i).filter(w=>!w.hidden)),s=L(()=>f(r).filter(w=>w.fixed==="left"||w.fixed===!0)),a=L(()=>f(r).filter(w=>w.fixed==="right")),o=L(()=>f(r).filter(w=>!w.fixed)),l=L(()=>{const w=[];return f(s).forEach(b=>{w.push({...b,placeholderSign:Sd})}),f(o).forEach(b=>{w.push(b)}),f(a).forEach(b=>{w.push({...b,placeholderSign:Sd})}),w}),c=L(()=>f(s).length||f(a).length),d=L(()=>f(i).reduce((w,b)=>(w[b.key]=One(b,f(n),t.fixed),w),{})),p=L(()=>f(r).reduce((w,b)=>w+b.width,0)),v=w=>f(i).find(b=>b.key===w),g=w=>f(d)[w],y=(w,b)=>{w.width=b};function _(w){var b;const{key:M}=w.currentTarget.dataset;if(!M)return;const{sortState:E,sortBy:x}=t;let T=bd.ASC;Sn(E)?T=Bg[E[M]]:T=Bg[x.order],(b=t.onColumnSort)==null||b.call(t,{column:v(M),key:M,order:T})}return{columns:i,columnsStyles:d,columnsTotalWidth:p,fixedColumnsOnLeft:s,fixedColumnsOnRight:a,hasFixedColumns:c,mainColumns:l,normalColumns:o,visibleColumns:r,getColumn:v,getColumnStyle:g,updateColumnWidth:y,onColumnSorted:_}}const Fne=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:i,onMaybeEndReached:r})=>{const s=W({scrollLeft:0,scrollTop:0});function a(g){var y,_,w;const{scrollTop:b}=g;(y=e.value)==null||y.scrollTo(g),(_=n.value)==null||_.scrollToTop(b),(w=i.value)==null||w.scrollToTop(b)}function o(g){s.value=g,a(g)}function l(g){s.value.scrollTop=g,a(f(s))}function c(g){var y,_;s.value.scrollLeft=g,(_=(y=e.value)==null?void 0:y.scrollTo)==null||_.call(y,f(s))}function d(g){var y;o(g),(y=t.onScroll)==null||y.call(t,g)}function p({scrollTop:g}){const{scrollTop:y}=f(s);g!==y&&l(g)}function v(g,y="auto"){var _;(_=e.value)==null||_.scrollToRow(g,y)}return Le(()=>f(s).scrollTop,(g,y)=>{g>y&&r()}),{scrollPos:s,scrollTo:o,scrollToLeft:c,scrollToTop:l,scrollToRow:v,onScroll:d,onVerticalScroll:p}},Bne=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:i,tableInstance:r,ns:s,isScrolling:a})=>{const o=Yt(),{emit:l}=o,c=An(!1),d=W(t.defaultExpandedRowKeys||[]),p=W(-1),v=An(null),g=W({}),y=W({}),_=An({}),w=An({}),b=An({}),M=L(()=>Pt(t.estimatedRowHeight));function E(R){var N;(N=t.onRowsRendered)==null||N.call(t,R),R.rowCacheEnd>f(p)&&(p.value=R.rowCacheEnd)}function x({hovered:R,rowKey:N}){if(a.value)return;r.vnode.el.querySelectorAll(`[rowkey="${String(N)}"]`).forEach(Y=>{R?Y.classList.add(s.is("hovered")):Y.classList.remove(s.is("hovered"))})}function T({expanded:R,rowData:N,rowIndex:$,rowKey:J}){var Y,H;const B=[...f(d)],X=B.indexOf(J);R?X===-1&&B.push(J):X>-1&&B.splice(X,1),d.value=B,l("update:expandedRowKeys",B),(Y=t.onRowExpand)==null||Y.call(t,{expanded:R,rowData:N,rowIndex:$,rowKey:J}),(H=t.onExpandedRowsChange)==null||H.call(t,B)}const k=Br(()=>{var R,N,$,J;c.value=!0,g.value={...f(g),...f(y)},I(f(v),!1),y.value={},v.value=null,(R=e.value)==null||R.forceUpdate(),(N=n.value)==null||N.forceUpdate(),($=i.value)==null||$.forceUpdate(),(J=o.proxy)==null||J.$forceUpdate(),c.value=!1},0);function I(R,N=!1){f(M)&&[e,n,i].forEach($=>{const J=f($);J&&J.resetAfterRowIndex(R,N)})}function O(R,N,$){const J=f(v);(J===null||J>$)&&(v.value=$),y.value[R]=N}function U({rowKey:R,height:N,rowIndex:$},J){J?J===DA.RIGHT?b.value[R]=N:_.value[R]=N:w.value[R]=N;const Y=Math.max(...[_,b,w].map(H=>H.value[R]||0));f(g)[R]!==Y&&(O(R,Y,$),k())}return{expandedRowKeys:d,lastRenderedRowIndex:p,isDynamic:M,isResetting:c,rowHeights:g,resetAfterIndex:I,onRowExpanded:T,onRowHovered:x,onRowsRendered:E,onRowHeightChange:U}},Une=(t,{expandedRowKeys:e,lastRenderedRowIndex:n,resetAfterIndex:i})=>{const r=W({}),s=L(()=>{const o={},{data:l,rowKey:c}=t,d=f(e);if(!d||!d.length)return l;const p=[],v=new Set;d.forEach(y=>v.add(y));let g=l.slice();for(g.forEach(y=>o[y[c]]=0);g.length>0;){const y=g.shift();p.push(y),v.has(y[c])&&Array.isArray(y.children)&&y.children.length>0&&(g=[...y.children,...g],y.children.forEach(_=>o[_[c]]=o[y[c]]+1))}return r.value=o,p}),a=L(()=>{const{data:o,expandColumnKey:l}=t;return l?f(s):o});return Le(a,(o,l)=>{o!==l&&(n.value=-1,i(0,!0))}),{data:a,depthMap:r}},Vne=(t,e)=>t+e,ch=t=>Ot(t)?t.reduce(Vne,0):t,Ml=(t,e,n={})=>cn(t)?t(e):t??n,io=t=>(["width","maxWidth","minWidth","height"].forEach(e=>{t[e]=Jn(t[e])}),t),FA=t=>ri(t)?e=>Ct(t,e):t,zne=(t,{columnsTotalWidth:e,data:n,fixedColumnsOnLeft:i,fixedColumnsOnRight:r})=>{const s=L(()=>{const{fixed:E,width:x,vScrollbarSize:T}=t,k=x-T;return E?Math.max(Math.round(f(e)),k):k}),a=L(()=>f(s)+t.vScrollbarSize),o=L(()=>{const{height:E=0,maxHeight:x=0,footerHeight:T,hScrollbarSize:k}=t;if(x>0){const I=f(y),O=f(l),R=f(g)+I+O+k;return Math.min(R,x-T)}return E-T}),l=L(()=>{const{rowHeight:E,estimatedRowHeight:x}=t,T=f(n);return Pt(x)?T.length*x:T.length*E}),c=L(()=>{const{maxHeight:E}=t,x=f(o);if(Pt(E)&&E>0)return x;const T=f(l)+f(g)+f(y);return Math.min(x,T)}),d=E=>E.width,p=L(()=>ch(f(i).map(d))),v=L(()=>ch(f(r).map(d))),g=L(()=>ch(t.headerHeight)),y=L(()=>{var E;return(((E=t.fixedData)==null?void 0:E.length)||0)*t.rowHeight}),_=L(()=>f(o)-f(g)-f(y)),w=L(()=>{const{style:E={},height:x,width:T}=t;return io({...E,height:x,width:T})}),b=L(()=>io({height:t.footerHeight})),M=L(()=>({top:Jn(f(g)),bottom:Jn(t.footerHeight),width:Jn(t.width)}));return{bodyWidth:s,fixedTableHeight:c,mainTableHeight:o,leftTableWidth:p,rightTableWidth:v,headerWidth:a,rowsHeight:l,windowHeight:_,footerHeight:b,emptyStyle:M,rootStyle:w,headerHeight:g}},$ne=t=>{const e=W(),n=W(0),i=W(0);let r;return St(()=>{r=Fn(e,([s])=>{const{width:a,height:o}=s.contentRect,{paddingLeft:l,paddingRight:c,paddingTop:d,paddingBottom:p}=getComputedStyle(s.target),v=Number.parseInt(l)||0,g=Number.parseInt(c)||0,y=Number.parseInt(d)||0,_=Number.parseInt(p)||0;n.value=a-v-g,i.value=o-y-_}).stop}),Tn(()=>{r==null||r()}),Le([n,i],([s,a])=>{var o;(o=t.onResize)==null||o.call(t,{width:s,height:a})}),{sizer:e,width:n,height:i}};function Hne(t){const e=W(),n=W(),i=W(),{columns:r,columnsStyles:s,columnsTotalWidth:a,fixedColumnsOnLeft:o,fixedColumnsOnRight:l,hasFixedColumns:c,mainColumns:d,onColumnSorted:p}=Dne(t,yn(t,"columns"),yn(t,"fixed")),{scrollTo:v,scrollToLeft:g,scrollToTop:y,scrollToRow:_,onScroll:w,onVerticalScroll:b,scrollPos:M}=Fne(t,{mainTableRef:e,leftTableRef:n,rightTableRef:i,onMaybeEndReached:He}),E=Fe("table-v2"),x=Yt(),T=An(!1),{expandedRowKeys:k,lastRenderedRowIndex:I,isDynamic:O,isResetting:U,rowHeights:R,resetAfterIndex:N,onRowExpanded:$,onRowHeightChange:J,onRowHovered:Y,onRowsRendered:H}=Bne(t,{mainTableRef:e,leftTableRef:n,rightTableRef:i,tableInstance:x,ns:E,isScrolling:T}),{data:B,depthMap:X}=Une(t,{expandedRowKeys:k,lastRenderedRowIndex:I,resetAfterIndex:N}),{bodyWidth:q,fixedTableHeight:D,mainTableHeight:V,leftTableWidth:ee,rightTableWidth:ce,headerWidth:ae,rowsHeight:le,windowHeight:ye,footerHeight:Ee,emptyStyle:pe,rootStyle:ue,headerHeight:Me}=zne(t,{columnsTotalWidth:a,data:B,fixedColumnsOnLeft:o,fixedColumnsOnRight:l}),De=W(),xe=L(()=>{const Je=f(B).length===0;return Ot(t.fixedData)?t.fixedData.length===0&&Je:Je});function G(Je){const{estimatedRowHeight:at,rowHeight:rt,rowKey:it}=t;return at?f(R)[f(B)[Je][it]]||at:rt}function He(){const{onEndReached:Je}=t;if(!Je)return;const{scrollTop:at}=f(M),rt=f(le),it=f(ye),qe=rt-(at+it)+t.hScrollbarSize;f(I)>=0&&rt===at+f(V)-f(Me)&&Je(qe)}return Le(()=>t.expandedRowKeys,Je=>k.value=Je,{deep:!0}),{columns:r,containerRef:De,mainTableRef:e,leftTableRef:n,rightTableRef:i,isDynamic:O,isResetting:U,isScrolling:T,hasFixedColumns:c,columnsStyles:s,columnsTotalWidth:a,data:B,expandedRowKeys:k,depthMap:X,fixedColumnsOnLeft:o,fixedColumnsOnRight:l,mainColumns:d,bodyWidth:q,emptyStyle:pe,rootStyle:ue,headerWidth:ae,footerHeight:Ee,mainTableHeight:V,fixedTableHeight:D,leftTableWidth:ee,rightTableWidth:ce,showEmpty:xe,getRowHeight:G,onColumnSorted:p,onRowHovered:Y,onRowExpanded:$,onRowsRendered:H,onRowHeightChange:J,scrollTo:v,scrollToLeft:g,scrollToTop:y,scrollToRow:_,onScroll:w,onVerticalScroll:b}}const u_=Symbol("tableV2"),BA=String,Gd={type:_e(Array),required:!0},c_={type:_e(Array)},UA={...c_,required:!0},Gne=String,Gw={type:_e(Array),default:()=>Un([])},jo={type:Number,required:!0},VA={type:_e([String,Number,Symbol]),default:"id"},Ww={type:_e(Object)},il=Ge({class:String,columns:Gd,columnsStyles:{type:_e(Object),required:!0},depth:Number,expandColumnKey:Gne,estimatedRowHeight:{...dl.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:_e(Function)},onRowHover:{type:_e(Function)},onRowHeightChange:{type:_e(Function)},rowData:{type:_e(Object),required:!0},rowEventHandlers:{type:_e(Object)},rowIndex:{type:Number,required:!0},rowKey:VA,style:{type:_e(Object)}}),Om={type:Number,required:!0},d_=Ge({class:String,columns:Gd,fixedHeaderData:{type:_e(Array)},headerData:{type:_e(Array),required:!0},headerHeight:{type:_e([Number,Array]),default:50},rowWidth:Om,rowHeight:{type:Number,default:50},height:Om,width:Om}),dh=Ge({columns:Gd,data:UA,fixedData:c_,estimatedRowHeight:il.estimatedRowHeight,width:jo,height:jo,headerWidth:jo,headerHeight:d_.headerHeight,bodyWidth:jo,rowHeight:jo,cache:oA.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:dl.scrollbarAlwaysOn,scrollbarStartGap:dl.scrollbarStartGap,scrollbarEndGap:dl.scrollbarEndGap,class:BA,style:Ww,containerStyle:Ww,getRowHeight:{type:_e(Function),required:!0},rowKey:il.rowKey,onRowsRendered:{type:_e(Function)},onScroll:{type:_e(Function)}}),Wne=Ge({cache:dh.cache,estimatedRowHeight:il.estimatedRowHeight,rowKey:VA,headerClass:{type:_e([String,Function])},headerProps:{type:_e([Object,Function])},headerCellProps:{type:_e([Object,Function])},headerHeight:d_.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:_e([String,Function])},rowProps:{type:_e([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:_e([Object,Function])},columns:Gd,data:UA,dataGetter:{type:_e(Function)},fixedData:c_,expandColumnKey:il.expandColumnKey,expandedRowKeys:Gw,defaultExpandedRowKeys:Gw,class:BA,fixed:Boolean,style:{type:_e(Object)},width:jo,height:jo,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:dl.hScrollbarSize,vScrollbarSize:dl.vScrollbarSize,scrollbarAlwaysOn:cA.alwaysOn,sortBy:{type:_e(Object),default:()=>({})},sortState:{type:_e(Object),default:void 0},onColumnSort:{type:_e(Function)},onExpandedRowsChange:{type:_e(Function)},onEndReached:{type:_e(Function)},onRowExpand:il.onRowExpand,onScroll:dh.onScroll,onRowsRendered:dh.onRowsRendered,rowEventHandlers:il.rowEventHandlers}),f_=(t,{slots:e})=>{var n;const{cellData:i,style:r}=t,s=((n=i==null?void 0:i.toString)==null?void 0:n.call(i))||"",a=oe(e,"default",t,()=>[s]);return Q("div",{class:t.class,title:s,style:r},[a])};f_.displayName="ElTableV2Cell";f_.inheritAttrs=!1;const h_=(t,{slots:e})=>oe(e,"default",t,()=>{var n,i;return[Q("div",{class:t.class,title:(n=t.column)==null?void 0:n.title},[(i=t.column)==null?void 0:i.title])]});h_.displayName="ElTableV2HeaderCell";h_.inheritAttrs=!1;const Kne=Ge({class:String,columns:Gd,columnsStyles:{type:_e(Object),required:!0},headerIndex:Number,style:{type:_e(Object)}}),qne=ie({name:"ElTableV2HeaderRow",props:Kne,setup(t,{slots:e}){return()=>{const{columns:n,columnsStyles:i,headerIndex:r,style:s}=t;let a=n.map((o,l)=>e.cell({columns:n,column:o,columnIndex:l,headerIndex:r,style:i[o.key]}));return e.header&&(a=e.header({cells:a.map(o=>Ot(o)&&o.length===1?o[0]:o),columns:n,headerIndex:r})),Q("div",{class:t.class,style:s,role:"row"},[a])}}}),Yne="ElTableV2Header",jne=ie({name:Yne,props:d_,setup(t,{slots:e,expose:n}){const i=Fe("table-v2"),r=W(),s=L(()=>io({width:t.width,height:t.height})),a=L(()=>io({width:t.rowWidth,height:t.height})),o=L(()=>Qi(f(t.headerHeight))),l=p=>{const v=f(r);_t(()=>{v!=null&&v.scroll&&v.scroll({left:p})})},c=()=>{const p=i.e("fixed-header-row"),{columns:v,fixedHeaderData:g,rowHeight:y}=t;return g==null?void 0:g.map((_,w)=>{var b;const M=io({height:y,width:"100%"});return(b=e.fixed)==null?void 0:b.call(e,{class:p,columns:v,rowData:_,rowIndex:-(w+1),style:M})})},d=()=>{const p=i.e("dynamic-header-row"),{columns:v}=t;return f(o).map((g,y)=>{var _;const w=io({width:"100%",height:g});return(_=e.dynamic)==null?void 0:_.call(e,{class:p,columns:v,headerIndex:y,style:w})})};return n({scrollToLeft:l}),()=>{if(!(t.height<=0))return Q("div",{ref:r,class:t.class,style:f(s),role:"rowgroup"},[Q("div",{style:f(a),class:i.e("header")},[d(),c()])])}}}),Xne=t=>{const{isScrolling:e}=dt(u_),n=W(!1),i=W(),r=L(()=>Pt(t.estimatedRowHeight)&&t.rowIndex>=0),s=(l=!1)=>{const c=f(i);if(!c)return;const{columns:d,onRowHeightChange:p,rowKey:v,rowIndex:g,style:y}=t,{height:_}=c.getBoundingClientRect();n.value=!0,_t(()=>{if(l||_!==Number.parseInt(y.height)){const w=d[0],b=(w==null?void 0:w.placeholderSign)===Sd;p==null||p({rowKey:v,height:_,rowIndex:g},w&&!b&&w.fixed)}})},a=L(()=>{const{rowData:l,rowIndex:c,rowKey:d,onRowHover:p}=t,v=t.rowEventHandlers||{},g={};return Object.entries(v).forEach(([y,_])=>{cn(_)&&(g[y]=w=>{_({event:w,rowData:l,rowIndex:c,rowKey:d})})}),p&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:y,hovered:_})=>{const w=g[y];g[y]=b=>{p({event:b,hovered:_,rowData:l,rowIndex:c,rowKey:d}),w==null||w(b)}}),g}),o=l=>{const{onRowExpand:c,rowData:d,rowIndex:p,rowKey:v}=t;c==null||c({expanded:l,rowData:d,rowIndex:p,rowKey:v})};return St(()=>{f(r)&&s(!0)}),{isScrolling:e,measurable:r,measured:n,rowRef:i,eventHandlers:a,onExpand:o}},Zne="ElTableV2TableRow",Jne=ie({name:Zne,props:il,setup(t,{expose:e,slots:n,attrs:i}){const{eventHandlers:r,isScrolling:s,measurable:a,measured:o,rowRef:l,onExpand:c}=Xne(t);return e({onExpand:c}),()=>{const{columns:d,columnsStyles:p,expandColumnKey:v,depth:g,rowData:y,rowIndex:_,style:w}=t;let b=d.map((M,E)=>{const x=Ot(y.children)&&y.children.length>0&&M.key===v;return n.cell({column:M,columns:d,columnIndex:E,depth:g,style:p[M.key],rowData:y,rowIndex:_,isScrolling:f(s),expandIconProps:x?{rowData:y,rowIndex:_,onExpand:c}:void 0})});if(n.row&&(b=n.row({cells:b.map(M=>Ot(M)&&M.length===1?M[0]:M),style:w,columns:d,depth:g,rowData:y,rowIndex:_,isScrolling:f(s)})),f(a)){const{height:M,...E}=w||{},x=f(o);return Q("div",Gt({ref:l,class:t.class,style:x?w:E,role:"row"},i,f(r)),[b])}return Q("div",Gt(i,{ref:l,class:t.class,style:w,role:"row"},f(r)),[b])}}}),Qne=t=>{const{sortOrder:e}=t;return Q(ft,{size:14,class:t.class},{default:()=>[e===bd.ASC?Q(x4,null,null):Q(E4,null,null)]})},eie=t=>{const{expanded:e,expandable:n,onExpand:i,style:r,size:s}=t,a={onClick:n?()=>i(!e):void 0,class:t.class};return Q(ft,Gt(a,{size:s,style:r}),{default:()=>[Q(vr,null,null)]})},tie="ElTableV2Grid",nie=t=>{const e=W(),n=W(),i=L(()=>{const{data:_,rowHeight:w,estimatedRowHeight:b}=t;if(!b)return _.length*w}),r=L(()=>{const{fixedData:_,rowHeight:w}=t;return((_==null?void 0:_.length)||0)*w}),s=L(()=>ch(t.headerHeight)),a=L(()=>{const{height:_}=t;return Math.max(0,_-f(s)-f(r))}),o=L(()=>f(s)+f(r)>0),l=({data:_,rowIndex:w})=>_[w][t.rowKey];function c({rowCacheStart:_,rowCacheEnd:w,rowVisibleStart:b,rowVisibleEnd:M}){var E;(E=t.onRowsRendered)==null||E.call(t,{rowCacheStart:_,rowCacheEnd:w,rowVisibleStart:b,rowVisibleEnd:M})}function d(_,w){var b;(b=n.value)==null||b.resetAfterRowIndex(_,w)}function p(_,w){const b=f(e),M=f(n);Sn(_)?(b==null||b.scrollToLeft(_.scrollLeft),M==null||M.scrollTo(_)):(b==null||b.scrollToLeft(_),M==null||M.scrollTo({scrollLeft:_,scrollTop:w}))}function v(_){var w;(w=f(n))==null||w.scrollTo({scrollTop:_})}function g(_,w){var b;(b=f(n))==null||b.scrollToItem(_,1,w)}function y(){var _,w;(_=f(n))==null||_.$forceUpdate(),(w=f(e))==null||w.$forceUpdate()}return{bodyRef:n,forceUpdate:y,fixedRowHeight:r,gridHeight:a,hasHeader:o,headerHeight:s,headerRef:e,totalHeight:i,itemKey:l,onItemRendered:c,resetAfterRowIndex:d,scrollTo:p,scrollToTop:v,scrollToRow:g}},p_=ie({name:tie,props:dh,setup(t,{slots:e,expose:n}){const{ns:i}=dt(u_),{bodyRef:r,fixedRowHeight:s,gridHeight:a,hasHeader:o,headerRef:l,headerHeight:c,totalHeight:d,forceUpdate:p,itemKey:v,onItemRendered:g,resetAfterRowIndex:y,scrollTo:_,scrollToTop:w,scrollToRow:b}=nie(t);n({forceUpdate:p,totalHeight:d,scrollTo:_,scrollToTop:w,scrollToRow:b,resetAfterRowIndex:y});const M=()=>t.bodyWidth;return()=>{const{cache:E,columns:x,data:T,fixedData:k,useIsScrolling:I,scrollbarAlwaysOn:O,scrollbarEndGap:U,scrollbarStartGap:R,style:N,rowHeight:$,bodyWidth:J,estimatedRowHeight:Y,headerWidth:H,height:B,width:X,getRowHeight:q,onScroll:D}=t,V=Pt(Y),ee=V?tee:ZQ,ce=f(c);return Q("div",{role:"table",class:[i.e("table"),t.class],style:N},[Q(ee,{ref:r,data:T,useIsScrolling:I,itemKey:v,columnCache:0,columnWidth:V?M:J,totalColumn:1,totalRow:T.length,rowCache:E,rowHeight:V?q:$,width:X,height:f(a),class:i.e("body"),role:"rowgroup",scrollbarStartGap:R,scrollbarEndGap:U,scrollbarAlwaysOn:O,onScroll:D,onItemRendered:g,perfMode:!1},{default:ae=>{var le;const ye=T[ae.rowIndex];return(le=e.row)==null?void 0:le.call(e,{...ae,columns:x,rowData:ye})}}),f(o)&&Q(jne,{ref:l,class:i.e("header-wrapper"),columns:x,headerData:T,headerHeight:t.headerHeight,fixedHeaderData:k,rowWidth:H,rowHeight:$,width:X,height:Math.min(ce+f(s),B)},{dynamic:e.header,fixed:e.row})])}}});function iie(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ri(t)}const rie=(t,{slots:e})=>{const{mainTableRef:n,...i}=t;return Q(p_,Gt({ref:n},i),iie(e)?e:{default:()=>[e]})};function sie(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ri(t)}const aie=(t,{slots:e})=>{if(!t.columns.length)return;const{leftTableRef:n,...i}=t;return Q(p_,Gt({ref:n},i),sie(e)?e:{default:()=>[e]})};function oie(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ri(t)}const lie=(t,{slots:e})=>{if(!t.columns.length)return;const{rightTableRef:n,...i}=t;return Q(p_,Gt({ref:n},i),oie(e)?e:{default:()=>[e]})};function uie(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ri(t)}const cie=(t,{slots:e})=>{const{columns:n,columnsStyles:i,depthMap:r,expandColumnKey:s,expandedRowKeys:a,estimatedRowHeight:o,hasFixedColumns:l,rowData:c,rowIndex:d,style:p,isScrolling:v,rowProps:g,rowClass:y,rowKey:_,rowEventHandlers:w,ns:b,onRowHovered:M,onRowExpanded:E}=t,x=Ml(y,{columns:n,rowData:c,rowIndex:d},""),T=Ml(g,{columns:n,rowData:c,rowIndex:d}),k=c[_],I=r[k]||0,O=!!s,U=d<0,R=[b.e("row"),x,{[b.e(`row-depth-${I}`)]:O&&d>=0,[b.is("expanded")]:O&&a.includes(k),[b.is("fixed")]:!I&&U,[b.is("customized")]:!!e.row}],N=l?M:void 0,$={...T,columns:n,columnsStyles:i,class:R,depth:I,expandColumnKey:s,estimatedRowHeight:U?void 0:o,isScrolling:v,rowIndex:d,rowData:c,rowKey:k,rowEventHandlers:w,style:p};return Q(Jne,Gt($,{onRowExpand:E,onMouseenter:H=>{N==null||N({hovered:!0,rowKey:k,event:H,rowData:c,rowIndex:d})},onMouseleave:H=>{N==null||N({hovered:!1,rowKey:k,event:H,rowData:c,rowIndex:d})},rowkey:k}),uie(e)?e:{default:()=>[e]})},Ug=({columns:t,column:e,columnIndex:n,depth:i,expandIconProps:r,isScrolling:s,rowData:a,rowIndex:o,style:l,expandedRowKeys:c,ns:d,cellProps:p,expandColumnKey:v,indentSize:g,iconSize:y,rowKey:_},{slots:w})=>{const b=io(l);if(e.placeholderSign===Sd)return Q("div",{class:d.em("row-cell","placeholder"),style:b},null);const{cellRenderer:M,dataKey:E,dataGetter:x}=e,T=cn(x)?x({columns:t,column:e,columnIndex:n,rowData:a,rowIndex:o}):ni(a,E??""),k=Ml(p,{cellData:T,columns:t,column:e,columnIndex:n,rowIndex:o,rowData:a}),I={class:d.e("cell-text"),columns:t,column:e,columnIndex:n,cellData:T,isScrolling:s,rowData:a,rowIndex:o},O=FA(M),U=O?O(I):oe(w,"default",I,()=>[Q(f_,I,null)]),R=[d.e("row-cell"),e.class,e.align===wd.CENTER&&d.is("align-center"),e.align===wd.RIGHT&&d.is("align-right")],N=o>=0&&v&&e.key===v,$=o>=0&&c.includes(a[_]);let J;const Y=`margin-inline-start: ${i*g}px;`;return N&&(Sn(r)?J=Q(eie,Gt(r,{class:[d.e("expand-icon"),d.is("expanded",$)],size:y,expanded:$,style:Y,expandable:!0}),null):J=Q("div",{style:[Y,`width: ${y}px; height: ${y}px;`].join(" ")},null)),Q("div",Gt({class:R,style:b},k,{role:"cell"}),[J,U])};Ug.inheritAttrs=!1;function die(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ri(t)}const fie=({columns:t,columnsStyles:e,headerIndex:n,style:i,headerClass:r,headerProps:s,ns:a},{slots:o})=>{const l={columns:t,headerIndex:n},c=[a.e("header-row"),Ml(r,l,""),{[a.is("customized")]:!!o.header}],d={...Ml(s,l),columnsStyles:e,class:c,columns:t,headerIndex:n,style:i};return Q(qne,d,die(o)?o:{default:()=>[o]})},Kw=(t,{slots:e})=>{const{column:n,ns:i,style:r,onColumnSorted:s}=t,a=io(r);if(n.placeholderSign===Sd)return Q("div",{class:i.em("header-row-cell","placeholder"),style:a},null);const{headerCellRenderer:o,headerClass:l,sortable:c}=n,d={...t,class:i.e("header-cell-text")},p=FA(o),v=p?p(d):oe(e,"default",d,()=>[Q(h_,d,null)]),{sortBy:g,sortState:y,headerCellProps:_}=t;let w,b;if(y){const x=y[n.key];w=!!Bg[x],b=w?x:bd.ASC}else w=n.key===g.key,b=w?g.order:bd.ASC;const M=[i.e("header-cell"),Ml(l,t,""),n.align===wd.CENTER&&i.is("align-center"),n.align===wd.RIGHT&&i.is("align-right"),c&&i.is("sortable")],E={...Ml(_,t),onClick:n.sortable?s:void 0,class:M,style:a,"data-key":n.key};return Q("div",Gt(E,{role:"columnheader"}),[v,c&&Q(Qne,{class:[i.e("sort-icon"),w&&i.is("sorting")],sortOrder:b},null)])},zA=(t,{slots:e})=>{var n;return Q("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};zA.displayName="ElTableV2Footer";const $A=(t,{slots:e})=>{const n=oe(e,"default",{},()=>[Q(KT,null,null)]);return Q("div",{class:t.class,style:t.style},[n])};$A.displayName="ElTableV2Empty";const HA=(t,{slots:e})=>{var n;return Q("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};HA.displayName="ElTableV2Overlay";function Oc(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ri(t)}const hie="ElTableV2",pie=ie({name:hie,props:Wne,setup(t,{slots:e,expose:n}){const i=Fe("table-v2"),{columnsStyles:r,fixedColumnsOnLeft:s,fixedColumnsOnRight:a,mainColumns:o,mainTableHeight:l,fixedTableHeight:c,leftTableWidth:d,rightTableWidth:p,data:v,depthMap:g,expandedRowKeys:y,hasFixedColumns:_,mainTableRef:w,leftTableRef:b,rightTableRef:M,isDynamic:E,isResetting:x,isScrolling:T,bodyWidth:k,emptyStyle:I,rootStyle:O,headerWidth:U,footerHeight:R,showEmpty:N,scrollTo:$,scrollToLeft:J,scrollToTop:Y,scrollToRow:H,getRowHeight:B,onColumnSorted:X,onRowHeightChange:q,onRowHovered:D,onRowExpanded:V,onRowsRendered:ee,onScroll:ce,onVerticalScroll:ae}=Hne(t);return n({scrollTo:$,scrollToLeft:J,scrollToTop:Y,scrollToRow:H}),Jt(u_,{ns:i,isResetting:x,isScrolling:T}),()=>{const{cache:le,cellProps:ye,estimatedRowHeight:Ee,expandColumnKey:pe,fixedData:ue,headerHeight:Me,headerClass:De,headerProps:xe,headerCellProps:G,sortBy:He,sortState:Je,rowHeight:at,rowClass:rt,rowEventHandlers:it,rowKey:qe,rowProps:ne,scrollbarAlwaysOn:se,indentSize:ke,iconSize:Be,useIsScrolling:Ve,vScrollbarSize:Ae,width:Re}=t,Xe=f(v),gt={cache:le,class:i.e("main"),columns:f(o),data:Xe,fixedData:ue,estimatedRowHeight:Ee,bodyWidth:f(k)+Ae,headerHeight:Me,headerWidth:f(U),height:f(l),mainTableRef:w,rowKey:qe,rowHeight:at,scrollbarAlwaysOn:se,scrollbarStartGap:2,scrollbarEndGap:Ae,useIsScrolling:Ve,width:Re,getRowHeight:B,onRowsRendered:ee,onScroll:ce},nt=f(d),Lt=f(c),Ye={cache:le,class:i.e("left"),columns:f(s),data:Xe,estimatedRowHeight:Ee,leftTableRef:b,rowHeight:at,bodyWidth:nt,headerWidth:nt,headerHeight:Me,height:Lt,rowKey:qe,scrollbarAlwaysOn:se,scrollbarStartGap:2,scrollbarEndGap:Ae,useIsScrolling:Ve,width:nt,getRowHeight:B,onScroll:ae},Te=f(p)+Ae,ze={cache:le,class:i.e("right"),columns:f(a),data:Xe,estimatedRowHeight:Ee,rightTableRef:M,rowHeight:at,bodyWidth:Te,headerWidth:Te,headerHeight:Me,height:Lt,rowKey:qe,scrollbarAlwaysOn:se,scrollbarStartGap:2,scrollbarEndGap:Ae,width:Te,style:`--${f(i.namespace)}-table-scrollbar-size: ${Ae}px`,useIsScrolling:Ve,getRowHeight:B,onScroll:ae},de=f(r),be={ns:i,depthMap:f(g),columnsStyles:de,expandColumnKey:pe,expandedRowKeys:f(y),estimatedRowHeight:Ee,hasFixedColumns:f(_),rowProps:ne,rowClass:rt,rowKey:qe,rowEventHandlers:it,onRowHovered:D,onRowExpanded:V,onRowHeightChange:q},Ie={cellProps:ye,expandColumnKey:pe,indentSize:ke,iconSize:Be,rowKey:qe,expandedRowKeys:f(y),ns:i},yt={ns:i,headerClass:De,headerProps:xe,columnsStyles:de},Bt={ns:i,sortBy:He,sortState:Je,headerCellProps:G,onColumnSorted:X},Ce={row:et=>Q(cie,Gt(et,be),{row:e.row,cell:ut=>{let wt;return e.cell?Q(Ug,Gt(ut,Ie,{style:de[ut.column.key]}),Oc(wt=e.cell(ut))?wt:{default:()=>[wt]}):Q(Ug,Gt(ut,Ie,{style:de[ut.column.key]}),null)}}),header:et=>Q(fie,Gt(et,yt),{header:e.header,cell:ut=>{let wt;return e["header-cell"]?Q(Kw,Gt(ut,Bt,{style:de[ut.column.key]}),Oc(wt=e["header-cell"](ut))?wt:{default:()=>[wt]}):Q(Kw,Gt(ut,Bt,{style:de[ut.column.key]}),null)}})},ot=[t.class,i.b(),i.e("root"),{[i.is("dynamic")]:f(E)}],ve={class:i.e("footer"),style:f(R)};return Q("div",{class:ot,style:f(O)},[Q(rie,gt,Oc(Ce)?Ce:{default:()=>[Ce]}),Q(aie,Ye,Oc(Ce)?Ce:{default:()=>[Ce]}),Q(lie,ze,Oc(Ce)?Ce:{default:()=>[Ce]}),e.footer&&Q(zA,ve,{default:e.footer}),f(N)&&Q($A,{class:i.e("empty"),style:f(I)},{default:e.empty}),e.overlay&&Q(HA,{class:i.e("overlay")},{default:e.overlay})])}}}),mie=Ge({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:_e(Function)}}),vie=ie({name:"ElAutoResizer",props:mie,setup(t,{slots:e}){const n=Fe("auto-resizer"),{height:i,width:r,sizer:s}=$ne(t),a={width:"100%",height:"100%"};return()=>{var o;return Q("div",{ref:s,class:n.b(),style:a},[(o=e.default)==null?void 0:o.call(e,{height:i.value,width:r.value})])}}}),gie=Ft(pie),yie=Ft(vie),Np=Symbol("tabsRootContextKey"),_ie=Ge({tabs:{type:_e(Array),default:()=>Un([])}}),GA="ElTabBar",bie=ie({name:GA}),wie=ie({...bie,props:_ie,setup(t,{expose:e}){const n=t,i=Yt(),r=dt(Np);r||yi(GA,"<el-tabs><el-tab-bar /></el-tabs>");const s=Fe("tabs"),a=W(),o=W(),l=()=>{let g=0,y=0;const _=["top","bottom"].includes(r.props.tabPosition)?"width":"height",w=_==="width"?"x":"y",b=w==="x"?"left":"top";return n.tabs.every(M=>{var E,x;const T=(x=(E=i.parent)==null?void 0:E.refs)==null?void 0:x[`tab-${M.uid}`];if(!T)return!1;if(!M.active)return!0;g=T[`offset${Zs(b)}`],y=T[`client${Zs(_)}`];const k=window.getComputedStyle(T);return _==="width"&&(y-=Number.parseFloat(k.paddingLeft)+Number.parseFloat(k.paddingRight),g+=Number.parseFloat(k.paddingLeft)),!1}),{[_]:`${y}px`,transform:`translate${Zs(w)}(${g}px)`}},c=()=>o.value=l(),d=[],p=()=>{var g;d.forEach(_=>_.stop()),d.length=0;const y=(g=i.parent)==null?void 0:g.refs;if(y){for(const _ in y)if(_.startsWith("tab-")){const w=y[_];w&&d.push(Fn(w,c))}}};Le(()=>n.tabs,async()=>{await _t(),c(),p()},{immediate:!0});const v=Fn(a,()=>c());return Tn(()=>{d.forEach(g=>g.stop()),d.length=0,v.stop()}),e({ref:a,update:c}),(g,y)=>(P(),K("div",{ref_key:"barRef",ref:a,class:z([f(s).e("active-bar"),f(s).is(f(r).props.tabPosition)]),style:bt(o.value)},null,6))}});var Sie=We(wie,[["__file","tab-bar.vue"]]);const Eie=Ge({panes:{type:_e(Array),default:()=>Un([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),Cie={tabClick:(t,e,n)=>n instanceof Event,tabRemove:(t,e)=>e instanceof Event},qw="ElTabNav",xie=ie({name:qw,props:Eie,emits:Cie,setup(t,{expose:e,emit:n}){const i=dt(Np);i||yi(qw,"<el-tabs><tab-nav /></el-tabs>");const r=Fe("tabs"),s=cF(),a=SF(),o=W(),l=W(),c=W(),d=W(),p=W(!1),v=W(0),g=W(!1),y=W(!0),_=L(()=>["top","bottom"].includes(i.props.tabPosition)?"width":"height"),w=L(()=>({transform:`translate${_.value==="width"?"X":"Y"}(-${v.value}px)`})),b=()=>{if(!o.value)return;const O=o.value[`offset${Zs(_.value)}`],U=v.value;if(!U)return;const R=U>O?U-O:0;v.value=R},M=()=>{if(!o.value||!l.value)return;const O=l.value[`offset${Zs(_.value)}`],U=o.value[`offset${Zs(_.value)}`],R=v.value;if(O-R<=U)return;const N=O-R>U*2?R+U:O-U;v.value=N},E=async()=>{const O=l.value;if(!p.value||!c.value||!o.value||!O)return;await _t();const U=c.value.querySelector(".is-active");if(!U)return;const R=o.value,N=["top","bottom"].includes(i.props.tabPosition),$=U.getBoundingClientRect(),J=R.getBoundingClientRect(),Y=N?O.offsetWidth-J.width:O.offsetHeight-J.height,H=v.value;let B=H;N?($.left<J.left&&(B=H-(J.left-$.left)),$.right>J.right&&(B=H+$.right-J.right)):($.top<J.top&&(B=H-(J.top-$.top)),$.bottom>J.bottom&&(B=H+($.bottom-J.bottom))),B=Math.max(B,0),v.value=Math.min(B,Y)},x=()=>{var O;if(!l.value||!o.value)return;t.stretch&&((O=d.value)==null||O.update());const U=l.value[`offset${Zs(_.value)}`],R=o.value[`offset${Zs(_.value)}`],N=v.value;R<U?(p.value=p.value||{},p.value.prev=N,p.value.next=N+R<U,U-N<R&&(v.value=U-R)):(p.value=!1,N>0&&(v.value=0))},T=O=>{const U=O.code,{up:R,down:N,left:$,right:J}=Et;if(![R,N,$,J].includes(U))return;const Y=Array.from(O.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),H=Y.indexOf(O.target);let B;U===$||U===R?H===0?B=Y.length-1:B=H-1:H<Y.length-1?B=H+1:B=0,Y[B].focus({preventScroll:!0}),Y[B].click(),k()},k=()=>{y.value&&(g.value=!0)},I=()=>g.value=!1;return Le(s,O=>{O==="hidden"?y.value=!1:O==="visible"&&setTimeout(()=>y.value=!0,50)}),Le(a,O=>{O?setTimeout(()=>y.value=!0,50):y.value=!1}),Fn(c,x),St(()=>setTimeout(()=>E(),0)),Mo(()=>x()),e({scrollToActiveTab:E,removeFocus:I}),()=>{const O=p.value?[Q("span",{class:[r.e("nav-prev"),r.is("disabled",!p.value.prev)],onClick:b},[Q(ft,null,{default:()=>[Q(po,null,null)]})]),Q("span",{class:[r.e("nav-next"),r.is("disabled",!p.value.next)],onClick:M},[Q(ft,null,{default:()=>[Q(vr,null,null)]})])]:null,U=t.panes.map((R,N)=>{var $,J,Y,H;const B=R.uid,X=R.props.disabled,q=(J=($=R.props.name)!=null?$:R.index)!=null?J:`${N}`,D=!X&&(R.isClosable||t.editable);R.index=`${N}`;const V=D?Q(ft,{class:"is-icon-close",onClick:ae=>n("tabRemove",R,ae)},{default:()=>[Q(Bs,null,null)]}):null,ee=((H=(Y=R.slots).label)==null?void 0:H.call(Y))||R.props.label,ce=!X&&R.active?0:-1;return Q("div",{ref:`tab-${B}`,class:[r.e("item"),r.is(i.props.tabPosition),r.is("active",R.active),r.is("disabled",X),r.is("closable",D),r.is("focus",g.value)],id:`tab-${q}`,key:`tab-${B}`,"aria-controls":`pane-${q}`,role:"tab","aria-selected":R.active,tabindex:ce,onFocus:()=>k(),onBlur:()=>I(),onClick:ae=>{I(),n("tabClick",R,q,ae)},onKeydown:ae=>{D&&(ae.code===Et.delete||ae.code===Et.backspace)&&n("tabRemove",R,ae)}},[ee,V])});return Q("div",{ref:c,class:[r.e("nav-wrap"),r.is("scrollable",!!p.value),r.is(i.props.tabPosition)]},[O,Q("div",{class:r.e("nav-scroll"),ref:o},[Q("div",{class:[r.e("nav"),r.is(i.props.tabPosition),r.is("stretch",t.stretch&&["top","bottom"].includes(i.props.tabPosition))],ref:l,style:w.value,role:"tablist",onKeydown:T},[t.type?null:Q(Sie,{ref:d,tabs:[...t.panes]},null),U])])])}}}),Mie=Ge({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:_e(Function),default:()=>!0},stretch:Boolean}),Dm=t=>Wt(t)||Pt(t),Tie={[Kt]:t=>Dm(t),tabClick:(t,e)=>e instanceof Event,tabChange:t=>Dm(t),edit:(t,e)=>["remove","add"].includes(e),tabRemove:t=>Dm(t),tabAdd:()=>!0},Aie=ie({name:"ElTabs",props:Mie,emits:Tie,setup(t,{emit:e,slots:n,expose:i}){var r;const s=Fe("tabs"),a=L(()=>["left","right"].includes(t.tabPosition)),{children:o,addChild:l,removeChild:c}=Ry(Yt(),"ElTabPane"),d=W(),p=W((r=t.modelValue)!=null?r:"0"),v=async(b,M=!1)=>{var E,x,T;if(!(p.value===b||Hn(b)))try{await((E=t.beforeLeave)==null?void 0:E.call(t,b,p.value))!==!1&&(p.value=b,M&&(e(Kt,b),e("tabChange",b)),(T=(x=d.value)==null?void 0:x.removeFocus)==null||T.call(x))}catch{}},g=(b,M,E)=>{b.props.disabled||(v(M,!0),e("tabClick",b,E))},y=(b,M)=>{b.props.disabled||Hn(b.props.name)||(M.stopPropagation(),e("edit",b.props.name,"remove"),e("tabRemove",b.props.name))},_=()=>{e("edit",void 0,"add"),e("tabAdd")};Le(()=>t.modelValue,b=>v(b)),Le(p,async()=>{var b;await _t(),(b=d.value)==null||b.scrollToActiveTab()}),Jt(Np,{props:t,currentName:p,registerPane:b=>{o.value.push(b)},sortPane:l,unregisterPane:c}),i({currentName:p});const w=({render:b})=>b();return()=>{const b=n["add-icon"],M=t.editable||t.addable?Q("div",{class:[s.e("new-tab"),a.value&&s.e("new-tab-vertical")],tabindex:"0",onClick:_,onKeydown:T=>{T.code===Et.enter&&_()}},[b?oe(n,"add-icon"):Q(ft,{class:s.is("icon-plus")},{default:()=>[Q(l2,null,null)]})]):null,E=Q("div",{class:[s.e("header"),a.value&&s.e("header-vertical"),s.is(t.tabPosition)]},[Q(w,{render:()=>{const T=o.value.some(k=>k.slots.label);return Q(xie,{ref:d,currentName:p.value,editable:t.editable,type:t.type,panes:o.value,stretch:t.stretch,onTabClick:g,onTabRemove:y},{$stable:!T})}},null),M]),x=Q("div",{class:s.e("content")},[oe(n,"default")]);return Q("div",{class:[s.b(),s.m(t.tabPosition),{[s.m("card")]:t.type==="card",[s.m("border-card")]:t.type==="border-card"}]},[x,E])}}}),kie=Ge({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),WA="ElTabPane",Pie=ie({name:WA}),Rie=ie({...Pie,props:kie,setup(t){const e=t,n=Yt(),i=Si(),r=dt(Np);r||yi(WA,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const s=Fe("tab-pane"),a=W(),o=L(()=>e.closable||r.props.closable),l=bb(()=>{var g;return r.currentName.value===((g=e.name)!=null?g:a.value)}),c=W(l.value),d=L(()=>{var g;return(g=e.name)!=null?g:a.value}),p=bb(()=>!e.lazy||c.value||l.value);Le(l,g=>{g&&(c.value=!0)});const v=Xt({uid:n.uid,slots:i,props:e,paneName:d,active:l,index:a,isClosable:o});return r.registerPane(v),St(()=>{r.sortPane(v)}),Oa(()=>{r.unregisterPane(v.uid)}),(g,y)=>f(p)?Ut((P(),K("div",{key:0,id:`pane-${f(d)}`,class:z(f(s).b()),role:"tabpanel","aria-hidden":!f(l),"aria-labelledby":`tab-${f(d)}`},[oe(g.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[on,f(l)]]):he("v-if",!0)}});var KA=We(Rie,[["__file","tab-pane.vue"]]);const Iie=Ft(Aie,{TabPane:KA}),Lie=Vn(KA),Nie=Ge({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:ca,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),Oie=ie({name:"ElText"}),Die=ie({...Oie,props:Nie,setup(t){const e=t,n=pi(),i=Fe("text"),r=L(()=>[i.b(),i.m(e.type),i.m(n.value),i.is("truncated",e.truncated),i.is("line-clamp",!Hn(e.lineClamp))]);return(s,a)=>(P(),we(zt(s.tag),{class:z(f(r)),style:bt({"-webkit-line-clamp":s.lineClamp})},{default:te(()=>[oe(s.$slots,"default")]),_:3},8,["class","style"]))}});var Fie=We(Die,[["__file","text.vue"]]);const Bie=Ft(Fie),Uie=Ge({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:_e(String),default:"light"},clearable:{type:Boolean,default:!0},size:_i,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:_e([String,Object]),default:()=>o2},clearIcon:{type:_e([String,Object]),default:()=>To},...uc}),Ta=t=>{const e=(t||"").split(":");if(e.length>=2){let n=Number.parseInt(e[0],10);const i=Number.parseInt(e[1],10),r=t.toUpperCase();return r.includes("AM")&&n===12?n=0:r.includes("PM")&&n!==12&&(n+=12),{hours:n,minutes:i}}return null},Fm=(t,e)=>{const n=Ta(t);if(!n)return-1;const i=Ta(e);if(!i)return-1;const r=n.minutes+n.hours*60,s=i.minutes+i.hours*60;return r===s?0:r>s?1:-1},Yw=t=>`${t}`.padStart(2,"0"),hu=t=>`${Yw(t.hours)}:${Yw(t.minutes)}`,Vie=(t,e)=>{const n=Ta(t);if(!n)return"";const i=Ta(e);if(!i)return"";const r={hours:n.hours,minutes:n.minutes};return r.minutes+=i.minutes,r.hours+=i.hours,r.hours+=Math.floor(r.minutes/60),r.minutes=r.minutes%60,hu(r)},zie=ie({name:"ElTimeSelect"}),$ie=ie({...zie,props:Uie,emits:["change","blur","focus","clear","update:modelValue"],setup(t,{expose:e}){const n=t;Nt.extend(Uy);const{Option:i}=xl,r=Fe("input"),s=W(),a=ar(),{lang:o}=rn(),l=L(()=>n.modelValue),c=L(()=>{const b=Ta(n.start);return b?hu(b):null}),d=L(()=>{const b=Ta(n.end);return b?hu(b):null}),p=L(()=>{const b=Ta(n.step);return b?hu(b):null}),v=L(()=>{const b=Ta(n.minTime||"");return b?hu(b):null}),g=L(()=>{const b=Ta(n.maxTime||"");return b?hu(b):null}),y=L(()=>{const b=[];if(n.start&&n.end&&n.step){let M=c.value,E;for(;M&&d.value&&Fm(M,d.value)<=0;)E=Nt(M,"HH:mm").locale(o.value).format(n.format),b.push({value:E,disabled:Fm(M,v.value||"-1:-1")<=0||Fm(M,g.value||"100:100")>=0}),M=Vie(M,p.value)}return b});return e({blur:()=>{var b,M;(M=(b=s.value)==null?void 0:b.blur)==null||M.call(b)},focus:()=>{var b,M;(M=(b=s.value)==null?void 0:b.focus)==null||M.call(b)}}),(b,M)=>(P(),we(f(xl),{ref_key:"select",ref:s,"model-value":f(l),disabled:f(a),clearable:b.clearable,"clear-icon":b.clearIcon,size:b.size,effect:b.effect,placeholder:b.placeholder,"default-first-option":"",filterable:b.editable,"empty-values":b.emptyValues,"value-on-clear":b.valueOnClear,"onUpdate:modelValue":E=>b.$emit("update:modelValue",E),onChange:E=>b.$emit("change",E),onBlur:E=>b.$emit("blur",E),onFocus:E=>b.$emit("focus",E),onClear:()=>b.$emit("clear")},{prefix:te(()=>[b.prefixIcon?(P(),we(f(ft),{key:0,class:z(f(r).e("prefix-icon"))},{default:te(()=>[(P(),we(zt(b.prefixIcon)))]),_:1},8,["class"])):he("v-if",!0)]),default:te(()=>[(P(!0),K(ct,null,Vt(f(y),E=>(P(),we(f(i),{key:E.value,label:E.value,value:E.value,disabled:E.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","onUpdate:modelValue","onChange","onBlur","onFocus","onClear"]))}});var Hie=We($ie,[["__file","time-select.vue"]]);const Gie=Ft(Hie),Wie=ie({name:"ElTimeline",setup(t,{slots:e}){const n=Fe("timeline");return Jt("timeline",e),()=>Ct("ul",{class:[n.b()]},[oe(e,"default")])}}),Kie=Ge({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:En},hollow:Boolean}),qie=ie({name:"ElTimelineItem"}),Yie=ie({...qie,props:Kie,setup(t){const e=t,n=Fe("timeline-item"),i=L(()=>[n.e("node"),n.em("node",e.size||""),n.em("node",e.type||""),n.is("hollow",e.hollow)]);return(r,s)=>(P(),K("li",{class:z([f(n).b(),{[f(n).e("center")]:r.center}])},[Z("div",{class:z(f(n).e("tail"))},null,2),r.$slots.dot?he("v-if",!0):(P(),K("div",{key:0,class:z(f(i)),style:bt({backgroundColor:r.color})},[r.icon?(P(),we(f(ft),{key:0,class:z(f(n).e("icon"))},{default:te(()=>[(P(),we(zt(r.icon)))]),_:1},8,["class"])):he("v-if",!0)],6)),r.$slots.dot?(P(),K("div",{key:1,class:z(f(n).e("dot"))},[oe(r.$slots,"dot")],2)):he("v-if",!0),Z("div",{class:z(f(n).e("wrapper"))},[!r.hideTimestamp&&r.placement==="top"?(P(),K("div",{key:0,class:z([f(n).e("timestamp"),f(n).is("top")])},Ne(r.timestamp),3)):he("v-if",!0),Z("div",{class:z(f(n).e("content"))},[oe(r.$slots,"default")],2),!r.hideTimestamp&&r.placement==="bottom"?(P(),K("div",{key:1,class:z([f(n).e("timestamp"),f(n).is("bottom")])},Ne(r.timestamp),3)):he("v-if",!0)],2)],2))}});var qA=We(Yie,[["__file","timeline-item.vue"]]);const jie=Ft(Wie,{TimelineItem:qA}),Xie=Vn(qA),YA=Ge({nowrap:Boolean});var jA=(t=>(t.top="top",t.bottom="bottom",t.left="left",t.right="right",t))(jA||{});const Zie=Object.values(jA),m_=Ge({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:_e(Object),default:null}}),Jie=Ge({side:{type:_e(String),values:Zie,required:!0}}),Qie=["absolute","fixed"],ere=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],v_=Ge({arrowPadding:{type:_e(Number),default:5},effect:{type:_e(String),default:"light"},contentClass:String,placement:{type:_e(String),values:ere,default:"bottom"},reference:{type:_e(Object),default:null},offset:{type:Number,default:8},strategy:{type:_e(String),values:Qie,default:"absolute"},showArrow:Boolean,...$i(["ariaLabel"])}),g_=Ge({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:_e(Function)},"onUpdate:open":{type:_e(Function)}}),Kl={type:_e(Function)},y_=Ge({onBlur:Kl,onClick:Kl,onFocus:Kl,onMouseDown:Kl,onMouseEnter:Kl,onMouseLeave:Kl}),tre=Ge({...g_,...m_,...y_,...v_,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:_e(Object),default:null},teleported:Boolean,to:{type:_e(String),default:"body"}}),Op=Symbol("tooltipV2"),XA=Symbol("tooltipV2Content"),Bm="tooltip_v2.open",nre=ie({name:"ElTooltipV2Root"}),ire=ie({...nre,props:g_,setup(t,{expose:e}){const n=t,i=W(n.defaultOpen),r=W(null),s=L({get:()=>bl(n.open)?i.value:n.open,set:w=>{var b;i.value=w,(b=n["onUpdate:open"])==null||b.call(n,w)}}),a=L(()=>Pt(n.delayDuration)&&n.delayDuration>0),{start:o,stop:l}=yl(()=>{s.value=!0},L(()=>n.delayDuration),{immediate:!1}),c=Fe("tooltip-v2"),d=zi(),p=()=>{l(),s.value=!0},v=()=>{f(a)?o():p()},g=p,y=()=>{l(),s.value=!1};return Le(s,w=>{var b;w&&(document.dispatchEvent(new CustomEvent(Bm)),g()),(b=n.onOpenChange)==null||b.call(n,w)}),St(()=>{document.addEventListener(Bm,y)}),Tn(()=>{l(),document.removeEventListener(Bm,y)}),Jt(Op,{contentId:d,triggerRef:r,ns:c,onClose:y,onDelayOpen:v,onOpen:g}),e({onOpen:g,onClose:y}),(w,b)=>oe(w.$slots,"default",{open:f(s)})}});var rre=We(ire,[["__file","root.vue"]]);const sre=ie({name:"ElTooltipV2Arrow"}),are=ie({...sre,props:{...m_,...Jie},setup(t){const e=t,{ns:n}=dt(Op),{arrowRef:i}=dt(XA),r=L(()=>{const{style:s,width:a,height:o}=e,l=n.namespace.value;return{[`--${l}-tooltip-v2-arrow-width`]:`${a}px`,[`--${l}-tooltip-v2-arrow-height`]:`${o}px`,[`--${l}-tooltip-v2-arrow-border-width`]:`${a/2}px`,[`--${l}-tooltip-v2-arrow-cover-width`]:a/2-1,...s||{}}});return(s,a)=>(P(),K("span",{ref_key:"arrowRef",ref:i,style:bt(f(r)),class:z(f(n).e("arrow"))},null,6))}});var jw=We(are,[["__file","arrow.vue"]]);const ore=Ge({style:{type:_e([String,Object,Array]),default:()=>({})}}),lre=ie({name:"ElVisuallyHidden"}),ure=ie({...lre,props:ore,setup(t){const e=t,n=L(()=>[e.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(i,r)=>(P(),K("span",Gt(i.$attrs,{style:f(n)}),[oe(i.$slots,"default")],16))}});var cre=We(ure,[["__file","visual-hidden.vue"]]);const dre=ie({name:"ElTooltipV2Content"}),fre=ie({...dre,props:{...v_,...YA},setup(t){const e=t,{triggerRef:n,contentId:i}=dt(Op),r=W(e.placement),s=W(e.strategy),a=W(null),{referenceRef:o,contentRef:l,middlewareData:c,x:d,y:p,update:v}=RH({placement:r,strategy:s,middleware:L(()=>{const E=[nM(e.offset)];return e.showArrow&&E.push(IH({arrowRef:a})),E})}),g=oc().nextZIndex(),y=Fe("tooltip-v2"),_=L(()=>r.value.split("-")[0]),w=L(()=>({position:f(s),top:`${f(p)||0}px`,left:`${f(d)||0}px`,zIndex:g})),b=L(()=>{if(!e.showArrow)return{};const{arrow:E}=f(c);return{[`--${y.namespace.value}-tooltip-v2-arrow-x`]:`${E==null?void 0:E.x}px`||"",[`--${y.namespace.value}-tooltip-v2-arrow-y`]:`${E==null?void 0:E.y}px`||""}}),M=L(()=>[y.e("content"),y.is("dark",e.effect==="dark"),y.is(f(s)),e.contentClass]);return Le(a,()=>v()),Le(()=>e.placement,E=>r.value=E),St(()=>{Le(()=>e.reference||n.value,E=>{o.value=E||void 0},{immediate:!0})}),Jt(XA,{arrowRef:a}),(E,x)=>(P(),K("div",{ref_key:"contentRef",ref:l,style:bt(f(w)),"data-tooltip-v2-root":""},[E.nowrap?he("v-if",!0):(P(),K("div",{key:0,"data-side":f(_),class:z(f(M))},[oe(E.$slots,"default",{contentStyle:f(w),contentClass:f(M)}),Q(f(cre),{id:f(i),role:"tooltip"},{default:te(()=>[E.ariaLabel?(P(),K(ct,{key:0},[pt(Ne(E.ariaLabel),1)],64)):oe(E.$slots,"default",{key:1})]),_:3},8,["id"]),oe(E.$slots,"arrow",{style:bt(f(b)),side:f(_)})],10,["data-side"]))],4))}});var Xw=We(fre,[["__file","content.vue"]]);const hre=Ge({setRef:{type:_e(Function),required:!0},onlyChild:Boolean});var pre=ie({props:hre,setup(t,{slots:e}){const n=W(),i=_p(n,r=>{r?t.setRef(r.nextElementSibling):t.setRef(null)});return()=>{var r;const[s]=((r=e.default)==null?void 0:r.call(e))||[],a=t.onlyChild?xz(s.children):s.children;return Q(ct,{ref:i},[a])}}});const mre=ie({name:"ElTooltipV2Trigger"}),vre=ie({...mre,props:{...YA,...y_},setup(t){const e=t,{onClose:n,onOpen:i,onDelayOpen:r,triggerRef:s,contentId:a}=dt(Op);let o=!1;const l=M=>{s.value=M},c=()=>{o=!1},d=jn(e.onMouseEnter,r),p=jn(e.onMouseLeave,n),v=jn(e.onMouseDown,()=>{n(),o=!0,document.addEventListener("mouseup",c,{once:!0})}),g=jn(e.onFocus,()=>{o||i()}),y=jn(e.onBlur,n),_=jn(e.onClick,M=>{M.detail===0&&n()}),w={blur:y,click:_,focus:g,mousedown:v,mouseenter:d,mouseleave:p},b=(M,E,x)=>{M&&Object.entries(E).forEach(([T,k])=>{M[x](T,k)})};return Le(s,(M,E)=>{b(M,w,"addEventListener"),b(E,w,"removeEventListener"),M&&M.setAttribute("aria-describedby",a.value)}),Tn(()=>{b(s.value,w,"removeEventListener"),document.removeEventListener("mouseup",c)}),(M,E)=>M.nowrap?(P(),we(f(pre),{key:0,"set-ref":l,"only-child":""},{default:te(()=>[oe(M.$slots,"default")]),_:3})):(P(),K("button",Gt({key:1,ref_key:"triggerRef",ref:s},M.$attrs),[oe(M.$slots,"default")],16))}});var gre=We(vre,[["__file","trigger.vue"]]);const yre=ie({name:"ElTooltipV2"}),_re=ie({...yre,props:tre,setup(t){const n=Oi(t),i=Xt(Ls(n,Object.keys(m_))),r=Xt(Ls(n,Object.keys(v_))),s=Xt(Ls(n,Object.keys(g_))),a=Xt(Ls(n,Object.keys(y_)));return(o,l)=>(P(),we(rre,Is(gl(s)),{default:te(({open:c})=>[Q(gre,Gt(a,{nowrap:""}),{default:te(()=>[oe(o.$slots,"trigger")]),_:3},16),Q(f(cc),{to:o.to,disabled:!o.teleported},{default:te(()=>[o.fullTransition?(P(),we(di,Is(Gt({key:0},o.transitionProps)),{default:te(()=>[o.alwaysOn||c?(P(),we(Xw,Is(Gt({key:0},r)),{arrow:te(({style:d,side:p})=>[o.showArrow?(P(),we(jw,Gt({key:0},i,{style:d,side:p}),null,16,["style","side"])):he("v-if",!0)]),default:te(()=>[oe(o.$slots,"default")]),_:3},16)):he("v-if",!0)]),_:2},1040)):(P(),K(ct,{key:1},[o.alwaysOn||c?(P(),we(Xw,Is(Gt({key:0},r)),{arrow:te(({style:d,side:p})=>[o.showArrow?(P(),we(jw,Gt({key:0},i,{style:d,side:p}),null,16,["style","side"])):he("v-if",!0)]),default:te(()=>[oe(o.$slots,"default")]),_:3},16)):he("v-if",!0)],64))]),_:2},1032,["to","disabled"])]),_:3},16))}});var bre=We(_re,[["__file","tooltip.vue"]]);const wre=Ft(bre),ZA="left-check-change",JA="right-check-change",pu=Ge({data:{type:_e(Array),default:()=>[]},titles:{type:_e(Array),default:()=>[]},buttonTexts:{type:_e(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:_e(Function)},leftDefaultChecked:{type:_e(Array),default:()=>[]},rightDefaultChecked:{type:_e(Array),default:()=>[]},renderContent:{type:_e(Function)},modelValue:{type:_e(Array),default:()=>[]},format:{type:_e(Object),default:()=>({})},filterable:Boolean,props:{type:_e(Object),default:()=>Un({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),Vg=(t,e)=>[t,e].every(Ot)||Ot(t)&&Ai(e),Sre={[Nn]:(t,e,n)=>[t,n].every(Ot)&&["left","right"].includes(e),[Kt]:t=>Ot(t),[ZA]:Vg,[JA]:Vg},zg="checked-change",Ere=Ge({data:pu.data,optionRender:{type:_e(Function)},placeholder:String,title:String,filterable:Boolean,format:pu.format,filterMethod:pu.filterMethod,defaultChecked:pu.leftDefaultChecked,props:pu.props}),Cre={[zg]:Vg},Wd=t=>{const e={label:"label",key:"key",disabled:"disabled"};return L(()=>({...e,...t.props}))},xre=(t,e,n)=>{const i=Wd(t),r=L(()=>t.data.filter(d=>cn(t.filterMethod)?t.filterMethod(e.query,d):String(d[i.value.label]||d[i.value.key]).toLowerCase().includes(e.query.toLowerCase()))),s=L(()=>r.value.filter(d=>!d[i.value.disabled])),a=L(()=>{const d=e.checked.length,p=t.data.length,{noChecked:v,hasChecked:g}=t.format;return v&&g?d>0?g.replace(/\${checked}/g,d.toString()).replace(/\${total}/g,p.toString()):v.replace(/\${total}/g,p.toString()):`${d}/${p}`}),o=L(()=>{const d=e.checked.length;return d>0&&d<s.value.length}),l=()=>{const d=s.value.map(p=>p[i.value.key]);e.allChecked=d.length>0&&d.every(p=>e.checked.includes(p))},c=d=>{e.checked=d?s.value.map(p=>p[i.value.key]):[]};return Le(()=>e.checked,(d,p)=>{if(l(),e.checkChangeByUser){const v=d.concat(p).filter(g=>!d.includes(g)||!p.includes(g));n(zg,d,v)}else n(zg,d),e.checkChangeByUser=!0}),Le(s,()=>{l()}),Le(()=>t.data,()=>{const d=[],p=r.value.map(v=>v[i.value.key]);e.checked.forEach(v=>{p.includes(v)&&d.push(v)}),e.checkChangeByUser=!1,e.checked=d}),Le(()=>t.defaultChecked,(d,p)=>{if(p&&d.length===p.length&&d.every(y=>p.includes(y)))return;const v=[],g=s.value.map(y=>y[i.value.key]);d.forEach(y=>{g.includes(y)&&v.push(y)}),e.checkChangeByUser=!1,e.checked=v},{immediate:!0}),{filteredData:r,checkableData:s,checkedSummary:a,isIndeterminate:o,updateAllChecked:l,handleAllCheckedChange:c}},Mre=(t,e)=>({onSourceCheckedChange:(r,s)=>{t.leftChecked=r,s&&e(ZA,r,s)},onTargetCheckedChange:(r,s)=>{t.rightChecked=r,s&&e(JA,r,s)}}),Tre=t=>{const e=Wd(t),n=L(()=>t.data.reduce((s,a)=>(s[a[e.value.key]]=a)&&s,{})),i=L(()=>t.data.filter(s=>!t.modelValue.includes(s[e.value.key]))),r=L(()=>t.targetOrder==="original"?t.data.filter(s=>t.modelValue.includes(s[e.value.key])):t.modelValue.reduce((s,a)=>{const o=n.value[a];return o&&s.push(o),s},[]));return{sourceData:i,targetData:r}},Are=(t,e,n)=>{const i=Wd(t),r=(o,l,c)=>{n(Kt,o),n(Nn,o,l,c)};return{addToLeft:()=>{const o=t.modelValue.slice();e.rightChecked.forEach(l=>{const c=o.indexOf(l);c>-1&&o.splice(c,1)}),r(o,"left",e.rightChecked)},addToRight:()=>{let o=t.modelValue.slice();const l=t.data.filter(c=>{const d=c[i.value.key];return e.leftChecked.includes(d)&&!t.modelValue.includes(d)}).map(c=>c[i.value.key]);o=t.targetOrder==="unshift"?l.concat(o):o.concat(l),t.targetOrder==="original"&&(o=t.data.filter(c=>o.includes(c[i.value.key])).map(c=>c[i.value.key])),r(o,"right",e.leftChecked)}}},kre=ie({name:"ElTransferPanel"}),Pre=ie({...kre,props:Ere,emits:Cre,setup(t,{expose:e,emit:n}){const i=t,r=Si(),s=({option:E})=>E,{t:a}=rn(),o=Fe("transfer"),l=Xt({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),c=Wd(i),{filteredData:d,checkedSummary:p,isIndeterminate:v,handleAllCheckedChange:g}=xre(i,l,n),y=L(()=>!Kr(l.query)&&Kr(d.value)),_=L(()=>!Kr(r.default()[0].children)),{checked:w,allChecked:b,query:M}=Oi(l);return e({query:M}),(E,x)=>(P(),K("div",{class:z(f(o).b("panel"))},[Z("p",{class:z(f(o).be("panel","header"))},[Q(f(gs),{modelValue:f(b),"onUpdate:modelValue":T=>nr(b)?b.value=T:null,indeterminate:f(v),"validate-event":!1,onChange:f(g)},{default:te(()=>[pt(Ne(E.title)+" ",1),Z("span",null,Ne(f(p)),1)]),_:1},8,["modelValue","onUpdate:modelValue","indeterminate","onChange"])],2),Z("div",{class:z([f(o).be("panel","body"),f(o).is("with-footer",f(_))])},[E.filterable?(P(),we(f(tr),{key:0,modelValue:f(M),"onUpdate:modelValue":T=>nr(M)?M.value=T:null,class:z(f(o).be("panel","filter")),size:"default",placeholder:E.placeholder,"prefix-icon":f(w4),clearable:"","validate-event":!1},null,8,["modelValue","onUpdate:modelValue","class","placeholder","prefix-icon"])):he("v-if",!0),Ut(Q(f(sT),{modelValue:f(w),"onUpdate:modelValue":T=>nr(w)?w.value=T:null,"validate-event":!1,class:z([f(o).is("filterable",E.filterable),f(o).be("panel","list")])},{default:te(()=>[(P(!0),K(ct,null,Vt(f(d),T=>(P(),we(f(gs),{key:T[f(c).key],class:z(f(o).be("panel","item")),value:T[f(c).key],disabled:T[f(c).disabled],"validate-event":!1},{default:te(()=>{var k;return[Q(s,{option:(k=E.optionRender)==null?void 0:k.call(E,T)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"]),[[on,!f(y)&&!f(Kr)(E.data)]]),Ut(Z("p",{class:z(f(o).be("panel","empty"))},Ne(f(y)?f(a)("el.transfer.noMatch"):f(a)("el.transfer.noData")),3),[[on,f(y)||f(Kr)(E.data)]])],2),f(_)?(P(),K("p",{key:0,class:z(f(o).be("panel","footer"))},[oe(E.$slots,"default")],2)):he("v-if",!0)],2))}});var Zw=We(Pre,[["__file","transfer-panel.vue"]]);const Rre=ie({name:"ElTransfer"}),Ire=ie({...Rre,props:pu,emits:Sre,setup(t,{expose:e,emit:n}){const i=t,r=Si(),{t:s}=rn(),a=Fe("transfer"),{formItem:o}=or(),l=Xt({leftChecked:[],rightChecked:[]}),c=Wd(i),{sourceData:d,targetData:p}=Tre(i),{onSourceCheckedChange:v,onTargetCheckedChange:g}=Mre(l,n),{addToLeft:y,addToRight:_}=Are(i,l,n),w=W(),b=W(),M=O=>{switch(O){case"left":w.value.query="";break;case"right":b.value.query="";break}},E=L(()=>i.buttonTexts.length===2),x=L(()=>i.titles[0]||s("el.transfer.titles.0")),T=L(()=>i.titles[1]||s("el.transfer.titles.1")),k=L(()=>i.filterPlaceholder||s("el.transfer.filterPlaceholder"));Le(()=>i.modelValue,()=>{var O;i.validateEvent&&((O=o==null?void 0:o.validate)==null||O.call(o,"change").catch(U=>void 0))});const I=L(()=>O=>i.renderContent?i.renderContent(Ct,O):r.default?r.default({option:O}):Ct("span",O[c.value.label]||O[c.value.key]));return e({clearQuery:M,leftPanel:w,rightPanel:b}),(O,U)=>(P(),K("div",{class:z(f(a).b())},[Q(Zw,{ref_key:"leftPanel",ref:w,data:f(d),"option-render":f(I),placeholder:f(k),title:f(x),filterable:O.filterable,format:O.format,"filter-method":O.filterMethod,"default-checked":O.leftDefaultChecked,props:i.props,onCheckedChange:f(v)},{default:te(()=>[oe(O.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),Z("div",{class:z(f(a).e("buttons"))},[Q(f(Ni),{type:"primary",class:z([f(a).e("button"),f(a).is("with-texts",f(E))]),disabled:f(Kr)(l.rightChecked),onClick:f(y)},{default:te(()=>[Q(f(ft),null,{default:te(()=>[Q(f(po))]),_:1}),f(Hn)(O.buttonTexts[0])?he("v-if",!0):(P(),K("span",{key:0},Ne(O.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),Q(f(Ni),{type:"primary",class:z([f(a).e("button"),f(a).is("with-texts",f(E))]),disabled:f(Kr)(l.leftChecked),onClick:f(_)},{default:te(()=>[f(Hn)(O.buttonTexts[1])?he("v-if",!0):(P(),K("span",{key:0},Ne(O.buttonTexts[1]),1)),Q(f(ft),null,{default:te(()=>[Q(f(vr))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),Q(Zw,{ref_key:"rightPanel",ref:b,data:f(p),"option-render":f(I),placeholder:f(k),filterable:O.filterable,format:O.format,"filter-method":O.filterMethod,title:f(T),"default-checked":O.rightDefaultChecked,props:i.props,onCheckedChange:f(g)},{default:te(()=>[oe(O.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var Lre=We(Ire,[["__file","transfer.vue"]]);const Nre=Ft(Lre),Mu="$treeNodeId",Jw=function(t,e){!e||e[Mu]||Object.defineProperty(e,Mu,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},__=function(t,e){return t?e[t]:e[Mu]},$g=(t,e,n)=>{const i=t.value.currentNode;n();const r=t.value.currentNode;i!==r&&e("current-change",r?r.data:null,r)},Hg=t=>{let e=!0,n=!0,i=!0;for(let r=0,s=t.length;r<s;r++){const a=t[r];(a.checked!==!0||a.indeterminate)&&(e=!1,a.disabled||(i=!1)),(a.checked!==!1||a.indeterminate)&&(n=!1)}return{all:e,none:n,allWithoutDisable:i,half:!e&&!n}},Gc=function(t){if(t.childNodes.length===0||t.loading)return;const{all:e,none:n,half:i}=Hg(t.childNodes);e?(t.checked=!0,t.indeterminate=!1):i?(t.checked=!1,t.indeterminate=!0):n&&(t.checked=!1,t.indeterminate=!1);const r=t.parent;!r||r.level===0||t.store.checkStrictly||Gc(r)},bf=function(t,e){const n=t.store.props,i=t.data||{},r=n[e];if(typeof r=="function")return r(i,t);if(typeof r=="string")return i[r];if(typeof r>"u"){const s=i[e];return s===void 0?"":s}};let Ore=0,Gg=class fh{constructor(e){this.id=Ore++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in e)qi(e,n)&&(this[n]=e[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const n=e.props;if(n&&typeof n.isLeaf<"u"){const s=bf(this,"isLeaf");typeof s=="boolean"&&(this.isLeafByUser=s)}if(e.lazy!==!0&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&!this.isLeafByUser&&this.expand(),Array.isArray(this.data)||Jw(this,this.data),!this.data)return;const i=e.defaultExpandedKeys,r=e.key;r&&i&&i.includes(this.key)&&this.expand(null,e.autoExpandParent),r&&e.currentNodeKey!==void 0&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(e){Array.isArray(e)||Jw(this,e),this.data=e,this.childNodes=[];let n;this.level===0&&Array.isArray(this.data)?n=this.data:n=bf(this,"children")||[];for(let i=0,r=n.length;i<r;i++)this.insertChild({data:n[i]})}get label(){return bf(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return bf(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return e.childNodes[n+1]}return null}get previousSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return n>0?e.childNodes[n-1]:null}return null}contains(e,n=!0){return(this.childNodes||[]).some(i=>i===e||n&&i.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,n,i){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof fh)){if(!i){const r=this.getChildren(!0);r.includes(e.data)||(typeof n>"u"||n<0?r.push(e.data):r.splice(n,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=Xt(new fh(e)),e instanceof fh&&e.initialize()}e.level=this.level+1,typeof n>"u"||n<0?this.childNodes.push(e):this.childNodes.splice(n,0,e),this.updateLeafState()}insertBefore(e,n){let i;n&&(i=this.childNodes.indexOf(n)),this.insertChild(e,i)}insertAfter(e,n){let i;n&&(i=this.childNodes.indexOf(n),i!==-1&&(i+=1)),this.insertChild(e,i)}removeChild(e){const n=this.getChildren()||[],i=n.indexOf(e.data);i>-1&&n.splice(i,1);const r=this.childNodes.indexOf(e);r>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(r,1)),this.updateLeafState()}removeChildByData(e){let n=null;for(let i=0;i<this.childNodes.length;i++)if(this.childNodes[i].data===e){n=this.childNodes[i];break}n&&this.removeChild(n)}expand(e,n){const i=()=>{if(n){let r=this.parent;for(;r.level>0;)r.expanded=!0,r=r.parent}this.expanded=!0,e&&e(),this.childNodes.forEach(r=>{r.canFocus=!0})};this.shouldLoadData()?this.loadData(r=>{Array.isArray(r)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Gc(this),i())}):i()}doCreateChildren(e,n={}){e.forEach(i=>{this.insertChild(Object.assign({data:i},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(e=>{e.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0;return}this.isLeaf=!1}setChecked(e,n,i,r){if(this.indeterminate=e==="half",this.checked=e===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:a,allWithoutDisable:o}=Hg(this.childNodes);!this.isLeaf&&!a&&o&&(this.checked=!1,e=!1);const l=()=>{if(n){const c=this.childNodes;for(let v=0,g=c.length;v<g;v++){const y=c[v];r=r||e!==!1;const _=y.disabled?y.checked:r;y.setChecked(_,n,!0,r)}const{half:d,all:p}=Hg(c);p||(this.checked=p,this.indeterminate=d)}};if(this.shouldLoadData()){this.loadData(()=>{l(),Gc(this)},{checked:e!==!1});return}else l()}const s=this.parent;!s||s.level===0||i||Gc(s)}getChildren(e=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const i=this.store.props;let r="children";return i&&(r=i.children||"children"),n[r]===void 0&&(n[r]=null),e&&!n[r]&&(n[r]=[]),n[r]}updateChildren(){const e=this.getChildren()||[],n=this.childNodes.map(s=>s.data),i={},r=[];e.forEach((s,a)=>{const o=s[Mu];!!o&&n.findIndex(c=>c[Mu]===o)>=0?i[o]={index:a,data:s}:r.push({index:a,data:s})}),this.store.lazy||n.forEach(s=>{i[s[Mu]]||this.removeChildByData(s)}),r.forEach(({index:s,data:a})=>{this.insertChild({data:a},s)}),this.updateLeafState()}loadData(e,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const i=s=>{this.childNodes=[],this.doCreateChildren(s,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,s)},r=()=>{this.loading=!1};this.store.load(this,i,r)}else e&&e.call(this)}eachNode(e){const n=[this];for(;n.length;){const i=n.shift();n.unshift(...i.childNodes),e(i)}}reInitChecked(){this.store.checkStrictly||Gc(this)}};class Dre{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const n in e)qi(e,n)&&(this[n]=e[n]);this.nodesMap={}}initialize(){if(this.root=new Gg({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const e=this.load;e(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(e){const n=this.filterNodeMethod,i=this.lazy,r=function(s){const a=s.root?s.root.childNodes:s.childNodes;if(a.forEach(o=>{o.visible=n.call(o,e,o.data,o),r(o)}),!s.visible&&a.length){let o=!0;o=!a.some(l=>l.visible),s.root?s.root.visible=o===!1:s.visible=o===!1}e&&s.visible&&!s.isLeaf&&(!i||s.loaded)&&s.expand()};r(this)}setData(e){e!==this.root.data?(this.nodesMap={},this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(e){if(e instanceof Gg)return e;const n=Sn(e)?__(this.key,e):e;return this.nodesMap[n]||null}insertBefore(e,n){const i=this.getNode(n);i.parent.insertBefore({data:e},i)}insertAfter(e,n){const i=this.getNode(n);i.parent.insertAfter({data:e},i)}remove(e){const n=this.getNode(e);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(e,n){const i=bl(n)?this.root:this.getNode(n);i&&i.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],n=this.nodesMap;e.forEach(i=>{const r=n[i];r&&r.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){(this.defaultCheckedKeys||[]).includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const n=this.key;!e||!e.data||(n?e.key!==void 0&&(this.nodesMap[e.key]=e):this.nodesMap[e.id]=e)}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(i=>{this.deregisterNode(i)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,n=!1){const i=[],r=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(o=>{(o.checked||n&&o.indeterminate)&&(!e||e&&o.isLeaf)&&i.push(o.data),r(o)})};return r(this),i}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const e=[],n=function(i){(i.root?i.root.childNodes:i.childNodes).forEach(s=>{s.indeterminate&&e.push(s.data),n(s)})};return n(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],n=this.nodesMap;for(const i in n)qi(n,i)&&e.push(n[i]);return e}updateChildren(e,n){const i=this.nodesMap[e];if(!i)return;const r=i.childNodes;for(let s=r.length-1;s>=0;s--){const a=r[s];this.remove(a.data)}for(let s=0,a=n.length;s<a;s++){const o=n[s];this.append(o,i.data)}}_setCheckedKeys(e,n=!1,i){const r=this._getAllNodes().sort((l,c)=>l.level-c.level),s=Object.create(null),a=Object.keys(i);r.forEach(l=>l.setChecked(!1,!1));const o=l=>{l.childNodes.forEach(c=>{var d;s[c.data[e]]=!0,(d=c.childNodes)!=null&&d.length&&o(c)})};for(let l=0,c=r.length;l<c;l++){const d=r[l],p=d.data[e].toString();if(!a.includes(p)){d.checked&&!s[p]&&d.setChecked(!1,!1);continue}if(d.childNodes.length&&o(d),d.isLeaf||this.checkStrictly){d.setChecked(!0,!1);continue}if(d.setChecked(!0,!0),n){d.setChecked(!1,!1);const g=function(y){y.childNodes.forEach(w=>{w.isLeaf||w.setChecked(!1,!1),g(w)})};g(d)}}}setCheckedNodes(e,n=!1){const i=this.key,r={};e.forEach(s=>{r[(s||{})[i]]=!0}),this._setCheckedKeys(i,n,r)}setCheckedKeys(e,n=!1){this.defaultCheckedKeys=e;const i=this.key,r={};e.forEach(s=>{r[s]=!0}),this._setCheckedKeys(i,n,r)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(n=>{const i=this.getNode(n);i&&i.expand(null,this.autoExpandParent)})}setChecked(e,n,i){const r=this.getNode(e);r&&r.setChecked(!!n,i)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,n=!0){const i=e[this.key],r=this.nodesMap[i];this.setCurrentNode(r),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,n=!0){if(e==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const i=this.getNode(e);i&&(this.setCurrentNode(i),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const Fre=ie({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(t){const e=Fe("tree"),n=dt("NodeInstance"),i=dt("RootTree");return()=>{const r=t.node,{data:s,store:a}=r;return t.renderContent?t.renderContent(Ct,{_self:n,node:r,data:s,store:a}):oe(i.ctx.slots,"default",{node:r,data:s},()=>[Ct("span",{class:e.be("node","label")},[r.label])])}}});var Bre=We(Fre,[["__file","tree-node-content.vue"]]);function QA(t){const e=dt("TreeNodeMap",null),n={treeNodeExpand:i=>{t.node!==i&&t.node.collapse()},children:[]};return e&&e.children.push(n),Jt("TreeNodeMap",n),{broadcastExpanded:i=>{if(t.accordion)for(const r of n.children)r.treeNodeExpand(i)}}}const ek=Symbol("dragEvents");function Ure({props:t,ctx:e,el$:n,dropIndicator$:i,store:r}){const s=Fe("tree"),a=W({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Jt(ek,{treeNodeDragStart:({event:d,treeNode:p})=>{if(typeof t.allowDrag=="function"&&!t.allowDrag(p.node))return d.preventDefault(),!1;d.dataTransfer.effectAllowed="move";try{d.dataTransfer.setData("text/plain","")}catch{}a.value.draggingNode=p,e.emit("node-drag-start",p.node,d)},treeNodeDragOver:({event:d,treeNode:p})=>{const v=p,g=a.value.dropNode;g&&g.node.id!==v.node.id&&rr(g.$el,s.is("drop-inner"));const y=a.value.draggingNode;if(!y||!v)return;let _=!0,w=!0,b=!0,M=!0;typeof t.allowDrop=="function"&&(_=t.allowDrop(y.node,v.node,"prev"),M=w=t.allowDrop(y.node,v.node,"inner"),b=t.allowDrop(y.node,v.node,"next")),d.dataTransfer.dropEffect=w||_||b?"move":"none",(_||w||b)&&(g==null?void 0:g.node.id)!==v.node.id&&(g&&e.emit("node-drag-leave",y.node,g.node,d),e.emit("node-drag-enter",y.node,v.node,d)),_||w||b?a.value.dropNode=v:a.value.dropNode=null,v.node.nextSibling===y.node&&(b=!1),v.node.previousSibling===y.node&&(_=!1),v.node.contains(y.node,!1)&&(w=!1),(y.node===v.node||y.node.contains(v.node))&&(_=!1,w=!1,b=!1);const E=v.$el.querySelector(`.${s.be("node","content")}`).getBoundingClientRect(),x=n.value.getBoundingClientRect();let T;const k=_?w?.25:b?.45:1:-1,I=b?w?.75:_?.55:0:1;let O=-9999;const U=d.clientY-E.top;U<E.height*k?T="before":U>E.height*I?T="after":w?T="inner":T="none";const R=v.$el.querySelector(`.${s.be("node","expand-icon")}`).getBoundingClientRect(),N=i.value;T==="before"?O=R.top-x.top:T==="after"&&(O=R.bottom-x.top),N.style.top=`${O}px`,N.style.left=`${R.right-x.left}px`,T==="inner"?us(v.$el,s.is("drop-inner")):rr(v.$el,s.is("drop-inner")),a.value.showDropIndicator=T==="before"||T==="after",a.value.allowDrop=a.value.showDropIndicator||M,a.value.dropType=T,e.emit("node-drag-over",y.node,v.node,d)},treeNodeDragEnd:d=>{const{draggingNode:p,dropType:v,dropNode:g}=a.value;if(d.preventDefault(),d.dataTransfer&&(d.dataTransfer.dropEffect="move"),p&&g){const y={data:p.node.data};v!=="none"&&p.node.remove(),v==="before"?g.node.parent.insertBefore(y,g.node):v==="after"?g.node.parent.insertAfter(y,g.node):v==="inner"&&g.node.insertChild(y),v!=="none"&&(r.value.registerNode(y),r.value.key&&p.node.eachNode(_=>{var w;(w=r.value.nodesMap[_.data[r.value.key]])==null||w.setChecked(_.checked,!r.value.checkStrictly)})),rr(g.$el,s.is("drop-inner")),e.emit("node-drag-end",p.node,g.node,v,d),v!=="none"&&e.emit("node-drop",p.node,g.node,v,d)}p&&!g&&e.emit("node-drag-end",p.node,null,v,d),a.value.showDropIndicator=!1,a.value.draggingNode=null,a.value.dropNode=null,a.value.allowDrop=!0}}),{dragState:a}}const Vre=ie({name:"ElTreeNode",components:{ElCollapseTransition:Hd,ElCheckbox:gs,NodeContent:Bre,ElIcon:ft,Loading:ra},props:{node:{type:Gg,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(t,e){const n=Fe("tree"),{broadcastExpanded:i}=QA(t),r=dt("RootTree"),s=W(!1),a=W(!1),o=W(null),l=W(null),c=W(null),d=dt(ek),p=Yt();Jt("NodeInstance",p),t.node.expanded&&(s.value=!0,a.value=!0);const v=r.props.props.children||"children";Le(()=>{const U=t.node.data[v];return U&&[...U]},()=>{t.node.updateChildren()}),Le(()=>t.node.indeterminate,U=>{_(t.node.checked,U)}),Le(()=>t.node.checked,U=>{_(U,t.node.indeterminate)}),Le(()=>t.node.childNodes.length,()=>t.node.reInitChecked()),Le(()=>t.node.expanded,U=>{_t(()=>s.value=U),U&&(a.value=!0)});const g=U=>__(r.props.nodeKey,U.data),y=U=>{const R=t.props.class;if(!R)return{};let N;if(cn(R)){const{data:$}=U;N=R($,U)}else N=R;return Wt(N)?{[N]:!0}:N},_=(U,R)=>{(o.value!==U||l.value!==R)&&r.ctx.emit("check-change",t.node.data,U,R),o.value=U,l.value=R},w=U=>{$g(r.store,r.ctx.emit,()=>r.store.value.setCurrentNode(t.node)),r.currentNode.value=t.node,r.props.expandOnClickNode&&M(),r.props.checkOnClickNode&&!t.node.disabled&&E(null,{target:{checked:!t.node.checked}}),r.ctx.emit("node-click",t.node.data,t.node,p,U)},b=U=>{r.instance.vnode.props.onNodeContextmenu&&(U.stopPropagation(),U.preventDefault()),r.ctx.emit("node-contextmenu",U,t.node.data,t.node,p)},M=()=>{t.node.isLeaf||(s.value?(r.ctx.emit("node-collapse",t.node.data,t.node,p),t.node.collapse()):t.node.expand(()=>{e.emit("node-expand",t.node.data,t.node,p)}))},E=(U,R)=>{t.node.setChecked(R.target.checked,!r.props.checkStrictly),_t(()=>{const N=r.store.value;r.ctx.emit("check",t.node.data,{checkedNodes:N.getCheckedNodes(),checkedKeys:N.getCheckedKeys(),halfCheckedNodes:N.getHalfCheckedNodes(),halfCheckedKeys:N.getHalfCheckedKeys()})})};return{ns:n,node$:c,tree:r,expanded:s,childNodeRendered:a,oldChecked:o,oldIndeterminate:l,getNodeKey:g,getNodeClass:y,handleSelectChange:_,handleClick:w,handleContextMenu:b,handleExpandIconClick:M,handleCheckChange:E,handleChildNodeExpand:(U,R,N)=>{i(R),r.ctx.emit("node-expand",U,R,N)},handleDragStart:U=>{r.props.draggable&&d.treeNodeDragStart({event:U,treeNode:t})},handleDragOver:U=>{U.preventDefault(),r.props.draggable&&d.treeNodeDragOver({event:U,treeNode:{$el:c.value,node:t.node}})},handleDrop:U=>{U.preventDefault()},handleDragEnd:U=>{r.props.draggable&&d.treeNodeDragEnd(U)},CaretRight:s2}}});function zre(t,e,n,i,r,s){const a=At("el-icon"),o=At("el-checkbox"),l=At("loading"),c=At("node-content"),d=At("el-tree-node"),p=At("el-collapse-transition");return Ut((P(),K("div",{ref:"node$",class:z([t.ns.b("node"),t.ns.is("expanded",t.expanded),t.ns.is("current",t.node.isCurrent),t.ns.is("hidden",!t.node.visible),t.ns.is("focusable",!t.node.disabled),t.ns.is("checked",!t.node.disabled&&t.node.checked),t.getNodeClass(t.node)]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.props.draggable,"data-key":t.getNodeKey(t.node),onClick:Mt(t.handleClick,["stop"]),onContextmenu:t.handleContextMenu,onDragstart:Mt(t.handleDragStart,["stop"]),onDragover:Mt(t.handleDragOver,["stop"]),onDragend:Mt(t.handleDragEnd,["stop"]),onDrop:Mt(t.handleDrop,["stop"])},[Z("div",{class:z(t.ns.be("node","content")),style:bt({paddingLeft:(t.node.level-1)*t.tree.props.indent+"px"})},[t.tree.props.icon||t.CaretRight?(P(),we(a,{key:0,class:z([t.ns.be("node","expand-icon"),t.ns.is("leaf",t.node.isLeaf),{expanded:!t.node.isLeaf&&t.expanded}]),onClick:Mt(t.handleExpandIconClick,["stop"])},{default:te(()=>[(P(),we(zt(t.tree.props.icon||t.CaretRight)))]),_:1},8,["class","onClick"])):he("v-if",!0),t.showCheckbox?(P(),we(o,{key:1,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:!!t.node.disabled,onClick:Mt(()=>{},["stop"]),onChange:t.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):he("v-if",!0),t.node.loading?(P(),we(a,{key:2,class:z([t.ns.be("node","loading-icon"),t.ns.is("loading")])},{default:te(()=>[Q(l)]),_:1},8,["class"])):he("v-if",!0),Q(c,{node:t.node,"render-content":t.renderContent},null,8,["node","render-content"])],6),Q(p,null,{default:te(()=>[!t.renderAfterExpand||t.childNodeRendered?Ut((P(),K("div",{key:0,class:z(t.ns.be("node","children")),role:"group","aria-expanded":t.expanded},[(P(!0),K(ct,null,Vt(t.node.childNodes,v=>(P(),we(d,{key:t.getNodeKey(v),"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:v,accordion:t.accordion,props:t.props,onNodeExpand:t.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded"])),[[on,t.expanded]]):he("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[on,t.node.visible]])}var $re=We(Vre,[["render",zre],["__file","tree-node.vue"]]);function Hre({el$:t},e){const n=Fe("tree"),i=An([]),r=An([]);St(()=>{a()}),Mo(()=>{i.value=Array.from(t.value.querySelectorAll("[role=treeitem]")),r.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"))}),Le(r,o=>{o.forEach(l=>{l.setAttribute("tabindex","-1")})}),bn(t,"keydown",o=>{const l=o.target;if(!l.className.includes(n.b("node")))return;const c=o.code;i.value=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));const d=i.value.indexOf(l);let p;if([Et.up,Et.down].includes(c)){if(o.preventDefault(),c===Et.up){p=d===-1?0:d!==0?d-1:i.value.length-1;const g=p;for(;!e.value.getNode(i.value[p].dataset.key).canFocus;){if(p--,p===g){p=-1;break}p<0&&(p=i.value.length-1)}}else{p=d===-1?0:d<i.value.length-1?d+1:0;const g=p;for(;!e.value.getNode(i.value[p].dataset.key).canFocus;){if(p++,p===g){p=-1;break}p>=i.value.length&&(p=0)}}p!==-1&&i.value[p].focus()}[Et.left,Et.right].includes(c)&&(o.preventDefault(),l.click());const v=l.querySelector('[type="checkbox"]');[Et.enter,Et.space].includes(c)&&v&&(o.preventDefault(),v.click())});const a=()=>{var o;i.value=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),r.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"));const l=t.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(l.length){l[0].setAttribute("tabindex","0");return}(o=i.value[0])==null||o.setAttribute("tabindex","0")}}const Gre=ie({name:"ElTree",components:{ElTreeNode:$re},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:En}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(t,e){const{t:n}=rn(),i=Fe("tree"),r=dt(fc,null),s=W(new Dre({key:t.nodeKey,data:t.data,lazy:t.lazy,props:t.props,load:t.load,currentNodeKey:t.currentNodeKey,checkStrictly:t.checkStrictly,checkDescendants:t.checkDescendants,defaultCheckedKeys:t.defaultCheckedKeys,defaultExpandedKeys:t.defaultExpandedKeys,autoExpandParent:t.autoExpandParent,defaultExpandAll:t.defaultExpandAll,filterNodeMethod:t.filterNodeMethod}));s.value.initialize();const a=W(s.value.root),o=W(null),l=W(null),c=W(null),{broadcastExpanded:d}=QA(t),{dragState:p}=Ure({props:t,ctx:e,el$:l,dropIndicator$:c,store:s});Hre({el$:l},s);const v=L(()=>{const{childNodes:q}=a.value,D=r?r.hasFilteredOptions!==0:!1;return(!q||q.length===0||q.every(({visible:V})=>!V))&&!D});Le(()=>t.currentNodeKey,q=>{s.value.setCurrentNodeKey(q)}),Le(()=>t.defaultCheckedKeys,q=>{s.value.setDefaultCheckedKey(q)}),Le(()=>t.defaultExpandedKeys,q=>{s.value.setDefaultExpandedKeys(q)}),Le(()=>t.data,q=>{s.value.setData(q)},{deep:!0}),Le(()=>t.checkStrictly,q=>{s.value.checkStrictly=q});const g=q=>{if(!t.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");s.value.filter(q)},y=q=>__(t.nodeKey,q.data),_=q=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const D=s.value.getNode(q);if(!D)return[];const V=[D.data];let ee=D.parent;for(;ee&&ee!==a.value;)V.push(ee.data),ee=ee.parent;return V.reverse()},w=(q,D)=>s.value.getCheckedNodes(q,D),b=q=>s.value.getCheckedKeys(q),M=()=>{const q=s.value.getCurrentNode();return q?q.data:null},E=()=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const q=M();return q?q[t.nodeKey]:null},x=(q,D)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");s.value.setCheckedNodes(q,D)},T=(q,D)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");s.value.setCheckedKeys(q,D)},k=(q,D,V)=>{s.value.setChecked(q,D,V)},I=()=>s.value.getHalfCheckedNodes(),O=()=>s.value.getHalfCheckedKeys(),U=(q,D=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");$g(s,e.emit,()=>{d(q),s.value.setUserCurrentNode(q,D)})},R=(q,D=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");$g(s,e.emit,()=>{d(),s.value.setCurrentNodeKey(q,D)})},N=q=>s.value.getNode(q),$=q=>{s.value.remove(q)},J=(q,D)=>{s.value.append(q,D)},Y=(q,D)=>{s.value.insertBefore(q,D)},H=(q,D)=>{s.value.insertAfter(q,D)},B=(q,D,V)=>{d(D),e.emit("node-expand",q,D,V)},X=(q,D)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");s.value.updateChildren(q,D)};return Jt("RootTree",{ctx:e,props:t,store:s,root:a,currentNode:o,instance:Yt()}),Jt(la,void 0),{ns:i,store:s,root:a,currentNode:o,dragState:p,el$:l,dropIndicator$:c,isEmpty:v,filter:g,getNodeKey:y,getNodePath:_,getCheckedNodes:w,getCheckedKeys:b,getCurrentNode:M,getCurrentKey:E,setCheckedNodes:x,setCheckedKeys:T,setChecked:k,getHalfCheckedNodes:I,getHalfCheckedKeys:O,setCurrentNode:U,setCurrentKey:R,t:n,getNode:N,remove:$,append:J,insertBefore:Y,insertAfter:H,handleNodeExpand:B,updateKeyChildren:X}}});function Wre(t,e,n,i,r,s){const a=At("el-tree-node");return P(),K("div",{ref:"el$",class:z([t.ns.b(),t.ns.is("dragging",!!t.dragState.draggingNode),t.ns.is("drop-not-allow",!t.dragState.allowDrop),t.ns.is("drop-inner",t.dragState.dropType==="inner"),{[t.ns.m("highlight-current")]:t.highlightCurrent}]),role:"tree"},[(P(!0),K(ct,null,Vt(t.root.childNodes,o=>(P(),we(a,{key:t.getNodeKey(o),node:o,props:t.props,accordion:t.accordion,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent,onNodeExpand:t.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),t.isEmpty?(P(),K("div",{key:0,class:z(t.ns.e("empty-block"))},[oe(t.$slots,"empty",{},()=>{var o;return[Z("span",{class:z(t.ns.e("empty-text"))},Ne((o=t.emptyText)!=null?o:t.t("el.tree.emptyText")),3)]})],2)):he("v-if",!0),Ut(Z("div",{ref:"dropIndicator$",class:z(t.ns.e("drop-indicator"))},null,2),[[on,t.dragState.showDropIndicator]])],2)}var Kre=We(Gre,[["render",Wre],["__file","tree.vue"]]);const Hh=Ft(Kre),qre=(t,{attrs:e,emit:n},{select:i,tree:r,key:s})=>{const a=Fe("tree-select");return Le(()=>t.data,()=>{t.filterable&&_t(()=>{var l,c;(c=r.value)==null||c.filter((l=i.value)==null?void 0:l.states.inputValue)})},{flush:"post"}),{...Ls(Oi(t),Object.keys(xl.props)),...e,"onUpdate:modelValue":l=>n(Kt,l),valueKey:s,popperClass:L(()=>{const l=[a.e("popper")];return t.popperClass&&l.push(t.popperClass),l.join(" ")}),filterMethod:(l="")=>{var c;t.filterMethod?t.filterMethod(l):t.remoteMethod?t.remoteMethod(l):(c=r.value)==null||c.filter(l)}}},Yre=ie({extends:Nh,setup(t,e){const n=Nh.setup(t,e);delete n.selectOptionClick;const i=Yt().proxy;return _t(()=>{n.select.states.cachedOptions.get(i.value)||n.select.onOptionCreate(i)}),Le(()=>e.attrs.visible,r=>{n.states.visible=r},{immediate:!0}),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function Wg(t){return t||t===0}function b_(t){return Array.isArray(t)&&t.length}function ql(t){return Array.isArray(t)?t:Wg(t)?[t]:[]}function hh(t,e,n,i,r){for(let s=0;s<t.length;s++){const a=t[s];if(e(a,s,t,r))return i?i(a,s,t,r):a;{const o=n(a);if(b_(o)){const l=hh(o,e,n,i,a);if(l)return l}}}}function ph(t,e,n,i){for(let r=0;r<t.length;r++){const s=t[r];e(s,r,t,i);const a=n(s);b_(a)&&ph(a,e,n,s)}}const jre=(t,{attrs:e,slots:n,emit:i},{select:r,tree:s,key:a})=>{Le(()=>t.modelValue,()=>{t.showCheckbox&&_t(()=>{const v=s.value;v&&!ir(v.getCheckedKeys(),ql(t.modelValue))&&v.setCheckedKeys(ql(t.modelValue))})},{immediate:!0,deep:!0});const o=L(()=>({value:a.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...t.props})),l=(v,g)=>{var y;const _=o.value[v];return cn(_)?_(g,(y=s.value)==null?void 0:y.getNode(l("value",g))):g[_]},c=ql(t.modelValue).map(v=>hh(t.data||[],g=>l("value",g)===v,g=>l("children",g),(g,y,_,w)=>w&&l("value",w))).filter(v=>Wg(v)),d=L(()=>{if(!t.renderAfterExpand&&!t.lazy)return[];const v=[];return ph(t.data.concat(t.cacheData),g=>{const y=l("value",g);v.push({value:y,currentLabel:l("label",g),isDisabled:l("disabled",g)})},g=>l("children",g)),v}),p=()=>{var v;return(v=s.value)==null?void 0:v.getCheckedKeys().filter(g=>{var y;const _=(y=s.value)==null?void 0:y.getNode(g);return!Ai(_)&&Kr(_.childNodes)})};return{...Ls(Oi(t),Object.keys(Hh.props)),...e,nodeKey:a,expandOnClickNode:L(()=>!t.checkStrictly&&t.expandOnClickNode),defaultExpandedKeys:L(()=>t.defaultExpandedKeys?t.defaultExpandedKeys.concat(c):c),renderContent:(v,{node:g,data:y,store:_})=>v(Yre,{value:l("value",y),label:l("label",y),disabled:l("disabled",y),visible:g.visible},t.renderContent?()=>t.renderContent(v,{node:g,data:y,store:_}):n.default?()=>n.default({node:g,data:y,store:_}):void 0),filterNodeMethod:(v,g,y)=>t.filterNodeMethod?t.filterNodeMethod(v,g,y):v?new RegExp(ay(v),"i").test(l("label",g)||""):!0,onNodeClick:(v,g,y)=>{var _,w,b,M;if((_=e.onNodeClick)==null||_.call(e,v,g,y),!(t.showCheckbox&&t.checkOnClickNode)){if(!t.showCheckbox&&(t.checkStrictly||g.isLeaf)){if(!l("disabled",v)){const E=(w=r.value)==null?void 0:w.states.options.get(l("value",v));(b=r.value)==null||b.handleOptionSelect(E)}}else t.expandOnClickNode&&y.proxy.handleExpandIconClick();(M=r.value)==null||M.focus()}},onCheck:(v,g)=>{var y;if(!t.showCheckbox)return;const _=l("value",v),w={};ph([s.value.store.root],x=>w[x.key]=x,x=>x.childNodes);const b=g.checkedKeys,M=t.multiple?ql(t.modelValue).filter(x=>!(x in w)&&!b.includes(x)):[],E=M.concat(b);if(t.checkStrictly)i(Kt,t.multiple?E:E.includes(_)?_:void 0);else if(t.multiple){const x=p();i(Kt,M.concat(x))}else{const x=hh([v],I=>!b_(l("children",I))&&!l("disabled",I),I=>l("children",I)),T=x?l("value",x):void 0,k=Wg(t.modelValue)&&!!hh([v],I=>l("value",I)===t.modelValue,I=>l("children",I));i(Kt,T===t.modelValue||k?void 0:T)}_t(()=>{var x;const T=ql(t.modelValue);s.value.setCheckedKeys(T),(x=e.onCheck)==null||x.call(e,v,{checkedKeys:s.value.getCheckedKeys(),checkedNodes:s.value.getCheckedNodes(),halfCheckedKeys:s.value.getHalfCheckedKeys(),halfCheckedNodes:s.value.getHalfCheckedNodes()})}),(y=r.value)==null||y.focus()},onNodeExpand:(v,g,y)=>{var _;(_=e.onNodeExpand)==null||_.call(e,v,g,y),_t(()=>{if(!t.checkStrictly&&t.lazy&&t.multiple&&g.checked){const w={},b=s.value.getCheckedKeys();ph([s.value.store.root],x=>w[x.key]=x,x=>x.childNodes);const M=ql(t.modelValue).filter(x=>!(x in w)&&!b.includes(x)),E=p();i(Kt,M.concat(E))}})},cacheOptions:d}};var Xre=ie({props:{data:{type:Array,default:()=>[]}},setup(t){const e=dt(fc);return Le(()=>t.data,()=>{var n;t.data.forEach(r=>{e.states.cachedOptions.has(r.value)||e.states.cachedOptions.set(r.value,r)});const i=((n=e.selectRef)==null?void 0:n.querySelectorAll("input"))||[];nn&&!Array.from(i).includes(document.activeElement)&&e.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const Zre=ie({name:"ElTreeSelect",inheritAttrs:!1,props:{...xl.props,...Hh.props,cacheData:{type:Array,default:()=>[]}},setup(t,e){const{slots:n,expose:i}=e,r=W(),s=W(),a=L(()=>t.nodeKey||t.valueKey||"value"),o=qre(t,e,{select:r,tree:s,key:a}),{cacheOptions:l,...c}=jre(t,e,{select:r,tree:s,key:a}),d=Xt({});return i(d),St(()=>{Object.assign(d,{...Ls(s.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...Ls(r.value,["focus","blur"])})}),()=>Ct(xl,Xt({...o,ref:p=>r.value=p}),{...n,default:()=>[Ct(Xre,{data:l.value}),Ct(Hh,Xt({...c,ref:p=>s.value=p}))]})}});var Jre=We(Zre,[["__file","tree-select.vue"]]);const Qre=Ft(Jre),w_=Symbol(),ese={key:-1,level:-1,data:{}};var Wc=(t=>(t.KEY="id",t.LABEL="label",t.CHILDREN="children",t.DISABLED="disabled",t))(Wc||{}),Kg=(t=>(t.ADD="add",t.DELETE="delete",t))(Kg||{});const tk={type:Number,default:26},tse=Ge({data:{type:_e(Array),default:()=>Un([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:_e(Object),default:()=>Un({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:_e(Array),default:()=>Un([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:_e(Array),default:()=>Un([])},indent:{type:Number,default:16},itemSize:tk,icon:{type:En},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:_e([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:_e(Function)},perfMode:{type:Boolean,default:!0}}),nse=Ge({node:{type:_e(Object),default:()=>Un(ese)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:tk}),ise=Ge({node:{type:_e(Object),required:!0}}),nk="node-click",ik="node-drop",rk="node-expand",sk="node-collapse",ak="current-change",ok="check",lk="check-change",uk="node-contextmenu",rse={[nk]:(t,e,n)=>t&&e&&n,[ik]:(t,e,n)=>t&&e&&n,[rk]:(t,e)=>t&&e,[sk]:(t,e)=>t&&e,[ak]:(t,e)=>t&&e,[ok]:(t,e)=>t&&e,[lk]:(t,e)=>t&&typeof e=="boolean",[uk]:(t,e,n)=>t&&e&&n},sse={click:(t,e)=>!!(t&&e),drop:(t,e)=>!!(t&&e),toggle:t=>!!t,check:(t,e)=>t&&typeof e=="boolean"};function ase(t,e){const n=W(new Set),i=W(new Set),{emit:r}=Yt();Le([()=>e.value,()=>t.defaultCheckedKeys],()=>_t(()=>{M(t.defaultCheckedKeys)}),{immediate:!0});const s=()=>{if(!e.value||!t.showCheckbox||t.checkStrictly)return;const{levelTreeNodeMap:E,maxLevel:x}=e.value,T=n.value,k=new Set;for(let I=x-1;I>=1;--I){const O=E.get(I);O&&O.forEach(U=>{const R=U.children;if(R){let N=!0,$=!1;for(const J of R){const Y=J.key;if(T.has(Y))$=!0;else if(k.has(Y)){N=!1,$=!0;break}else N=!1}N?T.add(U.key):$?(k.add(U.key),T.delete(U.key)):(T.delete(U.key),k.delete(U.key))}})}i.value=k},a=E=>n.value.has(E.key),o=E=>i.value.has(E.key),l=(E,x,T=!0)=>{const k=n.value,I=(O,U)=>{k[U?Kg.ADD:Kg.DELETE](O.key);const R=O.children;!t.checkStrictly&&R&&R.forEach(N=>{N.disabled||I(N,U)})};I(E,x),s(),T&&c(E,x)},c=(E,x)=>{const{checkedNodes:T,checkedKeys:k}=y(),{halfCheckedNodes:I,halfCheckedKeys:O}=_();r(ok,E.data,{checkedKeys:k,checkedNodes:T,halfCheckedKeys:O,halfCheckedNodes:I}),r(lk,E.data,x)};function d(E=!1){return y(E).checkedKeys}function p(E=!1){return y(E).checkedNodes}function v(){return _().halfCheckedKeys}function g(){return _().halfCheckedNodes}function y(E=!1){const x=[],T=[];if(e!=null&&e.value&&t.showCheckbox){const{treeNodeMap:k}=e.value;n.value.forEach(I=>{const O=k.get(I);O&&(!E||E&&O.isLeaf)&&(T.push(I),x.push(O.data))})}return{checkedKeys:T,checkedNodes:x}}function _(){const E=[],x=[];if(e!=null&&e.value&&t.showCheckbox){const{treeNodeMap:T}=e.value;i.value.forEach(k=>{const I=T.get(k);I&&(x.push(k),E.push(I.data))})}return{halfCheckedNodes:E,halfCheckedKeys:x}}function w(E){n.value.clear(),i.value.clear(),_t(()=>{M(E)})}function b(E,x){if(e!=null&&e.value&&t.showCheckbox){const T=e.value.treeNodeMap.get(E);T&&l(T,x,!1)}}function M(E){if(e!=null&&e.value){const{treeNodeMap:x}=e.value;if(t.showCheckbox&&x&&E)for(const T of E){const k=x.get(T);k&&!a(k)&&l(k,!0,!1)}}}return{updateCheckedKeys:s,toggleCheckbox:l,isChecked:a,isIndeterminate:o,getCheckedKeys:d,getCheckedNodes:p,getHalfCheckedKeys:v,getHalfCheckedNodes:g,setChecked:b,setCheckedKeys:w}}function ose(t,e){const n=W(new Set([])),i=W(new Set([])),r=L(()=>cn(t.filterMethod));function s(o){var l;if(!r.value)return;const c=new Set,d=i.value,p=n.value,v=[],g=((l=e.value)==null?void 0:l.treeNodes)||[],y=t.filterMethod;p.clear();function _(w){w.forEach(b=>{v.push(b),y!=null&&y(o,b.data)?v.forEach(E=>{c.add(E.key)}):b.isLeaf&&p.add(b.key);const M=b.children;if(M&&_(M),!b.isLeaf){if(!c.has(b.key))p.add(b.key);else if(M){let E=!0;for(const x of M)if(!p.has(x.key)){E=!1;break}E?d.add(b.key):d.delete(b.key)}}v.pop()})}return _(g),c}function a(o){return i.value.has(o.key)}return{hiddenExpandIconKeySet:i,hiddenNodeKeySet:n,doFilter:s,isForceHiddenExpandIcon:a}}function lse(t,e){const n=W(new Set(t.defaultExpandedKeys)),i=W(),r=An(),s=W();Le(()=>t.currentNodeKey,G=>{i.value=G},{immediate:!0}),Le(()=>t.data,G=>{ue(G)},{immediate:!0});const{isIndeterminate:a,isChecked:o,toggleCheckbox:l,getCheckedKeys:c,getCheckedNodes:d,getHalfCheckedKeys:p,getHalfCheckedNodes:v,setChecked:g,setCheckedKeys:y}=ase(t,r),{doFilter:_,hiddenNodeKeySet:w,isForceHiddenExpandIcon:b}=ose(t,r),M=L(()=>{var G;return((G=t.props)==null?void 0:G.value)||Wc.KEY}),E=L(()=>{var G;return((G=t.props)==null?void 0:G.children)||Wc.CHILDREN}),x=L(()=>{var G;return((G=t.props)==null?void 0:G.disabled)||Wc.DISABLED}),T=L(()=>{var G;return((G=t.props)==null?void 0:G.label)||Wc.LABEL}),k=L(()=>{var G;const He=n.value,Je=w.value,at=[],rt=((G=r.value)==null?void 0:G.treeNodes)||[],it=[];for(let qe=rt.length-1;qe>=0;--qe)it.push(rt[qe]);for(;it.length;){const qe=it.pop();if(!Je.has(qe.key)&&(at.push(qe),qe.children&&He.has(qe.key)))for(let ne=qe.children.length-1;ne>=0;--ne)it.push(qe.children[ne])}return at}),I=L(()=>k.value.length>0);function O(G){const He=new Map,Je=new Map;let at=1;function rt(qe,ne=1,se=void 0){var ke;const Be=[];for(const Ve of qe){const Ae=N(Ve),Re={level:ne,key:Ae,data:Ve};Re.label=J(Ve),Re.parent=se;const Xe=R(Ve);Re.disabled=$(Ve),Re.isLeaf=!Xe||Xe.length===0,Xe&&Xe.length&&(Re.children=rt(Xe,ne+1,Re)),Be.push(Re),He.set(Ae,Re),Je.has(ne)||Je.set(ne,[]),(ke=Je.get(ne))==null||ke.push(Re)}return ne>at&&(at=ne),Be}const it=rt(G);return{treeNodeMap:He,levelTreeNodeMap:Je,maxLevel:at,treeNodes:it}}function U(G){const He=_(G);He&&(n.value=He)}function R(G){return G[E.value]}function N(G){return G?G[M.value]:""}function $(G){return G[x.value]}function J(G){return G[T.value]}function Y(G){n.value.has(G.key)?ee(G):V(G)}function H(G){const He=new Set,Je=r.value.treeNodeMap;G.forEach(at=>{let rt=Je.get(at);for(;rt&&!He.has(rt.key);)He.add(rt.key),rt=rt.parent}),n.value=He}function B(G,He){e(nk,G.data,G,He),q(G),t.expandOnClickNode&&Y(G),t.showCheckbox&&t.checkOnClickNode&&!G.disabled&&l(G,!o(G),!0)}function X(G,He){e(ik,G.data,G,He)}function q(G){le(G)||(i.value=G.key,e(ak,G.data,G))}function D(G,He){l(G,He)}function V(G){const He=n.value;if(r.value&&t.accordion){const{treeNodeMap:Je}=r.value;He.forEach(at=>{const rt=Je.get(at);G&&G.level===(rt==null?void 0:rt.level)&&He.delete(at)})}He.add(G.key),e(rk,G.data,G)}function ee(G){n.value.delete(G.key),e(sk,G.data,G)}function ce(G){return n.value.has(G.key)}function ae(G){return!!G.disabled}function le(G){const He=i.value;return He!==void 0&&He===G.key}function ye(){var G,He;if(i.value)return(He=(G=r.value)==null?void 0:G.treeNodeMap.get(i.value))==null?void 0:He.data}function Ee(){return i.value}function pe(G){i.value=G}function ue(G){_t(()=>r.value=O(G))}function Me(G){var He;const Je=Sn(G)?N(G):G;return(He=r.value)==null?void 0:He.treeNodeMap.get(Je)}function De(G,He="auto"){const Je=Me(G);Je&&s.value&&s.value.scrollToItem(k.value.indexOf(Je),He)}function xe(G){var He;(He=s.value)==null||He.scrollTo(G)}return{tree:r,flattenTree:k,isNotEmpty:I,listRef:s,getKey:N,getChildren:R,toggleExpand:Y,toggleCheckbox:l,isExpanded:ce,isChecked:o,isIndeterminate:a,isDisabled:ae,isCurrent:le,isForceHiddenExpandIcon:b,handleNodeClick:B,handleNodeDrop:X,handleNodeCheck:D,getCurrentNode:ye,getCurrentKey:Ee,setCurrentKey:pe,getCheckedKeys:c,getCheckedNodes:d,getHalfCheckedKeys:p,getHalfCheckedNodes:v,setChecked:g,setCheckedKeys:y,filter:U,setData:ue,getNode:Me,expandNode:V,collapseNode:ee,setExpandedKeys:H,scrollToNode:De,scrollTo:xe}}var use=ie({name:"ElTreeNodeContent",props:ise,setup(t){const e=dt(w_),n=Fe("tree");return()=>{const i=t.node,{data:r}=i;return e!=null&&e.ctx.slots.default?e.ctx.slots.default({node:i,data:r}):Ct("span",{class:n.be("node","label")},[i==null?void 0:i.label])}}});const cse=ie({name:"ElTreeNode"}),dse=ie({...cse,props:nse,emits:sse,setup(t,{emit:e}){const n=t,i=dt(w_),r=Fe("tree"),s=L(()=>{var v;return(v=i==null?void 0:i.props.indent)!=null?v:16}),a=L(()=>{var v;return(v=i==null?void 0:i.props.icon)!=null?v:s2}),o=v=>{e("click",n.node,v)},l=v=>{e("drop",n.node,v)},c=()=>{e("toggle",n.node)},d=v=>{e("check",n.node,v)},p=v=>{var g,y,_,w;(_=(y=(g=i==null?void 0:i.instance)==null?void 0:g.vnode)==null?void 0:y.props)!=null&&_.onNodeContextmenu&&(v.stopPropagation(),v.preventDefault()),i==null||i.ctx.emit(uk,v,(w=n.node)==null?void 0:w.data,n.node)};return(v,g)=>{var y,_,w;return P(),K("div",{ref:"node$",class:z([f(r).b("node"),f(r).is("expanded",v.expanded),f(r).is("current",v.current),f(r).is("focusable",!v.disabled),f(r).is("checked",!v.disabled&&v.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":v.expanded,"aria-disabled":v.disabled,"aria-checked":v.checked,"data-key":(y=v.node)==null?void 0:y.key,onClick:Mt(o,["stop"]),onContextmenu:p,onDragover:Mt(()=>{},["prevent"]),onDragenter:Mt(()=>{},["prevent"]),onDrop:Mt(l,["stop"])},[Z("div",{class:z(f(r).be("node","content")),style:bt({paddingLeft:`${(v.node.level-1)*f(s)}px`,height:v.itemSize+"px"})},[f(a)?(P(),we(f(ft),{key:0,class:z([f(r).is("leaf",!!((_=v.node)!=null&&_.isLeaf)),f(r).is("hidden",v.hiddenExpandIcon),{expanded:!((w=v.node)!=null&&w.isLeaf)&&v.expanded},f(r).be("node","expand-icon")]),onClick:Mt(c,["stop"])},{default:te(()=>[(P(),we(zt(f(a))))]),_:1},8,["class","onClick"])):he("v-if",!0),v.showCheckbox?(P(),we(f(gs),{key:1,"model-value":v.checked,indeterminate:v.indeterminate,disabled:v.disabled,onChange:d,onClick:Mt(()=>{},["stop"])},null,8,["model-value","indeterminate","disabled","onClick"])):he("v-if",!0),Q(f(use),{node:v.node},null,8,["node"])],6)],42,["aria-expanded","aria-disabled","aria-checked","data-key","onClick","onDragover","onDragenter","onDrop"])}}});var fse=We(dse,[["__file","tree-node.vue"]]);const hse=ie({name:"ElTreeV2"}),pse=ie({...hse,props:tse,emits:rse,setup(t,{expose:e,emit:n}){const i=t,r=Si(),s=L(()=>i.itemSize);Jt(w_,{ctx:{emit:n,slots:r},props:i,instance:Yt()}),Jt(la,void 0);const{t:a}=rn(),o=Fe("tree"),{flattenTree:l,isNotEmpty:c,listRef:d,toggleExpand:p,isExpanded:v,isIndeterminate:g,isChecked:y,isDisabled:_,isCurrent:w,isForceHiddenExpandIcon:b,handleNodeClick:M,handleNodeDrop:E,handleNodeCheck:x,toggleCheckbox:T,getCurrentNode:k,getCurrentKey:I,setCurrentKey:O,getCheckedKeys:U,getCheckedNodes:R,getHalfCheckedKeys:N,getHalfCheckedNodes:$,setChecked:J,setCheckedKeys:Y,filter:H,setData:B,getNode:X,expandNode:q,collapseNode:D,setExpandedKeys:V,scrollToNode:ee,scrollTo:ce}=lse(i,n);return e({toggleCheckbox:T,getCurrentNode:k,getCurrentKey:I,setCurrentKey:O,getCheckedKeys:U,getCheckedNodes:R,getHalfCheckedKeys:N,getHalfCheckedNodes:$,setChecked:J,setCheckedKeys:Y,filter:H,setData:B,getNode:X,expandNode:q,collapseNode:D,setExpandedKeys:V,scrollToNode:ee,scrollTo:ce}),(ae,le)=>{var ye;return P(),K("div",{class:z([f(o).b(),{[f(o).m("highlight-current")]:ae.highlightCurrent}]),role:"tree"},[f(c)?(P(),we(f(fA),{key:0,ref_key:"listRef",ref:d,"class-name":f(o).b("virtual-list"),data:f(l),total:f(l).length,height:ae.height,"item-size":f(s),"perf-mode":ae.perfMode},{default:te(({data:Ee,index:pe,style:ue})=>[(P(),we(fse,{key:Ee[pe].key,style:bt(ue),node:Ee[pe],expanded:f(v)(Ee[pe]),"show-checkbox":ae.showCheckbox,checked:f(y)(Ee[pe]),indeterminate:f(g)(Ee[pe]),"item-size":f(s),disabled:f(_)(Ee[pe]),current:f(w)(Ee[pe]),"hidden-expand-icon":f(b)(Ee[pe]),onClick:f(M),onToggle:f(p),onCheck:f(x),onDrop:f(E)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck","onDrop"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(P(),K("div",{key:1,class:z(f(o).e("empty-block"))},[Z("span",{class:z(f(o).e("empty-text"))},Ne((ye=ae.emptyText)!=null?ye:f(a)("el.tree.emptyText")),3)],2))],2)}}});var mse=We(pse,[["__file","tree.vue"]]);const vse=Ft(mse),ck=Symbol("uploadContextKey"),gse="ElUpload";class yse extends Error{constructor(e,n,i,r){super(e),this.name="UploadAjaxError",this.status=n,this.method=i,this.url=r}}function Qw(t,e,n){let i;return n.response?i=`${n.response.error||n.response}`:n.responseText?i=`${n.responseText}`:i=`fail to ${e.method} ${t} ${n.status}`,new yse(i,n.status,e.method,t)}function _se(t){const e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}const bse=t=>{typeof XMLHttpRequest>"u"&&yi(gse,"XMLHttpRequest is undefined");const e=new XMLHttpRequest,n=t.action;e.upload&&e.upload.addEventListener("progress",s=>{const a=s;a.percent=s.total>0?s.loaded/s.total*100:0,t.onProgress(a)});const i=new FormData;if(t.data)for(const[s,a]of Object.entries(t.data))Ot(a)&&a.length?i.append(s,...a):i.append(s,a);i.append(t.filename,t.file,t.file.name),e.addEventListener("error",()=>{t.onError(Qw(n,t,e))}),e.addEventListener("load",()=>{if(e.status<200||e.status>=300)return t.onError(Qw(n,t,e));t.onSuccess(_se(e))}),e.open(t.method,n,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const r=t.headers||{};if(r instanceof Headers)r.forEach((s,a)=>e.setRequestHeader(a,s));else for(const[s,a]of Object.entries(r))Ai(a)||e.setRequestHeader(s,String(a));return e.send(i),e},dk=["text","picture","picture-card"];let wse=1;const qg=()=>Date.now()+wse++,fk=Ge({action:{type:String,default:"#"},headers:{type:_e(Object)},method:{type:String,default:"post"},data:{type:_e([Object,Function,Promise]),default:()=>Un({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:_e(Array),default:()=>Un([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:dk,default:"text"},httpRequest:{type:_e(Function),default:bse},disabled:Boolean,limit:Number}),Sse=Ge({...fk,beforeUpload:{type:_e(Function),default:Yn},beforeRemove:{type:_e(Function)},onRemove:{type:_e(Function),default:Yn},onChange:{type:_e(Function),default:Yn},onPreview:{type:_e(Function),default:Yn},onSuccess:{type:_e(Function),default:Yn},onProgress:{type:_e(Function),default:Yn},onError:{type:_e(Function),default:Yn},onExceed:{type:_e(Function),default:Yn},crossorigin:{type:_e(String)}}),Ese=Ge({files:{type:_e(Array),default:()=>Un([])},disabled:{type:Boolean,default:!1},handlePreview:{type:_e(Function),default:Yn},listType:{type:String,values:dk,default:"text"},crossorigin:{type:_e(String)}}),Cse={remove:t=>!!t},xse=ie({name:"ElUploadList"}),Mse=ie({...xse,props:Ese,emits:Cse,setup(t,{emit:e}){const n=t,{t:i}=rn(),r=Fe("upload"),s=Fe("icon"),a=Fe("list"),o=ar(),l=W(!1),c=L(()=>[r.b("list"),r.bm("list",n.listType),r.is("disabled",n.disabled)]),d=p=>{e("remove",p)};return(p,v)=>(P(),we(VC,{tag:"ul",class:z(f(c)),name:f(a).b()},{default:te(()=>[(P(!0),K(ct,null,Vt(p.files,(g,y)=>(P(),K("li",{key:g.uid||g.name,class:z([f(r).be("list","item"),f(r).is(g.status),{focusing:l.value}]),tabindex:"0",onKeydown:vn(_=>!f(o)&&d(g),["delete"]),onFocus:_=>l.value=!0,onBlur:_=>l.value=!1,onClick:_=>l.value=!1},[oe(p.$slots,"default",{file:g,index:y},()=>[p.listType==="picture"||g.status!=="uploading"&&p.listType==="picture-card"?(P(),K("img",{key:0,class:z(f(r).be("list","item-thumbnail")),src:g.url,crossorigin:p.crossorigin,alt:""},null,10,["src","crossorigin"])):he("v-if",!0),g.status==="uploading"||p.listType!=="picture-card"?(P(),K("div",{key:1,class:z(f(r).be("list","item-info"))},[Z("a",{class:z(f(r).be("list","item-name")),onClick:Mt(_=>p.handlePreview(g),["prevent"])},[Q(f(ft),{class:z(f(s).m("document"))},{default:te(()=>[Q(f(qD))]),_:1},8,["class"]),Z("span",{class:z(f(r).be("list","item-file-name")),title:g.name},Ne(g.name),11,["title"])],10,["onClick"]),g.status==="uploading"?(P(),we(f(iA),{key:0,type:p.listType==="picture-card"?"circle":"line","stroke-width":p.listType==="picture-card"?6:2,percentage:Number(g.percentage),style:bt(p.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):he("v-if",!0)],2)):he("v-if",!0),Z("label",{class:z(f(r).be("list","item-status-label"))},[p.listType==="text"?(P(),we(f(ft),{key:0,class:z([f(s).m("upload-success"),f(s).m("circle-check")])},{default:te(()=>[Q(f(D0))]),_:1},8,["class"])):["picture-card","picture"].includes(p.listType)?(P(),we(f(ft),{key:1,class:z([f(s).m("upload-success"),f(s).m("check")])},{default:te(()=>[Q(f(Ad))]),_:1},8,["class"])):he("v-if",!0)],2),f(o)?he("v-if",!0):(P(),we(f(ft),{key:2,class:z(f(s).m("close")),onClick:_=>d(g)},{default:te(()=>[Q(f(Bs))]),_:2},1032,["class","onClick"])),he(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),he(" This is a bug which needs to be fixed "),he(" TODO: Fix the incorrect navigation interaction "),f(o)?he("v-if",!0):(P(),K("i",{key:3,class:z(f(s).m("close-tip"))},Ne(f(i)("el.upload.deleteTip")),3)),p.listType==="picture-card"?(P(),K("span",{key:4,class:z(f(r).be("list","item-actions"))},[Z("span",{class:z(f(r).be("list","item-preview")),onClick:_=>p.handlePreview(g)},[Q(f(ft),{class:z(f(s).m("zoom-in"))},{default:te(()=>[Q(f(c2))]),_:1},8,["class"])],10,["onClick"]),f(o)?he("v-if",!0):(P(),K("span",{key:0,class:z(f(r).be("list","item-delete")),onClick:_=>d(g)},[Q(f(ft),{class:z(f(s).m("delete"))},{default:te(()=>[Q(f(WD))]),_:1},8,["class"])],10,["onClick"]))],2)):he("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),oe(p.$slots,"append")]),_:3},8,["class","name"]))}});var eS=We(Mse,[["__file","upload-list.vue"]]);const Tse=Ge({disabled:{type:Boolean,default:!1}}),Ase={file:t=>Ot(t)},hk="ElUploadDrag",kse=ie({name:hk}),Pse=ie({...kse,props:Tse,emits:Ase,setup(t,{emit:e}){dt(ck)||yi(hk,"usage: <el-upload><el-upload-dragger /></el-upload>");const i=Fe("upload"),r=W(!1),s=ar(),a=l=>{if(s.value)return;r.value=!1,l.stopPropagation();const c=Array.from(l.dataTransfer.files);e("file",c)},o=()=>{s.value||(r.value=!0)};return(l,c)=>(P(),K("div",{class:z([f(i).b("dragger"),f(i).is("dragover",r.value)]),onDrop:Mt(a,["prevent"]),onDragover:Mt(o,["prevent"]),onDragleave:Mt(d=>r.value=!1,["prevent"])},[oe(l.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var Rse=We(Pse,[["__file","upload-dragger.vue"]]);const Ise=Ge({...fk,beforeUpload:{type:_e(Function),default:Yn},onRemove:{type:_e(Function),default:Yn},onStart:{type:_e(Function),default:Yn},onSuccess:{type:_e(Function),default:Yn},onProgress:{type:_e(Function),default:Yn},onError:{type:_e(Function),default:Yn},onExceed:{type:_e(Function),default:Yn}}),Lse=ie({name:"ElUploadContent",inheritAttrs:!1}),Nse=ie({...Lse,props:Ise,setup(t,{expose:e}){const n=t,i=Fe("upload"),r=ar(),s=An({}),a=An(),o=_=>{if(_.length===0)return;const{autoUpload:w,limit:b,fileList:M,multiple:E,onStart:x,onExceed:T}=n;if(b&&M.length+_.length>b){T(_,M);return}E||(_=_.slice(0,1));for(const k of _){const I=k;I.uid=qg(),x(I),w&&l(I)}},l=async _=>{if(a.value.value="",!n.beforeUpload)return d(_);let w,b={};try{const E=n.data,x=n.beforeUpload(_);b=db(n.data)?xh(n.data):n.data,w=await x,db(n.data)&&ir(E,b)&&(b=xh(n.data))}catch{w=!1}if(w===!1){n.onRemove(_);return}let M=_;w instanceof Blob&&(w instanceof File?M=w:M=new File([w],_.name,{type:_.type})),d(Object.assign(M,{uid:_.uid}),b)},c=async(_,w)=>cn(_)?_(w):_,d=async(_,w)=>{const{headers:b,data:M,method:E,withCredentials:x,name:T,action:k,onProgress:I,onSuccess:O,onError:U,httpRequest:R}=n;try{w=await c(w??M,_)}catch{n.onRemove(_);return}const{uid:N}=_,$={headers:b||{},withCredentials:x,file:_,data:w,method:E,filename:T,action:k,onProgress:Y=>{I(Y,_)},onSuccess:Y=>{O(Y,_),delete s.value[N]},onError:Y=>{U(Y,_),delete s.value[N]}},J=R($);s.value[N]=J,J instanceof Promise&&J.then($.onSuccess,$.onError)},p=_=>{const w=_.target.files;w&&o(Array.from(w))},v=()=>{r.value||(a.value.value="",a.value.click())},g=()=>{v()};return e({abort:_=>{mz(s.value).filter(_?([b])=>String(_.uid)===b:()=>!0).forEach(([b,M])=>{M instanceof XMLHttpRequest&&M.abort(),delete s.value[b]})},upload:l}),(_,w)=>(P(),K("div",{class:z([f(i).b(),f(i).m(_.listType),f(i).is("drag",_.drag),f(i).is("disabled",f(r))]),tabindex:f(r)?"-1":"0",onClick:v,onKeydown:vn(Mt(g,["self"]),["enter","space"])},[_.drag?(P(),we(Rse,{key:0,disabled:f(r),onFile:o},{default:te(()=>[oe(_.$slots,"default")]),_:3},8,["disabled"])):oe(_.$slots,"default",{key:1}),Z("input",{ref_key:"inputRef",ref:a,class:z(f(i).e("input")),name:_.name,disabled:f(r),multiple:_.multiple,accept:_.accept,type:"file",onChange:p,onClick:Mt(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}});var tS=We(Nse,[["__file","upload-content.vue"]]);const nS="ElUpload",iS=t=>{var e;(e=t.url)!=null&&e.startsWith("blob:")&&URL.revokeObjectURL(t.url)},Ose=(t,e)=>{const n=g2(t,"fileList",void 0,{passive:!0}),i=g=>n.value.find(y=>y.uid===g.uid);function r(g){var y;(y=e.value)==null||y.abort(g)}function s(g=["ready","uploading","success","fail"]){n.value=n.value.filter(y=>!g.includes(y.status))}function a(g){n.value=n.value.filter(y=>y!==g)}const o=(g,y)=>{const _=i(y);_&&(console.error(g),_.status="fail",a(_),t.onError(g,_,n.value),t.onChange(_,n.value))},l=(g,y)=>{const _=i(y);_&&(t.onProgress(g,_,n.value),_.status="uploading",_.percentage=Math.round(g.percent))},c=(g,y)=>{const _=i(y);_&&(_.status="success",_.response=g,t.onSuccess(g,_,n.value),t.onChange(_,n.value))},d=g=>{Ai(g.uid)&&(g.uid=qg());const y={name:g.name,percentage:0,status:"ready",size:g.size,raw:g,uid:g.uid};if(t.listType==="picture-card"||t.listType==="picture")try{y.url=URL.createObjectURL(g)}catch(_){_.message,t.onError(_,y,n.value)}n.value=[...n.value,y],t.onChange(y,n.value)},p=async g=>{const y=g instanceof File?i(g):g;y||yi(nS,"file to be removed not found");const _=w=>{r(w),a(w),t.onRemove(w,n.value),iS(w)};t.beforeRemove?await t.beforeRemove(y,n.value)!==!1&&_(y):_(y)};function v(){n.value.filter(({status:g})=>g==="ready").forEach(({raw:g})=>{var y;return g&&((y=e.value)==null?void 0:y.upload(g))})}return Le(()=>t.listType,g=>{g!=="picture-card"&&g!=="picture"||(n.value=n.value.map(y=>{const{raw:_,url:w}=y;if(!w&&_)try{y.url=URL.createObjectURL(_)}catch(b){t.onError(b,y,n.value)}return y}))}),Le(n,g=>{for(const y of g)y.uid||(y.uid=qg()),y.status||(y.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:r,clearFiles:s,handleError:o,handleProgress:l,handleStart:d,handleSuccess:c,handleRemove:p,submit:v,revokeFileObjectURL:iS}},Dse=ie({name:"ElUpload"}),Fse=ie({...Dse,props:Sse,setup(t,{expose:e}){const n=t,i=ar(),r=An(),{abort:s,submit:a,clearFiles:o,uploadFiles:l,handleStart:c,handleError:d,handleRemove:p,handleSuccess:v,handleProgress:g,revokeFileObjectURL:y}=Ose(n,r),_=L(()=>n.listType==="picture-card"),w=L(()=>({...n,fileList:l.value,onStart:c,onProgress:g,onSuccess:v,onError:d,onRemove:p}));return Tn(()=>{l.value.forEach(y)}),Jt(ck,{accept:yn(n,"accept")}),e({abort:s,submit:a,clearFiles:o,handleStart:c,handleRemove:p}),(b,M)=>(P(),K("div",null,[f(_)&&b.showFileList?(P(),we(eS,{key:0,disabled:f(i),"list-type":b.listType,files:f(l),crossorigin:b.crossorigin,"handle-preview":b.onPreview,onRemove:f(p)},hs({append:te(()=>[Q(tS,Gt({ref_key:"uploadRef",ref:r},f(w)),{default:te(()=>[b.$slots.trigger?oe(b.$slots,"trigger",{key:0}):he("v-if",!0),!b.$slots.trigger&&b.$slots.default?oe(b.$slots,"default",{key:1}):he("v-if",!0)]),_:3},16)]),_:2},[b.$slots.file?{name:"default",fn:te(({file:E,index:x})=>[oe(b.$slots,"file",{file:E,index:x})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):he("v-if",!0),!f(_)||f(_)&&!b.showFileList?(P(),we(tS,Gt({key:1,ref_key:"uploadRef",ref:r},f(w)),{default:te(()=>[b.$slots.trigger?oe(b.$slots,"trigger",{key:0}):he("v-if",!0),!b.$slots.trigger&&b.$slots.default?oe(b.$slots,"default",{key:1}):he("v-if",!0)]),_:3},16)):he("v-if",!0),b.$slots.trigger?oe(b.$slots,"default",{key:2}):he("v-if",!0),oe(b.$slots,"tip"),!f(_)&&b.showFileList?(P(),we(eS,{key:3,disabled:f(i),"list-type":b.listType,files:f(l),crossorigin:b.crossorigin,"handle-preview":b.onPreview,onRemove:f(p)},hs({_:2},[b.$slots.file?{name:"default",fn:te(({file:E,index:x})=>[oe(b.$slots,"file",{file:E,index:x})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):he("v-if",!0)]))}});var Bse=We(Fse,[["__file","upload.vue"]]);const Use=Ft(Bse),Vse=Ge({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:_e([String,Array]),default:"Element Plus"},font:{type:_e(Object)},gap:{type:_e(Array),default:()=>[100,100]},offset:{type:_e(Array)}});function zse(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function $se(t){return Object.keys(t).map(e=>`${zse(e)}: ${t[e]};`).join(" ")}function Hse(){return window.devicePixelRatio||1}const Gse=(t,e)=>{let n=!1;return t.removedNodes.length&&e&&(n=Array.from(t.removedNodes).includes(e)),t.type==="attributes"&&t.target===e&&(n=!0),n},pk=3;function Um(t,e,n=1){const i=document.createElement("canvas"),r=i.getContext("2d"),s=t*n,a=e*n;return i.setAttribute("width",`${s}px`),i.setAttribute("height",`${a}px`),r.save(),[r,i,s,a]}function Wse(){function t(e,n,i,r,s,a,o,l){const[c,d,p,v]=Um(r,s,i);if(e instanceof HTMLImageElement)c.drawImage(e,0,0,p,v);else{const{color:ee,fontSize:ce,fontStyle:ae,fontWeight:le,fontFamily:ye,textAlign:Ee,textBaseline:pe}=a,ue=Number(ce)*i;c.font=`${ae} normal ${le} ${ue}px/${s}px ${ye}`,c.fillStyle=ee,c.textAlign=Ee,c.textBaseline=pe;const Me=Array.isArray(e)?e:[e];Me==null||Me.forEach((De,xe)=>{c.fillText(De??"",p/2,xe*(ue+pk*i))})}const g=Math.PI/180*Number(n),y=Math.max(r,s),[_,w,b]=Um(y,y,i);_.translate(b/2,b/2),_.rotate(g),p>0&&v>0&&_.drawImage(d,-p/2,-v/2);function M(ee,ce){const ae=ee*Math.cos(g)-ce*Math.sin(g),le=ee*Math.sin(g)+ce*Math.cos(g);return[ae,le]}let E=0,x=0,T=0,k=0;const I=p/2,O=v/2;[[0-I,0-O],[0+I,0-O],[0+I,0+O],[0-I,0+O]].forEach(([ee,ce])=>{const[ae,le]=M(ee,ce);E=Math.min(E,ae),x=Math.max(x,ae),T=Math.min(T,le),k=Math.max(k,le)});const R=E+b/2,N=T+b/2,$=x-E,J=k-T,Y=o*i,H=l*i,B=($+Y)*2,X=J+H,[q,D]=Um(B,X);function V(ee=0,ce=0){q.drawImage(w,R,N,$,J,ee,ce,$,J)}return V(),V($+Y,-J/2-H/2),V($+Y,+J/2+H/2),[D.toDataURL(),B/i,X/i]}return t}const Kse=ie({name:"ElWatermark"}),qse=ie({...Kse,props:Vse,setup(t){const e=t,n={position:"relative"},i=L(()=>{var R,N;return(N=(R=e.font)==null?void 0:R.color)!=null?N:"rgba(0,0,0,.15)"}),r=L(()=>{var R,N;return(N=(R=e.font)==null?void 0:R.fontSize)!=null?N:16}),s=L(()=>{var R,N;return(N=(R=e.font)==null?void 0:R.fontWeight)!=null?N:"normal"}),a=L(()=>{var R,N;return(N=(R=e.font)==null?void 0:R.fontStyle)!=null?N:"normal"}),o=L(()=>{var R,N;return(N=(R=e.font)==null?void 0:R.fontFamily)!=null?N:"sans-serif"}),l=L(()=>{var R,N;return(N=(R=e.font)==null?void 0:R.textAlign)!=null?N:"center"}),c=L(()=>{var R,N;return(N=(R=e.font)==null?void 0:R.textBaseline)!=null?N:"hanging"}),d=L(()=>e.gap[0]),p=L(()=>e.gap[1]),v=L(()=>d.value/2),g=L(()=>p.value/2),y=L(()=>{var R,N;return(N=(R=e.offset)==null?void 0:R[0])!=null?N:v.value}),_=L(()=>{var R,N;return(N=(R=e.offset)==null?void 0:R[1])!=null?N:g.value}),w=()=>{const R={zIndex:e.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let N=y.value-v.value,$=_.value-g.value;return N>0&&(R.left=`${N}px`,R.width=`calc(100% - ${N}px)`,N=0),$>0&&(R.top=`${$}px`,R.height=`calc(100% - ${$}px)`,$=0),R.backgroundPosition=`${N}px ${$}px`,R},b=An(null),M=An(),E=W(!1),x=()=>{M.value&&(M.value.remove(),M.value=void 0)},T=(R,N)=>{var $;b.value&&M.value&&(E.value=!0,M.value.setAttribute("style",$se({...w(),backgroundImage:`url('${R}')`,backgroundSize:`${Math.floor(N)}px`})),($=b.value)==null||$.append(M.value),setTimeout(()=>{E.value=!1}))},k=R=>{let N=120,$=64;const J=e.image,Y=e.content,H=e.width,B=e.height;if(!J&&R.measureText){R.font=`${Number(r.value)}px ${o.value}`;const X=Array.isArray(Y)?Y:[Y],q=X.map(D=>{const V=R.measureText(D);return[V.width,V.fontBoundingBoxAscent!==void 0?V.fontBoundingBoxAscent+V.fontBoundingBoxDescent:V.actualBoundingBoxAscent+V.actualBoundingBoxDescent]});N=Math.ceil(Math.max(...q.map(D=>D[0]))),$=Math.ceil(Math.max(...q.map(D=>D[1])))*X.length+(X.length-1)*pk}return[H??N,B??$]},I=Wse(),O=()=>{const N=document.createElement("canvas").getContext("2d"),$=e.image,J=e.content,Y=e.rotate;if(N){M.value||(M.value=document.createElement("div"));const H=Hse(),[B,X]=k(N),q=D=>{const[V,ee]=I(D||"",Y,H,B,X,{color:i.value,fontSize:r.value,fontStyle:a.value,fontWeight:s.value,fontFamily:o.value,textAlign:l.value,textBaseline:c.value},d.value,p.value);T(V,ee)};if($){const D=new Image;D.onload=()=>{q(D)},D.onerror=()=>{q(J)},D.crossOrigin="anonymous",D.referrerPolicy="no-referrer",D.src=$}else q(J)}};return St(()=>{O()}),Le(()=>e,()=>{O()},{deep:!0,flush:"post"}),Tn(()=>{x()}),v2(b,R=>{E.value||R.forEach(N=>{Gse(N,M.value)&&(x(),O())})},{attributes:!0,subtree:!0,childList:!0}),(R,N)=>(P(),K("div",{ref_key:"containerRef",ref:b,style:bt([n])},[oe(R.$slots,"default")],4))}});var Yse=We(qse,[["__file","watermark.vue"]]);const jse=Ft(Yse),Xse=Ge({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:_e(Object)},targetAreaClickable:{type:Boolean,default:!0}}),Zse=(t,e,n,i,r)=>{const s=W(null),a=()=>{let p;return Wt(t.value)?p=document.querySelector(t.value):cn(t.value)?p=t.value():p=t.value,p},o=()=>{const p=a();if(!p||!e.value){s.value=null;return}!Jse(p)&&e.value&&p.scrollIntoView(r.value);const{left:v,top:g,width:y,height:_}=p.getBoundingClientRect();s.value={left:v,top:g,width:y,height:_,radius:0}};St(()=>{Le([e,t],()=>{o()},{immediate:!0}),window.addEventListener("resize",o)}),Tn(()=>{window.removeEventListener("resize",o)});const l=p=>{var v;return(v=Ot(n.value.offset)?n.value.offset[p]:n.value.offset)!=null?v:6},c=L(()=>{var p;if(!s.value)return s.value;const v=l(0),g=l(1),y=((p=n.value)==null?void 0:p.radius)||2;return{left:s.value.left-v,top:s.value.top-g,width:s.value.width+v*2,height:s.value.height+g*2,radius:y}}),d=L(()=>{const p=a();return!i.value||!p||!window.DOMRect?p||void 0:{getBoundingClientRect(){var v,g,y,_;return window.DOMRect.fromRect({width:((v=c.value)==null?void 0:v.width)||0,height:((g=c.value)==null?void 0:g.height)||0,x:((y=c.value)==null?void 0:y.left)||0,y:((_=c.value)==null?void 0:_.top)||0})}}});return{mergedPosInfo:c,triggerTarget:d}},Dp=Symbol("ElTour");function Jse(t){const e=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,{top:i,right:r,bottom:s,left:a}=t.getBoundingClientRect();return i>=0&&a>=0&&r<=e&&s<=n}const Qse=(t,e,n,i,r,s,a,o)=>{const l=W(),c=W(),d=W({}),p={x:l,y:c,placement:i,strategy:r,middlewareData:d},v=L(()=>{const b=[nM(f(s)),kH(),AH(),eae()];return f(o)&&f(n)&&b.push(iM({element:f(n)})),b}),g=async()=>{if(!nn)return;const b=f(t),M=f(e);if(!b||!M)return;const E=await rM(b,M,{placement:f(i),strategy:f(r),middleware:f(v)});Ou(p).forEach(x=>{p[x].value=E[x]})},y=L(()=>{if(!f(t))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:f(a)};const{overflow:b}=f(d);return{position:f(r),zIndex:f(a),top:f(c)!=null?`${f(c)}px`:"",left:f(l)!=null?`${f(l)}px`:"",maxWidth:b!=null&&b.maxWidth?`${b==null?void 0:b.maxWidth}px`:""}}),_=L(()=>{if(!f(o))return{};const{arrow:b}=f(d);return{left:(b==null?void 0:b.x)!=null?`${b==null?void 0:b.x}px`:"",top:(b==null?void 0:b.y)!=null?`${b==null?void 0:b.y}px`:""}});let w;return St(()=>{const b=f(t),M=f(e);b&&M&&(w=MH(b,M,g)),gi(()=>{g()})}),Tn(()=>{w&&w()}),{update:g,contentStyle:y,arrowStyle:_}},eae=()=>({name:"overflow",async fn(t){const e=await TH(t);let n=0;return e.left>0&&(n=e.left),e.right>0&&(n=e.right),{data:{maxWidth:t.rects.floating.width-n}}}}),tae=ie({name:"ElTourMask",inheritAttrs:!1}),nae=ie({...tae,props:Xse,setup(t){const e=t,{ns:n}=dt(Dp),i=L(()=>{var o,l;return(l=(o=e.pos)==null?void 0:o.radius)!=null?l:2}),r=L(()=>{const o=i.value,l=`a${o},${o} 0 0 1`;return{topRight:`${l} ${o},${o}`,bottomRight:`${l} ${-o},${o}`,bottomLeft:`${l} ${-o},${-o}`,topLeft:`${l} ${o},${-o}`}}),s=L(()=>{const o=window.innerWidth,l=window.innerHeight,c=r.value,d=`M${o},0 L0,0 L0,${l} L${o},${l} L${o},0 Z`,p=i.value;return e.pos?`${d} M${e.pos.left+p},${e.pos.top} h${e.pos.width-p*2} ${c.topRight} v${e.pos.height-p*2} ${c.bottomRight} h${-e.pos.width+p*2} ${c.bottomLeft} v${-e.pos.height+p*2} ${c.topLeft} z`:d}),a=L(()=>({fill:e.fill,pointerEvents:"auto",cursor:"auto"}));return py(yn(e,"visible"),{ns:n}),(o,l)=>o.visible?(P(),K("div",Gt({key:0,class:f(n).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:o.zIndex,pointerEvents:o.pos&&o.targetAreaClickable?"none":"auto"}},o.$attrs),[(P(),K("svg",{style:{width:"100%",height:"100%"}},[Z("path",{class:z(f(n).e("hollow")),style:bt(f(a)),d:f(s)},null,14,["d"])]))],16)):he("v-if",!0)}});var iae=We(nae,[["__file","mask.vue"]]);const rae=["absolute","fixed"],sae=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],S_=Ge({placement:{type:_e(String),values:sae,default:"bottom"},reference:{type:_e(Object),default:null},strategy:{type:_e(String),values:rae,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),aae={close:()=>!0},oae=ie({name:"ElTourContent"}),lae=ie({...oae,props:S_,emits:aae,setup(t,{emit:e}){const n=t,i=W(n.placement),r=W(n.strategy),s=W(null),a=W(null);Le(()=>n.placement,()=>{i.value=n.placement});const{contentStyle:o,arrowStyle:l}=Qse(yn(n,"reference"),s,a,i,r,yn(n,"offset"),yn(n,"zIndex"),yn(n,"showArrow")),c=L(()=>i.value.split("-")[0]),{ns:d}=dt(Dp),p=()=>{e("close")},v=g=>{g.detail.focusReason==="pointer"&&g.preventDefault()};return(g,y)=>(P(),K("div",{ref_key:"contentRef",ref:s,style:bt(f(o)),class:z(f(d).e("content")),"data-side":f(c),tabindex:"-1"},[Q(f($d),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":s.value||void 0,onReleaseRequested:p,onFocusoutPrevented:v},{default:te(()=>[oe(g.$slots,"default")]),_:3},8,["focus-trap-el"]),g.showArrow?(P(),K("span",{key:0,ref_key:"arrowRef",ref:a,style:bt(f(l)),class:z(f(d).e("arrow"))},null,6)):he("v-if",!0)],14,["data-side"]))}});var uae=We(lae,[["__file","content.vue"]]),cae=ie({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(t,{slots:e,emit:n}){let i=0;return()=>{var r,s;const a=(r=e.default)==null?void 0:r.call(e),o=[];let l=0;function c(d){Ot(d)&&d.forEach(p=>{var v;((v=(p==null?void 0:p.type)||{})==null?void 0:v.name)==="ElTourStep"&&(o.push(p),l+=1)})}return a.length&&c(ao((s=a[0])==null?void 0:s.children)),i!==l&&(i=l,n("update-total",l)),o.length?o[t.current]:null}}});const dae=Ge({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:En},placement:S_.placement,contentStyle:{type:_e([Object])},mask:{type:_e([Boolean,Object]),default:!0},gap:{type:_e(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:_e([Boolean,Object]),default:()=>({block:"center"})},type:{type:_e(String)},appendTo:{type:_e([String,Object]),default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),fae={[Kt]:t=>Gn(t),"update:current":t=>Pt(t),close:t=>Pt(t),finish:()=>!0,change:t=>Pt(t)},hae=ie({name:"ElTour"}),pae=ie({...hae,props:dae,emits:fae,setup(t,{emit:e}){const n=t,i=Fe("tour"),r=W(0),s=W(),a=g2(n,"current",e,{passive:!0}),o=L(()=>{var U;return(U=s.value)==null?void 0:U.target}),l=L(()=>[i.b(),w.value==="primary"?i.m("primary"):""]),c=L(()=>{var U;return((U=s.value)==null?void 0:U.placement)||n.placement}),d=L(()=>{var U,R;return(R=(U=s.value)==null?void 0:U.contentStyle)!=null?R:n.contentStyle}),p=L(()=>{var U,R;return(R=(U=s.value)==null?void 0:U.mask)!=null?R:n.mask}),v=L(()=>!!p.value&&n.modelValue),g=L(()=>Gn(p.value)?void 0:p.value),y=L(()=>{var U,R;return!!o.value&&((R=(U=s.value)==null?void 0:U.showArrow)!=null?R:n.showArrow)}),_=L(()=>{var U,R;return(R=(U=s.value)==null?void 0:U.scrollIntoViewOptions)!=null?R:n.scrollIntoViewOptions}),w=L(()=>{var U,R;return(R=(U=s.value)==null?void 0:U.type)!=null?R:n.type}),{nextZIndex:b}=oc(),M=b(),E=L(()=>{var U;return(U=n.zIndex)!=null?U:M}),{mergedPosInfo:x,triggerTarget:T}=Zse(o,yn(n,"modelValue"),yn(n,"gap"),p,_);Le(()=>n.modelValue,U=>{U||(a.value=0)});const k=()=>{n.closeOnPressEscape&&(e("update:modelValue",!1),e("close",a.value))},I=U=>{r.value=U},O=Si();return Jt(Dp,{currentStep:s,current:a,total:r,showClose:yn(n,"showClose"),closeIcon:yn(n,"closeIcon"),mergedType:w,ns:i,slots:O,updateModelValue(U){e("update:modelValue",U)},onClose(){e("close",a.value)},onFinish(){e("finish")},onChange(){e("change",a.value)}}),(U,R)=>(P(),K(ct,null,[Q(f(cc),{to:U.appendTo},{default:te(()=>{var N,$;return[Z("div",Gt({class:f(l)},U.$attrs),[Q(iae,{visible:f(v),fill:(N=f(g))==null?void 0:N.color,style:bt(($=f(g))==null?void 0:$.style),pos:f(x),"z-index":f(E),"target-area-clickable":U.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),U.modelValue?(P(),we(uae,{key:f(a),reference:f(T),placement:f(c),"show-arrow":f(y),"z-index":f(E),style:bt(f(d)),onClose:k},{default:te(()=>[Q(f(cae),{current:f(a),onUpdateTotal:I},{default:te(()=>[oe(U.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):he("v-if",!0)],16)]}),_:3},8,["to"]),he(" just for IDE "),he("v-if",!0)],64))}});var mae=We(pae,[["__file","tour.vue"]]);const vae=Ge({target:{type:_e([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:En},showArrow:{type:Boolean,default:void 0},placement:S_.placement,mask:{type:_e([Boolean,Object]),default:void 0},contentStyle:{type:_e([Object])},prevButtonProps:{type:_e(Object)},nextButtonProps:{type:_e(Object)},scrollIntoViewOptions:{type:_e([Boolean,Object]),default:void 0},type:{type:_e(String)}}),gae={close:()=>!0},yae=ie({name:"ElTourStep"}),_ae=ie({...yae,props:vae,emits:gae,setup(t,{emit:e}){const n=t,{Close:i}=uy,{t:r}=rn(),{currentStep:s,current:a,total:o,showClose:l,closeIcon:c,mergedType:d,ns:p,slots:v,updateModelValue:g,onClose:y,onFinish:_,onChange:w}=dt(Dp);Le(n,O=>{s.value=O},{immediate:!0});const b=L(()=>{var O;return(O=n.showClose)!=null?O:l.value}),M=L(()=>{var O,U;return(U=(O=n.closeIcon)!=null?O:c.value)!=null?U:i}),E=O=>{if(O)return sz(O,["children","onClick"])},x=()=>{var O,U;a.value-=1,(O=n.prevButtonProps)!=null&&O.onClick&&((U=n.prevButtonProps)==null||U.onClick()),w()},T=()=>{var O;a.value>=o.value-1?k():a.value+=1,(O=n.nextButtonProps)!=null&&O.onClick&&n.nextButtonProps.onClick(),w()},k=()=>{I(),_()},I=()=>{g(!1),y(),e("close")};return(O,U)=>(P(),K(ct,null,[f(b)?(P(),K("button",{key:0,"aria-label":"Close",class:z(f(p).e("closebtn")),type:"button",onClick:I},[Q(f(ft),{class:z(f(p).e("close"))},{default:te(()=>[(P(),we(zt(f(M))))]),_:1},8,["class"])],2)):he("v-if",!0),Z("header",{class:z([f(p).e("header"),{"show-close":f(l)}])},[oe(O.$slots,"header",{},()=>[Z("span",{role:"heading",class:z(f(p).e("title"))},Ne(O.title),3)])],2),Z("div",{class:z(f(p).e("body"))},[oe(O.$slots,"default",{},()=>[Z("span",null,Ne(O.description),1)])],2),Z("footer",{class:z(f(p).e("footer"))},[Z("div",{class:z(f(p).b("indicators"))},[f(v).indicators?(P(),we(zt(f(v).indicators),{key:0,current:f(a),total:f(o)},null,8,["current","total"])):(P(!0),K(ct,{key:1},Vt(f(o),(R,N)=>(P(),K("span",{key:R,class:z([f(p).b("indicator"),N===f(a)?"is-active":""])},null,2))),128))],2),Z("div",{class:z(f(p).b("buttons"))},[f(a)>0?(P(),we(f(Ni),Gt({key:0,size:"small",type:f(d)},E(O.prevButtonProps),{onClick:x}),{default:te(()=>{var R,N;return[pt(Ne((N=(R=O.prevButtonProps)==null?void 0:R.children)!=null?N:f(r)("el.tour.previous")),1)]}),_:1},16,["type"])):he("v-if",!0),f(a)<=f(o)-1?(P(),we(f(Ni),Gt({key:1,size:"small",type:f(d)==="primary"?"default":"primary"},E(O.nextButtonProps),{onClick:T}),{default:te(()=>{var R,N;return[pt(Ne((N=(R=O.nextButtonProps)==null?void 0:R.children)!=null?N:f(a)===f(o)-1?f(r)("el.tour.finish"):f(r)("el.tour.next")),1)]}),_:1},16,["type"])):he("v-if",!0)],2)],2)],64))}});var mk=We(_ae,[["__file","step.vue"]]);const bae=Ft(mae,{TourStep:mk}),wae=Vn(mk),Sae=Ge({container:{type:_e([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:_e(String),default:"default"},direction:{type:_e(String),default:"vertical"}}),Eae={change:t=>Wt(t),click:(t,e)=>t instanceof MouseEvent&&(Wt(e)||Hn(e))},vk=Symbol("anchor"),Cae=ie({name:"ElAnchor"}),xae=ie({...Cae,props:Sae,emits:Eae,setup(t,{expose:e,emit:n}){const i=t,r=W(""),s=W(null),a=W(null),o=W(),l={};let c=!1,d=0;const p=Fe("anchor"),v=L(()=>[p.b(),i.type==="underline"?p.m("underline"):"",p.m(i.direction)]),g=O=>{l[O.href]=O.el},y=O=>{delete l[O]},_=O=>{r.value!==O&&(r.value=O,n("change",O))};let w=null;const b=O=>{if(!o.value)return;const U=of(O);if(!U)return;w&&w(),c=!0;const R=h1(U,o.value),N=Uv(U,R),$=R.scrollHeight-R.clientHeight,J=Math.min(N-i.offset,$);w=yz(o.value,d,J,i.duration,()=>{setTimeout(()=>{c=!1},20)})},M=O=>{O&&(_(O),b(O))},E=(O,U)=>{n("click",O,U),M(U)},x=Tz(()=>{o.value&&(d=p1(o.value));const O=T();c||Hn(O)||_(O)}),T=()=>{if(!o.value)return;const O=p1(o.value),U=[];for(const R of Object.keys(l)){const N=of(R);if(!N)continue;const $=h1(N,o.value),J=Uv(N,$);U.push({top:J-i.offset-i.bound,href:R})}U.sort((R,N)=>R.top-N.top);for(let R=0;R<U.length;R++){const N=U[R],$=U[R+1];if(R===0&&O===0)return"";if(N.top<=O&&(!$||$.top>O))return N.href}},k=()=>{const O=of(i.container);!O||yp(O)?o.value=window:o.value=O};bn(o,"scroll",x);const I=L(()=>{if(!s.value||!a.value||!r.value)return{};const O=l[r.value];if(!O)return{};const U=s.value.getBoundingClientRect(),R=a.value.getBoundingClientRect(),N=O.getBoundingClientRect();return i.direction==="horizontal"?{left:`${N.left-U.left}px`,width:`${N.width}px`,opacity:1}:{top:`${N.top-U.top+(N.height-R.height)/2}px`,opacity:1}});return St(()=>{k();const O=decodeURIComponent(window.location.hash);of(O)?M(O):x()}),Le(()=>i.container,()=>{k()}),Jt(vk,{ns:p,direction:i.direction,currentAnchor:r,addLink:g,removeLink:y,handleClick:E}),e({scrollTo:M}),(O,U)=>(P(),K("div",{ref_key:"anchorRef",ref:s,class:z(f(v))},[O.marker?(P(),K("div",{key:0,ref_key:"markerRef",ref:a,class:z(f(p).e("marker")),style:bt(f(I))},null,6)):he("v-if",!0),Z("div",{class:z(f(p).e("list"))},[oe(O.$slots,"default")],2)],2))}});var Mae=We(xae,[["__file","anchor.vue"]]);const Tae=Ge({title:String,href:String}),Aae=ie({name:"ElAnchorLink"}),kae=ie({...Aae,props:Tae,setup(t){const e=t,n=W(null),{ns:i,direction:r,currentAnchor:s,addLink:a,removeLink:o,handleClick:l}=dt(vk),c=L(()=>[i.e("link"),i.is("active",s.value===e.href)]),d=p=>{l(p,e.href)};return Le(()=>e.href,(p,v)=>{_t(()=>{v&&o(v),p&&a({href:p,el:n.value})})}),St(()=>{const{href:p}=e;p&&a({href:p,el:n.value})}),Tn(()=>{const{href:p}=e;p&&o(p)}),(p,v)=>(P(),K("div",{class:z(f(i).e("item"))},[Z("a",{ref_key:"linkRef",ref:n,class:z(f(c)),href:p.href,onClick:d},[oe(p.$slots,"default",{},()=>[pt(Ne(p.title),1)])],10,["href"]),p.$slots["sub-link"]&&f(r)==="vertical"?(P(),K("div",{key:0,class:z(f(i).e("list"))},[oe(p.$slots,"sub-link")],2)):he("v-if",!0)],2))}});var gk=We(kae,[["__file","anchor-link.vue"]]);const Pae=Ft(Mae,{AnchorLink:gk}),Rae=Vn(gk),Iae=Ge({options:{type:_e(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},block:Boolean,size:_i,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...$i(["ariaLabel"])}),Lae={[Kt]:t=>Wt(t)||Pt(t)||Gn(t),[Nn]:t=>Wt(t)||Pt(t)||Gn(t)},Nae=ie({name:"ElSegmented"}),Oae=ie({...Nae,props:Iae,emits:Lae,setup(t,{emit:e}){const n=t,i=Fe("segmented"),r=zi(),s=pi(),a=ar(),{formItem:o}=or(),{inputId:l,isLabeledByFormItem:c}=Gs(n,{formItemContext:o}),d=W(null),p=oF(),v=Xt({isInit:!1,width:0,translateX:0,focusVisible:!1}),g=U=>{const R=y(U);e(Kt,R),e(Nn,R)},y=U=>Sn(U)?U.value:U,_=U=>Sn(U)?U.label:U,w=U=>!!(a.value||Sn(U)&&U.disabled),b=U=>n.modelValue===y(U),M=U=>n.options.find(R=>y(R)===U),E=U=>[i.e("item"),i.is("selected",b(U)),i.is("disabled",w(U))],x=()=>{if(!d.value)return;const U=d.value.querySelector(".is-selected"),R=d.value.querySelector(".is-selected input");if(!U||!R){v.width=0,v.translateX=0,v.focusVisible=!1;return}const N=U.getBoundingClientRect();v.isInit=!0,v.width=N.width,v.translateX=U.offsetLeft;try{v.focusVisible=R.matches(":focus-visible")}catch{}},T=L(()=>[i.b(),i.m(s.value),i.is("block",n.block)]),k=L(()=>({width:`${v.width}px`,transform:`translateX(${v.translateX}px)`,display:v.isInit?"block":"none"})),I=L(()=>[i.e("item-selected"),i.is("disabled",w(M(n.modelValue))),i.is("focus-visible",v.focusVisible)]),O=L(()=>n.name||r.value);return Fn(d,x),Le(p,x),Le(()=>n.modelValue,()=>{var U;x(),n.validateEvent&&((U=o==null?void 0:o.validate)==null||U.call(o,"change").catch(R=>void 0))},{flush:"post"}),(U,R)=>(P(),K("div",{id:f(l),ref_key:"segmentedRef",ref:d,class:z(f(T)),role:"radiogroup","aria-label":f(c)?void 0:U.ariaLabel||"segmented","aria-labelledby":f(c)?f(o).labelId:void 0},[Z("div",{class:z(f(i).e("group"))},[Z("div",{style:bt(f(k)),class:z(f(I))},null,6),(P(!0),K(ct,null,Vt(U.options,(N,$)=>(P(),K("label",{key:$,class:z(E(N))},[Z("input",{class:z(f(i).e("item-input")),type:"radio",name:f(O),disabled:w(N),checked:b(N),onChange:J=>g(N)},null,42,["name","disabled","checked","onChange"]),Z("div",{class:z(f(i).e("item-label"))},[oe(U.$slots,"default",{item:N},()=>[pt(Ne(_(N)),1)])],2)],2))),128))],2)],10,["id","aria-label","aria-labelledby"]))}});var Dae=We(Oae,[["__file","segmented.vue"]]);const Fae=Ft(Dae),Bae=(t,e)=>{const n=t.toLowerCase();return(e.label||e.value).toLowerCase().includes(n)},Uae=(t,e,n)=>{const{selectionEnd:i}=t;if(i===null)return;const r=t.value,s=Qi(e);let a=-1,o;for(let l=i-1;l>=0;--l){const c=r[l];if(c===n||c===`
`||c==="\r"){a=l;continue}if(s.includes(c)){const d=a===-1?i:a;o={pattern:r.slice(l+1,d),start:l+1,end:d,prefix:c,prefixIndex:l,splitIndex:a,selectionEnd:i};break}}return o},Vae=(t,e={debug:!1,useSelectionEnd:!1})=>{const n=t.selectionStart!==null?t.selectionStart:0,i=t.selectionEnd!==null?t.selectionEnd:0,r=e.useSelectionEnd?i:n,s=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"];if(e.debug){const v=document.querySelector("#input-textarea-caret-position-mirror-div");v!=null&&v.parentNode&&v.parentNode.removeChild(v)}const a=document.createElement("div");a.id="input-textarea-caret-position-mirror-div",document.body.appendChild(a);const o=a.style,l=window.getComputedStyle(t),c=t.nodeName==="INPUT";o.whiteSpace=c?"nowrap":"pre-wrap",c||(o.wordWrap="break-word"),o.position="absolute",e.debug||(o.visibility="hidden"),s.forEach(v=>{if(c&&v==="lineHeight")if(l.boxSizing==="border-box"){const g=Number.parseInt(l.height),y=Number.parseInt(l.paddingTop)+Number.parseInt(l.paddingBottom)+Number.parseInt(l.borderTopWidth)+Number.parseInt(l.borderBottomWidth),_=y+Number.parseInt(l.lineHeight);g>_?o.lineHeight=`${g-y}px`:g===_?o.lineHeight=l.lineHeight:o.lineHeight="0"}else o.lineHeight=l.height;else o[v]=l[v]}),z0()?t.scrollHeight>Number.parseInt(l.height)&&(o.overflowY="scroll"):o.overflow="hidden",a.textContent=t.value.slice(0,Math.max(0,r)),c&&a.textContent&&(a.textContent=a.textContent.replace(/\s/g," "));const d=document.createElement("span");d.textContent=t.value.slice(Math.max(0,r))||".",d.style.position="relative",d.style.left=`${-t.scrollLeft}px`,d.style.top=`${-t.scrollTop}px`,a.appendChild(d);const p={top:d.offsetTop+Number.parseInt(l.borderTopWidth),left:d.offsetLeft+Number.parseInt(l.borderLeftWidth),height:Number.parseInt(l.fontSize)*1.5};return e.debug?d.style.backgroundColor="#aaa":document.body.removeChild(a),p.left>=t.clientWidth&&(p.left=t.clientWidth),p},zae=Ge({...Ly,options:{type:_e(Array),default:()=>[]},prefix:{type:_e([String,Array]),default:"@",validator:t=>Wt(t)?t.length===1:t.every(e=>Wt(e)&&e.length===1)},split:{type:String,default:" ",validator:t=>t.length===1},filterOption:{type:_e([Boolean,Function]),default:()=>Bae,validator:t=>t===!1?!0:cn(t)},placement:{type:_e(String),default:"bottom"},showArrow:Boolean,offset:{type:Number,default:0},whole:Boolean,checkIsWhole:{type:_e(Function)},modelValue:String,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:_e(Object),default:()=>({})}}),$ae={[Kt]:t=>Wt(t),search:(t,e)=>Wt(t)&&Wt(e),select:(t,e)=>Wt(t.value)&&Wt(e),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},Hae=Ge({options:{type:_e(Array),default:()=>[]},loading:Boolean,disabled:Boolean,contentId:String,ariaLabel:String}),Gae={select:t=>Wt(t.value)},Wae=ie({name:"ElMentionDropdown"}),Kae=ie({...Wae,props:Hae,emits:Gae,setup(t,{expose:e,emit:n}){const i=t,r=Fe("mention"),{t:s}=rn(),a=W(-1),o=W(),l=W(),c=W(),d=(E,x)=>[r.be("dropdown","item"),r.is("hovering",a.value===x),r.is("disabled",E.disabled||i.disabled)],p=E=>{E.disabled||i.disabled||n("select",E)},v=E=>{a.value=E},g=L(()=>i.disabled||i.options.every(E=>E.disabled)),y=L(()=>i.options[a.value]),_=()=>{y.value&&n("select",y.value)},w=E=>{const{options:x}=i;if(x.length===0||g.value)return;E==="next"?(a.value++,a.value===x.length&&(a.value=0)):E==="prev"&&(a.value--,a.value<0&&(a.value=x.length-1));const T=x[a.value];if(T.disabled){w(E);return}_t(()=>b(T))},b=E=>{var x,T,k,I;const{options:O}=i,U=O.findIndex(N=>N.value===E.value),R=(x=l.value)==null?void 0:x[U];if(R){const N=(k=(T=c.value)==null?void 0:T.querySelector)==null?void 0:k.call(T,`.${r.be("dropdown","wrap")}`);N&&ly(N,R)}(I=o.value)==null||I.handleScroll()};return Le(()=>i.options,()=>{g.value||i.options.length===0?a.value=-1:a.value=0},{immediate:!0}),e({hoveringIndex:a,navigateOptions:w,selectHoverOption:_,hoverOption:y}),(E,x)=>(P(),K("div",{ref_key:"dropdownRef",ref:c,class:z(f(r).b("dropdown"))},[E.$slots.header?(P(),K("div",{key:0,class:z(f(r).be("dropdown","header"))},[oe(E.$slots,"header")],2)):he("v-if",!0),Ut(Q(f(fa),{id:E.contentId,ref_key:"scrollbarRef",ref:o,tag:"ul","wrap-class":f(r).be("dropdown","wrap"),"view-class":f(r).be("dropdown","list"),role:"listbox","aria-label":E.ariaLabel,"aria-orientation":"vertical"},{default:te(()=>[(P(!0),K(ct,null,Vt(E.options,(T,k)=>(P(),K("li",{id:`${E.contentId}-${k}`,ref_for:!0,ref_key:"optionRefs",ref:l,key:T.value,class:z(d(T,k)),role:"option","aria-disabled":T.disabled||E.disabled||void 0,"aria-selected":a.value===k,onMouseenter:I=>v(k),onClick:Mt(I=>p(T),["stop"])},[oe(E.$slots,"label",{item:T,index:k},()=>{var I;return[Z("span",null,Ne((I=T.label)!=null?I:T.value),1)]})],42,["id","aria-disabled","aria-selected","onMouseenter","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class","aria-label"]),[[on,E.options.length>0&&!E.loading]]),E.loading?(P(),K("div",{key:1,class:z(f(r).be("dropdown","loading"))},[oe(E.$slots,"loading",{},()=>[pt(Ne(f(s)("el.mention.loading")),1)])],2)):he("v-if",!0),E.$slots.footer?(P(),K("div",{key:2,class:z(f(r).be("dropdown","footer"))},[oe(E.$slots,"footer")],2)):he("v-if",!0)],2))}});var qae=We(Kae,[["__file","mention-dropdown.vue"]]);const Yae=ie({name:"ElMention"}),jae=ie({...Yae,props:zae,emits:$ae,setup(t,{expose:e,emit:n}){const i=t,r=L(()=>Ls(i,Object.keys(Ly))),s=Fe("mention"),a=ar(),o=zi(),l=W(),c=W(),d=W(),p=W(!1),v=W(),g=W(),y=L(()=>i.showArrow?i.placement:`${i.placement}-start`),_=L(()=>i.showArrow?["bottom","top"]:["bottom-start","top-start"]),w=L(()=>{const{filterOption:$,options:J}=i;return!g.value||!$?J:J.filter(Y=>$(g.value.pattern,Y))}),b=L(()=>p.value&&(!!w.value.length||i.loading)),M=L(()=>{var $;return`${o.value}-${($=d.value)==null?void 0:$.hoveringIndex}`}),E=$=>{n("update:modelValue",$),U()},x=$=>{var J,Y,H,B;if("key"in $&&!((J=l.value)!=null&&J.isComposing)){if(["ArrowLeft","ArrowRight"].includes($.key))U();else if(["ArrowUp","ArrowDown"].includes($.key)){if(!p.value)return;$.preventDefault();const X=$.key==="ArrowUp"?"prev":"next";(Y=d.value)==null||Y.navigateOptions(X)}else if(["Enter"].includes($.key)){if(!p.value)return;$.preventDefault(),(H=d.value)!=null&&H.hoverOption?(B=d.value)==null||B.selectHoverOption():p.value=!1}else if(["Escape"].includes($.key)){if(!p.value)return;$.preventDefault(),p.value=!1}else if(["Backspace"].includes($.key)&&i.whole&&g.value){const{splitIndex:X,selectionEnd:q,pattern:D,prefixIndex:V,prefix:ee}=g.value,ce=O();if(!ce)return;const ae=ce.value,le=i.options.find(Ee=>Ee.value===D);if((cn(i.checkIsWhole)?i.checkIsWhole(D,ee):le)&&X!==-1&&X+1===q){$.preventDefault();const Ee=ae.slice(0,V)+ae.slice(X+1);n(Kt,Ee);const pe=V;_t(()=>{ce.selectionStart=pe,ce.selectionEnd=pe,N()})}}}},{wrapperRef:T}=Vd(l,{beforeFocus(){return a.value},afterFocus(){U()},beforeBlur($){var J;return(J=c.value)==null?void 0:J.isFocusInsideContent($)},afterBlur(){p.value=!1}}),k=()=>{U()},I=$=>{if(!g.value)return;const J=O();if(!J)return;const Y=J.value,{split:H}=i,B=Y.slice(g.value.end),X=B.startsWith(H),q=`${$.value}${X?"":H}`,D=Y.slice(0,g.value.start)+q+B;n(Kt,D),n("select",$,g.value.prefix);const V=g.value.start+q.length+(X?1:0);_t(()=>{J.selectionStart=V,J.selectionEnd=V,J.focus(),N()})},O=()=>{var $,J;return i.type==="textarea"?($=l.value)==null?void 0:$.textarea:(J=l.value)==null?void 0:J.input},U=()=>{setTimeout(()=>{R(),N(),_t(()=>{var $;return($=c.value)==null?void 0:$.updatePopper()})},0)},R=()=>{const $=O();if(!$)return;const J=Vae($),Y=$.getBoundingClientRect(),H=l.value.$el.getBoundingClientRect();v.value={position:"absolute",width:0,height:`${J.height}px`,left:`${J.left+Y.left-H.left}px`,top:`${J.top+Y.top-H.top}px`}},N=()=>{const $=O();if(document.activeElement!==$){p.value=!1;return}const{prefix:J,split:Y}=i;if(g.value=Uae($,J,Y),g.value&&g.value.splitIndex===-1){p.value=!0,n("search",g.value.pattern,g.value.prefix);return}p.value=!1};return e({input:l,tooltip:c}),($,J)=>(P(),K("div",{ref_key:"wrapperRef",ref:T,class:z(f(s).b())},[Q(f(tr),Gt(Gt(f(r),$.$attrs),{ref_key:"elInputRef",ref:l,"model-value":$.modelValue,disabled:f(a),role:f(b)?"combobox":void 0,"aria-activedescendant":f(b)?f(M)||"":void 0,"aria-controls":f(b)?f(o):void 0,"aria-expanded":f(b)||void 0,"aria-label":$.ariaLabel,"aria-autocomplete":f(b)?"none":void 0,"aria-haspopup":f(b)?"listbox":void 0,onInput:E,onKeydown:x,onMousedown:k}),hs({_:2},[Vt($.$slots,(Y,H)=>({name:H,fn:te(B=>[oe($.$slots,H,Is(gl(B)))])}))]),1040,["model-value","disabled","role","aria-activedescendant","aria-controls","aria-expanded","aria-label","aria-autocomplete","aria-haspopup"]),Q(f(vi),{ref_key:"tooltipRef",ref:c,visible:f(b),"popper-class":[f(s).e("popper"),$.popperClass],"popper-options":$.popperOptions,placement:f(y),"fallback-placements":f(_),effect:"light",pure:"",offset:$.offset,"show-arrow":$.showArrow},{default:te(()=>[Z("div",{style:bt(v.value)},null,4)]),content:te(()=>{var Y;return[Q(qae,{ref_key:"dropdownRef",ref:d,options:f(w),disabled:f(a),loading:$.loading,"content-id":f(o),"aria-label":$.ariaLabel,onSelect:I,onClick:Mt((Y=l.value)==null?void 0:Y.focus,["stop"])},hs({_:2},[Vt($.$slots,(H,B)=>({name:B,fn:te(X=>[oe($.$slots,B,Is(gl(X)))])}))]),1032,["options","disabled","loading","content-id","aria-label","onClick"])]}),_:3},8,["visible","popper-class","popper-options","placement","fallback-placements","offset","show-arrow"])],2))}});var Xae=We(jae,[["__file","mention.vue"]]);const Zae=Ft(Xae);var Jae=[jH,aG,xW,yie,RW,BW,CM,XW,ZW,Ni,RM,uK,pK,MK,TK,Tq,pT,Lq,gs,zK,sT,Wq,oY,lY,Hd,LY,zH,WY,KY,qY,YY,jY,zj,Zj,Jj,cX,jy,bX,uZ,cZ,dZ,KT,JG,QG,ft,kZ,qT,tr,YT,VZ,aJ,oJ,lJ,uJ,mJ,aQ,fQ,wQ,wM,iA,fT,eq,QK,RQ,DQ,Vq,fa,xl,Nh,VJ,wee,kee,Pee,ite,lte,SA,_te,Ate,kte,Ote,Lne,Nne,gie,Iie,Lie,hd,Bie,H7,Gie,jie,Xie,vi,wre,Nre,Hh,Qre,vse,Use,jse,bae,wae,Pae,Rae,Fae,Zae];const as="ElInfiniteScroll",Qae=50,eoe=200,toe=0,noe={delay:{type:Number,default:eoe},distance:{type:Number,default:toe},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},E_=(t,e)=>Object.entries(noe).reduce((n,[i,r])=>{var s,a;const{type:o,default:l}=r,c=t.getAttribute(`infinite-scroll-${i}`);let d=(a=(s=e[c])!=null?s:c)!=null?a:l;return d=d==="false"?!1:d,d=o(d),n[i]=Number.isNaN(d)?l:d,n},{}),yk=t=>{const{observer:e}=t[as];e&&(e.disconnect(),delete t[as].observer)},ioe=(t,e)=>{const{container:n,containerEl:i,instance:r,observer:s,lastScrollTop:a}=t[as],{disabled:o,distance:l}=E_(t,r),{clientHeight:c,scrollHeight:d,scrollTop:p}=i,v=p-a;if(t[as].lastScrollTop=p,s||o||v<0)return;let g=!1;if(n===t)g=d-(c+p)<=l;else{const{clientTop:y,scrollHeight:_}=t,w=Uv(t,i);g=p+c>=w+y+_-l}g&&e.call(r)};function Vm(t,e){const{containerEl:n,instance:i}=t[as],{disabled:r}=E_(t,i);r||n.clientHeight===0||(n.scrollHeight<=n.clientHeight?e.call(i):yk(t))}const roe={async mounted(t,e){const{instance:n,value:i}=e;cn(i)||yi(as,"'v-infinite-scroll' binding value must be a function"),await _t();const{delay:r,immediate:s}=E_(t,n),a=oy(t,!0),o=a===window?document.documentElement:a,l=ll(ioe.bind(null,t,i),r);if(a){if(t[as]={instance:n,container:a,containerEl:o,delay:r,cb:i,onScroll:l,lastScrollTop:o.scrollTop},s){const c=new MutationObserver(ll(Vm.bind(null,t,i),Qae));t[as].observer=c,c.observe(t,{childList:!0,subtree:!0}),Vm(t,i)}a.addEventListener("scroll",l)}},unmounted(t){if(!t[as])return;const{container:e,onScroll:n}=t[as];e==null||e.removeEventListener("scroll",n),yk(t)},async updated(t){if(!t[as])await _t();else{const{containerEl:e,cb:n,observer:i}=t[as];e.clientHeight&&i&&Vm(t,n)}}},Yg=roe;Yg.install=t=>{t.directive("InfiniteScroll",Yg)};const soe=Yg;function aoe(t){let e;const n=W(!1),i=Xt({...t,originalPosition:"",originalOverflow:"",visible:!1});function r(v){i.text=v}function s(){const v=i.parent,g=p.ns;if(!v.vLoadingAddClassList){let y=v.getAttribute("loading-number");y=Number.parseInt(y)-1,y?v.setAttribute("loading-number",y.toString()):(rr(v,g.bm("parent","relative")),v.removeAttribute("loading-number")),rr(v,g.bm("parent","hidden"))}a(),d.unmount()}function a(){var v,g;(g=(v=p.$el)==null?void 0:v.parentNode)==null||g.removeChild(p.$el)}function o(){var v;t.beforeClose&&!t.beforeClose()||(n.value=!0,clearTimeout(e),e=setTimeout(l,400),i.visible=!1,(v=t.closed)==null||v.call(t))}function l(){if(!n.value)return;const v=i.parent;n.value=!1,v.vLoadingAddClassList=void 0,s()}const c=ie({name:"ElLoading",setup(v,{expose:g}){const{ns:y,zIndex:_}=Tp("loading");return g({ns:y,zIndex:_}),()=>{const w=i.spinner||i.svg,b=Ct("svg",{class:"circular",viewBox:i.svgViewBox?i.svgViewBox:"0 0 50 50",...w?{innerHTML:w}:{}},[Ct("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),M=i.text?Ct("p",{class:y.b("text")},[i.text]):void 0;return Ct(di,{name:y.b("fade"),onAfterLeave:l},{default:te(()=>[Ut(Q("div",{style:{backgroundColor:i.background||""},class:[y.b("mask"),i.customClass,i.fullscreen?"is-fullscreen":""]},[Ct("div",{class:y.b("spinner")},[b,M])]),[[on,i.visible]])])})}}}),d=KR(c),p=d.mount(document.createElement("div"));return{...Oi(i),setText:r,removeElLoadingChild:a,close:o,handleAfterLeave:l,vm:p,get $el(){return p.$el}}}let wf;const jg=function(t={}){if(!nn)return;const e=ooe(t);if(e.fullscreen&&wf)return wf;const n=aoe({...e,closed:()=>{var r;(r=e.closed)==null||r.call(e),e.fullscreen&&(wf=void 0)}});loe(e,e.parent,n),rS(e,e.parent,n),e.parent.vLoadingAddClassList=()=>rS(e,e.parent,n);let i=e.parent.getAttribute("loading-number");return i?i=`${Number.parseInt(i)+1}`:i="1",e.parent.setAttribute("loading-number",i),e.parent.appendChild(n.$el),_t(()=>n.visible.value=e.visible),e.fullscreen&&(wf=n),n},ooe=t=>{var e,n,i,r;let s;return Wt(t.target)?s=(e=document.querySelector(t.target))!=null?e:document.body:s=t.target||document.body,{parent:s===document.body||t.body?document.body:s,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:s===document.body&&((n=t.fullscreen)!=null?n:!0),lock:(i=t.lock)!=null?i:!1,customClass:t.customClass||"",visible:(r=t.visible)!=null?r:!0,beforeClose:t.beforeClose,closed:t.closed,target:s}},loe=async(t,e,n)=>{const{nextZIndex:i}=n.vm.zIndex||n.vm._.exposed.zIndex,r={};if(t.fullscreen)n.originalPosition.value=to(document.body,"position"),n.originalOverflow.value=to(document.body,"overflow"),r.zIndex=i();else if(t.parent===document.body){n.originalPosition.value=to(document.body,"position"),await _t();for(const s of["top","left"]){const a=s==="top"?"scrollTop":"scrollLeft";r[s]=`${t.target.getBoundingClientRect()[s]+document.body[a]+document.documentElement[a]-Number.parseInt(to(document.body,`margin-${s}`),10)}px`}for(const s of["height","width"])r[s]=`${t.target.getBoundingClientRect()[s]}px`}else n.originalPosition.value=to(e,"position");for(const[s,a]of Object.entries(r))n.$el.style[s]=a},rS=(t,e,n)=>{const i=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?rr(e,i.bm("parent","relative")):us(e,i.bm("parent","relative")),t.fullscreen&&t.lock?us(e,i.bm("parent","hidden")):rr(e,i.bm("parent","hidden"))},mh=Symbol("ElLoading"),sS=(t,e)=>{var n,i,r,s;const a=e.instance,o=v=>Sn(e.value)?e.value[v]:void 0,l=v=>{const g=Wt(v)&&(a==null?void 0:a[v])||v;return g&&W(g)},c=v=>l(o(v)||t.getAttribute(`element-loading-${qR(v)}`)),d=(n=o("fullscreen"))!=null?n:e.modifiers.fullscreen,p={text:c("text"),svg:c("svg"),svgViewBox:c("svgViewBox"),spinner:c("spinner"),background:c("background"),customClass:c("customClass"),fullscreen:d,target:(i=o("target"))!=null?i:d?void 0:t,body:(r=o("body"))!=null?r:e.modifiers.body,lock:(s=o("lock"))!=null?s:e.modifiers.lock};t[mh]={options:p,instance:jg(p)}},uoe=(t,e)=>{for(const n of Object.keys(e))nr(e[n])&&(e[n].value=t[n])},aS={mounted(t,e){e.value&&sS(t,e)},updated(t,e){const n=t[mh];e.oldValue!==e.value&&(e.value&&!e.oldValue?sS(t,e):e.value&&e.oldValue?Sn(e.value)&&uoe(e.value,n.options):n==null||n.instance.close())},unmounted(t){var e;(e=t[mh])==null||e.instance.close(),t[mh]=null}},coe={install(t){t.directive("loading",aS),t.config.globalProperties.$loading=jg},directive:aS,service:jg},_k=["success","info","warning","error"],Ji=Un({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:nn?document.body:void 0}),doe=Ge({customClass:{type:String,default:Ji.customClass},center:{type:Boolean,default:Ji.center},dangerouslyUseHTMLString:{type:Boolean,default:Ji.dangerouslyUseHTMLString},duration:{type:Number,default:Ji.duration},icon:{type:En,default:Ji.icon},id:{type:String,default:Ji.id},message:{type:_e([String,Object,Function]),default:Ji.message},onClose:{type:_e(Function),default:Ji.onClose},showClose:{type:Boolean,default:Ji.showClose},type:{type:String,values:_k,default:Ji.type},plain:{type:Boolean,default:Ji.plain},offset:{type:Number,default:Ji.offset},zIndex:{type:Number,default:Ji.zIndex},grouping:{type:Boolean,default:Ji.grouping},repeatNum:{type:Number,default:Ji.repeatNum}}),foe={destroy:()=>!0},Ns=YR([]),hoe=t=>{const e=Ns.findIndex(r=>r.id===t),n=Ns[e];let i;return e>0&&(i=Ns[e-1]),{current:n,prev:i}},poe=t=>{const{prev:e}=hoe(t);return e?e.vm.exposed.bottom.value:0},moe=(t,e)=>Ns.findIndex(i=>i.id===t)>0?16:e,voe=ie({name:"ElMessage"}),goe=ie({...voe,props:doe,emits:foe,setup(t,{expose:e}){const n=t,{Close:i}=cy,{ns:r,zIndex:s}=Tp("message"),{currentZIndex:a,nextZIndex:o}=s,l=W(),c=W(!1),d=W(0);let p;const v=L(()=>n.type?n.type==="error"?"danger":n.type:"info"),g=L(()=>{const I=n.type;return{[r.bm("icon",I)]:I&&_o[I]}}),y=L(()=>n.icon||_o[n.type]||""),_=L(()=>poe(n.id)),w=L(()=>moe(n.id,n.offset)+_.value),b=L(()=>d.value+w.value),M=L(()=>({top:`${w.value}px`,zIndex:a.value}));function E(){n.duration!==0&&({stop:p}=yl(()=>{T()},n.duration))}function x(){p==null||p()}function T(){c.value=!1}function k({code:I}){I===Et.esc&&T()}return St(()=>{E(),o(),c.value=!0}),Le(()=>n.repeatNum,()=>{x(),E()}),bn(document,"keydown",k),Fn(l,()=>{d.value=l.value.getBoundingClientRect().height}),e({visible:c,bottom:b,close:T}),(I,O)=>(P(),we(di,{name:f(r).b("fade"),onBeforeLeave:I.onClose,onAfterLeave:U=>I.$emit("destroy"),persisted:""},{default:te(()=>[Ut(Z("div",{id:I.id,ref_key:"messageRef",ref:l,class:z([f(r).b(),{[f(r).m(I.type)]:I.type},f(r).is("center",I.center),f(r).is("closable",I.showClose),f(r).is("plain",I.plain),I.customClass]),style:bt(f(M)),role:"alert",onMouseenter:x,onMouseleave:E},[I.repeatNum>1?(P(),we(f(CM),{key:0,value:I.repeatNum,type:f(v),class:z(f(r).e("badge"))},null,8,["value","type","class"])):he("v-if",!0),f(y)?(P(),we(f(ft),{key:1,class:z([f(r).e("icon"),f(g)])},{default:te(()=>[(P(),we(zt(f(y))))]),_:1},8,["class"])):he("v-if",!0),oe(I.$slots,"default",{},()=>[I.dangerouslyUseHTMLString?(P(),K(ct,{key:1},[he(" Caution here, message could've been compromised, never use user's input as message "),Z("p",{class:z(f(r).e("content")),innerHTML:I.message},null,10,["innerHTML"])],2112)):(P(),K("p",{key:0,class:z(f(r).e("content"))},Ne(I.message),3))]),I.showClose?(P(),we(f(ft),{key:2,class:z(f(r).e("closeBtn")),onClick:Mt(T,["stop"])},{default:te(()=>[Q(f(i))]),_:1},8,["class","onClick"])):he("v-if",!0)],46,["id"]),[[on,c.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var yoe=We(goe,[["__file","message.vue"]]);let _oe=1;const bk=t=>{const e=!t||Wt(t)||ri(t)||cn(t)?{message:t}:t,n={...Ji,...e};if(!n.appendTo)n.appendTo=document.body;else if(Wt(n.appendTo)){let i=document.querySelector(n.appendTo);Yr(i)||(i=document.body),n.appendTo=i}return Gn(As.grouping)&&!n.grouping&&(n.grouping=As.grouping),Pt(As.duration)&&n.duration===3e3&&(n.duration=As.duration),Pt(As.offset)&&n.offset===16&&(n.offset=As.offset),Gn(As.showClose)&&!n.showClose&&(n.showClose=As.showClose),n},boe=t=>{const e=Ns.indexOf(t);if(e===-1)return;Ns.splice(e,1);const{handler:n}=t;n.close()},woe=({appendTo:t,...e},n)=>{const i=`message_${_oe++}`,r=e.onClose,s=document.createElement("div"),a={...e,id:i,onClose:()=>{r==null||r(),boe(d)},onDestroy:()=>{ho(null,s)}},o=Q(yoe,a,cn(a.message)||ri(a.message)?{default:cn(a.message)?a.message:()=>a.message}:null);o.appContext=n||qu._context,ho(o,s),t.appendChild(s.firstElementChild);const l=o.component,d={id:i,vnode:o,vm:l,handler:{close:()=>{l.exposed.visible.value=!1}},props:o.component.props};return d},qu=(t={},e)=>{if(!nn)return{close:()=>{}};const n=bk(t);if(n.grouping&&Ns.length){const r=Ns.find(({vnode:s})=>{var a;return((a=s.props)==null?void 0:a.message)===n.message});if(r)return r.props.repeatNum+=1,r.props.type=n.type,r.handler}if(Pt(As.max)&&Ns.length>=As.max)return{close:()=>{}};const i=woe(n,e);return Ns.push(i),i.handler};_k.forEach(t=>{qu[t]=(e={},n)=>{const i=bk(e);return qu({...i,type:t},n)}});function Soe(t){for(const e of Ns)(!t||t===e.props.type)&&e.handler.close()}qu.closeAll=Soe;qu._context=null;const rl=Mx(qu,"$message"),Eoe=ie({name:"ElMessageBox",directives:{TrapFocus:A7},components:{ElButton:Ni,ElFocusTrap:$d,ElInput:tr,ElOverlay:Yy,ElIcon:ft,...cy},inheritAttrs:!1,props:{buttonSize:{type:String,validator:Tx},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(t,{emit:e}){const{locale:n,zIndex:i,ns:r,size:s}=Tp("message-box",L(()=>t.buttonSize)),{t:a}=n,{nextZIndex:o}=i,l=W(!1),c=Xt({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:ol(ra),cancelButtonLoadingIcon:ol(ra),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:o()}),d=L(()=>{const B=c.type;return{[r.bm("icon",B)]:B&&_o[B]}}),p=zi(),v=zi(),g=L(()=>c.icon||_o[c.type]||""),y=L(()=>!!c.message),_=W(),w=W(),b=W(),M=W(),E=W(),x=L(()=>c.confirmButtonClass);Le(()=>c.inputValue,async B=>{await _t(),t.boxType==="prompt"&&B!==null&&$()},{immediate:!0}),Le(()=>l.value,B=>{var X,q;B&&(t.boxType!=="prompt"&&(c.autofocus?b.value=(q=(X=E.value)==null?void 0:X.$el)!=null?q:_.value:b.value=_.value),c.zIndex=o()),t.boxType==="prompt"&&(B?_t().then(()=>{var D;M.value&&M.value.$el&&(c.autofocus?b.value=(D=J())!=null?D:_.value:b.value=_.value)}):(c.editorErrorMessage="",c.validateError=!1))});const T=L(()=>t.draggable),k=L(()=>t.overflow);Ax(_,w,T,k),St(async()=>{await _t(),t.closeOnHashChange&&window.addEventListener("hashchange",I)}),Tn(()=>{t.closeOnHashChange&&window.removeEventListener("hashchange",I)});function I(){l.value&&(l.value=!1,_t(()=>{c.action&&e("action",c.action)}))}const O=()=>{t.closeOnClickModal&&N(c.distinguishCancelAndClose?"close":"cancel")},U=Ey(O),R=B=>{if(c.inputType!=="textarea")return B.preventDefault(),N("confirm")},N=B=>{var X;t.boxType==="prompt"&&B==="confirm"&&!$()||(c.action=B,c.beforeClose?(X=c.beforeClose)==null||X.call(c,B,c,I):I())},$=()=>{if(t.boxType==="prompt"){const B=c.inputPattern;if(B&&!B.test(c.inputValue||""))return c.editorErrorMessage=c.inputErrorMessage||a("el.messagebox.error"),c.validateError=!0,!1;const X=c.inputValidator;if(typeof X=="function"){const q=X(c.inputValue);if(q===!1)return c.editorErrorMessage=c.inputErrorMessage||a("el.messagebox.error"),c.validateError=!0,!1;if(typeof q=="string")return c.editorErrorMessage=q,c.validateError=!0,!1}}return c.editorErrorMessage="",c.validateError=!1,!0},J=()=>{const B=M.value.$refs;return B.input||B.textarea},Y=()=>{N("close")},H=()=>{t.closeOnPressEscape&&Y()};return t.lockScroll&&py(l),{...Oi(c),ns:r,overlayEvent:U,visible:l,hasMessage:y,typeClass:d,contentId:p,inputId:v,btnSize:s,iconComponent:g,confirmButtonClasses:x,rootRef:_,focusStartRef:b,headerRef:w,inputRef:M,confirmRef:E,doClose:I,handleClose:Y,onCloseRequested:H,handleWrapperClick:O,handleInputEnter:R,handleAction:N,t:a}}});function Coe(t,e,n,i,r,s){const a=At("el-icon"),o=At("close"),l=At("el-input"),c=At("el-button"),d=At("el-focus-trap"),p=At("el-overlay");return P(),we(di,{name:"fade-in-linear",onAfterLeave:v=>t.$emit("vanish"),persisted:""},{default:te(()=>[Ut(Q(p,{"z-index":t.zIndex,"overlay-class":[t.ns.is("message-box"),t.modalClass],mask:t.modal},{default:te(()=>[Z("div",{role:"dialog","aria-label":t.title,"aria-modal":"true","aria-describedby":t.showInput?void 0:t.contentId,class:z(`${t.ns.namespace.value}-overlay-message-box`),onClick:t.overlayEvent.onClick,onMousedown:t.overlayEvent.onMousedown,onMouseup:t.overlayEvent.onMouseup},[Q(d,{loop:"",trapped:t.visible,"focus-trap-el":t.rootRef,"focus-start-el":t.focusStartRef,onReleaseRequested:t.onCloseRequested},{default:te(()=>[Z("div",{ref:"rootRef",class:z([t.ns.b(),t.customClass,t.ns.is("draggable",t.draggable),{[t.ns.m("center")]:t.center}]),style:bt(t.customStyle),tabindex:"-1",onClick:Mt(()=>{},["stop"])},[t.title!==null&&t.title!==void 0?(P(),K("div",{key:0,ref:"headerRef",class:z([t.ns.e("header"),{"show-close":t.showClose}])},[Z("div",{class:z(t.ns.e("title"))},[t.iconComponent&&t.center?(P(),we(a,{key:0,class:z([t.ns.e("status"),t.typeClass])},{default:te(()=>[(P(),we(zt(t.iconComponent)))]),_:1},8,["class"])):he("v-if",!0),Z("span",null,Ne(t.title),1)],2),t.showClose?(P(),K("button",{key:0,type:"button",class:z(t.ns.e("headerbtn")),"aria-label":t.t("el.messagebox.close"),onClick:v=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),onKeydown:vn(Mt(v=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"])},[Q(a,{class:z(t.ns.e("close"))},{default:te(()=>[Q(o)]),_:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):he("v-if",!0)],2)):he("v-if",!0),Z("div",{id:t.contentId,class:z(t.ns.e("content"))},[Z("div",{class:z(t.ns.e("container"))},[t.iconComponent&&!t.center&&t.hasMessage?(P(),we(a,{key:0,class:z([t.ns.e("status"),t.typeClass])},{default:te(()=>[(P(),we(zt(t.iconComponent)))]),_:1},8,["class"])):he("v-if",!0),t.hasMessage?(P(),K("div",{key:1,class:z(t.ns.e("message"))},[oe(t.$slots,"default",{},()=>[t.dangerouslyUseHTMLString?(P(),we(zt(t.showInput?"label":"p"),{key:1,for:t.showInput?t.inputId:void 0,innerHTML:t.message},null,8,["for","innerHTML"])):(P(),we(zt(t.showInput?"label":"p"),{key:0,for:t.showInput?t.inputId:void 0},{default:te(()=>[pt(Ne(t.dangerouslyUseHTMLString?"":t.message),1)]),_:1},8,["for"]))])],2)):he("v-if",!0)],2),Ut(Z("div",{class:z(t.ns.e("input"))},[Q(l,{id:t.inputId,ref:"inputRef",modelValue:t.inputValue,"onUpdate:modelValue":v=>t.inputValue=v,type:t.inputType,placeholder:t.inputPlaceholder,"aria-invalid":t.validateError,class:z({invalid:t.validateError}),onKeydown:vn(t.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),Z("div",{class:z(t.ns.e("errormsg")),style:bt({visibility:t.editorErrorMessage?"visible":"hidden"})},Ne(t.editorErrorMessage),7)],2),[[on,t.showInput]])],10,["id"]),Z("div",{class:z(t.ns.e("btns"))},[t.showCancelButton?(P(),we(c,{key:0,loading:t.cancelButtonLoading,"loading-icon":t.cancelButtonLoadingIcon,class:z([t.cancelButtonClass]),round:t.roundButton,size:t.btnSize,onClick:v=>t.handleAction("cancel"),onKeydown:vn(Mt(v=>t.handleAction("cancel"),["prevent"]),["enter"])},{default:te(()=>[pt(Ne(t.cancelButtonText||t.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):he("v-if",!0),Ut(Q(c,{ref:"confirmRef",type:"primary",loading:t.confirmButtonLoading,"loading-icon":t.confirmButtonLoadingIcon,class:z([t.confirmButtonClasses]),round:t.roundButton,disabled:t.confirmButtonDisabled,size:t.btnSize,onClick:v=>t.handleAction("confirm"),onKeydown:vn(Mt(v=>t.handleAction("confirm"),["prevent"]),["enter"])},{default:te(()=>[pt(Ne(t.confirmButtonText||t.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[on,t.showConfirmButton]])],2)],14,["onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["z-index","overlay-class","mask"]),[[on,t.visible]])]),_:3},8,["onAfterLeave"])}var xoe=We(Eoe,[["render",Coe],["__file","index.vue"]]);const Ed=new Map,Moe=t=>{let e=document.body;return t.appendTo&&(Wt(t.appendTo)&&(e=document.querySelector(t.appendTo)),Yr(t.appendTo)&&(e=t.appendTo),Yr(e)||(e=document.body)),e},Toe=(t,e,n=null)=>{const i=Q(xoe,t,cn(t.message)||ri(t.message)?{default:cn(t.message)?t.message:()=>t.message}:null);return i.appContext=n,ho(i,e),Moe(t).appendChild(e.firstElementChild),i.component},Aoe=()=>document.createElement("div"),koe=(t,e)=>{const n=Aoe();t.onVanish=()=>{ho(null,n),Ed.delete(r)},t.onAction=s=>{const a=Ed.get(r);let o;t.showInput?o={value:r.inputValue,action:s}:o=s,t.callback?t.callback(o,i.proxy):s==="cancel"||s==="close"?t.distinguishCancelAndClose&&s!=="cancel"?a.reject("close"):a.reject("cancel"):a.resolve(o)};const i=Toe(t,n,e),r=i.proxy;for(const s in t)qi(t,s)&&!qi(r.$props,s)&&(r[s]=t[s]);return r.visible=!0,r};function hc(t,e=null){if(!nn)return Promise.reject();let n;return Wt(t)||ri(t)?t={message:t}:n=t.callback,new Promise((i,r)=>{const s=koe(t,e??hc._context);Ed.set(s,{options:t,callback:n,resolve:i,reject:r})})}const Poe=["alert","confirm","prompt"],Roe={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};Poe.forEach(t=>{hc[t]=Ioe(t)});function Ioe(t){return(e,n,i,r)=>{let s="";return Sn(n)?(i=n,s=""):Hn(n)?s="":s=n,hc(Object.assign({title:s,message:e,type:"",...Roe[t]},i,{boxType:t}),r)}}hc.close=()=>{Ed.forEach((t,e)=>{e.doClose()}),Ed.clear()};hc._context=null;const eo=hc;eo.install=t=>{eo._context=t._context,t.config.globalProperties.$msgbox=eo,t.config.globalProperties.$messageBox=eo,t.config.globalProperties.$alert=eo.alert,t.config.globalProperties.$confirm=eo.confirm,t.config.globalProperties.$prompt=eo.prompt};const Loe=eo,wk=["success","info","warning","error"],Noe=Ge({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:En},id:{type:String,default:""},message:{type:_e([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:_e(Function),default:()=>{}},onClose:{type:_e(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...wk,""],default:""},zIndex:Number}),Ooe={destroy:()=>!0},Doe=ie({name:"ElNotification"}),Foe=ie({...Doe,props:Noe,emits:Ooe,setup(t,{expose:e}){const n=t,{ns:i,zIndex:r}=Tp("notification"),{nextZIndex:s,currentZIndex:a}=r,{Close:o}=uy,l=W(!1);let c;const d=L(()=>{const E=n.type;return E&&_o[n.type]?i.m(E):""}),p=L(()=>n.type&&_o[n.type]||n.icon),v=L(()=>n.position.endsWith("right")?"right":"left"),g=L(()=>n.position.startsWith("top")?"top":"bottom"),y=L(()=>{var E;return{[g.value]:`${n.offset}px`,zIndex:(E=n.zIndex)!=null?E:a.value}});function _(){n.duration>0&&({stop:c}=yl(()=>{l.value&&b()},n.duration))}function w(){c==null||c()}function b(){l.value=!1}function M({code:E}){E===Et.delete||E===Et.backspace?w():E===Et.esc?l.value&&b():_()}return St(()=>{_(),s(),l.value=!0}),bn(document,"keydown",M),e({visible:l,close:b}),(E,x)=>(P(),we(di,{name:f(i).b("fade"),onBeforeLeave:E.onClose,onAfterLeave:T=>E.$emit("destroy"),persisted:""},{default:te(()=>[Ut(Z("div",{id:E.id,class:z([f(i).b(),E.customClass,f(v)]),style:bt(f(y)),role:"alert",onMouseenter:w,onMouseleave:_,onClick:E.onClick},[f(p)?(P(),we(f(ft),{key:0,class:z([f(i).e("icon"),f(d)])},{default:te(()=>[(P(),we(zt(f(p))))]),_:1},8,["class"])):he("v-if",!0),Z("div",{class:z(f(i).e("group"))},[Z("h2",{class:z(f(i).e("title")),textContent:Ne(E.title)},null,10,["textContent"]),Ut(Z("div",{class:z(f(i).e("content")),style:bt(E.title?void 0:{margin:0})},[oe(E.$slots,"default",{},()=>[E.dangerouslyUseHTMLString?(P(),K(ct,{key:1},[he(" Caution here, message could've been compromised, never use user's input as message "),Z("p",{innerHTML:E.message},null,8,["innerHTML"])],2112)):(P(),K("p",{key:0},Ne(E.message),1))])],6),[[on,E.message]]),E.showClose?(P(),we(f(ft),{key:0,class:z(f(i).e("closeBtn")),onClick:Mt(b,["stop"])},{default:te(()=>[Q(f(o))]),_:1},8,["class","onClick"])):he("v-if",!0)],2)],46,["id","onClick"]),[[on,l.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var Boe=We(Foe,[["__file","notification.vue"]]);const Gh={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},Xg=16;let Uoe=1;const Yu=function(t={},e=null){if(!nn)return{close:()=>{}};(typeof t=="string"||ri(t))&&(t={message:t});const n=t.position||"top-right";let i=t.offset||0;Gh[n].forEach(({vm:d})=>{var p;i+=(((p=d.el)==null?void 0:p.offsetHeight)||0)+Xg}),i+=Xg;const r=`notification_${Uoe++}`,s=t.onClose,a={...t,offset:i,id:r,onClose:()=>{Voe(r,n,s)}};let o=document.body;Yr(t.appendTo)?o=t.appendTo:Wt(t.appendTo)&&(o=document.querySelector(t.appendTo)),Yr(o)||(o=document.body);const l=document.createElement("div"),c=Q(Boe,a,ri(a.message)?{default:()=>a.message}:null);return c.appContext=e??Yu._context,c.props.onDestroy=()=>{ho(null,l)},ho(c,l),Gh[n].push({vm:c}),o.appendChild(l.firstElementChild),{close:()=>{c.component.exposed.visible.value=!1}}};wk.forEach(t=>{Yu[t]=(e={})=>((typeof e=="string"||ri(e))&&(e={message:e}),Yu({...e,type:t}))});function Voe(t,e,n){const i=Gh[e],r=i.findIndex(({vm:c})=>{var d;return((d=c.component)==null?void 0:d.props.id)===t});if(r===-1)return;const{vm:s}=i[r];if(!s)return;n==null||n(s);const a=s.el.offsetHeight,o=e.split("-")[0];i.splice(r,1);const l=i.length;if(!(l<1))for(let c=r;c<l;c++){const{el:d,component:p}=i[c].vm,v=Number.parseInt(d.style[o],10)-a-Xg;p.props.offset=v}}function zoe(){for(const t of Object.values(Gh))t.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}Yu.closeAll=zoe;Yu._context=null;const $oe=Mx(Yu,"$notify");var Hoe=[soe,coe,rl,Loe,$oe,nA],Goe=HH([...Jae,...Hoe]);const Woe=t=>(bi("data-v-4ca251ea"),t=t(),wi(),t),Koe=["innerHTML"],qoe={class:"example"},Yoe={class:"example-showcase"},joe={class:"op-btns"},Xoe=["href","aria-label"],Zoe=["aria-label"],Joe=Woe(()=>Z("span",null,Ne("隐藏源代码"),-1)),Qoe=ie({__name:"vp-demo",props:{source:{},path:{},rawSource:{},description:{}},setup(t){const e=t,{copy:n,isSupported:i}=_D({source:decodeURIComponent(e.rawSource),read:!1}),[r,s]=mD(),a=F4(yn(e,"path")),o=W(),l=[],c=L(()=>decodeURIComponent(e.description)),d=()=>{rl({type:"warning",message:"开发中，敬请期待！"})},p=g=>{var y;["Enter","Space"].includes(g.code)&&(g.preventDefault(),s(!1),(y=o.value)==null||y.focus())},v=async()=>{i||rl({type:"error",message:"暂不支持复制！"});try{await n(),rl({type:"success",message:"复制成功"})}catch(g){rl({type:"error",message:g.message})}};return(g,y)=>{const _=At("ClientOnly");return P(),we(_,null,{default:te(()=>[Z("div",{text:"sm",m:"y-4",innerHTML:c.value},null,8,Koe),Z("div",qoe,[Z("div",Yoe,[oe(g.$slots,"source",{},void 0,!0)]),Q(f(jy),{class:"m-0"}),Z("div",joe,[Q(f(vi),{content:"前往 codeopen.io 运行代码","show-arrow":!1,trigger:["hover","focus"],"trigger-keys":[]},{default:te(()=>[Q(f(ft),{size:16,"aria-label":1,tabindex:"0",role:"link",class:"op-btn",onClick:d,onKeydown:[vn(Mt(d,["prevent"]),["enter"]),vn(Mt(d,["prevent"]),["space"])]},{default:te(()=>[Q(f(jD))]),_:1},8,["onKeydown"])]),_:1}),Q(f(vi),{content:"Gitee地址","show-arrow":!1,trigger:["hover","focus"],"trigger-keys":[]},{default:te(()=>[Q(f(ft),{size:16,class:"op-btn github",style:{color:"#606266"}},{default:te(()=>[Z("a",{href:f(a),"aria-label":l["edit-on-github"],rel:"noreferrer noopener",target:"_blank"},[Q(f(RD))],8,Xoe)]),_:1})]),_:1}),Q(f(vi),{content:"复制代码","show-arrow":!1,trigger:["hover","focus"],"trigger-keys":[]},{default:te(()=>[Q(f(ft),{size:16,"aria-label":l["copy-code"],class:"op-btn",tabindex:"0",role:"button",onClick:v,onKeydown:[vn(Mt(v,["prevent"]),["enter"]),vn(Mt(v,["prevent"]),["space"])]},{default:te(()=>[Q(f(zD))]),_:1},8,["aria-label","onKeydown"])]),_:1}),Q(f(vi),{content:"查看代码","show-arrow":!1,trigger:["hover","focus"],"trigger-keys":[]},{default:te(()=>[Z("button",{ref_key:"sourceCodeRef",ref:o,"aria-label":f(r)?l["hide-source"]:l["view-source"],class:"reset-btn el-icon op-btn",onClick:y[0]||(y[0]=w=>f(s)())},[Q(f(ft),{size:16},{default:te(()=>[Q(f(h4))]),_:1})],8,Zoe)]),_:1})]),Q(f(Hd),null,{default:te(()=>[Q(z4,{visible:f(r),source:g.source},null,8,["visible","source"])]),_:1}),Q(di,{name:"el-fade-in-linear"},{default:te(()=>[Ut(Z("div",{class:"example-float-control",tabindex:"0",role:"button",onClick:y[1]||(y[1]=w=>f(s)(!1)),onKeydown:p},[Q(f(ft),{class:"op-btn",size:16},{default:te(()=>[Q(f(a2))]),_:1}),Joe],544),[[on,f(r)]])]),_:1})])]),_:3})}}}),ele=$t(Qoe,[["__scopeId","data-v-4ca251ea"]]),tle=[["Demo",ele]],nle=["primary","success","info","warning","danger","text"],ile=["midium","small","mini"],rle={type:{type:String,validator(t){return nle.includes(t)}},size:{type:String,validator(t){return ile.includes(t)}},plain:Boolean,round:Boolean,disabled:Boolean},sle={click:t=>t instanceof MouseEvent},ale=ie({name:"dls-button",props:rle,emits:sle,setup(t,e){const{emit:n}=e,i=s=>{n("click",s)};return{styleClass:L(()=>({[`k-button--${t.type}`]:t.type,"is-plain":t.plain,"is-round":t.round,"is-disabled":t.disabled,[`k-button--${t.size}`]:t.size})),handleButtonClick:i}}});function ole(t,e,n,i,r,s){return P(),K("button",{onClick:e[0]||(e[0]=(...a)=>t.handleButtonClick&&t.handleButtonClick(...a)),class:z(["k-button",t.styleClass])},[oe(t.$slots,"default")],2)}const lle=$t(ale,[["render",ole]]),ule=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,oS=t=>{if(typeof t!="string")throw new TypeError("Invalid argument expected string");const e=t.match(ule);if(!e)throw new Error(`Invalid argument not valid semver ('${t}' received)`);return e.shift(),e},lS=t=>t==="*"||t==="x"||t==="X",uS=t=>{const e=parseInt(t,10);return isNaN(e)?t:e},cle=(t,e)=>typeof t!=typeof e?[String(t),String(e)]:[t,e],dle=(t,e)=>{if(lS(t)||lS(e))return 0;const[n,i]=cle(uS(t),uS(e));return n>i?1:n<i?-1:0},cS=(t,e)=>{for(let n=0;n<Math.max(t.length,e.length);n++){const i=dle(t[n]||"0",e[n]||"0");if(i!==0)return i}return 0},fle=(t,e)=>{const n=oS(t),i=oS(e),r=n.pop(),s=i.pop(),a=cS(n,i);return a!==0?a:r&&s?cS(r.split("."),s.split(".")):r||s?r?-1:1:0},hle=(t,e,n)=>{ple(n);const i=fle(t,e);return Sk[n].includes(i)},Sk={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},dS=Object.keys(Sk),ple=t=>{if(typeof t!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof t}`);if(dS.indexOf(t)===-1)throw new Error(`Invalid operator, expected one of ${dS.join("|")}`)};function mle(t){const e=[];for(let n=0;n<t.length;n++){const i=[t[n],t[n+1]];e.push(i)}return e.pop(),e}function vle(t,e){const n=Cesium.Cartesian3.fromDegrees(t[0],t[1]),i=Cesium.Cartesian3.fromDegrees(e[0],e[1]);return Cesium.Cartesian3.lerp(n,i,.5,new Cesium.Cartesian3)}function gle(t){const e=parseInt(t.slice(1),16),n=e>>16&255,i=e>>8&255,r=e&255;return new Cesium.Color(n/255,i/255,r/255)}function yle(t,e,n=">="){return t=t||"1.6.7",hle(t,e,n)}function _le(t){const e=Cesium.Ellipsoid.WGS84;return t.map(i=>{const r=e.cartesianToCartographic(i),s=Cesium.Math.toDegrees(r.longitude),a=Cesium.Math.toDegrees(r.latitude),o=r.height;return[s,a,o]})}const C_=t=>(t.install=e=>{e.component(t.name,t)},t);C_(lle);const ble=Object.prototype.hasOwnProperty;function wle(t,e,n){if(!t)throw new TypeError("argument dest is required");if(!e)throw new TypeError("argument src is required");return n===void 0&&(n=!0),Object.getOwnPropertyNames(e).forEach(function(r){if(!n&&ble.call(t,r))return;const s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,s)}),t}function Sle(...t){let e;return typeof t[t.length-1]!="object"&&(e=t.pop()),t.slice(1).reduce((n,i,r)=>wle(n,i,e),t[0])}function zm(t,e){const n=t.vnode.props;if(n===null)return;const i=Object.keys(n),r=K6(i,a=>a.includes(`on${Iv(e)}`)||a.includes(`on${Iv(_U(e))}`));return n[i[r]]}function Ele(t,e,n){const i=()=>new Promise((c,d)=>{const p=setInterval(()=>{try{Cesium&&_t(()=>{clearInterval(p),console.log("加载完毕"),c(!0)})}catch(v){d(v)}},100)}),r=async()=>{zm(n,"beforeLoad")&&e("beforeLoad",n),await i()},s=async function(){return await r(),new Promise((c,d)=>{if(!Cesium)return!1;const p=W(null),v=t.mapConfig;v!=null&&v.defaultAccessToken&&(Cesium.Ion.defaultAccessToken=v.defaultAccessToken);const g=L(()=>(v==null?void 0:v.id)||"cesiumContainer");let y=new Cesium.Viewer(g.value,{...t.viewerConfig,sceneMode:v.sceneModeNum===2?Cesium.SceneMode.SCENE2D:Cesium.SceneMode.SCENE3D});var _=y.scene.canvas;_.style.width=t.viewerWidth||"100%",_.style.height=t.viewerHeight||"100%",(v!=null&&v.defaultAccessToken||v!=null&&v.imageryProvider)&&y.imageryLayers.addImageryProvider(new Cesium.UrlTemplateImageryProvider(v==null?void 0:v.imageryProvider)),y.cesiumWidget.screenSpaceEventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),p.value=y,yle(Cesium.VERSION,"1.83"),n.Cesium=Cesium,n.viewer=p.value,n.viewerElement=p.value._element,c(Cesium)})},a=async function(){return o().then(()=>s())},o=async function(){return new Promise((c,d)=>{n.viewer&&n.viewer.destroy(),zm(n,"destroyed")&&e("destroyed",n),c(!0)})};return St(async()=>{try{await s(),e("cesiumReady",Cesium),zm(n,"ready")&&e("ready",n)}catch{}}),{getServices:function(){return Sle({},{get vm(){return n},get Cesium(){return n.Cesium},get viewer(){return n.viewer},get dataSources(){var c;return(c=n.viewer)==null?void 0:c.dataSources},get entities(){var c;return(c=n.viewer)==null?void 0:c.entities},get imageryLayers(){var c;return(c=n.viewer)==null?void 0:c.imageryLayers},get primitives(){var c;return(c=n.viewer)==null?void 0:c.scene.primitives},get groundPrimitives(){var c;return(c=n.viewer)==null?void 0:c.scene.groundPrimitives},get postProcessStages(){var c;return(c=n.viewer)==null?void 0:c.postProcessStages}})},load:s,reload:a,unload:o}}const Cle=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",xle=Cle?Symbol("DlsMap"):"DlsMap",Mle={mapConfig:{type:Object},viewerConfig:{type:Object,default:()=>({baseLayerPicker:!1,geocoder:!1,animation:!1,shouldAnimate:!0,homeButton:!1,timeline:!1,fullscreenButton:!1,scene3DOnly:!1,sceneModePicker:!1,navigationInstructionsInitiallyVisible:!1,navigationHelpButton:!1,selectionIndicator:!1,infoBox:!1,imageryProvider:!1,sceneMode:3})},viewerWidth:{type:String,require:!1},viewerHeight:{type:String,require:!1}},Tle={cesiumReady:t=>!0,ready:t=>!0,destroyed:t=>!0},Ale={name:"LoadingSpinner"},kle={class:"loading-spinner"};function Ple(t,e,n,i,r,s){return P(),K("div",kle,"Loading...")}const Rle=$t(Ale,[["render",Ple],["__scopeId","data-v-dedce907"]]),Ile={key:0},Lle=["id"],Nle=ie({name:"dls-map",__name:"dlsMap",props:Mle,emits:Tle,setup(t,{expose:e,emit:n}){const i=t,r=n,s=i.mapConfig,a=Yt(),o=W(null),l=Xt({isCesiumLoaded:!0,isClient:!0}),c=L(()=>(s==null?void 0:s.id)||"cesiumContainer"),d=Ele(i,r,a),p=d.getServices();return Jt(xle,p),a.appContext.config.globalProperties.$DlsMap=a.appContext.config.globalProperties.$DlsMap||{},a.appContext.config.globalProperties.$DlsMap[c.value]=d.getServices(),St(()=>{l.isClient=!0}),e({dataM:l,viewer:o,viewerStates:d}),(v,g)=>l.isClient?(P(),K("div",Ile,[l.isCesiumLoaded?(P(),K("div",{key:0,id:c.value,style:{position:"absolute",width:"100%",height:"100%"},class:"dlsMapContainer"},null,8,Lle)):(P(),we(Rle,{key:1}))])):he("",!0)}}),br=C_(Nle),Ole="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAMQElEQVR4nO2de4wV1R3Hv78zc/fum5cgD4FFngmoiNHYiFVrVCzx0cY/msaa2KTvmAYqajEWJRarEqs1afUvE9M/TGubtrZpS4uxja0FW2IQlRVZVhaWx8Ky772vOb/mzD3DjpddEdhl79zz+yQnd+7OzDm/ufPd3zlzHr+BIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIJQplIQb85fWAAyEyeARoEHQzMhrIEUEDQbZv5HZbw9m+2mO89TQBUf7zbGBRpoI0wDMAjCJgEkMXIDiD1QHYEKJSd0M9Nv9xxg4gWI6yIyjnkI2KlfZAs3XwNiqhsqN9ptjFREYDAVCnjk8zvxNgRFEttq0qskbk995NPHL3sKxoRbAPAAXA2jyCBeVlnKa/7iJBEy027M+cWzxywEArQD2AWgBMFDWv8YY4JKw0gAutWmxiqth9P32bCLMBnCt/d4MYKdN2VEvrQxxQVgLAXwu5WEJgNQ42bCEgCXKw5fA2A3gLQB7xsmW80IlC2s5gOvVMNXcOFIFKnpNLlaXbwB4p4zsGzUqUVhXArhJEaaUgS0jQgiryq8B+CKAvwF4u0xNPSsqSVjGM93lEeaWgS1nwlQQvsrANQBetQ3/xFMJwjJPeKs9wtUAl/9z+AgQuAnAGmb8B8Cfkv4kmXRhLUwruhvgiZ/h2CTgE/HKNNEyDf5lkhv4SRbWrT7RLaaPMSH9vGfCJAX6ngb+CuDPyTF7iCQKqxHAvR7xwjKwZSxRHrCaGYsAvASgJ0nGJ01Y03yF+8CYfHJ8p8IhYJGvsK6g8TyAo0m52iQJa45PuC8cu6u4mu+0TPEJ6wIOxbW/zG0NSYqwlviEbwGoccVTlUJAg09YEzBeBMLe+7ImEcIi4lVc7FZwnVoirBJhjRKFAL/wFb6vCAuSYO9YwUCL+S2SYGtSqsJsTuO5lOL7FWheGdhz3tHgfXlNP1UJmR2RpMZ7NhfQ5rTiB0BoKgN7zh+M1pymzUTJmXKTtO6GbF5js094kJI3JnhWaMb+gLE5afO4kthBOpjTeDKl8EMCV7S4GPRxXuNpRRgsA3POiKQO6QxmA34qpbCewOU032rUYNCBvOanFFFfEu1P8lhhX0HjCY+wHsW5TZUD40AAPGGuManXlPTZDb25AJt84kfsfKzEw8AhBm0iQm+Sr6US5mP1FhiPK/BjAKaXgT3nwmENekxRsgach6NSZpD25DVtVNAbCJhRBvacMQwc0VAbPZV8UaHCpiafKDA2Kk6k5zqqiR5VFC56rQgqbTFFZ4FpA7HeFM4lTwYdTGqDInQmxN7PRCWu0uksAI8Q84/N/K0ysOfT6GCiRzzgWPmaeHZU6rrCjoDpYWj9JGwMhrKDcBykfqQIHWVp3zlSyQtWOwLQw6yDJ8FltsaQ0EnKW+8RDpWBNWNCpS+xP6RZPcQ6eJqByWVgj5mwZ0T1kIfKFRUcid3QHpBapwvBMwCPs7ioS3negz5wcHztGHtciTbTzqTuD4LgWfA4rUEk6vF89UClrHQ+HS6FMTrApNYFQeEZfZ7FRUQ9vq/utzGznMC1wGv7oLy1Qb7wM2YujdJ3KvyJlRvxtUFDO+jTlwwRUbfve2ttADZncDGi3z4mtSZfGEZcRSHR0FceUk1cYzEtEVF8D8eFRkS96bRvPNXe0b6IcsfVUJEfeb6/NpPNP8fMjXFBnRST+RzaNro6qRiKC8gIy4qrKLJwk8mj/upU6gcH/72teTwucLxJhLC2/GrLWGTbPHnFirWZXPA8MzcURcRFYZ1MCLe5xJOFwjHCCkUFjsRVFBaBFPVXe/7aI9u2f2DPc241pKseKwxA3LljR3P90mXrMgV+jjXXF8WkjZgU65PbRnBFkYX6oDDmEGA9FSkmFW5ru92XVniwc9e7zcWAJdC2TKfE5aKwoqjW5qZ7fe/t2p2+eMHDGaindcD1xFpBG0FpZQQWbo8kLKUiQelw23gqXXisf39rc8lv65y4XBVWKCob7LYq2/LRHn/6zE0Zld6ogyASl1LZwRqVy9RQIV9l/+ZBqYBJafZTWZ2uHtRVNRmoUFiDNUHu2VzHYROCu8aWEV9Zo0VYlUvkrTx77VU2ImBdcLj9YGrCpBczfnqNGuif5GcH65fMmegvWzgPTTMnorEujQkN1ejuzXg9/Vlvb1tn6r29HfUfth0tFKprelKeejHo7TbDNKaPTNmEmJjYpfaWS8KiEm9lRFWNoTdPTEL3iepqz+tbeNHE+XfccAmO9Tfit28R2t8CWm0AobpUNRbMqMb8GY24a1UT8tke/7U3mic3tx43QWoDG8s9Lipd8gkXxOWax1Ixb5W2omoMRQXcqIjW3XH9IkydNhf3/JywpwNQqVPjBb5zFChsIzz6CnDL8gl4/O4rsbRt/8rfbf1gpWZ+xkZB1jYFNkXCCsbp2s8rqoxsGWvi1WCpt1pmRHXvncuRUXOx+ieEli7AG0ZUsJ3tqRqgZiKwZSdw3XpCj56Dr3/5cvP+G9PLfqnNt96WU2XLJQyfZcXhirDiokrZG20a2A1WAHfefsNiXDhtKr77AkF/hvdXpFLFPtKqOqA/A3znFwSv6gLc8YXFZvdtMWHV2PJSLonLNY+lYtVgrb3xty+aO2Xlystn40Qf0DMA6PzImTQ2BlhxxQAuX1FMKb/YXMrkgJYjwDXLZ2NJ05SVJl+bf631Wr4tXzxWhRH3WGnrSRoV0T2rP7/A9Ljj4gs1NnwlQDAA5PoBPUxrKJNR6OjwcaLTw8G2FPq7ijq5+3qNm5frMJ9br11gqsR7bPttOI9V8bjSeKeShnvUxrp0zowJmD6lDloX+zC/cZPGTZcFeOI3Pt54V2GgUGxTKftqgsGA0H20KhRdXRq4+TKNb94c4KqFGjaLMD+Tb2t7l2lrHbdC9m35yoVuB9e6G0q7Gq5aOv8C8Cenx2DuVMYL384hXwD+tVvhYCfh3daic2+oZTRNYyyZxbhivj55TkkWuGThVCOsq+2bvlKuVYWuCsu3N3vxvFkTThFWhO8B1y219eG1p+4f4bSQeTPDGTmLrYhLvVXF41JVGH8yjMQ1sb42dbIaHE0mNBg9hauDvJiolCtPhS4O6cS3a2uq/BE91rmQToWNsmqX+q7iuCYsLtkeGMjkGuprq0a9oEyuEH7YcmQ+VoXCsRQNsZg739XVm2morR79n6GzK4zueLxkSEe7IjSX+rE4NnZnRGW6QZtb23vCqnC00772btiXjOdseYFLU2dcFVbOVlPbP9h3PGy8j3Z6v8U4q/Clllkr4oJLwnKpKox7q0hYO9uO9OHQsX5MnzJ6b1Q5fHwAJl87hWbQisspr+Waxwqs98jaG97DzC9v3b5/VKvC199uM58v23cMDloh5235UhVWGJHXKlhhDdioxH9oOdjz5rZdh0dFVG+/dwR7D3S/afK1+Q9Y7+hUVeiKsLjEY+WsJzGRiU0r+/d/334AH3584pxEtWd/F7ZsazPlvWbz7RvBY0lVWEHExRW1sfqtAHYx8+ZXX2/Bf98/elaiMuf9eutes21mkO6MCStjy3NGVHCwgzTegM/GhllM2srMHVu2td32YVvXyhuumIULJ9ecNsMjnYP4x452mOrUeiojqhO2fTUwTMPdCVwSVuQp4l0O8dU05u87TJyF1vbelpfad9/YNKNh1sLZEzBzai0aalOoq0mhfzCP3oE82o70m7YUPj7cZ2JdbbVtqm6beqw3jHsrZzpH4eiQTnxBQ7TuL+oVj54YXwHwx9ZDvVeaBGC+XdbVYNtlXbbz83829dnUawUVNdjj3sqpoR0XF6xySZXEwwhrwIrEBI34Z8liCI713GdsGrTnDMYE5WSPe4SrwsIw4op3nmat56kqmU9Fwxybiz0M5EoE5VwVGOFqUJC4uLhkDWAkmGjWZ3ySHmLnRccWYkM2+REEJbMbHCK64VTS9gpiM029kifHCD3CgtQgJlQnBRXhsrAiopsfWJHpkuX4NMxkvbgnKvVMziyj/zREWEVKA3dEjLRdOmFwuG1BEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBOG8A+D8OKsbjZnDulAAAAABJRU5ErkJggg==",Dle={marstViewer:{type:Object,default:()=>({}),required:!0},rangeStyle:{type:Object,default:()=>({color:"#fecd78",opacity:.5,outlineColor:"#ff7800"}),required:!1},positionStyle:{type:Object,default:()=>({image:Ole,scale:.5}),required:!1},baseMap:{type:Object,default:()=>({imageryProvider:!1,sceneModeNum:2,width:"100%",height:"100%"}),required:!1}},Ek=t=>(bi("data-v-a2cefaae"),t=t(),wi(),t),Fle={class:"eyeMain"},Ble=Ek(()=>Z("div",{id:"eyeId"},null,-1)),Ule=Ek(()=>Z("div",{id:"credit"},null,-1)),Vle=[Ble,Ule],zle=ie({name:"dls-map-eye",__name:"dlsMapEye",props:Dle,setup(t,{expose:e}){const n=Xt({viewer:null}),i=t,{marstViewer:r,rangeStyle:s,positionStyle:a,baseMap:o}=i;console.log(r,s,a,o);const l=L(()=>i.marstViewer);Le(l,v=>{v&&!n.viewer&&c()}),St(()=>{});const c=()=>{if(n.viewer)return!1;n.viewer=new Cesium.Viewer("eyeId",{baseLayerPicker:!1,geocoder:!1,animation:!1,shouldAnimate:!0,homeButton:!1,timeline:!1,fullscreenButton:!1,scene3DOnly:!1,sceneModePicker:!1,navigationInstructionsInitiallyVisible:!1,navigationHelpButton:!1,selectionIndicator:!1,infoBox:!1,sceneMode:2}),n.viewer.imageryLayers.addImageryProvider(new Cesium.UrlTemplateImageryProvider(o.imageryProvider?o.imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"}));var v=n.viewer.scene.canvas;v.style.width=o.width,v.style.height=o.height;let g=n.viewer.scene.screenSpaceCameraController;g.enableRotate=!1,g.enableTranslate=!1,g.enableZoom=!1,g.enableTilt=!1,g.enableLook=!1;function y(O){let U=40487.57,R=7096758e-11,N=91610.74,$=-40467.74;return Math.round($+(U-$)/(1+Math.pow(O/N,R)))}var _=i.marstViewer.scene.camera.positionCartographic.height;let w=y(Math.ceil(_));const b=d(),M=()=>{E=n.viewer.entities.add({rectangle:{coordinates:b,material:gle(s.color).withAlpha(s.opacity)}})};var E=null;w>5&&M();const x=new Cesium.ScreenSpaceEventHandler(i.marstViewer.scene.canvas);let T=6;x.setInputAction(function(O){T=y(Math.ceil(i.marstViewer.camera.positionCartographic.height)),!E&&T>5&&M()},Cesium.ScreenSpaceEventType.WHEEL);const k=n.viewer.entities.add({position:new Cesium.CallbackProperty(()=>n.viewer.camera.pickEllipsoid(new Cesium.Cartesian2(n.viewer.canvas.clientWidth/2,n.viewer.canvas.clientHeight/2),n.viewer.scene.globe.ellipsoid),!1),billboard:{image:a.image,scale:a.scale,horizontalOrigin:Cesium.HorizontalOrigin.CENTER,verticalOrigin:Cesium.VerticalOrigin.CENTER,rotation:new Cesium.CallbackProperty(()=>i.marstViewer.camera.heading,!1)}});let I=function(){const O=d(),U=p(O);if(E)if(T>5){let R=null;E.rectangle.coordinates=new Cesium.CallbackProperty(()=>O!==R?(R=O,O):R,!1),k.show=!0,E.show=!0}else E.show=!1,k.show=!1;n.viewer.camera.flyTo({destination:U,orientation:{heading:i.marstViewer.camera.heading,pitch:i.marstViewer.camera.pitch,roll:i.marstViewer.camera.roll},duration:0})};i.marstViewer.scene.preRender.addEventListener(I)},d=()=>{var v=i.marstViewer,g=v.scene.camera,y=g.computeViewRectangle(),_=Cesium.Math.toDegrees(y.west),w=Cesium.Math.toDegrees(y.east),b=Cesium.Math.toDegrees(y.north),M=Cesium.Math.toDegrees(y.south),E=Cesium.Rectangle.fromDegrees(_,M,w,b),_=Cesium.Math.toDegrees(y.west),w=Cesium.Math.toDegrees(y.east),b=Cesium.Math.toDegrees(y.north),M=Cesium.Math.toDegrees(y.south),E=Cesium.Rectangle.fromDegrees(_,M,w,b);return E},p=v=>{var g=Cesium.Math.toDegrees(v.west),y=Cesium.Math.toDegrees(v.east),_=Cesium.Math.toDegrees(v.north),w=Cesium.Math.toDegrees(v.south),b=1.8,M=Math.abs(y-g),E=Math.abs(_-w),x=M*(b-1)/2,T=E*(b-1)/2;return g-=x,y+=x,_+=T,w-=T,g=Math.max(g,-180),y=Math.min(y,180),_=Math.min(_,90),w=Math.max(w,-90),Cesium.Rectangle.fromDegrees(g,w,y,_)};return e({viewer:n.viewer}),(v,g)=>(P(),K("div",Fle,Vle))}}),$le=$t(zle,[["__scopeId","data-v-a2cefaae"]]),Hle=C_($le),Gle=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n},Wle=t=>(t.install=e=>{e.component(t.name,t)},t),Kle={mapConfig:{type:Object},viewerConfig:{type:Object},viewerWidth:{type:String,require:!1},viewerHeight:{type:String,require:!1}},qle={cesiumReady:t=>!0},Yle={name:"LoadingSpinner"},jle={class:"loading-spinner"};function Xle(t,e,n,i,r,s){return P(),K("div",jle,"Loading...")}const Zle=Gle(Yle,[["render",Xle],["__scopeId","data-v-1b657085"]]),Jle={key:0},Qle=["id"],eue=ie({name:"dls-map"}),tue=ie({...eue,props:Kle,emits:qle,setup(t,{expose:e,emit:n}){const i=t,r=n,s=i.mapConfig,a=W(null),o=Xt({isCesiumLoaded:!1,isClient:!1}),l=L(()=>(s==null?void 0:s.id)||"cesiumContainer"),c=()=>{const p=setInterval(()=>{try{Cesium&&(o.isCesiumLoaded=!0,_t(()=>{clearInterval(p),d()}))}catch{}},100)},d=()=>{s!=null&&s.defaultAccessToken&&(Cesium.Ion.defaultAccessToken=s.defaultAccessToken);let p=new Cesium.Viewer(l.value,{baseLayerPicker:!1,geocoder:!1,animation:!1,shouldAnimate:!0,homeButton:!1,sceneMode:(s==null?void 0:s.sceneModeNum)===2?Cesium.SceneMode.SCENE2D:Cesium.SceneMode.SCENE3D,timeline:!1,fullscreenButton:!1,scene3DOnly:!1,sceneModePicker:!1,navigationInstructionsInitiallyVisible:!1,navigationHelpButton:!1,selectionIndicator:!1,infoBox:!1,imageryProvider:!1,...i.viewerConfig});var v=p.scene.canvas;v.style.width=i.viewerWidth||"100%",v.style.height=i.viewerHeight||"100%",(s!=null&&s.defaultAccessToken||s!=null&&s.imageryProvider)&&p.imageryLayers.addImageryProvider(new Cesium.UrlTemplateImageryProvider(s==null?void 0:s.imageryProvider)),p.cesiumWidget.screenSpaceEventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),a.value=p,r("cesiumReady",a.value)};return St(()=>{o.isClient=!0,c()}),e({dataM:o,viewer:a}),(p,v)=>o.isClient?(P(),K("div",Jle,[o.isCesiumLoaded?(P(),K("div",{key:0,id:l.value,style:{position:"absolute",width:"100%",height:"100%"},class:"dlsMapContainer"},null,8,Qle)):(P(),we(Zle,{key:1}))])):he("",!0)}}),Fp=Wle(tue);function nue(){const t=Xt({longitude:"0",latitude:"0",height:"0",altitude:"0",cameraHeading:"0",pitchDegrees:"0",zoomLevel:0});function e(i=null){if(!i)return console.error("viewer is undefined"),!1;if(i){let r=null;const s=i.camera,a=new Cesium.ScreenSpaceEventHandler(i.scene.canvas);a.setInputAction(function(o){const l=i.camera.pickEllipsoid(o.endPosition,i.scene.globe.ellipsoid);l&&(r&&clearTimeout(r),r=setTimeout(()=>{const c=Cesium.Cartographic.fromCartesian(l);t.longitude=Cesium.Math.toDegrees(c.longitude).toFixed(6),t.latitude=Cesium.Math.toDegrees(c.latitude).toFixed(6)},300))},Cesium.ScreenSpaceEventType.MOUSE_MOVE),a.setInputAction(function(o){let l=o.position;if(l)if(i.scene.mode===Cesium.SceneMode.SCENE3D){let d=i.scene.globe.pick(i.camera.getPickRay(l),i.scene);if(d){let p=Cesium.Cartographic.fromCartesian(d);t.longitude=Cesium.Math.toDegrees(p.longitude).toFixed(6),t.latitude=Cesium.Math.toDegrees(p.latitude).toFixed(6);let v=i.scene.globe.ellipsoid.cartesianToCartographic(d);v&&(t.altitude=i.scene.globe.getHeight(v).toFixed(2))}}else{let d=i.camera.pickEllipsoid(l,i.scene.globe.ellipsoid);if(d!==void 0){let p=Cesium.Cartographic.fromCartesian(d),v=Cesium.Math.toDegrees(p.longitude),g=Cesium.Math.toDegrees(p.latitude);t.longitude=v.toFixed(6),t.latitude=g.toFixed(6)}}},Cesium.ScreenSpaceEventType.LEFT_CLICK),a.setInputAction(function(o){t.height=i.camera.positionCartographic.height.toFixed(1);let l=n(Math.ceil(i.camera.positionCartographic.height));t.zoomLevel=l},Cesium.ScreenSpaceEventType.WHEEL),i.scene.camera.moveEnd.addEventListener(function(){let o=s.direction,l=Cesium.Math.toDegrees(Math.atan2(o.y,o.x));t.cameraHeading=((l+360)%360).toFixed(0);let c=s.pitch;t.pitchDegrees=Cesium.Math.toDegrees(c).toFixed(0)})}}function n(i){let r=40487.57,s=7096758e-11,a=91610.74,o=-40467.74;return Math.round(o+(r-o)/(1+Math.pow(i/a,s)))}return{listenToMouseMovement:e,coords:t}}function fS(t,e){e[2]||(e[2]=1e6),t&&t.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(e[0],e[1],e[2])})}function iue(t,e,n,i){if(!t)return console.error("viewer is undefined"),!1;let r=0;var s=void 0;let a=new Cesium.CustomDataSource("measureLine");t.dataSources.add(a),document.body.style.cursor="crosshair";var o=new Cesium.ScreenSpaceEventHandler(t.scene.canvas);let l={name:e,color:n?Cesium.Color.fromBytes(...n):Cesium.Color.RED,width:i};var c=new Cesium.CustomDataSource("MyLines");t.dataSources.add(c);var d=[],p=void 0;return o.setInputAction(v=>{const g=hS(t,v.position);if(Cesium.defined(g)){if(d.length===0){d.push(g);const y=new Cesium.CallbackProperty(()=>d,!1);p=pS(c,y,l)}d.push(g);try{if(a){let y=r+"米";a.entities.add({name:"空间直线距离",position:d[d.length-1],point:{pixelSize:5,color:Cesium.Color.RED,outlineColor:Cesium.Color.WHITE,outlineWidth:2},label:{text:y,font:"18px sans-serif",fillColor:Cesium.Color.GOLD,style:Cesium.LabelStyle.FILL_AND_OUTLINE,outlineWidth:2,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,pixelOffset:new Cesium.Cartesian2(20,-20)}})}}catch(y){console.log("errorerror",y)}}},Cesium.ScreenSpaceEventType.LEFT_CLICK),o.setInputAction(v=>{if(d.length>=2){const g=hS(t,v.endPosition);Cesium.defined(g)&&(d.pop(),d.push(g)),r=rue(d)}},Cesium.ScreenSpaceEventType.MOUSE_MOVE),o.setInputAction(v=>{o.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE),d.pop(),c.entities.remove(p),s=pS(c,d,l),document.body.style.cursor="default",setTimeout(()=>{d=[],o.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),o.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),o=o&&o.destroy()},500)},Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),s}function hS(t,e){let n;if(t.terrainProvider instanceof Cesium.EllipsoidTerrainProvider)n=t.scene.camera.pickEllipsoid(e);else{const i=t.camera.getPickRay(e);n=t.scene.globe.pick(i,t.scene)}return n}function pS(t,e,n){return t.entities.add({name:n.name,polyline:{positions:e,clampToGround:!0,width:n.width,material:n.color}})}function rue(t){let e=0;for(let n=0;n<t.length-1;n++){let i=Cesium.Cartographic.fromCartesian(t[n]),r=Cesium.Cartographic.fromCartesian(t[n+1]),s=new Cesium.EllipsoidGeodesic;s.setEndPoints(i,r);let a=s.surfaceDistance;a=Math.sqrt(Math.pow(a,2)+Math.pow(r.height-i.height,2)),e=e+a}return e.toFixed(2)}var Wh={exports:{}};Wh.exports;(function(t,e){var n=200,i="__lodash_hash_undefined__",r=9007199254740991,s="[object Arguments]",a="[object Array]",o="[object Boolean]",l="[object Date]",c="[object Error]",d="[object Function]",p="[object GeneratorFunction]",v="[object Map]",g="[object Number]",y="[object Object]",_="[object Promise]",w="[object RegExp]",b="[object Set]",M="[object String]",E="[object Symbol]",x="[object WeakMap]",T="[object ArrayBuffer]",k="[object DataView]",I="[object Float32Array]",O="[object Float64Array]",U="[object Int8Array]",R="[object Int16Array]",N="[object Int32Array]",$="[object Uint8Array]",J="[object Uint8ClampedArray]",Y="[object Uint16Array]",H="[object Uint32Array]",B=/[\\^$.*+?()[\]{}|]/g,X=/\w*$/,q=/^\[object .+?Constructor\]$/,D=/^(?:0|[1-9]\d*)$/,V={};V[s]=V[a]=V[T]=V[k]=V[o]=V[l]=V[I]=V[O]=V[U]=V[R]=V[N]=V[v]=V[g]=V[y]=V[w]=V[b]=V[M]=V[E]=V[$]=V[J]=V[Y]=V[H]=!0,V[c]=V[d]=V[x]=!1;var ee=typeof Pr=="object"&&Pr&&Pr.Object===Object&&Pr,ce=typeof self=="object"&&self&&self.Object===Object&&self,ae=ee||ce||Function("return this")(),le=e&&!e.nodeType&&e,ye=le&&!0&&t&&!t.nodeType&&t,Ee=ye&&ye.exports===le;function pe(ge,Ze){return ge.set(Ze[0],Ze[1]),ge}function ue(ge,Ze){return ge.add(Ze),ge}function Me(ge,Ze){for(var vt=-1,Zt=ge?ge.length:0;++vt<Zt&&Ze(ge[vt],vt,ge)!==!1;);return ge}function De(ge,Ze){for(var vt=-1,Zt=Ze.length,Mi=ge.length;++vt<Zt;)ge[Mi+vt]=Ze[vt];return ge}function xe(ge,Ze,vt,Zt){for(var Mi=-1,Yi=ge?ge.length:0;++Mi<Yi;)vt=Ze(vt,ge[Mi],Mi,ge);return vt}function G(ge,Ze){for(var vt=-1,Zt=Array(ge);++vt<ge;)Zt[vt]=Ze(vt);return Zt}function He(ge,Ze){return ge==null?void 0:ge[Ze]}function Je(ge){var Ze=!1;if(ge!=null&&typeof ge.toString!="function")try{Ze=!!(ge+"")}catch{}return Ze}function at(ge){var Ze=-1,vt=Array(ge.size);return ge.forEach(function(Zt,Mi){vt[++Ze]=[Mi,Zt]}),vt}function rt(ge,Ze){return function(vt){return ge(Ze(vt))}}function it(ge){var Ze=-1,vt=Array(ge.size);return ge.forEach(function(Zt){vt[++Ze]=Zt}),vt}var qe=Array.prototype,ne=Function.prototype,se=Object.prototype,ke=ae["__core-js_shared__"],Be=function(){var ge=/[^.]+$/.exec(ke&&ke.keys&&ke.keys.IE_PROTO||"");return ge?"Symbol(src)_1."+ge:""}(),Ve=ne.toString,Ae=se.hasOwnProperty,Re=se.toString,Xe=RegExp("^"+Ve.call(Ae).replace(B,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gt=Ee?ae.Buffer:void 0,nt=ae.Symbol,Lt=ae.Uint8Array,Ye=rt(Object.getPrototypeOf,Object),xt=Object.create,Te=se.propertyIsEnumerable,ze=qe.splice,de=Object.getOwnPropertySymbols,be=gt?gt.isBuffer:void 0,Ie=rt(Object.keys,Object),yt=Qr(ae,"DataView"),Bt=Qr(ae,"Map"),Ce=Qr(ae,"Promise"),ot=Qr(ae,"Set"),ve=Qr(ae,"WeakMap"),et=Qr(Object,"create"),ut=xi(yt),wt=xi(Bt),Ht=xi(Ce),pn=xi(ot),ht=xi(ve),Rn=nt?nt.prototype:void 0,Qn=Rn?Rn.valueOf:void 0;function mn(ge){var Ze=-1,vt=ge?ge.length:0;for(this.clear();++Ze<vt;){var Zt=ge[Ze];this.set(Zt[0],Zt[1])}}function zn(){this.__data__=et?et(null):{}}function fi(ge){return this.has(ge)&&delete this.__data__[ge]}function _s(ge){var Ze=this.__data__;if(et){var vt=Ze[ge];return vt===i?void 0:vt}return Ae.call(Ze,ge)?Ze[ge]:void 0}function lr(ge){var Ze=this.__data__;return et?Ze[ge]!==void 0:Ae.call(Ze,ge)}function Ur(ge,Ze){var vt=this.__data__;return vt[ge]=et&&Ze===void 0?i:Ze,this}mn.prototype.clear=zn,mn.prototype.delete=fi,mn.prototype.get=_s,mn.prototype.has=lr,mn.prototype.set=Ur;function mi(ge){var Ze=-1,vt=ge?ge.length:0;for(this.clear();++Ze<vt;){var Zt=ge[Ze];this.set(Zt[0],Zt[1])}}function tt(){this.__data__=[]}function It(ge){var Ze=this.__data__,vt=Ei(Ze,ge);if(vt<0)return!1;var Zt=Ze.length-1;return vt==Zt?Ze.pop():ze.call(Ze,vt,1),!0}function fn(ge){var Ze=this.__data__,vt=Ei(Ze,ge);return vt<0?void 0:Ze[vt][1]}function dn(ge){return Ei(this.__data__,ge)>-1}function Ri(ge,Ze){var vt=this.__data__,Zt=Ei(vt,ge);return Zt<0?vt.push([ge,Ze]):vt[Zt][1]=Ze,this}mi.prototype.clear=tt,mi.prototype.delete=It,mi.prototype.get=fn,mi.prototype.has=dn,mi.prototype.set=Ri;function ai(ge){var Ze=-1,vt=ge?ge.length:0;for(this.clear();++Ze<vt;){var Zt=ge[Ze];this.set(Zt[0],Zt[1])}}function me(){this.__data__={hash:new mn,map:new(Bt||mi),string:new mn}}function Ue(ge){return Io(this,ge).delete(ge)}function Ke(ge){return Io(this,ge).get(ge)}function Qe(ge){return Io(this,ge).has(ge)}function Se(ge,Ze){return Io(this,ge).set(ge,Ze),this}ai.prototype.clear=me,ai.prototype.delete=Ue,ai.prototype.get=Ke,ai.prototype.has=Qe,ai.prototype.set=Se;function $e(ge){this.__data__=new mi(ge)}function mt(){this.__data__=new mi}function kt(ge){return this.__data__.delete(ge)}function qt(ge){return this.__data__.get(ge)}function Qt(ge){return this.__data__.has(ge)}function an(ge,Ze){var vt=this.__data__;if(vt instanceof mi){var Zt=vt.__data__;if(!Bt||Zt.length<n-1)return Zt.push([ge,Ze]),this;vt=this.__data__=new ai(Zt)}return vt.set(ge,Ze),this}$e.prototype.clear=mt,$e.prototype.delete=kt,$e.prototype.get=qt,$e.prototype.has=Qt,$e.prototype.set=an;function ln(ge,Ze){var vt=Cc(ge)||tm(ge)?G(ge.length,String):[],Zt=vt.length,Mi=!!Zt;for(var Yi in ge)Ae.call(ge,Yi)&&!(Mi&&(Yi=="length"||Kn(Yi,Zt)))&&vt.push(Yi);return vt}function $n(ge,Ze,vt){var Zt=ge[Ze];(!(Ae.call(ge,Ze)&&Lo(Zt,vt))||vt===void 0&&!(Ze in ge))&&(ge[Ze]=vt)}function Ei(ge,Ze){for(var vt=ge.length;vt--;)if(Lo(ge[vt][0],Ze))return vt;return-1}function In(ge,Ze){return ge&&Ro(Ze,Bl(Ze),ge)}function Ci(ge,Ze,vt,Zt,Mi,Yi,es){var si;if(Zt&&(si=Yi?Zt(ge,Mi,Yi,es):Zt(ge)),si!==void 0)return si;if(!ur(ge))return ge;var Oo=Cc(ge);if(Oo){if(si=ef(ge),!Ze)return wc(ge,si)}else{var $a=ma(ge),cr=$a==d||$a==p;if(nm(ge))return Ol(ge,Ze);if($a==y||$a==s||cr&&!Yi){if(Je(ge))return Yi?ge:{};if(si=Qp(cr?{}:ge),!Ze)return Zp(ge,In(si,ge))}else{if(!V[$a])return Yi?ge:{};si=Ec(ge,$a,Ci,Ze)}}es||(es=new $e);var ga=es.get(ge);if(ga)return ga;if(es.set(ge,si),!Oo)var nf=vt?Jp(ge):Bl(ge);return Me(nf||ge,function(qs,Do){nf&&(Do=qs,qs=ge[Do]),$n(si,Do,Ci(qs,Ze,vt,Zt,Do,ge,es))}),si}function On(ge){return ur(ge)?xt(ge):{}}function un(ge,Ze,vt){var Zt=Ze(ge);return Cc(ge)?Zt:De(Zt,vt(ge))}function pa(ge){return Re.call(ge)}function Wn(ge){if(!ur(ge)||em(ge))return!1;var Ze=Mc(ge)||Je(ge)?Xe:q;return Ze.test(xi(ge))}function bs(ge){if(!Dl(ge))return Ie(ge);var Ze=[];for(var vt in Object(ge))Ae.call(ge,vt)&&vt!="constructor"&&Ze.push(vt);return Ze}function Ol(ge,Ze){if(Ze)return ge.slice();var vt=new ge.constructor(ge.length);return ge.copy(vt),vt}function Zr(ge){var Ze=new ge.constructor(ge.byteLength);return new Lt(Ze).set(new Lt(ge)),Ze}function za(ge,Ze){var vt=Ze?Zr(ge.buffer):ge.buffer;return new ge.constructor(vt,ge.byteOffset,ge.byteLength)}function oi(ge,Ze,vt){var Zt=Ze?vt(at(ge),!0):at(ge);return xe(Zt,pe,new ge.constructor)}function Ii(ge){var Ze=new ge.constructor(ge.source,X.exec(ge));return Ze.lastIndex=ge.lastIndex,Ze}function wr(ge,Ze,vt){var Zt=Ze?vt(it(ge),!0):it(ge);return xe(Zt,ue,new ge.constructor)}function Hi(ge){return Qn?Object(Qn.call(ge)):{}}function Jr(ge,Ze){var vt=Ze?Zr(ge.buffer):ge.buffer;return new ge.constructor(vt,ge.byteOffset,ge.length)}function wc(ge,Ze){var vt=-1,Zt=ge.length;for(Ze||(Ze=Array(Zt));++vt<Zt;)Ze[vt]=ge[vt];return Ze}function Ro(ge,Ze,vt,Zt){vt||(vt={});for(var Mi=-1,Yi=Ze.length;++Mi<Yi;){var es=Ze[Mi],si=void 0;$n(vt,es,si===void 0?ge[es]:si)}return vt}function Zp(ge,Ze){return Ro(ge,Sc(ge),Ze)}function Jp(ge){return un(ge,Bl,Sc)}function Io(ge,Ze){var vt=ge.__data__;return va(Ze)?vt[typeof Ze=="string"?"string":"hash"]:vt.map}function Qr(ge,Ze){var vt=He(ge,Ze);return Wn(vt)?vt:void 0}var Sc=de?rt(de,Object):No,ma=pa;(yt&&ma(new yt(new ArrayBuffer(1)))!=k||Bt&&ma(new Bt)!=v||Ce&&ma(Ce.resolve())!=_||ot&&ma(new ot)!=b||ve&&ma(new ve)!=x)&&(ma=function(ge){var Ze=Re.call(ge),vt=Ze==y?ge.constructor:void 0,Zt=vt?xi(vt):void 0;if(Zt)switch(Zt){case ut:return k;case wt:return v;case Ht:return _;case pn:return b;case ht:return x}return Ze});function ef(ge){var Ze=ge.length,vt=ge.constructor(Ze);return Ze&&typeof ge[0]=="string"&&Ae.call(ge,"index")&&(vt.index=ge.index,vt.input=ge.input),vt}function Qp(ge){return typeof ge.constructor=="function"&&!Dl(ge)?On(Ye(ge)):{}}function Ec(ge,Ze,vt,Zt){var Mi=ge.constructor;switch(Ze){case T:return Zr(ge);case o:case l:return new Mi(+ge);case k:return za(ge,Zt);case I:case O:case U:case R:case N:case $:case J:case Y:case H:return Jr(ge,Zt);case v:return oi(ge,Zt,vt);case g:case M:return new Mi(ge);case w:return Ii(ge);case b:return wr(ge,Zt,vt);case E:return Hi(ge)}}function Kn(ge,Ze){return Ze=Ze??r,!!Ze&&(typeof ge=="number"||D.test(ge))&&ge>-1&&ge%1==0&&ge<Ze}function va(ge){var Ze=typeof ge;return Ze=="string"||Ze=="number"||Ze=="symbol"||Ze=="boolean"?ge!=="__proto__":ge===null}function em(ge){return!!Be&&Be in ge}function Dl(ge){var Ze=ge&&ge.constructor,vt=typeof Ze=="function"&&Ze.prototype||se;return ge===vt}function xi(ge){if(ge!=null){try{return Ve.call(ge)}catch{}try{return ge+""}catch{}}return""}function Sr(ge){return Ci(ge,!0,!0)}function Lo(ge,Ze){return ge===Ze||ge!==ge&&Ze!==Ze}function tm(ge){return Fl(ge)&&Ae.call(ge,"callee")&&(!Te.call(ge,"callee")||Re.call(ge)==s)}var Cc=Array.isArray;function xc(ge){return ge!=null&&kn(ge.length)&&!Mc(ge)}function Fl(ge){return Tc(ge)&&xc(ge)}var nm=be||tf;function Mc(ge){var Ze=ur(ge)?Re.call(ge):"";return Ze==d||Ze==p}function kn(ge){return typeof ge=="number"&&ge>-1&&ge%1==0&&ge<=r}function ur(ge){var Ze=typeof ge;return!!ge&&(Ze=="object"||Ze=="function")}function Tc(ge){return!!ge&&typeof ge=="object"}function Bl(ge){return xc(ge)?ln(ge):bs(ge)}function No(){return[]}function tf(){return!1}t.exports=Sr})(Wh,Wh.exports);var sue=Wh.exports;const aue=Ws(sue);var xr=63710088e-1,Ck={centimeters:xr*100,centimetres:xr*100,degrees:360/(2*Math.PI),feet:xr*3.28084,inches:xr*39.37,kilometers:xr/1e3,kilometres:xr/1e3,meters:xr,metres:xr,miles:xr/1609.344,millimeters:xr*1e3,millimetres:xr*1e3,nauticalmiles:xr/1852,radians:1,yards:xr*1.0936};function Bp(t,e,n={}){const i={type:"Feature"};return(n.id===0||n.id)&&(i.id=n.id),n.bbox&&(i.bbox=n.bbox),i.properties=e||{},i.geometry=t,i}function x_(t,e,n={}){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!mS(t[0])||!mS(t[1]))throw new Error("coordinates must contain numbers");return Bp({type:"Point",coordinates:t},e,n)}function xk(t,e,n={}){for(const r of t){if(r.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(r[r.length-1].length!==r[0].length)throw new Error("First and last Position are not equivalent.");for(let s=0;s<r[r.length-1].length;s++)if(r[r.length-1][s]!==r[0][s])throw new Error("First and last Position are not equivalent.")}return Bp({type:"Polygon",coordinates:t},e,n)}function oue(t,e,n={}){if(t.length<2)throw new Error("coordinates must be an array of two or more positions");return Bp({type:"LineString",coordinates:t},e,n)}function Zg(t,e={}){const n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function lue(t,e="kilometers"){const n=Ck[e];if(!n)throw new Error(e+" units is invalid");return t*n}function uue(t,e="kilometers"){const n=Ck[e];if(!n)throw new Error(e+" units is invalid");return t/n}function cue(t){return t%(2*Math.PI)*180/Math.PI}function $m(t){return t%360*Math.PI/180}function mS(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}function Kc(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return[...t.geometry.coordinates];if(t.type==="Point")return[...t.coordinates]}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return[...t];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function due(t){return t.type==="Feature"?t.geometry:t}function fue(t,e,n={}){let i;return n.final?i=vS(Kc(e),Kc(t)):i=vS(Kc(t),Kc(e)),i>180?-(360-i):i}function vS(t,e){const n=$m(t[1]),i=$m(e[1]);let r=$m(e[0]-t[0]);r>Math.PI&&(r-=2*Math.PI),r<-Math.PI&&(r+=2*Math.PI);const s=Math.log(Math.tan(i/2+Math.PI/4)/Math.tan(n/2+Math.PI/4)),a=Math.atan2(r,s);return(cue(a)+360)%360}function Mk(t,e,n){if(t!==null)for(var i,r,s,a,o,l,c,d=0,p=0,v,g=t.type,y=g==="FeatureCollection",_=g==="Feature",w=y?t.features.length:1,b=0;b<w;b++){c=y?t.features[b].geometry:_?t.geometry:t,v=c?c.type==="GeometryCollection":!1,o=v?c.geometries.length:1;for(var M=0;M<o;M++){var E=0,x=0;if(a=v?c.geometries[M]:c,a!==null){l=a.coordinates;var T=a.type;switch(d=0,T){case null:break;case"Point":if(e(l,p,b,E,x)===!1)return!1;p++,E++;break;case"LineString":case"MultiPoint":for(i=0;i<l.length;i++){if(e(l[i],p,b,E,x)===!1)return!1;p++,T==="MultiPoint"&&E++}T==="LineString"&&E++;break;case"Polygon":case"MultiLineString":for(i=0;i<l.length;i++){for(r=0;r<l[i].length-d;r++){if(e(l[i][r],p,b,E,x)===!1)return!1;p++}T==="MultiLineString"&&E++,T==="Polygon"&&x++}T==="Polygon"&&E++;break;case"MultiPolygon":for(i=0;i<l.length;i++){for(x=0,r=0;r<l[i].length;r++){for(s=0;s<l[i][r].length-d;s++){if(e(l[i][r][s],p,b,E,x)===!1)return!1;p++}x++}E++}break;case"GeometryCollection":for(i=0;i<a.geometries.length;i++)if(Mk(a.geometries[i],e)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function gS(t,e){if(t.type==="Feature")e(t,0);else if(t.type==="FeatureCollection")for(var n=0;n<t.features.length&&e(t.features[n],n)!==!1;n++);}function Tk(t,e){var n,i,r,s,a,o,l,c,d,p,v=0,g=t.type==="FeatureCollection",y=t.type==="Feature",_=g?t.features.length:1;for(n=0;n<_;n++){for(o=g?t.features[n].geometry:y?t.geometry:t,c=g?t.features[n].properties:y?t.properties:{},d=g?t.features[n].bbox:y?t.bbox:void 0,p=g?t.features[n].id:y?t.id:void 0,l=o?o.type==="GeometryCollection":!1,a=l?o.geometries.length:1,r=0;r<a;r++){if(s=l?o.geometries[r]:o,s===null){if(e(null,v,c,d,p)===!1)return!1;continue}switch(s.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(s,v,c,d,p)===!1)return!1;break}case"GeometryCollection":{for(i=0;i<s.geometries.length;i++)if(e(s.geometries[i],v,c,d,p)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}v++}}function hue(t,e={}){if(t.bbox!=null&&e.recompute!==!0)return t.bbox;const n=[1/0,1/0,-1/0,-1/0];return Mk(t,i=>{n[0]>i[0]&&(n[0]=i[0]),n[1]>i[1]&&(n[1]=i[1]),n[2]<i[0]&&(n[2]=i[0]),n[3]<i[1]&&(n[3]=i[1])}),n}function pue(t,e){var n=0,i=0,r=0,s=0,a=0,o=0,l=0,c=0,d=null,p=null,v=t[0],g=t[1],y=e.length;for(n;n<y;n++){i=0;var _=e[n].length-1,w=e[n];if(d=w[0],d[0]!==w[_][0]&&d[1]!==w[_][1])throw new Error("First and last coordinates in a ring must be the same");for(a=d[0]-v,o=d[1]-g,i;i<_;i++){if(p=w[i+1],c=p[1]-g,o<0&&c<0||o>0&&c>0){d=p,o=c,a=d[0]-v;continue}if(l=p[0]-t[0],c>0&&o<=0){if(s=a*c-l*o,s>0)r=r+1;else if(s===0)return 0}else if(o>0&&c<=0){if(s=a*c-l*o,s<0)r=r+1;else if(s===0)return 0}else if(c===0&&o<0){if(s=a*c-l*o,s===0)return 0}else if(o===0&&c<0){if(s=a*c-l*o,s===0)return 0}else if(o===0&&c===0){if(l<=0&&a>=0)return 0;if(a<=0&&l>=0)return 0}d=p,o=c,a=l}}return r%2!==0}function mue(t,e,n={}){if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");const i=Kc(t),r=due(e),s=r.type,a=e.bbox;let o=r.coordinates;if(a&&vue(i,a)===!1)return!1;s==="Polygon"&&(o=[o]);let l=!1;for(var c=0;c<o.length;++c){const d=pue(i,o[c]);if(d===0)return!n.ignoreBoundary;d&&(l=!0)}return l}function vue(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}function gue(t,e={}){const n=hue(t),i=(n[0]+n[2])/2,r=(n[1]+n[3])/2;return x_([i,r],e.properties,e)}var Ak={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Pr,function(){function n(C,u){if(!(C instanceof u))throw new TypeError("Cannot call a class as a function")}function i(C,u){for(var h=0;h<u.length;h++){var m=u[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(C,m.key,m)}}function r(C,u,h){return u&&i(C.prototype,u),h&&i(C,h),C}function s(C,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(u&&u.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),u&&o(C,u)}function a(C){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},a(C)}function o(C,u){return o=Object.setPrototypeOf||function(h,m){return h.__proto__=m,h},o(C,u)}function l(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function c(C,u,h){return c=l()?Reflect.construct:function(m,S,A){var F=[null];F.push.apply(F,S);var j=new(Function.bind.apply(m,F));return A&&o(j,A.prototype),j},c.apply(null,arguments)}function d(C){var u=typeof Map=="function"?new Map:void 0;return d=function(h){if(h===null||(m=h,Function.toString.call(m).indexOf("[native code]")===-1))return h;var m;if(typeof h!="function")throw new TypeError("Super expression must either be null or a function");if(u!==void 0){if(u.has(h))return u.get(h);u.set(h,S)}function S(){return c(h,arguments,a(this).constructor)}return S.prototype=Object.create(h.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),o(S,h)},d(C)}function p(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function v(C,u){if(u&&(typeof u=="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(C)}function g(C){var u=l();return function(){var h,m=a(C);if(u){var S=a(this).constructor;h=Reflect.construct(m,arguments,S)}else h=m.apply(this,arguments);return v(this,h)}}function y(C,u,h){return y=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(m,S,A){var F=function(re,fe){for(;!Object.prototype.hasOwnProperty.call(re,fe)&&(re=a(re))!==null;);return re}(m,S);if(F){var j=Object.getOwnPropertyDescriptor(F,S);return j.get?j.get.call(A):j.value}},y(C,u,h||C)}function _(C){return function(u){if(Array.isArray(u))return b(u)}(C)||function(u){if(typeof Symbol<"u"&&u[Symbol.iterator]!=null||u["@@iterator"]!=null)return Array.from(u)}(C)||w(C)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function w(C,u){if(C){if(typeof C=="string")return b(C,u);var h=Object.prototype.toString.call(C).slice(8,-1);return h==="Object"&&C.constructor&&(h=C.constructor.name),h==="Map"||h==="Set"?Array.from(C):h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h)?b(C,u):void 0}}function b(C,u){(u==null||u>C.length)&&(u=C.length);for(var h=0,m=new Array(u);h<u;h++)m[h]=C[h];return m}function M(C,u){var h=typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(!h){if(Array.isArray(C)||(h=w(C))||u){h&&(C=h);var m=0,S=function(){};return{s:S,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(re){throw re},f:S}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var A,F=!0,j=!1;return{s:function(){h=h.call(C)},n:function(){var re=h.next();return F=re.done,re},e:function(re){j=!0,A=re},f:function(){try{F||h.return==null||h.return()}finally{if(j)throw A}}}}var E=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(u){this._quadrantSegments=u,this._quadrantSegments===0&&(this._joinStyle=C.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=C.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),u<=0&&(this._quadrantSegments=1),this._joinStyle!==C.JOIN_ROUND&&(this._quadrantSegments=C.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(u){this._joinStyle=u}},{key:"setSimplifyFactor",value:function(u){this._simplifyFactor=u<0?0:u}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(u){this._endCapStyle=u}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(u){this._mitreLimit=u}},{key:"setSingleSided",value:function(u){this._isSingleSided=u}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=C.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=C.CAP_ROUND,this._joinStyle=C.JOIN_ROUND,this._mitreLimit=C.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=C.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var u=arguments[0];this.setQuadrantSegments(u)}else if(arguments.length===2){var h=arguments[0],m=arguments[1];this.setQuadrantSegments(h),this.setEndCapStyle(m)}else if(arguments.length===4){var S=arguments[0],A=arguments[1],F=arguments[2],j=arguments[3];this.setQuadrantSegments(S),this.setEndCapStyle(A),this.setJoinStyle(F),this.setMitreLimit(j)}}}},{key:"bufferDistanceError",value:function(u){var h=Math.PI/2/u;return 1-Math.cos(h/2)}}]),C}();E.CAP_ROUND=1,E.CAP_FLAT=2,E.CAP_SQUARE=3,E.JOIN_ROUND=1,E.JOIN_MITRE=2,E.JOIN_BEVEL=3,E.DEFAULT_QUADRANT_SEGMENTS=8,E.DEFAULT_MITRE_LIMIT=5,E.DEFAULT_SIMPLIFY_FACTOR=.01;var x=function(C){s(h,C);var u=g(h);function h(m){var S;return n(this,h),(S=u.call(this,m)).name=Object.keys({Exception:h})[0],S}return r(h,[{key:"toString",value:function(){return this.message}}]),h}(d(Error)),T=function(C){s(h,C);var u=g(h);function h(m){var S;return n(this,h),(S=u.call(this,m)).name=Object.keys({IllegalArgumentException:h})[0],S}return h}(x),k=function(){function C(){n(this,C)}return r(C,[{key:"filter",value:function(u){}}]),C}();function I(){}function O(){}function U(){}var R,N,$,J,Y,H,B,X,q=function(){function C(){n(this,C)}return r(C,null,[{key:"equalsWithTolerance",value:function(u,h,m){return Math.abs(u-h)<=m}}]),C}(),D=function(){function C(u,h){n(this,C),this.low=h||0,this.high=u||0}return r(C,null,[{key:"toBinaryString",value:function(u){var h,m="";for(h=2147483648;h>0;h>>>=1)m+=(u.high&h)===h?"1":"0";for(h=2147483648;h>0;h>>>=1)m+=(u.low&h)===h?"1":"0";return m}}]),C}();function V(){}function ee(){}V.NaN=NaN,V.isNaN=function(C){return Number.isNaN(C)},V.isInfinite=function(C){return!Number.isFinite(C)},V.MAX_VALUE=Number.MAX_VALUE,V.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,V.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,typeof Float64Array=="function"&&typeof Int32Array=="function"?(H=2146435072,B=new Float64Array(1),X=new Int32Array(B.buffer),V.doubleToLongBits=function(C){B[0]=C;var u=0|X[0],h=0|X[1];return(h&H)===H&&1048575&h&&u!==0&&(u=0,h=2146959360),new D(h,u)},V.longBitsToDouble=function(C){return X[0]=C.low,X[1]=C.high,B[0]}):(R=1023,N=Math.log2,$=Math.floor,J=Math.pow,Y=function(){for(var C=53;C>0;C--){var u=J(2,C)-1;if($(N(u))+1===C)return u}return 0}(),V.doubleToLongBits=function(C){var u,h,m,S,A,F,j,re,fe;if(C<0||1/C===Number.NEGATIVE_INFINITY?(F=1<<31,C=-C):F=0,C===0)return new D(re=F,fe=0);if(C===1/0)return new D(re=2146435072|F,fe=0);if(C!=C)return new D(re=2146959360,fe=0);if(S=0,fe=0,(u=$(C))>1)if(u<=Y)(S=$(N(u)))<=20?(fe=0,re=u<<20-S&1048575):(fe=u%(h=J(2,m=S-20))<<32-m,re=u/h&1048575);else for(m=u,fe=0;(m=$(h=m/2))!==0;)S++,fe>>>=1,fe|=(1&re)<<31,re>>>=1,h!==m&&(re|=524288);if(j=S+R,A=u===0,u=C-u,S<52&&u!==0)for(m=0;;){if((h=2*u)>=1?(u=h-1,A?(j--,A=!1):(m<<=1,m|=1,S++)):(u=h,A?--j==0&&(S++,A=!1):(m<<=1,S++)),S===20)re|=m,m=0;else if(S===52){fe|=m;break}if(h===1){S<20?re|=m<<20-S:S<52&&(fe|=m<<52-S);break}}return re|=j<<20,new D(re|=F,fe)},V.longBitsToDouble=function(C){var u,h,m,S,A=C.high,F=C.low,j=A&1<<31?-1:1;for(m=((2146435072&A)>>20)-R,S=0,h=1<<19,u=1;u<=20;u++)A&h&&(S+=J(2,-u)),h>>>=1;for(h=1<<31,u=21;u<=52;u++)F&h&&(S+=J(2,-u)),h>>>=1;if(m===-1023){if(S===0)return 0*j;m=-1022}else{if(m===1024)return S===0?j/0:NaN;S+=1}return j*S*J(2,m)});var ce=function(C){s(h,C);var u=g(h);function h(m){var S;return n(this,h),(S=u.call(this,m)).name=Object.keys({RuntimeException:h})[0],S}return h}(x),ae=function(C){s(h,C);var u=g(h);function h(){var m;return n(this,h),m=u.call(this),h.constructor_.apply(p(m),arguments),m}return r(h,null,[{key:"constructor_",value:function(){if(arguments.length===0)ce.constructor_.call(this);else if(arguments.length===1){var m=arguments[0];ce.constructor_.call(this,m)}}}]),h}(ce),le=function(){function C(){n(this,C)}return r(C,null,[{key:"shouldNeverReachHere",value:function(){if(arguments.length===0)C.shouldNeverReachHere(null);else if(arguments.length===1){var u=arguments[0];throw new ae("Should never reach here"+(u!==null?": "+u:""))}}},{key:"isTrue",value:function(){if(arguments.length===1){var u=arguments[0];C.isTrue(u,null)}else if(arguments.length===2){var h=arguments[0],m=arguments[1];if(!h)throw m===null?new ae:new ae(m)}}},{key:"equals",value:function(){if(arguments.length===2){var u=arguments[0],h=arguments[1];C.equals(u,h,null)}else if(arguments.length===3){var m=arguments[0],S=arguments[1],A=arguments[2];if(!S.equals(m))throw new ae("Expected "+m+" but encountered "+S+(A!==null?": "+A:""))}}}]),C}(),ye=new ArrayBuffer(8),Ee=new Float64Array(ye),pe=new Int32Array(ye),ue=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"getM",value:function(){return V.NaN}},{key:"setOrdinate",value:function(u,h){switch(u){case C.X:this.x=h;break;case C.Y:this.y=h;break;case C.Z:this.setZ(h);break;default:throw new T("Invalid ordinate index: "+u)}}},{key:"equals2D",value:function(){if(arguments.length===1){var u=arguments[0];return this.x===u.x&&this.y===u.y}if(arguments.length===2){var h=arguments[0],m=arguments[1];return!!q.equalsWithTolerance(this.x,h.x,m)&&!!q.equalsWithTolerance(this.y,h.y,m)}}},{key:"setM",value:function(u){throw new T("Invalid ordinate index: "+C.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(u){switch(u){case C.X:return this.x;case C.Y:return this.y;case C.Z:return this.getZ()}throw new T("Invalid ordinate index: "+u)}},{key:"equals3D",value:function(u){return this.x===u.x&&this.y===u.y&&(this.getZ()===u.getZ()||V.isNaN(this.getZ())&&V.isNaN(u.getZ()))}},{key:"equals",value:function(u){return u instanceof C&&this.equals2D(u)}},{key:"equalInZ",value:function(u,h){return q.equalsWithTolerance(this.getZ(),u.getZ(),h)}},{key:"setX",value:function(u){this.x=u}},{key:"compareTo",value:function(u){var h=u;return this.x<h.x?-1:this.x>h.x?1:this.y<h.y?-1:this.y>h.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(u){this.z=u}},{key:"clone",value:function(){try{return null}catch(u){if(u instanceof CloneNotSupportedException)return le.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw u}}},{key:"copy",value:function(){return new C(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(u){var h=this.x-u.x,m=this.y-u.y,S=this.getZ()-u.getZ();return Math.sqrt(h*h+m*m+S*S)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(u){this.y=u}},{key:"distance",value:function(u){var h=this.x-u.x,m=this.y-u.y;return Math.sqrt(h*h+m*m)}},{key:"hashCode",value:function(){var u=17;return u=37*(u=37*u+C.hashCode(this.x))+C.hashCode(this.y)}},{key:"setCoordinate",value:function(u){this.x=u.x,this.y=u.y,this.z=u.getZ()}},{key:"interfaces_",get:function(){return[I,O,U]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)C.constructor_.call(this,0,0);else if(arguments.length===1){var u=arguments[0];C.constructor_.call(this,u.x,u.y,u.getZ())}else if(arguments.length===2){var h=arguments[0],m=arguments[1];C.constructor_.call(this,h,m,C.NULL_ORDINATE)}else if(arguments.length===3){var S=arguments[0],A=arguments[1],F=arguments[2];this.x=S,this.y=A,this.z=F}}},{key:"hashCode",value:function(u){return Ee[0]=u,pe[0]^pe[1]}}]),C}(),Me=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"compare",value:function(u,h){var m=C.compare(u.x,h.x);if(m!==0)return m;var S=C.compare(u.y,h.y);return S!==0?S:this._dimensionsToTest<=2?0:C.compare(u.getZ(),h.getZ())}},{key:"interfaces_",get:function(){return[ee]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,arguments.length===0)C.constructor_.call(this,2);else if(arguments.length===1){var u=arguments[0];if(u!==2&&u!==3)throw new T("only 2 or 3 dimensions may be specified");this._dimensionsToTest=u}}},{key:"compare",value:function(u,h){return u<h?-1:u>h?1:V.isNaN(u)?V.isNaN(h)?0:-1:V.isNaN(h)?1:0}}]),C}();ue.DimensionalComparator=Me,ue.NULL_ORDINATE=V.NaN,ue.X=0,ue.Y=1,ue.Z=2,ue.M=3;var De=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(u){if(!(u instanceof C))return!1;var h=u;return this.isNull()?h.isNull():this._maxx===h.getMaxX()&&this._maxy===h.getMaxY()&&this._minx===h.getMinX()&&this._miny===h.getMinY()}},{key:"intersection",value:function(u){if(this.isNull()||u.isNull()||!this.intersects(u))return new C;var h=this._minx>u._minx?this._minx:u._minx,m=this._miny>u._miny?this._miny:u._miny;return new C(h,this._maxx<u._maxx?this._maxx:u._maxx,m,this._maxy<u._maxy?this._maxy:u._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(arguments.length===1){if(arguments[0]instanceof ue){var u=arguments[0];return this.covers(u.x,u.y)}if(arguments[0]instanceof C){var h=arguments[0];return!this.isNull()&&!h.isNull()&&h.getMinX()>=this._minx&&h.getMaxX()<=this._maxx&&h.getMinY()>=this._miny&&h.getMaxY()<=this._maxy}}else if(arguments.length===2){var m=arguments[0],S=arguments[1];return!this.isNull()&&m>=this._minx&&m<=this._maxx&&S>=this._miny&&S<=this._maxy}}},{key:"intersects",value:function(){if(arguments.length===1){if(arguments[0]instanceof C){var u=arguments[0];return!this.isNull()&&!u.isNull()&&!(u._minx>this._maxx||u._maxx<this._minx||u._miny>this._maxy||u._maxy<this._miny)}if(arguments[0]instanceof ue){var h=arguments[0];return this.intersects(h.x,h.y)}}else if(arguments.length===2){if(arguments[0]instanceof ue&&arguments[1]instanceof ue){var m=arguments[0],S=arguments[1];if(this.isNull())return!1;var A=m.x<S.x?m.x:S.x;if(A>this._maxx)return!1;var F=m.x>S.x?m.x:S.x;if(F<this._minx)return!1;var j=m.y<S.y?m.y:S.y;if(j>this._maxy)return!1;var re=m.y>S.y?m.y:S.y;return!(re<this._miny)}if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var fe=arguments[0],Pe=arguments[1];return!this.isNull()&&!(fe>this._maxx||fe<this._minx||Pe>this._maxy||Pe<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var u=this.getWidth(),h=this.getHeight();return Math.sqrt(u*u+h*h)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(arguments.length===1){if(arguments[0]instanceof ue){var u=arguments[0];this.expandToInclude(u.x,u.y)}else if(arguments[0]instanceof C){var h=arguments[0];if(h.isNull())return null;this.isNull()?(this._minx=h.getMinX(),this._maxx=h.getMaxX(),this._miny=h.getMinY(),this._maxy=h.getMaxY()):(h._minx<this._minx&&(this._minx=h._minx),h._maxx>this._maxx&&(this._maxx=h._maxx),h._miny<this._miny&&(this._miny=h._miny),h._maxy>this._maxy&&(this._maxy=h._maxy))}}else if(arguments.length===2){var m=arguments[0],S=arguments[1];this.isNull()?(this._minx=m,this._maxx=m,this._miny=S,this._maxy=S):(m<this._minx&&(this._minx=m),m>this._maxx&&(this._maxx=m),S<this._miny&&(this._miny=S),S>this._maxy&&(this._maxy=S))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var u=this.getWidth(),h=this.getHeight();return u<h?u:h}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(u){var h=u;return this.isNull()?h.isNull()?0:-1:h.isNull()?1:this._minx<h._minx?-1:this._minx>h._minx?1:this._miny<h._miny?-1:this._miny>h._miny?1:this._maxx<h._maxx?-1:this._maxx>h._maxx?1:this._maxy<h._maxy?-1:this._maxy>h._maxy?1:0}},{key:"translate",value:function(u,h){if(this.isNull())return null;this.init(this.getMinX()+u,this.getMaxX()+u,this.getMinY()+h,this.getMaxY()+h)}},{key:"copy",value:function(){return new C(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(u){return!(!this.isNull()&&!u.isNull())||u._minx>this._maxx||u._maxx<this._minx||u._miny>this._maxy||u._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var u=this.getWidth(),h=this.getHeight();return u>h?u:h}},{key:"expandBy",value:function(){if(arguments.length===1){var u=arguments[0];this.expandBy(u,u)}else if(arguments.length===2){var h=arguments[0],m=arguments[1];if(this.isNull())return null;this._minx-=h,this._maxx+=h,this._miny-=m,this._maxy+=m,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(arguments.length===1){if(arguments[0]instanceof C){var u=arguments[0];return this.covers(u)}if(arguments[0]instanceof ue){var h=arguments[0];return this.covers(h)}}else if(arguments.length===2){var m=arguments[0],S=arguments[1];return this.covers(m,S)}}},{key:"centre",value:function(){return this.isNull()?null:new ue((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof ue){var u=arguments[0];this.init(u.x,u.x,u.y,u.y)}else if(arguments[0]instanceof C){var h=arguments[0];this._minx=h._minx,this._maxx=h._maxx,this._miny=h._miny,this._maxy=h._maxy}}else if(arguments.length===2){var m=arguments[0],S=arguments[1];this.init(m.x,S.x,m.y,S.y)}else if(arguments.length===4){var A=arguments[0],F=arguments[1],j=arguments[2],re=arguments[3];A<F?(this._minx=A,this._maxx=F):(this._minx=F,this._maxx=A),j<re?(this._miny=j,this._maxy=re):(this._miny=re,this._maxy=j)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(u){if(this.intersects(u))return 0;var h=0;this._maxx<u._minx?h=u._minx-this._maxx:this._minx>u._maxx&&(h=this._minx-u._maxx);var m=0;return this._maxy<u._miny?m=u._miny-this._maxy:this._miny>u._maxy&&(m=this._miny-u._maxy),h===0?m:m===0?h:Math.sqrt(h*h+m*m)}},{key:"hashCode",value:function(){var u=17;return u=37*(u=37*(u=37*(u=37*u+ue.hashCode(this._minx))+ue.hashCode(this._maxx))+ue.hashCode(this._miny))+ue.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[I,U]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof ue){var u=arguments[0];this.init(u.x,u.x,u.y,u.y)}else if(arguments[0]instanceof C){var h=arguments[0];this.init(h)}}else if(arguments.length===2){var m=arguments[0],S=arguments[1];this.init(m.x,S.x,m.y,S.y)}else if(arguments.length===4){var A=arguments[0],F=arguments[1],j=arguments[2],re=arguments[3];this.init(A,F,j,re)}}},{key:"intersects",value:function(){if(arguments.length===3){var u=arguments[0],h=arguments[1],m=arguments[2];return m.x>=(u.x<h.x?u.x:h.x)&&m.x<=(u.x>h.x?u.x:h.x)&&m.y>=(u.y<h.y?u.y:h.y)&&m.y<=(u.y>h.y?u.y:h.y)}if(arguments.length===4){var S=arguments[0],A=arguments[1],F=arguments[2],j=arguments[3],re=Math.min(F.x,j.x),fe=Math.max(F.x,j.x),Pe=Math.min(S.x,A.x),Oe=Math.max(S.x,A.x);return!(Pe>fe)&&!(Oe<re)&&(re=Math.min(F.y,j.y),fe=Math.max(F.y,j.y),Pe=Math.min(S.y,A.y),Oe=Math.max(S.y,A.y),!(Pe>fe)&&!(Oe<re))}}}]),C}(),xe=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===C.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(u){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(u){return this===u||this.equalsExact(u,0)}},{key:"geometryChanged",value:function(){this.apply(C.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(u){return u!==null&&this.norm().equalsExact(u.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var u;if(arguments.length===1){var h=arguments[0];return u=h,this.getTypeCode()!==u.getTypeCode()?this.getTypeCode()-u.getTypeCode():this.isEmpty()&&u.isEmpty()?0:this.isEmpty()?-1:u.isEmpty()?1:this.compareToSameClass(h)}if(arguments.length===2){var m=arguments[0],S=arguments[1];return u=m,this.getTypeCode()!==u.getTypeCode()?this.getTypeCode()-u.getTypeCode():this.isEmpty()&&u.isEmpty()?0:this.isEmpty()?-1:u.isEmpty()?1:this.compareToSameClass(m,S)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(u){if(u.getTypeCode()===C.TYPECODE_GEOMETRYCOLLECTION)throw new T("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(u,h,m){return m===0?u.equals(h):u.distance(h)<=m}},{key:"norm",value:function(){var u=this.copy();return u.normalize(),u}},{key:"reverse",value:function(){var u=this.reverseInternal();return this.envelope!=null&&(u.envelope=this.envelope.copy()),u.setSRID(this.getSRID()),u}},{key:"copy",value:function(){var u=this.copyInternal();return u.envelope=this._envelope==null?null:this._envelope.copy(),u._SRID=this._SRID,u._userData=this._userData,u}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new De(this._envelope)}},{key:"setSRID",value:function(u){this._SRID=u}},{key:"setUserData",value:function(u){this._userData=u}},{key:"compare",value:function(u,h){for(var m=u.iterator(),S=h.iterator();m.hasNext()&&S.hasNext();){var A=m.next(),F=S.next(),j=A.compareTo(F);if(j!==0)return j}return m.hasNext()?1:S.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(u){return this.getClass()===u.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===C.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===C.TYPECODE_MULTIPOINT||this.getTypeCode()===C.TYPECODE_MULTILINESTRING||this.getTypeCode()===C.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[O,I,U]}},{key:"getClass",value:function(){return C}}],[{key:"hasNonEmptyElements",value:function(u){for(var h=0;h<u.length;h++)if(!u[h].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(u){for(var h=0;h<u.length;h++)if(u[h]===null)return!0;return!1}}]),C}();xe.constructor_=function(C){C&&(this._envelope=null,this._userData=null,this._factory=C,this._SRID=C.getSRID())},xe.TYPECODE_POINT=0,xe.TYPECODE_MULTIPOINT=1,xe.TYPECODE_LINESTRING=2,xe.TYPECODE_LINEARRING=3,xe.TYPECODE_MULTILINESTRING=4,xe.TYPECODE_POLYGON=5,xe.TYPECODE_MULTIPOLYGON=6,xe.TYPECODE_GEOMETRYCOLLECTION=7,xe.TYPENAME_POINT="Point",xe.TYPENAME_MULTIPOINT="MultiPoint",xe.TYPENAME_LINESTRING="LineString",xe.TYPENAME_LINEARRING="LinearRing",xe.TYPENAME_MULTILINESTRING="MultiLineString",xe.TYPENAME_POLYGON="Polygon",xe.TYPENAME_MULTIPOLYGON="MultiPolygon",xe.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",xe.geometryChangedFilter={get interfaces_(){return[k]},filter:function(C){C.geometryChangedAction()}};var G=function(){function C(){n(this,C)}return r(C,null,[{key:"toLocationSymbol",value:function(u){switch(u){case C.EXTERIOR:return"e";case C.BOUNDARY:return"b";case C.INTERIOR:return"i";case C.NONE:return"-"}throw new T("Unknown location value: "+u)}}]),C}();G.INTERIOR=0,G.BOUNDARY=1,G.EXTERIOR=2,G.NONE=-1;var He=function(){function C(){n(this,C)}return r(C,[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}]),C}(),Je=function(C){s(h,C);var u=g(h);function h(m){var S;return n(this,h),(S=u.call(this,m)).name=Object.keys({NoSuchElementException:h})[0],S}return h}(x),at=function(C){s(h,C);var u=g(h);function h(m){var S;return n(this,h),(S=u.call(this,m)).name=Object.keys({UnsupportedOperationException:h})[0],S}return h}(x),rt=function(C){s(h,C);var u=g(h);function h(){return n(this,h),u.apply(this,arguments)}return r(h,[{key:"contains",value:function(){}}]),h}(He),it=function(C,u){s(m,C);var h=g(m);function m(S){var A;return n(this,m),(A=h.call(this)).map=new Map,S instanceof He&&A.addAll(S),A}return r(m,[{key:"contains",value:function(S){var A=S.hashCode?S.hashCode():S;return!!this.map.has(A)}},{key:"add",value:function(S){var A=S.hashCode?S.hashCode():S;return!this.map.has(A)&&!!this.map.set(A,S)}},{key:"addAll",value:function(S){var A,F=M(S);try{for(F.s();!(A=F.n()).done;){var j=A.value;this.add(j)}}catch(re){F.e(re)}finally{F.f()}return!0}},{key:"remove",value:function(){throw new at}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return this.map.size===0}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new qe(this.map)}},{key:u,value:function(){return this.map}}]),m}(rt,Symbol.iterator),qe=function(){function C(u){n(this,C),this.iterator=u.values();var h=this.iterator.next(),m=h.done,S=h.value;this.done=m,this.value=S}return r(C,[{key:"next",value:function(){if(this.done)throw new Je;var u=this.value,h=this.iterator.next(),m=h.done,S=h.value;return this.done=m,this.value=S,u}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new at}}]),C}(),ne=function(){function C(){n(this,C)}return r(C,null,[{key:"opposite",value:function(u){return u===C.LEFT?C.RIGHT:u===C.RIGHT?C.LEFT:u}}]),C}();ne.ON=0,ne.LEFT=1,ne.RIGHT=2;var se=function(C){s(h,C);var u=g(h);function h(m){var S;return n(this,h),(S=u.call(this,m)).name=Object.keys({EmptyStackException:h})[0],S}return h}(x),ke=function(C){s(h,C);var u=g(h);function h(m){var S;return n(this,h),(S=u.call(this,m)).name=Object.keys({IndexOutOfBoundsException:h})[0],S}return h}(x),Be=function(C){s(h,C);var u=g(h);function h(){return n(this,h),u.apply(this,arguments)}return r(h,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}]),h}(He),Ve=function(C){s(h,C);var u=g(h);function h(){var m;return n(this,h),(m=u.call(this)).array=[],m}return r(h,[{key:"add",value:function(m){return this.array.push(m),!0}},{key:"get",value:function(m){if(m<0||m>=this.size())throw new ke;return this.array[m]}},{key:"push",value:function(m){return this.array.push(m),m}},{key:"pop",value:function(){if(this.array.length===0)throw new se;return this.array.pop()}},{key:"peek",value:function(){if(this.array.length===0)throw new se;return this.array[this.array.length-1]}},{key:"empty",value:function(){return this.array.length===0}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(m){return this.array.indexOf(m)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}]),h}(Be);function Ae(C,u){return C.interfaces_&&C.interfaces_.indexOf(u)>-1}var Re=function(){function C(u){n(this,C),this.str=u}return r(C,[{key:"append",value:function(u){this.str+=u}},{key:"setCharAt",value:function(u,h){this.str=this.str.substr(0,u)+h+this.str.substr(u+1)}},{key:"toString",value:function(){return this.str}}]),C}(),Xe=function(){function C(u){n(this,C),this.value=u}return r(C,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(u){return this.value<u?-1:this.value>u?1:0}}],[{key:"compare",value:function(u,h){return u<h?-1:u>h?1:0}},{key:"isNan",value:function(u){return Number.isNaN(u)}},{key:"valueOf",value:function(u){return new C(u)}}]),C}(),gt=function(){function C(){n(this,C)}return r(C,null,[{key:"isWhitespace",value:function(u){return u<=32&&u>=0||u===127}},{key:"toUpperCase",value:function(u){return u.toUpperCase()}}]),C}(),nt=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"le",value:function(u){return this._hi<u._hi||this._hi===u._hi&&this._lo<=u._lo}},{key:"extractSignificantDigits",value:function(u,h){var m=this.abs(),S=C.magnitude(m._hi),A=C.TEN.pow(S);(m=m.divide(A)).gt(C.TEN)?(m=m.divide(C.TEN),S+=1):m.lt(C.ONE)&&(m=m.multiply(C.TEN),S-=1);for(var F=S+1,j=new Re,re=C.MAX_PRINT_DIGITS-1,fe=0;fe<=re;fe++){u&&fe===F&&j.append(".");var Pe=Math.trunc(m._hi);if(Pe<0)break;var Oe=!1,lt=0;Pe>9?(Oe=!0,lt="9"):lt="0"+Pe,j.append(lt),m=m.subtract(C.valueOf(Pe)).multiply(C.TEN),Oe&&m.selfAdd(C.TEN);var Rt=!0,Tt=C.magnitude(m._hi);if(Tt<0&&Math.abs(Tt)>=re-fe&&(Rt=!1),!Rt)break}return h[0]=S,j.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof C){var u=arguments[0];return this.add(u.negate())}if(typeof arguments[0]=="number"){var h=arguments[0];return this.add(-h)}}},{key:"equals",value:function(){if(arguments.length===1&&arguments[0]instanceof C){var u=arguments[0];return this._hi===u._hi&&this._lo===u._lo}}},{key:"isZero",value:function(){return this._hi===0&&this._lo===0}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof C){var u=arguments[0];return this.isNaN()?this:this.selfAdd(-u._hi,-u._lo)}if(typeof arguments[0]=="number"){var h=arguments[0];return this.isNaN()?this:this.selfAdd(-h,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(u){return this.le(u)?this:u}},{key:"selfDivide",value:function(){if(arguments.length===1){if(arguments[0]instanceof C){var u=arguments[0];return this.selfDivide(u._hi,u._lo)}if(typeof arguments[0]=="number"){var h=arguments[0];return this.selfDivide(h,0)}}else if(arguments.length===2){var m=arguments[0],S=arguments[1],A=null,F=null,j=null,re=null,fe=null,Pe=null,Oe=null,lt=null;return fe=this._hi/m,lt=(A=(Pe=C.SPLIT*fe)-(A=Pe-fe))*(j=(lt=C.SPLIT*m)-(j=lt-m))-(Oe=fe*m)+A*(re=m-j)+(F=fe-A)*j+F*re,lt=fe+(Pe=(this._hi-Oe-lt+this._lo-fe*S)/m),this._hi=lt,this._lo=fe-lt+Pe,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof C){var u=arguments[0],h=null,m=null,S=null,A=null,F=null,j=null,re=null,fe=null;m=(F=this._hi/u._hi)-(h=(j=C.SPLIT*F)-(h=j-F)),fe=h*(S=(fe=C.SPLIT*u._hi)-(S=fe-u._hi))-(re=F*u._hi)+h*(A=u._hi-S)+m*S+m*A;var Pe=fe=F+(j=(this._hi-re-fe+this._lo-F*u._lo)/u._hi),Oe=F-fe+j;return new C(Pe,Oe)}if(typeof arguments[0]=="number"){var lt=arguments[0];return V.isNaN(lt)?C.createNaN():C.copy(this).selfDivide(lt,0)}}},{key:"ge",value:function(u){return this._hi>u._hi||this._hi===u._hi&&this._lo>=u._lo}},{key:"pow",value:function(u){if(u===0)return C.valueOf(1);var h=new C(this),m=C.valueOf(1),S=Math.abs(u);if(S>1)for(;S>0;)S%2==1&&m.selfMultiply(h),(S/=2)>0&&(h=h.sqr());else m=h;return u<0?m.reciprocal():m}},{key:"ceil",value:function(){if(this.isNaN())return C.NaN;var u=Math.ceil(this._hi),h=0;return u===this._hi&&(h=Math.ceil(this._lo)),new C(u,h)}},{key:"compareTo",value:function(u){var h=u;return this._hi<h._hi?-1:this._hi>h._hi?1:this._lo<h._lo?-1:this._lo>h._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof C){var u=arguments[0];return this.init(u),this}if(typeof arguments[0]=="number"){var h=arguments[0];return this.init(h),this}}},{key:"max",value:function(u){return this.ge(u)?this:u}},{key:"sqrt",value:function(){if(this.isZero())return C.valueOf(0);if(this.isNegative())return C.NaN;var u=1/Math.sqrt(this._hi),h=this._hi*u,m=C.valueOf(h),S=this.subtract(m.sqr())._hi*(.5*u);return m.add(S)}},{key:"selfAdd",value:function(){if(arguments.length===1){if(arguments[0]instanceof C){var u=arguments[0];return this.selfAdd(u._hi,u._lo)}if(typeof arguments[0]=="number"){var h=arguments[0],m=null,S=null,A=null,F=null,j=null,re=null;return F=(A=this._hi+h)-(j=A-this._hi),S=(re=(F=h-j+(this._hi-F))+this._lo)+(A-(m=A+re)),this._hi=m+S,this._lo=S+(m-this._hi),this}}else if(arguments.length===2){var fe=arguments[0],Pe=arguments[1],Oe=null,lt=null,Rt=null,Tt=null,en=null,sn=null,hn=null;Tt=this._hi+fe,lt=this._lo+Pe,en=Tt-(sn=Tt-this._hi),Rt=lt-(hn=lt-this._lo);var Dn=(Oe=Tt+(sn=(en=fe-sn+(this._hi-en))+lt))+(sn=(Rt=Pe-hn+(this._lo-Rt))+(sn+(Tt-Oe))),li=sn+(Oe-Dn);return this._hi=Dn,this._lo=li,this}}},{key:"selfMultiply",value:function(){if(arguments.length===1){if(arguments[0]instanceof C){var u=arguments[0];return this.selfMultiply(u._hi,u._lo)}if(typeof arguments[0]=="number"){var h=arguments[0];return this.selfMultiply(h,0)}}else if(arguments.length===2){var m=arguments[0],S=arguments[1],A=null,F=null,j=null,re=null,fe=null,Pe=null;A=(fe=C.SPLIT*this._hi)-this._hi,Pe=C.SPLIT*m,A=fe-A,F=this._hi-A,j=Pe-m;var Oe=(fe=this._hi*m)+(Pe=A*(j=Pe-j)-fe+A*(re=m-j)+F*j+F*re+(this._hi*S+this._lo*m)),lt=Pe+(A=fe-Oe);return this._hi=Oe,this._lo=lt,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return C.NaN;var u=Math.floor(this._hi),h=0;return u===this._hi&&(h=Math.floor(this._lo)),new C(u,h)}},{key:"negate",value:function(){return this.isNaN()?this:new C(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(u){if(u instanceof CloneNotSupportedException)return null;throw u}}},{key:"multiply",value:function(){if(arguments[0]instanceof C){var u=arguments[0];return u.isNaN()?C.createNaN():C.copy(this).selfMultiply(u)}if(typeof arguments[0]=="number"){var h=arguments[0];return V.isNaN(h)?C.createNaN():C.copy(this).selfMultiply(h,0)}}},{key:"isNaN",value:function(){return V.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var u=C.magnitude(this._hi);return u>=-3&&u<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var u=this.getSpecialNumberString();if(u!==null)return u;var h=new Array(1).fill(null),m=this.extractSignificantDigits(!0,h),S=h[0]+1,A=m;if(m.charAt(0)===".")A="0"+m;else if(S<0)A="0."+C.stringOfChar("0",-S)+m;else if(m.indexOf(".")===-1){var F=S-m.length;A=m+C.stringOfChar("0",F)+".0"}return this.isNegative()?"-"+A:A}},{key:"reciprocal",value:function(){var u,h,m,S,A=null,F=null,j=null,re=null;u=(m=1/this._hi)-(A=(j=C.SPLIT*m)-(A=j-m)),F=(re=C.SPLIT*this._hi)-this._hi;var fe=m+(j=(1-(S=m*this._hi)-(re=A*(F=re-F)-S+A*(h=this._hi-F)+u*F+u*h)-m*this._lo)/this._hi);return new C(fe,m-fe+j)}},{key:"toSciNotation",value:function(){if(this.isZero())return C.SCI_NOT_ZERO;var u=this.getSpecialNumberString();if(u!==null)return u;var h=new Array(1).fill(null),m=this.extractSignificantDigits(!1,h),S=C.SCI_NOT_EXPONENT_CHAR+h[0];if(m.charAt(0)==="0")throw new IllegalStateException("Found leading zero: "+m);var A="";m.length>1&&(A=m.substring(1));var F=m.charAt(0)+"."+A;return this.isNegative()?"-"+F+S:F+S}},{key:"abs",value:function(){return this.isNaN()?C.NaN:this.isNegative()?this.negate():new C(this)}},{key:"isPositive",value:function(){return this._hi>0||this._hi===0&&this._lo>0}},{key:"lt",value:function(u){return this._hi<u._hi||this._hi===u._hi&&this._lo<u._lo}},{key:"add",value:function(){if(arguments[0]instanceof C){var u=arguments[0];return C.copy(this).selfAdd(u)}if(typeof arguments[0]=="number"){var h=arguments[0];return C.copy(this).selfAdd(h)}}},{key:"init",value:function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var u=arguments[0];this._hi=u,this._lo=0}else if(arguments[0]instanceof C){var h=arguments[0];this._hi=h._hi,this._lo=h._lo}}else if(arguments.length===2){var m=arguments[0],S=arguments[1];this._hi=m,this._lo=S}}},{key:"gt",value:function(u){return this._hi>u._hi||this._hi===u._hi&&this._lo>u._lo}},{key:"isNegative",value:function(){return this._hi<0||this._hi===0&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?C.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[U,I,O]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var u=arguments[0];this.init(u)}else if(arguments[0]instanceof C){var h=arguments[0];this.init(h)}else if(typeof arguments[0]=="string"){var m=arguments[0];C.constructor_.call(this,C.parse(m))}}else if(arguments.length===2){var S=arguments[0],A=arguments[1];this.init(S,A)}}},{key:"determinant",value:function(){if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var u=arguments[0],h=arguments[1],m=arguments[2],S=arguments[3];return C.determinant(C.valueOf(u),C.valueOf(h),C.valueOf(m),C.valueOf(S))}if(arguments[3]instanceof C&&arguments[2]instanceof C&&arguments[0]instanceof C&&arguments[1]instanceof C){var A=arguments[0],F=arguments[1],j=arguments[2],re=arguments[3],fe=A.multiply(re).selfSubtract(F.multiply(j));return fe}}},{key:"sqr",value:function(u){return C.valueOf(u).selfMultiply(u)}},{key:"valueOf",value:function(){if(typeof arguments[0]=="string"){var u=arguments[0];return C.parse(u)}if(typeof arguments[0]=="number"){var h=arguments[0];return new C(h)}}},{key:"sqrt",value:function(u){return C.valueOf(u).sqrt()}},{key:"parse",value:function(u){for(var h=0,m=u.length;gt.isWhitespace(u.charAt(h));)h++;var S=!1;if(h<m){var A=u.charAt(h);A!=="-"&&A!=="+"||(h++,A==="-"&&(S=!0))}for(var F=new C,j=0,re=0,fe=0,Pe=!1;!(h>=m);){var Oe=u.charAt(h);if(h++,gt.isDigit(Oe)){var lt=Oe-"0";F.selfMultiply(C.TEN),F.selfAdd(lt),j++}else{if(Oe!=="."){if(Oe==="e"||Oe==="E"){var Rt=u.substring(h);try{fe=Xe.parseInt(Rt)}catch(Dn){throw Dn instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+Rt+" in string "+u):Dn}break}throw new NumberFormatException("Unexpected character '"+Oe+"' at position "+h+" in string "+u)}re=j,Pe=!0}}var Tt=F;Pe||(re=j);var en=j-re-fe;if(en===0)Tt=F;else if(en>0){var sn=C.TEN.pow(en);Tt=F.divide(sn)}else if(en<0){var hn=C.TEN.pow(-en);Tt=F.multiply(hn)}return S?Tt.negate():Tt}},{key:"createNaN",value:function(){return new C(V.NaN,V.NaN)}},{key:"copy",value:function(u){return new C(u)}},{key:"magnitude",value:function(u){var h=Math.abs(u),m=Math.log(h)/Math.log(10),S=Math.trunc(Math.floor(m));return 10*Math.pow(10,S)<=h&&(S+=1),S}},{key:"stringOfChar",value:function(u,h){for(var m=new Re,S=0;S<h;S++)m.append(u);return m.toString()}}]),C}();nt.PI=new nt(3.141592653589793,12246467991473532e-32),nt.TWO_PI=new nt(6.283185307179586,24492935982947064e-32),nt.PI_2=new nt(1.5707963267948966,6123233995736766e-32),nt.E=new nt(2.718281828459045,14456468917292502e-32),nt.NaN=new nt(V.NaN,V.NaN),nt.EPS=123259516440783e-46,nt.SPLIT=134217729,nt.MAX_PRINT_DIGITS=32,nt.TEN=nt.valueOf(10),nt.ONE=nt.valueOf(1),nt.SCI_NOT_EXPONENT_CHAR="E",nt.SCI_NOT_ZERO="0.0E0";var Lt=function(){function C(){n(this,C)}return r(C,null,[{key:"orientationIndex",value:function(u,h,m){var S=C.orientationIndexFilter(u,h,m);if(S<=1)return S;var A=nt.valueOf(h.x).selfAdd(-u.x),F=nt.valueOf(h.y).selfAdd(-u.y),j=nt.valueOf(m.x).selfAdd(-h.x),re=nt.valueOf(m.y).selfAdd(-h.y);return A.selfMultiply(re).selfSubtract(F.selfMultiply(j)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof nt&&arguments[2]instanceof nt&&arguments[0]instanceof nt&&arguments[1]instanceof nt){var u=arguments[0],h=arguments[1],m=arguments[2],S=arguments[3],A=u.multiply(S).selfSubtract(h.multiply(m));return A.signum()}if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var F=arguments[0],j=arguments[1],re=arguments[2],fe=arguments[3],Pe=nt.valueOf(F),Oe=nt.valueOf(j),lt=nt.valueOf(re),Rt=nt.valueOf(fe),Tt=Pe.multiply(Rt).selfSubtract(Oe.multiply(lt));return Tt.signum()}}},{key:"intersection",value:function(u,h,m,S){var A=new nt(u.y).selfSubtract(h.y),F=new nt(h.x).selfSubtract(u.x),j=new nt(u.x).selfMultiply(h.y).selfSubtract(new nt(h.x).selfMultiply(u.y)),re=new nt(m.y).selfSubtract(S.y),fe=new nt(S.x).selfSubtract(m.x),Pe=new nt(m.x).selfMultiply(S.y).selfSubtract(new nt(S.x).selfMultiply(m.y)),Oe=F.multiply(Pe).selfSubtract(fe.multiply(j)),lt=re.multiply(j).selfSubtract(A.multiply(Pe)),Rt=A.multiply(fe).selfSubtract(re.multiply(F)),Tt=Oe.selfDivide(Rt).doubleValue(),en=lt.selfDivide(Rt).doubleValue();return V.isNaN(Tt)||V.isInfinite(Tt)||V.isNaN(en)||V.isInfinite(en)?null:new ue(Tt,en)}},{key:"orientationIndexFilter",value:function(u,h,m){var S=null,A=(u.x-m.x)*(h.y-m.y),F=(u.y-m.y)*(h.x-m.x),j=A-F;if(A>0){if(F<=0)return C.signum(j);S=A+F}else{if(!(A<0)||F>=0)return C.signum(j);S=-A-F}var re=C.DP_SAFE_EPSILON*S;return j>=re||-j>=re?C.signum(j):2}},{key:"signum",value:function(u){return u>0?1:u<0?-1:0}}]),C}();Lt.DP_SAFE_EPSILON=1e-15;var Ye=function(){function C(){n(this,C)}return r(C,[{key:"getM",value:function(u){if(this.hasM()){var h=this.getDimension()-this.getMeasures();return this.getOrdinate(u,h)}return V.NaN}},{key:"setOrdinate",value:function(u,h,m){}},{key:"getZ",value:function(u){return this.hasZ()?this.getOrdinate(u,2):V.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(u,h){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(u){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(u){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(u){}},{key:"copy",value:function(){}},{key:"getY",value:function(u){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[O]}}]),C}();Ye.X=0,Ye.Y=1,Ye.Z=2,Ye.M=3;var xt=function(){function C(){n(this,C)}return r(C,null,[{key:"index",value:function(u,h,m){return Lt.orientationIndex(u,h,m)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var u=arguments[0],h=u.length-1;if(h<3)throw new T("Ring has fewer than 4 points, so orientation cannot be determined");for(var m=u[0],S=0,A=1;A<=h;A++){var F=u[A];F.y>m.y&&(m=F,S=A)}var j=S;do(j-=1)<0&&(j=h);while(u[j].equals2D(m)&&j!==S);var re=S;do re=(re+1)%h;while(u[re].equals2D(m)&&re!==S);var fe=u[j],Pe=u[re];if(fe.equals2D(m)||Pe.equals2D(m)||fe.equals2D(Pe))return!1;var Oe=C.index(fe,m,Pe),lt=null;return lt=Oe===0?fe.x>Pe.x:Oe>0,lt}if(Ae(arguments[0],Ye)){var Rt=arguments[0],Tt=Rt.size()-1;if(Tt<3)throw new T("Ring has fewer than 4 points, so orientation cannot be determined");for(var en=Rt.getCoordinate(0),sn=0,hn=1;hn<=Tt;hn++){var Dn=Rt.getCoordinate(hn);Dn.y>en.y&&(en=Dn,sn=hn)}var li=null,ji=sn;do(ji-=1)<0&&(ji=Tt),li=Rt.getCoordinate(ji);while(li.equals2D(en)&&ji!==sn);var $r=null,Ss=sn;do Ss=(Ss+1)%Tt,$r=Rt.getCoordinate(Ss);while($r.equals2D(en)&&Ss!==sn);if(li.equals2D(en)||$r.equals2D(en)||li.equals2D($r))return!1;var ya=C.index(li,en,$r);return ya===0?li.x>$r.x:ya>0}}}]),C}();xt.CLOCKWISE=-1,xt.RIGHT=xt.CLOCKWISE,xt.COUNTERCLOCKWISE=1,xt.LEFT=xt.COUNTERCLOCKWISE,xt.COLLINEAR=0,xt.STRAIGHT=xt.COLLINEAR;var Te=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(u,h){var m=this.getRightmostSideOfSegment(u,h);return m<0&&(m=this.getRightmostSideOfSegment(u,h-1)),m<0&&(this._minCoord=null,this.checkForRightmostCoordinate(u)),m}},{key:"findRightmostEdgeAtVertex",value:function(){var u=this._minDe.getEdge().getCoordinates();le.isTrue(this._minIndex>0&&this._minIndex<u.length,"rightmost point expected to be interior vertex of edge");var h=u[this._minIndex-1],m=u[this._minIndex+1],S=xt.index(this._minCoord,m,h),A=!1;(h.y<this._minCoord.y&&m.y<this._minCoord.y&&S===xt.COUNTERCLOCKWISE||h.y>this._minCoord.y&&m.y>this._minCoord.y&&S===xt.CLOCKWISE)&&(A=!0),A&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(u,h){var m=u.getEdge().getCoordinates();if(h<0||h+1>=m.length||m[h].y===m[h+1].y)return-1;var S=ne.LEFT;return m[h].y<m[h+1].y&&(S=ne.RIGHT),S}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(u){for(var h=u.getEdge().getCoordinates(),m=0;m<h.length-1;m++)(this._minCoord===null||h[m].x>this._minCoord.x)&&(this._minDe=u,this._minIndex=m,this._minCoord=h[m])}},{key:"findRightmostEdgeAtNode",value:function(){var u=this._minDe.getNode().getEdges();this._minDe=u.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(u){for(var h=u.iterator();h.hasNext();){var m=h.next();m.isForward()&&this.checkForRightmostCoordinate(m)}le.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===ne.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}]),C}(),ze=function(C){s(h,C);var u=g(h);function h(m,S){var A;return n(this,h),(A=u.call(this,S?m+" [ "+S+" ]":m)).pt=S?new ue(S):void 0,A.name=Object.keys({TopologyException:h})[0],A}return r(h,[{key:"getCoordinate",value:function(){return this.pt}}]),h}(ce),de=function(){function C(){n(this,C),this.array=[]}return r(C,[{key:"addLast",value:function(u){this.array.push(u)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return this.array.length===0}}]),C}(),be=function(C,u){s(m,C);var h=g(m);function m(S){var A;return n(this,m),(A=h.call(this)).array=[],S instanceof He&&A.addAll(S),A}return r(m,[{key:"interfaces_",get:function(){return[Be,He]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(S){return arguments.length===1?this.array.push(S):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(S){var A,F=M(S);try{for(F.s();!(A=F.n()).done;){var j=A.value;this.array.push(j)}}catch(re){F.e(re)}finally{F.f()}}},{key:"set",value:function(S,A){var F=this.array[S];return this.array[S]=A,F}},{key:"iterator",value:function(){return new Ie(this)}},{key:"get",value:function(S){if(S<0||S>=this.size())throw new ke;return this.array[S]}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"sort",value:function(S){S?this.array.sort(function(A,F){return S.compare(A,F)}):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(S){for(var A=0,F=this.array.length;A<F;A++)if(this.array[A]===S)return!!this.array.splice(A,1);return!1}},{key:u,value:function(){return this.array.values()}}]),m}(Be,Symbol.iterator),Ie=function(){function C(u){n(this,C),this.arrayList=u,this.position=0}return r(C,[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new Je;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(u){return this.arrayList.set(this.position-1,u)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}]),C}(),yt=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"clearVisitedEdges",value:function(){for(var u=this._dirEdgeList.iterator();u.hasNext();)u.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(u){for(var h=null,m=u.getEdges().iterator();m.hasNext();){var S=m.next();if(S.isVisited()||S.getSym().isVisited()){h=S;break}}if(h===null)throw new ze("unable to find edge to compute depths at "+u.getCoordinate());u.getEdges().computeDepths(h);for(var A=u.getEdges().iterator();A.hasNext();){var F=A.next();F.setVisited(!0),this.copySymDepths(F)}}},{key:"computeDepth",value:function(u){this.clearVisitedEdges();var h=this._finder.getEdge();h.getNode(),h.getLabel(),h.setEdgeDepths(ne.RIGHT,u),this.copySymDepths(h),this.computeDepths(h)}},{key:"create",value:function(u){this.addReachable(u),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var u=this._dirEdgeList.iterator();u.hasNext();){var h=u.next();h.getDepth(ne.RIGHT)>=1&&h.getDepth(ne.LEFT)<=0&&!h.isInteriorAreaEdge()&&h.setInResult(!0)}}},{key:"computeDepths",value:function(u){var h=new it,m=new de,S=u.getNode();for(m.addLast(S),h.add(S),u.setVisited(!0);!m.isEmpty();){var A=m.removeFirst();h.add(A),this.computeNodeDepth(A);for(var F=A.getEdges().iterator();F.hasNext();){var j=F.next().getSym();if(!j.isVisited()){var re=j.getNode();h.contains(re)||(m.addLast(re),h.add(re))}}}}},{key:"compareTo",value:function(u){var h=u;return this._rightMostCoord.x<h._rightMostCoord.x?-1:this._rightMostCoord.x>h._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(this._env===null){for(var u=new De,h=this._dirEdgeList.iterator();h.hasNext();)for(var m=h.next().getEdge().getCoordinates(),S=0;S<m.length-1;S++)u.expandToInclude(m[S]);this._env=u}return this._env}},{key:"addReachable",value:function(u){var h=new Ve;for(h.add(u);!h.empty();){var m=h.pop();this.add(m,h)}}},{key:"copySymDepths",value:function(u){var h=u.getSym();h.setDepth(ne.LEFT,u.getDepth(ne.RIGHT)),h.setDepth(ne.RIGHT,u.getDepth(ne.LEFT))}},{key:"add",value:function(u,h){u.setVisited(!0),this._nodes.add(u);for(var m=u.getEdges().iterator();m.hasNext();){var S=m.next();this._dirEdgeList.add(S);var A=S.getSym().getNode();A.isVisited()||h.push(A)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[I]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new be,this._nodes=new be,this._rightMostCoord=null,this._env=null,this._finder=new Te}}]),C}(),Bt=function(){function C(){n(this,C)}return r(C,null,[{key:"intersection",value:function(u,h,m,S){var A=u.x<h.x?u.x:h.x,F=u.y<h.y?u.y:h.y,j=u.x>h.x?u.x:h.x,re=u.y>h.y?u.y:h.y,fe=m.x<S.x?m.x:S.x,Pe=m.y<S.y?m.y:S.y,Oe=m.x>S.x?m.x:S.x,lt=m.y>S.y?m.y:S.y,Rt=((A>fe?A:fe)+(j<Oe?j:Oe))/2,Tt=((F>Pe?F:Pe)+(re<lt?re:lt))/2,en=u.x-Rt,sn=u.y-Tt,hn=h.x-Rt,Dn=h.y-Tt,li=m.x-Rt,ji=m.y-Tt,$r=S.x-Rt,Ss=S.y-Tt,ya=sn-Dn,Bo=hn-en,kc=en*Dn-hn*sn,Pc=ji-Ss,zl=$r-li,ub=li*Ss-$r*ji,cb=ya*zl-Pc*Bo,om=(Bo*ub-zl*kc)/cb,lm=(Pc*kc-ya*ub)/cb;return V.isNaN(om)||V.isInfinite(om)||V.isNaN(lm)||V.isInfinite(lm)?null:new ue(om+Rt,lm+Tt)}}]),C}(),Ce=function(){function C(){n(this,C)}return r(C,null,[{key:"arraycopy",value:function(u,h,m,S,A){for(var F=0,j=h;j<h+A;j++)m[S+F]=u[j],F++}},{key:"getProperty",value:function(u){return{"line.separator":`
`}[u]}}]),C}(),ot=function(){function C(){n(this,C)}return r(C,null,[{key:"log10",value:function(u){var h=Math.log(u);return V.isInfinite(h)||V.isNaN(h)?h:h/C.LOG_10}},{key:"min",value:function(u,h,m,S){var A=u;return h<A&&(A=h),m<A&&(A=m),S<A&&(A=S),A}},{key:"clamp",value:function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var u=arguments[0],h=arguments[1],m=arguments[2];return u<h?h:u>m?m:u}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var S=arguments[0],A=arguments[1],F=arguments[2];return S<A?A:S>F?F:S}}},{key:"wrap",value:function(u,h){return u<0?h- -u%h:u%h}},{key:"max",value:function(){if(arguments.length===3){var u=arguments[0],h=arguments[1],m=arguments[2],S=u;return h>S&&(S=h),m>S&&(S=m),S}if(arguments.length===4){var A=arguments[0],F=arguments[1],j=arguments[2],re=arguments[3],fe=A;return F>fe&&(fe=F),j>fe&&(fe=j),re>fe&&(fe=re),fe}}},{key:"average",value:function(u,h){return(u+h)/2}}]),C}();ot.LOG_10=Math.log(10);var ve=function(){function C(){n(this,C)}return r(C,null,[{key:"segmentToSegment",value:function(u,h,m,S){if(u.equals(h))return C.pointToSegment(u,m,S);if(m.equals(S))return C.pointToSegment(S,u,h);var A=!1;if(De.intersects(u,h,m,S)){var F=(h.x-u.x)*(S.y-m.y)-(h.y-u.y)*(S.x-m.x);if(F===0)A=!0;else{var j=(u.y-m.y)*(S.x-m.x)-(u.x-m.x)*(S.y-m.y),re=((u.y-m.y)*(h.x-u.x)-(u.x-m.x)*(h.y-u.y))/F,fe=j/F;(fe<0||fe>1||re<0||re>1)&&(A=!0)}}else A=!0;return A?ot.min(C.pointToSegment(u,m,S),C.pointToSegment(h,m,S),C.pointToSegment(m,u,h),C.pointToSegment(S,u,h)):0}},{key:"pointToSegment",value:function(u,h,m){if(h.x===m.x&&h.y===m.y)return u.distance(h);var S=(m.x-h.x)*(m.x-h.x)+(m.y-h.y)*(m.y-h.y),A=((u.x-h.x)*(m.x-h.x)+(u.y-h.y)*(m.y-h.y))/S;if(A<=0)return u.distance(h);if(A>=1)return u.distance(m);var F=((h.y-u.y)*(m.x-h.x)-(h.x-u.x)*(m.y-h.y))/S;return Math.abs(F)*Math.sqrt(S)}},{key:"pointToLinePerpendicular",value:function(u,h,m){var S=(m.x-h.x)*(m.x-h.x)+(m.y-h.y)*(m.y-h.y),A=((h.y-u.y)*(m.x-h.x)-(h.x-u.x)*(m.y-h.y))/S;return Math.abs(A)*Math.sqrt(S)}},{key:"pointToSegmentString",value:function(u,h){if(h.length===0)throw new T("Line array must contain at least one vertex");for(var m=u.distance(h[0]),S=0;S<h.length-1;S++){var A=C.pointToSegment(u,h[S],h[S+1]);A<m&&(m=A)}return m}}]),C}(),et=function(){function C(){n(this,C)}return r(C,[{key:"create",value:function(){if(arguments.length===1)arguments[0]instanceof Array||Ae(arguments[0],Ye);else if(arguments.length!==2){if(arguments.length===3){var u=arguments[0],h=arguments[1];return this.create(u,h)}}}}]),C}(),ut=function(){function C(){n(this,C)}return r(C,[{key:"filter",value:function(u){}}]),C}(),wt=function(){function C(){n(this,C)}return r(C,null,[{key:"ofLine",value:function(u){var h=u.size();if(h<=1)return 0;var m=0,S=new ue;u.getCoordinate(0,S);for(var A=S.x,F=S.y,j=1;j<h;j++){u.getCoordinate(j,S);var re=S.x,fe=S.y,Pe=re-A,Oe=fe-F;m+=Math.sqrt(Pe*Pe+Oe*Oe),A=re,F=fe}return m}}]),C}(),Ht=function C(){n(this,C)},pn=function(){function C(){n(this,C)}return r(C,null,[{key:"copyCoord",value:function(u,h,m,S){for(var A=Math.min(u.getDimension(),m.getDimension()),F=0;F<A;F++)m.setOrdinate(S,F,u.getOrdinate(h,F))}},{key:"isRing",value:function(u){var h=u.size();return h===0||!(h<=3)&&u.getOrdinate(0,Ye.X)===u.getOrdinate(h-1,Ye.X)&&u.getOrdinate(0,Ye.Y)===u.getOrdinate(h-1,Ye.Y)}},{key:"scroll",value:function(){if(arguments.length===2){if(Ae(arguments[0],Ye)&&Number.isInteger(arguments[1])){var u=arguments[0],h=arguments[1];C.scroll(u,h,C.isRing(u))}else if(Ae(arguments[0],Ye)&&arguments[1]instanceof ue){var m=arguments[0],S=arguments[1],A=C.indexOf(S,m);if(A<=0)return null;C.scroll(m,A)}}else if(arguments.length===3){var F=arguments[0],j=arguments[1],re=arguments[2],fe=j;if(fe<=0)return null;for(var Pe=F.copy(),Oe=re?F.size()-1:F.size(),lt=0;lt<Oe;lt++)for(var Rt=0;Rt<F.getDimension();Rt++)F.setOrdinate(lt,Rt,Pe.getOrdinate((j+lt)%Oe,Rt));if(re)for(var Tt=0;Tt<F.getDimension();Tt++)F.setOrdinate(Oe,Tt,F.getOrdinate(0,Tt))}}},{key:"isEqual",value:function(u,h){var m=u.size();if(m!==h.size())return!1;for(var S=Math.min(u.getDimension(),h.getDimension()),A=0;A<m;A++)for(var F=0;F<S;F++){var j=u.getOrdinate(A,F),re=h.getOrdinate(A,F);if(u.getOrdinate(A,F)!==h.getOrdinate(A,F)&&(!V.isNaN(j)||!V.isNaN(re)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(arguments.length===1){var u=arguments[0];return C.minCoordinateIndex(u,0,u.size()-1)}if(arguments.length===3){for(var h=arguments[0],m=arguments[1],S=arguments[2],A=-1,F=null,j=m;j<=S;j++){var re=h.getCoordinate(j);(F===null||F.compareTo(re)>0)&&(F=re,A=j)}return A}}},{key:"extend",value:function(u,h,m){var S=u.create(m,h.getDimension()),A=h.size();if(C.copy(h,0,S,0,A),A>0)for(var F=A;F<m;F++)C.copy(h,A-1,S,F,1);return S}},{key:"reverse",value:function(u){for(var h=u.size()-1,m=Math.trunc(h/2),S=0;S<=m;S++)C.swap(u,S,h-S)}},{key:"swap",value:function(u,h,m){if(h===m)return null;for(var S=0;S<u.getDimension();S++){var A=u.getOrdinate(h,S);u.setOrdinate(h,S,u.getOrdinate(m,S)),u.setOrdinate(m,S,A)}}},{key:"copy",value:function(u,h,m,S,A){for(var F=0;F<A;F++)C.copyCoord(u,h+F,m,S+F)}},{key:"ensureValidRing",value:function(u,h){var m=h.size();return m===0?h:m<=3?C.createClosedRing(u,h,4):h.getOrdinate(0,Ye.X)===h.getOrdinate(m-1,Ye.X)&&h.getOrdinate(0,Ye.Y)===h.getOrdinate(m-1,Ye.Y)?h:C.createClosedRing(u,h,m+1)}},{key:"indexOf",value:function(u,h){for(var m=0;m<h.size();m++)if(u.x===h.getOrdinate(m,Ye.X)&&u.y===h.getOrdinate(m,Ye.Y))return m;return-1}},{key:"createClosedRing",value:function(u,h,m){var S=u.create(m,h.getDimension()),A=h.size();C.copy(h,0,S,0,A);for(var F=A;F<m;F++)C.copy(h,0,S,F,1);return S}},{key:"minCoordinate",value:function(u){for(var h=null,m=0;m<u.size();m++){var S=u.getCoordinate(m);(h===null||h.compareTo(S)>0)&&(h=S)}return h}}]),C}(),ht=function(){function C(){n(this,C)}return r(C,null,[{key:"toDimensionSymbol",value:function(u){switch(u){case C.FALSE:return C.SYM_FALSE;case C.TRUE:return C.SYM_TRUE;case C.DONTCARE:return C.SYM_DONTCARE;case C.P:return C.SYM_P;case C.L:return C.SYM_L;case C.A:return C.SYM_A}throw new T("Unknown dimension value: "+u)}},{key:"toDimensionValue",value:function(u){switch(gt.toUpperCase(u)){case C.SYM_FALSE:return C.FALSE;case C.SYM_TRUE:return C.TRUE;case C.SYM_DONTCARE:return C.DONTCARE;case C.SYM_P:return C.P;case C.SYM_L:return C.L;case C.SYM_A:return C.A}throw new T("Unknown dimension symbol: "+u)}}]),C}();ht.P=0,ht.L=1,ht.A=2,ht.FALSE=-1,ht.TRUE=-2,ht.DONTCARE=-3,ht.SYM_FALSE="F",ht.SYM_TRUE="T",ht.SYM_DONTCARE="*",ht.SYM_P="0",ht.SYM_L="1",ht.SYM_A="2";var Rn=function(){function C(){n(this,C)}return r(C,[{key:"filter",value:function(u){}}]),C}(),Qn=function(){function C(){n(this,C)}return r(C,[{key:"filter",value:function(u,h){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}]),C}(),mn=function(C){s(h,C);var u=g(h);function h(){var m;return n(this,h),m=u.call(this),h.constructor_.apply(p(m),arguments),m}return r(h,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new De:this._points.expandEnvelope(new De)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new h(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof xe){var m=arguments[0],S=arguments[1];if(!this.isEquivalentClass(m))return!1;var A=m;if(this._points.size()!==A._points.size())return!1;for(var F=0;F<this._points.size();F++)if(!this.equal(this._points.getCoordinate(F),A._points.getCoordinate(F),S))return!1;return!0}return y(a(h.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){for(var m=0;m<Math.trunc(this._points.size()/2);m++){var S=this._points.size()-1-m;if(!this._points.getCoordinate(m).equals(this._points.getCoordinate(S))){if(this._points.getCoordinate(m).compareTo(this._points.getCoordinate(S))>0){var A=this._points.copy();pn.reverse(A),this._points=A}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?ht.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var m=this._points.copy();return pn.reverse(m),this.getFactory().createLineString(m)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return xe.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return wt.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(arguments.length===1){for(var m=arguments[0],S=m,A=0,F=0;A<this._points.size()&&F<S._points.size();){var j=this._points.getCoordinate(A).compareTo(S._points.getCoordinate(F));if(j!==0)return j;A++,F++}return A<this._points.size()?1:F<S._points.size()?-1:0}if(arguments.length===2){var re=arguments[0],fe=arguments[1],Pe=re;return fe.compare(this._points,Pe._points)}}},{key:"apply",value:function(){if(Ae(arguments[0],ut))for(var m=arguments[0],S=0;S<this._points.size();S++)m.filter(this._points.getCoordinate(S));else if(Ae(arguments[0],Qn)){var A=arguments[0];if(this._points.size()===0)return null;for(var F=0;F<this._points.size()&&(A.filter(this._points,F),!A.isDone());F++);A.isGeometryChanged()&&this.geometryChanged()}else if(Ae(arguments[0],Rn)){var j=arguments[0];j.filter(this)}else if(Ae(arguments[0],k)){var re=arguments[0];re.filter(this)}}},{key:"getBoundary",value:function(){throw new at}},{key:"isEquivalentClass",value:function(m){return m instanceof h}},{key:"getCoordinateN",value:function(m){return this._points.getCoordinate(m)}},{key:"getGeometryType",value:function(){return xe.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return this._points.size()===0}},{key:"init",value:function(m){if(m===null&&(m=this.getFactory().getCoordinateSequenceFactory().create([])),m.size()===1)throw new T("Invalid number of points in LineString (found "+m.size()+" - must be 0 or >= 2)");this._points=m}},{key:"isCoordinate",value:function(m){for(var S=0;S<this._points.size();S++)if(this._points.getCoordinate(S).equals(m))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(m){return this.getFactory().createPoint(this._points.getCoordinate(m))}},{key:"interfaces_",get:function(){return[Ht]}}],[{key:"constructor_",value:function(){if(this._points=null,arguments.length!==0){if(arguments.length===2){var m=arguments[0],S=arguments[1];xe.constructor_.call(this,S),this.init(m)}}}}]),h}(xe),zn=function C(){n(this,C)},fi=function(C){s(h,C);var u=g(h);function h(){var m;return n(this,h),m=u.call(this),h.constructor_.apply(p(m),arguments),m}return r(h,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new De;var m=new De;return m.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),m}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new h(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof xe){var m=arguments[0],S=arguments[1];return!!this.isEquivalentClass(m)&&(!(!this.isEmpty()||!m.isEmpty())||this.isEmpty()===m.isEmpty()&&this.equal(m.getCoordinate(),this.getCoordinate(),S))}return y(a(h.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return ht.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return xe.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var m=arguments[0],S=m;return this.getCoordinate().compareTo(S.getCoordinate())}if(arguments.length===2){var A=arguments[0],F=arguments[1],j=A;return F.compare(this._coordinates,j._coordinates)}}},{key:"apply",value:function(){if(Ae(arguments[0],ut)){var m=arguments[0];if(this.isEmpty())return null;m.filter(this.getCoordinate())}else if(Ae(arguments[0],Qn)){var S=arguments[0];if(this.isEmpty())return null;S.filter(this._coordinates,0),S.isGeometryChanged()&&this.geometryChanged()}else if(Ae(arguments[0],Rn)){var A=arguments[0];A.filter(this)}else if(Ae(arguments[0],k)){var F=arguments[0];F.filter(this)}}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return xe.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return this._coordinates.size()===0}},{key:"init",value:function(m){m===null&&(m=this.getFactory().getCoordinateSequenceFactory().create([])),le.isTrue(m.size()<=1),this._coordinates=m}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[zn]}}],[{key:"constructor_",value:function(){this._coordinates=null;var m=arguments[0],S=arguments[1];xe.constructor_.call(this,S),this.init(m)}}]),h}(xe),_s=function(){function C(){n(this,C)}return r(C,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var u=arguments[0];return Math.abs(C.ofRingSigned(u))}if(Ae(arguments[0],Ye)){var h=arguments[0];return Math.abs(C.ofRingSigned(h))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var u=arguments[0];if(u.length<3)return 0;for(var h=0,m=u[0].x,S=1;S<u.length-1;S++){var A=u[S].x-m,F=u[S+1].y,j=u[S-1].y;h+=A*(j-F)}return h/2}if(Ae(arguments[0],Ye)){var re=arguments[0],fe=re.size();if(fe<3)return 0;var Pe=new ue,Oe=new ue,lt=new ue;re.getCoordinate(0,Oe),re.getCoordinate(1,lt);var Rt=Oe.x;lt.x-=Rt;for(var Tt=0,en=1;en<fe-1;en++)Pe.y=Oe.y,Oe.x=lt.x,Oe.y=lt.y,re.getCoordinate(en+1,lt),lt.x-=Rt,Tt+=Oe.x*(Pe.y-lt.y);return Tt/2}}}]),C}(),lr=function(){function C(){n(this,C)}return r(C,null,[{key:"sort",value:function(){var u=arguments,h=arguments[0];if(arguments.length===1)h.sort(function(Rt,Tt){return Rt.compareTo(Tt)});else if(arguments.length===2)h.sort(function(Rt,Tt){return u[1].compare(Rt,Tt)});else if(arguments.length===3){var m=h.slice(arguments[1],arguments[2]);m.sort();var S=h.slice(0,arguments[1]).concat(m,h.slice(arguments[2],h.length));h.splice(0,h.length);var A,F=M(S);try{for(F.s();!(A=F.n()).done;){var j=A.value;h.push(j)}}catch(Rt){F.e(Rt)}finally{F.f()}}else if(arguments.length===4){var re=h.slice(arguments[1],arguments[2]);re.sort(function(Rt,Tt){return u[3].compare(Rt,Tt)});var fe=h.slice(0,arguments[1]).concat(re,h.slice(arguments[2],h.length));h.splice(0,h.length);var Pe,Oe=M(fe);try{for(Oe.s();!(Pe=Oe.n()).done;){var lt=Pe.value;h.push(lt)}}catch(Rt){Oe.e(Rt)}finally{Oe.f()}}}},{key:"asList",value:function(u){var h,m=new be,S=M(u);try{for(S.s();!(h=S.n()).done;){var A=h.value;m.add(A)}}catch(F){S.e(F)}finally{S.f()}return m}},{key:"copyOf",value:function(u,h){return u.slice(0,h)}}]),C}(),Ur=function C(){n(this,C)},mi=function(C){s(h,C);var u=g(h);function h(){var m;return n(this,h),m=u.call(this),h.constructor_.apply(p(m),arguments),m}return r(h,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var m=new Array(this.getNumPoints()).fill(null),S=-1,A=this._shell.getCoordinates(),F=0;F<A.length;F++)m[++S]=A[F];for(var j=0;j<this._holes.length;j++)for(var re=this._holes[j].getCoordinates(),fe=0;fe<re.length;fe++)m[++S]=re[fe];return m}},{key:"getArea",value:function(){var m=0;m+=_s.ofRing(this._shell.getCoordinateSequence());for(var S=0;S<this._holes.length;S++)m-=_s.ofRing(this._holes[S].getCoordinateSequence());return m}},{key:"copyInternal",value:function(){for(var m=this._shell.copy(),S=new Array(this._holes.length).fill(null),A=0;A<this._holes.length;A++)S[A]=this._holes[A].copy();return new h(m,S,this._factory)}},{key:"isRectangle",value:function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var m=this._shell.getCoordinateSequence(),S=this.getEnvelopeInternal(),A=0;A<5;A++){var F=m.getX(A);if(F!==S.getMinX()&&F!==S.getMaxX())return!1;var j=m.getY(A);if(j!==S.getMinY()&&j!==S.getMaxY())return!1}for(var re=m.getX(0),fe=m.getY(0),Pe=1;Pe<=4;Pe++){var Oe=m.getX(Pe),lt=m.getY(Pe);if(Oe!==re==(lt!==fe))return!1;re=Oe,fe=lt}return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof xe){var m=arguments[0],S=arguments[1];if(!this.isEquivalentClass(m))return!1;var A=m,F=this._shell,j=A._shell;if(!F.equalsExact(j,S)||this._holes.length!==A._holes.length)return!1;for(var re=0;re<this._holes.length;re++)if(!this._holes[re].equalsExact(A._holes[re],S))return!1;return!0}return y(a(h.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){if(arguments.length===0){this._shell=this.normalized(this._shell,!0);for(var m=0;m<this._holes.length;m++)this._holes[m]=this.normalized(this._holes[m],!1);lr.sort(this._holes)}else if(arguments.length===2){var S=arguments[0],A=arguments[1];if(S.isEmpty())return null;var F=S.getCoordinateSequence(),j=pn.minCoordinateIndex(F,0,F.size()-2);pn.scroll(F,j,!0),xt.isCCW(F)===A&&pn.reverse(F)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var m=this.getExteriorRing().reverse(),S=new Array(this.getNumInteriorRing()).fill(null),A=0;A<S.length;A++)S[A]=this.getInteriorRingN(A).reverse();return this.getFactory().createPolygon(m,S)}},{key:"getTypeCode",value:function(){return xe.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var m=0;m+=this._shell.getLength();for(var S=0;S<this._holes.length;S++)m+=this._holes[S].getLength();return m}},{key:"getNumPoints",value:function(){for(var m=this._shell.getNumPoints(),S=0;S<this._holes.length;S++)m+=this._holes[S].getNumPoints();return m}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(m,S){var A=m.copy();return this.normalize(A,S),A}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var m=arguments[0],S=this._shell,A=m._shell;return S.compareToSameClass(A)}if(arguments.length===2){var F=arguments[0],j=arguments[1],re=F,fe=this._shell,Pe=re._shell,Oe=fe.compareToSameClass(Pe,j);if(Oe!==0)return Oe;for(var lt=this.getNumInteriorRing(),Rt=re.getNumInteriorRing(),Tt=0;Tt<lt&&Tt<Rt;){var en=this.getInteriorRingN(Tt),sn=re.getInteriorRingN(Tt),hn=en.compareToSameClass(sn,j);if(hn!==0)return hn;Tt++}return Tt<lt?1:Tt<Rt?-1:0}}},{key:"apply",value:function(){if(Ae(arguments[0],ut)){var m=arguments[0];this._shell.apply(m);for(var S=0;S<this._holes.length;S++)this._holes[S].apply(m)}else if(Ae(arguments[0],Qn)){var A=arguments[0];if(this._shell.apply(A),!A.isDone())for(var F=0;F<this._holes.length&&(this._holes[F].apply(A),!A.isDone());F++);A.isGeometryChanged()&&this.geometryChanged()}else if(Ae(arguments[0],Rn)){var j=arguments[0];j.filter(this)}else if(Ae(arguments[0],k)){var re=arguments[0];re.filter(this),this._shell.apply(re);for(var fe=0;fe<this._holes.length;fe++)this._holes[fe].apply(re)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var m=new Array(this._holes.length+1).fill(null);m[0]=this._shell;for(var S=0;S<this._holes.length;S++)m[S+1]=this._holes[S];return m.length<=1?this.getFactory().createLinearRing(m[0].getCoordinateSequence()):this.getFactory().createMultiLineString(m)}},{key:"getGeometryType",value:function(){return xe.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(m){return this._holes[m]}},{key:"interfaces_",get:function(){return[Ur]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var m=arguments[0],S=arguments[1],A=arguments[2];if(xe.constructor_.call(this,A),m===null&&(m=this.getFactory().createLinearRing()),S===null&&(S=[]),xe.hasNullElements(S))throw new T("holes must not contain null elements");if(m.isEmpty()&&xe.hasNonEmptyElements(S))throw new T("shell is empty but holes are not");this._shell=m,this._holes=S}}]),h}(xe),tt=function(C){s(h,C);var u=g(h);function h(){return n(this,h),u.apply(this,arguments)}return h}(rt),It=function(C){s(h,C);var u=g(h);function h(m){var S;return n(this,h),(S=u.call(this)).array=[],m instanceof He&&S.addAll(m),S}return r(h,[{key:"contains",value:function(m){var S,A=M(this.array);try{for(A.s();!(S=A.n()).done;)if(S.value.compareTo(m)===0)return!0}catch(F){A.e(F)}finally{A.f()}return!1}},{key:"add",value:function(m){if(this.contains(m))return!1;for(var S=0,A=this.array.length;S<A;S++)if(this.array[S].compareTo(m)===1)return!!this.array.splice(S,0,m);return this.array.push(m),!0}},{key:"addAll",value:function(m){var S,A=M(m);try{for(A.s();!(S=A.n()).done;){var F=S.value;this.add(F)}}catch(j){A.e(j)}finally{A.f()}return!0}},{key:"remove",value:function(){throw new at}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new fn(this.array)}}]),h}(tt),fn=function(){function C(u){n(this,C),this.array=u,this.position=0}return r(C,[{key:"next",value:function(){if(this.position===this.array.length)throw new Je;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new at}}]),C}(),dn=function(C){s(h,C);var u=g(h);function h(){var m;return n(this,h),m=u.call(this),h.constructor_.apply(p(m),arguments),m}return r(h,[{key:"computeEnvelopeInternal",value:function(){for(var m=new De,S=0;S<this._geometries.length;S++)m.expandToInclude(this._geometries[S].getEnvelopeInternal());return m}},{key:"getGeometryN",value:function(m){return this._geometries[m]}},{key:"getCoordinates",value:function(){for(var m=new Array(this.getNumPoints()).fill(null),S=-1,A=0;A<this._geometries.length;A++)for(var F=this._geometries[A].getCoordinates(),j=0;j<F.length;j++)m[++S]=F[j];return m}},{key:"getArea",value:function(){for(var m=0,S=0;S<this._geometries.length;S++)m+=this._geometries[S].getArea();return m}},{key:"copyInternal",value:function(){for(var m=new Array(this._geometries.length).fill(null),S=0;S<m.length;S++)m[S]=this._geometries[S].copy();return new h(m,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof xe){var m=arguments[0],S=arguments[1];if(!this.isEquivalentClass(m))return!1;var A=m;if(this._geometries.length!==A._geometries.length)return!1;for(var F=0;F<this._geometries.length;F++)if(!this._geometries[F].equalsExact(A._geometries[F],S))return!1;return!0}return y(a(h.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){for(var m=0;m<this._geometries.length;m++)this._geometries[m].normalize();lr.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var m=ht.FALSE,S=0;S<this._geometries.length;S++)m=Math.max(m,this._geometries[S].getBoundaryDimension());return m}},{key:"reverseInternal",value:function(){for(var m=this._geometries.length,S=new be(m),A=0;A<m;A++)S.add(this._geometries[A].reverse());return this.getFactory().buildGeometry(S)}},{key:"getTypeCode",value:function(){return xe.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var m=ht.FALSE,S=0;S<this._geometries.length;S++)m=Math.max(m,this._geometries[S].getDimension());return m}},{key:"getLength",value:function(){for(var m=0,S=0;S<this._geometries.length;S++)m+=this._geometries[S].getLength();return m}},{key:"getNumPoints",value:function(){for(var m=0,S=0;S<this._geometries.length;S++)m+=this._geometries[S].getNumPoints();return m}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var m=arguments[0],S=new It(lr.asList(this._geometries)),A=new It(lr.asList(m._geometries));return this.compare(S,A)}if(arguments.length===2){for(var F=arguments[0],j=arguments[1],re=F,fe=this.getNumGeometries(),Pe=re.getNumGeometries(),Oe=0;Oe<fe&&Oe<Pe;){var lt=this.getGeometryN(Oe),Rt=re.getGeometryN(Oe),Tt=lt.compareToSameClass(Rt,j);if(Tt!==0)return Tt;Oe++}return Oe<fe?1:Oe<Pe?-1:0}}},{key:"apply",value:function(){if(Ae(arguments[0],ut))for(var m=arguments[0],S=0;S<this._geometries.length;S++)this._geometries[S].apply(m);else if(Ae(arguments[0],Qn)){var A=arguments[0];if(this._geometries.length===0)return null;for(var F=0;F<this._geometries.length&&(this._geometries[F].apply(A),!A.isDone());F++);A.isGeometryChanged()&&this.geometryChanged()}else if(Ae(arguments[0],Rn)){var j=arguments[0];j.filter(this);for(var re=0;re<this._geometries.length;re++)this._geometries[re].apply(j)}else if(Ae(arguments[0],k)){var fe=arguments[0];fe.filter(this);for(var Pe=0;Pe<this._geometries.length;Pe++)this._geometries[Pe].apply(fe)}}},{key:"getBoundary",value:function(){return xe.checkNotGeometryCollection(this),le.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return xe.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var m=0;m<this._geometries.length;m++)if(!this._geometries[m].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,arguments.length!==0){if(arguments.length===2){var m=arguments[0],S=arguments[1];if(xe.constructor_.call(this,S),m===null&&(m=[]),xe.hasNullElements(m))throw new T("geometries must not contain null elements");this._geometries=m}}}}]),h}(xe),Ri=function(C){s(h,C);var u=g(h);function h(){var m;return n(this,h),m=u.call(this),h.constructor_.apply(p(m),arguments),m}return r(h,[{key:"copyInternal",value:function(){for(var m=new Array(this._geometries.length).fill(null),S=0;S<m.length;S++)m[S]=this._geometries[S].copy();return new h(m,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof xe){var m=arguments[0],S=arguments[1];return!!this.isEquivalentClass(m)&&y(a(h.prototype),"equalsExact",this).call(this,m,S)}return y(a(h.prototype),"equalsExact",this).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(arguments.length===1&&Number.isInteger(arguments[0])){var m=arguments[0];return this._geometries[m].getCoordinate()}return y(a(h.prototype),"getCoordinate",this).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return ht.FALSE}},{key:"getTypeCode",value:function(){return xe.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return xe.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[zn]}}],[{key:"constructor_",value:function(){var m=arguments[0],S=arguments[1];dn.constructor_.call(this,m,S)}}]),h}(dn),ai=function(C){s(h,C);var u=g(h);function h(){var m;return n(this,h),m=u.call(this),h.constructor_.apply(p(m),arguments),m}return r(h,[{key:"copyInternal",value:function(){return new h(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return ht.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||y(a(h.prototype),"isClosed",this).call(this)}},{key:"reverseInternal",value:function(){var m=this._points.copy();return pn.reverse(m),this.getFactory().createLinearRing(m)}},{key:"getTypeCode",value:function(){return xe.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!y(a(h.prototype),"isClosed",this).call(this))throw new T("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<h.MINIMUM_VALID_SIZE)throw new T("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return xe.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var m=arguments[0],S=arguments[1];mn.constructor_.call(this,m,S),this.validateConstruction()}}]),h}(mn);ai.MINIMUM_VALID_SIZE=4;var me=function(C){s(h,C);var u=g(h);function h(){var m;return n(this,h),m=u.call(this),h.constructor_.apply(p(m),arguments),m}return r(h,[{key:"setOrdinate",value:function(m,S){switch(m){case h.X:this.x=S;break;case h.Y:this.y=S;break;default:throw new T("Invalid ordinate index: "+m)}}},{key:"getZ",value:function(){return ue.NULL_ORDINATE}},{key:"getOrdinate",value:function(m){switch(m){case h.X:return this.x;case h.Y:return this.y}throw new T("Invalid ordinate index: "+m)}},{key:"setZ",value:function(m){throw new T("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new h(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(m){this.x=m.x,this.y=m.y,this.z=m.getZ()}}],[{key:"constructor_",value:function(){if(arguments.length===0)ue.constructor_.call(this);else if(arguments.length===1){if(arguments[0]instanceof h){var m=arguments[0];ue.constructor_.call(this,m.x,m.y)}else if(arguments[0]instanceof ue){var S=arguments[0];ue.constructor_.call(this,S.x,S.y)}}else if(arguments.length===2){var A=arguments[0],F=arguments[1];ue.constructor_.call(this,A,F,ue.NULL_ORDINATE)}}}]),h}(ue);me.X=0,me.Y=1,me.Z=-1,me.M=-1;var Ue=function(C){s(h,C);var u=g(h);function h(){var m;return n(this,h),m=u.call(this),h.constructor_.apply(p(m),arguments),m}return r(h,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(m,S){switch(m){case h.X:this.x=S;break;case h.Y:this.y=S;break;case h.M:this._m=S;break;default:throw new T("Invalid ordinate index: "+m)}}},{key:"setM",value:function(m){this._m=m}},{key:"getZ",value:function(){return ue.NULL_ORDINATE}},{key:"getOrdinate",value:function(m){switch(m){case h.X:return this.x;case h.Y:return this.y;case h.M:return this._m}throw new T("Invalid ordinate index: "+m)}},{key:"setZ",value:function(m){throw new T("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new h(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(m){this.x=m.x,this.y=m.y,this.z=m.getZ(),this._m=m.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)ue.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof h){var m=arguments[0];ue.constructor_.call(this,m.x,m.y),this._m=m._m}else if(arguments[0]instanceof ue){var S=arguments[0];ue.constructor_.call(this,S.x,S.y),this._m=this.getM()}}else if(arguments.length===3){var A=arguments[0],F=arguments[1],j=arguments[2];ue.constructor_.call(this,A,F,ue.NULL_ORDINATE),this._m=j}}}]),h}(ue);Ue.X=0,Ue.Y=1,Ue.Z=-1,Ue.M=2;var Ke=function(C){s(h,C);var u=g(h);function h(){var m;return n(this,h),m=u.call(this),h.constructor_.apply(p(m),arguments),m}return r(h,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(m,S){switch(m){case ue.X:this.x=S;break;case ue.Y:this.y=S;break;case ue.Z:this.z=S;break;case ue.M:this._m=S;break;default:throw new T("Invalid ordinate index: "+m)}}},{key:"setM",value:function(m){this._m=m}},{key:"getOrdinate",value:function(m){switch(m){case ue.X:return this.x;case ue.Y:return this.y;case ue.Z:return this.getZ();case ue.M:return this.getM()}throw new T("Invalid ordinate index: "+m)}},{key:"copy",value:function(){return new h(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(m){this.x=m.x,this.y=m.y,this.z=m.getZ(),this._m=m.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)ue.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof h){var m=arguments[0];ue.constructor_.call(this,m),this._m=m._m}else if(arguments[0]instanceof ue){var S=arguments[0];ue.constructor_.call(this,S),this._m=this.getM()}}else if(arguments.length===4){var A=arguments[0],F=arguments[1],j=arguments[2],re=arguments[3];ue.constructor_.call(this,A,F,j),this._m=re}}}]),h}(ue),Qe=function(){function C(){n(this,C)}return r(C,null,[{key:"measures",value:function(u){return u instanceof me?0:u instanceof Ue||u instanceof Ke?1:0}},{key:"dimension",value:function(u){return u instanceof me?2:u instanceof Ue?3:u instanceof Ke?4:3}},{key:"create",value:function(){if(arguments.length===1){var u=arguments[0];return C.create(u,0)}if(arguments.length===2){var h=arguments[0],m=arguments[1];return h===2?new me:h===3&&m===0?new ue:h===3&&m===1?new Ue:h===4&&m===1?new Ke:new ue}}}]),C}(),Se=function(C){s(h,C);var u=g(h);function h(){var m;return n(this,h),m=u.call(this),h.constructor_.apply(p(m),arguments),m}return r(h,[{key:"getCoordinate",value:function(m){return this.get(m)}},{key:"addAll",value:function(){if(arguments.length===2&&typeof arguments[1]=="boolean"&&Ae(arguments[0],He)){for(var m=arguments[0],S=arguments[1],A=!1,F=m.iterator();F.hasNext();)this.add(F.next(),S),A=!0;return A}return y(a(h.prototype),"addAll",this).apply(this,arguments)}},{key:"clone",value:function(){for(var m=y(a(h.prototype),"clone",this).call(this),S=0;S<this.size();S++)m.add(S,this.get(S).clone());return m}},{key:"toCoordinateArray",value:function(){if(arguments.length===0)return this.toArray(h.coordArrayType);if(arguments.length===1){var m=arguments[0];if(m)return this.toArray(h.coordArrayType);for(var S=this.size(),A=new Array(S).fill(null),F=0;F<S;F++)A[F]=this.get(S-F-1);return A}}},{key:"add",value:function(){if(arguments.length===1){var m=arguments[0];return y(a(h.prototype),"add",this).call(this,m)}if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var S=arguments[0],A=arguments[1];return this.add(S,A,!0),!0}if(arguments[0]instanceof ue&&typeof arguments[1]=="boolean"){var F=arguments[0],j=arguments[1];if(!j&&this.size()>=1){var re=this.get(this.size()-1);if(re.equals2D(F))return null}y(a(h.prototype),"add",this).call(this,F)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var fe=arguments[0],Pe=arguments[1];return this.add(fe,Pe),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var Oe=arguments[0],lt=arguments[1],Rt=arguments[2];if(Rt)for(var Tt=0;Tt<Oe.length;Tt++)this.add(Oe[Tt],lt);else for(var en=Oe.length-1;en>=0;en--)this.add(Oe[en],lt);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof ue){var sn=arguments[0],hn=arguments[1],Dn=arguments[2];if(!Dn){var li=this.size();if(li>0){if(sn>0){var ji=this.get(sn-1);if(ji.equals2D(hn))return null}if(sn<li){var $r=this.get(sn);if($r.equals2D(hn))return null}}}y(a(h.prototype),"add",this).call(this,sn,hn)}}else if(arguments.length===4){var Ss=arguments[0],ya=arguments[1],Bo=arguments[2],kc=arguments[3],Pc=1;Bo>kc&&(Pc=-1);for(var zl=Bo;zl!==kc;zl+=Pc)this.add(Ss[zl],ya);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var m=this.get(0).copy();this.add(m,!1)}}}],[{key:"constructor_",value:function(){if(arguments.length!==0){if(arguments.length===1){var m=arguments[0];this.ensureCapacity(m.length),this.add(m,!0)}else if(arguments.length===2){var S=arguments[0],A=arguments[1];this.ensureCapacity(S.length),this.add(S,A)}}}}]),h}(be);Se.coordArrayType=new Array(0).fill(null);var $e=function(){function C(){n(this,C)}return r(C,null,[{key:"isRing",value:function(u){return!(u.length<4)&&!!u[0].equals2D(u[u.length-1])}},{key:"ptNotInList",value:function(u,h){for(var m=0;m<u.length;m++){var S=u[m];if(C.indexOf(S,h)<0)return S}return null}},{key:"scroll",value:function(u,h){var m=C.indexOf(h,u);if(m<0)return null;var S=new Array(u.length).fill(null);Ce.arraycopy(u,m,S,0,u.length-m),Ce.arraycopy(u,0,S,u.length-m,m),Ce.arraycopy(S,0,u,0,u.length)}},{key:"equals",value:function(){if(arguments.length===2){var u=arguments[0],h=arguments[1];if(u===h)return!0;if(u===null||h===null||u.length!==h.length)return!1;for(var m=0;m<u.length;m++)if(!u[m].equals(h[m]))return!1;return!0}if(arguments.length===3){var S=arguments[0],A=arguments[1],F=arguments[2];if(S===A)return!0;if(S===null||A===null||S.length!==A.length)return!1;for(var j=0;j<S.length;j++)if(F.compare(S[j],A[j])!==0)return!1;return!0}}},{key:"intersection",value:function(u,h){for(var m=new Se,S=0;S<u.length;S++)h.intersects(u[S])&&m.add(u[S],!0);return m.toCoordinateArray()}},{key:"measures",value:function(u){if(u===null||u.length===0)return 0;var h,m=0,S=M(u);try{for(S.s();!(h=S.n()).done;){var A=h.value;m=Math.max(m,Qe.measures(A))}}catch(F){S.e(F)}finally{S.f()}return m}},{key:"hasRepeatedPoints",value:function(u){for(var h=1;h<u.length;h++)if(u[h-1].equals(u[h]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(u){return C.hasRepeatedPoints(u)?new Se(u,!1).toCoordinateArray():u}},{key:"reverse",value:function(u){for(var h=u.length-1,m=Math.trunc(h/2),S=0;S<=m;S++){var A=u[S];u[S]=u[h-S],u[h-S]=A}}},{key:"removeNull",value:function(u){for(var h=0,m=0;m<u.length;m++)u[m]!==null&&h++;var S=new Array(h).fill(null);if(h===0)return S;for(var A=0,F=0;F<u.length;F++)u[F]!==null&&(S[A++]=u[F]);return S}},{key:"copyDeep",value:function(){if(arguments.length===1){for(var u=arguments[0],h=new Array(u.length).fill(null),m=0;m<u.length;m++)h[m]=u[m].copy();return h}if(arguments.length===5)for(var S=arguments[0],A=arguments[1],F=arguments[2],j=arguments[3],re=arguments[4],fe=0;fe<re;fe++)F[j+fe]=S[A+fe].copy()}},{key:"isEqualReversed",value:function(u,h){for(var m=0;m<u.length;m++){var S=u[m],A=h[u.length-m-1];if(S.compareTo(A)!==0)return!1}return!0}},{key:"envelope",value:function(u){for(var h=new De,m=0;m<u.length;m++)h.expandToInclude(u[m]);return h}},{key:"toCoordinateArray",value:function(u){return u.toArray(C.coordArrayType)}},{key:"dimension",value:function(u){if(u===null||u.length===0)return 3;var h,m=0,S=M(u);try{for(S.s();!(h=S.n()).done;){var A=h.value;m=Math.max(m,Qe.dimension(A))}}catch(F){S.e(F)}finally{S.f()}return m}},{key:"atLeastNCoordinatesOrNothing",value:function(u,h){return h.length>=u?h:[]}},{key:"indexOf",value:function(u,h){for(var m=0;m<h.length;m++)if(u.equals(h[m]))return m;return-1}},{key:"increasingDirection",value:function(u){for(var h=0;h<Math.trunc(u.length/2);h++){var m=u.length-1-h,S=u[h].compareTo(u[m]);if(S!==0)return S}return 1}},{key:"compare",value:function(u,h){for(var m=0;m<u.length&&m<h.length;){var S=u[m].compareTo(h[m]);if(S!==0)return S;m++}return m<h.length?-1:m<u.length?1:0}},{key:"minCoordinate",value:function(u){for(var h=null,m=0;m<u.length;m++)(h===null||h.compareTo(u[m])>0)&&(h=u[m]);return h}},{key:"extract",value:function(u,h,m){h=ot.clamp(h,0,u.length);var S=(m=ot.clamp(m,-1,u.length))-h+1;m<0&&(S=0),h>=u.length&&(S=0),m<h&&(S=0);var A=new Array(S).fill(null);if(S===0)return A;for(var F=0,j=h;j<=m;j++)A[F++]=u[j];return A}}]),C}(),mt=function(){function C(){n(this,C)}return r(C,[{key:"compare",value:function(u,h){var m=u,S=h;return $e.compare(m,S)}},{key:"interfaces_",get:function(){return[ee]}}]),C}(),kt=function(){function C(){n(this,C)}return r(C,[{key:"compare",value:function(u,h){var m=u,S=h;if(m.length<S.length)return-1;if(m.length>S.length)return 1;if(m.length===0)return 0;var A=$e.compare(m,S);return $e.isEqualReversed(m,S)?0:A}},{key:"OLDcompare",value:function(u,h){var m=u,S=h;if(m.length<S.length)return-1;if(m.length>S.length)return 1;if(m.length===0)return 0;for(var A=$e.increasingDirection(m),F=$e.increasingDirection(S),j=A>0?0:m.length-1,re=F>0?0:m.length-1,fe=0;fe<m.length;fe++){var Pe=m[j].compareTo(S[re]);if(Pe!==0)return Pe;j+=A,re+=F}return 0}},{key:"interfaces_",get:function(){return[ee]}}]),C}();$e.ForwardComparator=mt,$e.BidirectionalComparator=kt,$e.coordArrayType=new Array(0).fill(null);var qt=function(){function C(u){n(this,C),this.str=u}return r(C,[{key:"append",value:function(u){this.str+=u}},{key:"setCharAt",value:function(u,h){this.str=this.str.substr(0,u)+h+this.str.substr(u+1)}},{key:"toString",value:function(){return this.str}}]),C}(),Qt=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"getM",value:function(u){return this.hasM()?this._coordinates[u].getM():V.NaN}},{key:"setOrdinate",value:function(u,h,m){switch(h){case Ye.X:this._coordinates[u].x=m;break;case Ye.Y:this._coordinates[u].y=m;break;default:this._coordinates[u].setOrdinate(h,m)}}},{key:"getZ",value:function(u){return this.hasZ()?this._coordinates[u].getZ():V.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(u,h){switch(h){case Ye.X:return this._coordinates[u].x;case Ye.Y:return this._coordinates[u].y;default:return this._coordinates[u].getOrdinate(h)}}},{key:"getCoordinate",value:function(){if(arguments.length===1){var u=arguments[0];return this._coordinates[u]}if(arguments.length===2){var h=arguments[0],m=arguments[1];m.setCoordinate(this._coordinates[h])}}},{key:"getCoordinateCopy",value:function(u){var h=this.createCoordinate();return h.setCoordinate(this._coordinates[u]),h}},{key:"createCoordinate",value:function(){return Qe.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(u){return this._coordinates[u].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(u){for(var h=0;h<this._coordinates.length;h++)u.expandToInclude(this._coordinates[h]);return u}},{key:"copy",value:function(){for(var u=new Array(this.size()).fill(null),h=0;h<this._coordinates.length;h++){var m=this.createCoordinate();m.setCoordinate(this._coordinates[h]),u[h]=m}return new C(u,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var u=new qt(17*this._coordinates.length);u.append("("),u.append(this._coordinates[0]);for(var h=1;h<this._coordinates.length;h++)u.append(", "),u.append(this._coordinates[h]);return u.append(")"),u.toString()}return"()"}},{key:"getY",value:function(u){return this._coordinates[u].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[Ye,U]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array){var u=arguments[0];C.constructor_.call(this,u,$e.dimension(u),$e.measures(u))}else if(Number.isInteger(arguments[0])){var h=arguments[0];this._coordinates=new Array(h).fill(null);for(var m=0;m<h;m++)this._coordinates[m]=new ue}else if(Ae(arguments[0],Ye)){var S=arguments[0];if(S===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=S.getDimension(),this._measures=S.getMeasures(),this._coordinates=new Array(S.size()).fill(null);for(var A=0;A<this._coordinates.length;A++)this._coordinates[A]=S.getCoordinateCopy(A)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var F=arguments[0],j=arguments[1];C.constructor_.call(this,F,j,$e.measures(F))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var re=arguments[0],fe=arguments[1];this._coordinates=new Array(re).fill(null),this._dimension=fe;for(var Pe=0;Pe<re;Pe++)this._coordinates[Pe]=Qe.create(fe)}}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var Oe=arguments[0],lt=arguments[1],Rt=arguments[2];this._dimension=lt,this._measures=Rt,this._coordinates=Oe===null?new Array(0).fill(null):Oe}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var Tt=arguments[0],en=arguments[1],sn=arguments[2];this._coordinates=new Array(Tt).fill(null),this._dimension=en,this._measures=sn;for(var hn=0;hn<Tt;hn++)this._coordinates[hn]=this.createCoordinate()}}}}]),C}(),an=function(){function C(){n(this,C)}return r(C,[{key:"readResolve",value:function(){return C.instance()}},{key:"create",value:function(){if(arguments.length===1){if(arguments[0]instanceof Array){var u=arguments[0];return new Qt(u)}if(Ae(arguments[0],Ye)){var h=arguments[0];return new Qt(h)}}else{if(arguments.length===2){var m=arguments[0],S=arguments[1];return S>3&&(S=3),S<2&&(S=2),new Qt(m,S)}if(arguments.length===3){var A=arguments[0],F=arguments[1],j=arguments[2],re=F-j;return j>1&&(j=1),re>3&&(re=3),re<2&&(re=2),new Qt(A,re+j,j)}}}},{key:"interfaces_",get:function(){return[et,U]}}],[{key:"instance",value:function(){return C.instanceObject}}]),C}();an.instanceObject=new an;var ln=function(C){s(h,C);var u=g(h);function h(){var m;return n(this,h),m=u.call(this),h.constructor_.apply(p(m),arguments),m}return r(h,[{key:"copyInternal",value:function(){for(var m=new Array(this._geometries.length).fill(null),S=0;S<m.length;S++)m[S]=this._geometries[S].copy();return new h(m,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof xe){var m=arguments[0],S=arguments[1];return!!this.isEquivalentClass(m)&&y(a(h.prototype),"equalsExact",this).call(this,m,S)}return y(a(h.prototype),"equalsExact",this).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return xe.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var m=new be,S=0;S<this._geometries.length;S++)for(var A=this._geometries[S].getBoundary(),F=0;F<A.getNumGeometries();F++)m.add(A.getGeometryN(F));var j=new Array(m.size()).fill(null);return this.getFactory().createMultiLineString(m.toArray(j))}},{key:"getGeometryType",value:function(){return xe.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[Ur]}}],[{key:"constructor_",value:function(){var m=arguments[0],S=arguments[1];dn.constructor_.call(this,m,S)}}]),h}(dn),$n=function(){function C(){n(this,C)}return r(C,[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}]),C}(),Ei=function(C){s(h,C);var u=g(h);function h(){var m;return n(this,h),(m=u.call(this)).map=new Map,m}return r(h,[{key:"get",value:function(m){return this.map.get(m)||null}},{key:"put",value:function(m,S){return this.map.set(m,S),S}},{key:"values",value:function(){for(var m=new be,S=this.map.values(),A=S.next();!A.done;)m.add(A.value),A=S.next();return m}},{key:"entrySet",value:function(){var m=new it;return this.map.entries().forEach(function(S){return m.add(S)}),m}},{key:"size",value:function(){return this.map.size()}}]),h}($n),In=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"equals",value:function(u){if(!(u instanceof C))return!1;var h=u;return this._modelType===h._modelType&&this._scale===h._scale}},{key:"compareTo",value:function(u){var h=u,m=this.getMaximumSignificantDigits(),S=h.getMaximumSignificantDigits();return Xe.compare(m,S)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===C.FLOATING||this._modelType===C.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var u="UNKNOWN";return this._modelType===C.FLOATING?u="Floating":this._modelType===C.FLOATING_SINGLE?u="Floating-Single":this._modelType===C.FIXED&&(u="Fixed (Scale="+this.getScale()+")"),u}},{key:"makePrecise",value:function(){if(typeof arguments[0]=="number"){var u=arguments[0];return V.isNaN(u)||this._modelType===C.FLOATING_SINGLE?u:this._modelType===C.FIXED?Math.round(u*this._scale)/this._scale:u}if(arguments[0]instanceof ue){var h=arguments[0];if(this._modelType===C.FLOATING)return null;h.x=this.makePrecise(h.x),h.y=this.makePrecise(h.y)}}},{key:"getMaximumSignificantDigits",value:function(){var u=16;return this._modelType===C.FLOATING?u=16:this._modelType===C.FLOATING_SINGLE?u=6:this._modelType===C.FIXED&&(u=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),u}},{key:"setScale",value:function(u){this._scale=Math.abs(u)}},{key:"interfaces_",get:function(){return[U,I]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=C.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof Ci){var u=arguments[0];this._modelType=u,u===C.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var h=arguments[0];this._modelType=C.FIXED,this.setScale(h)}else if(arguments[0]instanceof C){var m=arguments[0];this._modelType=m._modelType,this._scale=m._scale}}}},{key:"mostPrecise",value:function(u,h){return u.compareTo(h)>=0?u:h}}]),C}(),Ci=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"readResolve",value:function(){return C.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[U]}}],[{key:"constructor_",value:function(){this._name=null;var u=arguments[0];this._name=u,C.nameToTypeMap.put(u,this)}}]),C}();Ci.nameToTypeMap=new Ei,In.Type=Ci,In.FIXED=new Ci("FIXED"),In.FLOATING=new Ci("FLOATING"),In.FLOATING_SINGLE=new Ci("FLOATING SINGLE"),In.maximumPreciseValue=9007199254740992;var On=function(C){s(h,C);var u=g(h);function h(){var m;return n(this,h),m=u.call(this),h.constructor_.apply(p(m),arguments),m}return r(h,[{key:"copyInternal",value:function(){for(var m=new Array(this._geometries.length).fill(null),S=0;S<m.length;S++)m[S]=this._geometries[S].copy();return new h(m,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof xe){var m=arguments[0],S=arguments[1];return!!this.isEquivalentClass(m)&&y(a(h.prototype),"equalsExact",this).call(this,m,S)}return y(a(h.prototype),"equalsExact",this).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?ht.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var m=0;m<this._geometries.length;m++)if(!this._geometries[m].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return xe.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new at}},{key:"getGeometryType",value:function(){return xe.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[Ht]}}],[{key:"constructor_",value:function(){var m=arguments[0],S=arguments[1];dn.constructor_.call(this,m,S)}}]),h}(dn),un=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"createEmpty",value:function(u){switch(u){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new T("Invalid dimension: "+u)}}},{key:"toGeometry",value:function(u){return u.isNull()?this.createPoint():u.getMinX()===u.getMaxX()&&u.getMinY()===u.getMaxY()?this.createPoint(new ue(u.getMinX(),u.getMinY())):u.getMinX()===u.getMaxX()||u.getMinY()===u.getMaxY()?this.createLineString([new ue(u.getMinX(),u.getMinY()),new ue(u.getMaxX(),u.getMaxY())]):this.createPolygon(this.createLinearRing([new ue(u.getMinX(),u.getMinY()),new ue(u.getMinX(),u.getMaxY()),new ue(u.getMaxX(),u.getMaxY()),new ue(u.getMaxX(),u.getMinY()),new ue(u.getMinX(),u.getMinY())]),null)}},{key:"createLineString",value:function(){if(arguments.length===0)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var u=arguments[0];return this.createLineString(u!==null?this.getCoordinateSequenceFactory().create(u):null)}if(Ae(arguments[0],Ye)){var h=arguments[0];return new mn(h,this)}}}},{key:"createMultiLineString",value:function(){if(arguments.length===0)return new On(null,this);if(arguments.length===1){var u=arguments[0];return new On(u,this)}}},{key:"buildGeometry",value:function(u){for(var h=null,m=!1,S=!1,A=u.iterator();A.hasNext();){var F=A.next(),j=F.getTypeCode();h===null&&(h=j),j!==h&&(m=!0),F instanceof dn&&(S=!0)}if(h===null)return this.createGeometryCollection();if(m||S)return this.createGeometryCollection(C.toGeometryArray(u));var re=u.iterator().next();if(u.size()>1){if(re instanceof mi)return this.createMultiPolygon(C.toPolygonArray(u));if(re instanceof mn)return this.createMultiLineString(C.toLineStringArray(u));if(re instanceof fi)return this.createMultiPoint(C.toPointArray(u));le.shouldNeverReachHere("Unhandled geometry type: "+re.getGeometryType())}return re}},{key:"createMultiPointFromCoords",value:function(u){return this.createMultiPoint(u!==null?this.getCoordinateSequenceFactory().create(u):null)}},{key:"createPoint",value:function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof ue){var u=arguments[0];return this.createPoint(u!==null?this.getCoordinateSequenceFactory().create([u]):null)}if(Ae(arguments[0],Ye)){var h=arguments[0];return new fi(h,this)}}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(arguments.length===0)return this.createPolygon(null,null);if(arguments.length===1){if(Ae(arguments[0],Ye)){var u=arguments[0];return this.createPolygon(this.createLinearRing(u))}if(arguments[0]instanceof Array){var h=arguments[0];return this.createPolygon(this.createLinearRing(h))}if(arguments[0]instanceof ai){var m=arguments[0];return this.createPolygon(m,null)}}else if(arguments.length===2){var S=arguments[0],A=arguments[1];return new mi(S,A,this)}}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){if(arguments.length===0)return new dn(null,this);if(arguments.length===1){var u=arguments[0];return new dn(u,this)}}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var u=arguments[0];return this.createLinearRing(u!==null?this.getCoordinateSequenceFactory().create(u):null)}if(Ae(arguments[0],Ye)){var h=arguments[0];return new ai(h,this)}}}},{key:"createMultiPolygon",value:function(){if(arguments.length===0)return new ln(null,this);if(arguments.length===1){var u=arguments[0];return new ln(u,this)}}},{key:"createMultiPoint",value:function(){if(arguments.length===0)return new Ri(null,this);if(arguments.length===1){if(arguments[0]instanceof Array){var u=arguments[0];return new Ri(u,this)}if(Ae(arguments[0],Ye)){var h=arguments[0];if(h===null)return this.createMultiPoint(new Array(0).fill(null));for(var m=new Array(h.size()).fill(null),S=0;S<h.size();S++){var A=this.getCoordinateSequenceFactory().create(1,h.getDimension(),h.getMeasures());pn.copy(h,S,A,0,1),m[S]=this.createPoint(A)}return this.createMultiPoint(m)}}}},{key:"interfaces_",get:function(){return[U]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,arguments.length===0)C.constructor_.call(this,new In,0);else if(arguments.length===1){if(Ae(arguments[0],et)){var u=arguments[0];C.constructor_.call(this,new In,0,u)}else if(arguments[0]instanceof In){var h=arguments[0];C.constructor_.call(this,h,0,C.getDefaultCoordinateSequenceFactory())}}else if(arguments.length===2){var m=arguments[0],S=arguments[1];C.constructor_.call(this,m,S,C.getDefaultCoordinateSequenceFactory())}else if(arguments.length===3){var A=arguments[0],F=arguments[1],j=arguments[2];this._precisionModel=A,this._coordinateSequenceFactory=j,this._SRID=F}}},{key:"toMultiPolygonArray",value:function(u){var h=new Array(u.size()).fill(null);return u.toArray(h)}},{key:"toGeometryArray",value:function(u){if(u===null)return null;var h=new Array(u.size()).fill(null);return u.toArray(h)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return an.instance()}},{key:"toMultiLineStringArray",value:function(u){var h=new Array(u.size()).fill(null);return u.toArray(h)}},{key:"toLineStringArray",value:function(u){var h=new Array(u.size()).fill(null);return u.toArray(h)}},{key:"toMultiPointArray",value:function(u){var h=new Array(u.size()).fill(null);return u.toArray(h)}},{key:"toLinearRingArray",value:function(u){var h=new Array(u.size()).fill(null);return u.toArray(h)}},{key:"toPointArray",value:function(u){var h=new Array(u.size()).fill(null);return u.toArray(h)}},{key:"toPolygonArray",value:function(u){var h=new Array(u.size()).fill(null);return u.toArray(h)}},{key:"createPointFromInternalCoord",value:function(u,h){return h.getPrecisionModel().makePrecise(u),h.getFactory().createPoint(u)}}]),C}(),pa="XY",Wn="XYZ",bs="XYM",Ol="XYZM",Zr={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},za="EMPTY",oi=1,Ii=2,wr=3,Hi=4,Jr=5,wc=6;for(var Ro in Zr)Zr[Ro].toUpperCase();var Zp=function(){function C(u){n(this,C),this.wkt=u,this.index_=-1}return r(C,[{key:"isAlpha_",value:function(u){return u>="a"&&u<="z"||u>="A"&&u<="Z"}},{key:"isNumeric_",value:function(u,h){return u>="0"&&u<="9"||u=="."&&!(h!==void 0&&h)}},{key:"isWhiteSpace_",value:function(u){return u==" "||u=="	"||u=="\r"||u==`
`}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var u,h=this.nextChar_(),m=this.index_,S=h;if(h=="(")u=Ii;else if(h==",")u=Jr;else if(h==")")u=wr;else if(this.isNumeric_(h)||h=="-")u=Hi,S=this.readNumber_();else if(this.isAlpha_(h))u=oi,S=this.readText_();else{if(this.isWhiteSpace_(h))return this.nextToken();if(h!=="")throw new Error("Unexpected character: "+h);u=wc}return{position:m,value:S,type:u}}},{key:"readNumber_",value:function(){var u,h=this.index_,m=!1,S=!1;do u=="."?m=!0:u!="e"&&u!="E"||(S=!0),u=this.nextChar_();while(this.isNumeric_(u,m)||!S&&(u=="e"||u=="E")||S&&(u=="-"||u=="+"));return parseFloat(this.wkt.substring(h,this.index_--))}},{key:"readText_",value:function(){var u,h=this.index_;do u=this.nextChar_();while(this.isAlpha_(u));return this.wkt.substring(h,this.index_--).toUpperCase()}}]),C}(),Jp=function(){function C(u,h){n(this,C),this.lexer_=u,this.token_,this.layout_=pa,this.factory=h}return r(C,[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(u){return this.token_.type==u}},{key:"match",value:function(u){var h=this.isTokenType(u);return h&&this.consume_(),h}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var u=pa,h=this.token_;if(this.isTokenType(oi)){var m=h.value;m==="Z"?u=Wn:m==="M"?u=bs:m==="ZM"&&(u=Ol),u!==pa&&this.consume_()}return u}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(Ii)){var u=[];do u.push(this.parseGeometry_());while(this.match(Jr));if(this.match(wr))return u}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(Ii)){var u=this.parsePoint_();if(this.match(wr))return u}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(Ii)){var u=this.parsePointList_();if(this.match(wr))return u}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(Ii)){var u=this.parseLineStringTextList_();if(this.match(wr))return u}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var u;if(this.match(Ii)){if(u=this.token_.type==Ii?this.parsePointTextList_():this.parsePointList_(),this.match(wr))return u}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(Ii)){var u=this.parseLineStringTextList_();if(this.match(wr))return u}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(Ii)){var u=this.parsePolygonTextList_();if(this.match(wr))return u}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var u=[],h=this.layout_.length,m=0;m<h;++m){var S=this.token_;if(!this.match(Hi))break;u.push(S.value)}if(u.length==h)return u;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var u=[this.parsePoint_()];this.match(Jr);)u.push(this.parsePoint_());return u}},{key:"parsePointTextList_",value:function(){for(var u=[this.parsePointText_()];this.match(Jr);)u.push(this.parsePointText_());return u}},{key:"parseLineStringTextList_",value:function(){for(var u=[this.parseLineStringText_()];this.match(Jr);)u.push(this.parseLineStringText_());return u}},{key:"parsePolygonTextList_",value:function(){for(var u=[this.parsePolygonText_()];this.match(Jr);)u.push(this.parsePolygonText_());return u}},{key:"isEmptyGeometry_",value:function(){var u=this.isTokenType(oi)&&this.token_.value==za;return u&&this.consume_(),u}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var u=this.factory,h=function(sn){return c(ue,_(sn))},m=function(sn){var hn=sn.map(function(Dn){return u.createLinearRing(Dn.map(h))});return hn.length>1?u.createPolygon(hn[0],hn.slice(1)):u.createPolygon(hn[0])},S=this.token_;if(this.match(oi)){var A=S.value;if(this.layout_=this.parseGeometryLayout_(),A=="GEOMETRYCOLLECTION"){var F=this.parseGeometryCollectionText_();return u.createGeometryCollection(F)}switch(A){case"POINT":var j=this.parsePointText_();return j?u.createPoint(c(ue,_(j))):u.createPoint();case"LINESTRING":var re=this.parseLineStringText_().map(h);return u.createLineString(re);case"LINEARRING":var fe=this.parseLineStringText_().map(h);return u.createLinearRing(fe);case"POLYGON":var Pe=this.parsePolygonText_();return Pe&&Pe.length!==0?m(Pe):u.createPolygon();case"MULTIPOINT":var Oe=this.parseMultiPointText_();if(!Oe||Oe.length===0)return u.createMultiPoint();var lt=Oe.map(h).map(function(sn){return u.createPoint(sn)});return u.createMultiPoint(lt);case"MULTILINESTRING":var Rt=this.parseMultiLineStringText_().map(function(sn){return u.createLineString(sn.map(h))});return u.createMultiLineString(Rt);case"MULTIPOLYGON":var Tt=this.parseMultiPolygonText_();if(!Tt||Tt.length===0)return u.createMultiPolygon();var en=Tt.map(m);return u.createMultiPolygon(en);default:throw new Error("Invalid geometry type: "+A)}}throw new Error(this.formatErrorMessage_())}}]),C}();function Io(C){if(C.isEmpty())return"";var u=C.getCoordinate(),h=[u.x,u.y];return u.z===void 0||Number.isNaN(u.z)||h.push(u.z),u.m===void 0||Number.isNaN(u.m)||h.push(u.m),h.join(" ")}function Qr(C){for(var u=C.getCoordinates().map(function(A){var F=[A.x,A.y];return A.z===void 0||Number.isNaN(A.z)||F.push(A.z),A.m===void 0||Number.isNaN(A.m)||F.push(A.m),F}),h=[],m=0,S=u.length;m<S;++m)h.push(u[m].join(" "));return h.join(", ")}function Sc(C){var u=[];u.push("("+Qr(C.getExteriorRing())+")");for(var h=0,m=C.getNumInteriorRing();h<m;++h)u.push("("+Qr(C.getInteriorRingN(h))+")");return u.join(", ")}var ma={Point:Io,LineString:Qr,LinearRing:Qr,Polygon:Sc,MultiPoint:function(C){for(var u=[],h=0,m=C.getNumGeometries();h<m;++h)u.push("("+Io(C.getGeometryN(h))+")");return u.join(", ")},MultiLineString:function(C){for(var u=[],h=0,m=C.getNumGeometries();h<m;++h)u.push("("+Qr(C.getGeometryN(h))+")");return u.join(", ")},MultiPolygon:function(C){for(var u=[],h=0,m=C.getNumGeometries();h<m;++h)u.push("("+Sc(C.getGeometryN(h))+")");return u.join(", ")},GeometryCollection:function(C){for(var u=[],h=0,m=C.getNumGeometries();h<m;++h)u.push(ef(C.getGeometryN(h)));return u.join(", ")}};function ef(C){var u=C.getGeometryType(),h=ma[u];u=u.toUpperCase();var m=function(S){var A="";if(S.isEmpty())return A;var F=S.getCoordinate();return F.z===void 0||Number.isNaN(F.z)||(A+="Z"),F.m===void 0||Number.isNaN(F.m)||(A+="M"),A}(C);return m.length>0&&(u+=" "+m),C.isEmpty()?u+" "+za:u+" ("+h(C)+")"}var Qp=function(){function C(u){n(this,C),this.geometryFactory=u||new un,this.precisionModel=this.geometryFactory.getPrecisionModel()}return r(C,[{key:"read",value:function(u){var h=new Zp(u);return new Jp(h,this.geometryFactory).parse()}},{key:"write",value:function(u){return ef(u)}}]),C}(),Ec=function(){function C(u){n(this,C),this.parser=new Qp(u)}return r(C,[{key:"write",value:function(u){return this.parser.write(u)}}],[{key:"toLineString",value:function(u,h){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+u.x+" "+u.y+", "+h.x+" "+h.y+" )"}}]),C}(),Kn=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"getIndexAlongSegment",value:function(u,h){return this.computeIntLineIndex(),this._intLineIndex[u][h]}},{key:"getTopologySummary",value:function(){var u=new qt;return this.isEndPoint()&&u.append(" endpoint"),this._isProper&&u.append(" proper"),this.isCollinear()&&u.append(" collinear"),u.toString()}},{key:"computeIntersection",value:function(u,h,m,S){this._inputLines[0][0]=u,this._inputLines[0][1]=h,this._inputLines[1][0]=m,this._inputLines[1][1]=S,this._result=this.computeIntersect(u,h,m,S)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var u=arguments[0],h=this.getEdgeDistance(u,0),m=this.getEdgeDistance(u,1);h>m?(this._intLineIndex[u][0]=0,this._intLineIndex[u][1]=1):(this._intLineIndex[u][0]=1,this._intLineIndex[u][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(u){this._precisionModel=u}},{key:"isInteriorIntersection",value:function(){if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var u=arguments[0],h=0;h<this._result;h++)if(!this._intPt[h].equals2D(this._inputLines[u][0])&&!this._intPt[h].equals2D(this._inputLines[u][1]))return!0;return!1}}},{key:"getIntersection",value:function(u){return this._intPt[u]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==C.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(u,h){return C.computeEdgeDistance(this._intPt[h],this._inputLines[u][0],this._inputLines[u][1])}},{key:"isCollinear",value:function(){return this._result===C.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return Ec.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Ec.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(u,h){return this._inputLines[u][h]}},{key:"isIntersection",value:function(u){for(var h=0;h<this._result;h++)if(this._intPt[h].equals2D(u))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(u,h){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[u][h]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new ue,this._intPt[1]=new ue,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(u,h,m){var S=Math.abs(m.x-h.x),A=Math.abs(m.y-h.y),F=-1;if(u.equals(h))F=0;else if(u.equals(m))F=S>A?S:A;else{var j=Math.abs(u.x-h.x),re=Math.abs(u.y-h.y);(F=S>A?j:re)!==0||u.equals(h)||(F=Math.max(j,re))}return le.isTrue(!(F===0&&!u.equals(h)),"Bad distance calculation"),F}},{key:"nonRobustComputeEdgeDistance",value:function(u,h,m){var S=u.x-h.x,A=u.y-h.y,F=Math.sqrt(S*S+A*A);return le.isTrue(!(F===0&&!u.equals(h)),"Invalid distance calculation"),F}}]),C}();Kn.DONT_INTERSECT=0,Kn.DO_INTERSECT=1,Kn.COLLINEAR=2,Kn.NO_INTERSECTION=0,Kn.POINT_INTERSECTION=1,Kn.COLLINEAR_INTERSECTION=2;var va=function(C){s(h,C);var u=g(h);function h(){return n(this,h),u.call(this)}return r(h,[{key:"isInSegmentEnvelopes",value:function(m){var S=new De(this._inputLines[0][0],this._inputLines[0][1]),A=new De(this._inputLines[1][0],this._inputLines[1][1]);return S.contains(m)&&A.contains(m)}},{key:"computeIntersection",value:function(){if(arguments.length!==3)return y(a(h.prototype),"computeIntersection",this).apply(this,arguments);var m=arguments[0],S=arguments[1],A=arguments[2];if(this._isProper=!1,De.intersects(S,A,m)&&xt.index(S,A,m)===0&&xt.index(A,S,m)===0)return this._isProper=!0,(m.equals(S)||m.equals(A))&&(this._isProper=!1),this._result=Kn.POINT_INTERSECTION,null;this._result=Kn.NO_INTERSECTION}},{key:"intersection",value:function(m,S,A,F){var j=this.intersectionSafe(m,S,A,F);return this.isInSegmentEnvelopes(j)||(j=new ue(h.nearestEndpoint(m,S,A,F))),this._precisionModel!==null&&this._precisionModel.makePrecise(j),j}},{key:"checkDD",value:function(m,S,A,F,j){var re=Lt.intersection(m,S,A,F),fe=this.isInSegmentEnvelopes(re);Ce.out.println("DD in env = "+fe+"  --------------------- "+re),j.distance(re)>1e-4&&Ce.out.println("Distance = "+j.distance(re))}},{key:"intersectionSafe",value:function(m,S,A,F){var j=Bt.intersection(m,S,A,F);return j===null&&(j=h.nearestEndpoint(m,S,A,F)),j}},{key:"computeCollinearIntersection",value:function(m,S,A,F){var j=De.intersects(m,S,A),re=De.intersects(m,S,F),fe=De.intersects(A,F,m),Pe=De.intersects(A,F,S);return j&&re?(this._intPt[0]=A,this._intPt[1]=F,Kn.COLLINEAR_INTERSECTION):fe&&Pe?(this._intPt[0]=m,this._intPt[1]=S,Kn.COLLINEAR_INTERSECTION):j&&fe?(this._intPt[0]=A,this._intPt[1]=m,!A.equals(m)||re||Pe?Kn.COLLINEAR_INTERSECTION:Kn.POINT_INTERSECTION):j&&Pe?(this._intPt[0]=A,this._intPt[1]=S,!A.equals(S)||re||fe?Kn.COLLINEAR_INTERSECTION:Kn.POINT_INTERSECTION):re&&fe?(this._intPt[0]=F,this._intPt[1]=m,!F.equals(m)||j||Pe?Kn.COLLINEAR_INTERSECTION:Kn.POINT_INTERSECTION):re&&Pe?(this._intPt[0]=F,this._intPt[1]=S,!F.equals(S)||j||fe?Kn.COLLINEAR_INTERSECTION:Kn.POINT_INTERSECTION):Kn.NO_INTERSECTION}},{key:"computeIntersect",value:function(m,S,A,F){if(this._isProper=!1,!De.intersects(m,S,A,F))return Kn.NO_INTERSECTION;var j=xt.index(m,S,A),re=xt.index(m,S,F);if(j>0&&re>0||j<0&&re<0)return Kn.NO_INTERSECTION;var fe=xt.index(A,F,m),Pe=xt.index(A,F,S);return fe>0&&Pe>0||fe<0&&Pe<0?Kn.NO_INTERSECTION:j===0&&re===0&&fe===0&&Pe===0?this.computeCollinearIntersection(m,S,A,F):(j===0||re===0||fe===0||Pe===0?(this._isProper=!1,m.equals2D(A)||m.equals2D(F)?this._intPt[0]=m:S.equals2D(A)||S.equals2D(F)?this._intPt[0]=S:j===0?this._intPt[0]=new ue(A):re===0?this._intPt[0]=new ue(F):fe===0?this._intPt[0]=new ue(m):Pe===0&&(this._intPt[0]=new ue(S))):(this._isProper=!0,this._intPt[0]=this.intersection(m,S,A,F)),Kn.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(m,S,A,F){var j=m,re=ve.pointToSegment(m,A,F),fe=ve.pointToSegment(S,A,F);return fe<re&&(re=fe,j=S),(fe=ve.pointToSegment(A,m,S))<re&&(re=fe,j=A),(fe=ve.pointToSegment(F,m,S))<re&&(re=fe,j=F),j}}]),h}(Kn),em=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"countSegment",value:function(u,h){if(u.x<this._p.x&&h.x<this._p.x)return null;if(this._p.x===h.x&&this._p.y===h.y)return this._isPointOnSegment=!0,null;if(u.y===this._p.y&&h.y===this._p.y){var m=u.x,S=h.x;return m>S&&(m=h.x,S=u.x),this._p.x>=m&&this._p.x<=S&&(this._isPointOnSegment=!0),null}if(u.y>this._p.y&&h.y<=this._p.y||h.y>this._p.y&&u.y<=this._p.y){var A=xt.index(u,h,this._p);if(A===xt.COLLINEAR)return this._isPointOnSegment=!0,null;h.y<u.y&&(A=-A),A===xt.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==G.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?G.BOUNDARY:this._crossingCount%2==1?G.INTERIOR:G.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var u=arguments[0];this._p=u}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof ue&&Ae(arguments[1],Ye)){for(var u=arguments[0],h=arguments[1],m=new C(u),S=new ue,A=new ue,F=1;F<h.size();F++)if(h.getCoordinate(F,S),h.getCoordinate(F-1,A),m.countSegment(S,A),m.isOnSegment())return m.getLocation();return m.getLocation()}if(arguments[0]instanceof ue&&arguments[1]instanceof Array){for(var j=arguments[0],re=arguments[1],fe=new C(j),Pe=1;Pe<re.length;Pe++){var Oe=re[Pe],lt=re[Pe-1];if(fe.countSegment(Oe,lt),fe.isOnSegment())return fe.getLocation()}return fe.getLocation()}}}]),C}(),Dl=function(){function C(){n(this,C)}return r(C,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof ue&&Ae(arguments[1],Ye)){for(var u=arguments[0],h=arguments[1],m=new va,S=new ue,A=new ue,F=h.size(),j=1;j<F;j++)if(h.getCoordinate(j-1,S),h.getCoordinate(j,A),m.computeIntersection(u,S,A),m.hasIntersection())return!0;return!1}if(arguments[0]instanceof ue&&arguments[1]instanceof Array){for(var re=arguments[0],fe=arguments[1],Pe=new va,Oe=1;Oe<fe.length;Oe++){var lt=fe[Oe-1],Rt=fe[Oe];if(Pe.computeIntersection(re,lt,Rt),Pe.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(u,h){return em.locatePointInRing(u,h)}},{key:"isInRing",value:function(u,h){return C.locateInRing(u,h)!==G.EXTERIOR}}]),C}(),xi=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"setAllLocations",value:function(u){for(var h=0;h<this.location.length;h++)this.location[h]=u}},{key:"isNull",value:function(){for(var u=0;u<this.location.length;u++)if(this.location[u]!==G.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(u){for(var h=0;h<this.location.length;h++)this.location[h]===G.NONE&&(this.location[h]=u)}},{key:"isLine",value:function(){return this.location.length===1}},{key:"merge",value:function(u){if(u.location.length>this.location.length){var h=new Array(3).fill(null);h[ne.ON]=this.location[ne.ON],h[ne.LEFT]=G.NONE,h[ne.RIGHT]=G.NONE,this.location=h}for(var m=0;m<this.location.length;m++)this.location[m]===G.NONE&&m<u.location.length&&(this.location[m]=u.location[m])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var u=this.location[ne.LEFT];this.location[ne.LEFT]=this.location[ne.RIGHT],this.location[ne.RIGHT]=u}},{key:"toString",value:function(){var u=new Re;return this.location.length>1&&u.append(G.toLocationSymbol(this.location[ne.LEFT])),u.append(G.toLocationSymbol(this.location[ne.ON])),this.location.length>1&&u.append(G.toLocationSymbol(this.location[ne.RIGHT])),u.toString()}},{key:"setLocations",value:function(u,h,m){this.location[ne.ON]=u,this.location[ne.LEFT]=h,this.location[ne.RIGHT]=m}},{key:"get",value:function(u){return u<this.location.length?this.location[u]:G.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var u=0;u<this.location.length;u++)if(this.location[u]===G.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(arguments.length===1){var u=arguments[0];this.setLocation(ne.ON,u)}else if(arguments.length===2){var h=arguments[0],m=arguments[1];this.location[h]=m}}},{key:"init",value:function(u){this.location=new Array(u).fill(null),this.setAllLocations(G.NONE)}},{key:"isEqualOnSide",value:function(u,h){return this.location[h]===u.location[h]}},{key:"allPositionsEqual",value:function(u){for(var h=0;h<this.location.length;h++)if(this.location[h]!==u)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var u=arguments[0];this.init(u.length)}else if(Number.isInteger(arguments[0])){var h=arguments[0];this.init(1),this.location[ne.ON]=h}else if(arguments[0]instanceof C){var m=arguments[0];if(this.init(m.location.length),m!==null)for(var S=0;S<this.location.length;S++)this.location[S]=m.location[S]}}else if(arguments.length===3){var A=arguments[0],F=arguments[1],j=arguments[2];this.init(3),this.location[ne.ON]=A,this.location[ne.LEFT]=F,this.location[ne.RIGHT]=j}}}]),C}(),Sr=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"getGeometryCount",value:function(){var u=0;return this.elt[0].isNull()||u++,this.elt[1].isNull()||u++,u}},{key:"setAllLocations",value:function(u,h){this.elt[u].setAllLocations(h)}},{key:"isNull",value:function(u){return this.elt[u].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(arguments.length===1){var u=arguments[0];this.setAllLocationsIfNull(0,u),this.setAllLocationsIfNull(1,u)}else if(arguments.length===2){var h=arguments[0],m=arguments[1];this.elt[h].setAllLocationsIfNull(m)}}},{key:"isLine",value:function(u){return this.elt[u].isLine()}},{key:"merge",value:function(u){for(var h=0;h<2;h++)this.elt[h]===null&&u.elt[h]!==null?this.elt[h]=new xi(u.elt[h]):this.elt[h].merge(u.elt[h])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(arguments.length===1){var u=arguments[0];return this.elt[u].get(ne.ON)}if(arguments.length===2){var h=arguments[0],m=arguments[1];return this.elt[h].get(m)}}},{key:"toString",value:function(){var u=new Re;return this.elt[0]!==null&&(u.append("A:"),u.append(this.elt[0].toString())),this.elt[1]!==null&&(u.append(" B:"),u.append(this.elt[1].toString())),u.toString()}},{key:"isArea",value:function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var u=arguments[0];return this.elt[u].isArea()}}},{key:"isAnyNull",value:function(u){return this.elt[u].isAnyNull()}},{key:"setLocation",value:function(){if(arguments.length===2){var u=arguments[0],h=arguments[1];this.elt[u].setLocation(ne.ON,h)}else if(arguments.length===3){var m=arguments[0],S=arguments[1],A=arguments[2];this.elt[m].setLocation(S,A)}}},{key:"isEqualOnSide",value:function(u,h){return this.elt[0].isEqualOnSide(u.elt[0],h)&&this.elt[1].isEqualOnSide(u.elt[1],h)}},{key:"allPositionsEqual",value:function(u,h){return this.elt[u].allPositionsEqual(h)}},{key:"toLine",value:function(u){this.elt[u].isArea()&&(this.elt[u]=new xi(this.elt[u].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var u=arguments[0];this.elt[0]=new xi(u),this.elt[1]=new xi(u)}else if(arguments[0]instanceof C){var h=arguments[0];this.elt[0]=new xi(h.elt[0]),this.elt[1]=new xi(h.elt[1])}}else if(arguments.length===2){var m=arguments[0],S=arguments[1];this.elt[0]=new xi(G.NONE),this.elt[1]=new xi(G.NONE),this.elt[m].setLocation(S)}else if(arguments.length===3){var A=arguments[0],F=arguments[1],j=arguments[2];this.elt[0]=new xi(A,F,j),this.elt[1]=new xi(A,F,j)}else if(arguments.length===4){var re=arguments[0],fe=arguments[1],Pe=arguments[2],Oe=arguments[3];this.elt[0]=new xi(G.NONE,G.NONE,G.NONE),this.elt[1]=new xi(G.NONE,G.NONE,G.NONE),this.elt[re].setLocations(fe,Pe,Oe)}}},{key:"toLineLabel",value:function(u){for(var h=new C(G.NONE),m=0;m<2;m++)h.setLocation(m,u.getLocation(m));return h}}]),C}(),Lo=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"computeRing",value:function(){if(this._ring!==null)return null;for(var u=new Array(this._pts.size()).fill(null),h=0;h<this._pts.size();h++)u[h]=this._pts.get(h);this._ring=this._geometryFactory.createLinearRing(u),this._isHole=xt.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"computePoints",value:function(u){this._startDe=u;var h=u,m=!0;do{if(h===null)throw new ze("Found null DirectedEdge");if(h.getEdgeRing()===this)throw new ze("Directed Edge visited twice during ring-building at "+h.getCoordinate());this._edges.add(h);var S=h.getLabel();le.isTrue(S.isArea()),this.mergeLabel(S),this.addPoints(h.getEdge(),h.isForward(),m),m=!1,this.setEdgeRing(h,this),h=this.getNext(h)}while(h!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(u){return this._pts.get(u)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var u=this._startDe;do{var h=u.getNode().getEdges().getOutgoingDegree(this);h>this._maxNodeDegree&&(this._maxNodeDegree=h),u=this.getNext(u)}while(u!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(u,h,m){var S=u.getCoordinates();if(h){var A=1;m&&(A=0);for(var F=A;F<S.length;F++)this._pts.add(S[F])}else{var j=S.length-2;m&&(j=S.length-1);for(var re=j;re>=0;re--)this._pts.add(S[re])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var u=this._startDe;do u.getEdge().setInResult(!0),u=u.getNext();while(u!==this._startDe)}},{key:"containsPoint",value:function(u){var h=this.getLinearRing();if(!h.getEnvelopeInternal().contains(u)||!Dl.isInRing(u,h.getCoordinates()))return!1;for(var m=this._holes.iterator();m.hasNext();)if(m.next().containsPoint(u))return!1;return!0}},{key:"addHole",value:function(u){this._holes.add(u)}},{key:"isShell",value:function(){return this._shell===null}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(arguments.length===1){var u=arguments[0];this.mergeLabel(u,0),this.mergeLabel(u,1)}else if(arguments.length===2){var h=arguments[0],m=arguments[1],S=h.getLocation(m,ne.RIGHT);if(S===G.NONE)return null;if(this._label.getLocation(m)===G.NONE)return this._label.setLocation(m,S),null}}},{key:"setShell",value:function(u){this._shell=u,u!==null&&u.addHole(this)}},{key:"toPolygon",value:function(u){for(var h=new Array(this._holes.size()).fill(null),m=0;m<this._holes.size();m++)h[m]=this._holes.get(m).getLinearRing();return u.createPolygon(this.getLinearRing(),h)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new be,this._pts=new be,this._label=new Sr(G.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new be,this._geometryFactory=null,arguments.length!==0){if(arguments.length===2){var u=arguments[0],h=arguments[1];this._geometryFactory=h,this.computePoints(u),this.computeRing()}}}}]),C}(),tm=function(C){s(h,C);var u=g(h);function h(){var m;return n(this,h),m=u.call(this),h.constructor_.apply(p(m),arguments),m}return r(h,[{key:"setEdgeRing",value:function(m,S){m.setMinEdgeRing(S)}},{key:"getNext",value:function(m){return m.getNextMin()}}],[{key:"constructor_",value:function(){var m=arguments[0],S=arguments[1];Lo.constructor_.call(this,m,S)}}]),h}(Lo),Cc=function(C){s(h,C);var u=g(h);function h(){var m;return n(this,h),m=u.call(this),h.constructor_.apply(p(m),arguments),m}return r(h,[{key:"buildMinimalRings",value:function(){var m=new be,S=this._startDe;do{if(S.getMinEdgeRing()===null){var A=new tm(S,this._geometryFactory);m.add(A)}S=S.getNext()}while(S!==this._startDe);return m}},{key:"setEdgeRing",value:function(m,S){m.setEdgeRing(S)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var m=this._startDe;do m.getNode().getEdges().linkMinimalDirectedEdges(this),m=m.getNext();while(m!==this._startDe)}},{key:"getNext",value:function(m){return m.getNext()}}],[{key:"constructor_",value:function(){var m=arguments[0],S=arguments[1];Lo.constructor_.call(this,m,S)}}]),h}(Lo),xc=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"setVisited",value:function(u){this._isVisited=u}},{key:"setInResult",value:function(u){this._isInResult=u}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(u){this._label=u}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(u){this._isCovered=u,this._isCoveredSet=!0}},{key:"updateIM",value:function(u){le.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(u)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var u=arguments[0];this._label=u}}}}]),C}(),Fl=function(C){s(h,C);var u=g(h);function h(){var m;return n(this,h),m=u.call(this),h.constructor_.apply(p(m),arguments),m}return r(h,[{key:"isIncidentEdgeInResult",value:function(){for(var m=this.getEdges().getEdges().iterator();m.hasNext();)if(m.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(m){m.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(m){}},{key:"computeMergedLocation",value:function(m,S){var A=G.NONE;if(A=this._label.getLocation(S),!m.isNull(S)){var F=m.getLocation(S);A!==G.BOUNDARY&&(A=F)}return A}},{key:"setLabel",value:function(){if(arguments.length!==2||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return y(a(h.prototype),"setLabel",this).apply(this,arguments);var m=arguments[0],S=arguments[1];this._label===null?this._label=new Sr(m,S):this._label.setLocation(m,S)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof h){var m=arguments[0];this.mergeLabel(m._label)}else if(arguments[0]instanceof Sr)for(var S=arguments[0],A=0;A<2;A++){var F=this.computeMergedLocation(S,A),j=this._label.getLocation(A);j===G.NONE&&this._label.setLocation(A,F)}}},{key:"add",value:function(m){this._edges.insert(m),m.setNode(this)}},{key:"setLabelBoundary",value:function(m){if(this._label===null)return null;var S=G.NONE;this._label!==null&&(S=this._label.getLocation(m));var A=null;switch(S){case G.BOUNDARY:A=G.INTERIOR;break;case G.INTERIOR:default:A=G.BOUNDARY}this._label.setLocation(m,A)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var m=arguments[0],S=arguments[1];this._coord=m,this._edges=S,this._label=new Sr(0,G.NONE)}}]),h}(xc),nm=function(C){s(h,C);var u=g(h);function h(){return n(this,h),u.apply(this,arguments)}return h}($n);function Mc(C){return C==null?0:C.color}function kn(C){return C==null?null:C.parent}function ur(C,u){C!==null&&(C.color=u)}function Tc(C){return C==null?null:C.left}function Bl(C){return C==null?null:C.right}var No=function(C){s(h,C);var u=g(h);function h(){var m;return n(this,h),(m=u.call(this)).root_=null,m.size_=0,m}return r(h,[{key:"get",value:function(m){for(var S=this.root_;S!==null;){var A=m.compareTo(S.key);if(A<0)S=S.left;else{if(!(A>0))return S.value;S=S.right}}return null}},{key:"put",value:function(m,S){if(this.root_===null)return this.root_={key:m,value:S,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var A,F,j=this.root_;do if(A=j,(F=m.compareTo(j.key))<0)j=j.left;else{if(!(F>0)){var re=j.value;return j.value=S,re}j=j.right}while(j!==null);var fe={key:m,left:null,right:null,value:S,parent:A,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return F<0?A.left=fe:A.right=fe,this.fixAfterInsertion(fe),this.size_++,null}},{key:"fixAfterInsertion",value:function(m){var S;for(m.color=1;m!=null&&m!==this.root_&&m.parent.color===1;)kn(m)===Tc(kn(kn(m)))?Mc(S=Bl(kn(kn(m))))===1?(ur(kn(m),0),ur(S,0),ur(kn(kn(m)),1),m=kn(kn(m))):(m===Bl(kn(m))&&(m=kn(m),this.rotateLeft(m)),ur(kn(m),0),ur(kn(kn(m)),1),this.rotateRight(kn(kn(m)))):Mc(S=Tc(kn(kn(m))))===1?(ur(kn(m),0),ur(S,0),ur(kn(kn(m)),1),m=kn(kn(m))):(m===Tc(kn(m))&&(m=kn(m),this.rotateRight(m)),ur(kn(m),0),ur(kn(kn(m)),1),this.rotateLeft(kn(kn(m))));this.root_.color=0}},{key:"values",value:function(){var m=new be,S=this.getFirstEntry();if(S!==null)for(m.add(S.value);(S=h.successor(S))!==null;)m.add(S.value);return m}},{key:"entrySet",value:function(){var m=new it,S=this.getFirstEntry();if(S!==null)for(m.add(S);(S=h.successor(S))!==null;)m.add(S);return m}},{key:"rotateLeft",value:function(m){if(m!=null){var S=m.right;m.right=S.left,S.left!=null&&(S.left.parent=m),S.parent=m.parent,m.parent==null?this.root_=S:m.parent.left===m?m.parent.left=S:m.parent.right=S,S.left=m,m.parent=S}}},{key:"rotateRight",value:function(m){if(m!=null){var S=m.left;m.left=S.right,S.right!=null&&(S.right.parent=m),S.parent=m.parent,m.parent==null?this.root_=S:m.parent.right===m?m.parent.right=S:m.parent.left=S,S.right=m,m.parent=S}}},{key:"getFirstEntry",value:function(){var m=this.root_;if(m!=null)for(;m.left!=null;)m=m.left;return m}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(m){for(var S=this.root_;S!==null;){var A=m.compareTo(S.key);if(A<0)S=S.left;else{if(!(A>0))return!0;S=S.right}}return!1}}],[{key:"successor",value:function(m){var S;if(m===null)return null;if(m.right!==null){for(S=m.right;S.left!==null;)S=S.left;return S}S=m.parent;for(var A=m;S!==null&&A===S.right;)A=S,S=S.parent;return S}}]),h}(nm),tf=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"find",value:function(u){return this.nodeMap.get(u)}},{key:"addNode",value:function(){if(arguments[0]instanceof ue){var u=arguments[0],h=this.nodeMap.get(u);return h===null&&(h=this.nodeFact.createNode(u),this.nodeMap.put(u,h)),h}if(arguments[0]instanceof Fl){var m=arguments[0],S=this.nodeMap.get(m.getCoordinate());return S===null?(this.nodeMap.put(m.getCoordinate(),m),m):(S.mergeLabel(m),S)}}},{key:"print",value:function(u){for(var h=this.iterator();h.hasNext();)h.next().print(u)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(u){for(var h=new be,m=this.iterator();m.hasNext();){var S=m.next();S.getLabel().getLocation(u)===G.BOUNDARY&&h.add(S)}return h}},{key:"add",value:function(u){var h=u.getCoordinate();this.addNode(h).add(u)}}],[{key:"constructor_",value:function(){this.nodeMap=new No,this.nodeFact=null;var u=arguments[0];this.nodeFact=u}}]),C}(),ge=function(){function C(){n(this,C)}return r(C,null,[{key:"isNorthern",value:function(u){return u===C.NE||u===C.NW}},{key:"isOpposite",value:function(u,h){return u!==h&&(u-h+4)%4===2}},{key:"commonHalfPlane",value:function(u,h){if(u===h)return u;if((u-h+4)%4===2)return-1;var m=u<h?u:h;return m===0&&(u>h?u:h)===3?3:m}},{key:"isInHalfPlane",value:function(u,h){return h===C.SE?u===C.SE||u===C.SW:u===h||u===h+1}},{key:"quadrant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var u=arguments[0],h=arguments[1];if(u===0&&h===0)throw new T("Cannot compute the quadrant for point ( "+u+", "+h+" )");return u>=0?h>=0?C.NE:C.SE:h>=0?C.NW:C.SW}if(arguments[0]instanceof ue&&arguments[1]instanceof ue){var m=arguments[0],S=arguments[1];if(S.x===m.x&&S.y===m.y)throw new T("Cannot compute the quadrant for two identical points "+m);return S.x>=m.x?S.y>=m.y?C.NE:C.SE:S.y>=m.y?C.NW:C.SW}}}]),C}();ge.NE=0,ge.NW=1,ge.SW=2,ge.SE=3;var Ze=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"compareDirection",value:function(u){return this._dx===u._dx&&this._dy===u._dy?0:this._quadrant>u._quadrant?1:this._quadrant<u._quadrant?-1:xt.index(u._p0,u._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(u){this._node=u}},{key:"print",value:function(u){var h=Math.atan2(this._dy,this._dx),m=this.getClass().getName(),S=m.lastIndexOf("."),A=m.substring(S+1);u.print("  "+A+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+h+"   "+this._label)}},{key:"compareTo",value:function(u){var h=u;return this.compareDirection(h)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var u=Math.atan2(this._dy,this._dx),h=this.getClass().getName(),m=h.lastIndexOf(".");return"  "+h.substring(m+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+u+"   "+this._label}},{key:"computeLabel",value:function(u){}},{key:"init",value:function(u,h){this._p0=u,this._p1=h,this._dx=h.x-u.x,this._dy=h.y-u.y,this._quadrant=ge.quadrant(this._dx,this._dy),le.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[I]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var u=arguments[0];this._edge=u}else if(arguments.length===3){var h=arguments[0],m=arguments[1],S=arguments[2];C.constructor_.call(this,h,m,S,null)}else if(arguments.length===4){var A=arguments[0],F=arguments[1],j=arguments[2],re=arguments[3];C.constructor_.call(this,A),this.init(F,j),this._label=re}}}]),C}(),vt=function(C){s(h,C);var u=g(h);function h(){var m;return n(this,h),m=u.call(this),h.constructor_.apply(p(m),arguments),m}return r(h,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(m){return this._depth[m]}},{key:"setVisited",value:function(m){this._isVisited=m}},{key:"computeDirectedLabel",value:function(){this._label=new Sr(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(m,S){if(this._depth[m]!==-999&&this._depth[m]!==S)throw new ze("assigned depths do not match",this.getCoordinate());this._depth[m]=S}},{key:"isInteriorAreaEdge",value:function(){for(var m=!0,S=0;S<2;S++)this._label.isArea(S)&&this._label.getLocation(S,ne.LEFT)===G.INTERIOR&&this._label.getLocation(S,ne.RIGHT)===G.INTERIOR||(m=!1);return m}},{key:"setNextMin",value:function(m){this._nextMin=m}},{key:"print",value:function(m){y(a(h.prototype),"print",this).call(this,m),m.print(" "+this._depth[ne.LEFT]+"/"+this._depth[ne.RIGHT]),m.print(" ("+this.getDepthDelta()+")"),this._isInResult&&m.print(" inResult")}},{key:"setMinEdgeRing",value:function(m){this._minEdgeRing=m}},{key:"isLineEdge",value:function(){var m=this._label.isLine(0)||this._label.isLine(1),S=!this._label.isArea(0)||this._label.allPositionsEqual(0,G.EXTERIOR),A=!this._label.isArea(1)||this._label.allPositionsEqual(1,G.EXTERIOR);return m&&S&&A}},{key:"setEdgeRing",value:function(m){this._edgeRing=m}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var m=this._edge.getDepthDelta();return this._isForward||(m=-m),m}},{key:"setInResult",value:function(m){this._isInResult=m}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(m){this.print(m),m.print(" "),this._isForward?this._edge.print(m):this._edge.printReverse(m)}},{key:"setSym",value:function(m){this._sym=m}},{key:"setVisitedEdge",value:function(m){this.setVisited(m),this._sym.setVisited(m)}},{key:"setEdgeDepths",value:function(m,S){var A=this.getEdge().getDepthDelta();this._isForward||(A=-A);var F=1;m===ne.LEFT&&(F=-1);var j=ne.opposite(m),re=S+A*F;this.setDepth(m,S),this.setDepth(j,re)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(m){this._next=m}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var m=arguments[0],S=arguments[1];if(Ze.constructor_.call(this,m),this._isForward=S,S)this.init(m.getCoordinate(0),m.getCoordinate(1));else{var A=m.getNumPoints()-1;this.init(m.getCoordinate(A),m.getCoordinate(A-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(m,S){return m===G.EXTERIOR&&S===G.INTERIOR?1:m===G.INTERIOR&&S===G.EXTERIOR?-1:0}}]),h}(Ze),Zt=function(){function C(){n(this,C)}return r(C,[{key:"createNode",value:function(u){return new Fl(u,null)}}]),C}(),Mi=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"printEdges",value:function(u){u.println("Edges:");for(var h=0;h<this._edges.size();h++){u.println("edge "+h+":");var m=this._edges.get(h);m.print(u),m.eiList.print(u)}}},{key:"find",value:function(u){return this._nodes.find(u)}},{key:"addNode",value:function(){if(arguments[0]instanceof Fl){var u=arguments[0];return this._nodes.addNode(u)}if(arguments[0]instanceof ue){var h=arguments[0];return this._nodes.addNode(h)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var u=this._nodes.iterator();u.hasNext();)u.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(u){Ce.out.println(u)}},{key:"isBoundaryNode",value:function(u,h){var m=this._nodes.find(h);if(m===null)return!1;var S=m.getLabel();return S!==null&&S.getLocation(u)===G.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var u=this._nodes.iterator();u.hasNext();)u.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(u,h,m,S){return!!u.equals(m)&&xt.index(u,h,S)===xt.COLLINEAR&&ge.quadrant(u,h)===ge.quadrant(m,S)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(u){Ce.out.print(u)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(u,h){for(var m=0;m<this._edges.size();m++){var S=this._edges.get(m),A=S.getCoordinates();if(this.matchInSameDirection(u,h,A[0],A[1])||this.matchInSameDirection(u,h,A[A.length-1],A[A.length-2]))return S}return null}},{key:"insertEdge",value:function(u){this._edges.add(u)}},{key:"findEdgeEnd",value:function(u){for(var h=this.getEdgeEnds().iterator();h.hasNext();){var m=h.next();if(m.getEdge()===u)return m}return null}},{key:"addEdges",value:function(u){for(var h=u.iterator();h.hasNext();){var m=h.next();this._edges.add(m);var S=new vt(m,!0),A=new vt(m,!1);S.setSym(A),A.setSym(S),this.add(S),this.add(A)}}},{key:"add",value:function(u){this._nodes.add(u),this._edgeEndList.add(u)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(u,h){for(var m=0;m<this._edges.size();m++){var S=this._edges.get(m),A=S.getCoordinates();if(u.equals(A[0])&&h.equals(A[1]))return S}return null}}],[{key:"constructor_",value:function(){if(this._edges=new be,this._nodes=null,this._edgeEndList=new be,arguments.length===0)this._nodes=new tf(new Zt);else if(arguments.length===1){var u=arguments[0];this._nodes=new tf(u)}}},{key:"linkResultDirectedEdges",value:function(u){for(var h=u.iterator();h.hasNext();)h.next().getEdges().linkResultDirectedEdges()}}]),C}(),Yi=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"sortShellsAndHoles",value:function(u,h,m){for(var S=u.iterator();S.hasNext();){var A=S.next();A.isHole()?m.add(A):h.add(A)}}},{key:"computePolygons",value:function(u){for(var h=new be,m=u.iterator();m.hasNext();){var S=m.next().toPolygon(this._geometryFactory);h.add(S)}return h}},{key:"placeFreeHoles",value:function(u,h){for(var m=h.iterator();m.hasNext();){var S=m.next();if(S.getShell()===null){var A=C.findEdgeRingContaining(S,u);if(A===null)throw new ze("unable to assign hole to a shell",S.getCoordinate(0));S.setShell(A)}}}},{key:"buildMinimalEdgeRings",value:function(u,h,m){for(var S=new be,A=u.iterator();A.hasNext();){var F=A.next();if(F.getMaxNodeDegree()>2){F.linkDirectedEdgesForMinimalEdgeRings();var j=F.buildMinimalRings(),re=this.findShell(j);re!==null?(this.placePolygonHoles(re,j),h.add(re)):m.addAll(j)}else S.add(F)}return S}},{key:"buildMaximalEdgeRings",value:function(u){for(var h=new be,m=u.iterator();m.hasNext();){var S=m.next();if(S.isInResult()&&S.getLabel().isArea()&&S.getEdgeRing()===null){var A=new Cc(S,this._geometryFactory);h.add(A),A.setInResult()}}return h}},{key:"placePolygonHoles",value:function(u,h){for(var m=h.iterator();m.hasNext();){var S=m.next();S.isHole()&&S.setShell(u)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(u){for(var h=0,m=null,S=u.iterator();S.hasNext();){var A=S.next();A.isHole()||(m=A,h++)}return le.isTrue(h<=1,"found two shells in MinimalEdgeRing list"),m}},{key:"add",value:function(){if(arguments.length===1){var u=arguments[0];this.add(u.getEdgeEnds(),u.getNodes())}else if(arguments.length===2){var h=arguments[0],m=arguments[1];Mi.linkResultDirectedEdges(m);var S=this.buildMaximalEdgeRings(h),A=new be,F=this.buildMinimalEdgeRings(S,this._shellList,A);this.sortShellsAndHoles(F,this._shellList,A),this.placeFreeHoles(this._shellList,A)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new be;var u=arguments[0];this._geometryFactory=u}},{key:"findEdgeRingContaining",value:function(u,h){for(var m=u.getLinearRing(),S=m.getEnvelopeInternal(),A=m.getCoordinateN(0),F=null,j=null,re=h.iterator();re.hasNext();){var fe=re.next(),Pe=fe.getLinearRing(),Oe=Pe.getEnvelopeInternal();if(!Oe.equals(S)&&Oe.contains(S)){A=$e.ptNotInList(m.getCoordinates(),Pe.getCoordinates());var lt=!1;Dl.isInRing(A,Pe.getCoordinates())&&(lt=!0),lt&&(F===null||j.contains(Oe))&&(j=(F=fe).getLinearRing().getEnvelopeInternal())}}return F}}]),C}(),es=function(){function C(){n(this,C)}return r(C,[{key:"getBounds",value:function(){}}]),C}(),si=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[es,U]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var u=arguments[0],h=arguments[1];this._bounds=u,this._item=h}}]),C}(),Oo=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"poll",value:function(){if(this.isEmpty())return null;var u=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),u}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(u){for(var h=null,m=this._items.get(u);2*u<=this._size&&((h=2*u)!==this._size&&this._items.get(h+1).compareTo(this._items.get(h))<0&&h++,this._items.get(h).compareTo(m)<0);u=h)this._items.set(u,this._items.get(h));this._items.set(u,m)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return this._size===0}},{key:"add",value:function(u){this._items.add(null),this._size+=1;var h=this._size;for(this._items.set(0,u);u.compareTo(this._items.get(Math.trunc(h/2)))<0;h/=2)this._items.set(h,this._items.get(Math.trunc(h/2)));this._items.set(h,u)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new be,this._items.add(null)}}]),C}(),$a=function(){function C(){n(this,C)}return r(C,[{key:"insert",value:function(u,h){}},{key:"remove",value:function(u,h){}},{key:"query",value:function(){}}]),C}(),cr=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(u){le.isTrue(this._bounds===null),this._childBoundables.add(u)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[es,U]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new be,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var u=arguments[0];this._level=u}}}}]),C}(),ga={reverseOrder:function(){return{compare:function(C,u){return u.compareTo(C)}}},min:function(C){return ga.sort(C),C.get(0)},sort:function(C,u){var h=C.toArray();u?lr.sort(h,u):lr.sort(h);for(var m=C.iterator(),S=0,A=h.length;S<A;S++)m.next(),m.set(h[S])},singletonList:function(C){var u=new be;return u.add(C),u}},nf=function(){function C(){n(this,C)}return r(C,null,[{key:"maxDistance",value:function(u,h,m,S,A,F,j,re){var fe=C.distance(u,h,A,F);return fe=Math.max(fe,C.distance(u,h,j,re)),fe=Math.max(fe,C.distance(m,S,A,F)),fe=Math.max(fe,C.distance(m,S,j,re))}},{key:"distance",value:function(u,h,m,S){var A=m-u,F=S-h;return Math.sqrt(A*A+F*F)}},{key:"maximumDistance",value:function(u,h){var m=Math.min(u.getMinX(),h.getMinX()),S=Math.min(u.getMinY(),h.getMinY()),A=Math.max(u.getMaxX(),h.getMaxX()),F=Math.max(u.getMaxY(),h.getMaxY());return C.distance(m,S,A,F)}},{key:"minMaxDistance",value:function(u,h){var m=u.getMinX(),S=u.getMinY(),A=u.getMaxX(),F=u.getMaxY(),j=h.getMinX(),re=h.getMinY(),fe=h.getMaxX(),Pe=h.getMaxY(),Oe=C.maxDistance(m,S,m,F,j,re,j,Pe);return Oe=Math.min(Oe,C.maxDistance(m,S,m,F,j,re,fe,re)),Oe=Math.min(Oe,C.maxDistance(m,S,m,F,fe,Pe,j,Pe)),Oe=Math.min(Oe,C.maxDistance(m,S,m,F,fe,Pe,fe,re)),Oe=Math.min(Oe,C.maxDistance(m,S,A,S,j,re,j,Pe)),Oe=Math.min(Oe,C.maxDistance(m,S,A,S,j,re,fe,re)),Oe=Math.min(Oe,C.maxDistance(m,S,A,S,fe,Pe,j,Pe)),Oe=Math.min(Oe,C.maxDistance(m,S,A,S,fe,Pe,fe,re)),Oe=Math.min(Oe,C.maxDistance(A,F,m,F,j,re,j,Pe)),Oe=Math.min(Oe,C.maxDistance(A,F,m,F,j,re,fe,re)),Oe=Math.min(Oe,C.maxDistance(A,F,m,F,fe,Pe,j,Pe)),Oe=Math.min(Oe,C.maxDistance(A,F,m,F,fe,Pe,fe,re)),Oe=Math.min(Oe,C.maxDistance(A,F,A,S,j,re,j,Pe)),Oe=Math.min(Oe,C.maxDistance(A,F,A,S,j,re,fe,re)),Oe=Math.min(Oe,C.maxDistance(A,F,A,S,fe,Pe,j,Pe)),Oe=Math.min(Oe,C.maxDistance(A,F,A,S,fe,Pe,fe,re))}}]),C}(),qs=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"maximumDistance",value:function(){return nf.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(u,h){var m=C.isComposite(this._boundable1),S=C.isComposite(this._boundable2);if(m&&S)return C.area(this._boundable1)>C.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,u,h),null):(this.expand(this._boundable2,this._boundable1,!0,u,h),null);if(m)return this.expand(this._boundable1,this._boundable2,!1,u,h),null;if(S)return this.expand(this._boundable2,this._boundable1,!0,u,h),null;throw new T("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(C.isComposite(this._boundable1)||C.isComposite(this._boundable2))}},{key:"compareTo",value:function(u){var h=u;return this._distance<h._distance?-1:this._distance>h._distance?1:0}},{key:"expand",value:function(u,h,m,S,A){for(var F=u.getChildBoundables().iterator();F.hasNext();){var j=F.next(),re=null;(re=m?new C(h,j,this._itemDistance):new C(j,h,this._itemDistance)).getDistance()<A&&S.add(re)}}},{key:"getBoundable",value:function(u){return u===0?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[I]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var u=arguments[0],h=arguments[1],m=arguments[2];this._boundable1=u,this._boundable2=h,this._itemDistance=m,this._distance=this.distance()}},{key:"area",value:function(u){return u.getBounds().getArea()}},{key:"isComposite",value:function(u){return u instanceof cr}}]),C}(),Do=function(){function C(){n(this,C)}return r(C,[{key:"visitItem",value:function(u){}}]),C}(),Ul=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"queryInternal",value:function(){if(Ae(arguments[2],Do)&&arguments[0]instanceof Object&&arguments[1]instanceof cr)for(var u=arguments[0],h=arguments[1],m=arguments[2],S=h.getChildBoundables(),A=0;A<S.size();A++){var F=S.get(A);this.getIntersectsOp().intersects(F.getBounds(),u)&&(F instanceof cr?this.queryInternal(u,F,m):F instanceof si?m.visitItem(F.getItem()):le.shouldNeverReachHere())}else if(Ae(arguments[2],Be)&&arguments[0]instanceof Object&&arguments[1]instanceof cr)for(var j=arguments[0],re=arguments[1],fe=arguments[2],Pe=re.getChildBoundables(),Oe=0;Oe<Pe.size();Oe++){var lt=Pe.get(Oe);this.getIntersectsOp().intersects(lt.getBounds(),j)&&(lt instanceof cr?this.queryInternal(j,lt,fe):lt instanceof si?fe.add(lt.getItem()):le.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(u){return u.get(u.size()-1)}},{key:"size",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var u=arguments[0],h=0,m=u.getChildBoundables().iterator();m.hasNext();){var S=m.next();S instanceof cr?h+=this.size(S):S instanceof si&&(h+=1)}return h}}},{key:"removeItem",value:function(u,h){for(var m=null,S=u.getChildBoundables().iterator();S.hasNext();){var A=S.next();A instanceof si&&A.getItem()===h&&(m=A)}return m!==null&&(u.getChildBoundables().remove(m),!0)}},{key:"itemsTree",value:function(){if(arguments.length===0){this.build();var u=this.itemsTree(this._root);return u===null?new be:u}if(arguments.length===1){for(var h=arguments[0],m=new be,S=h.getChildBoundables().iterator();S.hasNext();){var A=S.next();if(A instanceof cr){var F=this.itemsTree(A);F!==null&&m.add(F)}else A instanceof si?m.add(A.getItem()):le.shouldNeverReachHere()}return m.size()<=0?null:m}}},{key:"insert",value:function(u,h){le.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new si(u,h))}},{key:"boundablesAtLevel",value:function(){if(arguments.length===1){var u=arguments[0],h=new be;return this.boundablesAtLevel(u,this._root,h),h}if(arguments.length===3){var m=arguments[0],S=arguments[1],A=arguments[2];if(le.isTrue(m>-2),S.getLevel()===m)return A.add(S),null;for(var F=S.getChildBoundables().iterator();F.hasNext();){var j=F.next();j instanceof cr?this.boundablesAtLevel(m,j,A):(le.isTrue(j instanceof si),m===-1&&A.add(j))}return null}}},{key:"query",value:function(){if(arguments.length===1){var u=arguments[0];this.build();var h=new be;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),u)&&this.queryInternal(u,this._root,h),h}if(arguments.length===2){var m=arguments[0],S=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),m)&&this.queryInternal(m,this._root,S)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(arguments.length===2){var u=arguments[0],h=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),u)&&this.remove(u,this._root,h)}if(arguments.length===3){var m=arguments[0],S=arguments[1],A=arguments[2],F=this.removeItem(S,A);if(F)return!0;for(var j=null,re=S.getChildBoundables().iterator();re.hasNext();){var fe=re.next();if(this.getIntersectsOp().intersects(fe.getBounds(),m)&&fe instanceof cr&&(F=this.remove(m,fe,A))){j=fe;break}}return j!==null&&j.getChildBoundables().isEmpty()&&S.getChildBoundables().remove(j),F}}},{key:"createHigherLevels",value:function(u,h){le.isTrue(!u.isEmpty());var m=this.createParentBoundables(u,h+1);return m.size()===1?m.get(0):this.createHigherLevels(m,h+1)}},{key:"depth",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var u=arguments[0],h=0,m=u.getChildBoundables().iterator();m.hasNext();){var S=m.next();if(S instanceof cr){var A=this.depth(S);A>h&&(h=A)}}return h+1}}},{key:"createParentBoundables",value:function(u,h){le.isTrue(!u.isEmpty());var m=new be;m.add(this.createNode(h));var S=new be(u);ga.sort(S,this.getComparator());for(var A=S.iterator();A.hasNext();){var F=A.next();this.lastNode(m).getChildBoundables().size()===this.getNodeCapacity()&&m.add(this.createNode(h)),this.lastNode(m).addChildBoundable(F)}return m}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[U]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new be,this._nodeCapacity=null,arguments.length===0)C.constructor_.call(this,C.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var u=arguments[0];le.isTrue(u>1,"Node capacity must be greater than 1"),this._nodeCapacity=u}}},{key:"compareDoubles",value:function(u,h){return u>h?1:u<h?-1:0}}]),C}();Ul.IntersectsOp=function(){},Ul.DEFAULT_NODE_CAPACITY=10;var tR=function(){function C(){n(this,C)}return r(C,[{key:"distance",value:function(u,h){}}]),C}(),Ys=function(C){s(h,C);var u=g(h);function h(){var m;return n(this,h),m=u.call(this),h.constructor_.apply(p(m),arguments),m}return r(h,[{key:"createParentBoundablesFromVerticalSlices",value:function(m,S){le.isTrue(m.length>0);for(var A=new be,F=0;F<m.length;F++)A.addAll(this.createParentBoundablesFromVerticalSlice(m[F],S));return A}},{key:"nearestNeighbourK",value:function(){if(arguments.length===2){var m=arguments[0],S=arguments[1];return this.nearestNeighbourK(m,V.POSITIVE_INFINITY,S)}if(arguments.length===3){var A=arguments[0],F=arguments[1],j=arguments[2],re=F,fe=new Oo;fe.add(A);for(var Pe=new Oo;!fe.isEmpty()&&re>=0;){var Oe=fe.poll(),lt=Oe.getDistance();if(lt>=re)break;if(Oe.isLeaves())if(Pe.size()<j)Pe.add(Oe);else{var Rt=Pe.peek();Rt.getDistance()>lt&&(Pe.poll(),Pe.add(Oe));var Tt=Pe.peek();re=Tt.getDistance()}else Oe.expandToQueue(fe,re)}return h.getItems(Pe)}}},{key:"createNode",value:function(m){return new K_(m)}},{key:"size",value:function(){return arguments.length===0?y(a(h.prototype),"size",this).call(this):y(a(h.prototype),"size",this).apply(this,arguments)}},{key:"insert",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof De))return y(a(h.prototype),"insert",this).apply(this,arguments);var m=arguments[0],S=arguments[1];if(m.isNull())return null;y(a(h.prototype),"insert",this).call(this,m,S)}},{key:"getIntersectsOp",value:function(){return h.intersectsOp}},{key:"verticalSlices",value:function(m,S){for(var A=Math.trunc(Math.ceil(m.size()/S)),F=new Array(S).fill(null),j=m.iterator(),re=0;re<S;re++){F[re]=new be;for(var fe=0;j.hasNext()&&fe<A;){var Pe=j.next();F[re].add(Pe),fe++}}return F}},{key:"query",value:function(){if(arguments.length===1){var m=arguments[0];return y(a(h.prototype),"query",this).call(this,m)}if(arguments.length===2){var S=arguments[0],A=arguments[1];y(a(h.prototype),"query",this).call(this,S,A)}}},{key:"getComparator",value:function(){return h.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(m,S){return y(a(h.prototype),"createParentBoundables",this).call(this,m,S)}},{key:"remove",value:function(){if(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof De){var m=arguments[0],S=arguments[1];return y(a(h.prototype),"remove",this).call(this,m,S)}return y(a(h.prototype),"remove",this).apply(this,arguments)}},{key:"depth",value:function(){return arguments.length===0?y(a(h.prototype),"depth",this).call(this):y(a(h.prototype),"depth",this).apply(this,arguments)}},{key:"createParentBoundables",value:function(m,S){le.isTrue(!m.isEmpty());var A=Math.trunc(Math.ceil(m.size()/this.getNodeCapacity())),F=new be(m);ga.sort(F,h.xComparator);var j=this.verticalSlices(F,Math.trunc(Math.ceil(Math.sqrt(A))));return this.createParentBoundablesFromVerticalSlices(j,S)}},{key:"nearestNeighbour",value:function(){if(arguments.length===1){if(Ae(arguments[0],tR)){var m=arguments[0];if(this.isEmpty())return null;var S=new qs(this.getRoot(),this.getRoot(),m);return this.nearestNeighbour(S)}if(arguments[0]instanceof qs){var A=arguments[0],F=V.POSITIVE_INFINITY,j=null,re=new Oo;for(re.add(A);!re.isEmpty()&&F>0;){var fe=re.poll(),Pe=fe.getDistance();if(Pe>=F)break;fe.isLeaves()?(F=Pe,j=fe):fe.expandToQueue(re,F)}return j===null?null:[j.getBoundable(0).getItem(),j.getBoundable(1).getItem()]}}else{if(arguments.length===2){var Oe=arguments[0],lt=arguments[1];if(this.isEmpty()||Oe.isEmpty())return null;var Rt=new qs(this.getRoot(),Oe.getRoot(),lt);return this.nearestNeighbour(Rt)}if(arguments.length===3){var Tt=arguments[0],en=arguments[1],sn=arguments[2],hn=new si(Tt,en),Dn=new qs(this.getRoot(),hn,sn);return this.nearestNeighbour(Dn)[0]}if(arguments.length===4){var li=arguments[0],ji=arguments[1],$r=arguments[2],Ss=arguments[3],ya=new si(li,ji),Bo=new qs(this.getRoot(),ya,$r);return this.nearestNeighbourK(Bo,Ss)}}}},{key:"isWithinDistance",value:function(){if(arguments.length===2){var m=arguments[0],S=arguments[1],A=V.POSITIVE_INFINITY,F=new Oo;for(F.add(m);!F.isEmpty();){var j=F.poll(),re=j.getDistance();if(re>S)return!1;if(j.maximumDistance()<=S)return!0;if(j.isLeaves()){if((A=re)<=S)return!0}else j.expandToQueue(F,A)}return!1}if(arguments.length===3){var fe=arguments[0],Pe=arguments[1],Oe=arguments[2],lt=new qs(this.getRoot(),fe.getRoot(),Pe);return this.isWithinDistance(lt,Oe)}}},{key:"interfaces_",get:function(){return[$a,U]}}],[{key:"constructor_",value:function(){if(arguments.length===0)h.constructor_.call(this,h.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var m=arguments[0];Ul.constructor_.call(this,m)}}},{key:"centreX",value:function(m){return h.avg(m.getMinX(),m.getMaxX())}},{key:"avg",value:function(m,S){return(m+S)/2}},{key:"getItems",value:function(m){for(var S=new Array(m.size()).fill(null),A=0;!m.isEmpty();){var F=m.poll();S[A]=F.getBoundable(0).getItem(),A++}return S}},{key:"centreY",value:function(m){return h.avg(m.getMinY(),m.getMaxY())}}]),h}(Ul),K_=function(C){s(h,C);var u=g(h);function h(){var m;return n(this,h),m=u.call(this),h.constructor_.apply(p(m),arguments),m}return r(h,[{key:"computeBounds",value:function(){for(var m=null,S=this.getChildBoundables().iterator();S.hasNext();){var A=S.next();m===null?m=new De(A.getBounds()):m.expandToInclude(A.getBounds())}return m}}],[{key:"constructor_",value:function(){var m=arguments[0];cr.constructor_.call(this,m)}}]),h}(cr);Ys.STRtreeNode=K_,Ys.xComparator=new(function(){function C(){n(this,C)}return r(C,[{key:"interfaces_",get:function(){return[ee]}},{key:"compare",value:function(u,h){return Ul.compareDoubles(Ys.centreX(u.getBounds()),Ys.centreX(h.getBounds()))}}]),C}()),Ys.yComparator=new(function(){function C(){n(this,C)}return r(C,[{key:"interfaces_",get:function(){return[ee]}},{key:"compare",value:function(u,h){return Ul.compareDoubles(Ys.centreY(u.getBounds()),Ys.centreY(h.getBounds()))}}]),C}()),Ys.intersectsOp=new(function(){function C(){n(this,C)}return r(C,[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(u,h){return u.intersects(h)}}]),C}()),Ys.DEFAULT_NODE_CAPACITY=10;var nR=function(){function C(){n(this,C)}return r(C,null,[{key:"relativeSign",value:function(u,h){return u<h?-1:u>h?1:0}},{key:"compare",value:function(u,h,m){if(h.equals2D(m))return 0;var S=C.relativeSign(h.x,m.x),A=C.relativeSign(h.y,m.y);switch(u){case 0:return C.compareValue(S,A);case 1:return C.compareValue(A,S);case 2:return C.compareValue(A,-S);case 3:return C.compareValue(-S,A);case 4:return C.compareValue(-S,-A);case 5:return C.compareValue(-A,-S);case 6:return C.compareValue(-A,S);case 7:return C.compareValue(S,-A)}return le.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(u,h){return u<0?-1:u>0?1:h<0?-1:h>0?1:0}}]),C}(),iR=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(u){u.print(this.coord),u.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(u){var h=u;return this.segmentIndex<h.segmentIndex?-1:this.segmentIndex>h.segmentIndex?1:this.coord.equals2D(h.coord)?0:this._isInterior?h._isInterior?nR.compare(this._segmentOctant,this.coord,h.coord):1:-1}},{key:"isEndPoint",value:function(u){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===u}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[I]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var u=arguments[0],h=arguments[1],m=arguments[2],S=arguments[3];this._segString=u,this.coord=new ue(h),this.segmentIndex=m,this._segmentOctant=S,this._isInterior=!h.equals2D(u.getCoordinate(m))}}]),C}(),rR=function(){function C(){n(this,C)}return r(C,[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}]),C}(),sR=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"getSplitCoordinates",value:function(){var u=new Se;this.addEndpoints();for(var h=this.iterator(),m=h.next();h.hasNext();){var S=h.next();this.addEdgeCoordinates(m,S,u),m=S}return u.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var u=new be;this.findCollapsesFromInsertedNodes(u),this.findCollapsesFromExistingVertices(u);for(var h=u.iterator();h.hasNext();){var m=h.next().intValue();this.add(this._edge.getCoordinate(m),m)}}},{key:"createSplitEdgePts",value:function(u,h){var m=h.segmentIndex-u.segmentIndex+2;if(m===2)return[new ue(u.coord),new ue(h.coord)];var S=this._edge.getCoordinate(h.segmentIndex),A=h.isInterior()||!h.coord.equals2D(S);A||m--;var F=new Array(m).fill(null),j=0;F[j++]=new ue(u.coord);for(var re=u.segmentIndex+1;re<=h.segmentIndex;re++)F[j++]=this._edge.getCoordinate(re);return A&&(F[j]=new ue(h.coord)),F}},{key:"print",value:function(u){u.println("Intersections:");for(var h=this.iterator();h.hasNext();)h.next().print(u)}},{key:"findCollapsesFromExistingVertices",value:function(u){for(var h=0;h<this._edge.size()-2;h++){var m=this._edge.getCoordinate(h);this._edge.getCoordinate(h+1);var S=this._edge.getCoordinate(h+2);m.equals2D(S)&&u.add(Xe.valueOf(h+1))}}},{key:"addEdgeCoordinates",value:function(u,h,m){var S=this.createSplitEdgePts(u,h);m.add(S,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(u){this.addEndpoints(),this.addCollapsedNodes();for(var h=this.iterator(),m=h.next();h.hasNext();){var S=h.next(),A=this.createSplitEdge(m,S);u.add(A),m=S}}},{key:"findCollapseIndex",value:function(u,h,m){if(!u.coord.equals2D(h.coord))return!1;var S=h.segmentIndex-u.segmentIndex;return h.isInterior()||S--,S===1&&(m[0]=u.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(u){for(var h=new Array(1).fill(null),m=this.iterator(),S=m.next();m.hasNext();){var A=m.next();this.findCollapseIndex(S,A,h)&&u.add(Xe.valueOf(h[0])),S=A}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var u=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(u),u)}},{key:"createSplitEdge",value:function(u,h){var m=this.createSplitEdgePts(u,h);return new Fo(m,this._edge.getData())}},{key:"add",value:function(u,h){var m=new iR(this._edge,u,h,this._edge.getSegmentOctant(h)),S=this._nodeMap.get(m);return S!==null?(le.isTrue(S.coord.equals2D(u),"Found equal nodes with different coordinates"),S):(this._nodeMap.put(m,m),m)}},{key:"checkSplitEdgesCorrectness",value:function(u){var h=this._edge.getCoordinates(),m=u.get(0).getCoordinate(0);if(!m.equals2D(h[0]))throw new ce("bad split edge start point at "+m);var S=u.get(u.size()-1).getCoordinates(),A=S[S.length-1];if(!A.equals2D(h[h.length-1]))throw new ce("bad split edge end point at "+A)}}],[{key:"constructor_",value:function(){this._nodeMap=new No,this._edge=null;var u=arguments[0];this._edge=u}}]),C}(),aR=function(){function C(){n(this,C)}return r(C,null,[{key:"octant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var u=arguments[0],h=arguments[1];if(u===0&&h===0)throw new T("Cannot compute the octant for point ( "+u+", "+h+" )");var m=Math.abs(u),S=Math.abs(h);return u>=0?h>=0?m>=S?0:1:m>=S?7:6:h>=0?m>=S?3:2:m>=S?4:5}if(arguments[0]instanceof ue&&arguments[1]instanceof ue){var A=arguments[0],F=arguments[1],j=F.x-A.x,re=F.y-A.y;if(j===0&&re===0)throw new T("Cannot compute the octant for two identical points "+A);return C.octant(j,re)}}}]),C}(),oR=function(){function C(){n(this,C)}return r(C,[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(u){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(u){}},{key:"getData",value:function(){}}]),C}(),lR=function(){function C(){n(this,C)}return r(C,[{key:"addIntersection",value:function(u,h){}},{key:"interfaces_",get:function(){return[oR]}}]),C}(),Fo=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(u){return this._pts[u]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(u){return u===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(u),this.getCoordinate(u+1))}},{key:"setData",value:function(u){this._data=u}},{key:"safeOctant",value:function(u,h){return u.equals2D(h)?0:aR.octant(u,h)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(arguments.length===2){var u=arguments[0],h=arguments[1];this.addIntersectionNode(u,h)}else if(arguments.length===4){var m=arguments[0],S=arguments[1],A=arguments[3],F=new ue(m.getIntersection(A));this.addIntersection(F,S)}}},{key:"toString",value:function(){return Ec.toLineString(new Qt(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(u,h){var m=h,S=m+1;if(S<this._pts.length){var A=this._pts[S];u.equals2D(A)&&(m=S)}return this._nodeList.add(u,m)}},{key:"addIntersections",value:function(u,h,m){for(var S=0;S<u.getIntersectionNum();S++)this.addIntersection(u,h,m,S)}},{key:"interfaces_",get:function(){return[lR]}}],[{key:"constructor_",value:function(){this._nodeList=new sR(this),this._pts=null,this._data=null;var u=arguments[0],h=arguments[1];this._pts=u,this._data=h}},{key:"getNodedSubstrings",value:function(){if(arguments.length===1){var u=arguments[0],h=new be;return C.getNodedSubstrings(u,h),h}if(arguments.length===2)for(var m=arguments[0],S=arguments[1],A=m.iterator();A.hasNext();){var F=A.next();F.getNodeList().addSplitEdges(S)}}}]),C}(),Vr=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof C){var u=arguments[0],h=xt.index(this.p0,this.p1,u.p0),m=xt.index(this.p0,this.p1,u.p1);return h>=0&&m>=0||h<=0&&m<=0?Math.max(h,m):0}if(arguments[0]instanceof ue){var S=arguments[0];return xt.index(this.p0,this.p1,S)}}},{key:"toGeometry",value:function(u){return u.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(u){if(!(u instanceof C))return!1;var h=u;return this.p0.equals(h.p0)&&this.p1.equals(h.p1)}},{key:"intersection",value:function(u){var h=new va;return h.computeIntersection(this.p0,this.p1,u.p0,u.p1),h.hasIntersection()?h.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof ue){var u=arguments[0];if(u.equals(this.p0)||u.equals(this.p1))return new ue(u);var h=this.projectionFactor(u),m=new ue;return m.x=this.p0.x+h*(this.p1.x-this.p0.x),m.y=this.p0.y+h*(this.p1.y-this.p0.y),m}if(arguments[0]instanceof C){var S=arguments[0],A=this.projectionFactor(S.p0),F=this.projectionFactor(S.p1);if(A>=1&&F>=1||A<=0&&F<=0)return null;var j=this.project(S.p0);A<0&&(j=this.p0),A>1&&(j=this.p1);var re=this.project(S.p1);return F<0&&(re=this.p0),F>1&&(re=this.p1),new C(j,re)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(u){return u===0?this.p0:this.p1}},{key:"distancePerpendicular",value:function(u){return ve.pointToLinePerpendicular(u,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return C.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(u){if(u.equals(this.p0))return 0;if(u.equals(this.p1))return 1;var h=this.p1.x-this.p0.x,m=this.p1.y-this.p0.y,S=h*h+m*m;return S<=0?V.NaN:((u.x-this.p0.x)*h+(u.y-this.p0.y)*m)/S}},{key:"closestPoints",value:function(u){var h=this.intersection(u);if(h!==null)return[h,h];var m=new Array(2).fill(null),S=V.MAX_VALUE,A=null,F=this.closestPoint(u.p0);S=F.distance(u.p0),m[0]=F,m[1]=u.p0;var j=this.closestPoint(u.p1);(A=j.distance(u.p1))<S&&(S=A,m[0]=j,m[1]=u.p1);var re=u.closestPoint(this.p0);(A=re.distance(this.p0))<S&&(S=A,m[0]=this.p0,m[1]=re);var fe=u.closestPoint(this.p1);return(A=fe.distance(this.p1))<S&&(S=A,m[0]=this.p1,m[1]=fe),m}},{key:"closestPoint",value:function(u){var h=this.projectionFactor(u);return h>0&&h<1?this.project(u):this.p0.distance(u)<this.p1.distance(u)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(u){var h=u,m=this.p0.compareTo(h.p0);return m!==0?m:this.p1.compareTo(h.p1)}},{key:"reverse",value:function(){var u=this.p0;this.p0=this.p1,this.p1=u}},{key:"equalsTopo",value:function(u){return this.p0.equals(u.p0)&&this.p1.equals(u.p1)||this.p0.equals(u.p1)&&this.p1.equals(u.p0)}},{key:"lineIntersection",value:function(u){return Bt.intersection(this.p0,this.p1,u.p0,u.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(u,h){var m=this.p0.x+u*(this.p1.x-this.p0.x),S=this.p0.y+u*(this.p1.y-this.p0.y),A=this.p1.x-this.p0.x,F=this.p1.y-this.p0.y,j=Math.sqrt(A*A+F*F),re=0,fe=0;if(h!==0){if(j<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");re=h*A/j,fe=h*F/j}return new ue(m-fe,S+re)}},{key:"setCoordinates",value:function(){if(arguments.length===1){var u=arguments[0];this.setCoordinates(u.p0,u.p1)}else if(arguments.length===2){var h=arguments[0],m=arguments[1];this.p0.x=h.x,this.p0.y=h.y,this.p1.x=m.x,this.p1.y=m.y}}},{key:"segmentFraction",value:function(u){var h=this.projectionFactor(u);return h<0?h=0:(h>1||V.isNaN(h))&&(h=1),h}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(u){var h=this.p1.getY()-this.p0.getY(),m=this.p0.getX()-this.p1.getX(),S=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),A=h*h+m*m,F=h*h-m*m,j=u.getX(),re=u.getY();return new ue((-F*j-2*h*m*re-2*h*S)/A,(F*re-2*h*m*j-2*m*S)/A)}},{key:"distance",value:function(){if(arguments[0]instanceof C){var u=arguments[0];return ve.segmentToSegment(this.p0,this.p1,u.p0,u.p1)}if(arguments[0]instanceof ue){var h=arguments[0];return ve.pointToSegment(h,this.p0,this.p1)}}},{key:"pointAlong",value:function(u){var h=new ue;return h.x=this.p0.x+u*(this.p1.x-this.p0.x),h.y=this.p0.y+u*(this.p1.y-this.p0.y),h}},{key:"hashCode",value:function(){var u=V.doubleToLongBits(this.p0.x);u^=31*V.doubleToLongBits(this.p0.y);var h=Math.trunc(u)^Math.trunc(u>>32),m=V.doubleToLongBits(this.p1.x);return m^=31*V.doubleToLongBits(this.p1.y),h^(Math.trunc(m)^Math.trunc(m>>32))}},{key:"interfaces_",get:function(){return[I,U]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,arguments.length===0)C.constructor_.call(this,new ue,new ue);else if(arguments.length===1){var u=arguments[0];C.constructor_.call(this,u.p0,u.p1)}else if(arguments.length===2){var h=arguments[0],m=arguments[1];this.p0=h,this.p1=m}else if(arguments.length===4){var S=arguments[0],A=arguments[1],F=arguments[2],j=arguments[3];C.constructor_.call(this,new ue(S,A),new ue(F,j))}}},{key:"midPoint",value:function(u,h){return new ue((u.x+h.x)/2,(u.y+h.y)/2)}}]),C}(),uR=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"overlap",value:function(){if(arguments.length!==2){if(arguments.length===4){var u=arguments[0],h=arguments[1],m=arguments[2],S=arguments[3];u.getLineSegment(h,this._overlapSeg1),m.getLineSegment(S,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new Vr,this._overlapSeg2=new Vr}}]),C}(),q_=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"getLineSegment",value:function(u,h){h.p0=this._pts[u],h.p1=this._pts[u+1]}},{key:"computeSelect",value:function(u,h,m,S){var A=this._pts[h],F=this._pts[m];if(m-h==1)return S.select(this,h),null;if(!u.intersects(A,F))return null;var j=Math.trunc((h+m)/2);h<j&&this.computeSelect(u,h,j,S),j<m&&this.computeSelect(u,j,m,S)}},{key:"getCoordinates",value:function(){for(var u=new Array(this._end-this._start+1).fill(null),h=0,m=this._start;m<=this._end;m++)u[h++]=this._pts[m];return u}},{key:"computeOverlaps",value:function(){if(arguments.length===2){var u=arguments[0],h=arguments[1];this.computeOverlaps(this._start,this._end,u,u._start,u._end,h)}else if(arguments.length===6){var m=arguments[0],S=arguments[1],A=arguments[2],F=arguments[3],j=arguments[4],re=arguments[5];if(S-m==1&&j-F==1)return re.overlap(this,m,A,F),null;if(!this.overlaps(m,S,A,F,j))return null;var fe=Math.trunc((m+S)/2),Pe=Math.trunc((F+j)/2);m<fe&&(F<Pe&&this.computeOverlaps(m,fe,A,F,Pe,re),Pe<j&&this.computeOverlaps(m,fe,A,Pe,j,re)),fe<S&&(F<Pe&&this.computeOverlaps(fe,S,A,F,Pe,re),Pe<j&&this.computeOverlaps(fe,S,A,Pe,j,re))}}},{key:"setId",value:function(u){this._id=u}},{key:"select",value:function(u,h){this.computeSelect(u,this._start,this._end,h)}},{key:"getEnvelope",value:function(){if(this._env===null){var u=this._pts[this._start],h=this._pts[this._end];this._env=new De(u,h)}return this._env}},{key:"overlaps",value:function(u,h,m,S,A){return De.intersects(this._pts[u],this._pts[h],m._pts[S],m._pts[A])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var u=arguments[0],h=arguments[1],m=arguments[2],S=arguments[3];this._pts=u,this._start=h,this._end=m,this._context=S}}]),C}(),cR=function(){function C(){n(this,C)}return r(C,null,[{key:"findChainEnd",value:function(u,h){for(var m=h;m<u.length-1&&u[m].equals2D(u[m+1]);)m++;if(m>=u.length-1)return u.length-1;for(var S=ge.quadrant(u[m],u[m+1]),A=h+1;A<u.length&&!(!u[A-1].equals2D(u[A])&&ge.quadrant(u[A-1],u[A])!==S);)A++;return A-1}},{key:"getChains",value:function(){if(arguments.length===1){var u=arguments[0];return C.getChains(u,null)}if(arguments.length===2){var h=arguments[0],m=arguments[1],S=new be,A=0;do{var F=C.findChainEnd(h,A),j=new q_(h,A,F,m);S.add(j),A=F}while(A<h.length-1);return S}}}]),C}(),im=function(){function C(){n(this,C)}return r(C,[{key:"computeNodes",value:function(u){}},{key:"getNodedSubstrings",value:function(){}}]),C}(),Y_=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"setSegmentIntersector",value:function(u){this._segInt=u}},{key:"interfaces_",get:function(){return[im]}}],[{key:"constructor_",value:function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var u=arguments[0];this.setSegmentIntersector(u)}}}}]),C}(),rm=function(C){s(h,C);var u=g(h);function h(){var m;return n(this,h),m=u.call(this),h.constructor_.apply(p(m),arguments),m}return r(h,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return Fo.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(m){for(var S=cR.getChains(m.getCoordinates(),m).iterator();S.hasNext();){var A=S.next();A.setId(this._idCounter++),this._index.insert(A.getEnvelope(),A),this._monoChains.add(A)}}},{key:"computeNodes",value:function(m){this._nodedSegStrings=m;for(var S=m.iterator();S.hasNext();)this.add(S.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var m=new j_(this._segInt),S=this._monoChains.iterator();S.hasNext();)for(var A=S.next(),F=this._index.query(A.getEnvelope()).iterator();F.hasNext();){var j=F.next();if(j.getId()>A.getId()&&(A.computeOverlaps(j,m),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new be,this._index=new Ys,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,arguments.length!==0){if(arguments.length===1){var m=arguments[0];Y_.constructor_.call(this,m)}}}}]),h}(Y_),j_=function(C){s(h,C);var u=g(h);function h(){var m;return n(this,h),m=u.call(this),h.constructor_.apply(p(m),arguments),m}return r(h,[{key:"overlap",value:function(){if(arguments.length!==4)return y(a(h.prototype),"overlap",this).apply(this,arguments);var m=arguments[0],S=arguments[1],A=arguments[2],F=arguments[3],j=m.getContext(),re=A.getContext();this._si.processIntersections(j,S,re,F)}}],[{key:"constructor_",value:function(){this._si=null;var m=arguments[0];this._si=m}}]),h}(uR);rm.SegmentOverlapAction=j_;var ws=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"isDeletable",value:function(u,h,m,S){var A=this._inputLine[u],F=this._inputLine[h],j=this._inputLine[m];return!!this.isConcave(A,F,j)&&!!this.isShallow(A,F,j,S)&&this.isShallowSampled(A,F,u,m,S)}},{key:"deleteShallowConcavities",value:function(){for(var u=1,h=this.findNextNonDeletedIndex(u),m=this.findNextNonDeletedIndex(h),S=!1;m<this._inputLine.length;){var A=!1;this.isDeletable(u,h,m,this._distanceTol)&&(this._isDeleted[h]=C.DELETE,A=!0,S=!0),u=A?m:h,h=this.findNextNonDeletedIndex(u),m=this.findNextNonDeletedIndex(h)}return S}},{key:"isShallowConcavity",value:function(u,h,m,S){return xt.index(u,h,m)===this._angleOrientation&&ve.pointToSegment(h,u,m)<S}},{key:"isShallowSampled",value:function(u,h,m,S,A){var F=Math.trunc((S-m)/C.NUM_PTS_TO_CHECK);F<=0&&(F=1);for(var j=m;j<S;j+=F)if(!this.isShallow(u,h,this._inputLine[j],A))return!1;return!0}},{key:"isConcave",value:function(u,h,m){var S=xt.index(u,h,m)===this._angleOrientation;return S}},{key:"simplify",value:function(u){this._distanceTol=Math.abs(u),u<0&&(this._angleOrientation=xt.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var h=!1;do h=this.deleteShallowConcavities();while(h);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(u){for(var h=u+1;h<this._inputLine.length&&this._isDeleted[h]===C.DELETE;)h++;return h}},{key:"isShallow",value:function(u,h,m,S){return ve.pointToSegment(h,u,m)<S}},{key:"collapseLine",value:function(){for(var u=new Se,h=0;h<this._inputLine.length;h++)this._isDeleted[h]!==C.DELETE&&u.add(this._inputLine[h]);return u.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=xt.COUNTERCLOCKWISE;var u=arguments[0];this._inputLine=u}},{key:"simplify",value:function(u,h){return new C(u).simplify(h)}}]),C}();ws.INIT=0,ws.DELETE=1,ws.KEEP=1,ws.NUM_PTS_TO_CHECK=10;var X_=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"getCoordinates",value:function(){return this._ptList.toArray(C.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(u){this._precisionModel=u}},{key:"addPt",value:function(u){var h=new ue(u);if(this._precisionModel.makePrecise(h),this.isRedundant(h))return null;this._ptList.add(h)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(u,h){if(h)for(var m=0;m<u.length;m++)this.addPt(u[m]);else for(var S=u.length-1;S>=0;S--)this.addPt(u[S])}},{key:"isRedundant",value:function(u){if(this._ptList.size()<1)return!1;var h=this._ptList.get(this._ptList.size()-1);return u.distance(h)<this._minimimVertexDistance}},{key:"toString",value:function(){return new un().createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var u=new ue(this._ptList.get(0)),h=this._ptList.get(this._ptList.size()-1);if(u.equals(h))return null;this._ptList.add(u)}},{key:"setMinimumVertexDistance",value:function(u){this._minimimVertexDistance=u}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new be}}]),C}();X_.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var zr=function(){function C(){n(this,C)}return r(C,null,[{key:"toDegrees",value:function(u){return 180*u/Math.PI}},{key:"normalize",value:function(u){for(;u>Math.PI;)u-=C.PI_TIMES_2;for(;u<=-Math.PI;)u+=C.PI_TIMES_2;return u}},{key:"angle",value:function(){if(arguments.length===1){var u=arguments[0];return Math.atan2(u.y,u.x)}if(arguments.length===2){var h=arguments[0],m=arguments[1],S=m.x-h.x,A=m.y-h.y;return Math.atan2(A,S)}}},{key:"isAcute",value:function(u,h,m){var S=u.x-h.x,A=u.y-h.y;return S*(m.x-h.x)+A*(m.y-h.y)>0}},{key:"isObtuse",value:function(u,h,m){var S=u.x-h.x,A=u.y-h.y;return S*(m.x-h.x)+A*(m.y-h.y)<0}},{key:"interiorAngle",value:function(u,h,m){var S=C.angle(h,u),A=C.angle(h,m);return Math.abs(A-S)}},{key:"normalizePositive",value:function(u){if(u<0){for(;u<0;)u+=C.PI_TIMES_2;u>=C.PI_TIMES_2&&(u=0)}else{for(;u>=C.PI_TIMES_2;)u-=C.PI_TIMES_2;u<0&&(u=0)}return u}},{key:"angleBetween",value:function(u,h,m){var S=C.angle(h,u),A=C.angle(h,m);return C.diff(S,A)}},{key:"diff",value:function(u,h){var m=null;return(m=u<h?h-u:u-h)>Math.PI&&(m=2*Math.PI-m),m}},{key:"toRadians",value:function(u){return u*Math.PI/180}},{key:"getTurn",value:function(u,h){var m=Math.sin(h-u);return m>0?C.COUNTERCLOCKWISE:m<0?C.CLOCKWISE:C.NONE}},{key:"angleBetweenOriented",value:function(u,h,m){var S=C.angle(h,u),A=C.angle(h,m)-S;return A<=-Math.PI?A+C.PI_TIMES_2:A>Math.PI?A-C.PI_TIMES_2:A}}]),C}();zr.PI_TIMES_2=2*Math.PI,zr.PI_OVER_2=Math.PI/2,zr.PI_OVER_4=Math.PI/4,zr.COUNTERCLOCKWISE=xt.COUNTERCLOCKWISE,zr.CLOCKWISE=xt.CLOCKWISE,zr.NONE=xt.COLLINEAR;var Ac=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"addNextSegment",value:function(u,h){if(this._s0=this._s1,this._s1=this._s2,this._s2=u,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var m=xt.index(this._s0,this._s1,this._s2),S=m===xt.CLOCKWISE&&this._side===ne.LEFT||m===xt.COUNTERCLOCKWISE&&this._side===ne.RIGHT;m===0?this.addCollinear(h):S?this.addOutsideTurn(m,h):this.addInsideTurn(m,h)}},{key:"addLineEndCap",value:function(u,h){var m=new Vr(u,h),S=new Vr;this.computeOffsetSegment(m,ne.LEFT,this._distance,S);var A=new Vr;this.computeOffsetSegment(m,ne.RIGHT,this._distance,A);var F=h.x-u.x,j=h.y-u.y,re=Math.atan2(j,F);switch(this._bufParams.getEndCapStyle()){case E.CAP_ROUND:this._segList.addPt(S.p1),this.addDirectedFillet(h,re+Math.PI/2,re-Math.PI/2,xt.CLOCKWISE,this._distance),this._segList.addPt(A.p1);break;case E.CAP_FLAT:this._segList.addPt(S.p1),this._segList.addPt(A.p1);break;case E.CAP_SQUARE:var fe=new ue;fe.x=Math.abs(this._distance)*Math.cos(re),fe.y=Math.abs(this._distance)*Math.sin(re);var Pe=new ue(S.p1.x+fe.x,S.p1.y+fe.y),Oe=new ue(A.p1.x+fe.x,A.p1.y+fe.y);this._segList.addPt(Pe),this._segList.addPt(Oe)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(u,h,m,S){var A=Bt.intersection(h.p0,h.p1,m.p0,m.p1);if(A!==null&&(S<=0?1:A.distance(u)/Math.abs(S))<=this._bufParams.getMitreLimit())return this._segList.addPt(A),null;this.addLimitedMitreJoin(h,m,S,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(u,h){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*C.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===E.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===E.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(h&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,u,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(u){this._segList.addPt(new ue(u.x+this._distance,u.y+this._distance)),this._segList.addPt(new ue(u.x+this._distance,u.y-this._distance)),this._segList.addPt(new ue(u.x-this._distance,u.y-this._distance)),this._segList.addPt(new ue(u.x-this._distance,u.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(u,h){this._segList.addPts(u,h)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(u,h,m,S,A){var F=h.x-u.x,j=h.y-u.y,re=Math.atan2(j,F),fe=m.x-u.x,Pe=m.y-u.y,Oe=Math.atan2(Pe,fe);S===xt.CLOCKWISE?re<=Oe&&(re+=2*Math.PI):re>=Oe&&(re-=2*Math.PI),this._segList.addPt(h),this.addDirectedFillet(u,re,Oe,S,A),this._segList.addPt(m)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(u,h,m){this._s1=u,this._s2=h,this._side=m,this._seg1.setCoordinates(u,h),this.computeOffsetSegment(this._seg1,m,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(u,h,m,S){var A=this._seg0.p1,F=zr.angle(A,this._seg0.p0),j=zr.angleBetweenOriented(this._seg0.p0,A,this._seg1.p1)/2,re=zr.normalize(F+j),fe=zr.normalize(re+Math.PI),Pe=S*m,Oe=m-Pe*Math.abs(Math.sin(j)),lt=A.x+Pe*Math.cos(fe),Rt=A.y+Pe*Math.sin(fe),Tt=new ue(lt,Rt),en=new Vr(A,Tt),sn=en.pointAlongOffset(1,Oe),hn=en.pointAlongOffset(1,-Oe);this._side===ne.LEFT?(this._segList.addPt(sn),this._segList.addPt(hn)):(this._segList.addPt(hn),this._segList.addPt(sn))}},{key:"addDirectedFillet",value:function(u,h,m,S,A){var F=S===xt.CLOCKWISE?-1:1,j=Math.abs(h-m),re=Math.trunc(j/this._filletAngleQuantum+.5);if(re<1)return null;for(var fe=j/re,Pe=new ue,Oe=0;Oe<re;Oe++){var lt=h+F*Oe*fe;Pe.x=u.x+A*Math.cos(lt),Pe.y=u.y+A*Math.sin(lt),this._segList.addPt(Pe)}}},{key:"computeOffsetSegment",value:function(u,h,m,S){var A=h===ne.LEFT?1:-1,F=u.p1.x-u.p0.x,j=u.p1.y-u.p0.y,re=Math.sqrt(F*F+j*j),fe=A*m*F/re,Pe=A*m*j/re;S.p0.x=u.p0.x-Pe,S.p0.y=u.p0.y+fe,S.p1.x=u.p1.x-Pe,S.p1.y=u.p1.y+fe}},{key:"addInsideTurn",value:function(u,h){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*C.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var m=new ue((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(m);var S=new ue((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(S)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(u){var h=new ue(u.x+this._distance,u.y);this._segList.addPt(h),this.addDirectedFillet(u,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(u,h){this._segList.addPt(u.p1),this._segList.addPt(h.p0)}},{key:"init",value:function(u){this._distance=u,this._maxCurveSegmentError=u*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new X_,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(u*C.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(u){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===E.JOIN_BEVEL||this._bufParams.getJoinStyle()===E.JOIN_MITRE?(u&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,xt.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Vr,this._seg1=new Vr,this._offset0=new Vr,this._offset1=new Vr,this._side=0,this._hasNarrowConcaveAngle=!1;var u=arguments[0],h=arguments[1],m=arguments[2];this._precisionModel=u,this._bufParams=h,this._li=new va,this._filletAngleQuantum=Math.PI/2/h.getQuadrantSegments(),h.getQuadrantSegments()>=8&&h.getJoinStyle()===E.JOIN_ROUND&&(this._closingSegLengthFactor=C.MAX_CLOSING_SEG_LEN_FACTOR),this.init(m)}}]),C}();Ac.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,Ac.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,Ac.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,Ac.MAX_CLOSING_SEG_LEN_FACTOR=80;var dR=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"getOffsetCurve",value:function(u,h){if(this._distance=h,h===0)return null;var m=h<0,S=Math.abs(h),A=this.getSegGen(S);u.length<=1?this.computePointCurve(u[0],A):this.computeOffsetCurve(u,m,A);var F=A.getCoordinates();return m&&$e.reverse(F),F}},{key:"computeSingleSidedBufferCurve",value:function(u,h,m){var S=this.simplifyTolerance(this._distance);if(h){m.addSegments(u,!0);var A=ws.simplify(u,-S),F=A.length-1;m.initSideSegments(A[F],A[F-1],ne.LEFT),m.addFirstSegment();for(var j=F-2;j>=0;j--)m.addNextSegment(A[j],!0)}else{m.addSegments(u,!1);var re=ws.simplify(u,S),fe=re.length-1;m.initSideSegments(re[0],re[1],ne.LEFT),m.addFirstSegment();for(var Pe=2;Pe<=fe;Pe++)m.addNextSegment(re[Pe],!0)}m.addLastSegment(),m.closeRing()}},{key:"computeRingBufferCurve",value:function(u,h,m){var S=this.simplifyTolerance(this._distance);h===ne.RIGHT&&(S=-S);var A=ws.simplify(u,S),F=A.length-1;m.initSideSegments(A[F-1],A[0],h);for(var j=1;j<=F;j++){var re=j!==1;m.addNextSegment(A[j],re)}m.closeRing()}},{key:"computeLineBufferCurve",value:function(u,h){var m=this.simplifyTolerance(this._distance),S=ws.simplify(u,m),A=S.length-1;h.initSideSegments(S[0],S[1],ne.LEFT);for(var F=2;F<=A;F++)h.addNextSegment(S[F],!0);h.addLastSegment(),h.addLineEndCap(S[A-1],S[A]);var j=ws.simplify(u,-m),re=j.length-1;h.initSideSegments(j[re],j[re-1],ne.LEFT);for(var fe=re-2;fe>=0;fe--)h.addNextSegment(j[fe],!0);h.addLastSegment(),h.addLineEndCap(j[1],j[0]),h.closeRing()}},{key:"computePointCurve",value:function(u,h){switch(this._bufParams.getEndCapStyle()){case E.CAP_ROUND:h.createCircle(u);break;case E.CAP_SQUARE:h.createSquare(u)}}},{key:"getLineCurve",value:function(u,h){if(this._distance=h,this.isLineOffsetEmpty(h))return null;var m=Math.abs(h),S=this.getSegGen(m);if(u.length<=1)this.computePointCurve(u[0],S);else if(this._bufParams.isSingleSided()){var A=h<0;this.computeSingleSidedBufferCurve(u,A,S)}else this.computeLineBufferCurve(u,S);return S.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(u){return u*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(u,h,m){if(this._distance=m,u.length<=2)return this.getLineCurve(u,m);if(m===0)return C.copyCoordinates(u);var S=this.getSegGen(m);return this.computeRingBufferCurve(u,h,S),S.getCoordinates()}},{key:"computeOffsetCurve",value:function(u,h,m){var S=this.simplifyTolerance(this._distance);if(h){var A=ws.simplify(u,-S),F=A.length-1;m.initSideSegments(A[F],A[F-1],ne.LEFT),m.addFirstSegment();for(var j=F-2;j>=0;j--)m.addNextSegment(A[j],!0)}else{var re=ws.simplify(u,S),fe=re.length-1;m.initSideSegments(re[0],re[1],ne.LEFT),m.addFirstSegment();for(var Pe=2;Pe<=fe;Pe++)m.addNextSegment(re[Pe],!0)}m.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(u){return u===0||u<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(u){return new Ac(this._precisionModel,this._bufParams,u)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var u=arguments[0],h=arguments[1];this._precisionModel=u,this._bufParams=h}},{key:"copyCoordinates",value:function(u){for(var h=new Array(u.length).fill(null),m=0;m<h.length;m++)h[m]=new ue(u[m]);return h}}]),C}(),Z_=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"findStabbedSegments",value:function(){if(arguments.length===1){for(var u=arguments[0],h=new be,m=this._subgraphs.iterator();m.hasNext();){var S=m.next(),A=S.getEnvelope();u.y<A.getMinY()||u.y>A.getMaxY()||this.findStabbedSegments(u,S.getDirectedEdges(),h)}return h}if(arguments.length===3){if(Ae(arguments[2],Be)&&arguments[0]instanceof ue&&arguments[1]instanceof vt)for(var F=arguments[0],j=arguments[1],re=arguments[2],fe=j.getEdge().getCoordinates(),Pe=0;Pe<fe.length-1;Pe++){this._seg.p0=fe[Pe],this._seg.p1=fe[Pe+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse();var Oe=Math.max(this._seg.p0.x,this._seg.p1.x);if(!(Oe<F.x)&&!(this._seg.isHorizontal()||F.y<this._seg.p0.y||F.y>this._seg.p1.y||xt.index(this._seg.p0,this._seg.p1,F)===xt.RIGHT)){var lt=j.getDepth(ne.LEFT);this._seg.p0.equals(fe[Pe])||(lt=j.getDepth(ne.RIGHT));var Rt=new J_(this._seg,lt);re.add(Rt)}}else if(Ae(arguments[2],Be)&&arguments[0]instanceof ue&&Ae(arguments[1],Be))for(var Tt=arguments[0],en=arguments[1],sn=arguments[2],hn=en.iterator();hn.hasNext();){var Dn=hn.next();Dn.isForward()&&this.findStabbedSegments(Tt,Dn,sn)}}}},{key:"getDepth",value:function(u){var h=this.findStabbedSegments(u);return h.size()===0?0:ga.min(h)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new Vr;var u=arguments[0];this._subgraphs=u}}]),C}(),J_=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"compareTo",value:function(u){var h=u;if(this._upwardSeg.minX()>=h._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=h._upwardSeg.minX())return-1;var m=this._upwardSeg.orientationIndex(h._upwardSeg);return m!==0||(m=-1*h._upwardSeg.orientationIndex(this._upwardSeg))!==0?m:this._upwardSeg.compareTo(h._upwardSeg)}},{key:"compareX",value:function(u,h){var m=u.p0.compareTo(h.p0);return m!==0?m:u.p1.compareTo(h.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[I]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var u=arguments[0],h=arguments[1];this._upwardSeg=new Vr(u),this._leftDepth=h}}]),C}();Z_.DepthSegment=J_;var Q_=function(C){s(h,C);var u=g(h);function h(){var m;return n(this,h),m=u.call(this),h.constructor_.apply(p(m),arguments),m}return r(h,null,[{key:"constructor_",value:function(){x.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}]),h}(x),sm=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"getY",value:function(){var u=this.y/this.w;if(V.isNaN(u)||V.isInfinite(u))throw new Q_;return u}},{key:"getX",value:function(){var u=this.x/this.w;if(V.isNaN(u)||V.isInfinite(u))throw new Q_;return u}},{key:"getCoordinate",value:function(){var u=new ue;return u.x=this.getX(),u.y=this.getY(),u}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var u=arguments[0];this.x=u.x,this.y=u.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var h=arguments[0],m=arguments[1];this.x=h,this.y=m,this.w=1}else if(arguments[0]instanceof C&&arguments[1]instanceof C){var S=arguments[0],A=arguments[1];this.x=S.y*A.w-A.y*S.w,this.y=A.x*S.w-S.x*A.w,this.w=S.x*A.y-A.x*S.y}else if(arguments[0]instanceof ue&&arguments[1]instanceof ue){var F=arguments[0],j=arguments[1];this.x=F.y-j.y,this.y=j.x-F.x,this.w=F.x*j.y-j.x*F.y}}else if(arguments.length===3){var re=arguments[0],fe=arguments[1],Pe=arguments[2];this.x=re,this.y=fe,this.w=Pe}else if(arguments.length===4){var Oe=arguments[0],lt=arguments[1],Rt=arguments[2],Tt=arguments[3],en=Oe.y-lt.y,sn=lt.x-Oe.x,hn=Oe.x*lt.y-lt.x*Oe.y,Dn=Rt.y-Tt.y,li=Tt.x-Rt.x,ji=Rt.x*Tt.y-Tt.x*Rt.y;this.x=sn*ji-li*hn,this.y=Dn*hn-en*ji,this.w=en*li-Dn*sn}}}]),C}(),fR=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"area",value:function(){return C.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return C.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(u){if(u===null)throw new T("Supplied point is null.");return C.interpolateZ(u,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return C.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return C.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return C.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return C.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return C.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return C.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var u=arguments[0],h=arguments[1],m=arguments[2];this.p0=u,this.p1=h,this.p2=m}},{key:"area",value:function(u,h,m){return Math.abs(((m.x-u.x)*(h.y-u.y)-(h.x-u.x)*(m.y-u.y))/2)}},{key:"signedArea",value:function(u,h,m){return((m.x-u.x)*(h.y-u.y)-(h.x-u.x)*(m.y-u.y))/2}},{key:"det",value:function(u,h,m,S){return u*S-h*m}},{key:"interpolateZ",value:function(u,h,m,S){var A=h.x,F=h.y,j=m.x-A,re=S.x-A,fe=m.y-F,Pe=S.y-F,Oe=j*Pe-re*fe,lt=u.x-A,Rt=u.y-F,Tt=(Pe*lt-re*Rt)/Oe,en=(-fe*lt+j*Rt)/Oe;return h.getZ()+Tt*(m.getZ()-h.getZ())+en*(S.getZ()-h.getZ())}},{key:"longestSideLength",value:function(u,h,m){var S=u.distance(h),A=h.distance(m),F=m.distance(u),j=S;return A>j&&(j=A),F>j&&(j=F),j}},{key:"circumcentreDD",value:function(u,h,m){var S=nt.valueOf(u.x).subtract(m.x),A=nt.valueOf(u.y).subtract(m.y),F=nt.valueOf(h.x).subtract(m.x),j=nt.valueOf(h.y).subtract(m.y),re=nt.determinant(S,A,F,j).multiply(2),fe=S.sqr().add(A.sqr()),Pe=F.sqr().add(j.sqr()),Oe=nt.determinant(A,fe,j,Pe),lt=nt.determinant(S,fe,F,Pe),Rt=nt.valueOf(m.x).subtract(Oe.divide(re)).doubleValue(),Tt=nt.valueOf(m.y).add(lt.divide(re)).doubleValue();return new ue(Rt,Tt)}},{key:"isAcute",value:function(u,h,m){return!!zr.isAcute(u,h,m)&&!!zr.isAcute(h,m,u)&&!!zr.isAcute(m,u,h)}},{key:"circumcentre",value:function(u,h,m){var S=m.x,A=m.y,F=u.x-S,j=u.y-A,re=h.x-S,fe=h.y-A,Pe=2*C.det(F,j,re,fe),Oe=C.det(j,F*F+j*j,fe,re*re+fe*fe),lt=C.det(F,F*F+j*j,re,re*re+fe*fe);return new ue(S-Oe/Pe,A+lt/Pe)}},{key:"perpendicularBisector",value:function(u,h){var m=h.x-u.x,S=h.y-u.y,A=new sm(u.x+m/2,u.y+S/2,1),F=new sm(u.x-S+m/2,u.y+m+S/2,1);return new sm(A,F)}},{key:"angleBisector",value:function(u,h,m){var S=h.distance(u),A=S/(S+h.distance(m)),F=m.x-u.x,j=m.y-u.y;return new ue(u.x+A*F,u.y+A*j)}},{key:"area3D",value:function(u,h,m){var S=h.x-u.x,A=h.y-u.y,F=h.getZ()-u.getZ(),j=m.x-u.x,re=m.y-u.y,fe=m.getZ()-u.getZ(),Pe=A*fe-F*re,Oe=F*j-S*fe,lt=S*re-A*j,Rt=Pe*Pe+Oe*Oe+lt*lt,Tt=Math.sqrt(Rt)/2;return Tt}},{key:"centroid",value:function(u,h,m){var S=(u.x+h.x+m.x)/3,A=(u.y+h.y+m.y)/3;return new ue(S,A)}},{key:"inCentre",value:function(u,h,m){var S=h.distance(m),A=u.distance(m),F=u.distance(h),j=S+A+F,re=(S*u.x+A*h.x+F*m.x)/j,fe=(S*u.y+A*h.y+F*m.y)/j;return new ue(re,fe)}}]),C}(),hR=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"addRingSide",value:function(u,h,m,S,A){if(h===0&&u.length<ai.MINIMUM_VALID_SIZE)return null;var F=S,j=A;u.length>=ai.MINIMUM_VALID_SIZE&&xt.isCCW(u)&&(F=A,j=S,m=ne.opposite(m));var re=this._curveBuilder.getRingCurve(u,m,h);this.addCurve(re,F,j)}},{key:"addRingBothSides",value:function(u,h){this.addRingSide(u,h,ne.LEFT,G.EXTERIOR,G.INTERIOR),this.addRingSide(u,h,ne.RIGHT,G.INTERIOR,G.EXTERIOR)}},{key:"addPoint",value:function(u){if(this._distance<=0)return null;var h=u.getCoordinates(),m=this._curveBuilder.getLineCurve(h,this._distance);this.addCurve(m,G.EXTERIOR,G.INTERIOR)}},{key:"addPolygon",value:function(u){var h=this._distance,m=ne.LEFT;this._distance<0&&(h=-this._distance,m=ne.RIGHT);var S=u.getExteriorRing(),A=$e.removeRepeatedPoints(S.getCoordinates());if(this._distance<0&&this.isErodedCompletely(S,this._distance)||this._distance<=0&&A.length<3)return null;this.addRingSide(A,h,m,G.EXTERIOR,G.INTERIOR);for(var F=0;F<u.getNumInteriorRing();F++){var j=u.getInteriorRingN(F),re=$e.removeRepeatedPoints(j.getCoordinates());this._distance>0&&this.isErodedCompletely(j,-this._distance)||this.addRingSide(re,h,ne.opposite(m),G.INTERIOR,G.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(u,h){var m=new fR(u[0],u[1],u[2]),S=m.inCentre();return ve.pointToSegment(S,m.p0,m.p1)<Math.abs(h)}},{key:"addLineString",value:function(u){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var h=$e.removeRepeatedPoints(u.getCoordinates());if($e.isRing(h)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(h,this._distance);else{var m=this._curveBuilder.getLineCurve(h,this._distance);this.addCurve(m,G.EXTERIOR,G.INTERIOR)}}},{key:"addCurve",value:function(u,h,m){if(u===null||u.length<2)return null;var S=new Fo(u,new Sr(0,G.BOUNDARY,h,m));this._curveList.add(S)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(u){if(u.isEmpty())return null;if(u instanceof mi)this.addPolygon(u);else if(u instanceof mn)this.addLineString(u);else if(u instanceof fi)this.addPoint(u);else if(u instanceof Ri)this.addCollection(u);else if(u instanceof On)this.addCollection(u);else if(u instanceof ln)this.addCollection(u);else{if(!(u instanceof dn))throw new at(u.getGeometryType());this.addCollection(u)}}},{key:"isErodedCompletely",value:function(u,h){var m=u.getCoordinates();if(m.length<4)return h<0;if(m.length===4)return this.isTriangleErodedCompletely(m,h);var S=u.getEnvelopeInternal(),A=Math.min(S.getHeight(),S.getWidth());return h<0&&2*Math.abs(h)>A}},{key:"addCollection",value:function(u){for(var h=0;h<u.getNumGeometries();h++){var m=u.getGeometryN(h);this.add(m)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new be;var u=arguments[0],h=arguments[1],m=arguments[2];this._inputGeom=u,this._distance=h,this._curveBuilder=m}}]),C}(),pR=function(){function C(){n(this,C)}return r(C,[{key:"locate",value:function(u){}}]),C}(),mR=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,C.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new Je;var u=this._parent.getGeometryN(this._index++);return u instanceof dn?(this._subcollectionIterator=new C(u),this._subcollectionIterator.next()):u}},{key:"remove",value:function(){throw new at(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[rR]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var u=arguments[0];this._parent=u,this._atStart=!0,this._index=0,this._max=u.getNumGeometries()}},{key:"isAtomic",value:function(u){return!(u instanceof dn)}}]),C}(),vR=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"locate",value:function(u){return C.locate(u,this._geom)}},{key:"interfaces_",get:function(){return[pR]}}],[{key:"constructor_",value:function(){this._geom=null;var u=arguments[0];this._geom=u}},{key:"locatePointInPolygon",value:function(u,h){if(h.isEmpty())return G.EXTERIOR;var m=h.getExteriorRing(),S=C.locatePointInRing(u,m);if(S!==G.INTERIOR)return S;for(var A=0;A<h.getNumInteriorRing();A++){var F=h.getInteriorRingN(A),j=C.locatePointInRing(u,F);if(j===G.BOUNDARY)return G.BOUNDARY;if(j===G.INTERIOR)return G.EXTERIOR}return G.INTERIOR}},{key:"locatePointInRing",value:function(u,h){return h.getEnvelopeInternal().intersects(u)?Dl.locateInRing(u,h.getCoordinates()):G.EXTERIOR}},{key:"containsPointInPolygon",value:function(u,h){return G.EXTERIOR!==C.locatePointInPolygon(u,h)}},{key:"locateInGeometry",value:function(u,h){if(h instanceof mi)return C.locatePointInPolygon(u,h);if(h instanceof dn)for(var m=new mR(h);m.hasNext();){var S=m.next();if(S!==h){var A=C.locateInGeometry(u,S);if(A!==G.EXTERIOR)return A}}return G.EXTERIOR}},{key:"isContained",value:function(u,h){return G.EXTERIOR!==C.locate(u,h)}},{key:"locate",value:function(u,h){return h.isEmpty()?G.EXTERIOR:h.getEnvelopeInternal().intersects(u)?C.locateInGeometry(u,h):G.EXTERIOR}}]),C}(),gR=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"getNextCW",value:function(u){this.getEdges();var h=this._edgeList.indexOf(u),m=h-1;return h===0&&(m=this._edgeList.size()-1),this._edgeList.get(m)}},{key:"propagateSideLabels",value:function(u){for(var h=G.NONE,m=this.iterator();m.hasNext();){var S=m.next().getLabel();S.isArea(u)&&S.getLocation(u,ne.LEFT)!==G.NONE&&(h=S.getLocation(u,ne.LEFT))}if(h===G.NONE)return null;for(var A=h,F=this.iterator();F.hasNext();){var j=F.next(),re=j.getLabel();if(re.getLocation(u,ne.ON)===G.NONE&&re.setLocation(u,ne.ON,A),re.isArea(u)){var fe=re.getLocation(u,ne.LEFT),Pe=re.getLocation(u,ne.RIGHT);if(Pe!==G.NONE){if(Pe!==A)throw new ze("side location conflict",j.getCoordinate());fe===G.NONE&&le.shouldNeverReachHere("found single null side (at "+j.getCoordinate()+")"),A=fe}else le.isTrue(re.getLocation(u,ne.LEFT)===G.NONE,"found single null side"),re.setLocation(u,ne.RIGHT,A),re.setLocation(u,ne.LEFT,A)}}}},{key:"getCoordinate",value:function(){var u=this.iterator();return u.hasNext()?u.next().getCoordinate():null}},{key:"print",value:function(u){Ce.out.println("EdgeEndStar:   "+this.getCoordinate());for(var h=this.iterator();h.hasNext();)h.next().print(u)}},{key:"isAreaLabelsConsistent",value:function(u){return this.computeEdgeEndLabels(u.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(u){var h=this.getEdges();if(h.size()<=0)return!0;var m=h.size()-1,S=h.get(m).getLabel().getLocation(u,ne.LEFT);le.isTrue(S!==G.NONE,"Found unlabelled area edge");for(var A=S,F=this.iterator();F.hasNext();){var j=F.next().getLabel();le.isTrue(j.isArea(u),"Found non-area edge");var re=j.getLocation(u,ne.LEFT),fe=j.getLocation(u,ne.RIGHT);if(re===fe||fe!==A)return!1;A=re}return!0}},{key:"findIndex",value:function(u){this.iterator();for(var h=0;h<this._edgeList.size();h++)if(this._edgeList.get(h)===u)return h;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return this._edgeList===null&&(this._edgeList=new be(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(u,h,m){return this._ptInAreaLocation[u]===G.NONE&&(this._ptInAreaLocation[u]=vR.locate(h,m[u].getGeometry())),this._ptInAreaLocation[u]}},{key:"toString",value:function(){var u=new Re;u.append("EdgeEndStar:   "+this.getCoordinate()),u.append(`
`);for(var h=this.iterator();h.hasNext();){var m=h.next();u.append(m),u.append(`
`)}return u.toString()}},{key:"computeEdgeEndLabels",value:function(u){for(var h=this.iterator();h.hasNext();)h.next().computeLabel(u)}},{key:"computeLabelling",value:function(u){this.computeEdgeEndLabels(u[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var h=[!1,!1],m=this.iterator();m.hasNext();)for(var S=m.next().getLabel(),A=0;A<2;A++)S.isLine(A)&&S.getLocation(A)===G.BOUNDARY&&(h[A]=!0);for(var F=this.iterator();F.hasNext();)for(var j=F.next(),re=j.getLabel(),fe=0;fe<2;fe++)if(re.isAnyNull(fe)){var Pe=G.NONE;if(h[fe])Pe=G.EXTERIOR;else{var Oe=j.getCoordinate();Pe=this.getLocation(fe,Oe,u)}re.setAllLocationsIfNull(fe,Pe)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(u,h){this._edgeMap.put(u,h),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new No,this._edgeList=null,this._ptInAreaLocation=[G.NONE,G.NONE]}}]),C}(),yR=function(C){s(h,C);var u=g(h);function h(){var m;return n(this,h),m=u.call(this),h.constructor_.apply(p(m),arguments),m}return r(h,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var m=null,S=null,A=this._SCANNING_FOR_INCOMING,F=0;F<this._resultAreaEdgeList.size();F++){var j=this._resultAreaEdgeList.get(F),re=j.getSym();if(j.getLabel().isArea())switch(m===null&&j.isInResult()&&(m=j),A){case this._SCANNING_FOR_INCOMING:if(!re.isInResult())continue;S=re,A=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!j.isInResult())continue;S.setNext(j),A=this._SCANNING_FOR_INCOMING}}if(A===this._LINKING_TO_OUTGOING){if(m===null)throw new ze("no outgoing dirEdge found",this.getCoordinate());le.isTrue(m.isInResult(),"unable to link last incoming dirEdge"),S.setNext(m)}}},{key:"insert",value:function(m){var S=m;this.insertEdgeEnd(S,S)}},{key:"getRightmostEdge",value:function(){var m=this.getEdges(),S=m.size();if(S<1)return null;var A=m.get(0);if(S===1)return A;var F=m.get(S-1),j=A.getQuadrant(),re=F.getQuadrant();return ge.isNorthern(j)&&ge.isNorthern(re)?A:ge.isNorthern(j)||ge.isNorthern(re)?A.getDy()!==0?A:F.getDy()!==0?F:(le.shouldNeverReachHere("found two horizontal edges incident on node"),null):F}},{key:"print",value:function(m){Ce.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var S=this.iterator();S.hasNext();){var A=S.next();m.print("out "),A.print(m),m.println(),m.print("in "),A.getSym().print(m),m.println()}}},{key:"getResultAreaEdges",value:function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new be;for(var m=this.iterator();m.hasNext();){var S=m.next();(S.isInResult()||S.getSym().isInResult())&&this._resultAreaEdgeList.add(S)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(m){for(var S=this.iterator();S.hasNext();){var A=S.next().getLabel();A.setAllLocationsIfNull(0,m.getLocation(0)),A.setAllLocationsIfNull(1,m.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var m=null,S=null,A=this._edgeList.size()-1;A>=0;A--){var F=this._edgeList.get(A),j=F.getSym();S===null&&(S=j),m!==null&&j.setNext(m),m=F}S.setNext(m)}},{key:"computeDepths",value:function(){if(arguments.length===1){var m=arguments[0],S=this.findIndex(m),A=m.getDepth(ne.LEFT),F=m.getDepth(ne.RIGHT),j=this.computeDepths(S+1,this._edgeList.size(),A),re=this.computeDepths(0,S,j);if(re!==F)throw new ze("depth mismatch at "+m.getCoordinate())}else if(arguments.length===3){for(var fe=arguments[0],Pe=arguments[1],Oe=arguments[2],lt=Oe,Rt=fe;Rt<Pe;Rt++){var Tt=this._edgeList.get(Rt);Tt.setEdgeDepths(ne.RIGHT,lt),lt=Tt.getDepth(ne.LEFT)}return lt}}},{key:"mergeSymLabels",value:function(){for(var m=this.iterator();m.hasNext();){var S=m.next();S.getLabel().merge(S.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(m){for(var S=null,A=null,F=this._SCANNING_FOR_INCOMING,j=this._resultAreaEdgeList.size()-1;j>=0;j--){var re=this._resultAreaEdgeList.get(j),fe=re.getSym();switch(S===null&&re.getEdgeRing()===m&&(S=re),F){case this._SCANNING_FOR_INCOMING:if(fe.getEdgeRing()!==m)continue;A=fe,F=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(re.getEdgeRing()!==m)continue;A.setNextMin(re),F=this._SCANNING_FOR_INCOMING}}F===this._LINKING_TO_OUTGOING&&(le.isTrue(S!==null,"found null for first outgoing dirEdge"),le.isTrue(S.getEdgeRing()===m,"unable to link last incoming dirEdge"),A.setNextMin(S))}},{key:"getOutgoingDegree",value:function(){if(arguments.length===0){for(var m=0,S=this.iterator();S.hasNext();){var A=S.next();A.isInResult()&&m++}return m}if(arguments.length===1){for(var F=arguments[0],j=0,re=this.iterator();re.hasNext();){var fe=re.next();fe.getEdgeRing()===F&&j++}return j}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var m=G.NONE,S=this.iterator();S.hasNext();){var A=S.next(),F=A.getSym();if(!A.isLineEdge()){if(A.isInResult()){m=G.INTERIOR;break}if(F.isInResult()){m=G.EXTERIOR;break}}}if(m===G.NONE)return null;for(var j=m,re=this.iterator();re.hasNext();){var fe=re.next(),Pe=fe.getSym();fe.isLineEdge()?fe.getEdge().setCovered(j===G.INTERIOR):(fe.isInResult()&&(j=G.EXTERIOR),Pe.isInResult()&&(j=G.INTERIOR))}}},{key:"computeLabelling",value:function(m){y(a(h.prototype),"computeLabelling",this).call(this,m),this._label=new Sr(G.NONE);for(var S=this.iterator();S.hasNext();)for(var A=S.next().getEdge().getLabel(),F=0;F<2;F++){var j=A.getLocation(F);j!==G.INTERIOR&&j!==G.BOUNDARY||this._label.setLocation(F,G.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}]),h}(gR),_R=function(C){s(h,C);var u=g(h);function h(){return n(this,h),u.call(this)}return r(h,[{key:"createNode",value:function(m){return new Fl(m,new yR)}}]),h}(Zt),eb=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"compareTo",value:function(u){var h=u;return C.compareOriented(this._pts,this._orientation,h._pts,h._orientation)}},{key:"interfaces_",get:function(){return[I]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var u=arguments[0];this._pts=u,this._orientation=C.orientation(u)}},{key:"orientation",value:function(u){return $e.increasingDirection(u)===1}},{key:"compareOriented",value:function(u,h,m,S){for(var A=h?1:-1,F=S?1:-1,j=h?u.length:-1,re=S?m.length:-1,fe=h?0:u.length-1,Pe=S?0:m.length-1;;){var Oe=u[fe].compareTo(m[Pe]);if(Oe!==0)return Oe;var lt=(fe+=A)===j,Rt=(Pe+=F)===re;if(lt&&!Rt)return-1;if(!lt&&Rt)return 1;if(lt&&Rt)return 0}}}]),C}(),bR=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"print",value:function(u){u.print("MULTILINESTRING ( ");for(var h=0;h<this._edges.size();h++){var m=this._edges.get(h);h>0&&u.print(","),u.print("(");for(var S=m.getCoordinates(),A=0;A<S.length;A++)A>0&&u.print(","),u.print(S[A].x+" "+S[A].y);u.println(")")}u.print(")  ")}},{key:"addAll",value:function(u){for(var h=u.iterator();h.hasNext();)this.add(h.next())}},{key:"findEdgeIndex",value:function(u){for(var h=0;h<this._edges.size();h++)if(this._edges.get(h).equals(u))return h;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(u){return this._edges.get(u)}},{key:"findEqualEdge",value:function(u){var h=new eb(u.getCoordinates());return this._ocaMap.get(h)}},{key:"add",value:function(u){this._edges.add(u);var h=new eb(u.getCoordinates());this._ocaMap.put(h,u)}}],[{key:"constructor_",value:function(){this._edges=new be,this._ocaMap=new No}}]),C}(),tb=function(){function C(){n(this,C)}return r(C,[{key:"processIntersections",value:function(u,h,m,S){}},{key:"isDone",value:function(){}}]),C}(),wR=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"isTrivialIntersection",value:function(u,h,m,S){if(u===m&&this._li.getIntersectionNum()===1){if(C.isAdjacentSegments(h,S))return!0;if(u.isClosed()){var A=u.size()-1;if(h===0&&S===A||S===0&&h===A)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(u,h,m,S){if(u===m&&h===S)return null;this.numTests++;var A=u.getCoordinates()[h],F=u.getCoordinates()[h+1],j=m.getCoordinates()[S],re=m.getCoordinates()[S+1];this._li.computeIntersection(A,F,j,re),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(u,h,m,S)||(this._hasIntersection=!0,u.addIntersections(this._li,h,0),m.addIntersections(this._li,S,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[tb]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var u=arguments[0];this._li=u}},{key:"isAdjacentSegments",value:function(u,h){return Math.abs(u-h)===1}}]),C}(),SR=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(u){u.print(this.coord),u.print(" seg # = "+this.segmentIndex),u.println(" dist = "+this.dist)}},{key:"compareTo",value:function(u){var h=u;return this.compare(h.segmentIndex,h.dist)}},{key:"isEndPoint",value:function(u){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===u}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(u,h){return this.segmentIndex<u?-1:this.segmentIndex>u?1:this.dist<h?-1:this.dist>h?1:0}},{key:"interfaces_",get:function(){return[I]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var u=arguments[0],h=arguments[1],m=arguments[2];this.coord=new ue(u),this.segmentIndex=h,this.dist=m}}]),C}(),ER=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"print",value:function(u){u.println("Intersections:");for(var h=this.iterator();h.hasNext();)h.next().print(u)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(u){this.addEndpoints();for(var h=this.iterator(),m=h.next();h.hasNext();){var S=h.next(),A=this.createSplitEdge(m,S);u.add(A),m=S}}},{key:"addEndpoints",value:function(){var u=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[u],u,0)}},{key:"createSplitEdge",value:function(u,h){var m=h.segmentIndex-u.segmentIndex+2,S=this.edge.pts[h.segmentIndex],A=h.dist>0||!h.coord.equals2D(S);A||m--;var F=new Array(m).fill(null),j=0;F[j++]=new ue(u.coord);for(var re=u.segmentIndex+1;re<=h.segmentIndex;re++)F[j++]=this.edge.pts[re];return A&&(F[j]=h.coord),new ib(F,new Sr(this.edge._label))}},{key:"add",value:function(u,h,m){var S=new SR(u,h,m),A=this._nodeMap.get(S);return A!==null?A:(this._nodeMap.put(S,S),S)}},{key:"isIntersection",value:function(u){for(var h=this.iterator();h.hasNext();)if(h.next().coord.equals(u))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new No,this.edge=null;var u=arguments[0];this.edge=u}}]),C}(),CR=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(C.isTrue(this._matrix[G.INTERIOR][G.INTERIOR])||C.isTrue(this._matrix[G.INTERIOR][G.BOUNDARY])||C.isTrue(this._matrix[G.BOUNDARY][G.INTERIOR])||C.isTrue(this._matrix[G.BOUNDARY][G.BOUNDARY]))&&this._matrix[G.EXTERIOR][G.INTERIOR]===ht.FALSE&&this._matrix[G.EXTERIOR][G.BOUNDARY]===ht.FALSE}},{key:"isCoveredBy",value:function(){return(C.isTrue(this._matrix[G.INTERIOR][G.INTERIOR])||C.isTrue(this._matrix[G.INTERIOR][G.BOUNDARY])||C.isTrue(this._matrix[G.BOUNDARY][G.INTERIOR])||C.isTrue(this._matrix[G.BOUNDARY][G.BOUNDARY]))&&this._matrix[G.INTERIOR][G.EXTERIOR]===ht.FALSE&&this._matrix[G.BOUNDARY][G.EXTERIOR]===ht.FALSE}},{key:"set",value:function(){if(arguments.length===1)for(var u=arguments[0],h=0;h<u.length;h++){var m=Math.trunc(h/3),S=h%3;this._matrix[m][S]=ht.toDimensionValue(u.charAt(h))}else if(arguments.length===3){var A=arguments[0],F=arguments[1],j=arguments[2];this._matrix[A][F]=j}}},{key:"isContains",value:function(){return C.isTrue(this._matrix[G.INTERIOR][G.INTERIOR])&&this._matrix[G.EXTERIOR][G.INTERIOR]===ht.FALSE&&this._matrix[G.EXTERIOR][G.BOUNDARY]===ht.FALSE}},{key:"setAtLeast",value:function(){if(arguments.length===1)for(var u=arguments[0],h=0;h<u.length;h++){var m=Math.trunc(h/3),S=h%3;this.setAtLeast(m,S,ht.toDimensionValue(u.charAt(h)))}else if(arguments.length===3){var A=arguments[0],F=arguments[1],j=arguments[2];this._matrix[A][F]<j&&(this._matrix[A][F]=j)}}},{key:"setAtLeastIfValid",value:function(u,h,m){u>=0&&h>=0&&this.setAtLeast(u,h,m)}},{key:"isWithin",value:function(){return C.isTrue(this._matrix[G.INTERIOR][G.INTERIOR])&&this._matrix[G.INTERIOR][G.EXTERIOR]===ht.FALSE&&this._matrix[G.BOUNDARY][G.EXTERIOR]===ht.FALSE}},{key:"isTouches",value:function(u,h){return u>h?this.isTouches(h,u):(u===ht.A&&h===ht.A||u===ht.L&&h===ht.L||u===ht.L&&h===ht.A||u===ht.P&&h===ht.A||u===ht.P&&h===ht.L)&&this._matrix[G.INTERIOR][G.INTERIOR]===ht.FALSE&&(C.isTrue(this._matrix[G.INTERIOR][G.BOUNDARY])||C.isTrue(this._matrix[G.BOUNDARY][G.INTERIOR])||C.isTrue(this._matrix[G.BOUNDARY][G.BOUNDARY]))}},{key:"isOverlaps",value:function(u,h){return u===ht.P&&h===ht.P||u===ht.A&&h===ht.A?C.isTrue(this._matrix[G.INTERIOR][G.INTERIOR])&&C.isTrue(this._matrix[G.INTERIOR][G.EXTERIOR])&&C.isTrue(this._matrix[G.EXTERIOR][G.INTERIOR]):u===ht.L&&h===ht.L&&this._matrix[G.INTERIOR][G.INTERIOR]===1&&C.isTrue(this._matrix[G.INTERIOR][G.EXTERIOR])&&C.isTrue(this._matrix[G.EXTERIOR][G.INTERIOR])}},{key:"isEquals",value:function(u,h){return u===h&&C.isTrue(this._matrix[G.INTERIOR][G.INTERIOR])&&this._matrix[G.INTERIOR][G.EXTERIOR]===ht.FALSE&&this._matrix[G.BOUNDARY][G.EXTERIOR]===ht.FALSE&&this._matrix[G.EXTERIOR][G.INTERIOR]===ht.FALSE&&this._matrix[G.EXTERIOR][G.BOUNDARY]===ht.FALSE}},{key:"toString",value:function(){for(var u=new qt("123456789"),h=0;h<3;h++)for(var m=0;m<3;m++)u.setCharAt(3*h+m,ht.toDimensionSymbol(this._matrix[h][m]));return u.toString()}},{key:"setAll",value:function(u){for(var h=0;h<3;h++)for(var m=0;m<3;m++)this._matrix[h][m]=u}},{key:"get",value:function(u,h){return this._matrix[u][h]}},{key:"transpose",value:function(){var u=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=u,u=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=u,u=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=u,this}},{key:"matches",value:function(u){if(u.length!==9)throw new T("Should be length 9: "+u);for(var h=0;h<3;h++)for(var m=0;m<3;m++)if(!C.matches(this._matrix[h][m],u.charAt(3*h+m)))return!1;return!0}},{key:"add",value:function(u){for(var h=0;h<3;h++)for(var m=0;m<3;m++)this.setAtLeast(h,m,u.get(h,m))}},{key:"isDisjoint",value:function(){return this._matrix[G.INTERIOR][G.INTERIOR]===ht.FALSE&&this._matrix[G.INTERIOR][G.BOUNDARY]===ht.FALSE&&this._matrix[G.BOUNDARY][G.INTERIOR]===ht.FALSE&&this._matrix[G.BOUNDARY][G.BOUNDARY]===ht.FALSE}},{key:"isCrosses",value:function(u,h){return u===ht.P&&h===ht.L||u===ht.P&&h===ht.A||u===ht.L&&h===ht.A?C.isTrue(this._matrix[G.INTERIOR][G.INTERIOR])&&C.isTrue(this._matrix[G.INTERIOR][G.EXTERIOR]):u===ht.L&&h===ht.P||u===ht.A&&h===ht.P||u===ht.A&&h===ht.L?C.isTrue(this._matrix[G.INTERIOR][G.INTERIOR])&&C.isTrue(this._matrix[G.EXTERIOR][G.INTERIOR]):u===ht.L&&h===ht.L&&this._matrix[G.INTERIOR][G.INTERIOR]===0}},{key:"interfaces_",get:function(){return[O]}}],[{key:"constructor_",value:function(){if(this._matrix=null,arguments.length===0)this._matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(ht.FALSE);else if(arguments.length===1){if(typeof arguments[0]=="string"){var u=arguments[0];C.constructor_.call(this),this.set(u)}else if(arguments[0]instanceof C){var h=arguments[0];C.constructor_.call(this),this._matrix[G.INTERIOR][G.INTERIOR]=h._matrix[G.INTERIOR][G.INTERIOR],this._matrix[G.INTERIOR][G.BOUNDARY]=h._matrix[G.INTERIOR][G.BOUNDARY],this._matrix[G.INTERIOR][G.EXTERIOR]=h._matrix[G.INTERIOR][G.EXTERIOR],this._matrix[G.BOUNDARY][G.INTERIOR]=h._matrix[G.BOUNDARY][G.INTERIOR],this._matrix[G.BOUNDARY][G.BOUNDARY]=h._matrix[G.BOUNDARY][G.BOUNDARY],this._matrix[G.BOUNDARY][G.EXTERIOR]=h._matrix[G.BOUNDARY][G.EXTERIOR],this._matrix[G.EXTERIOR][G.INTERIOR]=h._matrix[G.EXTERIOR][G.INTERIOR],this._matrix[G.EXTERIOR][G.BOUNDARY]=h._matrix[G.EXTERIOR][G.BOUNDARY],this._matrix[G.EXTERIOR][G.EXTERIOR]=h._matrix[G.EXTERIOR][G.EXTERIOR]}}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&typeof arguments[1]=="string"){var u=arguments[0],h=arguments[1];return h===ht.SYM_DONTCARE||h===ht.SYM_TRUE&&(u>=0||u===ht.TRUE)||h===ht.SYM_FALSE&&u===ht.FALSE||h===ht.SYM_P&&u===ht.P||h===ht.SYM_L&&u===ht.L||h===ht.SYM_A&&u===ht.A}if(typeof arguments[0]=="string"&&typeof arguments[1]=="string"){var m=arguments[0],S=arguments[1],A=new C(m);return A.matches(S)}}},{key:"isTrue",value:function(u){return u>=0||u===ht.TRUE}}]),C}(),xR=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(u){return u===null||u.length===0?null:(this.ensureCapacity(this._size+u.length),Ce.arraycopy(u,0,this._data,this._size,u.length),void(this._size+=u.length))}},{key:"ensureCapacity",value:function(u){if(u<=this._data.length)return null;var h=Math.max(u,2*this._data.length);this._data=lr.copyOf(this._data,h)}},{key:"toArray",value:function(){var u=new Array(this._size).fill(null);return Ce.arraycopy(this._data,0,u,0,this._size),u}},{key:"add",value:function(u){this.ensureCapacity(this._size+1),this._data[this._size]=u,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,arguments.length===0)C.constructor_.call(this,10);else if(arguments.length===1){var u=arguments[0];this._data=new Array(u).fill(null)}}}]),C}(),MR=function(){function C(){n(this,C)}return r(C,[{key:"getChainStartIndices",value:function(u){var h=0,m=new xR(Math.trunc(u.length/2));m.add(h);do{var S=this.findChainEnd(u,h);m.add(S),h=S}while(h<u.length-1);return m.toArray()}},{key:"findChainEnd",value:function(u,h){for(var m=ge.quadrant(u[h],u[h+1]),S=h+1;S<u.length&&ge.quadrant(u[S-1],u[S])===m;)S++;return S-1}},{key:"OLDgetChainStartIndices",value:function(u){var h=0,m=new be;m.add(h);do{var S=this.findChainEnd(u,h);m.add(S),h=S}while(h<u.length-1);return C.toIntArray(m)}}],[{key:"toIntArray",value:function(u){for(var h=new Array(u.size()).fill(null),m=0;m<h.length;m++)h[m]=u.get(m).intValue();return h}}]),C}(),TR=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(u){var h=this.pts[this.startIndex[u]].x,m=this.pts[this.startIndex[u+1]].x;return h>m?h:m}},{key:"getMinX",value:function(u){var h=this.pts[this.startIndex[u]].x,m=this.pts[this.startIndex[u+1]].x;return h<m?h:m}},{key:"computeIntersectsForChain",value:function(){if(arguments.length===4){var u=arguments[0],h=arguments[1],m=arguments[2],S=arguments[3];this.computeIntersectsForChain(this.startIndex[u],this.startIndex[u+1],h,h.startIndex[m],h.startIndex[m+1],S)}else if(arguments.length===6){var A=arguments[0],F=arguments[1],j=arguments[2],re=arguments[3],fe=arguments[4],Pe=arguments[5];if(F-A==1&&fe-re==1)return Pe.addIntersections(this.e,A,j.e,re),null;if(!this.overlaps(A,F,j,re,fe))return null;var Oe=Math.trunc((A+F)/2),lt=Math.trunc((re+fe)/2);A<Oe&&(re<lt&&this.computeIntersectsForChain(A,Oe,j,re,lt,Pe),lt<fe&&this.computeIntersectsForChain(A,Oe,j,lt,fe,Pe)),Oe<F&&(re<lt&&this.computeIntersectsForChain(Oe,F,j,re,lt,Pe),lt<fe&&this.computeIntersectsForChain(Oe,F,j,lt,fe,Pe))}}},{key:"overlaps",value:function(u,h,m,S,A){return De.intersects(this.pts[u],this.pts[h],m.pts[S],m.pts[A])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(u,h){for(var m=0;m<this.startIndex.length-1;m++)for(var S=0;S<u.startIndex.length-1;S++)this.computeIntersectsForChain(m,u,S,h)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var u=arguments[0];this.e=u,this.pts=u.getCoordinates();var h=new MR;this.startIndex=h.getChainStartIndices(this.pts)}}]),C}(),nb=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"getDepth",value:function(u,h){return this._depth[u][h]}},{key:"setDepth",value:function(u,h,m){this._depth[u][h]=m}},{key:"isNull",value:function(){if(arguments.length===0){for(var u=0;u<2;u++)for(var h=0;h<3;h++)if(this._depth[u][h]!==C.NULL_VALUE)return!1;return!0}if(arguments.length===1){var m=arguments[0];return this._depth[m][1]===C.NULL_VALUE}if(arguments.length===2){var S=arguments[0],A=arguments[1];return this._depth[S][A]===C.NULL_VALUE}}},{key:"normalize",value:function(){for(var u=0;u<2;u++)if(!this.isNull(u)){var h=this._depth[u][1];this._depth[u][2]<h&&(h=this._depth[u][2]),h<0&&(h=0);for(var m=1;m<3;m++){var S=0;this._depth[u][m]>h&&(S=1),this._depth[u][m]=S}}}},{key:"getDelta",value:function(u){return this._depth[u][ne.RIGHT]-this._depth[u][ne.LEFT]}},{key:"getLocation",value:function(u,h){return this._depth[u][h]<=0?G.EXTERIOR:G.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(arguments.length===1)for(var u=arguments[0],h=0;h<2;h++)for(var m=1;m<3;m++){var S=u.getLocation(h,m);S!==G.EXTERIOR&&S!==G.INTERIOR||(this.isNull(h,m)?this._depth[h][m]=C.depthAtLocation(S):this._depth[h][m]+=C.depthAtLocation(S))}else if(arguments.length===3){var A=arguments[0],F=arguments[1],j=arguments[2];j===G.INTERIOR&&this._depth[A][F]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var u=0;u<2;u++)for(var h=0;h<3;h++)this._depth[u][h]=C.NULL_VALUE}},{key:"depthAtLocation",value:function(u){return u===G.EXTERIOR?0:u===G.INTERIOR?1:C.NULL_VALUE}}]),C}();nb.NULL_VALUE=-1;var ib=function(C){s(h,C);var u=g(h);function h(){var m;return n(this,h),m=u.call(this),h.constructor_.apply(p(m),arguments),m}return r(h,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var m=new Array(2).fill(null);return m[0]=this.pts[0],m[1]=this.pts[1],new h(m,Sr.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(m){this._isIsolated=m}},{key:"setName",value:function(m){this._name=m}},{key:"equals",value:function(m){if(!(m instanceof h))return!1;var S=m;if(this.pts.length!==S.pts.length)return!1;for(var A=!0,F=!0,j=this.pts.length,re=0;re<this.pts.length;re++)if(this.pts[re].equals2D(S.pts[re])||(A=!1),this.pts[re].equals2D(S.pts[--j])||(F=!1),!A&&!F)return!1;return!0}},{key:"getCoordinate",value:function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var m=arguments[0];return this.pts[m]}}},{key:"print",value:function(m){m.print("edge "+this._name+": "),m.print("LINESTRING (");for(var S=0;S<this.pts.length;S++)S>0&&m.print(","),m.print(this.pts[S].x+" "+this.pts[S].y);m.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(m){h.updateIM(this._label,m)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(m){m.print("edge "+this._name+": ");for(var S=this.pts.length-1;S>=0;S--)m.print(this.pts[S]+" ");m.println("")}},{key:"getMonotoneChainEdge",value:function(){return this._mce===null&&(this._mce=new TR(this)),this._mce}},{key:"getEnvelope",value:function(){if(this._env===null){this._env=new De;for(var m=0;m<this.pts.length;m++)this._env.expandToInclude(this.pts[m])}return this._env}},{key:"addIntersection",value:function(m,S,A,F){var j=new ue(m.getIntersection(F)),re=S,fe=m.getEdgeDistance(A,F),Pe=re+1;if(Pe<this.pts.length){var Oe=this.pts[Pe];j.equals2D(Oe)&&(re=Pe,fe=0)}this.eiList.add(j,re,fe)}},{key:"toString",value:function(){var m=new qt;m.append("edge "+this._name+": "),m.append("LINESTRING (");for(var S=0;S<this.pts.length;S++)S>0&&m.append(","),m.append(this.pts[S].x+" "+this.pts[S].y);return m.append(")  "+this._label+" "+this._depthDelta),m.toString()}},{key:"isPointwiseEqual",value:function(m){if(this.pts.length!==m.pts.length)return!1;for(var S=0;S<this.pts.length;S++)if(!this.pts[S].equals2D(m.pts[S]))return!1;return!0}},{key:"setDepthDelta",value:function(m){this._depthDelta=m}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(m,S,A){for(var F=0;F<m.getIntersectionNum();F++)this.addIntersection(m,S,A,F)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new ER(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new nb,this._depthDelta=0,arguments.length===1){var m=arguments[0];h.constructor_.call(this,m,null)}else if(arguments.length===2){var S=arguments[0],A=arguments[1];this.pts=S,this._label=A}}},{key:"updateIM",value:function(){if(!(arguments.length===2&&arguments[1]instanceof CR&&arguments[0]instanceof Sr))return y(a(h),"updateIM",this).apply(this,arguments);var m=arguments[0],S=arguments[1];S.setAtLeastIfValid(m.getLocation(0,ne.ON),m.getLocation(1,ne.ON),1),m.isArea()&&(S.setAtLeastIfValid(m.getLocation(0,ne.LEFT),m.getLocation(1,ne.LEFT),2),S.setAtLeastIfValid(m.getLocation(0,ne.RIGHT),m.getLocation(1,ne.RIGHT),2))}}]),h}(xc),rb=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"setWorkingPrecisionModel",value:function(u){this._workingPrecisionModel=u}},{key:"insertUniqueEdge",value:function(u){var h=this._edgeList.findEqualEdge(u);if(h!==null){var m=h.getLabel(),S=u.getLabel();h.isPointwiseEqual(u)||(S=new Sr(u.getLabel())).flip(),m.merge(S);var A=C.depthDelta(S),F=h.getDepthDelta()+A;h.setDepthDelta(F)}else this._edgeList.add(u),u.setDepthDelta(C.depthDelta(u.getLabel()))}},{key:"buildSubgraphs",value:function(u,h){for(var m=new be,S=u.iterator();S.hasNext();){var A=S.next(),F=A.getRightmostCoordinate(),j=new Z_(m).getDepth(F);A.computeDepth(j),A.findResultEdges(),m.add(A),h.add(A.getDirectedEdges(),A.getNodes())}}},{key:"createSubgraphs",value:function(u){for(var h=new be,m=u.getNodes().iterator();m.hasNext();){var S=m.next();if(!S.isVisited()){var A=new yt;A.create(S),h.add(A)}}return ga.sort(h,ga.reverseOrder()),h}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(u){if(this._workingNoder!==null)return this._workingNoder;var h=new rm,m=new va;return m.setPrecisionModel(u),h.setSegmentIntersector(new wR(m)),h}},{key:"buffer",value:function(u,h){var m=this._workingPrecisionModel;m===null&&(m=u.getPrecisionModel()),this._geomFact=u.getFactory();var S=new dR(m,this._bufParams),A=new hR(u,h,S).getCurves();if(A.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(A,m),this._graph=new Mi(new _R),this._graph.addEdges(this._edgeList.getEdges());var F=this.createSubgraphs(this._graph),j=new Yi(this._geomFact);this.buildSubgraphs(F,j);var re=j.getPolygons();return re.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(re)}},{key:"computeNodedEdges",value:function(u,h){var m=this.getNoder(h);m.computeNodes(u);for(var S=m.getNodedSubstrings().iterator();S.hasNext();){var A=S.next(),F=A.getCoordinates();if(F.length!==2||!F[0].equals2D(F[1])){var j=A.getData(),re=new ib(A.getCoordinates(),new Sr(j));this.insertUniqueEdge(re)}}}},{key:"setNoder",value:function(u){this._workingNoder=u}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new bR;var u=arguments[0];this._bufParams=u}},{key:"depthDelta",value:function(u){var h=u.getLocation(0,ne.LEFT),m=u.getLocation(0,ne.RIGHT);return h===G.INTERIOR&&m===G.EXTERIOR?1:h===G.EXTERIOR&&m===G.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(u){for(var h=new un,m=new be;u.hasNext();){var S=u.next(),A=h.createLineString(S.getCoordinates());m.add(A)}return h.buildGeometry(m)}}]),C}(),AR=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"rescale",value:function(){if(Ae(arguments[0],He))for(var u=arguments[0],h=u.iterator();h.hasNext();){var m=h.next();this.rescale(m.getCoordinates())}else if(arguments[0]instanceof Array){for(var S=arguments[0],A=0;A<S.length;A++)S[A].x=S[A].x/this._scaleFactor+this._offsetX,S[A].y=S[A].y/this._scaleFactor+this._offsetY;S.length===2&&S[0].equals2D(S[1])&&Ce.out.println(S)}}},{key:"scale",value:function(){if(Ae(arguments[0],He)){for(var u=arguments[0],h=new be(u.size()),m=u.iterator();m.hasNext();){var S=m.next();h.add(new Fo(this.scale(S.getCoordinates()),S.getData()))}return h}if(arguments[0]instanceof Array){for(var A=arguments[0],F=new Array(A.length).fill(null),j=0;j<A.length;j++)F[j]=new ue(Math.round((A[j].x-this._offsetX)*this._scaleFactor),Math.round((A[j].y-this._offsetY)*this._scaleFactor),A[j].getZ());var re=$e.removeRepeatedPoints(F);return re}}},{key:"isIntegerPrecision",value:function(){return this._scaleFactor===1}},{key:"getNodedSubstrings",value:function(){var u=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(u),u}},{key:"computeNodes",value:function(u){var h=u;this._isScaled&&(h=this.scale(u)),this._noder.computeNodes(h)}},{key:"interfaces_",get:function(){return[im]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var u=arguments[0],h=arguments[1];C.constructor_.call(this,u,h,0,0)}else if(arguments.length===4){var m=arguments[0],S=arguments[1];this._noder=m,this._scaleFactor=S,this._isScaled=!this.isIntegerPrecision()}}}]),C}(),sb=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"checkEndPtVertexIntersections",value:function(){if(arguments.length===0)for(var u=this._segStrings.iterator();u.hasNext();){var h=u.next(),m=h.getCoordinates();this.checkEndPtVertexIntersections(m[0],this._segStrings),this.checkEndPtVertexIntersections(m[m.length-1],this._segStrings)}else if(arguments.length===2){for(var S=arguments[0],A=arguments[1],F=A.iterator();F.hasNext();)for(var j=F.next(),re=j.getCoordinates(),fe=1;fe<re.length-1;fe++)if(re[fe].equals(S))throw new ce("found endpt/interior pt intersection at index "+fe+" :pt "+S)}}},{key:"checkInteriorIntersections",value:function(){if(arguments.length===0)for(var u=this._segStrings.iterator();u.hasNext();)for(var h=u.next(),m=this._segStrings.iterator();m.hasNext();){var S=m.next();this.checkInteriorIntersections(h,S)}else if(arguments.length===2)for(var A=arguments[0],F=arguments[1],j=A.getCoordinates(),re=F.getCoordinates(),fe=0;fe<j.length-1;fe++)for(var Pe=0;Pe<re.length-1;Pe++)this.checkInteriorIntersections(A,fe,F,Pe);else if(arguments.length===4){var Oe=arguments[0],lt=arguments[1],Rt=arguments[2],Tt=arguments[3];if(Oe===Rt&&lt===Tt)return null;var en=Oe.getCoordinates()[lt],sn=Oe.getCoordinates()[lt+1],hn=Rt.getCoordinates()[Tt],Dn=Rt.getCoordinates()[Tt+1];if(this._li.computeIntersection(en,sn,hn,Dn),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,en,sn)||this.hasInteriorIntersection(this._li,hn,Dn)))throw new ce("found non-noded intersection at "+en+"-"+sn+" and "+hn+"-"+Dn)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(arguments.length===0)for(var u=this._segStrings.iterator();u.hasNext();){var h=u.next();this.checkCollapses(h)}else if(arguments.length===1)for(var m=arguments[0],S=m.getCoordinates(),A=0;A<S.length-2;A++)this.checkCollapse(S[A],S[A+1],S[A+2])}},{key:"hasInteriorIntersection",value:function(u,h,m){for(var S=0;S<u.getIntersectionNum();S++){var A=u.getIntersection(S);if(!A.equals(h)&&!A.equals(m))return!0}return!1}},{key:"checkCollapse",value:function(u,h,m){if(u.equals(m))throw new ce("found non-noded collapse at "+C.fact.createLineString([u,h,m]))}}],[{key:"constructor_",value:function(){this._li=new va,this._segStrings=null;var u=arguments[0];this._segStrings=u}}]),C}();sb.fact=new un;var am=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"intersectsScaled",value:function(u,h){var m=Math.min(u.x,h.x),S=Math.max(u.x,h.x),A=Math.min(u.y,h.y),F=Math.max(u.y,h.y),j=this._maxx<m||this._minx>S||this._maxy<A||this._miny>F;if(j)return!1;var re=this.intersectsToleranceSquare(u,h);return le.isTrue(!(j&&re),"Found bad envelope test"),re}},{key:"initCorners",value:function(u){var h=.5;this._minx=u.x-h,this._maxx=u.x+h,this._miny=u.y-h,this._maxy=u.y+h,this._corner[0]=new ue(this._maxx,this._maxy),this._corner[1]=new ue(this._minx,this._maxy),this._corner[2]=new ue(this._minx,this._miny),this._corner[3]=new ue(this._maxx,this._miny)}},{key:"intersects",value:function(u,h){return this._scaleFactor===1?this.intersectsScaled(u,h):(this.copyScaled(u,this._p0Scaled),this.copyScaled(h,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(u){return Math.round(u*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(u,h){h.x=this.scale(u.x),h.y=this.scale(u.y)}},{key:"getSafeEnvelope",value:function(){if(this._safeEnv===null){var u=C.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new De(this._originalPt.x-u,this._originalPt.x+u,this._originalPt.y-u,this._originalPt.y+u)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(u,h){return this._li.computeIntersection(u,h,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(u,h,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(u,h,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(u,h,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))}},{key:"intersectsToleranceSquare",value:function(u,h){var m=!1,S=!1;return this._li.computeIntersection(u,h,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(u,h,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(m=!0),this._li.computeIntersection(u,h,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(S=!0),this._li.computeIntersection(u,h,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!m||!S)||!!u.equals(this._pt)||!!h.equals(this._pt))))}},{key:"addSnappedNode",value:function(u,h){var m=u.getCoordinate(h),S=u.getCoordinate(h+1);return!!this.intersects(m,S)&&(u.addIntersection(this.getCoordinate(),h),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var u=arguments[0],h=arguments[1],m=arguments[2];if(this._originalPt=u,this._pt=u,this._scaleFactor=h,this._li=m,h<=0)throw new T("Scale factor must be non-zero");h!==1&&(this._pt=new ue(this.scale(u.x),this.scale(u.y)),this._p0Scaled=new ue,this._p1Scaled=new ue),this.initCorners(this._pt)}}]),C}();am.SAFE_ENV_EXPANSION_FACTOR=.75;var kR=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"select",value:function(){if(arguments.length!==1){if(arguments.length===2){var u=arguments[0],h=arguments[1];u.getLineSegment(h,this.selectedSegment),this.select(this.selectedSegment)}}}}],[{key:"constructor_",value:function(){this.selectedSegment=new Vr}}]),C}(),ab=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"snap",value:function(){if(arguments.length===1){var u=arguments[0];return this.snap(u,null,-1)}if(arguments.length===3){var h=arguments[0],m=arguments[1],S=arguments[2],A=h.getSafeEnvelope(),F=new ob(h,m,S);return this._index.query(A,new(function(){function j(){n(this,j)}return r(j,[{key:"interfaces_",get:function(){return[Do]}},{key:"visitItem",value:function(re){re.select(A,F)}}]),j}())),F.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var u=arguments[0];this._index=u}}]),C}(),ob=function(C){s(h,C);var u=g(h);function h(){var m;return n(this,h),m=u.call(this),h.constructor_.apply(p(m),arguments),m}return r(h,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(arguments.length===2&&Number.isInteger(arguments[1])&&arguments[0]instanceof q_))return y(a(h.prototype),"select",this).apply(this,arguments);var m=arguments[0],S=arguments[1],A=m.getContext();if(this._parentEdge===A&&(S===this._hotPixelVertexIndex||S+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(A,S)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var m=arguments[0],S=arguments[1],A=arguments[2];this._hotPixel=m,this._parentEdge=S,this._hotPixelVertexIndex=A}}]),h}(kR);ab.HotPixelSnapAction=ob;var PR=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"processIntersections",value:function(u,h,m,S){if(u===m&&h===S)return null;var A=u.getCoordinates()[h],F=u.getCoordinates()[h+1],j=m.getCoordinates()[S],re=m.getCoordinates()[S+1];if(this._li.computeIntersection(A,F,j,re),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var fe=0;fe<this._li.getIntersectionNum();fe++)this._interiorIntersections.add(this._li.getIntersection(fe));u.addIntersections(this._li,h,0),m.addIntersections(this._li,S,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[tb]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var u=arguments[0];this._li=u,this._interiorIntersections=new be}}]),C}(),RR=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"checkCorrectness",value:function(u){var h=Fo.getNodedSubstrings(u),m=new sb(h);try{m.checkValid()}catch(S){if(!(S instanceof x))throw S;S.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return Fo.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(u,h){var m=this.findInteriorIntersections(u,h);this.computeIntersectionSnaps(m),this.computeVertexSnaps(u)}},{key:"findInteriorIntersections",value:function(u,h){var m=new PR(h);return this._noder.setSegmentIntersector(m),this._noder.computeNodes(u),m.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(Ae(arguments[0],He))for(var u=arguments[0],h=u.iterator();h.hasNext();){var m=h.next();this.computeVertexSnaps(m)}else if(arguments[0]instanceof Fo)for(var S=arguments[0],A=S.getCoordinates(),F=0;F<A.length;F++){var j=new am(A[F],this._scaleFactor,this._li),re=this._pointSnapper.snap(j,S,F);re&&S.addIntersection(A[F],F)}}},{key:"computeNodes",value:function(u){this._nodedSegStrings=u,this._noder=new rm,this._pointSnapper=new ab(this._noder.getIndex()),this.snapRound(u,this._li)}},{key:"computeIntersectionSnaps",value:function(u){for(var h=u.iterator();h.hasNext();){var m=h.next(),S=new am(m,this._scaleFactor,this._li);this._pointSnapper.snap(S)}}},{key:"interfaces_",get:function(){return[im]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var u=arguments[0];this._pm=u,this._li=new va,this._li.setPrecisionModel(u),this._scaleFactor=u.getScale()}}]),C}(),Vl=function(){function C(){n(this,C),C.constructor_.apply(this,arguments)}return r(C,[{key:"bufferFixedPrecision",value:function(u){var h=new AR(new RR(new In(1)),u.getScale()),m=new rb(this._bufParams);m.setWorkingPrecisionModel(u),m.setNoder(h),this._resultGeometry=m.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(arguments.length===0){for(var u=C.MAX_PRECISION_DIGITS;u>=0;u--){try{this.bufferReducedPrecision(u)}catch(A){if(!(A instanceof ze))throw A;this._saveException=A}if(this._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var h=arguments[0],m=C.precisionScaleFactor(this._argGeom,this._distance,h),S=new In(m);this.bufferFixedPrecision(S)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var u=this._argGeom.getFactory().getPrecisionModel();u.getType()===In.FIXED?this.bufferFixedPrecision(u):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(u){this._bufParams.setQuadrantSegments(u)}},{key:"bufferOriginalPrecision",value:function(){try{var u=new rb(this._bufParams);this._resultGeometry=u.buffer(this._argGeom,this._distance)}catch(h){if(!(h instanceof ce))throw h;this._saveException=h}}},{key:"getResultGeometry",value:function(u){return this._distance=u,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(u){this._bufParams.setEndCapStyle(u)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new E,this._resultGeometry=null,this._saveException=null,arguments.length===1){var u=arguments[0];this._argGeom=u}else if(arguments.length===2){var h=arguments[0],m=arguments[1];this._argGeom=h,this._bufParams=m}}},{key:"bufferOp",value:function(){if(arguments.length===2){var u=arguments[0],h=arguments[1],m=new C(u),S=m.getResultGeometry(h);return S}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof xe&&typeof arguments[1]=="number"){var A=arguments[0],F=arguments[1],j=arguments[2],re=new C(A);re.setQuadrantSegments(j);var fe=re.getResultGeometry(F);return fe}if(arguments[2]instanceof E&&arguments[0]instanceof xe&&typeof arguments[1]=="number"){var Pe=arguments[0],Oe=arguments[1],lt=arguments[2],Rt=new C(Pe,lt),Tt=Rt.getResultGeometry(Oe);return Tt}}else if(arguments.length===4){var en=arguments[0],sn=arguments[1],hn=arguments[2],Dn=arguments[3],li=new C(en);li.setQuadrantSegments(hn),li.setEndCapStyle(Dn);var ji=li.getResultGeometry(sn);return ji}}},{key:"precisionScaleFactor",value:function(u,h,m){var S=u.getEnvelopeInternal(),A=ot.max(Math.abs(S.getMaxX()),Math.abs(S.getMaxY()),Math.abs(S.getMinX()),Math.abs(S.getMinY()))+2*(h>0?h:0),F=m-Math.trunc(Math.log(A)/Math.log(10)+1);return Math.pow(10,F)}}]),C}();Vl.CAP_ROUND=E.CAP_ROUND,Vl.CAP_BUTT=E.CAP_FLAT,Vl.CAP_FLAT=E.CAP_FLAT,Vl.CAP_SQUARE=E.CAP_SQUARE,Vl.MAX_PRECISION_DIGITS=12;var IR=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],lb=function(){function C(u){n(this,C),this.geometryFactory=u||new un}return r(C,[{key:"read",value:function(u){var h,m=(h=typeof u=="string"?JSON.parse(u):u).type;if(!ts[m])throw new Error("Unknown GeoJSON type: "+h.type);return IR.indexOf(m)!==-1?ts[m].call(this,h.coordinates):m==="GeometryCollection"?ts[m].call(this,h.geometries):ts[m].call(this,h)}},{key:"write",value:function(u){var h=u.getGeometryType();if(!js[h])throw new Error("Geometry is not supported");return js[h].call(this,u)}}]),C}(),ts={Feature:function(C){var u={};for(var h in C)u[h]=C[h];if(C.geometry){var m=C.geometry.type;if(!ts[m])throw new Error("Unknown GeoJSON type: "+C.type);u.geometry=this.read(C.geometry)}return C.bbox&&(u.bbox=ts.bbox.call(this,C.bbox)),u},FeatureCollection:function(C){var u={};if(C.features){u.features=[];for(var h=0;h<C.features.length;++h)u.features.push(this.read(C.features[h]))}return C.bbox&&(u.bbox=this.parse.bbox.call(this,C.bbox)),u},coordinates:function(C){for(var u=[],h=0;h<C.length;++h){var m=C[h];u.push(c(ue,_(m)))}return u},bbox:function(C){return this.geometryFactory.createLinearRing([new ue(C[0],C[1]),new ue(C[2],C[1]),new ue(C[2],C[3]),new ue(C[0],C[3]),new ue(C[0],C[1])])},Point:function(C){var u=c(ue,_(C));return this.geometryFactory.createPoint(u)},MultiPoint:function(C){for(var u=[],h=0;h<C.length;++h)u.push(ts.Point.call(this,C[h]));return this.geometryFactory.createMultiPoint(u)},LineString:function(C){var u=ts.coordinates.call(this,C);return this.geometryFactory.createLineString(u)},MultiLineString:function(C){for(var u=[],h=0;h<C.length;++h)u.push(ts.LineString.call(this,C[h]));return this.geometryFactory.createMultiLineString(u)},Polygon:function(C){for(var u=ts.coordinates.call(this,C[0]),h=this.geometryFactory.createLinearRing(u),m=[],S=1;S<C.length;++S){var A=C[S],F=ts.coordinates.call(this,A),j=this.geometryFactory.createLinearRing(F);m.push(j)}return this.geometryFactory.createPolygon(h,m)},MultiPolygon:function(C){for(var u=[],h=0;h<C.length;++h){var m=C[h];u.push(ts.Polygon.call(this,m))}return this.geometryFactory.createMultiPolygon(u)},GeometryCollection:function(C){for(var u=[],h=0;h<C.length;++h){var m=C[h];u.push(this.read(m))}return this.geometryFactory.createGeometryCollection(u)}},js={coordinate:function(C){var u=[C.x,C.y];return C.z&&u.push(C.z),C.m&&u.push(C.m),u},Point:function(C){return{type:"Point",coordinates:js.coordinate.call(this,C.getCoordinate())}},MultiPoint:function(C){for(var u=[],h=0;h<C._geometries.length;++h){var m=C._geometries[h],S=js.Point.call(this,m);u.push(S.coordinates)}return{type:"MultiPoint",coordinates:u}},LineString:function(C){for(var u=[],h=C.getCoordinates(),m=0;m<h.length;++m){var S=h[m];u.push(js.coordinate.call(this,S))}return{type:"LineString",coordinates:u}},MultiLineString:function(C){for(var u=[],h=0;h<C._geometries.length;++h){var m=C._geometries[h],S=js.LineString.call(this,m);u.push(S.coordinates)}return{type:"MultiLineString",coordinates:u}},Polygon:function(C){var u=[],h=js.LineString.call(this,C._shell);u.push(h.coordinates);for(var m=0;m<C._holes.length;++m){var S=C._holes[m],A=js.LineString.call(this,S);u.push(A.coordinates)}return{type:"Polygon",coordinates:u}},MultiPolygon:function(C){for(var u=[],h=0;h<C._geometries.length;++h){var m=C._geometries[h],S=js.Polygon.call(this,m);u.push(S.coordinates)}return{type:"MultiPolygon",coordinates:u}},GeometryCollection:function(C){for(var u=[],h=0;h<C._geometries.length;++h){var m=C._geometries[h],S=m.getGeometryType();u.push(js[S].call(this,m))}return{type:"GeometryCollection",geometries:u}}};return{BufferOp:Vl,GeoJSONReader:function(){function C(u){n(this,C),this.parser=new lb(u||new un)}return r(C,[{key:"read",value:function(u){return this.parser.read(u)}}]),C}(),GeoJSONWriter:function(){function C(){n(this,C),this.parser=new lb(this.geometryFactory)}return r(C,[{key:"write",value:function(u){return this.parser.write(u)}}]),C}()}})})(Ak);var yue=Ak.exports;const _ue=Ws(yue);function Po(){return new Kh}function Kh(){this.reset()}Kh.prototype={constructor:Kh,reset:function(){this.s=this.t=0},add:function(t){yS(Sf,t,this.t),yS(this,Sf.s,this.s),this.s?this.t+=Sf.t:this.s=Sf.t},valueOf:function(){return this.s}};var Sf=new Kh;function yS(t,e,n){var i=t.s=e+n,r=i-e,s=i-r;t.t=e-s+(n-r)}var Xn=1e-6,Ln=Math.PI,ta=Ln/2,_S=Ln/4,ua=Ln*2,Ga=180/Ln,rs=Ln/180,Vi=Math.abs,bue=Math.atan,ju=Math.atan2,ui=Math.cos,ci=Math.sin,pc=Math.sqrt;function kk(t){return t>1?0:t<-1?Ln:Math.acos(t)}function Tl(t){return t>1?ta:t<-1?-ta:Math.asin(t)}function qc(){}function qh(t,e){t&&wS.hasOwnProperty(t.type)&&wS[t.type](t,e)}var bS={Feature:function(t,e){qh(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)qh(n[i].geometry,e)}},wS={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){Jg(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Jg(n[i],e,0)},Polygon:function(t,e){SS(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)SS(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)qh(n[i],e)}};function Jg(t,e,n){var i=-1,r=t.length-n,s;for(e.lineStart();++i<r;)s=t[i],e.point(s[0],s[1],s[2]);e.lineEnd()}function SS(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)Jg(t[n],e,1);e.polygonEnd()}function wue(t,e){t&&bS.hasOwnProperty(t.type)?bS[t.type](t,e):qh(t,e)}Po();Po();function Qg(t){return[ju(t[1],t[0]),Tl(t[2])]}function Xu(t){var e=t[0],n=t[1],i=ui(n);return[i*ui(e),i*ci(e),ci(n)]}function Ef(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Yh(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Hm(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Cf(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function e0(t){var e=pc(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}Po();function Pk(t,e){function n(i,r){return i=t(i,r),e(i[0],i[1])}return t.invert&&e.invert&&(n.invert=function(i,r){return i=e.invert(i,r),i&&t.invert(i[0],i[1])}),n}function t0(t,e){return[t>Ln?t-ua:t<-Ln?t+ua:t,e]}t0.invert=t0;function Sue(t,e,n){return(t%=ua)?e||n?Pk(CS(t),xS(e,n)):CS(t):e||n?xS(e,n):t0}function ES(t){return function(e,n){return e+=t,[e>Ln?e-ua:e<-Ln?e+ua:e,n]}}function CS(t){var e=ES(t);return e.invert=ES(-t),e}function xS(t,e){var n=ui(t),i=ci(t),r=ui(e),s=ci(e);function a(o,l){var c=ui(l),d=ui(o)*c,p=ci(o)*c,v=ci(l),g=v*n+d*i;return[ju(p*r-g*s,d*n-v*i),Tl(g*r+p*s)]}return a.invert=function(o,l){var c=ui(l),d=ui(o)*c,p=ci(o)*c,v=ci(l),g=v*r-p*s;return[ju(p*r+v*s,d*n+g*i),Tl(g*n-d*i)]},a}function Eue(t,e,n,i,r,s){if(n){var a=ui(e),o=ci(e),l=i*n;r==null?(r=e+i*ua,s=e-l/2):(r=MS(a,r),s=MS(a,s),(i>0?r<s:r>s)&&(r+=i*ua));for(var c,d=r;i>0?d>s:d<s;d-=l)c=Qg([a,-o*ui(d),-o*ci(d)]),t.point(c[0],c[1])}}function MS(t,e){e=Xu(e),e[0]-=t,e0(e);var n=kk(-e[1]);return((-e[2]<0?-n:n)+ua-Xn)%ua}function Rk(){var t=[],e;return{point:function(n,i){e.push([n,i])},lineStart:function(){t.push(e=[])},lineEnd:qc,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Cue(t,e,n,i,r,s){var a=t[0],o=t[1],l=e[0],c=e[1],d=0,p=1,v=l-a,g=c-o,y;if(y=n-a,!(!v&&y>0)){if(y/=v,v<0){if(y<d)return;y<p&&(p=y)}else if(v>0){if(y>p)return;y>d&&(d=y)}if(y=r-a,!(!v&&y<0)){if(y/=v,v<0){if(y>p)return;y>d&&(d=y)}else if(v>0){if(y<d)return;y<p&&(p=y)}if(y=i-o,!(!g&&y>0)){if(y/=g,g<0){if(y<d)return;y<p&&(p=y)}else if(g>0){if(y>p)return;y>d&&(d=y)}if(y=s-o,!(!g&&y<0)){if(y/=g,g<0){if(y>p)return;y>d&&(d=y)}else if(g>0){if(y<d)return;y<p&&(p=y)}return d>0&&(t[0]=a+d*v,t[1]=o+d*g),p<1&&(e[0]=a+p*v,e[1]=o+p*g),!0}}}}}function vh(t,e){return Vi(t[0]-e[0])<Xn&&Vi(t[1]-e[1])<Xn}function xf(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Ik(t,e,n,i,r){var s=[],a=[],o,l;if(t.forEach(function(y){if(!((_=y.length-1)<=0)){var _,w=y[0],b=y[_],M;if(vh(w,b)){for(r.lineStart(),o=0;o<_;++o)r.point((w=y[o])[0],w[1]);r.lineEnd();return}s.push(M=new xf(w,y,null,!0)),a.push(M.o=new xf(w,null,M,!1)),s.push(M=new xf(b,y,null,!1)),a.push(M.o=new xf(b,null,M,!0))}}),!!s.length){for(a.sort(e),TS(s),TS(a),o=0,l=a.length;o<l;++o)a[o].e=n=!n;for(var c=s[0],d,p;;){for(var v=c,g=!0;v.v;)if((v=v.n)===c)return;d=v.z,r.lineStart();do{if(v.v=v.o.v=!0,v.e){if(g)for(o=0,l=d.length;o<l;++o)r.point((p=d[o])[0],p[1]);else i(v.x,v.n.x,1,r);v=v.n}else{if(g)for(d=v.p.z,o=d.length-1;o>=0;--o)r.point((p=d[o])[0],p[1]);else i(v.x,v.p.x,-1,r);v=v.p}v=v.o,d=v.z,g=!g}while(!v.v);r.lineEnd()}}}function TS(t){if(e=t.length){for(var e,n=0,i=t[0],r;++n<e;)i.n=r=t[n],r.p=i,i=r;i.n=r=t[0],r.p=i}}function Lk(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function xue(t){return t.length===1&&(t=Mue(t)),{left:function(e,n,i,r){for(i==null&&(i=0),r==null&&(r=e.length);i<r;){var s=i+r>>>1;t(e[s],n)<0?i=s+1:r=s}return i},right:function(e,n,i,r){for(i==null&&(i=0),r==null&&(r=e.length);i<r;){var s=i+r>>>1;t(e[s],n)>0?r=s:i=s+1}return i}}}function Mue(t){return function(e,n){return Lk(t(e),n)}}xue(Lk);function Nk(t){for(var e=t.length,n,i=-1,r=0,s,a;++i<e;)r+=t[i].length;for(s=new Array(r);--e>=0;)for(a=t[e],n=a.length;--n>=0;)s[--r]=a[n];return s}var Yc=1e9,Mf=-Yc;function Tue(t,e,n,i){function r(c,d){return t<=c&&c<=n&&e<=d&&d<=i}function s(c,d,p,v){var g=0,y=0;if(c==null||(g=a(c,p))!==(y=a(d,p))||l(c,d)<0^p>0)do v.point(g===0||g===3?t:n,g>1?i:e);while((g=(g+p+4)%4)!==y);else v.point(d[0],d[1])}function a(c,d){return Vi(c[0]-t)<Xn?d>0?0:3:Vi(c[0]-n)<Xn?d>0?2:1:Vi(c[1]-e)<Xn?d>0?1:0:d>0?3:2}function o(c,d){return l(c.x,d.x)}function l(c,d){var p=a(c,1),v=a(d,1);return p!==v?p-v:p===0?d[1]-c[1]:p===1?c[0]-d[0]:p===2?c[1]-d[1]:d[0]-c[0]}return function(c){var d=c,p=Rk(),v,g,y,_,w,b,M,E,x,T,k,I={point:O,lineStart:$,lineEnd:J,polygonStart:R,polygonEnd:N};function O(H,B){r(H,B)&&d.point(H,B)}function U(){for(var H=0,B=0,X=g.length;B<X;++B)for(var q=g[B],D=1,V=q.length,ee=q[0],ce,ae,le=ee[0],ye=ee[1];D<V;++D)ce=le,ae=ye,ee=q[D],le=ee[0],ye=ee[1],ae<=i?ye>i&&(le-ce)*(i-ae)>(ye-ae)*(t-ce)&&++H:ye<=i&&(le-ce)*(i-ae)<(ye-ae)*(t-ce)&&--H;return H}function R(){d=p,v=[],g=[],k=!0}function N(){var H=U(),B=k&&H,X=(v=Nk(v)).length;(B||X)&&(c.polygonStart(),B&&(c.lineStart(),s(null,null,1,c),c.lineEnd()),X&&Ik(v,o,H,s,c),c.polygonEnd()),d=c,v=g=y=null}function $(){I.point=Y,g&&g.push(y=[]),T=!0,x=!1,M=E=NaN}function J(){v&&(Y(_,w),b&&x&&p.rejoin(),v.push(p.result())),I.point=O,x&&d.lineEnd()}function Y(H,B){var X=r(H,B);if(g&&y.push([H,B]),T)_=H,w=B,b=X,T=!1,X&&(d.lineStart(),d.point(H,B));else if(X&&x)d.point(H,B);else{var q=[M=Math.max(Mf,Math.min(Yc,M)),E=Math.max(Mf,Math.min(Yc,E))],D=[H=Math.max(Mf,Math.min(Yc,H)),B=Math.max(Mf,Math.min(Yc,B))];Cue(q,D,t,e,n,i)?(x||(d.lineStart(),d.point(q[0],q[1])),d.point(D[0],D[1]),X||d.lineEnd(),k=!1):X&&(d.lineStart(),d.point(H,B),k=!1)}M=H,E=B,x=X}return I}}var Gm=Po();function Aue(t,e){var n=e[0],i=e[1],r=[ci(n),-ui(n),0],s=0,a=0;Gm.reset();for(var o=0,l=t.length;o<l;++o)if(d=(c=t[o]).length)for(var c,d,p=c[d-1],v=p[0],g=p[1]/2+_S,y=ci(g),_=ui(g),w=0;w<d;++w,v=M,y=x,_=T,p=b){var b=c[w],M=b[0],E=b[1]/2+_S,x=ci(E),T=ui(E),k=M-v,I=k>=0?1:-1,O=I*k,U=O>Ln,R=y*x;if(Gm.add(ju(R*I*ci(O),_*T+R*ui(O))),s+=U?k+I*ua:k,U^v>=n^M>=n){var N=Yh(Xu(p),Xu(b));e0(N);var $=Yh(r,N);e0($);var J=(U^k>=0?-1:1)*Tl($[2]);(i>J||i===J&&(N[0]||N[1]))&&(a+=U^k>=0?1:-1)}}return(s<-Xn||s<Xn&&Gm<-Xn)^a&1}Po();function AS(t){return t}Po();Po();var Zu=1/0,jh=Zu,Cd=-Zu,Xh=Cd,kS={point:kue,lineStart:qc,lineEnd:qc,polygonStart:qc,polygonEnd:qc,result:function(){var t=[[Zu,jh],[Cd,Xh]];return Cd=Xh=-(jh=Zu=1/0),t}};function kue(t,e){t<Zu&&(Zu=t),t>Cd&&(Cd=t),e<jh&&(jh=e),e>Xh&&(Xh=e)}Po();function Ok(t,e,n,i){return function(r,s){var a=e(s),o=r.invert(i[0],i[1]),l=Rk(),c=e(l),d=!1,p,v,g,y={point:_,lineStart:b,lineEnd:M,polygonStart:function(){y.point=E,y.lineStart=x,y.lineEnd=T,v=[],p=[]},polygonEnd:function(){y.point=_,y.lineStart=b,y.lineEnd=M,v=Nk(v);var k=Aue(p,o);v.length?(d||(s.polygonStart(),d=!0),Ik(v,Rue,k,n,s)):k&&(d||(s.polygonStart(),d=!0),s.lineStart(),n(null,null,1,s),s.lineEnd()),d&&(s.polygonEnd(),d=!1),v=p=null},sphere:function(){s.polygonStart(),s.lineStart(),n(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function _(k,I){var O=r(k,I);t(k=O[0],I=O[1])&&s.point(k,I)}function w(k,I){var O=r(k,I);a.point(O[0],O[1])}function b(){y.point=w,a.lineStart()}function M(){y.point=_,a.lineEnd()}function E(k,I){g.push([k,I]);var O=r(k,I);c.point(O[0],O[1])}function x(){c.lineStart(),g=[]}function T(){E(g[0][0],g[0][1]),c.lineEnd();var k=c.clean(),I=l.result(),O,U=I.length,R,N,$;if(g.pop(),p.push(g),g=null,!!U){if(k&1){if(N=I[0],(R=N.length-1)>0){for(d||(s.polygonStart(),d=!0),s.lineStart(),O=0;O<R;++O)s.point(($=N[O])[0],$[1]);s.lineEnd()}return}U>1&&k&2&&I.push(I.pop().concat(I.shift())),v.push(I.filter(Pue))}}return y}}function Pue(t){return t.length>1}function Rue(t,e){return((t=t.x)[0]<0?t[1]-ta-Xn:ta-t[1])-((e=e.x)[0]<0?e[1]-ta-Xn:ta-e[1])}const PS=Ok(function(){return!0},Iue,Nue,[-Ln,-ta]);function Iue(t){var e=NaN,n=NaN,i=NaN,r;return{lineStart:function(){t.lineStart(),r=1},point:function(s,a){var o=s>0?Ln:-Ln,l=Vi(s-e);Vi(l-Ln)<Xn?(t.point(e,n=(n+a)/2>0?ta:-ta),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(o,n),t.point(s,n),r=0):i!==o&&l>=Ln&&(Vi(e-i)<Xn&&(e-=i*Xn),Vi(s-o)<Xn&&(s-=o*Xn),n=Lue(e,n,s,a),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(o,n),r=0),t.point(e=s,n=a),i=o},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-r}}}function Lue(t,e,n,i){var r,s,a=ci(t-n);return Vi(a)>Xn?bue((ci(e)*(s=ui(i))*ci(n)-ci(i)*(r=ui(e))*ci(t))/(r*s*a)):(e+i)/2}function Nue(t,e,n,i){var r;if(t==null)r=n*ta,i.point(-Ln,r),i.point(0,r),i.point(Ln,r),i.point(Ln,0),i.point(Ln,-r),i.point(0,-r),i.point(-Ln,-r),i.point(-Ln,0),i.point(-Ln,r);else if(Vi(t[0]-e[0])>Xn){var s=t[0]<e[0]?Ln:-Ln;r=n*s/2,i.point(-s,r),i.point(0,r),i.point(s,r)}else i.point(e[0],e[1])}function Oue(t,e){var n=ui(t),i=n>0,r=Vi(n)>Xn;function s(d,p,v,g){Eue(g,t,e,v,d,p)}function a(d,p){return ui(d)*ui(p)>n}function o(d){var p,v,g,y,_;return{lineStart:function(){y=g=!1,_=1},point:function(w,b){var M=[w,b],E,x=a(w,b),T=i?x?0:c(w,b):x?c(w+(w<0?Ln:-Ln),b):0;if(!p&&(y=g=x)&&d.lineStart(),x!==g&&(E=l(p,M),(!E||vh(p,E)||vh(M,E))&&(M[0]+=Xn,M[1]+=Xn,x=a(M[0],M[1]))),x!==g)_=0,x?(d.lineStart(),E=l(M,p),d.point(E[0],E[1])):(E=l(p,M),d.point(E[0],E[1]),d.lineEnd()),p=E;else if(r&&p&&i^x){var k;!(T&v)&&(k=l(M,p,!0))&&(_=0,i?(d.lineStart(),d.point(k[0][0],k[0][1]),d.point(k[1][0],k[1][1]),d.lineEnd()):(d.point(k[1][0],k[1][1]),d.lineEnd(),d.lineStart(),d.point(k[0][0],k[0][1])))}x&&(!p||!vh(p,M))&&d.point(M[0],M[1]),p=M,g=x,v=T},lineEnd:function(){g&&d.lineEnd(),p=null},clean:function(){return _|(y&&g)<<1}}}function l(d,p,v){var g=Xu(d),y=Xu(p),_=[1,0,0],w=Yh(g,y),b=Ef(w,w),M=w[0],E=b-M*M;if(!E)return!v&&d;var x=n*b/E,T=-n*M/E,k=Yh(_,w),I=Cf(_,x),O=Cf(w,T);Hm(I,O);var U=k,R=Ef(I,U),N=Ef(U,U),$=R*R-N*(Ef(I,I)-1);if(!($<0)){var J=pc($),Y=Cf(U,(-R-J)/N);if(Hm(Y,I),Y=Qg(Y),!v)return Y;var H=d[0],B=p[0],X=d[1],q=p[1],D;B<H&&(D=H,H=B,B=D);var V=B-H,ee=Vi(V-Ln)<Xn,ce=ee||V<Xn;if(!ee&&q<X&&(D=X,X=q,q=D),ce?ee?X+q>0^Y[1]<(Vi(Y[0]-H)<Xn?X:q):X<=Y[1]&&Y[1]<=q:V>Ln^(H<=Y[0]&&Y[0]<=B)){var ae=Cf(U,(-R+J)/N);return Hm(ae,I),[Y,Qg(ae)]}}}function c(d,p){var v=i?t:Ln-t,g=0;return d<-v?g|=1:d>v&&(g|=2),p<-v?g|=4:p>v&&(g|=8),g}return Ok(a,o,s,i?[0,-t]:[-Ln,t-Ln])}function Dk(t){return function(e){var n=new n0;for(var i in t)n[i]=t[i];return n.stream=e,n}}function n0(){}n0.prototype={constructor:n0,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Fk(t,e,n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],s=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),s!=null&&t.clipExtent(null),wue(n,t.stream(kS));var a=kS.result(),o=Math.min(i/(a[1][0]-a[0][0]),r/(a[1][1]-a[0][1])),l=+e[0][0]+(i-o*(a[1][0]+a[0][0]))/2,c=+e[0][1]+(r-o*(a[1][1]+a[0][1]))/2;return s!=null&&t.clipExtent(s),t.scale(o*150).translate([l,c])}function Due(t,e,n){return Fk(t,[[0,0],e],n)}var RS=16,Fue=ui(30*rs);function IS(t,e){return+e?Uue(t,e):Bue(t)}function Bue(t){return Dk({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Uue(t,e){function n(i,r,s,a,o,l,c,d,p,v,g,y,_,w){var b=c-i,M=d-r,E=b*b+M*M;if(E>4*e&&_--){var x=a+v,T=o+g,k=l+y,I=pc(x*x+T*T+k*k),O=Tl(k/=I),U=Vi(Vi(k)-1)<Xn||Vi(s-p)<Xn?(s+p)/2:ju(T,x),R=t(U,O),N=R[0],$=R[1],J=N-i,Y=$-r,H=M*J-b*Y;(H*H/E>e||Vi((b*J+M*Y)/E-.5)>.3||a*v+o*g+l*y<Fue)&&(n(i,r,s,a,o,l,N,$,U,x/=I,T/=I,k,_,w),w.point(N,$),n(N,$,U,x,T,k,c,d,p,v,g,y,_,w))}}return function(i){var r,s,a,o,l,c,d,p,v,g,y,_,w={point:b,lineStart:M,lineEnd:x,polygonStart:function(){i.polygonStart(),w.lineStart=T},polygonEnd:function(){i.polygonEnd(),w.lineStart=M}};function b(O,U){O=t(O,U),i.point(O[0],O[1])}function M(){p=NaN,w.point=E,i.lineStart()}function E(O,U){var R=Xu([O,U]),N=t(O,U);n(p,v,d,g,y,_,p=N[0],v=N[1],d=O,g=R[0],y=R[1],_=R[2],RS,i),i.point(p,v)}function x(){w.point=b,i.lineEnd()}function T(){M(),w.point=k,w.lineEnd=I}function k(O,U){E(r=O,U),s=p,a=v,o=g,l=y,c=_,w.point=E}function I(){n(p,v,d,g,y,_,s,a,r,o,l,c,RS,i),w.lineEnd=x,x()}return w}}var Vue=Dk({point:function(t,e){this.stream.point(t*rs,e*rs)}});function zue(t){return $ue(function(){return t})()}function $ue(t){var e,n=150,i=480,r=250,s,a,o=0,l=0,c=0,d=0,p=0,v,g,y=null,_=PS,w=null,b,M,E,x=AS,T=.5,k=IS(N,T),I,O;function U(Y){return Y=g(Y[0]*rs,Y[1]*rs),[Y[0]*n+s,a-Y[1]*n]}function R(Y){return Y=g.invert((Y[0]-s)/n,(a-Y[1])/n),Y&&[Y[0]*Ga,Y[1]*Ga]}function N(Y,H){return Y=e(Y,H),[Y[0]*n+s,a-Y[1]*n]}U.stream=function(Y){return I&&O===Y?I:I=Vue(_(v,k(x(O=Y))))},U.clipAngle=function(Y){return arguments.length?(_=+Y?Oue(y=Y*rs,6*rs):(y=null,PS),J()):y*Ga},U.clipExtent=function(Y){return arguments.length?(x=Y==null?(w=b=M=E=null,AS):Tue(w=+Y[0][0],b=+Y[0][1],M=+Y[1][0],E=+Y[1][1]),J()):w==null?null:[[w,b],[M,E]]},U.scale=function(Y){return arguments.length?(n=+Y,$()):n},U.translate=function(Y){return arguments.length?(i=+Y[0],r=+Y[1],$()):[i,r]},U.center=function(Y){return arguments.length?(o=Y[0]%360*rs,l=Y[1]%360*rs,$()):[o*Ga,l*Ga]},U.rotate=function(Y){return arguments.length?(c=Y[0]%360*rs,d=Y[1]%360*rs,p=Y.length>2?Y[2]%360*rs:0,$()):[c*Ga,d*Ga,p*Ga]},U.precision=function(Y){return arguments.length?(k=IS(N,T=Y*Y),J()):pc(T)},U.fitExtent=function(Y,H){return Fk(U,Y,H)},U.fitSize=function(Y,H){return Due(U,Y,H)};function $(){g=Pk(v=Sue(c,d,p),e);var Y=e(o,l);return s=i-Y[0]*n,a=r+Y[1]*n,J()}function J(){return I=O=null,U}return function(){return e=t.apply(this,arguments),U.invert=e.invert&&R,$()}}function Bk(t){return function(e,n){var i=ui(e),r=ui(n),s=t(i*r);return[s*r*ci(e),s*ci(n)]}}function Uk(t){return function(e,n){var i=pc(e*e+n*n),r=t(i),s=ci(r),a=ui(r);return[ju(e*s,i*a),Tl(i&&n*s/i)]}}var Hue=Bk(function(t){return pc(2/(1+t))});Hue.invert=Uk(function(t){return 2*Tl(t/2)});var Vk=Bk(function(t){return(t=kk(t))&&t/ci(t)});Vk.invert=Uk(function(t){return t});function Gue(){return zue(Vk).scale(79.4188).clipAngle(180-.001)}function LS(t,e){return[t,e]}LS.invert=LS;var{BufferOp:Wue,GeoJSONReader:Kue,GeoJSONWriter:que}=_ue;function Yue(t,e,n){n=n||{};var i=n.units||"kilometers",r=n.steps||8;if(!t)throw new Error("geojson is required");if(typeof n!="object")throw new Error("options must be an object");if(typeof r!="number")throw new Error("steps must be an number");if(e===void 0)throw new Error("radius is required");if(r<=0)throw new Error("steps must be greater than 0");var s=[];switch(t.type){case"GeometryCollection":return Tk(t,function(a){var o=gh(a,e,i,r);o&&s.push(o)}),Zg(s);case"FeatureCollection":return gS(t,function(a){var o=gh(a,e,i,r);o&&gS(o,function(l){l&&s.push(l)})}),Zg(s)}return gh(t,e,i,r)}function gh(t,e,n,i){var r=t.properties||{},s=t.type==="Feature"?t.geometry:t;if(s.type==="GeometryCollection"){var a=[];return Tk(t,function(_){var w=gh(_,e,n,i);w&&a.push(w)}),Zg(a)}var o=jue(s),l={type:s.type,coordinates:$k(s.coordinates,o)},c=new Kue,d=c.read(l),p=lue(uue(e,n),"meters"),v=Wue.bufferOp(d,p,i),g=new que;if(v=g.write(v),!zk(v.coordinates)){var y={type:v.type,coordinates:Hk(v.coordinates,o)};return Bp(y,r)}}function zk(t){return Array.isArray(t[0])?zk(t[0]):isNaN(t[0])}function $k(t,e){return typeof t[0]!="object"?e(t):t.map(function(n){return $k(n,e)})}function Hk(t,e){return typeof t[0]!="object"?e.invert(t):t.map(function(n){return Hk(n,e)})}function jue(t){var e=gue(t).geometry.coordinates,n=[-e[0],-e[1]];return Gue().rotate(n).scale(xr)}const Xue={class:"appMain"},Zue={class:"operation"},Jue={class:"coords"},Que=ie({__name:"map",setup(t){const{listenToMouseMovement:e,coords:n}=nue(),i=W(null),r=Xt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},coords:{},viewer:null,show:!0});Le(n,p=>{r.coords=p});const s=async()=>{await i.value.viewerStates.unload(),r.show=!1},a=()=>{r.show=!0},o=async()=>{await i.value.viewerStates.reload()};St(()=>{console.log("dlsMapRef",i.value)});const l=p=>{console.log("地球销毁了",p)},c=p=>{console.log("cesium初始话完成",p)},d=p=>{e(p.viewer),r.viewer=p.viewer,console.log("图层实例初始化完成",p)};return(p,v)=>{const g=At("el-button");return P(),K("div",Xue,[r.show?(P(),we(f(br),{key:0,mapConfig:{id:"dls-map-layer-map",imageryProvider:r.imageryProvider,sceneModeNum:3},ref_key:"dlsMapRef",ref:i,"viewer-width":"100%","viewer-height":"500px",onReady:d,onDestroyed:l,onCesiumReady:c},null,8,["mapConfig"])):he("",!0),Z("div",Zue,[Q(g,{onClick:s,type:"primary"},{default:te(()=>[pt("销毁")]),_:1}),Q(g,{onClick:a,type:"primary"},{default:te(()=>[pt("加载")]),_:1}),Q(g,{onClick:o,type:"primary"},{default:te(()=>[pt("重载")]),_:1})]),Z("div",Jue," 经度："+Ne(r.coords.longitude)+"， 纬度："+Ne(r.coords.latitude)+"， 海拔："+Ne(r.coords.altitude)+"m， 高度："+Ne(r.coords.height)+"m， 方向："+Ne(r.coords.cameraHeading)+"°， 俯仰角："+Ne(r.coords.pitchDegrees)+"°， 层级："+Ne(r.coords.zoomLevel),1)])}}}),ece=$t(Que,[["__scopeId","data-v-7c00c373"]]);function tce(){const t=Xt({longitude:"0",latitude:"0",height:"0",altitude:"0",cameraHeading:"0",pitchDegrees:"0",zoomLevel:0});function e(i=null){if(!i)return console.error("viewer is undefined"),!1;if(i){let r=null;const s=i.camera,a=new Cesium.ScreenSpaceEventHandler(i.scene.canvas);a.setInputAction(function(o){const l=i.camera.pickEllipsoid(o.endPosition,i.scene.globe.ellipsoid);l&&(r&&clearTimeout(r),r=setTimeout(()=>{const c=Cesium.Cartographic.fromCartesian(l);t.longitude=Cesium.Math.toDegrees(c.longitude).toFixed(6),t.latitude=Cesium.Math.toDegrees(c.latitude).toFixed(6)},300))},Cesium.ScreenSpaceEventType.MOUSE_MOVE),a.setInputAction(function(o){let l=o.position;if(l)if(i.scene.mode===Cesium.SceneMode.SCENE3D){let d=i.scene.globe.pick(i.camera.getPickRay(l),i.scene);if(d){let p=Cesium.Cartographic.fromCartesian(d);t.longitude=Cesium.Math.toDegrees(p.longitude).toFixed(6),t.latitude=Cesium.Math.toDegrees(p.latitude).toFixed(6);let v=i.scene.globe.ellipsoid.cartesianToCartographic(d);v&&(t.altitude=i.scene.globe.getHeight(v).toFixed(2))}}else{let d=i.camera.pickEllipsoid(l,i.scene.globe.ellipsoid);if(d!==void 0){let p=Cesium.Cartographic.fromCartesian(d),v=Cesium.Math.toDegrees(p.longitude),g=Cesium.Math.toDegrees(p.latitude);t.longitude=v.toFixed(6),t.latitude=g.toFixed(6)}}},Cesium.ScreenSpaceEventType.LEFT_CLICK),i.scene.camera.moveEnd.addEventListener(function(){let o=s.direction,l=Cesium.Math.toDegrees(Math.atan2(o.y,o.x));t.cameraHeading=((l+360)%360).toFixed(0);let c=s.pitch;t.pitchDegrees=Cesium.Math.toDegrees(c).toFixed(0),t.height=i.camera.positionCartographic.height.toFixed(1);let d=n(Math.ceil(i.camera.positionCartographic.height));t.zoomLevel=d})}}function n(i){let r=40487.57,s=7096758e-11,a=91610.74,o=-40467.74;return Math.round(o+(r-o)/(1+Math.pow(i/a,s)))}return{listenToMouseMovement:e,coords:t}}function So(t,e,n={}){if(console.log("options",n),e[2]||(e[2]=1e6),t){const i=Object.assign({heading:0,pitch:-90,roll:0,duration:3},n);t.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(e[0],e[1],e[2]),orientation:{heading:Cesium.Math.toRadians(i.heading),pitch:Cesium.Math.toRadians(i.pitch),roll:i.roll},duration:i.duration})}}function nce(t,e){if(t)if(t.scene.mode===Cesium.SceneMode.SCENE3D){let n=t.scene,i=t.camera,r=i.position.clone(),s=i.heading,a=i.roll;n.camera.setView({destination:r,orientation:{heading:s,roll:a,pitch:Cesium.Math.toRadians(e)}})}else return console.error("请先切换到三维地球模式！"),1;else return console.error("获取地图失败，请刷新重试！"),2}function ice(t,e){if(!e)return console.error("viewer is undefined"),!1;var n=e.scene;switch(t){case"3d":n.morphTo3D(0);break;case"2d":n.morphTo2D(0);break;case"2.5d":n.morphToColumbusView(0);break}}function rce(t,e,n){const[i,r,s,a]=n;return t>=i&&t<=r&&e>=s&&e<=a}function sce(t,e,n){for(const i of n)if(rce(t,e,i.range))return i;return null}function ace(){const t=W(null),e=W();return{loadTerrain:async(s,a)=>{if(!a.length)return!1;if(!s)return console.error("viewer is undefined"),!1;if(s.scene.mode!==Cesium.SceneMode.SCENE3D)return console.error("The map mode should be in 3D mode."),!1;let o=a.filter(p=>p.type==="global");o&&o.length&&await Cesium.CesiumTerrainProvider.fromUrl(o[0].url,{requestVertexNormals:!0,...o[0].otherOptios}).then(p=>{s.terrainProvider=p,o[0].verticalExaggeration&&(s.scene.verticalExaggeration=o[0].verticalExaggeration)});let l=!1,c=!1,d=a.filter(p=>p.type==="region");if(d&&d.length){const p=async()=>{let v=s.camera.positionCartographic,g=Cesium.Math.toDegrees(v.latitude),y=Cesium.Math.toDegrees(v.longitude),_=v.height;if(l)!c&&_>d[0].height&&(o&&o.length&&await Cesium.CesiumTerrainProvider.fromUrl(o[0].url,{requestVertexNormals:!0,...o[0].otherOptios}).then(w=>{s.terrainProvider=w,o[0].verticalExaggeration&&(s.scene.verticalExaggeration=o[0].verticalExaggeration)}),c=!0,l=!1);else{let w=sce(y,g,d);w&&_<w.height&&(l=!0,c=!1,await Cesium.CesiumTerrainProvider.fromUrl(w.url,{requestVertexNormals:!0,...w.otherOptios}).then(b=>{s.terrainProvider=b,w.verticalExaggeration&&(s.scene.verticalExaggeration=w.verticalExaggeration)}))}};t.value=p,s.camera.changed.addEventListener(p)}},loadSeafloorTerrain:async(s,a)=>{if(!s)return console.error("viewer is undefined"),!1;if(s.scene.mode!==Cesium.SceneMode.SCENE3D)return console.error("The map mode should be in 3D mode."),!1;!a.materialColor&&!a.materialColor.length&&(a.materialColor=[{height:2e3,color:"#B79E6C"},{height:100,color:"#FBFFEE"},{height:0,color:"#F9FCCA"},{height:-500,color:"#BDE7AD"},{height:-1e3,color:"#81D2A3"},{height:-1500,color:"#5AB7A4"},{height:-2e3,color:"#4C9AA0"},{height:-2500,color:"#437D9A"},{height:-4e3,color:"#3E6194"},{height:-5e3,color:"#424380"},{height:-8e3,color:"#392D52"},{height:-1e4,color:"#291C2F"}]),a.type==="offline"?s.terrainProvider=await Cesium.CesiumTerrainProvider.fromUrl(a.url,{requestVertexNormals:!0,...a.otherOptios}):a.type==="online"&&(s.terrainProvider=await Cesium.createWorldBathymetryAsync({requestVertexNormals:!0}));const o=document.createElement("canvas");o.id="colorRamp",o.width=500,o.height=500,a.legendMountElement?a.legendMountElement.appendChild(o):(o.style.display="none",document.body.appendChild(o)),e.value=o;const l=s.scene,c=l.globe;c.showGroundAtmosphere=!1,c.showSkyAtmosphere=!1,c.maximumScreenSpaceError=2;const[d,...p]=a.materialColor,v=p.pop(),g=d.height,y=v.height,_=y-g,w=E=>(E-g)/_;function b(){const E=document.getElementById("colorRamp");E.width=100,E.height=15;const x=E.getContext("2d"),T=x.createLinearGradient(0,0,100,0);return a.materialColor.forEach(k=>{T.addColorStop(w(k.height),k.color)}),x.fillStyle=T,x.fillRect(0,0,E.width,E.height),E}function M(){let E=Cesium.Material.fromType("ElevationRamp");const x=E.uniforms;x.image=b(),x.minimumHeight=g*l.verticalExaggeration,x.maximumHeight=y*l.verticalExaggeration,c.material=E}a.verticalExaggeration&&(l.verticalExaggeration=a.verticalExaggeration),l.shadows=Cesium.ShadowMode.ENABLED,a.enableLighting&&(l.globe.enableLighting=a.enableLighting),l.fxaa=!0,M()},removeTerrain:s=>{t.value&&(s.camera.changed.removeEventListener(t.value),t.value=null),s.scene.globe.material=void 0,s.scene.terrainProvider=new Cesium.EllipsoidTerrainProvider({})},legendCanvans:e}}function oce(t,e,n,i){if(!t)return console.error("viewer is undefined"),!1;let r=0;var s=void 0;let a=new Cesium.CustomDataSource("measureLine");t.dataSources.add(a),document.body.style.cursor="crosshair";var o=new Cesium.ScreenSpaceEventHandler(t.scene.canvas);let l={name:e,color:n?Cesium.Color.fromBytes(...n):Cesium.Color.RED,width:i};var c=new Cesium.CustomDataSource("MyLines");t.dataSources.add(c);var d=[],p=void 0;return o.setInputAction(v=>{const g=NS(t,v.position);if(Cesium.defined(g)){if(d.length===0){d.push(g);const y=new Cesium.CallbackProperty(()=>d,!1);p=OS(c,y,l)}d.push(g);try{if(a){let y=r+"米";a.entities.add({name:"空间直线距离",position:d[d.length-1],point:{pixelSize:5,color:Cesium.Color.RED,outlineColor:Cesium.Color.WHITE,outlineWidth:2},label:{text:y,font:"18px sans-serif",fillColor:Cesium.Color.GOLD,style:Cesium.LabelStyle.FILL_AND_OUTLINE,outlineWidth:2,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,pixelOffset:new Cesium.Cartesian2(20,-20)}})}}catch(y){console.log("errorerror",y)}}},Cesium.ScreenSpaceEventType.LEFT_CLICK),o.setInputAction(v=>{if(d.length>=2){const g=NS(t,v.endPosition);Cesium.defined(g)&&(d.pop(),d.push(g)),r=lce(d)}},Cesium.ScreenSpaceEventType.MOUSE_MOVE),o.setInputAction(v=>{o.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE),d.pop(),c.entities.remove(p),s=OS(c,d,l),document.body.style.cursor="default",setTimeout(()=>{d=[],o.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),o.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),o&&(o.destroy(),o=null)},500)},Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),s}function NS(t,e){let n;if(t.terrainProvider instanceof Cesium.EllipsoidTerrainProvider)n=t.scene.camera.pickEllipsoid(e);else{const i=t.camera.getPickRay(e);n=t.scene.globe.pick(i,t.scene)}return n}function OS(t,e,n){return t.entities.add({name:n.name,polyline:{positions:e,clampToGround:!0,width:n.width,material:n.color}})}function lce(t){let e=0;for(let n=0;n<t.length-1;n++){let i=Cesium.Cartographic.fromCartesian(t[n]),r=Cesium.Cartographic.fromCartesian(t[n+1]),s=new Cesium.EllipsoidGeodesic;s.setEndPoints(i,r);let a=s.surfaceDistance;a=Math.sqrt(Math.pow(a,2)+Math.pow(r.height-i.height,2)),e=e+a}return e.toFixed(2)}function Kd(){W([]);function t(a,o,l,{type:c,name:d="Point",width:p,height:v,scale:g,click:y=!0,doubleClickHeight:_=5e3,attribute:w={},popContent:b,pointHeight:M,doubleClickPitch:E=-90,modelUrl:x,modelScale:T=1,modelMinimumPixelSize:k=64,imgUrl:I}){let O=M||0;if(!l)return console.error("viewer is undefined"),!1;let U={name:d,position:Cesium.Cartesian3.fromDegrees(a,o,O),attribute:w,click:y,doubleClickHeight:_,lon:a,lat:o,popContent:b,doubleClickPitch:E};switch(c){case"model":if(x)U.model={uri:x,scale:T,minimumPixelSize:k};else return console.error("Model URL is required for model type"),!1;break;case"billboard":if(I)U.billboard={image:I,width:p,height:v,scale:g,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,horizontalOrigin:Cesium.HorizontalOrigin.CENTER};else return console.error("Image URL is required for billboard type"),!1;break;case"point":U.point={color:Cesium.Color.RED,pixelSize:10,outlineColor:Cesium.Color.BLACK,outlineWidth:2};break;default:return console.error("Unknown entity type"),!1}return l.entities.add(U)}function e(a,o,l,{name:c="Line",width:d=3}){return l?l.entities.add({name:c,polyline:{positions:Cesium.Cartesian3.fromDegreesArray(a),width:d,material:o}}):(console.error("viewer is undefined"),!1)}function n(a,o,l,c,d,p="Circle"){return d?d.entities.add({position:Cesium.Cartesian3.fromDegrees(a,o),ellipse:{semiMinorAxis:l,semiMajorAxis:l,material:new Cesium.ColorMaterialProperty(Cesium.Color.fromCssColorString(c))}}):(console.error("viewer is undefined"),!1)}function i(a,o,l,{maximumHeights:c=[],minimumHeights:d=[],alpha:p=.5,MaterialIndex:v=1}){if(!a)return console.error("viewer is undefined"),!1;let g=null;c&&d&&c.length&&d.length?g=new Cesium.WallGeometry({positions:Cesium.Cartesian3.fromDegreesArrayHeights(o),maximumHeights:c,minimumHeights:d}):g=new Cesium.WallGeometry({positions:Cesium.Cartesian3.fromDegreesArrayHeights(o)});const y=new Cesium.GeometryInstance({geometry:g,attributes:{color:Cesium.ColorGeometryInstanceAttribute.fromColor(Cesium.Color.WHITE)}});let _=null;v===1?_={type:"Wave",uniforms:{color:Cesium.Color.fromCssColorString(l).withAlpha(p),time:0},source:`
        czm_material czm_getMaterial(czm_materialInput materialInput) {
            czm_material material = czm_getDefaultMaterial(materialInput);
            vec2 st = materialInput.st;
            float time = czm_frameNumber / 60.0; // 动态时间
            float wave = sin((st.s + st.t) * 10.0 + time * 4.0); // 波动公式
            material.diffuse = color.rgb;
            material.alpha = color.a * abs(wave);
            return material;
        }`}:v===2?_={type:"Blinking",uniforms:{color:Cesium.Color.fromCssColorString(l).withAlpha(p),time:0},source:`
        czm_material czm_getMaterial(czm_materialInput materialInput) {
            czm_material material = czm_getDefaultMaterial(materialInput);
            float alpha = abs(sin(czm_frameNumber / 60.0)); // 闪烁效果
            material.diffuse = color.rgb;
            material.alpha = color.a * alpha;
            return material;
        }`}:v===3?_={type:"Gradient",uniforms:{color:Cesium.Color.fromCssColorString(l).withAlpha(p)},source:`
        czm_material czm_getMaterial(czm_materialInput materialInput) {
            czm_material material = czm_getDefaultMaterial(materialInput);
            vec2 st = materialInput.st;
            material.diffuse = color.rgb * st.t; // 渐变效果
            material.alpha = color.a;
            return material;
        }`}:v===4&&(_={type:"MovingStripe",uniforms:{color:Cesium.Color.fromCssColorString(l).withAlpha(p),repeat:10,speed:2,time:0},source:`
        czm_material czm_getMaterial(czm_materialInput materialInput) {
            czm_material material = czm_getDefaultMaterial(materialInput);
            vec2 st = materialInput.st;
            float time = czm_frameNumber / 60.0 * speed;
            float stripe = abs(sin(st.s * repeat + time));
            material.diffuse = color.rgb * stripe;
            material.alpha = color.a * stripe;
            return material;
        }`});const w=new Cesium.Primitive({geometryInstances:y,appearance:new Cesium.MaterialAppearance({material:new Cesium.Material({fabric:_}),translucent:!0}),asynchronous:!1});return a.scene.primitives.add(w),a.camera.setView({destination:Cesium.Cartesian3.fromDegrees(-115,37,2e6)}),w}const r=(a,o)=>{a.forEach(l=>o.entities.remove(l))},s=(a,o)=>{a.forEach(l=>o.scene.primitives.remove(l))};return St(()=>{console.log("Cesium entities initialized.")}),Tn(()=>{console.log("Cesium entities removed.")}),{addPointEntity:t,addLine:e,addCircle:n,addWall:i,removeSpecifyEntity:r,removeSpecifyPrimitive:s}}class DS{constructor(e){if(e){if(this.viewer=e.viewer,this.height=e.height,this.position=Cesium.Cartesian3.fromDegrees(e.position[0],e.position[1],e.height),this.layerData=e,this.vmInstance=typeof e.dom=="string"?this.createDom(e.dom):e.dom,this.dId=e.id?e.id:void 0,this.className=e.className?e.className:void 0,this.offset=e.offset,this.type=e.type,!this.vmInstance||!this.vmInstance.style)throw new Error("Not passing available Dom");this.initDom(),this.show=!0,e.viewer.cesiumWidget.container.appendChild(this.vmInstance),this.addPostRender()}}createDom(e){const n=document.createElement("div");return n.innerHTML=e,n}initDom(){this.className&&this.vmInstance.classList.add(this.className),this.dId&&(this.vmInstance.id="divLabel"+this.dId),this.vmInstance.style.position="absolute",this.vmInstance.style.zIndex="5",this.vmInstance.addEventListener("click",()=>{}),this.vmInstance.classList.contains("cesium-divLabel")||this.vmInstance.classList.add("cesium-divLabel")}setDom(e){e instanceof HTMLElement?(this.vmInstance.remove(),this.vmInstance=e,this.initDom()):this.vmInstance.innerHTML=e}addPostRender(){this.viewer.scene.postRender.addEventListener(this.postRender.bind(this)),this._render=this.postRender.bind(this)}postRender(){if(!this.vmInstance||!this.vmInstance.style||this.vmInstance.style.zIndex==="-1")return;const e=this.viewer.scene.mode===Cesium.SceneMode.SCENE3D,n=this.viewer.scene.mode===Cesium.SceneMode.SCENE2D;let i;if(e?i=this.viewer.scene.cartesianToCanvasCoordinates(this.position):n&&(i=Cesium.SceneTransforms.wgs84ToWindowCoordinates(this.viewer.scene,this.position)),i){if(this.offset)if(this.type&&this.type==="LayerPointTime")this.vmInstance.style.top=i.y+"px",this.vmInstance.style.left=i.x+this.offset[0]+"px";else{this.vmInstance.style.top=i.y+this.offset[1]+"px";const a=this.vmInstance.offsetWidth;this.vmInstance.style.left=i.x-a/2+this.offset[0]+"px"}else{this.vmInstance.style.top=i.y+"px";const a=this.vmInstance.offsetWidth;this.vmInstance.style.left=i.x-a/2+"px"}const r=this.viewer.camera.position;let s=this.viewer.scene.globe.ellipsoid.cartesianToCartographic(r).height;s+=this.viewer.scene.globe.ellipsoid.maximumRadius,!(Cesium.Cartesian3.distance(r,this.position)>s)&&this.viewer.camera.positionCartographic.height<5e7?this.vmInstance.style.display="block":this.vmInstance.style.display="none"}}changePosition(e){return e.length===2&&(this.position=Cesium.Cartesian3.fromDegrees(e[0],e[1],this.height)),this}removeAllDiv(e){document.querySelectorAll(e).forEach(n=>n.remove())}}let uce=class{constructor(){this.listeners=new Map([["drawStart",new Set],["drawUpdate",new Set],["drawEnd",new Set],["editStart",new Set],["editEnd",new Set]])}on(e,n){if(!this.listeners.has(e)){console.warn("Event binding must be one of 'drawStart', 'drawUpdate', or 'drawEnd'.");return}this.listeners.get(e).add(n)}off(e,n){this.listeners.has(e)&&this.listeners.get(e).delete(n)}dispatchEvent(e,n){this.listeners.has(e)&&this.listeners.get(e).forEach(i=>{i(n)})}};const FS=100,M_=1e-4,ii=(t,e)=>Math.sqrt((t[0]-e[0])**2+(t[1]-e[1])**2),Up=t=>{let e=0;return t&&Array.isArray(t)&&t.length>0&&t.forEach((n,i)=>{i<t.length-1&&(e+=ii(n,t[i+1]))}),e},Fs=t=>Up(t)**.99,ds=(t,e)=>[(t[0]+e[0])/2,(t[1]+e[1])/2],Gk=(t,e,n)=>{const i=[(t[0]+e[0])/2,(t[1]+e[1])/2],r=[i[0]-t[1]+e[1],i[1]+t[0]-e[0]],s=[(t[0]+n[0])/2,(t[1]+n[1])/2],a=[s[0]-t[1]+n[1],s[1]+t[0]-n[0]];return cce(i,r,s,a)},cce=(t,e,n,i)=>{if(t[1]===e[1]){const c=(i[0]-n[0])/(i[1]-n[1])*(t[1]-n[1])+n[0],d=t[1];return[c,d]}if(n[1]===i[1]){const c=(e[0]-t[0])/(e[1]-t[1])*(n[1]-t[1])+t[0],d=n[1];return[c,d]}const r=(e[0]-t[0])/(e[1]-t[1]),s=(i[0]-n[0])/(i[1]-n[1]),a=(r*t[1]-t[0]-s*n[1]+n[0])/(r-s);return[r*a-r*t[1]+t[0],a]},La=(t,e)=>{let n;const i=Math.asin(Math.abs(e[1]-t[1])/ii(t,e));return e[1]>=t[1]&&e[0]>=t[0]?n=i+Math.PI:e[1]>=t[1]&&e[0]<t[0]?n=Math.PI*2-i:e[1]<t[1]&&e[0]<t[0]?n=i:e[1]<t[1]&&e[0]>=t[0]&&(n=Math.PI-i),n},i0=(t,e,n)=>{const i=La(e,t)-La(e,n);return i<0?i+Math.PI*2:i},mc=(t,e,n)=>(n[1]-t[1])*(e[0]-t[0])>(e[1]-t[1])*(n[0]-t[0]),T_=(t,e,n,i,r)=>{t=Math.max(Math.min(t,1),0);const[s,a]=[1-t,t*t],o=a*t,l=s*s,c=l*s,d=c*e[0]+3*l*t*n[0]+3*s*a*i[0]+o*r[0],p=c*e[1]+3*l*t*n[1]+3*s*a*i[1]+o*r[1];return[d,p]},tn=(t,e,n,i,r)=>{const s=La(t,e),a=r?s+n:s-n,o=i*Math.cos(a),l=i*Math.sin(a);return[e[0]+o,e[1]+l]},A_=(t,e,n,i)=>{let[r,s,a,o]=[null,null,[],i-n];o=o<0?o+Math.PI*2:o;for(let l=0;l<=100;l++){const c=n+o*l/100;r=t[0]+e*Math.cos(c),s=t[1]+e*Math.sin(c),a.push([r,s])}return a},qd=(t,e,n,i)=>{const r=k_(e,n,i);let[s,a,o,l,c]=[null,null,null,null,null];const d=Math.sqrt(r[0]*r[0]+r[1]*r[1]),p=r[0]/d,v=r[1]/d,g=ii(e,n),y=ii(n,i);return d>M_?mc(e,n,i)?(o=t*g,l=n[0]-o*v,c=n[1]+o*p,s=[l,c],o=t*y,l=n[0]+o*v,c=n[1]-o*p,a=[l,c]):(o=t*g,l=n[0]+o*v,c=n[1]-o*p,s=[l,c],o=t*y,l=n[0]-o*v,c=n[1]+o*p,a=[l,c]):(l=n[0]+t*(e[0]-n[0]),c=n[1]+t*(e[1]-n[1]),s=[l,c],l=n[0]+t*(i[0]-n[0]),c=n[1]+t*(i[1]-n[1]),a=[l,c]),[s,a]},k_=(t,e,n)=>{let i=t[0]-e[0],r=t[1]-e[1];const s=Math.sqrt(i*i+r*r);i/=s,r/=s;let a=n[0]-e[0],o=n[1]-e[1];const l=Math.sqrt(a*a+o*o);a/=l,o/=l;const c=i+a,d=r+o;return[c,d]},dce=(t,e)=>{let[n,i,r,s,a]=[t[0],t[1],t[2],null,null];const l=qd(0,n,i,r)[0],c=k_(n,i,r);if(Math.sqrt(c[0]*c[0]+c[1]*c[1])>M_){const p=ds(n,i),v=n[0]-p[0],g=n[1]-p[1],_=2/ii(n,i),w=-_*g,b=_*v,M=w*w-b*b,E=2*w*b,x=b*b-w*w,T=l[0]-p[0],k=l[1]-p[1];s=p[0]+M*T+E*k,a=p[1]+E*T+x*k}else s=n[0]+e*(i[0]-n[0]),a=n[1]+e*(i[1]-n[1]);return[s,a]},fce=(t,e)=>{const n=t.length,i=t[n-3],r=t[n-2],s=t[n-1],o=qd(0,i,r,s)[1],l=k_(i,r,s),c=Math.sqrt(l[0]*l[0]+l[1]*l[1]);let[d,p]=[null,null];if(c>M_){const v=ds(r,s),g=s[0]-v[0],y=s[1]-v[1],w=2/ii(r,s),b=-w*y,M=w*g,E=b*b-M*M,x=2*b*M,T=M*M-b*b,k=o[0]-v[0],I=o[1]-v[1];d=v[0]+E*k+x*I,p=v[1]+x*k+T*I}else d=s[0]+e*(r[0]-s[0]),p=s[1]+e*(r[1]-s[1]);return[d,p]},P_=(t,e)=>{const n=dce(e,t);let[i,r,s,a,o]=[null,null,null,[n],[]];for(let c=0;c<e.length-2;c++){[i,r,s]=[e[c],e[c+1],e[c+2]];const d=qd(t,i,r,s);a=a.concat(d)}const l=fce(e,t);l&&a.push(l);for(let c=0;c<e.length-1;c++){i=e[c],r=e[c+1],o.push(i);for(let d=0;d<FS;d++){const p=T_(d/FS,i,a[c*2],a[c*2+1],r);o.push(p)}o.push(r)}return o},Wm=function(t){if(t.length<=2)return t;const e=[],n=t.length-1;for(let i=0;i<=1;i+=.01){let[r,s]=[0,0];for(let a=0;a<=n;a++){const o=hce(n,a),l=i**a,c=(1-i)**(n-a);r+=o*l*c*t[a][0],s+=o*l*c*t[a][1]}e.push([r,s])}return e.push(t[n]),e},Km=t=>{let e=1;switch(t){case t<=1:e=1;break;case t===2:e=2;break;case t===3:e=6;break;case t===24:e=24;break;case t===5:e=120;break;default:for(let n=1;n<=t;n++)e*=n;break}return e},hce=(t,e)=>Km(t)/(Km(e)*Km(t-e)),Eo=t=>{if(t.length<=2)return t;const[e,n]=[2,[]],i=t.length-e-1;n.push(t[0]);for(let r=0;r<=i;r++)for(let s=0;s<=1;s+=.05){let[a,o]=[0,0];for(let l=0;l<=e;l++){const c=pce(l,s);a+=c*t[r+l][0],o+=c*t[r+l][1]}n.push([a,o])}return n.push(t[t.length-1]),n},pce=(t,e)=>{let n=0;return t===0?n=(e-1)**2/2:t===1?n=(-2*e**2+2*e+1)/2:t===2&&(n=e**2/2),n};class Pi{constructor(e,n,i){this.geometryPoints=[],this.state="drawing",this.controlPoints=[],this.freehand=!0,this.entityId="",this.points=[],this.minPointsForShape=0,this.cesium=e,this.viewer=n,this.type=this.getType(),this.style=i,this.mergeStyle(i),this.cartesianToLnglat=this.cartesianToLnglat.bind(this),this.pixelToCartesian=this.pixelToCartesian.bind(this),this.eventDispatcher=new uce,n.trackedEntity=void 0,n.cesiumWidget.screenSpaceEventHandler.removeInputAction(this.cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),this.onClick()}mergeStyle(e){this.type==="polygon"?this.style=Object.assign({material:new this.cesium.Color,outlineMaterial:new this.cesium.Color,outlineWidth:2},e):this.type==="line"?this.style=Object.assign({material:new this.cesium.Color,lineWidth:2},e):this.type==="point"&&(this.style=Object.assign({pixelSize:10,heightReference:this.cesium.HeightReference.CLAMP_TO_GROUND,color:this.cesium.Color.RED},e)),this.styleCache=aue(this.style)}setState(e){this.state=e}getState(){return this.state}onClick(){this.eventHandler=new this.cesium.ScreenSpaceEventHandler(this.viewer.canvas),this.eventHandler.setInputAction(e=>{const n=this.viewer.scene.pick(e.position),i=this.cesium.defined(n)&&n.id instanceof this.cesium.Entity;let r=this.polygonEntity;if(this.type==="line"&&(r=this.lineEntity),this.type==="point"&&(r=this.pointEntity),this.state==="drawing"){const s=this.pixelToCartesian(e.position),a=this.getPoints();if(!s||!this.freehand&&a.length>0&&!this.checkDistance(s,a[a.length-1]))return;this.addPoint(s),this.getPoints().length===1&&this.eventDispatcher.dispatchEvent("drawStart"),this.eventDispatcher.dispatchEvent("drawUpdate",s)}else if(this.state==="edit")(!i||r.id!==n.id.id)&&(this.setState("static"),this.type!=="point"&&this.removeControlPoints(),this.disableDrag(),this.eventDispatcher.dispatchEvent("editEnd",this.getPoints()));else if(this.state==="static"&&this.style.isEdit!==!1)try{if(i&&r.id===n.id.id){const s=this.type==="line"?n.id.polyline:this.type==="polygon"?n.id.polygon:n.id.point;this.cesium.defined(s)&&(this.setState("edit"),this.type!=="point"&&this.addControlPoints(),this.draggable(),this.eventDispatcher.dispatchEvent("editStart",this))}}catch(s){console.log("eeee",s)}},this.cesium.ScreenSpaceEventType.LEFT_CLICK)}onMouseMove(){this.eventHandler.setInputAction(e=>{const n=this.getPoints(),i=this.pixelToCartesian(e.endPosition);i&&this.checkDistance(i,n[n.length-1])&&this.updateMovingPoint(i,n.length)},this.cesium.ScreenSpaceEventType.MOUSE_MOVE)}onDoubleClick(){this.eventHandler.setInputAction(e=>{this.state==="drawing"&&this.finishDrawing()},this.cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK)}checkDistance(e,n){return this.cesium.Cartesian3.distance(e,n)>10}finishDrawing(){this.type==="polygon"&&this.lineEntity&&this.viewer.entities.remove(this.lineEntity),this.removeMoveListener(),this.style.isEdit!==!1?(this.setState("edit"),this.type!=="point"&&this.addControlPoints(),this.draggable()):this.setState("static");const e=this.polygonEntity||this.lineEntity||this.pointEntity;this.entityId=e.id,this.eventDispatcher.dispatchEvent("drawEnd",this.getPoints())}removeClickListener(){this.eventHandler.removeInputAction(this.cesium.ScreenSpaceEventType.LEFT_CLICK)}removeMoveListener(){this.eventHandler.removeInputAction(this.cesium.ScreenSpaceEventType.MOUSE_MOVE)}removeDoubleClickListener(){this.eventHandler.removeInputAction(this.cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK)}setGeometryPoints(e){this.geometryPoints=e}getGeometryPoints(){return this.geometryPoints}drawPolygon(){const e=()=>new this.cesium.PolygonHierarchy(this.geometryPoints);if(!this.polygonEntity){const n=this.style;this.polygonEntity=this.viewer.entities.add({polygon:new this.cesium.PolygonGraphics({hierarchy:new this.cesium.CallbackProperty(e,!1),show:!0,material:n.material})}),this.outlineEntity=this.viewer.entities.add({polyline:{positions:new this.cesium.CallbackProperty(()=>[...this.geometryPoints,this.geometryPoints[0]],!1),width:n.outlineWidth,material:n.outlineMaterial,clampToGround:!0}})}}drawLine(){if(!this.lineEntity){const e=this.style;this.lineEntity=this.addLineEntity(e)}}drawPoint(){if(!this.pointEntity){const e=this.getPoints();this.setGeometryPoints(e);const n=this.style;this.pointEntity=this.viewer.entities.add({position:e[0],point:{pixelSize:n.pixelSize,heightReference:n.heightReference,color:n.color}})}}addTempLine(){if(!this.tempLineEntity){const e=this.style,n={material:e.outlineMaterial,lineWidth:e.outlineWidth};this.tempLineEntity=this.addLineEntity(n)}}removeTempLine(){this.tempLineEntity&&this.viewer.entities.remove(this.tempLineEntity)}addLineEntity(e){return this.viewer.entities.add({polyline:{positions:new this.cesium.CallbackProperty(()=>this.geometryPoints,!1),width:e.lineWidth,material:e.material,clampToGround:!0}})}cartesianToLnglat(e){const n=this.viewer.scene.globe.ellipsoid.cartesianToCartographic(e),i=this.cesium.Math.toDegrees(n.latitude);return[this.cesium.Math.toDegrees(n.longitude),i]}pixelToCartesian(e){const n=this.viewer.camera.getPickRay(e);return this.viewer.scene.globe.pick(n,this.viewer.scene)}addControlPoints(){const e=this.getPoints();this.controlPoints=e.map(s=>this.viewer.entities.add({position:s,point:{pixelSize:10,heightReference:this.cesium.HeightReference.CLAMP_TO_GROUND,color:this.cesium.Color.RED}}));let n=!1,i=null,r;this.controlPointsEventHandler=new this.cesium.ScreenSpaceEventHandler(this.viewer.canvas),this.controlPointsEventHandler.setInputAction(s=>{const a=this.viewer.scene.pick(s.position);if(this.cesium.defined(a)){for(let o=0;o<this.controlPoints.length;o++)if(a.id._id===this.controlPoints[o]._id){n=!0,i=this.controlPoints[o],r=i.position._value,i.index=o;break}this.viewer.scene.screenSpaceCameraController.enableRotate=!1}},this.cesium.ScreenSpaceEventType.LEFT_DOWN),this.controlPointsEventHandler.setInputAction(s=>{if(n&&i){const a=this.viewer.camera.pickEllipsoid(s.endPosition,this.viewer.scene.globe.ellipsoid);a&&(i.position.setValue(a),this.updateDraggingPoint(a,i.index))}},this.cesium.ScreenSpaceEventType.MOUSE_MOVE),this.controlPointsEventHandler.setInputAction(()=>{i&&!this.cesium.Cartesian3.equals(r,i.position._value)&&this.eventDispatcher.dispatchEvent("drawUpdate",i.position._value),n=!1,i=null,this.viewer.scene.screenSpaceCameraController.enableRotate=!0},this.cesium.ScreenSpaceEventType.LEFT_UP)}removeControlPoints(){this.controlPoints.length>0&&(this.controlPoints.forEach(e=>{this.viewer.entities.remove(e)}),this.controlPointsEventHandler.removeInputAction(this.cesium.ScreenSpaceEventType.LEFT_DOWN),this.controlPointsEventHandler.removeInputAction(this.cesium.ScreenSpaceEventType.MOUSE_MOVE),this.controlPointsEventHandler.removeInputAction(this.cesium.ScreenSpaceEventType.LEFT_UP))}draggable(){let e=!1,n;this.dragEventHandler=new this.cesium.ScreenSpaceEventHandler(this.viewer.canvas),this.dragEventHandler.setInputAction(i=>{const r=this.viewer.scene.camera.getPickRay(i.position);if(r){const s=this.viewer.scene.globe.pick(r,this.viewer.scene),a=this.viewer.scene.pick(i.position);if(this.cesium.defined(a)&&a.id instanceof this.cesium.Entity){const o=a.id;this.isCurrentEntity(o.id)&&(e=!0,n=s,this.viewer.scene.screenSpaceCameraController.enableRotate=!1)}}},this.cesium.ScreenSpaceEventType.LEFT_DOWN),this.dragEventHandler.setInputAction(i=>{var r,s;if(e&&n){const a=this.pixelToCartesian(i.endPosition);if(a){const o=this.cesium.Cartesian3.subtract(a,n,new this.cesium.Cartesian3);if(this.type==="point"){const c=(r=this.pointEntity.position)==null?void 0:r.getValue(this.cesium.JulianDate.now()),d=this.cesium.Cartesian3.add(c,o,new this.cesium.Cartesian3);(s=this.pointEntity.position)==null||s.setValue(d)}const l=this.geometryPoints.map(c=>this.cesium.Cartesian3.add(c,o,new this.cesium.Cartesian3));this.points=this.points.map(c=>this.cesium.Cartesian3.add(c,o,new this.cesium.Cartesian3)),this.controlPoints.map(c=>{var v,g;const d=(v=c.position)==null?void 0:v.getValue(this.cesium.JulianDate.now()),p=this.cesium.Cartesian3.add(d,o,new this.cesium.Cartesian3);(g=c.position)==null||g.setValue(p)}),this.setGeometryPoints(l),this.minPointsForShape===4&&(this.curveControlPointLeft=this.cesium.Cartesian3.add(this.curveControlPointLeft,o,new this.cesium.Cartesian3),this.curveControlPointRight=this.cesium.Cartesian3.add(this.curveControlPointRight,o,new this.cesium.Cartesian3)),n=a}}else if(this.viewer.scene.camera.getPickRay(i.endPosition)){const o=this.viewer.scene.pick(i.endPosition);if(this.cesium.defined(o)&&o.id instanceof this.cesium.Entity){const l=o.id;this.isCurrentEntity(l.id)?this.viewer.scene.canvas.style.cursor="move":this.viewer.scene.canvas.style.cursor="default"}else this.viewer.scene.canvas.style.cursor="default"}},this.cesium.ScreenSpaceEventType.MOUSE_MOVE),this.dragEventHandler.setInputAction(()=>{e=!1,n=void 0,this.viewer.scene.screenSpaceCameraController.enableRotate=!0},this.cesium.ScreenSpaceEventType.LEFT_UP)}disableDrag(){this.dragEventHandler.removeInputAction(this.cesium.ScreenSpaceEventType.LEFT_DOWN),this.dragEventHandler.removeInputAction(this.cesium.ScreenSpaceEventType.MOUSE_MOVE),this.dragEventHandler.removeInputAction(this.cesium.ScreenSpaceEventType.LEFT_UP)}show(e){if(e){const{duration:n,delay:i,callback:r}=e;this.showWithAnimation(n,i,r);return}else this.showWithAnimation(0,0)}hide(e){if(e){const{duration:n,delay:i,callback:r}=e;this.hideWithAnimation(n,i,r);return}else this.hideWithAnimation(0,0)}showWithAnimation(e=2e3,n=0,i){var r,s,a,o;if(this.state==="hidden"){if(this.setState("static"),this.type==="polygon"){let l=.3;const c=this.styleCache.material;c.image?l=c.color.getValue().alpha:l=c.alpha,this.animateOpacity(this.polygonEntity,l,e,n,i,this.state);const d=(s=(r=this.styleCache)==null?void 0:r.outlineMaterial)==null?void 0:s.alpha;this.animateOpacity(this.outlineEntity,d||1,e,n,void 0,this.state)}else if(this.type==="line"){const l=this.styleCache.material;let c=1;l.image?c=l.color.alpha:l.dashLength?c=l.color.getValue().alpha:c=(o=(a=this.styleCache)==null?void 0:a.material)==null?void 0:o.alpha,this.animateOpacity(this.lineEntity,c,e,n,i,this.state)}e!=0&&this.setState("animating")}}hideWithAnimation(e=2e3,n=0,i){this.state==="hidden"||this.state!="static"||(this.setState("hidden"),this.type==="polygon"?(this.animateOpacity(this.polygonEntity,0,e,n,i,this.state),this.animateOpacity(this.outlineEntity,0,e,n,void 0,this.state)):this.type==="line"&&this.animateOpacity(this.lineEntity,0,e,n,i,this.state),e!=0&&this.setState("animating"))}animateOpacity(e,n,i,r,s,a){setTimeout(()=>{const o=e.polygon||e.polyline||e.billboard;let l,c=o.material;c?c.image&&c.color.alpha!==void 0?l=c.color.alpha:l=c.color.getValue().alpha:l=o.color.getValue().alpha;let d=0;const p=v=>{d||(d=v);const g=v-d;if(g<i){const y=g/i*(n-l),_=l+y;if(c)if(c.image&&c.color.alpha!==void 0)c.color.alpha=_;else{const w=c.color.getValue().withAlpha(_);c.color.setValue(w)}else{const b=o.color.getValue().withAlpha(_);o.color.setValue(b)}requestAnimationFrame(p)}else{s&&s();const y=a||"static";if(c)if(c.image&&c.color.alpha!==void 0)c.color.alpha=n;else{const _=c.color.getValue().withAlpha(n);c.color.setValue(_)}else{const w=o.color.getValue().withAlpha(n);o.color.setValue(w)}requestAnimationFrame(()=>{this.setState(y)})}};requestAnimationFrame(p)},r)}startGrowthAnimation(e){const{duration:n=2e3,delay:i=0,callback:r}=e||{};if(!(this.state==="hidden"||this.state!="static")){if(!this.minPointsForShape){console.warn("Growth animation is not supported for this type of shape");return}if(this.setState("animating"),this.minPointsForShape===4){this.doubleArrowGrowthAnimation(n,i,r);return}setTimeout(()=>{this.hideWithAnimation(0,0,void 0);const s=this.getPoints();let a=0;this.minPointsForShape===2?a=n/(s.length-1):a=n/(s.length-2);let o=Date.now(),l=0;this.viewer.clock.shouldAnimate=!0;const c=d=>{const v=Date.now()-o;if(v>=n){r&&r(),o=0,this.viewer.clock.shouldAnimate=!1,this.viewer.clock.onTick.removeEventListener(c),this.setState("static");return}const g=Math.floor(v/a);let y;this.minPointsForShape===2?l=g+1:l=g+2,y=s[l-1],g==0&&this.minPointsForShape===3&&(y=this.cesium.Cartesian3.midpoint(s[0],s[1],new this.cesium.Cartesian3));let _=s[l];const w=(v-g*a)/a,b=this.cesium.Cartesian3.lerp(y,_,w,new this.cesium.Cartesian3),M=s.slice(0,l+1);M[M.length-1]=b;const E=this.createGraphic(M);this.setGeometryPoints(E),this.showWithAnimation(0,0,void 0)};this.viewer.clock.onTick.addEventListener(c)},i)}}doubleArrowGrowthAnimation(e=2e3,n=0,i){setTimeout(()=>{this.hideWithAnimation(0,0,void 0);const r=this.getPoints();let s=Date.now();this.viewer.clock.shouldAnimate=!0;const a=o=>{const c=Date.now()-s;if(c>=e){i&&i(),s=0,this.viewer.clock.shouldAnimate=!1,this.viewer.clock.onTick.removeEventListener(a),this.setState("static");return}const d=this.cesium.Cartesian3.midpoint(r[0],r[1],new this.cesium.Cartesian3),p=this.cesium.Cartesian3.midpoint(r[0],d,new this.cesium.Cartesian3),v=this.cesium.Cartesian3.midpoint(d,r[1],new this.cesium.Cartesian3);let g=r[3],y=r[2];const _=c/e,w=this.getBezierControlPointforGrowthAnimation();let b=[p,w.left,g],M=[v,w.right,y];const E=this.getNewPosition(b,_),x=this.getNewPosition(M,_),T=[...r];T[2]=x,T[3]=E;const k=this.createGraphic(T);this.setGeometryPoints(k),this.showWithAnimation(0,0,void 0)};this.viewer.clock.onTick.addEventListener(a)},n)}getNewPosition(e,n){e=e.map(s=>this.cartesianToLnglat(s));let i=P_(.3,e);return i=i.map(s=>this.cesium.Cartesian3.fromDegrees(s[0],s[1])),this.interpolateAlongCurve(i,n)}interpolateAlongCurve(e,n){const i=e.length-1,r=Math.floor(n*i),s=n*i-r,a=e[r],o=e[r+1],l=a.x+(o.x-a.x)*s,c=a.y+(o.y-a.y)*s,d=a.z+(o.z-a.z)*s;return new this.cesium.Cartesian3(l,c,d)}remove(){this.type==="polygon"?(this.viewer.entities.remove(this.polygonEntity),this.viewer.entities.remove(this.outlineEntity),this.polygonEntity=null,this.outlineEntity=null,this.lineEntity=null):this.type==="line"?this.viewer.entities.remove(this.lineEntity):this.type==="point"&&this.viewer.entities.remove(this.pointEntity),this.removeClickListener(),this.removeMoveListener(),this.removeDoubleClickListener(),this.removeControlPoints()}on(e,n){this.eventDispatcher.on(e,n)}off(e,n){this.eventDispatcher.off(e,n)}isCurrentEntity(e){return this.entityId===e}addPoint(e){}getPoints(){return[new this.cesium.Cartesian3]}updateMovingPoint(e,n){}updateDraggingPoint(e,n){}getType(){return"polygon"}createGraphic(e){return e}}class Wk extends Pi{constructor(e,n,i){super(e,n,i),this.points=[],this.arrowLengthScale=5,this.maxArrowLength=2,this.cesium=e,this.tailWidthFactor=.1,this.neckWidthFactor=.2,this.headWidthFactor=.25,this.headAngle=Math.PI/8.5,this.neckAngle=Math.PI/13,this.minPointsForShape=2,this.setState("drawing")}getType(){return"polygon"}addPoint(e){if(this.points.length<2&&(this.points.push(e),this.onMouseMove()),this.points.length===2){const n=this.createGraphic(this.points);this.setGeometryPoints(n),this.drawPolygon(),this.finishDrawing()}}updateMovingPoint(e){const n=[...this.points,e],i=this.createGraphic(n);this.setGeometryPoints(i),this.drawPolygon()}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawPolygon()}createGraphic(e){const[n,i]=e.map(this.cartesianToLnglat),r=Fs([n,i]),s=r*this.tailWidthFactor,a=r*this.neckWidthFactor,o=r*this.headWidthFactor,l=tn(i,n,Math.PI/2,s,!0),c=tn(i,n,Math.PI/2,s,!1),d=tn(n,i,this.headAngle,o,!1),p=tn(n,i,this.headAngle,o,!0),v=tn(n,i,this.neckAngle,a,!1),g=tn(n,i,this.neckAngle,a,!0),y=[...l,...v,...d,...i,...p,...g,...c,...n];return this.cesium.Cartesian3.fromDegreesArray(y)}getPoints(){return this.points}}class R_ extends Pi{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.headHeightFactor=.18,this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.headTailFactor=.8,this.minPointsForShape=3,this.setState("drawing"),this.onDoubleClick()}getType(){return"polygon"}addPoint(e){this.points.push(e),this.points.length<2?this.onMouseMove():this.points.length===2&&(this.setGeometryPoints(this.points),this.drawPolygon())}updateMovingPoint(e){const n=[...this.points,e];if(this.setGeometryPoints(n),n.length===2)this.addTempLine();else{this.removeTempLine();const i=this.createGraphic(n);this.setGeometryPoints(i),this.drawPolygon()}}createGraphic(e){const n=e.map(M=>this.cartesianToLnglat(M));let[i,r]=[n[0],n[1]];mc(n[0],n[1],n[2])&&(i=n[1],r=n[0]);const a=[ds(i,r)].concat(n.slice(2)),o=this.getArrowHeadPoints(a,i,r),[l,c]=[o[0],o[4]],d=ii(i,r)/Fs(a),p=this.getArrowBodyPoints(a,l,c,d),v=p.length;let g=[i].concat(p.slice(0,v/2));g.push(l);let y=[r].concat(p.slice(v/2,v));y.push(c),g=Eo(g),y=Eo(y);const _=g.concat(o,y.reverse()),w=[].concat(..._);return this.cesium.Cartesian3.fromDegreesArray(w)}getPoints(){return this.points}getArrowHeadPoints(e,n,i){try{let r=Fs(e),s=r*this.headHeightFactor;const a=e[e.length-1];r=ii(a,e[e.length-2]);const o=ii(n,i);s>o*this.headTailFactor&&(s=o*this.headTailFactor);const l=s*this.headWidthFactor,c=s*this.neckWidthFactor;s=s>r?r:s;const d=s*this.neckHeightFactor,p=tn(e[e.length-2],a,0,s,!0),v=tn(e[e.length-2],a,0,d,!0),g=tn(a,p,Math.PI/2,l,!1),y=tn(a,p,Math.PI/2,l,!0),_=tn(a,v,Math.PI/2,c,!1),w=tn(a,v,Math.PI/2,c,!0);return[_,g,a,y,w]}catch(r){console.log(r)}}getArrowBodyPoints(e,n,i,r){const s=Up(e),o=Fs(e)*r,l=ii(n,i),c=(o-l)/2;let[d,p,v]=[0,[],[]];for(let g=1;g<e.length-1;g++){const y=i0(e[g-1],e[g],e[g+1])/2;d+=ii(e[g-1],e[g]);const _=(o/2-d/s*c)/Math.sin(y),w=tn(e[g-1],e[g],Math.PI-y,_,!0),b=tn(e[g-1],e[g],y,_,!1);p.push(w),v.push(b)}return p.concat(v)}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawPolygon()}}class mce extends R_{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.headHeightFactor=.18,this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.tailWidthFactor=.1,this.headTailFactor=.8,this.swallowTailFactor=1,this.swallowTailPnt=[0,0],this.minPointsForShape=3}createGraphic(e){const n=e.map(T=>this.cartesianToLnglat(T));let[i,r]=[n[0],n[1]];mc(n[0],n[1],n[2])&&(i=n[1],r=n[0]);const a=[ds(i,r)].concat(n.slice(2)),o=this.getArrowHeadPoints(a,i,r),[l,c]=[o[0],o[4]],d=ii(i,r),p=Fs(a),v=p*this.tailWidthFactor*this.swallowTailFactor;this.swallowTailPnt=tn(a[1],a[0],0,v,!0);const g=d/p,y=this.getArrowBodyPoints(a,l,c,g),_=y.length;let w=[i].concat(y.slice(0,_/2));w.push(l);let b=[r].concat(y.slice(_/2,_));b.push(c),w=Eo(w),b=Eo(b);const M=w.concat(o,b.reverse(),[this.swallowTailPnt,w[0]]),E=[].concat(...M);return this.cesium.Cartesian3.fromDegreesArray(E)}}class Kk extends R_{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.headHeightFactor=.18,this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.tailWidthFactor=.1,this.minPointsForShape=2}addPoint(e){this.points.push(e),this.points.length<2?this.onMouseMove():this.points.length>2&&this.lineEntity&&this.viewer.entities.remove(this.lineEntity)}updateMovingPoint(e){const n=[...this.points,e];if(this.setGeometryPoints(n),!(n.length<2)){const i=this.createGraphic(n);this.setGeometryPoints(i),this.drawPolygon()}}createGraphic(e){const n=e.map(y=>this.cartesianToLnglat(y)),i=this.getTailPoints(n),r=this.getArrowHeadPoints(n,i[0],i[1]),s=r[0],a=r[4],o=this.getArrowBodyPoints(n,s,a,this.tailWidthFactor),l=o.length;let c=[i[0]].concat(o.slice(0,l/2));c.push(s);let d=[i[1]].concat(o.slice(l/2,l));d.push(a),c=Eo(c),d=Eo(d);const p=c.concat(r,d.reverse()),v=[].concat(...p);return this.cesium.Cartesian3.fromDegreesArray(v)}getTailPoints(e){const i=Fs(e)*this.tailWidthFactor,r=tn(e[1],e[0],Math.PI/2,i,!1),s=tn(e[1],e[0],Math.PI/2,i,!0);return[r,s]}}class vce extends Kk{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.headHeightFactor=.18,this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.tailWidthFactor=.1,this.swallowTailFactor=1,this.minPointsForShape=2}createGraphic(e){const n=e.map(y=>this.cartesianToLnglat(y)),i=this.getTailPoints(n),r=this.getArrowHeadPoints(n,i[0],i[2]),s=r[0],a=r[4],o=this.getArrowBodyPoints(n,s,a,this.tailWidthFactor),l=o.length;let c=[i[0]].concat(o.slice(0,l/2));c.push(s);let d=[i[2]].concat(o.slice(l/2,l));d.push(a),c=Eo(c),d=Eo(d);const p=c.concat(r,d.reverse(),[i[1],c[0]]),v=[].concat(...p);return this.cesium.Cartesian3.fromDegreesArray(v)}getTailPoints(e){const i=Fs(e)*this.tailWidthFactor,r=tn(e[1],e[0],Math.PI/2,i,!1),s=tn(e[1],e[0],Math.PI/2,i,!0),a=i*this.swallowTailFactor,o=tn(e[1],e[0],0,a,!0);return[r,o,s]}}class gce extends Pi{constructor(e,n,i){super(e,n,i),this.points=[],this.arrowLengthScale=5,this.maxArrowLength=3e6,this.cesium=e,this.minPointsForShape=2,this.setState("drawing")}getType(){return"line"}addPoint(e){if(this.points.length<2&&(this.points.push(e),this.onMouseMove()),this.points.length===2){const n=this.createGraphic(this.points);this.setGeometryPoints(n),this.drawLine(),this.finishDrawing()}}updateMovingPoint(e){const n=[...this.points,e],i=this.createGraphic(n);this.setGeometryPoints(i),this.drawLine()}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawLine()}createGraphic(e){const[n,i]=e.map(this.cartesianToLnglat);let s=ii(n,i)/this.arrowLengthScale;s=s>this.maxArrowLength?this.maxArrowLength:s;const a=tn(n,i,Math.PI/6,s/2,!1),o=tn(n,i,Math.PI/6,s/2,!0),l=[...n,...i,...a,...i,...o];return this.cesium.Cartesian3.fromDegreesArray(l)}getPoints(){return this.points}}class yce extends Pi{constructor(e,n,i){super(e,n,i),this.points=[],this.arrowLengthScale=5,this.maxArrowLength=3e6,this.cesium=e,this.t=.3,this.minPointsForShape=2,this.setState("drawing"),this.onDoubleClick()}getType(){return"line"}addPoint(e){this.points.push(e),this.points.length<2&&this.onMouseMove()}updateMovingPoint(e){const n=[...this.points,e];let i=this.createGraphic(n);this.setGeometryPoints(i),this.drawLine()}createStraightArrow(e){const[n,i]=e.map(this.cartesianToLnglat);let s=ii(n,i)/this.arrowLengthScale;s=s>this.maxArrowLength?this.maxArrowLength:s;const a=tn(n,i,Math.PI/6,s/2,!1),o=tn(n,i,Math.PI/6,s/2,!0),l=[...n,...i,...a,...i,...o];return this.cesium.Cartesian3.fromDegreesArray(l)}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawLine()}createGraphic(e){const n=e.map(v=>this.cartesianToLnglat(v));if(e.length===2)return this.createStraightArrow(e);const i=P_(this.t,n);n[n.length-2];const r=n[n.length-1];let a=Up(n)/this.arrowLengthScale;a=a>this.maxArrowLength?this.maxArrowLength:a;const o=tn(i[i.length-2],i[i.length-1],Math.PI/6,a/2,!1),l=tn(i[i.length-2],i[i.length-1],Math.PI/6,a/2,!0),d=[...[].concat(...i),...o,...r,...l];return this.cesium.Cartesian3.fromDegreesArray(d)}getPoints(){return this.points}}class _ce extends Wk{constructor(e,n,i){super(e,n,i),this.points=[],this.arrowLengthScale=5,this.maxArrowLength=2,this.cesium=e,this.tailWidthFactor=.08,this.neckWidthFactor=.1,this.headWidthFactor=.13,this.headAngle=Math.PI/4,this.neckAngle=Math.PI*.17741,this.minPointsForShape=2,this.setState("drawing")}createGraphic(e){const[n,i]=e.map(this.cartesianToLnglat),r=Fs([n,i])*1.5,s=r*this.tailWidthFactor,a=r*this.neckWidthFactor,o=r*this.headWidthFactor,l=tn(i,n,Math.PI/2,s,!0),c=tn(i,n,Math.PI/2,s,!1),d=tn(n,i,this.headAngle,o,!1),p=tn(n,i,this.headAngle,o,!0),v=tn(n,i,this.neckAngle,a,!1),g=tn(n,i,this.neckAngle,a,!0),y=[...l,...v,...d,...i,...p,...g,...c,...n];return this.cesium.Cartesian3.fromDegreesArray(y)}}class bce extends Pi{constructor(e,n,i){super(e,n,i),this.points=[],this.arrowLengthScale=5,this.maxArrowLength=2,this.llBodyPnts=[],this.rrBodyPnts=[],this.cesium=e,this.headHeightFactor=.25,this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.connPoint=[0,0],this.tempPoint4=[0,0],this.minPointsForShape=4,this.setState("drawing")}getType(){return"polygon"}addPoint(e){this.points.push(e),this.points.length<2?this.onMouseMove():this.points.length===2?(this.setGeometryPoints(this.points),this.drawPolygon()):this.points.length===3?this.lineEntity&&this.viewer.entities.remove(this.lineEntity):this.finishDrawing()}finishDrawing(){this.curveControlPointLeft=this.cesium.Cartesian3.fromDegrees(this.llBodyPnts[2][0],this.llBodyPnts[2][1]),this.curveControlPointRight=this.cesium.Cartesian3.fromDegrees(this.rrBodyPnts[1][0],this.rrBodyPnts[1][1]),super.finishDrawing()}updateMovingPoint(e){const n=[...this.points,e];if(this.setGeometryPoints(n),n.length===2)this.addTempLine();else if(n.length>2){this.removeTempLine();const i=this.createGraphic(n);this.setGeometryPoints(i),this.drawPolygon()}}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawPolygon()}createGraphic(e){const n=e.map(T=>this.cartesianToLnglat(T)),[i,r,s]=[n[0],n[1],n[2]],a=n.length;a===3?(this.tempPoint4=this.getTempPoint4(i,r,s),this.connPoint=ds(i,r)):a===4?(this.tempPoint4=n[3],this.connPoint=ds(i,r)):(this.tempPoint4=n[3],this.connPoint=n[4]);let o,l;this.isClockWise=mc(i,r,s),this.isClockWise?(o=this.getArrowPoints(i,this.connPoint,this.tempPoint4,!1),l=this.getArrowPoints(this.connPoint,r,s,!0)):(o=this.getArrowPoints(r,this.connPoint,s,!1),l=this.getArrowPoints(this.connPoint,i,this.tempPoint4,!0));const c=o.length,d=(c-5)/2,p=o.slice(0,d),v=o.slice(d,d+5);let g=o.slice(d+5,c);this.llBodyPnts=p;let y=l.slice(0,d);const _=l.slice(d,d+5),w=l.slice(d+5,c);this.rrBodyPnts=w,y=Wm(y);const b=Wm(w.concat(p.slice(1)));g=Wm(g);const M=y.concat(_,b,v,g),E=[].concat(...M);return this.cesium.Cartesian3.fromDegreesArray(E)}getTempPoint4(e,n,i){const r=ds(e,n),s=ii(r,i),a=i0(e,r,i);let o=[0,0],l,c,d;return a<Math.PI/2?(l=s*Math.sin(a),c=s*Math.cos(a),d=tn(e,r,Math.PI/2,l,!1),o=tn(r,d,Math.PI/2,c,!0)):a>=Math.PI/2&&a<Math.PI?(l=s*Math.sin(Math.PI-a),c=s*Math.cos(Math.PI-a),d=tn(e,r,Math.PI/2,l,!1),o=tn(r,d,Math.PI/2,c,!1)):a>=Math.PI&&a<Math.PI*1.5?(l=s*Math.sin(a-Math.PI),c=s*Math.cos(a-Math.PI),d=tn(e,r,Math.PI/2,l,!0),o=tn(r,d,Math.PI/2,c,!0)):(l=s*Math.sin(Math.PI*2-a),c=s*Math.cos(Math.PI*2-a),d=tn(e,r,Math.PI/2,l,!0),o=tn(r,d,Math.PI/2,c,!1)),o}getArrowPoints(e,n,i,r){const s=ds(e,n),a=ii(s,i);let o=tn(i,s,0,a*.3,!0),l=tn(i,s,0,a*.5,!0);o=tn(s,o,Math.PI/2,a/5,r),l=tn(s,l,Math.PI/2,a/4,r);const c=[s,o,l,i],d=this.getArrowHeadPoints(c);if(d&&Array.isArray(d)&&d.length>0){const p=d[0],v=d[4],g=ii(e,n)/Fs(c)/2,y=this.getArrowBodyPoints(c,p,v,g);if(y){const _=y.length;let w=y.slice(0,_/2),b=y.slice(_/2,_);return w.push(p),b.push(v),w=w.reverse(),w.push(n),b=b.reverse(),b.push(e),w.reverse().concat(d,b)}}else throw new Error("Interpolation Error")}getArrowBodyPoints(e,n,i,r){const s=Up(e),o=Fs(e)*r,l=ii(n,i),c=(o-l)/2;let d=0,p=[],v=[];for(let g=1;g<e.length-1;g++){const y=i0(e[g-1],e[g],e[g+1])/2;d+=ii(e[g-1],e[g]);const _=(o/2-d/s*c)/Math.sin(y),w=tn(e[g-1],e[g],Math.PI-y,_,!0),b=tn(e[g-1],e[g],y,_,!1);p.push(w),v.push(b)}return p.concat(v)}getArrowHeadPoints(e){const i=Fs(e)*this.headHeightFactor,r=e[e.length-1],s=i*this.headWidthFactor,a=i*this.neckWidthFactor,o=i*this.neckHeightFactor,l=tn(e[e.length-2],r,0,i,!0),c=tn(e[e.length-2],r,0,o,!0),d=tn(r,l,Math.PI/2,s,!1),p=tn(r,l,Math.PI/2,s,!0),v=tn(r,c,Math.PI/2,a,!1),g=tn(r,c,Math.PI/2,a,!0);return[v,d,r,p,g]}getPoints(){return this.points}getBezierControlPointforGrowthAnimation(){return this.isClockWise?{left:this.curveControlPointLeft,right:this.curveControlPointRight}:{right:this.curveControlPointLeft,left:this.curveControlPointRight}}}class wce extends Pi{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.freehand=!0,this.setState("drawing")}getType(){return"line"}addPoint(e){this.points.push(e),this.points.length<2?this.onMouseMove():this.finishDrawing()}updateMovingPoint(e){this.points.push(e),this.setGeometryPoints(this.points),this.drawLine(),this.eventDispatcher.dispatchEvent("drawUpdate",e)}updateDraggingPoint(e,n){this.points[n]=e,this.setGeometryPoints(this.points),this.drawLine()}getPoints(){return this.points}}class Sce extends Pi{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.freehand=!0,this.setState("drawing")}getType(){return"polygon"}addPoint(e){this.points.push(e),this.points.length===1?this.onMouseMove():this.points.length>2&&this.finishDrawing()}updateMovingPoint(e){this.points.push(e),this.points.length>2&&(this.setGeometryPoints(this.points),this.drawPolygon(),this.eventDispatcher.dispatchEvent("drawUpdate",e))}updateDraggingPoint(e,n){this.points[n]=e,this.setGeometryPoints(this.points),this.drawPolygon()}getPoints(){return this.points}}class Ece extends Pi{constructor(e,n,i){super(e,n,i),this.points=[],this.arrowLengthScale=5,this.maxArrowLength=3e6,this.cesium=e,this.t=.3,this.setState("drawing"),this.onDoubleClick()}getType(){return"line"}addPoint(e){this.points.push(e),this.points.length<2?this.onMouseMove():this.points.length===2&&(this.setGeometryPoints(this.points),this.drawLine())}updateMovingPoint(e){const n=[...this.points,e];let i=[];n.length===2?(this.setGeometryPoints(n),this.drawLine()):(i=this.createGraphic(n),this.setGeometryPoints(i))}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawLine()}createGraphic(e){const n=e.map(a=>this.cartesianToLnglat(a)),i=P_(this.t,n),r=[].concat(...i);return this.cesium.Cartesian3.fromDegreesArray(r)}getPoints(){return this.points}}class Cce extends Pi{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.freehand=!0,this.setState("drawing")}getType(){return"polygon"}addPoint(e){this.points.push(e),this.points.length===1?this.onMouseMove():this.points.length>1&&this.finishDrawing()}updateMovingPoint(e){const n=[...this.points,e],i=this.createGraphic(n);this.setGeometryPoints(i),this.drawPolygon()}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawPolygon()}createGraphic(e){const n=e.map(p=>this.cartesianToLnglat(p)),i=n[0],r=n[1],s=ds(i,r),a=Math.abs((i[0]-r[0])/2),o=Math.abs((i[1]-r[1])/2),l=this.generatePoints(s,a,o),c=[].concat(...l);return this.cesium.Cartesian3.fromDegreesArray(c)}generatePoints(e,n,i){let[r,s,a,o]=[null,null,0,[]];for(let l=0;l<=100;l++)a=Math.PI*2*l/100,r=e[0]+n*Math.cos(a),s=e[1]+i*Math.sin(a),o.push([r,s]);return o}getPoints(){return this.points}}class xce extends Pi{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.freehand=!0,this.setState("drawing")}getType(){return"polygon"}addPoint(e){this.points.push(e),this.points.length===1?this.onMouseMove():this.points.length===2||this.points.length>2&&this.finishDrawing()}updateMovingPoint(e){const n=[...this.points,e],i=this.createGraphic(n);this.setGeometryPoints(i),this.drawPolygon()}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawPolygon()}createGraphic(e){const n=e.map(_=>this.cartesianToLnglat(_));if(n.length===2){const _=ds(n[0],n[1]),w=ii(n[0],_),b=tn(n[0],_,Math.PI/2,w,!1);n.push(b)}let[i,r,s,a,o]=[n[0],n[1],n[2],void 0,void 0];const l=Gk(i,r,s),c=ii(i,l),d=La(i,l),p=La(r,l);mc(i,r,s)?(a=p,o=d):(a=d,o=p);let v=A_(l,c,a,o);const g=[].concat(...v);return this.cesium.Cartesian3.fromDegreesArray(g)}getPoints(){return this.points}}class Mce extends Pi{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.setState("drawing")}getType(){return"polygon"}addPoint(e){this.points.push(e),this.points.length===1?this.onMouseMove():this.points.length>1&&this.finishDrawing()}updateMovingPoint(e){const n=[...this.points,e],i=this.createGraphic(n);this.setGeometryPoints(i),this.drawPolygon()}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawPolygon()}createGraphic(e){const[n,i]=e.map(this.cartesianToLnglat),r=[...n,n[0],i[1],...i,i[0],n[1],...n];return this.cesium.Cartesian3.fromDegreesArray(r)}getPoints(){return this.points}}let Tce=class extends Pi{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.setState("drawing")}getType(){return"polygon"}addPoint(e){this.points.push(e),this.points.length===1?this.onMouseMove():this.points.length===3&&this.finishDrawing()}updateMovingPoint(e){const n=[...this.points,e];this.setGeometryPoints(n),n.length===2?this.addTempLine():(this.removeTempLine(),this.drawPolygon())}updateDraggingPoint(e,n){this.points[n]=e,this.setGeometryPoints(this.points),this.drawPolygon()}getPoints(){return this.points}};class Ace extends Pi{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.setState("drawing"),this.onDoubleClick()}getType(){return"polygon"}addPoint(e){this.points.push(e),this.points.length===1&&this.onMouseMove()}updateMovingPoint(e){const n=[...this.points,e];this.setGeometryPoints(n),n.length===2?this.addTempLine():(this.removeTempLine(),this.drawPolygon())}updateDraggingPoint(e,n){this.points[n]=e,this.setGeometryPoints(this.points),this.drawPolygon()}getPoints(){return this.points}}class kce extends Pi{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.freehand=!0,this.setState("drawing")}getType(){return"polygon"}addPoint(e){this.points.push(e),this.points.length===1?this.onMouseMove():this.points.length>1&&this.finishDrawing()}updateMovingPoint(e){const n=[...this.points,e],i=this.createGraphic(n);this.setGeometryPoints(i),this.drawPolygon()}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawPolygon()}createGraphic(e){const n=e.map(c=>this.cartesianToLnglat(c)),i=n[0],r=n[1],s=ii(i,r),a=this.generatePoints(i,s),o=[].concat(...a);return this.cesium.Cartesian3.fromDegreesArray(o)}generatePoints(e,n){let i,r,s;const a=[];for(let o=0;o<=100;o++)s=Math.PI*2*o/100,i=e[0]+n*Math.cos(s),r=e[1]+n*Math.sin(s),a.push([i,r]);return a}getPoints(){return this.points}}class Pce extends Pi{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.setState("drawing")}getType(){return"polygon"}addPoint(e){this.points.push(e),this.points.length===1?this.onMouseMove():this.points.length===3&&this.finishDrawing()}updateMovingPoint(e){const n=[...this.points,e];if(this.setGeometryPoints(n),n.length===2)this.addTempLine();else{this.removeTempLine();const i=this.createGraphic(n);this.setGeometryPoints(i),this.drawPolygon()}}createGraphic(e){const n=e.map(v=>this.cartesianToLnglat(v)),[i,r,s]=[n[0],n[1],n[2]],a=ii(r,i),o=La(r,i),l=La(s,i),c=A_(i,a,o,l);c.push(i,c[0]);const d=[].concat(...c);return this.cesium.Cartesian3.fromDegreesArray(d)}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawPolygon()}getPoints(){return this.points}}class Rce extends Pi{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.freehand=!0,this.t=.4,this.setState("drawing")}getType(){return"polygon"}addPoint(e){this.points.push(e),this.points.length===1?this.onMouseMove():this.points.length===2||this.points.length>2&&this.finishDrawing()}updateMovingPoint(e){const n=[...this.points,e],i=this.createGraphic(n);this.setGeometryPoints(i),this.drawPolygon()}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawPolygon()}createGraphic(e){let n=[],i=e.map(g=>this.cartesianToLnglat(g)).slice(0);if(i.length===2){const g=ds(i[0],i[1]),y=ii(i[0],g),_=tn(i[0],g,Math.PI/2,y,!0);i=[i[0],_,i[1]]}let r=ds(i[0],i[2]);i.push(r,i[0],i[1]);let[s,a,o,l,c]=[[],void 0,void 0,void 0,[]];for(let g=0;g<i.length-2;g++){a=i[g],o=i[g+1],l=i[g+2];let y=qd(this.t,a,o,l);s=s.concat(y)}let d=s.length;s=[s[d-1]].concat(s.slice(0,d-1));for(let g=0;g<i.length-2;g++){a=i[g],o=i[g+1],c.push(a);for(let y=0;y<=40;y++){let _=T_(y/40,a,s[g*2],s[g*2+1],o);c.push(_)}c.push(o)}let p=c;for(let g=0;g<p.length;g++)n=n.concat(p[g]);return Cesium.Cartesian3.fromDegreesArray(n)}getPoints(){return this.points}}class Ice extends Pi{constructor(e,n,i){super(e,n,i),this.points=[],this.arrowLengthScale=5,this.maxArrowLength=3e6,this.cesium=e,this.t=.3,this.setState("drawing"),this.onDoubleClick()}getType(){return"line"}addPoint(e){this.points.push(e),this.points.length<2?this.onMouseMove():this.points.length===2?(this.setGeometryPoints(this.points),this.drawLine()):this.points.length>2&&this.finishDrawing()}updateMovingPoint(e){const n=[...this.points,e];let i=[];n.length===2?(this.setGeometryPoints(n),this.drawLine()):(i=this.createGraphic(n),this.setGeometryPoints(i))}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawLine()}createGraphic(e){const n=e.map(s=>this.cartesianToLnglat(s));let i=n.length,r=[];if(!(i<2))if(i===2){for(let a=0;a<n.length;a++)r=r.concat(n[a]);return Cesium.Cartesian3.fromDegreesArray(r)}else{let[s,a,o,l,c]=[n[0],n[1],n[2],null,null],d=Gk(s,a,o),p=ii(s,d),v=La(s,d),g=La(a,d);mc(s,a,o)?(l=g,c=v):(l=v,c=g);let y=A_(d,p,l,c);for(let w=0;w<y.length;w++)r=r.concat(y[w]);return Cesium.Cartesian3.fromDegreesArray(r)}}getPoints(){return this.points}}class Lce extends Pi{constructor(e,n,i){super(e,n,i),this.points=[],this.arrowLengthScale=5,this.maxArrowLength=3e6,this.cesium=e,this.t=.3,this.setState("drawing"),this.onDoubleClick()}getType(){return"line"}addPoint(e){this.points.push(e),this.points.length<2?this.onMouseMove():this.points.length===2&&(this.setGeometryPoints(this.points),this.drawLine())}updateMovingPoint(e){const n=[...this.points,e];let i=[];n.length===2?(this.setGeometryPoints(n),this.drawLine()):(i=this.createGraphic(n),this.setGeometryPoints(i))}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawLine()}createGraphic(e){const n=e.map(s=>this.cartesianToLnglat(s));let i=[];for(let s=0;s<n.length;s++)i=i.concat(n[s]);return Cesium.Cartesian3.fromDegreesArray(i)}getPoints(){return this.points}}class Nce extends Pi{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.freehand=!0,this.t=.4,this.setState("drawing"),this.onDoubleClick()}getType(){return"polygon"}addPoint(e){this.points.push(e),this.points.length===1&&this.onMouseMove()}updateMovingPoint(e){const n=[...this.points,e],i=this.createGraphic(n);this.setGeometryPoints(i),this.drawPolygon()}updateDraggingPoint(e,n){this.points[n]=e;const i=this.createGraphic(this.points);this.setGeometryPoints(i),this.drawPolygon()}createGraphic(e){let n=[],i=e.map(r=>this.cartesianToLnglat(r));if(i.length===2){for(let s=0;s<i.length;s++)n=n.concat(i[s]);return Cesium.Cartesian3.fromDegreesArray(n)}else{let r=i.slice(0);r.push(r[0],r[1]);let[s,a]=[[],[]];for(let d=0;d<r.length-2;d++){let p=qd(this.t,r[d],r[d+1],r[d+2]);s=s.concat(p)}let o=s.length;s=[s[o-1]].concat(s.slice(0,o-1));for(let d=0;d<r.length-2;d++){let p=r[d],v=r[d+1];a.push(p);for(let g=0;g<=40;g++){let y=T_(g/40,p,s[d*2],s[d*2+1],v);a.push(y)}a.push(v)}let l=a;for(let d=0;d<l.length;d++)n=n.concat(l[d]);return Cesium.Cartesian3.fromDegreesArray(n)}}getPoints(){return this.points}}class Oce extends Pi{constructor(e,n,i){super(e,n,i),this.points=[],this.cesium=e,this.setState("drawing")}getType(){return"point"}addPoint(e){this.points.push(e),this.points.length===1&&(this.drawPoint(),this.finishDrawing())}updateMovingPoint(e){const n=[...this.points,e];this.setGeometryPoints(n)}updateDraggingPoint(e,n){this.points[n]=e,this.setGeometryPoints(this.points)}getPoints(){return this.points}}const Pa={FineArrow:Wk,AttackArrow:R_,SwallowtailAttackArrow:mce,SquadCombat:Kk,SwallowtailSquadCombat:vce,StraightArrow:gce,CurvedArrow:yce,AssaultDirection:_ce,DoubleArrow:bce,FreehandLine:wce,FreehandPolygon:Sce,Curve:Ece,Ellipse:Cce,Lune:xce,Reactangle:Mce,Triangle:Tce,Polygon:Ace,Circle:kce,Sector:Pce,GatheringPlace:Rce,Arc:Ice,Polyline:Lce,ClosedCurve:Nce,Point:Oce};Pa.createGeometryFromData=(t,e,n)=>{const{type:i,style:r,cartesianPoints:s}=n,a=new Pa[i](t,e,r);a.points=s;const o=a.createGraphic(s);return a.setGeometryPoints(o),a.type=="polygon"?a.drawPolygon():a.drawLine(),a.finishDrawing(),a.onClick(),a};function Dce(){return`#version 300 es
    precision highp float;
    uniform sampler2D colorTexture;
    in vec2 v_textureCoordinates;
    out vec4 fragColor;

    float snow(vec2 uv, float scale) {
        float time = czm_frameNumber / 60.0;
        float w = smoothstep(1.0, 0.0, -uv.y * (scale / 10.0));
        if (w < 0.1) return 0.0;
        uv += time / scale;
        uv.y += time * 2.0 / scale;
        uv.x += sin(uv.y + time * 0.5) / scale;
        uv *= scale;
        vec2 s = floor(uv), f = fract(uv), p;
        float k = 3.0, d;
        p = 0.5 + 0.35 * sin(11.0 * fract(sin((s + p + scale) * mat2(7, 3, 6, 5)) * 5.0)) - f;
        d = length(p);
        k = min(d, k);
        k = smoothstep(0.0, k, sin(f.x + f.y) * 0.01);
        return k * w;
    }

    void main(void) {
        vec2 resolution = czm_viewport.zw;
        vec2 uv = (gl_FragCoord.xy * 2.0 - resolution.xy) / min(resolution.x, resolution.y);
        vec3 finalColor = vec3(0.0);
        float c = 0.0;
        c += snow(uv, 30.0) * 0.0;
        c += snow(uv, 20.0) * 0.0;
        c += snow(uv, 15.0) * 0.0;
        c += snow(uv, 10.0);
        c += snow(uv, 8.0);
        c += snow(uv, 6.0);
        c += snow(uv, 5.0);
        finalColor = vec3(c);
        fragColor = mix(texture(colorTexture, v_textureCoordinates), vec4(finalColor, 1.0), 0.3);
    }
`}function Fce(){return`#version 300 es
    precision highp float;
    uniform sampler2D colorTexture;
    in vec2 v_textureCoordinates;
    out vec4 fragColor;

    float hash(float x) {
      return fract(sin(x * 23.3) * 13.13);
    }

    void main(void) {
      float time = czm_frameNumber / 60.0;
      vec2 resolution = czm_viewport.zw;

      vec2 uv = (gl_FragCoord.xy * 2.0 - resolution.xy) / min(resolution.x, resolution.y);
      vec3 c = vec3(0.6, 0.7, 0.8);

      float a = -0.4;
      float si = sin(a), co = cos(a);
      uv *= mat2(co, -si, si, co);
      uv *= length(uv + vec2(0, 4.9)) * 0.3 + 1.0;

      float v = 1.0 - sin(hash(floor(uv.x * 100.0)) * 2.0);
      float b = clamp(abs(sin(20.0 * time * v + uv.y * (5.0 / (2.0 + v)))) - 0.95, 0.0, 1.0) * 20.0;
      c *= v * b;

      fragColor = mix(texture(colorTexture, v_textureCoordinates), vec4(c, 1.0), 0.5);
    }
  `}function qk(){const t=W(null),e=W(null);function n(a){let o=a.scene.postProcessStages,l=Dce(),c=new Cesium.PostProcessStage({name:"czm_snow",fragmentShader:l});o.add(c),t.value=c}function i(a){let o=a.scene.postProcessStages,l=Fce(),c=new Cesium.PostProcessStage({name:"czm_rain",fragmentShader:l});o.add(c),e.value=c}return{addSnowScene:n,addRainScene:i,removeSnowScene:a=>{t.value&&(a.scene.postProcessStages.remove(t.value),t.value=null)},removeRainScene:a=>{e.value&&(a.scene.postProcessStages.remove(e.value),e.value=null)}}}async function BS(t,e,n,i){(function(o){const l={};function c(d){if(l[d])return l[d].exports;const p=l[d]={i:d,l:!1,exports:{}};return o[d].call(p.exports,p,p.exports,c),p.l=!0,p.exports}c.m=o,c.c=l,c.d=function(d,p,v){c.o(d,p)||Object.defineProperty(d,p,{enumerable:!0,get:v})},c.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},c.t=function(d,p){if(1&p&&(d=c(d)),8&p||4&p&&typeof d=="object"&&d&&d.__esModule)return d;const v=Object.create(null);if(c.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:d}),2&p&&typeof d!="string")for(let g in d)c.d(v,g,(function(y){return d[y]}).bind(null,g));return v},c.n=function(d){let p=d&&d.__esModule?function(){return d.default}:function(){return d};return c.d(p,"a",p),p},c.o=function(d,p){return Object.prototype.hasOwnProperty.call(d,p)},c.p="",c(c.s=0)})([function(o,l,c){o.exports=c(1)},function(o,l,c){echarts?c(2).load():console.error("missing echarts lib")},function(o,l,c){function d(g,y){for(let _=0;_<y.length;_++){let w=y[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}c.r(l);let p=function(){function g(b,M){(function(E,x){if(!(E instanceof x))throw new TypeError("Cannot call a class as a function")})(this,g),this._viewer=b,this.dimensions=["lng","lat"],this._mapOffset=[0,0],this._api=M}let y,_,w;return y=g,w=[{key:"create",value:function(b,M){let E;b.eachComponent("GLMap",function(x){(E=new g(r.cesiumViewer,M)).setMapOffset(x.__mapOffset||[0,0]),x.coordinateSystem=E}),b.eachSeries(function(x){x.get("coordinateSystem")==="GLMap"&&(x.coordinateSystem=E)})}},{key:"dimensions",get:function(){return["lng","lat"]}}],(_=[{key:"setMapOffset",value:function(b){return this._mapOffset=b,this}},{key:"getViewer",value:function(){return this._viewer}},{key:"dataToPoint",value:function(b){let M=this._viewer.scene,E=[0,0],x=t.Cartesian3.fromDegrees(b[0],b[1]);if(!x)return E;if(M.mode===t.SceneMode.SCENE3D&&t.Cartesian3.angleBetween(M.camera.position,x)>t.Math.toRadians(80))return!1;let T=M.cartesianToCanvasCoordinates(x);return T?[T.x-this._mapOffset[0],T.y-this._mapOffset[1]]:E}},{key:"pointToData",value:function(b){let M=this._mapOffset,E=e.scene.globe.ellipsoid,x=new t.cartesian3(b[1]+M,b[2]+M[2],0),T=E.cartesianToCartographic(x);return[T.lng,T.lat]}},{key:"getViewRect",value:function(){let b=this._api;return new echarts.graphic.BoundingRect(0,0,b.getWidth(),b.getHeight())}},{key:"getRoamTransform",value:function(){return echarts.matrix.create()}}])&&d(y.prototype,_),w&&d(y,w),g}();echarts.extendComponentModel({type:"GLMap",getViewer:function(){return r.cesiumViewer},defaultOption:{roam:!1}}),echarts.extendComponentView({type:"GLMap",init:function(g,y){this.api=y,r.cesiumViewer.scene.postRender.addEventListener(this.moveHandler,this)},moveHandler:function(g,y){this.api.dispatchAction({type:"GLMapRoam"})},render:function(g,y,_){},dispose:function(g){r.cesiumViewer.scene.postRender.removeEventListener(this.moveHandler,this)}});function v(){echarts.registerCoordinateSystem("GLMap",p),echarts.registerAction({type:"GLMapRoam",event:"GLMapRoam",update:"updateLayout"},function(g,y){})}c.d(l,"load",function(){return v})}]);const r={...echarts,cesiumViewer:e};function s(o,l,c){this._canvasConfig=c,this._mapContainer=o,this.viewer=e,this._overlay=this._createChartOverlay(),this._overlay.setOption(l)}return s.prototype._createChartOverlay=function(){console.log(this),this._mapContainer.scene.canvas.setAttribute("tabIndex",0);const l=document.createElement("div");l.style.position="absolute",this._canvasConfig?(l.style.top="0px",l.style.left="0px",l.style.width=this._canvasConfig.width,l.style.height=this._canvasConfig.height,l.style.pointerEvents="none"):(l.style.top="0px",l.style.left="0px",l.style.width="100%",l.style.height="100%",l.style.pointerEvents="none");const c=document.getElementsByClassName("echartMap").length;return l.setAttribute("id","ysCesium-echarts-"+parseInt(Math.random()*99999)+"-"+c),l.setAttribute("class","echartMap"),this._mapContainer.container.appendChild(l),this._echartsContainer=l,echarts.init(l)},s.prototype.dispose=function(){this._echartsContainer&&(this._mapContainer.container.removeChild(this._echartsContainer),this._echartsContainer=null),this._overlay&&(this._overlay.dispose(),this._overlay=null)},s.prototype.updateOverlay=function(o){this._overlay&&this._overlay.setOption(o)},s.prototype.getMap=function(){return this._mapContainer},s.prototype.getOverlay=function(){return this._overlay},s.prototype.show=function(){document.getElementById(this._echartsContainer.id).style.visibility="visible"},s.prototype.hide=function(){document.getElementById(this._echartsContainer.id).style.visibility="hidden"},new s(e,n,i)}let jt={config:{},canvas:{width:1e3,delta:50},_bounds:{min:{lat:Number.MAX_VALUE,lng:Number.MAX_VALUE},max:{lat:Number.MIN_VALUE,lng:Number.MIN_VALUE}}};var zo;class Bce{constructor(e,n,i,r){this.viewer=n,zo=e,jt.config=Object.assign({},jt.config,r),jt.config.container=document.createElement("canvas"),this.setData(i)}_parseData(e){let n={max:Number.MIN_VALUE,data:[]};return jt.bounds=JSON.parse(JSON.stringify(jt._bounds)),e.map(i=>{jt.bounds.min.lat=Math.min(jt.bounds.min.lat,i.lat),jt.bounds.min.lng=Math.min(jt.bounds.min.lng,i.lng),jt.bounds.max.lat=Math.max(jt.bounds.max.lat,i.lat),jt.bounds.max.lng=Math.max(jt.bounds.max.lng,i.lng)}),jt.canvas.height=Math.floor(jt.canvas.width*(jt.bounds.max.lat-jt.bounds.min.lat)/(jt.bounds.max.lng-jt.bounds.min.lng)),n.delta={x:jt.canvas.width/(jt.bounds.max.lng-jt.bounds.min.lng),y:jt.canvas.height/(jt.bounds.max.lat-jt.bounds.min.lat)},e.map(i=>{let r=isNaN(parseInt(i.value))?1:parseInt(i.value);n.max=Math.max(n.max,r),n.data.push({x:jt.canvas.delta+Math.floor(n.delta.x*(i.lng-jt.bounds.min.lng)),y:Math.floor(jt.canvas.height+jt.canvas.delta-n.delta.y*(i.lat-jt.bounds.min.lat)),value:r})}),jt.config.container.width=jt.canvas.width+jt.canvas.delta*2,jt.config.container.height=jt.canvas.height+jt.canvas.delta*2,document.body.appendChild(jt.config.container),this.heatmapInstance=h337.create(jt.config),n}remove(){this.viewer.entities.removeById(jt.config.id)}show(){this.entity&&(this.entity.rectangle.show=!0)}hide(){this.entity&&(this.entity.rectangle.show=!1)}fromLatLngToPoint(e){let n=(1-Math.log(Math.tan(e.lat*Math.PI/180)+1/Math.cos(e.lat*Math.PI/180))/Math.PI)/2*256;return{x:256*(.5+e.lng/360),y:n}}setData(e){jt.config.container.style.display="block";const n=this._parseData(e);this.viewer.entities.removeById(jt.config.id),this.heatmapInstance.setData(n),jt.config.id=new Date().getTime(),this.entity=this.viewer.entities.add({id:jt.config.id,zIndex:-100,rectangle:{heightReference:zo.HeightReference.CLAMP_TO_GROUND,coordinates:zo.Rectangle.fromDegrees(Math.max(jt.bounds.min.lng-(jt.bounds.max.lng-jt.bounds.min.lng)*jt.canvas.delta/jt.canvas.width,-180),Math.max(jt.bounds.min.lat-(jt.bounds.max.lat-jt.bounds.min.lat)*jt.canvas.delta/jt.canvas.height,-90),Math.min(jt.bounds.max.lng+(jt.bounds.max.lng-jt.bounds.min.lng)*jt.canvas.delta/jt.canvas.width,180),Math.min(jt.bounds.max.lat+(jt.bounds.max.lat-jt.bounds.min.lat)*jt.canvas.delta/jt.canvas.height,90)),outline:!0,outlineWidth:10,outlineColor:zo.Color.YELLOW,materials:zo.Color.RED,material:new zo.ImageMaterialProperty({image:this.heatmapInstance.getDataURL(),repeat:new zo.Cartesian2(1,1),transparent:!0})}}),jt.config.container.style.display="none"}}let Uce=class{constructor(e,n){this.radius=0,this.maxRadius=999e3,this.drawPolyogn=null,this.transformWGS84ToCartesian=(i,r=0)=>i?Cesium.Cartesian3.fromDegrees(i.lon,i.lat,r||i.alt,Cesium.Ellipsoid.WGS84):Cesium.Cartesian3.ZERO,this.transformCartesianToWGS84=i=>{const s=Cesium.Ellipsoid.WGS84.cartesianToCartographic(i);return{lon:Cesium.Math.toDegrees(s.longitude),lat:Cesium.Math.toDegrees(s.latitude),alt:s.height}},this.transformWGS84ToCartographic=i=>i?Cesium.Cartographic.fromDegrees(i.lon||i.lon,i.lat,i.alt):Cesium.Cartographic.ZERO,this.clear=()=>{this.drawLayer.entities&&this.drawLayer.entities.removeAll()},this.viewer=e,this.radius=this.setRadius(n),this.drawLayer=new Cesium.CustomDataSource("measureLayer"),this.viewer.dataSources.add(this.drawLayer)}transformWGS84ArrayToCartesianArray(e,n){return e?e.map(i=>this.transformWGS84ToCartesian(i,n)):[]}transformCartesianArrayToWGS84Array(e){if(this.viewer)return e?e.map(n=>this.transformCartesianToWGS84(n)):[]}getCatesian3FromPX(e){if(this.viewer&&e){const n=this.viewer.scene.drillPick(e);let i=null,r=!1,s=!1;Object.keys(n).forEach(o=>{const l=n[o];if(l&&l.primitive instanceof(Cesium.Cesium3DTileFeature||Cesium.Cesium3DTileset||Cesium.Model)&&(r=!0),r&&(this.viewer.scene.pick(e),i=this.viewer.scene.pickPosition(e),i)){const c=Cesium.Cartographic.fromCartesian(i);c.height<0&&(c.height=0);const d=Cesium.Math.toDegrees(c.longitude),p=Cesium.Math.toDegrees(c.latitude),{height:v}=c;i=this.transformWGS84ToCartesian({lon:d,lat:p,alt:v})}});const a=this.viewer.terrainProvider instanceof Cesium.EllipsoidTerrainProvider;if(!r&&!a){const o=this.viewer.scene.camera.getPickRay(e);if(!o)return null;i=this.viewer.scene.globe.pick(o,this.viewer.scene),s=!0}if(!r&&!s&&a&&(i=this.viewer.scene.camera.pickEllipsoid(e,this.viewer.scene.globe.ellipsoid)),i){const o=this.transformCartesianToWGS84(i);return o.alt<0&&(i=this.transformWGS84ToCartesian(o,.1)),i}return!1}}async createBuffer(e,n){return new Promise((i,r)=>{this.drawPolyogn=e,this.drawType=n,n==="Polygon"&&(e[0].x!==e[e.length-1].x||e[0].y!==e[e.length-1].y||e[0].z!==e[e.length-1].z)&&e.push(e[0]);let s=_le(e),a=this.initPolygonBuffer(s,this.radius,n);i(a)})}initPolygonBuffer(e,n,i){let r=this.pointsToDegreesArray(e),s=null;i==="Polygon"?s=xk([e]):i==="Polyline"?s=oue(e):i==="Point"&&(s=x_(e[0]));const a=Yue(s,n,{units:"meters"}),{coordinates:o}=a.geometry,l=o[0];return r=this.pointsToDegreesArray(l),this.addBufferPolyogn(Cesium.Cartesian3.fromDegreesArray(r)),Cesium.Cartesian3.fromDegreesArray(r)}addBufferPolyogn(e){this.drawLayer.entities.add({id:"polyognBuffer",polygon:{hierarchy:new Cesium.PolygonHierarchy(e),material:Cesium.Color.RED.withAlpha(.3),classificationType:Cesium.ClassificationType.BOTH}})}updateBuffer(e){this.setRadius(e),this.clear(),this.createBuffer(this.drawPolyogn,this.drawType)}pointsToDegreesArray(e){const n=[];return e.map(i=>{n.push(i[0]),n.push(i[1])}),n}setRadius(e){let n=Math.max(0,Math.min(e,this.maxRadius));return this.radius=n,n}},r0=[];function Vce(t,e,n){return new Promise((i,r)=>{r0=[];let s=[];return e.length?(e.forEach((a,o)=>{if(a.color){const l=t.entities.add({name:"Purple",polyline:{positions:Cesium.Cartesian3.fromDegreesArray(a.positions.flat()),width:3,material:new Cesium.PolylineArrowMaterialProperty(Cesium.Color.fromCssColorString(a.color))}});zce(a.positions,a.color,t),r0.push({color:a.color,data:mle(a.positions)}),s.push(l)}}),$ce(t,n),i(null),s):!1})}const zce=(t,e,n)=>{t&&t.length&&(console.log("dataaa",t),t.forEach(i=>{n.entities.add({position:Cesium.Cartesian3.fromDegrees(i[0],i[1],0),attribute:{data:[]},point:{pixelSize:6,pickable:!0,color:Cesium.Color.fromCssColorString(e)}})}))},$ce=(t,e)=>{r0.forEach(n=>{n.data.forEach(i=>{let r=vle(i[0],i[1]),s=fue(i[0],i[1]);const a=Cesium.Math.toRadians(-s+90),o=n.color;Cesium.Color.fromCssColorString(o).withAlpha(1),t.entities.add({position:r,billboard:{rotation:a,image:e,scale:.1,alignedAxis:Cesium.Cartesian3.UNIT_Z}}),t.scene.requestRender()})})};function Hce(t){let e=t.position.getValue(Cesium.JulianDate.now()),n=Cesium.Math.toDegrees(Cesium.Cartographic.fromCartesian(e).longitude),i=Cesium.Math.toDegrees(Cesium.Cartographic.fromCartesian(e).latitude);return{position:[n,i],entities:t}}function Gce(t){return[Cesium.Math.toDegrees(t.longitude),Cesium.Math.toDegrees(t.latitude)]}function Yk(t,e){(t[0].x!==t[t.length-1].x||t[0].y!==t[t.length-1].y||t[0].z!==t[t.length-1].z)&&t.push(t[0]);let n=[];const i=t.map(o=>new Cesium.Cartesian3(o.x,o.y,o.z)),r=new Cesium.PolygonHierarchy(i);let s=Cesium.Ellipsoid.WGS84.cartesianArrayToCartographicArray(r.positions),a=xk([s.map(Gce)]);return e.forEach(o=>{let l=Hce(o),c=x_(l.position);mue(c,a)&&n.push(o)}),n}const Tf=3.141592653589793/180,fr=3.1412592653589795,US=6378245,VS=.006693421622965943;class mu{static BD09ToGCJ02(e,n){let i=+e-.0065,r=+n-.006,s=Math.sqrt(i*i+r*r)-2e-4*Math.sin(r*Tf),a=Math.atan2(r,i)-3e-4*Math.cos(i*Tf),o=s*Math.cos(a),l=s*Math.sin(a);return[o,l]}static GCJ02ToBD09(e,n){n=+n,e=+e;let i=Math.sqrt(e*e+n*n)+2e-5*Math.sin(n*Tf),r=Math.atan2(n,e)+3e-5*Math.cos(e*Tf),s=i*Math.cos(r)+.0065,a=i*Math.sin(r)+.0065;return[s,a]}static WGS84ToGCJ02(e,n){if(n=+n,e=+e,this.out_of_china(e,n))return[e,n];{let i=this.delta(e,n);return[e+i[0],n+i[1]]}}static GCJ02ToWGS84(e,n){if(n=+n,e=+e,this.out_of_china(e,n))return[e,n];{let i=this.delta(e,n),r=e+i[0],s=n+i[1];return[e*2-r,n*2-s]}}static delta(e,n){let i=this.transformLng(e-106,n-35),r=this.transformLat(e-105,n-35);const s=n/180*fr;let a=Math.sin(s);a=1-VS*a*a;const o=Math.sqrt(a);return i=i*180/(US/o*Math.cos(s)*fr),r=r*180/(US*(1-VS)/(a*o)*fr),[i,r]}static transformLng(e,n){n=+n,e=+e;let i=300+e+2*n+.1*e*e+.1*e*n+.1*Math.sqrt(Math.abs(e));return i+=(20*Math.sin(6*e*fr)+20*Math.sin(2*e*fr))*2/3,i+=(20*Math.sin(6*e*fr)+40*Math.sin(e/3*fr))*2/3,i+=(150*Math.sin(e/12*fr)+300*Math.sin(e/30*fr))*2/3,i}static transformLat(e,n){n=+n,e=+e;let i=-100+2*e+3*n+.2*n*n+.1*e*n+.2*Math.sqrt(Math.abs(e));return i+=(20*Math.sin(6*e*fr)+20*Math.sin(2*e*fr))*2/3,i+=(20*Math.sin(n*fr)+40*Math.sin(n/3*fr))*2/3,i+=(160*Math.sin(n/12*fr)+320*Math.sin(n*fr/30))*2/3,i}static out_of_china(e,n){return n=+n,e=+e,!(e>73.66&&e<135.05&&n>3.86&&n<53.55)}static transformWGS84ToCartesian(e,n){return e?Cesium.Cartesian3.fromDegrees("lng"in e?e.lng:e.lon,e.lat,e.alt=n||e.alt,Cesium.Ellipsoid.WGS84):Cesium.Cartesian3.ZERO}static transformCartesianToWGS84(e){let i=Cesium.Ellipsoid.WGS84.cartesianToCartographic(e);return{lng:Cesium.Math.toDegrees(i.longitude),lat:Cesium.Math.toDegrees(i.latitude),alt:i.height}}static getLatLonFromScreenPosition(e,n,i){const s=e.scene.pickPosition(new Cesium.Cartesian2(n,i));if(s){const a=Cesium.Cartographic.fromCartesian(s),o=Cesium.Math.toDegrees(a.latitude),l=Cesium.Math.toDegrees(a.longitude),c=a.height,d=s.x,p=s.y,v=s.z;return{latitude:o,longitude:l,height:c,x:d,y:p,z:v}}return null}static getEntityFromLngLatXYZ(e){var n=e.position.getValue(Cesium.JulianDate.now());if(n){var i=Cesium.Cartographic.fromCartesian(n),r=Cesium.Math.toDegrees(i.longitude),s=Cesium.Math.toDegrees(i.latitude),a=i.height,o=n.x,l=n.y,c=n.z;return{latitude:s,longitude:r,height:a,x:o,y:l,z:c}}return null}}class zS{constructor(e,n,{arrowLength:i=120,d:r=1,r:s=1,radiusNum:a=100}){if(!e)throw new Error("viewer is required!");this._viewer=e,this._entity=n,this._handler=void 0,this._defaultWidth=15,this._currentPick=void 0,this._arrowLength=i,this._radiusNum=a,this._dStep=r,this._rStep=s,this._params={tx:0,ty:0,tz:0,rx:0,ry:0,rz:0},this._coordArrows=void 0,this._coordCircle=[],this._directionMap=new Map,this.initEvent()}get params(){return this._params}initParam(){this.removeAllTools();let e=this._entity,n=this._arrowLength;const i=mu.getEntityFromLngLatXYZ(e);return this._params.tx=i.longitude,this._params.ty=i.latitude,this._params.tz=i.height,{positionInfo:i,length:n}}editRotation(){const e=this.initParam();this.createCircle(e.positionInfo.longitude,e.positionInfo.latitude,e.positionInfo.height,this._radiusNum)}createCircle(e,n,i,r){const s=[];for(let y=0;y<=360;y+=3){const _=Math.sin(Cesium.Math.toRadians(y)),w=Math.cos(Cesium.Math.toRadians(y)),b=r*w,M=r*_;s.push(new Cesium.Cartesian3(b,M,0))}const a=Cesium.Transforms.eastNorthUpToFixedFrame(Cesium.Cartesian3.fromDegrees(e,n,i)),o=this.createAxisSphere("model_edit_zCircle",s,a,Cesium.Color.RED);this._viewer.scene.primitives.add(o);const l=this.createAxisSphere("model_edit_yCircle",s,a,Cesium.Color.GREEN);this._viewer.scene.primitives.add(l);let c=Cesium.Matrix3.fromRotationY(Cesium.Math.toRadians(90)),d=Cesium.Matrix4.fromRotationTranslation(c);Cesium.Matrix4.multiply(l.geometryInstances.modelMatrix,d,l.geometryInstances.modelMatrix);const p=this.createAxisSphere("model_edit_xCircle",s,a,Cesium.Color.BLUE);this._viewer.scene.primitives.add(p);let v=Cesium.Matrix3.fromRotationX(Cesium.Math.toRadians(90)),g=Cesium.Matrix4.fromRotationTranslation(v);Cesium.Matrix4.multiply(p.geometryInstances.modelMatrix,g,p.geometryInstances.modelMatrix)}createAxisSphere(e,n,i,r){let s=new Cesium.Primitive({geometryInstances:new Cesium.GeometryInstance({id:e,geometry:new Cesium.PolylineGeometry({positions:n,width:5}),attributes:{color:Cesium.ColorGeometryInstanceAttribute.fromColor(r)}}),releaseGeometryInstances:!1,appearance:new Cesium.PolylineColorAppearance({translucent:!1}),modelMatrix:i});return s._name=e,this._coordCircle.push(s),s}editTranslation(){const e=this.initParam();let n=this._arrowLength,i=new Cesium.Cartesian3(n,n,n),r={x:e.positionInfo.x,y:e.positionInfo.y,z:e.positionInfo.z},s=this.getTransPostion(r,i),a={lng:e.positionInfo.longitude,lat:e.positionInfo.latitude,alt:e.positionInfo.height};this.initLineArrow(a,s)}updateLineArrow(e){this.removeCoordArrows();let n=mu.getEntityFromLngLatXYZ(e);const i=e.position.getValue(Cesium.JulianDate.now());let r={alt:n.height,lat:n.latitude,lng:n.longitude},s=this._arrowLength,a=new Cesium.Cartesian3(s,s,s),o=this.getTransPostion({x:i.x,y:i.y,z:i.z},a);this.initLineArrow(r,o)}initEvent(){const e=this,n=this._viewer;e._handler=new Cesium.ScreenSpaceEventHandler(n.scene.canvas),e._handler.setInputAction(function(i){let r=n.scene.pick(i.position);if(r&&r.primitive&&r.primitive._name&&r.primitive._name.indexOf("model_edit")!=-1){n.scene.screenSpaceCameraController.enableRotate=!1,e._currentPick=r.primitive,e._currentPick.width=25;let s=n.scene.camera.pickEllipsoid(i.position,n.scene.globe.ellipsoid),a=0,o=0,l=0,c=0,d=0,p=0;if(s&&Cesium.defined(s)){a=0,o=0,l=0,c=0,d=0,p=0;const v=mu.transformCartesianToWGS84(s);e._handler.setInputAction(function(g){let y=n.scene.camera.pickEllipsoid(g.endPosition,n.scene.globe.ellipsoid);const _=mu.transformCartesianToWGS84(y),w=g.endPosition.y-i.position.y,b=g.endPosition.x-i.position.x;switch(e._currentPick._name){case"model_edit_xArrow":a=_.lng-v.lng;break;case"model_edit_yArrow":o=_.lat-v.lat;break;case"model_edit_zArrow":l=-e._dStep*w;break;case"model_edit_xCircle":c=e._rStep*w;break;case"model_edit_yCircle":d=e._rStep*b;break;case"model_edit_zCircle":p=e._rStep*b;break}e.updateModel(e._params,a,o,l,c,d,p)},Cesium.ScreenSpaceEventType.MOUSE_MOVE)}e._handler.setInputAction(function(v){n.scene.screenSpaceCameraController.enableRotate=!0,e._currentPick.width=e._defaultWidth,e._currentPick=void 0,e._params.tx+=a,e._params.ty+=o,e._params.tz+=l,e._params.rx+=c,e._params.ry+=d,e._params.rz+=p,e._handler.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE),e._handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_UP)},Cesium.ScreenSpaceEventType.LEFT_UP)}},Cesium.ScreenSpaceEventType.LEFT_DOWN)}updateModel(e,n,i,r,s,a,o){let l=Cesium.Matrix3.fromRotationX(Cesium.Math.toRadians(e.rx+s)),c=Cesium.Matrix3.fromRotationY(Cesium.Math.toRadians(e.ry+a)),d=Cesium.Matrix3.fromRotationZ(Cesium.Math.toRadians(e.rz+o)),p=Cesium.Matrix4.fromRotationTranslation(l),v=Cesium.Matrix4.fromRotationTranslation(c),g=Cesium.Matrix4.fromRotationTranslation(d),y=Cesium.Cartesian3.fromDegrees(e.tx+n,e.ty+i,e.tz+r),_=Cesium.Transforms.eastNorthUpToFixedFrame(y);Cesium.Matrix4.multiply(_,p,_),Cesium.Matrix4.multiply(_,v,_),Cesium.Matrix4.multiply(_,g,_),this._entity.position=y;const w=new Cesium.HeadingPitchRoll(Cesium.Math.toRadians(e.rz+o),Cesium.Math.toRadians(e.ry+a),Cesium.Math.toRadians(e.rx+s)),b=Cesium.Transforms.headingPitchRollQuaternion(this._entity.position.getValue(Cesium.JulianDate.now()),w);this._entity.orientation=b,this._coordArrows&&this.updateLineArrow(this._entity)}initLineArrow(e,n){const i=new Cesium.PolylineCollection,r=[e.lng,e.lat,e.alt,n.lng,e.lat,e.alt];this.drawArrow(i,"model_edit_xArrow",r,Cesium.Color.GREEN);const s=[e.lng,e.lat,e.alt,e.lng,n.lat,e.alt];this.drawArrow(i,"model_edit_yArrow",s,Cesium.Color.BLUE);const a=[e.lng,e.lat,e.alt,e.lng,e.lat,n.alt];this.drawArrow(i,"model_edit_zArrow",a,Cesium.Color.RED),this._coordArrows=this._viewer.scene.primitives.add(i),this._coordArrows._name="CoordAxis"}drawArrow(e,n,i,r){const s=e.add({positions:Cesium.Cartesian3.fromDegreesArrayHeights(i),width:this._defaultWidth,material:Cesium.Material.fromType(Cesium.Material.PolylineArrowType,{color:r})});s._name=n}getTransPostion(e,n){let i=Cesium.Transforms.eastNorthUpToFixedFrame(e),r=new Cesium.Matrix4;Cesium.Matrix4.setTranslation(Cesium.Matrix4.IDENTITY,n,r);let s=Cesium.Matrix4.multiply(i,r,i);return Cesium.Matrix4.getTranslation(s,e),mu.transformCartesianToWGS84(e)}removeCoordArrows(){this._coordArrows&&(this._viewer.scene.primitives.remove(this._coordArrows),this._coordArrows=void 0,this._directionMap.clear())}removeCoordCircle(){this._coordCircle.forEach(e=>{this._viewer.scene.primitives.remove(e)}),this._coordCircle=[]}removeAllTools(){this.removeCoordArrows(),this.removeCoordCircle()}destroy(){this.removeAllTools(),this._handler.destroy()}}class Wce{constructor(){this.x=null,this.dx=null,this.y=null,this.age=null,this.birthAge=null,this.path=null}}class Kce{constructor(e){this.west=null,this.east=null,this.south=null,this.north=null,this.rows=null,this.cols=null,this.dx=null,this.dy=null,this.unit=null,this.date=null,this.grid=[],this._init(e)}_init(e){const{header:n,uComponent:i,vComponent:r}=e;this.west=+n.lo1,this.east=+n.lo2,this.south=+n.la2,this.north=+n.la1,this.rows=+n.ny,this.cols=+n.nx,this.dx=+n.dx,this.dy=+n.dy,this.unit=n.parameterUnit,this.date=n.refTime;let s=0;for(let a=0;a<this.rows;a++){const o=[];for(let l=0;l<this.cols;l++,s++){const c=this._calcUV(i[s],r[s]);o.push(c)}this.grid.push(o)}}_calcUV(e,n){return[+e,+n,Math.sqrt(e*e+n*n)]}_bilinearInterpolation(e,n,i,r,s,a){const o=1-e,l=1-n,c=o*l,d=e*l,p=o*n,v=e*n,g=i[0]*c+r[0]*d+s[0]*p+a[0]*v,y=i[1]*c+r[1]*d+s[1]*p+a[1]*v;return this._calcUV(g,y)}getIn(e,n){var p,v,g,y,_;const i=Math.floor(e),r=Math.floor(n);if(i===e&&r===n)return((p=this.grid[r])==null?void 0:p[i])||null;const s=i+1,a=r+1,o=(v=this.grid[r])==null?void 0:v[i],l=(g=this.grid[r])==null?void 0:g[s],c=(y=this.grid[a])==null?void 0:y[i],d=(_=this.grid[a])==null?void 0:_[s];return!o||!l||!c||!d?null:this._bilinearInterpolation(e-i,n-r,o,l,c,d)}isInBound(e,n){return e>=0&&e<(this.cols??0)-2&&n>=0&&n<(this.rows??0)-2}}const $S=.15,qce=2e3,Yce=10,jce=1.5;class Xce{constructor({json:e,cesiumViewer:n,speed:i}){this.windField=null,this.particles=[],this.lines=null,this.timerId=null,this.speed=300,this.isVisible=!0,this.isPaused=!1,this.windData=e,this.primitives=n.scene.primitives,this.speed=i,this._init()}_init(){this.windField=this.createField();for(let e=0;e<qce;e++){const n=new Wce;this.particles.push(this.randomParticle(n))}}createField(){const e=this._parseWindJson();return new Kce(e)}_parseWindJson(){let e=[],n=[],i=null;return this.windData.forEach(r=>{switch(`${r.header.parameterCategory},${r.header.parameterNumber}`){case"2,2":e=r.data,i=r.header;break;case"2,3":n=r.data;break}}),{header:i,uComponent:e,vComponent:n}}animate(){if(!this.windField)return;const e=this.windField,n=[];this.particles.forEach(i=>{if(i.age<=0&&this.randomParticle(i),i.age>0){const{x:r,y:s}=i;if(!e.isInBound(r,s))i.age=0;else{const a=e.getIn(r,s);if(!a)return;const o=r+$S*a[0],l=s+$S*a[1];i.path.push(o,l),i.x=o,i.y=l,n.push(this._createLineInstance(this._map(i.path),i.age/i.birthAge)),i.age--}}}),n.length<=0?this.removeLines():this._drawLines(n)}pauseWindy(){this.timerId&&(clearInterval(this.timerId),this.timerId=null,this.isPaused=!0)}resumeWindy(){!this.timerId&&this.isPaused&&this.loadWindy()}stop(){this.timerId&&(clearInterval(this.timerId),this.timerId=null,this.isPaused=!1,console.log("定时器已停止"))}loadWindy(){if(this.timerId)return;let e=this;this.timerId=setInterval(function(){e.animate()},this.speed)}destroyWindy(){this.timerId&&(clearInterval(this.timerId),this.timerId=null,this.isPaused=!1),this.removeLines()}hideWindy(){this.lines&&(this.pauseWindy(),this.lines.show=!1,this.isVisible=!1)}showWindy(){this.lines&&(this.resumeWindy(),this.lines.show=!0,this.isVisible=!0)}_map(e){if(!this.windField)return[];const{dx:n,dy:i,west:r,north:s}=this.windField,a=[];for(let o=0;o<=e.length-2;o+=2)a.push(r+e[o]*n,s-e[o+1]*i);return a}_createLineInstance(e,n){const i=[],r=e.length/2;for(let s=0;s<r;s++)i.push(Cesium.Color.WHITE.withAlpha(s/r*n*jce));return new Cesium.GeometryInstance({geometry:new Cesium.PolylineGeometry({positions:Cesium.Cartesian3.fromDegreesArray(e),colors:i,width:1.5,colorsPerVertex:!0})})}_drawLines(e){this.removeLines();const n=new Cesium.Primitive({appearance:new Cesium.PolylineColorAppearance({translucent:!0}),geometryInstances:e,asynchronous:!1});this.lines=this.primitives.add(n)}removeLines(){this.lines&&(this.primitives.remove(this.lines),this.lines.destroy(),this.lines=null)}randomParticle(e){var s;if(!this.windField)return e;let n=30,i,r;do i=Math.floor(Math.random()*(this.windField.cols-2)),r=Math.floor(Math.random()*(this.windField.rows-2));while(((s=this.windField.getIn(i,r))==null?void 0:s[2])<=0&&n++<30);return e.x=i,e.y=r,e.age=Math.round(Math.random()*Yce),e.birthAge=e.age,e.path=[i,r],e}}const Zce={class:"appMain"},Jce={class:"plot_list"},Qce=["onClick"],ede={class:"operation"},tde=ie({__name:"plot",setup(t){tce();const e=W(null),n=Xt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},coords:{},currentIndex:null,viewer:null,plotList:[{label:"点",key:"Point"},{label:"线",key:"Polyline"},{label:"面",key:"Polygon"},{label:"直箭头（粗单尖箭头）",key:"FineArrow"},{label:"进攻方向箭头",key:"AttackArrow"},{label:"进攻方向箭头（燕尾）",key:"SwallowtailAttackArrow"},{label:"分队战斗方向",key:"SquadCombat"},{label:"分队战斗方向（燕尾）",key:"SwallowtailSquadCombat"},{label:"细直箭头",key:"StraightArrow"},{label:"曲线箭头",key:"CurvedArrow"},{label:"突击方向（粗单直箭头）",key:"AssaultDirection"},{label:"双箭头（钳击）",key:"DoubleArrow"},{label:"自由线",key:"FreehandLine"},{label:"自由面",key:"FreehandPolygon"},{label:"曲线",key:"Curve"},{label:"椭圆",key:"Ellipse"},{label:"半月面（弓型面）",key:"Lune"},{label:"矩形",key:"Reactangle"},{label:"三角形",key:"Triangle"},{label:"圆形",key:"Circle"},{label:"扇形",key:"Sector"},{label:"集结地",key:"GatheringPlace"},{label:"弓形线",key:"Arc"},{label:"闭合曲面",key:"ClosedCurve"}]}),i=W(null);St(()=>{console.log("dlsMapRef",e.value)});const r=()=>{i.value&&i.value.show()},s=()=>{i.value&&i.value.hide({duration:1e3,delay:0})},a=()=>{i.value&&i.value.remove(),i.value=null},o=()=>{i.value&&i.value.startGrowthAnimation()},l=()=>{},c=()=>{},d=()=>{console.log("绘制结束"),n.currentIndex=null},p=_=>{console.log("编辑开始",_),i.value=_},v=_=>{console.log("编辑结束",_)},g=(_,w)=>{n.currentIndex=w;const b=new Pa[_.key](Cesium,n.viewer,{material:Cesium.Color.fromCssColorString("rgba(59, 178, 208, 0.5)"),outlineMaterial:Cesium.Color.fromCssColorString("rgba(59, 178, 208, 1)"),outlineWidth:3,color:Cesium.Color.BLUE,pixelSize:10});i.value=b,console.log("geometry",b),b.on("drawStart",l),b.on("drawUpdate",c),b.on("drawEnd",d),b.on("editStart",p),b.on("editEnd",v)},y=_=>{n.viewer=_.viewer};return(_,w)=>{const b=At("el-button");return P(),K("div",Zce,[Q(f(br),{mapConfig:{id:"dls-map-plot",imageryProvider:n.imageryProvider,sceneModeNum:3},"viewer-width":"100%","viewer-height":"500px",ref_key:"dlsMapRef",ref:e,onReady:y},null,8,["mapConfig"]),Z("div",Jce,[(P(!0),K(ct,null,Vt(n.plotList,(M,E)=>(P(),K("div",{class:z([{active:n.currentIndex===E},"plot_btn"]),onClick:x=>g(M,E)},Ne(M.label),11,Qce))),256))]),Z("div",ede,[Q(b,{onClick:r,type:"primary"},{default:te(()=>[pt("显示")]),_:1}),Q(b,{onClick:s,type:"primary"},{default:te(()=>[pt("隐藏")]),_:1}),Q(b,{onClick:a,type:"primary"},{default:te(()=>[pt("删除")]),_:1}),Q(b,{onClick:o,type:"primary"},{default:te(()=>[pt("动画")]),_:1})])])}}}),nde=$t(tde,[["__scopeId","data-v-c803fbe7"]]),ide={class:"appMain"},rde={class:"operation"},sde=ie({__name:"terrain",setup(t){const e=W(null),n=Xt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null,materialColor:[{height:2e3,color:"#B79E6C"},{height:100,color:"#FDF6CE"},{height:0,color:"#F9FCCA"},{height:-500,color:"#BDE7AD"},{height:-1e3,color:"#81D2A3"},{height:-1500,color:"#5AB7A4"},{height:-2e3,color:"#4C9AA0"},{height:-2500,color:"#437D9A"},{height:-4e3,color:"#3E6194"},{height:-5e3,color:"#274777"},{height:-8e3,color:"#112E5B"},{height:-1e4,color:"#08234C"}]}),i=W(null),{loadTerrain:r,removeTerrain:s,loadSeafloorTerrain:a,legendCanvans:o}=ace();St(()=>{console.log("dlsMapRef",e.value)});const l=()=>{s(n.viewer),o.value.remove()},c=()=>{r(n.viewer,[{type:"global",url:"https://data.marsgis.cn/terrain/",verticalExaggeration:1},{type:"region",url:"https://data.marsgis.cn/terrain/",range:[112.3242,123.574,33.8378,45.1757],height:1e6,verticalExaggeration:1}]),So(n.viewer,[116.0339,40.0144,1e3],{pitch:-11})},d=()=>{a(n.viewer,{type:"online",verticalExaggeration:20,enableLighting:!0,materialColor:n.materialColor,legendMountElement:i.value}),So(n.viewer,[114.62,15.02,1e4],{pitch:-11})},p=v=>{console.log("执行了",v.viewer),n.viewer=v.viewer};return(v,g)=>{const y=At("el-button");return P(),K("div",ide,[Q(f(br),{mapConfig:{id:"dls-map-layer-terrain",imageryProvider:n.imageryProvider,sceneModeNum:3},ref_key:"dlsMapRef",ref:e,"viewer-width":"100%","viewer-height":"500px",onReady:p},null,8,["mapConfig"]),Z("div",rde,[Q(y,{onClick:c,type:"primary"},{default:te(()=>[pt("加载地形")]),_:1}),Q(y,{onClick:d,type:"primary"},{default:te(()=>[pt("加载海洋地形")]),_:1}),Q(y,{onClick:l,type:"primary"},{default:te(()=>[pt("移除地形")]),_:1})]),Z("div",{ref_key:"legend",ref:i,class:"legend"},null,512)])}}}),ade=$t(sde,[["__scopeId","data-v-be9d214c"]]),jk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAIzElEQVRYhc1Z23IbxxHtnsEuCJAgABJUqItTciIpcZRy5dkP+Rd/mV7zI9FLnmKXkrJpW3aVWJIoSiBBEMBepjvVPbPQYHchyY6S8pBTAyzI6bNne870GeDjv/0VPlLDaJrqNUfX+GOE6TSufHjDqEMNcFurAHPU/+eAcQtQ03KtAheDpC3APxj8zwFsamBN1NtAV60OlqLOtc8/CmCsAZLRRqMN1230edwqYC4aXbjutrC+tbUCfvjosY5PvvxiG9BOeF0f6+kSMyjgytqIEfDq7+nho8cc4jewtQIOfxw/YhsBk55Uoylcuvv8cpRerfZtVvZNSV1gtv7ZoKOOyVy3s8gHO7Prm8MLSmwOAEUAX40YMW+efPkFP3z0uDVFtslazKytgUyldy+We4Nn0+POdXYIiAkbNIDyP4gcGEZljBkYCIkJmItyt/v66s74RTbqzQEgDz0G71oW6DsZbgObBsCpKVxv9N3Z7XS2OmZrUu5Yy0b+Dg0btNEcilbfEDu2TEiQ2FXRHX/zYpLv77y4uHfjlBJrAuh4sbqAoQF6G+A6WOnd7sViMPzh/J5xtM8d22GDviNaZRfRcE0lhGU2wi4QGnZIXAKiTefZJ5OvT4eXv5t8l436Vy3qUuX4OwHHUlWlgfRu79V8PPzx/D4j9qljUjYmCWA7oKNnGXBz0TELS0zIQExcouFSQCNBgY6H45Ozzy7vTk6WR3vTmkrEQNf5HAPGLYvMM/v0/AEb7LE1XbaYkjEpeIZTRkwA4S3TgBjgEgpTzCV4Zkt9jVwE8hEcgcxNiflXNuq36TTGTLcBjhmWnN0ZfX9+vwJLHnCXjbAsIwrwbgCdKui3WlyiB5uj4RyJMyAoGMHIr0G5H5+qEuPV57efUGJjjTYR6K2AY1VIZYEh0UDTwGIawFage2yxJ2nCBncABTgkkqPKLkPJIEBhBURLQF4wcobECCIcYMAwSdqzKWkgsd58dvPHSOIqxtf53dnCroIW6VI10AVmElJWjQdtzS4b7JM1Aza4B4h78h4QugDKMjFzAQxLNHyNDq4QuYPI1x6DAWQiBqN5ywacxOpeLM+zUa8IGBosx4AhBisM7z2b3lTpCmoQctYz68EO2ZoRGxxLT2ercf/VVb+zKCwlhlYHu/lysnfBBqcApgtIfjdkZFUPRifqAQadzm9NKjGDRhcR064NcLz9WtHL5Do78Drr1UAXmNG06CmzAtbiDZO746OvTie9V1c7seQMfziHcicZnn9+e7Q83EuNLkgSuCXrYtRF6PS9wQ4SlhJTYrudJItKgbXyxIVK/EGnf3Y19DsYWF1IHnQSFpjkrKTA2Gbu5q2/f3+zDnadc6vC/uYfPx3svpzdYWMO2Zh9knRCTEEkEdGyajgY3YAQE43tn3JMZAPkBsPpbDXU7dZrq1Gd9dKVhAWmgCdfnx4KqAbSeDUzw+Sfz0YmLw/Z4AAQexyUxUuhgPaxJKbEjqR1A2PM8EZxbvOy5+9aJ/STeZ1NVQ0M9iVntzFbb8YRDp+ejwBRFqvMLTJotQeyfCwwGrvdLDRq13UdoVVX2AB0u/U/CtpLF3RlgTWQvaP1Xs1F9uQGk8CuriHWucNmI+xo7I2appG3UPsApUTkhu1BP4luDmhFDbbDa7aQOmE33Ii7fs0hdgNPGOsMf1hj1q3Tpba1Zt3WqOM1V39+YTNbig2W4hvrxYgHWsoOJrVt7gX+g1s27OfAIHJVhDmoXvBgiN3AE8Y6w+vCWZyCFt9VIS7lIYDT2gBYAi8XR4Np2UvchwKe3T1cIPMCmDO5YV8YyTYCpHWdhxBitxfxMeAN2+3SzjI4BeeZUMfgCxmCFTJfA8L09cNbl41KtqVdfTJerA76Z8g8R+IlMudAXCBzdcMhlqRaZ7ntGMDULlZVksv3dy7V1kAovj14qb5yJFoikQS+WBwNTs/+8tspWbM1LwXs6z/feo7Eb9DxTAETZ/q0WMtPeXK+biYmiV1z12uMcbUWf1Aubgwud59fFmJrxClwqGeROJeqC538LxkR6MXxPj07eLAYPj0f9s7nXbsqLXcMZfu9Ynb3YLE62D3zYOk1kgK+Bik1WXJZSABPCin4QmIHf9c4s6gANxiWvbzY7b7prIouBqfgUwJyRra+6pJkIMnvnBI7n/7hePfNH1VntVqT65KzxtE8MDsLT2bln5TO6RkOryVmqCPaGN4ADBFgdbHzO+Pn429eiCu23ouxL75DPavLBYwDphwJF7JlI+imYoJ0FbLAQgpIv/bppNfkZgpvl0J3lEvMmoOmGGMbw2vQUuaJuxXDKB5MtyExC+CdgqeXHBNmbHAh6RN2L13MlfwFNjPweZsrWFKwoZP0shjsvAylZQy2leEYdFV7ahEtVvzoq9MROpVItTVUFd9az2KJiBkTrqQuCBZp09N5NSg1Z/3CjYCymNGcjbma3r/xLFj++hnFekG3Aa7uStOCEru6+P3kZPzt2Z8qpyC2Rp2C108HoeISwFVBsJ5TFUaVxmt4yNc1u440ZaYPjk4kVgS2we42wBxZE00DOTe4/HTyrdh8cbl+ywcWp6DFN7LBwCzXbL4qgGfbhQ0iACZlVhbl5aeTk3A2kdWcRkOH6+cScW1Qwlu2UM4NKDH/FncrhlE8WGWd0Fdx6gdxXXVVkHUHq1imt4uMSk2De0d1sHWGN+qVtpOfmOWN63JuIFa8OqoSDya2RpwCro+qqt18PZceVflNIWwSjvLoqGoVgc235e77AFNICVe/LucGYsXF3YphFA+G4TBQV+N7DgNFZ0W6PuZhoJwPsxx5hrcx6LXsiRWXoHLcund6MU7m2b44BSm+sXncuiz2urP57dF0y3GrqzMbMDSwtQIOoCk60I7vuloQNqhINrt7KMXKyxZL874D7TKac/2VQnWg3da2nQ/H7f/1lUFDwtraVoajFk+CLTn+q/tSJmYqfuTxrvir/NoLWtiuOrUw2/a/daA/u/0334TWg7a53DZf9ssbAPwHPfE1CkLjZT4AAAAASUVORK5CYII=",ode={class:"appMain"},lde={class:"operation"},ude=ie({__name:"graphics",setup(t){const e=W(null),n=Xt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null,pointEntity:null,wallEntity:null}),{addPointEntity:i,addLine:r,addCircle:s,addWall:a,removeSpecifyEntity:o,removeSpecifyPrimitive:l}=Kd();St(()=>{console.log("dlsMapRef",e.value)});const c=()=>{o([n.pointEntity],n.viewer),n.pointEntity=null},d=()=>{l([n.wallEntity],n.viewer),n.wallEntity=null},p=()=>{if(n.pointEntity)n.viewer.flyTo(n.pointEntity,{duration:2,offset:new Cesium.HeadingPitchRange(0,-.5,500)});else{const w=i(116.4134,39.911,n.viewer,{type:"billboard",imgUrl:jk});n.pointEntity=w,n.viewer.flyTo(w,{duration:2,offset:new Cesium.HeadingPitchRange(0,-.5,500)})}},v=()=>{const w=r([-115,37,-115,32],new Cesium.PolylineDashMaterialProperty({color:Cesium.Color.BLUE,dashLength:16}),n.viewer,{});n.viewer.flyTo(w,{duration:2})},g=()=>{const w=s(116.4134,39.911,1e4,"rgba(77, 225, 247,0.3)",n.viewer);n.viewer.flyTo(w,{duration:2,offset:new Cesium.HeadingPitchRange(0,-.5,500)})},y=()=>{if(n.wallEntity)n.viewer.flyTo(n.wallEntity,{duration:2,offset:new Cesium.HeadingPitchRange(0,-.5,500)});else{const w=a(n.viewer,[-115,37,1e5,-115,32,1e5,-107,33,1e5,-115,37,1e5],"#00FFFF",{MaterialIndex:4});n.wallEntity=w,n.viewer.flyTo(w,{duration:2,offset:new Cesium.HeadingPitchRange(0,-.5,500)})}},_=w=>{n.viewer=w.viewer,console.log("执行了",w.viewer)};return(w,b)=>{const M=At("el-button");return P(),K("div",ode,[Q(f(br),{mapConfig:{id:"dls-map-layer-terrain",imageryProvider:n.imageryProvider,sceneModeNum:3},ref_key:"dlsMapRef",ref:e,"viewer-width":"100%","viewer-height":"500px",onReady:_},null,8,["mapConfig"]),Z("div",lde,[Q(M,{onClick:p,type:"primary"},{default:te(()=>[pt("添加点")]),_:1}),Q(M,{onClick:v,type:"primary"},{default:te(()=>[pt("添加线")]),_:1}),Q(M,{onClick:g,type:"primary"},{default:te(()=>[pt("添加圆")]),_:1}),Q(M,{onClick:y,type:"primary"},{default:te(()=>[pt("添加墙")]),_:1}),Q(M,{onClick:c,type:"primary"},{default:te(()=>[pt("删除点")]),_:1}),Q(M,{onClick:d,type:"primary"},{default:te(()=>[pt("删除墙")]),_:1})])])}}}),cde=$t(ude,[["__scopeId","data-v-e47cbe92"]]),dde={class:"appMain"},fde={class:"operation"},hde=ie({__name:"measure",setup(t){const e=W(null),n=Xt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null});St(()=>{console.log("dlsMapRef",e.value)});const i=()=>{iue(n.viewer,"lines",[255,10,255],5)},r=s=>{n.viewer=s,console.log("执行了",s)};return(s,a)=>{const o=At("el-button");return P(),K("div",dde,[Q(f(Fp),{mapConfig:{id:"dls-map-layer-terrain",imageryProvider:n.imageryProvider,sceneModeNum:3},ref_key:"dlsMapRef",ref:e,"viewer-width":"100%","viewer-height":"500px",onCesiumReady:r},null,8,["mapConfig"]),Z("div",fde,[Q(o,{onClick:i,type:"primary"},{default:te(()=>[pt("测距")]),_:1})])])}}}),pde=$t(hde,[["__scopeId","data-v-1759464e"]]),mde="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAACWNJREFUeF7tnYty3DYMRekva/Jlbb4s+bOtZcuNs12tSRAgHjyaznQ84fMCZ3C50q5eGhcKoMClAi9ogwIocK0AgJAdKPBEAQAhPVAAQMgBFJApQAWR6UavTRQAkE0CzTZlCgCITDd6baIAgGwSaLYpUwBAZLrRaxMFAGSTQLNNmQIAItONXpsoACCbBJptyhRQAeTW2rfW2t/t/f+frx/HH6+T/CNbHr1QwFeBaUBurf18AMajXf0AFN9gM/u4AlOA3Fq7jU/ZAEUgGl18FBAD8krGYZsOWyW9AEWqHP2WKSAC5DxzHNZK4wIUDRUZw0QBKSCz1YMzikk4GVRbASkgvQdzyXqpKBLV6GOigBQQyeF8dAOAMqoY7dUViAzIx2YBRT3sDNirQAZAAKU3mrRTVyATIICiHn4G/EoBKSCWh/Sv1gwovQrRbloBKSDHM1da90FmN8EZZVZB+l8qIALkGE34mIllKADFUt1Nx54BxOJmoUYYAEVDRcZ4U0AMyFlFIpxFrkIJKCT5tAKzgEQ6iwDKdDowwL0CU4CcVSSq1brfKxWF/B9WYBqQBFYLUIbTgg4fCmgBksFqAQp5P6yACiAJq8hnobBew2mzTwc1QE5IVjzlaxUdQLFSNvG42oBktFpYr8QJbL10VUCSWy1Asc62hONbAFKhinBGSZjMFktWByTZvZERTTmjjKhVpK0JIMWsFtarSLJLtmEJSDWrBSiSDEvexwyQwlYLUJIn/cjyTQEpbrUAZSTTkrZdAUh1qwUoSZO/Z9nmgGxWRfh4uCfrErVZAsgJSebHUGZCysfDM+o5910JyG5WC+vlnNwa0y8DZGOrBSgameo0xmpAdq8inFGcEl067VJANro3MhIPzigjai1uuxwQrNZlhAFlcfL3TOcFCFbrOjq8Gbgncxe1cQEEq9UVXUDpksm2kRsgWK3uwAJKt1T6Db0BwWr1xxRQ+rVSa+kKCFVEFEdAEckm6+QOyAnJro+hyKL23gtQZtTr7BsFkCw/X9op69JmgGIodwhAsFoqEQYUFRn/HCQSIBzYdQIMKDo6vo0SBpCzimC19IILKApahgIEq6UQ0f8PASgTskYEBKs1EdAnXQFFoGs4QLBagiiOdQGUAb1CAsK9kYEIypsCSod2kQHBanUEUKEJoDwRMSwgHNgVUn9sCEB5oFd0QKgiY0mu0RpQPqkYGhAO7Br5Lh4DUKLdKLwK5a21n621o5pwrVdga1DCV5CzimC11oNxP+OWoKQABKvlT8fdCrb5gYk0gPCpVjhIjgWVByUbIFitkJzUBSUVIFitmHR8WlW5ipIOkBMSvqIbm5UyoGQFBKsVG5CP1aUHJSUgHNhz0FHBemUGhCqSjpN8h/m0gHBgz0dHxoqSGhCsVmpIUtxHqQAIVis9J3GtV3pAsFr56YhsvUoAgtUqBUko61UJEKxWOU78rVcZQLBa9eiIYL1KAcJjKKUhcbFeFQHBapXnZJ31KgcIB/b6dKy0XlUBoYpsxYldRSkJCAf2veiwrChlAcFqbQuJ6mG+OiBYra05mbdepQHBau1Nx7n7qS9tlQcEqwUkrbXvL639kiixCyBYLUl2FOrzInzd4BaAUEUKZbp8KyKrtQ0gPIYiz6wiPX+9tPZ9dC+7AYLVGs2QQu0lNmsrQLBahbJdtpXhw/qOgPAudllyVegFIM+i+PpzjMBRIc2Fe8BifSHcrTV+slSYXBW6AciTKFI9KqT41B74mPdKPuCYSqwSnSXV49j4Fod0rFWJHJ/ZhKh6bAEI1WMmr0r0FcNRHpDb+5txjzfkcu2nwPFw4gGH6CHFD7lKWyyqx35UvL4uXAWM8oAAx5ZwDN8I/EqlshWEg/lXoS/171PnjGdKlASE6lEq+Z9txgyMshYLOLaAwxyMyoDwOEldRpaBURIQqkdZMpaDUQ4Q4CgJhxsYFQE5bggeNwa58ivgDkYpQKge+Yk4dxAGjGqAcDDPzUg4MMoAQvVITUZYMEoAAhxp4QgPRhVAsFa5GEkDRnpAqB6pyEgHRmpAgCMNHGnByA4I1io2I+nBSAsI1SM0GWXASAkIX6ENC0c5MLICwuMksRgpC0Y6QLBWocgoD0ZGQDiY+zOyDRipAKF6uJOxHRhpAAEOVzi2BSMTIFir9YxsD0YKQKgey8kAjDvJw/7sD3AshQMwLuSODAjWyp4RwPhC45CAUD3MyQCMTonDAcLjJJ2RkzUDjEHdIgLCizYHg9jRHDA6RHrUJBQgWCthFK+7AcakpNEA4WA+GdCzO2Do6BjnHYVUD5WIAoaKjL8HCVFBgGM6qoAxLeHjAaIAgrWSBRgwZLp193IHhOrRHavPDQFDJNt4J1dAgGM4YKovqByefcMO3oDwFdq+pAOMPp3UW7kBQvXoiiVgdMlk18gTEA7m13EFDLucHxrZBRCqx2WMAGMofe0bLwcEOB4GFTDsc100gwcgWKvfoQIMUdqu67QUEKrHf4EFjHU5PjXTMkCA4y1OgDGVrus7rwRkZ2sFGOtzW2XGJYBsXD0AQyVN/QYxB2TTr9AChl9Oq868ApCdHicBDNX09B/MFJCNrBVg+OeyyQqsAal+MAcMk7SMM6gZIMWrB2DEyWHTlZgAUhgOwDBNx3iDWwFSzVoBRrzcXbIidUCKVQ/AWJKGcSdRBaQQHIARN2eXrkwbkOzWCjCWpl/8ydQASV49ACN+rrqsUAWQxI+TAIZL2uWZVAuQbL/IDhh5ctR1pdOAJLNWgOGabvkm1wAkw8EcMPLlZogVTwGSoHoARog0y7sIMSDB4QCMvDkZauUzgES0VoARKr3yL0YESMDqARj5czHkDqSARKkegBEyreosahiQIDcFAaNODobeSTZAACN0OtVbnAQQj7vmgFEv91LsSALIt9ba8UslKy7AWKEyc1wqEBUQwCBpQygwDMix6tvbfyYXYJjIyqBSBaSAaJ9DAEMaQfqZKiAC5KwiGr+YCBim4WXwWQVmAJk5rAPGbOTov0QBMSAfqxt87AQwloSVSbQUmAbkDpTjz79eXxRzVJcDho/rx8uff2utn3FQwFQBNUBMV8ngKOCkAIA4Cc+0ORQAkBxxYpVOCgCIk/BMm0MBAMkRJ1bppACAOAnPtDkUAJAccWKVTgoAiJPwTJtDAQDJESdW6aQAgDgJz7Q5FACQHHFilU4KAIiT8EybQwEAyREnVumkwL83SzHntn/5twAAAABJRU5ErkJggg==",vde={class:"appMain"},gde={class:"operation"},yde=ie({__name:"trajectory",setup(t){const e=W(null),n=Xt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null});St(()=>{console.log("dlsMapRef",e.value)});const i=()=>{let s=[{positions:[[112.1514,20.820353],[114.774,21.7316],[118.114,23.3144],[122.3759,27.2888],[123.9299,32.2732]],color:"#FF0000"}];Vce(n.viewer,s,mde).then(()=>{}),So(n.viewer,[118.1417,26.8013,2581065])},r=s=>{n.viewer=s.viewer,console.log("执行了",s.viewer)};return(s,a)=>{const o=At("el-button");return P(),K("div",vde,[Q(f(br),{mapConfig:{id:"dls-map-trajectory",imageryProvider:n.imageryProvider,sceneModeNum:2},ref_key:"dlsMapRef",ref:e,"viewer-width":"100%","viewer-height":"500px",onReady:r},null,8,["mapConfig"]),Z("div",gde,[Q(o,{onClick:i,type:"primary"},{default:te(()=>[pt("加载轨迹")]),_:1})])])}}}),_de=$t(yde,[["__scopeId","data-v-8f01d5f4"]]),ro="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAiCAYAAACqVHINAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFEmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0xMi0yMVQxODowNzo1NyswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjItMDYtMTNUMTU6MTI6MjcrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjItMDYtMTNUMTU6MTI6MjcrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OWFmMTZiNjAtOTczOS03MTQ2LWJlNTAtZjYxNDc3OWVhNzgxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjlhZjE2YjYwLTk3MzktNzE0Ni1iZTUwLWY2MTQ3NzllYTc4MSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjlhZjE2YjYwLTk3MzktNzE0Ni1iZTUwLWY2MTQ3NzllYTc4MSI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6OWFmMTZiNjAtOTczOS03MTQ2LWJlNTAtZjYxNDc3OWVhNzgxIiBzdEV2dDp3aGVuPSIyMDIxLTEyLTIxVDE4OjA3OjU3KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnpHqCIAAAdoSURBVEiJjZZ5jF1VHcc/Z7v3vjtvm5nOUtopgxQLES2YJlJBhCjKEtSEf4gJxoSYoPAHKf+gNDFR/1AT8S8pmJAUEYUYE6ESsGDAUpYoWJaKpWUpndLO1pl5b97c9+5yzvGP96YzdCH+kpube+75fX/7IrY84jkTCcBIBrzg6k7BtYXjUutZ5z0lIWgrwUdasi/SPC08z+WOuTMjgTiTECWoCritkXH7fMaGVg5tB9YBvquBklCSUDbQH3CkFnCfhx3W0/xEIQLQks8u5jx8dInNCymQe8gXkVkDaXPAARKnDC6ogamAEdRDWN/HmxXDLYXjzdWq69UClOTa6YTfHU4YsplDJCcw7WmELboXelbgQQmgPYdXmrw0zIIdZLGQnxuPeXYo5jvW8fSyoJOWaMllx1o8fSShRp6hFz5EZU3QIUiDkArrBfmiw5QEKhB4W4DLoUixQZWifi6YgA0xjXPKXFc4XgaQPQHl6Tb3H1miRp4TzB5E5y1cWCUVEalTdDoeo+CH1w2yaTSks2hJnSIlIjdVVNYimD0Iec6RJWrTbXZoSRlAaglJwbaJFpuxHrPwPsoXpLJM3oFyIOmPJTqUDMWSb1xg2LRGQSColyT1kqIvNBBVka7ALLwP1jPRYnNSsE1LEJf90a//oMFLUwljOplGN4+SmwqBUXzropg7LqtTCSSF67pVeIsXshcciI3g8f+22P7sPN47VLaIra6niIcZiTl6Xo2tupVz+XSHMbxHJTM4FWCdYPtV/fzoy/1nyfyP06enFQKPEwJ0gEpmKEpDTHfE+qGYy3Uz43rvwWQLCFfgdQktBI++OkmfX+J7W0dxCNLCI8QKsAec9wz1KTq5xftejkqDKDqYbIE86qeZcb2o3+f3LeRcEjUmEMkJnCnjpSBbKsB2OH8N3HhRnXU1Qzt3XZcJMFLw7myHXW83aVmN1TEeAd4h8xY+HqRTG6NueF0nBesQ4GyB9ICQCO8JY0OaKj7qeG7eMswXxkqnuSm1nq1vtPj5P+Y5NJsRaBBC4n0XDwFJwTmysN2CdM6dAuFBdANrxJm7UqgEXz1X0R8U3UawipbxCkukBUwB/Up2g+dZBagESe74/WsnODDZwjpY1x8xt5Sx2LG88uESO//dICMmjEwvUt3YKakoAO+Z0oHiX23HhUFocJnEeoeQiiy1kDg6geSRt5b49d45apHiL9/dwG//2eSZtxsM9JfIshgsZMISRArvLFIIdGhIHYSaV3Ql4PF2wi2mVCVbnEV4S9oRbBwyfPvSKl/5VB9awh27Zjg0m2IEWB1x8fma+785jPOCFw4n7Hy1waGZnNDY7pgoVcFBLeIJGSpeBN5r6wo6jEjn29y0ucKhu8a5fUsfD+49wm2PHmTfRItQCSqRos9I9n/Q4rbHDvHAniPceknMwbvGufnzNdK5BB1GtHUF4L1AsVdax2TZ8FC7gKg+Aq5gMMgBWMzh1RnF/kYEuaTZKtjx8izvHk/AKv6zEPHajGI+64Zw0GTgLGF9hHYBZcND1jEphu/3FI7RuYw9seGCenKUYx9OcN1n6vzg8iE2rImZTgQLHUgKR3MxIS6F1OKAivGs7YOJuSV2vDjDX/cvsHZsjEbfepKcQwMBV2rJpLYetGIylOxIUu4tV9exdqzgqX3HeOr1BmNjfVw8HDJallQDQWgUWdGkmXomW463pzMOT7TAWUY3rsPW15G0INTs0IpJ60CMPHAyZcVswh4LV6wte6KlKaampkiaGXgFUnfbxvLU8h58AcISVwNGRkbo9I1wvCVQsHdNzJW9nEbLXj8S4LXkHlvw/PGWEAPxKOeMV8ka0yRJm1YnI8uL3vCFwCjKUYk4LmFqw8wTM9cCHF5r7lGi184AnduV2os0exD8JLX8eK4FiyZmzeA45f6cWraEcPnJKeylwQZ9pNJwfAnyvCs9NPw0UuzJVuGK/t+sVLiWkDnCRspuBFf2ChilIQrAqBXG3EInA1t8zIt7aiFfCyRpsarNaClXPjwgBWmkuTMt+LsX9AsB1sJSe9nDy+r1XrK3X3jmQ82dUpB6YDWuVKK7eSgBUkAgYSBiX8mwbRlUiN4jVz29s2XtSoZtAxH7AtnFWY2rZYXTSYKy7CRjk4e7Vw+rU8l3XfoLpdlJBYQ7aeSK0QPbXz+ds8jxmy6k6C+bzgl25XN8XejTr/kCzAB/iwa5Uc+3cvHOAdDmtHtn1bF8zV2Ew5soxi9cu3jxl55zk2wSq5Y7L0CO8k5l/wtX68MHjqfT79B65ldnxPoERwCgVW20UDf87Kr8i7c+CcRkQABAYl568Ab75PbnbWNSA8XZQNRZziUwCoz7tLXevfXEMRFWj3HR1mvwSCKs2H3v3fZPd7zs0tZGYLDHk/DxHPxEISPABT1GgMAf2P2GqJ+fsmXzFex++Jf+se//AajT3acDYAhIgdapYGdzVwk4D6iyPFMhpTIasvmmjbzx53dZnEyBkJVSbAIfAO3/Vwg9K8o9QXEP0PU0Lff+p3Rd1Oydn7qNAPA/TRM83Mvr4eIAAAAASUVORK5CYII=",Xk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAiCAYAAACqVHINAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFEmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0xMi0yMVQxODowNzo1NyswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjItMDYtMTNUMTU6MTE6MzUrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjItMDYtMTNUMTU6MTE6MzUrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ZmI5NzU4MzMtMGEwOC1hZjRlLWIxOWItYzEyNDBkYTYxYzE0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOmZiOTc1ODMzLTBhMDgtYWY0ZS1iMTliLWMxMjQwZGE2MWMxNCIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmZiOTc1ODMzLTBhMDgtYWY0ZS1iMTliLWMxMjQwZGE2MWMxNCI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZmI5NzU4MzMtMGEwOC1hZjRlLWIxOWItYzEyNDBkYTYxYzE0IiBzdEV2dDp3aGVuPSIyMDIxLTEyLTIxVDE4OjA3OjU3KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhDOHXYAAAeHSURBVEiJjZZZrF5VFcd/a599hm++Q+/Q20tTcksLKq2lDI0QpkYmA4aoiT6UFyHBYCLWFx5MTFAfNA6JMUBCRBAhhESJNSISptQaRIkoL4DQUOptb3vnbz7T3tuH7+v9Wm+vYScrJ9ln7fVf67/X2mtJ88C9nHeJgPZGcNxAmt5Cnu9x1m3BuQIiXVFyAq3fIgheQHiV3Czj3HlN6fPuKlVF5F7XaN1Hs7lVujEqzZA8P6NRc1pP2sDf6wrR3VQqx6VcegjnHsbaxjp/z4lEBJS61HU6T8ri8m5ptMiylEae08gzUmuxgAICpahqn6rW+H6Aq5Zxm0belmLxANa+fXZU+hwAT93illd/5Z2aH8uShIUkYT7pkuUGcLizDooISwi+9hgPC4zlGX67s8tMjr8kI0N3YewLZ4AGIErtswtLz3in5muxMXzQatCME0IlRKJQohBAANcX6xxZnvNR2mA5C9kuNcITc2PGmGfUptFbMeb1AYj2ym559RFvbr4WW8O79RWSJKXYjVHOAoLt++L6QKpQwAsDPCcEClpxzDvWcnFtmGhuvmY972EZGbqG3LQ02sPFyUHm5nfnxnC03SDudBiu1ph54hGimQtBKUT1IjFpik0SZr//Y1Zfeg1ViFBARfs005SjrQY7S1XU3PxuVywclCh8UOOYZnH5bklT5vOUVhxTFoVXLlG+fA9ercrZien3v8GOGdyLrwzYBspa04pj5sOIzYBbXL6HLZsfU67bvdqu1i/IPWGh0yYQQUmPHq9WpXN8ljf238GfP3EFr2y9hP88/lSPtiwHa3viHA5QCIH07OSeYFfr067bvVrTat/m5YZFZ8iMIRJZ884mCeHEGDP33YNttrEmp7bvit4/a3AmxxmDcw4VBL1IRYiNYdUYNllwrfZt2rU7uzzPo92NcTgEdRZIiq5WqO6/DhPHiOcR1qoAjN15O5WdO/BKJepHXmfpN4d6ZSaCw9LKMsYLAXm7s0uTJFtECWme4axDebJ2B7paoTt7kjdvvZP2u+9h84xPPfQztn7tq1Qv30P18j0977dNs3zoeVyaIlrjjCPLM0QJJMmUdrnRohTOOnCDOgAwnQ7R9BSX/fIRaHewzhHtvAiAU8+/yPFfP8PQZZ9mZPelqCjEpCnSz3NnHSKCy02kgdPOuWHleSByTiaJ8rBpyupHx8nqDZw1bJoYw988QWnbViY+s4/yJy9GPA+Xm7U6QgTleb2Cd+60Ruu/uyy/OIwiVNLFWseZq1dRSGf2BHOPPUl28jR5p0MQFqhcspNsZZXOseN4tRqFqckeNf1XQGlFGEU4a8H3/6pVufQ7s7B0oFYus9BsYPMMTwTT7ZKvrFKc3sLe3z4F3RiCACkWeg74PuHUJLpWwWYppt1BRDDWIlpTK5cwrS5quHZI4+u/WCVHK46ZqFigmyREccL4l+5EDw/1aAtDCEPOXkNX7mXoyr0ApEvLjN5+KwvPPkcSBRSLRapOMEqOKl8fUc65U1IsPiHdmM2joxitSdttxr78BT7uCkZHGL/rK6StFkZrJkdGoRsjxeITzrlTmtyArx+1Sg6MWLloYmqKkyt1Pnz6Wcrvv4/txmzU8ThzycUCnTf/SRwETE1NMdKL4n18/Si5Qeo3fh48D9duf9Prxj+RsVGOdjoce+NvSNYgJESQDTEcjoQE51fYdtVVzBSLuIUlTCE6KKXSTzEGqd/Up8U5cav1w56118jYJmaTLvOzJ7DNFoFS+FqjlEIQHA5rLVmek1qLqpQZn97CdFjALSxilDoiQ7VrEelldP3mL66F7er1a4mT10Qp8YZrtKKQ06srtFfrJM0WeZKCMeB56DAgrJQpDdWYGBqmHCeYlTrOWkcUXi+12uFBZzRmQG8YHgZ50KXpd/LFFUpRyI6RYTq1Ydp5Tubsmq4vipLWFB3kiyvkcQKeQqLou4TBYQZDB1K/4Y4BwdqDLA9dvfkiSq7FObAWLwjwChFK+73GYcHmGaYbY9IUlOrNCNYdllrlJnydkA+c16jBq9vrrZIQhfeTZS8Dw2iNMQbTbJ2bZSL92Uz39kVWiIL7EUl6zWVgV6EUayICvkaGqm9JFB48x6BS4HkDOaN/RiUKD8pQ9S18PdDvi64G51ZyD1rR9vTjmXM7xfEAauMUxjoc7gfa04+XdADKrlORI/v2r9tMneWy8jA17ftps/n7drd9s/K89faNoVQo/SmoVG6v51n2j9YKgah1ehu6+PVtO5ipVNlVKG++Maq+2mo3d+Yia/1GO0e5VHnvlbhxw9vd1tzRZoOfH/v3eW39Hx4A0BNRlH97evv194xM/kGg2LGWolI46Dy6fOpz35v94LXTcayBfCMj6znoLQVMAtvaeT79x+X5kyXPP3ldbfSzOKtC7ZsfzX30wLc+fOf1dp5vB0b7ZzrAuoduI5AJ4KL+QYDg5frSvy4IwuTK0clrfjF37IffOPbO08AQvSk0AMaABGj9r7GN6CoAFwJVBqNvMuEH4R3D49sPrcx/cDpLEyDs2xCgAXwIdD8uCP0oyn2gYt+g7Xta7v9P6FHU6O+vz1/gv6sLeFA1yyAJAAAAAElFTkSuQmCC",bde={class:"appMain"},wde={class:"operation"},Sde=ie({__name:"spacePoint",setup(t){const e=W(null),n=Xt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null,coordinates:[[39.9042,116.4074],[39.9176,116.3973],[39.9087,116.3843],[39.9081,116.3893],[39.9104,116.4065],[39.9138,116.3825],[39.9135,116.353],[39.9368,116.311],[39.9097,116.3724],[39.9353,116.3385],[39.9075,116.3972],[39.9571,116.3574],[39.9086,116.4079],[39.8922,116.318],[39.8756,116.4194],[39.895,116.4312],[39.9525,116.3883],[39.9416,116.347],[39.8841,116.412],[39.9043,116.4749],[39.8482,116.4284],[39.9658,116.3961],[39.9168,116.4442],[39.919,116.486],[39.9524,116.3535],[39.8789,116.2996],[39.9355,116.3959],[39.9156,116.4012]],pointEntityArr:[],geometry:null,geometryRectangle:null,geometryCircle:null,geometryPolygon:null}),{addPointEntity:i}=Kd();St(()=>{console.log("dlsMapRef",e.value)});const r=()=>{const d=Yk(n.geometry.geometryPoints,n.pointEntityArr);d&&d.length&&d.forEach(p=>{p.billboard.image=Xk})},s=()=>{l();const d=new Pa.Reactangle(Cesium,n.viewer,{material:Cesium.Color.fromCssColorString("rgba(59, 178, 208, 0.5)"),outlineMaterial:Cesium.Color.fromCssColorString("rgba(59, 178, 208, 1)"),outlineWidth:3,isEdit:!1});d.on("drawEnd",r),n.geometry=d,n.geometryRectangle=d},a=()=>{l();const d=new Pa.Circle(Cesium,n.viewer,{material:Cesium.Color.fromCssColorString("rgba(59, 178, 208, 0.5)"),outlineMaterial:Cesium.Color.fromCssColorString("rgba(59, 178, 208, 1)"),outlineWidth:3,isEdit:!1});d.on("drawEnd",r),n.geometry=d,n.geometryCircle=d},o=()=>{l();const d=new Pa.Polygon(Cesium,n.viewer,{material:Cesium.Color.fromCssColorString("rgba(59, 178, 208, 0.5)"),outlineMaterial:Cesium.Color.fromCssColorString("rgba(59, 178, 208, 1)"),outlineWidth:3,isEdit:!1});d.on("drawEnd",r),n.geometry=d,n.geometryPolygon=d},l=()=>{n.geometryRectangle&&(n.geometryRectangle.remove(),n.geometryRectangle=null),n.geometryCircle&&(n.geometryCircle.remove(),n.geometryCircle=null),n.geometryPolygon&&(n.geometryPolygon.remove(),n.geometryPolygon=null),n.pointEntityArr&&n.pointEntityArr.length&&n.pointEntityArr.forEach(d=>{d.billboard.image=ro})},c=d=>{n.viewer=d.viewer,n.coordinates.forEach(p=>{const v=i(p[1],p[0],n.viewer,{type:"billboard",imgUrl:ro});n.pointEntityArr.push(v)}),So(n.viewer,[116.4074,39.9042,2e4])};return(d,p)=>{const v=At("el-button");return P(),K("div",bde,[Q(f(br),{mapConfig:{id:"dls-map-space",imageryProvider:n.imageryProvider,sceneModeNum:3},ref_key:"dlsMapRef",ref:e,"viewer-width":"100%","viewer-height":"500px",onReady:c},null,8,["mapConfig"]),Z("div",wde,[Q(v,{onClick:s,type:"primary"},{default:te(()=>[pt("矩形")]),_:1}),Q(v,{onClick:a,type:"primary"},{default:te(()=>[pt("圆")]),_:1}),Q(v,{onClick:o,type:"primary"},{default:te(()=>[pt("面")]),_:1}),Q(v,{onClick:l,type:"primary"},{default:te(()=>[pt("清除")]),_:1})])])}}}),Ede=$t(Sde,[["__scopeId","data-v-f2f0ce3d"]]),Cde=t=>(bi("data-v-b9b18c4e"),t=t(),wi(),t),xde={class:"appMain"},Mde={class:"operation"},Tde={class:"bufferRadius"},Ade=Cde(()=>Z("div",{class:"title"},"缓冲半径：",-1)),kde=ie({__name:"bufferArea",setup(t){const e=W(null),n=Xt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null,coordinates:[[39.9042,116.4074],[39.9176,116.3973],[39.9087,116.3843],[39.9081,116.3893],[39.9104,116.4065],[39.9138,116.3825],[39.9135,116.353],[39.9368,116.311],[39.9097,116.3724],[39.9353,116.3385],[39.9075,116.3972],[39.9571,116.3574],[39.9086,116.4079],[39.8922,116.318],[39.8756,116.4194],[39.895,116.4312],[39.9525,116.3883],[39.9416,116.347],[39.8841,116.412],[39.9043,116.4749],[39.8482,116.4284],[39.9658,116.3961],[39.9168,116.4442],[39.919,116.486],[39.9524,116.3535],[39.8789,116.2996],[39.9355,116.3959],[39.9156,116.4012]],pointEntityArr:[],radiusNum:1,geometry:null,drawType:"",buffer:null}),{addPointEntity:i}=Kd();St(()=>{console.log("dlsMapRef",e.value)});const r=v=>{n.buffer&&(n.buffer.clear(),n.buffer=null),d(),s()},s=()=>{d();let v=new Uce(n.viewer,n.radiusNum*1e3);v.createBuffer(n.geometry.geometryPoints,n.drawType).then(g=>{const y=Yk(g,n.pointEntityArr);y&&y.length&&y.forEach(_=>{_.billboard.image=Xk})}),n.buffer=v},a=()=>{c();const v=new Pa.Point(Cesium,n.viewer,{material:Cesium.Color.fromCssColorString("rgba(59, 178, 208, 0.5)"),outlineMaterial:Cesium.Color.fromCssColorString("rgba(59, 178, 208, 1)"),outlineWidth:3,isEdit:!1});v.on("drawEnd",s),n.drawType="Point",n.geometry=v},o=()=>{c();const v=new Pa.Polyline(Cesium,n.viewer,{material:Cesium.Color.fromCssColorString("rgba(59, 178, 208, 0.5)"),outlineMaterial:Cesium.Color.fromCssColorString("rgba(59, 178, 208, 1)"),outlineWidth:3,isEdit:!1});v.on("drawEnd",s),n.drawType="Polyline",n.geometry=v},l=()=>{c();const v=new Pa.Polygon(Cesium,n.viewer,{material:Cesium.Color.fromCssColorString("rgba(59, 178, 208, 0.5)"),outlineMaterial:Cesium.Color.fromCssColorString("rgba(59, 178, 208, 1)"),outlineWidth:3,isEdit:!1});v.on("drawEnd",s),n.drawType="Polygon",n.geometry=v},c=()=>{n.geometry&&(n.geometry.remove(),n.geometry=null),n.buffer&&(n.buffer.clear(),n.buffer=null),d()},d=()=>{n.pointEntityArr&&n.pointEntityArr.length&&n.pointEntityArr.forEach(v=>{v.billboard.image=ro})},p=v=>{n.viewer=v.viewer,n.coordinates.forEach(g=>{const y=i(g[1],g[0],n.viewer,{type:"billboard",imgUrl:ro});n.pointEntityArr.push(y)}),So(n.viewer,[116.4074,39.9042,2e4])};return(v,g)=>{const y=At("el-input"),_=At("el-button");return P(),K("div",xde,[Q(f(br),{mapConfig:{id:"dls-map-bufferAarea",imageryProvider:n.imageryProvider,sceneModeNum:3},ref_key:"dlsMapRef",ref:e,"viewer-width":"100%","viewer-height":"500px",onReady:p},null,8,["mapConfig"]),Z("div",Mde,[Z("div",Tde,[Ade,Q(y,{onChange:r,modelValue:n.radiusNum,"onUpdate:modelValue":g[0]||(g[0]=w=>n.radiusNum=w)},{append:te(()=>[pt("公里")]),_:1},8,["modelValue"])]),Z("div",null,[Q(_,{onClick:a,type:"primary"},{default:te(()=>[pt("点")]),_:1}),Q(_,{onClick:o,type:"primary"},{default:te(()=>[pt("线")]),_:1}),Q(_,{onClick:l,type:"primary"},{default:te(()=>[pt("面")]),_:1}),Q(_,{onClick:c,type:"primary"},{default:te(()=>[pt("清除")]),_:1})])])])}}}),Pde=$t(kde,[["__scopeId","data-v-b9b18c4e"]]),Rde={class:"appMain"},Ide={class:"operation"},Lde=ie({__name:"heatMap",setup(t){const e=W(null),n=Xt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null,heatmap:null});St(()=>{console.log("dlsMapRef",e.value)});const i=()=>{n.heatmap.remove()},r=()=>{n.heatmap.show()},s=()=>{n.heatmap.hide()},a=()=>{let l=[{lat:39.258476,lng:110.219918,value:42},{lat:39.277398,lng:110.239745,value:46},{lat:39.319952,lng:110.092288,value:39},{lat:39.474548,lng:110.068417,value:36},{lat:39.437506,lng:110.056819,value:38},{lat:38.971221,lng:110.592357,value:40},{lat:38.95199,lng:111.097213,value:41},{lat:38.846696,lng:110.17917,value:42},{lat:39.352112,lng:110.189824,value:33},{lat:39.431853,lng:110.077273,value:30},{lat:39.351684,lng:110.161226,value:43},{lat:38.994047,lng:110.271835,value:44},{lat:38.733172,lng:110.170308,value:45},{lat:39.042436,lng:110.430257,value:46}];const c=new Bce(Cesium,n.viewer,l,{radius:30,maxOpacity:.9,minOpacity:.2,blur:.75});n.heatmap=c,console.log("heatmap",n.heatmap),n.viewer.flyTo(c.entity)},o=l=>{n.viewer=l,console.log("执行了",l)};return(l,c)=>{const d=At("el-button");return P(),K("div",Rde,[Q(f(Fp),{mapConfig:{id:"dls-map-heatmap",imageryProvider:n.imageryProvider,sceneModeNum:3},ref_key:"dlsMapRef",ref:e,"viewer-width":"100%","viewer-height":"500px",onCesiumReady:o},null,8,["mapConfig"]),Z("div",Ide,[Q(d,{onClick:a,type:"primary"},{default:te(()=>[pt("加载热力图")]),_:1}),Q(d,{onClick:i,type:"primary"},{default:te(()=>[pt("移除")]),_:1}),Q(d,{onClick:r,type:"primary"},{default:te(()=>[pt("显示")]),_:1}),Q(d,{onClick:s,type:"primary"},{default:te(()=>[pt("隐藏")]),_:1})])])}}}),Nde=$t(Lde,[["__scopeId","data-v-70f38648"]]),Ode={class:"appMain"},Dde={class:"operation"},Fde=ie({__name:"rain",setup(t){const e=W(null),n=Xt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null}),{addRainScene:i,removeRainScene:r}=qk();St(()=>{console.log("dlsMapRef",e.value)});const s=()=>{i(n.viewer)},a=()=>{r(n.viewer)},o=l=>{n.viewer=l.viewer,console.log("执行了",l.viewer)};return(l,c)=>{const d=At("el-button");return P(),K("div",Ode,[Q(f(br),{mapConfig:{id:"dls-map-layer-terrain",imageryProvider:n.imageryProvider,sceneModeNum:3},ref_key:"dlsMapRef",ref:e,"viewer-width":"100%","viewer-height":"500px",onReady:o},null,8,["mapConfig"]),Z("div",Dde,[Q(d,{onClick:s,type:"primary"},{default:te(()=>[pt("加载下雨场景")]),_:1}),Q(d,{onClick:a,type:"primary"},{default:te(()=>[pt("销毁下雨场景")]),_:1})])])}}}),Bde=$t(Fde,[["__scopeId","data-v-200590b1"]]),Ude={class:"appMain"},Vde={class:"operation"},zde=ie({__name:"snow",setup(t){const e=W(null),n=Xt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null}),{addSnowScene:i,removeSnowScene:r}=qk();St(()=>{console.log("dlsMapRef",e.value)});const s=()=>{i(n.viewer)},a=()=>{r(n.viewer)},o=l=>{n.viewer=l.viewer,console.log("执行了",l.viewer)};return(l,c)=>{const d=At("el-button");return P(),K("div",Ude,[Q(f(br),{mapConfig:{id:"dls-map-layer-terrain",imageryProvider:n.imageryProvider,sceneModeNum:3},ref_key:"dlsMapRef",ref:e,"viewer-width":"100%","viewer-height":"500px",onReady:o},null,8,["mapConfig"]),Z("div",Vde,[Q(d,{onClick:s,type:"primary"},{default:te(()=>[pt("加载下雪场景")]),_:1}),Q(d,{onClick:a,type:"primary"},{default:te(()=>[pt("销毁下雪场景")]),_:1})])])}}}),$de=$t(zde,[["__scopeId","data-v-54302580"]]),Hde={class:"appMain"},Gde={class:"operation"},Wde=ie({__name:"loadEcharts",setup(t){const e=W(null),n=Xt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null,cesiumChartIns:null});St(()=>{console.log("dlsMapRef",e.value)});const i=()=>{n.cesiumChartIns&&n.cesiumChartIns.dispose()},r=()=>{n.cesiumChartIns&&n.cesiumChartIns.show()},s=()=>{n.cesiumChartIns&&n.cesiumChartIns.hide()},a=async()=>{i();let p={animation:!1,GLMap:{},series:[{type:"effectScatter",coordinateSystem:"GLMap",zlevel:2,rippleEffect:{period:4,brushType:"fill",scale:9},symbol:"circle",symbolSize:function(v){return v[2]},itemStyle:{normal:{show:!1,color:"red"}},data:[{value:[116.4551,40.2539,10]},{value:[114.4995,38.1006,2]},{value:[117.1582,36.8701,4]},{value:[112.3352,37.9413,5]},{value:[113.4668,34.6234,1]}]}]};n.cesiumChartIns=await BS(Cesium,n.viewer,p),fS(n.viewer,[116.4551,40.2539,1e6])},o=async()=>{i();const c={黑龙江:[127.9688,45.368],内蒙古:[110.3467,41.4899],吉林:[125.8154,44.2584],北京市:[116.4551,40.2539],辽宁:[123.1238,42.1216],河北:[114.4995,38.1006],天津:[117.4219,39.4189],山西:[112.3352,37.9413],陕西:[109.1162,34.2004],甘肃:[103.5901,36.3043],宁夏:[106.3586,38.1775],青海:[101.4038,36.8207],新疆:[87.9236,43.5883],西藏:[91.11,29.97],四川:[103.9526,30.7617],重庆:[108.384366,30.439702],山东:[117.1582,36.8701],河南:[113.4668,34.6234],江苏:[118.8062,31.9208],安徽:[117.29,32.0581],湖北:[114.3896,30.6628],浙江:[119.5313,29.8773],福建:[119.4543,25.9222],江西:[116.0046,28.6633],湖南:[113.0823,28.2568],贵州:[106.6992,26.7682],云南:[102.9199,25.4663],广东:[113.12244,23.009505],广西:[108.479,23.1152],海南:[110.3893,19.8516],上海:[121.4648,31.2891]},d=[[{name:"黑龙江",value:0}],[{name:"内蒙古",value:0}],[{name:"吉林",value:0}],[{name:"辽宁",value:0}],[{name:"河北",value:0}],[{name:"天津",value:0}],[{name:"山西",value:0}],[{name:"陕西",value:0}],[{name:"甘肃",value:0}],[{name:"宁夏",value:0}],[{name:"青海",value:0}],[{name:"新疆",value:0}],[{name:"西藏",value:0}],[{name:"四川",value:0}],[{name:"重庆",value:0}],[{name:"山东",value:0}],[{name:"河南",value:0}],[{name:"江苏",value:0}],[{name:"安徽",value:0}],[{name:"湖北",value:0}],[{name:"浙江",value:0}],[{name:"福建",value:0}],[{name:"江西",value:0}],[{name:"湖南",value:0}],[{name:"贵州",value:0}],[{name:"广西",value:0}],[{name:"海南",value:0}],[{name:"上海",value:1}]],p=function(y){const _=[];for(let w=0;w<y.length;w++){const b=y[w],M=c[b[0].name],E=[116.4551,40.2539];M&&E&&_.push([{coord:M,value:b[0].value},{coord:E}])}return _},v=[];[["北京市",d]].forEach(function(y,_){v.push({type:"lines",coordinateSystem:"GLMap",zlevel:2,effect:{show:!0,period:4,trailLength:.02,symbol:"arrow",symbolSize:5},lineStyle:{normal:{width:1,opacity:1,color:"#00EAFF",curveness:.3}},data:p(y[1])},{type:"effectScatter",coordinateSystem:"GLMap",zlevel:2,rippleEffect:{period:4,brushType:"stroke",scale:4},label:{normal:{show:!0,position:"right",offset:[5,0],formatter:function(w){return w.data.name},fontSize:13},emphasis:{show:!0}},symbol:"circle",symbolSize:function(w){return 5+w[2]*5},itemStyle:{normal:{show:!1,color:"#32ff9d"}},data:y[1].map(function(w){return{name:w[0].name,value:c[w[0].name].concat([w[0].value])}})},{type:"scatter",coordinateSystem:"GLMap",zlevel:2,rippleEffect:{period:4,brushType:"stroke",scale:4},itemStyle:{normal:{color:"#ff0617"}},label:{normal:{show:!0,position:"right",color:"#0f0",formatter:"{b}",textStyle:{color:"#0f0"}},emphasis:{show:!0,color:"#f60"}},symbol:"pin",symbolSize:50,data:[{name:y[0],value:c[y[0]].concat([10])}]})});let g={animation:!1,GLMap:{},series:v};n.cesiumChartIns=await BS(Cesium,n.viewer,g),fS(n.viewer,[116.4551,40.2539,1e7]),console.log("cesiumChartIns",n.cesiumChartIns)},l=c=>{n.viewer=c.viewer};return(c,d)=>{const p=At("el-button");return P(),K("div",Hde,[Q(f(br),{mapConfig:{id:"dls-map-layer-terrain",imageryProvider:n.imageryProvider,sceneModeNum:3},ref_key:"dlsMapRef",ref:e,"viewer-width":"100%","viewer-height":"500px",onReady:l},null,8,["mapConfig"]),Z("div",Gde,[Q(p,{onClick:a,type:"primary"},{default:te(()=>[pt("加载热力图场景")]),_:1}),Q(p,{onClick:o,type:"primary"},{default:te(()=>[pt("加载迁徙图场景")]),_:1}),Q(p,{onClick:i,type:"primary"},{default:te(()=>[pt("销毁")]),_:1}),Q(p,{onClick:r,type:"primary"},{default:te(()=>[pt("显示")]),_:1}),Q(p,{onClick:s,type:"primary"},{default:te(()=>[pt("隐藏")]),_:1})])])}}}),Kde=$t(Wde,[["__scopeId","data-v-e1dd96b6"]]),qde={class:"appMain"},Yde={class:"operation"},jde=ie({__name:"panel",setup(t){const{addPointEntity:e,removeSpecifyEntity:n}=Kd(),i=W(null),r=Xt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null,dlsDivLabel:null,pointEntity:null});St(()=>{console.log("dlsMapRef",i.value)});const s=()=>{r.dlsDivLabel&&(r.dlsDivLabel.removeAllDiv(".LayerTitle"),r.dlsDivLabel.removeAllDiv(".LayerPlane")),r.pointEntity&&n([r.pointEntity],r.viewer)},a=()=>{s();const c=e(116.4134,39.911,r.viewer,{type:"billboard",imgUrl:jk});r.pointEntity=c;let v={viewer:r.viewer,position:[116.4134,39.911],height:0,offset:[0,-90],dom:`
          <div class="title-model-style">
            设备名称
          </div>
        `,className:"LayerTitle"};r.dlsDivLabel=new DS(v),r.viewer.flyTo(c,{duration:2,offset:new Cesium.HeadingPitchRange(0,-.5,500)})},o=()=>{s();let p={viewer:r.viewer,position:[116.4134,39.911],height:0,offset:[0,-90],dom:`
          <div class="ip-model-style">
            <div>信息1：value1</div>
            <div>信息2：value2</div>
            <div>信息3：value3</div>
          </div>
        `,className:"LayerPlane"};r.dlsDivLabel=new DS(p),So(r.viewer,[116.4134,39.911,8e6])},l=c=>{r.viewer=c.viewer,console.log("执行了",c.viewer)};return(c,d)=>{const p=At("el-button");return P(),K("div",qde,[Q(f(br),{mapConfig:{id:"dls-map-layer-terrain",imageryProvider:r.imageryProvider,sceneModeNum:3},ref_key:"dlsMapRef",ref:i,"viewer-width":"100%","viewer-height":"500px",onReady:l},null,8,["mapConfig"]),Z("div",Yde,[Q(p,{onClick:o,type:"primary"},{default:te(()=>[pt("添加信息面板场景")]),_:1}),Q(p,{onClick:a,type:"primary"},{default:te(()=>[pt("添加标题面板场景")]),_:1}),Q(p,{onClick:s,type:"primary"},{default:te(()=>[pt("删除信息面板")]),_:1})])])}}}),Xde=$t(jde,[["__scopeId","data-v-bfd7c981"]]),Zde={class:"appMain"},Jde={class:"operation"},Qde=ie({__name:"photography",setup(t){const e=W(null),n=Xt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null});St(()=>{console.log("dlsMapRef",e.value)});const i=()=>{rl({type:"warning",message:"正在开发中....."})},r=s=>{n.viewer=s,console.log("执行了",s)};return(s,a)=>{const o=At("el-alert"),l=At("el-button");return P(),K("div",Zde,[Q(f(Fp),{mapConfig:{id:"dls-map-layer-terrain",imageryProvider:n.imageryProvider,sceneModeNum:3},ref_key:"dlsMapRef",ref:e,"viewer-width":"100%","viewer-height":"500px",onCesiumReady:r},null,8,["mapConfig"]),Q(o,{style:{"max-width":"300px",top:"0.4rem",left:"0.4rem"},title:"暂无倾斜摄影数据",type:"info"}),Z("div",Jde,[Q(l,{onClick:i,type:"primary"},{default:te(()=>[pt("加载倾斜摄影")]),_:1})])])}}}),efe=$t(Qde,[["__scopeId","data-v-5702de26"]]),tfe={class:"appMain"},nfe={class:"operation"},ife=ie({__name:"layers",setup(t){const e=W(null),n=Xt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null});St(()=>{console.log("dlsMapRef",e.value)});const i=()=>{rl({type:"warning",message:"正在开发中....."})},r=s=>{n.viewer=s,console.log("执行了",s)};return(s,a)=>{const o=At("el-alert"),l=At("el-button");return P(),K("div",tfe,[Q(f(Fp),{mapConfig:{id:"dls-map-layer-terrain",imageryProvider:n.imageryProvider,sceneModeNum:3},ref_key:"dlsMapRef",ref:e,"viewer-width":"100%","viewer-height":"500px",onCesiumReady:r},null,8,["mapConfig"]),Q(o,{style:{"max-width":"300px",top:"0.4rem",left:"0.4rem"},title:"暂无图层数据",type:"info"}),Z("div",nfe,[Q(l,{onClick:i,type:"primary"},{default:te(()=>[pt("加载图层1")]),_:1})])])}}}),rfe=$t(ife,[["__scopeId","data-v-953e2413"]]),sfe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAJD0lEQVR4nO3d71UcRxaG8fdGIBzBoggsR+AhAmsjWBzBKgMNGbARLESwKALfimBxBMYZjCLofdugWTRnqmb400BPPb9z7qmPfVTcR4NgQCEAVQQCNBAI0EAgQAOBAA0EAjQQCNBAIEADgQANBAI0EAjQQCBAA4EADQQCNBAI0EAgQAOBAA0EAjQQCNBAIEADgQANBAI0EAjQQCBAA4EADS8SyGA+5qBExEId84cqJf3sefP8sZp8fyd/wMiXPviYgxIEkiKQtckfMPKlDz7moASBpAhkbfIHjHzpg485KEEgKQJZm/wBI1/64GMOShBIikDWJn/AyJc++JiDEgSSIpC1yR8w8qUPPuagBIGkCGRt8geMfOmDjzkoQSApAlmb/AEjX/rgYw5KEEiKQNYmf8DIlz74mIMSBJIikLXJHzDypQ8+9vHVc+15Lde+808+u+UP1bmPD57XMj77nWcnf6wm39/JHzDype8bSInO/wbvnVcltecrmHdl8v2d/AEj/6EHH/soQSBd86qkCKSqBIF0zauSIpCqEgTSNa9KikCqShBI17wqKQKpKkEgXfOqpAikqgSBdM2rkiKQqhIE0jWvSopAqkoQSNe8KikCqSpBIF3zqqQIpKoEgXTNq5IikKoSBNI1r0qKQKpKEEjXvCopAqkqQSBd86qkCKSqBIF0zauSIpCqEgTSNa9KikCqShBI17wqKQKpKkEgXfOqpAikqgSBdM2rkiKQqhIE0jWvSopAqkoQSNe8KikCqSpBIF3zqqQIpKoEgXTNq5IikKoSBNI1r0qKQKpKEEjXvCopAqkqQSBd86qkCKSqBIF0zauSIpCqEgTSNa9KikCqShBI17wqKQKpKkEgXfOqpAikqgSBdM2rkuowkNR+uv7/OXxPxzLfwY065Ts49/HBs5PvaaGJvUgg+D8vwPi340LSsW5nobaUdKPbSS9F8YkXEh5MyEEc+fjF8/FunsPV3XxxMCufmAiBTMRhHEv67PnoOfJMYeW58pxFx5+WTYlAntm9ME71si5EKM+OQJ6JwzjyMYbxyfOalpL+5VBWPvFEBPIMHMdC0r89x3obbiT9GhEpPEl48ASO47OPpd6mpSM584lHCg8ewWEc+fiPZ6G3LSX93aGsfOKBCOQR7uL4zfPBMwfXnpMgkgcjkAeaYRzfXHtOgkgehEAeYMZxfHPtOQki2RuBPIADGeNYaN7SgZz4xB7Cgz04jqVuv89xCM4iYinsRCB7cBwL3X5qdUhOgu+T7EQgOziOIx//9RzrsNxI+smRrHyiIjxocCDnPv7pOURnwadaTQTS4DiOJf3hOWTvgzc4VhFIgwO5kPQPzyG7jIhTYSsCqXAcxzr8V49v3gevIlsRSIUDudDhv3p8cxm8imxFIFs4jiMff3jGswcrB/KDT2wgkC0cyKluf76jJ79GxIXwHQLZwoFc+fjF05MvDuSjT9xDIFs4kMFHb/g0awsC2eA2Fjq8t5Xs6yR4+8l3CGSDA1nqcN6U+FBnwXfWv0MgGxzIlY/e/v3xzWXw5d7vEMgGB5La85cnH6ASL/D7bueEQDY4kMFHtxwIO3EPl7HBfRAI1riMDe6DQLDGZdzjNo51+xaTnv3gRlY+YQRyD4H8hUDuIZANjmTw0S3HwU7cw2VscB8EgjUuY4P7IBCscRkb3EeKbxTiDoFscCAX6ucnCTddBm81+Q6BbHAgS/FmRdwhkA0OZKF+3+7+kwO59ok7BLKFIxl89Oar4zjyiXsIZAv3ceWjt7e8f3EgH33iHgLZwoGcil/aACOQLRzIkY8bSe88PfjqOMY/MzYQSIUjuVA/X+69DL68uxWBVDiQY/XzxsX3wa8e3YpAGhzJhQ7/VeQyePWoIpAGB3Ksw38VeR+8elQRyA6OZKnD/c76WfCd8yYC2cGBjF/dufb8zXNI/vR8cCArn6gID3ZwJAsd3ttPToLforgTgezJkSx1OJ9qnQWfWu2FQB7AkaTm/7MiJfiZj70RyAM4kCMfKelHzxz97lk4kJVP7IFAHmjGkRDHIxDII8wwEuJ4JAJ5pLtIrjxv/d8kxfOROB4nPHgCh7LU2/3q1lnw1aonIZBn4EgWki70dr6Z+Kfn1HGk8CThwTNwJEc+Pnk+e17Tmefccax84onCg2fkUI4lLfXy7wK+9Cwdxo3wbMKDCdwL5aPnnWcKXz1XHsKYCIG8AMdyqttQFnp6LGMUKYfhKC6ESRHIC3MsC92Gcqzb+dnTUjw3up10FCm8mPBMzkvxm499/O4F+OSzS76nIx/yHax8dMl3cO7jR89OvqcTH5MKz+T8hx587KMEb6TrmlcltftV9S/elcn3d/IHjPyHHnzsowSBdM2rkiKQqhIE0jWvSopAqkoQSNe8KikCqSpBIF3zqqQIpKoEgXTNq5IikKoSBNI1r0qKQKpKEEjXvCopAqkqQSBd86qkCKSqBIF0zauSIpCqEgTSNa9KikCqShBI17wqKQKpKkEgXfOqpAikqgSBdM2rkiKQqhIE0jWvSopAqkoQSNe8KikCqSpBIF3zqqQIpKoEgXTNq5IikKoSBNI1r0qKQKpKEEjXvCopAqkqQSBd86qkCKSqBIF0zauSIpCqEgTSNa9KikCqShBI17wqKQKpKkEgXfOqpAikqgSBdM2rkiKQqhIE0jWvSopAqkoQSNe8KikCqSpBIF3zqqQIpKoEgXTNq5IikKoSBNI1r0qKQKpWnmvPa+n6/ycZ+UN17mOv/59jIh88R56d/LGafH8nf8DIl75vIK+tROevYP5Qpfb8G/y1+WM1+f5O/oCRL33wMQclCCRFIGuTP2DkSx98zEEJAkkRyNrkDxj50gcfc1CCQFIEsjb5A0a+9MHHHJQgkBSBrE3+gJEvffAxByUIJEUga5M/YORLH3zMQQkCSRHI2uQPGPnSBx9zUIJAUgSyNvkDRr70wccclCCQFIGsTf6AkS998DEHJQgkRSBrkz8AmDMCARoIBGggEKCBQIAGAgEaCARoIBCggUCABgIBGggEaCAQoIFAgAYCARoIBGggEKCBQIAGAgEaCARoIBCggUCABgIBGggEaCAQoIFAgIb/AUEkawUcMcbYAAAAAElFTkSuQmCC",afe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAACntJREFUaEO92meQ7UURBfDT5pxzzjnnnHMOZc45VfnJMny3VFABFZWiLEvEgIKFKCKogAIKioKIAqKiBEWCCBJUFMb729f/V8u+3bd7Lw+n6tbd8L8zc6a7T5/uuZU5xxjjykmunuRaSW6S5C5J7tmv2ya5Qf/vGkmummQkuTTJv5L8M8nfk/w1yYlJTuh3v5/vmar675xbWnq85v3QGMNGb5Xklv26U5K7J7lbkpsnuWYSYK+0Yn4bnAD9LckfG8TvkpyW5HSvqjpz3j3NDWSMcb0kj0jy6CQPTHKLJNdvKwBo80723H6/uC3CMizoWXMAekGS8/pZm/91kiOS/KSq/jIvmA1ZZIxx4yS3T3LfJI9L8sgkt0tySZKze0MX9ubOSuLFhbgS1+KK121XvFkDunb/zdxAmucXSX7Y7yx2RlWx4rpjXSANghWeneSh7VZO1cJ8/FdJft9+D8xFDUBMAAoIC1yt3c6mvQBwGA7nfv3zv5P8OckvZ4d1AOskObmqzLHVsSaQMQZ3EAcPbxDPSXLDJH/qjR/TIH7D36uKO214jDFY6TZJ7pXkQUke0HEG3H+SHJJkvySHWrOqWHfNsSqQBiGIH5MEAGCAOm5mle/0Sf0hiaA9p6qc/txjjCGmHA53M/+Dkzyz35HDUQ3m4CTHVxWLrTq2ANIg7jA7iScvA8G0v50F+v5t8mOqyqlt0zHGuGOvO4HhFdz3e7ND/YE9VBWS2GJcBsgY4yod1E9M8uIkD2kzH9aWODzJqeuZeVF0Ywz74W7c7ClJHtvMeNLMK77bgI6rKrF4mbESiAB8+syFXjpjjyc0iIOS7JXk4KoS4Ff4GGNgNHHz/PYK+Qk9f2NG+/tUFUbbKpBHzdjn7e2nJuObu88o96BFE9WiqMcY6BpbvqQP1+8C/3MzSx1YVdhx86g2JwYRcK+YZde3tXklpy8yaVWhxA2PnnPK7N7lgks2QqPLF2nql3xfleRZSbjUnkm+PHP9Y5e7GCD4nekE9+vaL1HsZ/pDpy2wAToLG8nk4k62P3s1317vdMYYN20Xe3fnHGzJS/aoKgS0NACRnGgllhAbtNK+ST5aVT9bb6HV/j/GIF1ImHs3kJNn7nF4VTmguccY4z69PwTEcwT+Tu3yS8kSkGnR93TekKW/5FVVp869qlS+aeGXdaCiUAeya1Vx17lHx8uTkrym2Uyw7yz4p0QMyMOaZt/RaCU8Pnh0VZ0z96qbgJjzXb0wZpSlP1hV319wPhKH4uYxb5l5CyL6eu9Tkr4YkLd2JkV1xN6nOzbOW7Q2GGPQZO/sIGUR7PehqpLUFhpdBz1vVrO8P8n9Z8z60yYjmuxMQGycaJP8ft4L8sGFxxhDfLyxqVPQm2+HqmKZhccY4/EzUfrepmOHvkeSL9B+gDC3Cu/WLT+c3OVdUGZ+Q6sDQEibnapKHlh4jDHMi5TE33VabexIvAJCMtM4XOBbST5ZVeTzwmOMceckXPblTcPibvuqOnrhSTfF3l37cOQVTEs6bad+AQQvYy5KVrLZrarUGAuPMcY9ZprsTR2cLEKOf7yqjlx40k1AKOSJvSTKYxvIkYCgWGWq2pnP7V1Vfl51dB0hSRF3PoeVcPny4kcJ8LSmcwyj8vtm66VpXp+btN4/uman5S5YqyocY9yoZcurl9HwDrN6aQnIGe1vtD/a3a+qTtkKEJ0T9QmpLV+QICpBMmQCRBehS8lLZmdtBzYVX5N8Qas+I3dhNnnmlKpS628xxhiUAlLiWs+Yua/a/lNIChDRL7tLWhLhAVWlq7GWRWzwqT0ZUWejahNAplaOeCNTaDjDxhRfnrNxnwHGcz7Hlfduma7mWLVQayCKr1f2QWojkVKXsQjqZZH917GIU5YnyH0SxGamDarguAuXw4Jiz6a5DJniHRD6znPeWVOcYkq5QVm7aiXYrSgWmYAQszL8EhC/WFgl9lW+XFVMvZZF0J740JibXGeyhJO3QRWmYLQoa6vr0fzxbQEAjMkiFAQdxhOUzqs26ZbFCNcSgz6zOUacBvXLxbDW7lWFDdYC4oS5jQ3a0CTTPT+1bljqhd20cEjyx+c7BjznM9M7C7Go5gKXungttd26UPUq2PUTHND2k0X4pzxiQsyy86Kqd0I+xtAZIfAURZhGzf2JqlIqLzw6P72o49Ma8t1HpmA/cEa7eJ8/M/92VYVBFh5jDEpBZifypsxOooiBhccYQ6ATjQ4IM8pPXGsps+/aIkz6n7SWTLzwGGOIDQvK7FyQRT62DQ5IKf6+dllxRQErfZe0FpUKqU4iOsPLe1aVJLXQWCbjBaVcoYFBw7H+wmOMIXd8oFlzynsO/QxAKEp0SozJwuJkt1mw6l0t2nhTj6hvAEEOgHx4USDdppKIWdi8EqPOzldaLVwIiDsNQCadj3oB2auq9JPmHmMM/Vxc/9x2LeJul0XF6BgDq6JzBKK3oEL8ZLeHzq+qSwBhBQyguOde8gQVjL10xuceYwx5Rsdeb8r8aFJLaU0Nt7VF+mBe30Gu9ybmdlxebgCC0yEGgunIDgsiAcnRBcxcY4yhgYF25RBJzz3IWWu1O9cBgSy0gsQyjccaxK0uyubEPfW1JDiZGkdzCaiVpVjhR1VF9P3fxxjDvsSbfpsOily3Tyfuo5bva3PLtE/RJY6CSPrXiwJGvBxyRTSt1zuZMQbXfO3svuQFLYsohM/qNLLycimzsvfrVoqLCSongau/1kGFxRbqqqy34ZX/H2OIU9WgZoPkh5DIJnvZdyO9X/4sUJnxzV1OUq3okw47rKpY6gobHbMSH1WgXFCkYc9d2q10PrcQlWtd9CiYxIoTMZE7CYlH64U2c/vqjnCbjbaCUlasKhEQDxIy3I7RVKyx/v3ItKsuZ+kvmVS/S3vHxtEo4ffjJcW5jVytUwCJRNGyhjxEyE5DdSkBfntJIK7iFVu9DO0mAjBTEUWoKS9Vk8pS9Cduputo9fZW1UDfiMktLlTRM5p2b0ifAcEirgyUF2hbFtcjMK8uDM84YmUVux4Q8sIiLCKjWgghmJQuA4r/AoTfnZxC7dyVdXf7vk1xH3HoxAW0Lxr423RtrYpkcUnPfFS5gySl5BTCVlmskt2c49a9nmbb9l8n5ipMwlQBWsDErKGyc4KaFn7mhnx5KoElXc+yABBYSOwBA4DSVhPExqe79kMJ116bV4gZ6UEfAFDVLLWwdHezISANhitoPDC9ChA982t/s1FqGaMBYGNTQ0ISsw7r2gRq9ZruTlhA7KlVUKw7D/eUm5PwGEP97xAlbH0tilpRhUk1S07fMJBlRGAS7iZZsRJS4MOyMGniZcNeNm8NJfDUSVHSTl8qYE1ySLeTJU5a6zKoy1zuJa8ghcky3OzEuYG0dXzO5rnFpKnIGi9/VxVO3xICHAgW43K+d8KN9AgEs78tfe1jrX7WskNkGSpYP0DMOijXCicsBGS15NG+DABg3rmiuJiATF+24Uqu4eb6psQyMHKLG2cxw0LWOm2bAVmRg5hdh2Wlay25l/rh8mTSMQbm1E3hZsjnom0OpF1P8K/8vpY4uXTei9U1rM/aLnsoDyRw6f8AhKPS81Nn0jAAAAAASUVORK5CYII=",ofe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAsCAYAAAAacYo8AAAAAXNSR0IArs4c6QAACIZJREFUaEPF2eevbVUVBfAx7b333nvX2HtvscYaS2KMHzRqojH+A8aED3zRWEIUK4ooNrAiCmJFidhp0kQexQL4RPCpy/17mfvlvMu5956H911WcnJuOWfvseYac8wx566suMYY10xygyS3T3KXJPdOcvckd01yuyS3THLdJFdbuOR/k/w9yV+TnJPkrCQnJzmp3/+S5PKq2rUijD0fq1W+MMbwudskuUOSezTYe/X7nft/197gWpcnOTfJ2UlOa9A28MckO5JcUFU2ufJaFThwT0jy6CQPSHKrJDdJcuMk11tzt/8kEUEndPU1//tHkov69eckv01yXJKfJjmzqsaqyNcFPsZw5ACiw8OTPLWB37qBufHfkuxM8s9+B8zPM/DrJ7lhU8gG/X7TppVN+f53kxyT5Pgkp1eV6266NgJ+pySPTfLsJA9Jcse+Kc7+Ickv+8hxVxT9/V9J/p3Esdu4qF+rT0UQ5IfceGifHICAos9PegPHVZWc2HBdAfgYQ2Tc4DFTFJ6b5PkdqQtFJMnvOrl+0zc8t6pEfcM1xkCr23aOPCjJw/pniX2jTl60+VpT55yNqLMX8DEGVZB0j2/Qj2i6XJrkyInnRycB+IJWiourCqdXWmOMa3Re3Lw38cCJKk/sIN2ir/mzvtc3q8ppLl1rgVMNEX7RdGxPTkIpTknyoyRfT/LDqqIOW7LGGOjnZJ/RyU+x5Mn3Jkp91v2SnL9MLvcA72jb/RunTH9a8/nM6Tg/3aAlzvlbgnjhImMMyY7zz0vyrCR3S0LfJewRNlFVf1p7393AxxjXSeLYXjlJ1Ms6ERULUT64qn6+1YAXrzfGIK2k9gVNUfIrSF+easdHkpywlu81xkAHRwb0azthcNiXvpjkB1VF4vbrGmPcrOnyuo4+XKhy0LQpfIdpzwKc7N1/Op63Ttn8nObYsdNmPkpjq4rUbcsaY8gxSvaa6bQf2clKZfD9+EX1AlwykqfXd7Ghz1+YqHN4VUnMbVtjDEUJTV4x2YM3tCdiCz6V5JBFPIC/p/n9uK56X5lO4POTspxYVRdvG+q9E1aVflsnq/yTpO9PcmxVKXIB/Kimisom2u+bshx4Gr2yd9jKDY4x7tl0kXfqyomTkfvwVLS+muQ8uAAneY7Hson3VhUpusrWGEMQnzJZild1geJpDmsmqNyXA44OSq516GSKDtzf8rdZRFrp7tdcf3nj+85CUbpoBs7BUQ9JQLdRZtPVDtLnVqHUXOzGKhQcY/A1L+2CiDonNHC1ZQfgjoHdZOw/meRLVcWtXWF1Q0FfeRrdEPdnbdYEAD0D5214n0uqSoOxdHUlf0knKc8E0yFJPqchAZywA85WKu9HrWduujyTTmWZi2Sa9iXiwAPuntq3M5x0VbHCe62WxhdOdvmdba/Pa3yCezrgSivJ+X7/45j1PMkYw85VNt0Q0Ct1UGsx6XYmB4qzCt0pVeUElp2wGvPudquoLLAK42kzcMc/A6eVS83UGENj8eZ2c74zN8arcBwwn/fZU1tyv8UmVxVHuBlwIjIDP3Ux4j/u5FTmNbDLLkRT2QLlmDHS3azC8flacgJVNCSirV07ey4qS+iCKu+a6Ks46pRw/GM6MMD9AV8pySc4wqrSjS8Drouh+XMbB/jM22VfWfu3GbhuSrJpFHYuU5nm+IunJH5HO0elH3CvMwDX39FxNhbww6pK4iwDzkvMqvL/UIWaoMdl640lutWjKm9pS6LwfIbq2TDgl3Qn7p0L+9CqOr5KiK/MZzraXKviw/zpgXVh8EnqC2eOK7G0mIU8oKr44KtsdbSNRHgVnZGEZrSUfYVoJ+C/aF1WPWn5AW3c1y0O+3tHYwwRRpNXd1uHxmTw8E7mXYB/fNoJX2BCJSkPbh6dtV62bwNwPejbk1AV6kXxDuxWUl7sdod02QdlsOTjDGXut6sK77d1jTFMunRB/PjcBaHJB6rK6GL3AlyTCrjsvS/itx84qKrM9rZtLXBbw25Ewg+hr47syMVuH3CJeZ9pmvqmroh+lwAo48NLNX2rd9NjbHR18l5+pvUkUGNz8mKFBRw9gDWUsUszFT7EBJU/V5DWnShtxQZ6wsW4wUACUYR/YmE/2PS9dLFQzXMVFdCw3kBG1/GoHl4aubGRyrPSvJl93ed9dNMAtGHUM9tQuQ6bbTxyRFUZsu61FidZwOM67TSYcTGOjJ+QHCLPY2zZ6kjLK20avTYVNl9RR+ZiY/h5BWleOzv0OIShEXmzQ52HKKtaeOadczTPu9JDojGGpHMvp8xxPr0jPft7oLWQcm3pWguc7TQ1tXNe2AUlLl/B9P+qNVWmS5ZNx8tr7zrGMKl1TZXR68ELBXD++Dd6HHH0erVkaSOwMMt7UkfCjWxI6XWMXqRS9LV+85MIR6qb8TlBmE2ZDkuUuct5ciaPnKg2kNFTM+aHY8SA/eDXzS2NJPbKr42eSOCaJ2puQGm83Fi3wq+7GdAmqUbP2jE5gULAO3agVD7De4CplwIj6qa0wMxPI5R1ltkpG8W5roJjliJQKvmehmXD1qu7+Bm8do01wE3RtzERBVTk9YQ2sgiczweU9/ByP8+H9ABGyZJdREmvYOC8JCWLxEGQSCLq+Axl88hm855xQeeNC0QNeCNpBcKNHK91mUHNAlWAFHV6PD9K9P/f92Tq1/3QgNTZNLoxegawPAo9F3mV3CSLndVeavV27lOz25vw1ICEeXki53g1IsDNjwhd17GijAgDrGdEKQ0B0DawY23yta6jJ+B03T3kCxcr8qT5nH0CLqytvY4fd73PtMF/EZs7I6CdAuXBfdRAJS8/G0ssbbLHGK5DbZgt5Z84CACXyACetM/AF8DPjwLdRMRtAm1QQ4Rm4DgJOMA4C8CujR56dW55kq0wMVzefc+DM5Pkk/4HIFYQJinhQjEAAAAASUVORK5CYII=",lfe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAHtUlEQVR4nO3c63HbRhSG4bMVxKogTAWWKghZQcYVZF2BlQpiVRCrgkgdqIPQFUSpIEwHTAXMt5nAE190DFDAYi/vM7NzfpkEwH1N8SIFA/AkAgEcBAI4CARwEAjgIBDAQSCAg0AAB4EADgIBHAQCOAgEcBAI4CAQwEEggINAAAeBAA4CARwEAjgIBHAQCOAgEMBBIICDQAAHgQAOAgEcBAI4CARwEAjgIBDAQSCAg0AAB4EADgIBHAQCOAgEcBAI4CAQwEEggINAAAeB4IPT6bQxszdal1pbM9ub2aPWbQjhYB0iEPxLcUQz+1XrKdeK5FazKwSCMXEMXocQ7qwjBNK5CXEkR63vQghpdoFAOjYxjsFPCuSdZhcIpFNnxpG8DyFsrRME0qFnxJG8DwSCVj0zjuQ+hBCtEwTSkRniSF6Hjt7JIpBOzBTHXyGEjXUkaKFxM8Xxt9ZWgTxqdoNAGkccz0MgDSOO5yOQRhHHPAikQcQxHwJpDHHMi0AaQhzzI5BGEMcyCKQBxLEcAqkccSyLQCpGHMsjkEoRRx4EUiHiyIdAKkMceRFIRYgjPwKpBHGsg0AqQBzrIZDCEce6CKRgxLE+AikUcZSBQApEHOUgkMIQR1kIpCDEUR4CKQRxlIlACkAc5SKQlRFH2QhkRcRRPgJZCXHUgUBWQBz1IJDMiKMuBJIRcdSHQDIhjjoRSAbEUS8CWRhx1I1AFkQc9SOQhRBHGwhkAcTRDgKZGXG0hUBmRBztIZCZEEebCGQGxNEuAnkm4mgbgTwDcbSPQM5EHH0gkDMQRz8IZCLi6AuBTEAc/SGQkYijTwQywkxxJDchhLeGahDIV8wYR3LU2gWeQapBII6Z4xikOHYhhKMmCkcgT1gojsGDAnmlicIRyBcsHMfgJvB6pHgE8olMcQxeKZIHTRSKQP4ncxzJUeu7wOuRYhHIf1aIY3AfQoiGIhGIzBTH31p3ZvZGa6pdCGFvKE73gcwYx1ab/FG3d2dmP2pNcTCzK/17ftQqTNeBaDNHmzEOzXSbLzT2ZvZSa4qbwLtaxek2EG3kaDPHMdBtX2rszewbrSnSs8ijJgrRZSDawNEWimNw5n3sdXs7TRQiaHXlzI37KTeOge7rQeMHrSl2gRfsxegqEG3YaJniSHR/LzQONu1Hrb1ue6eJAgStLmizRssYx0D3e63xi9YUu8CzSBG6CESbNNoKcQx0/+nfvNQaa6/72WliZUGradqc0VaMI9ExXGr8rjXFLvAssrqmA9HGjLZyHAMdy51N+wDxPvAVlNU1G4g2ZLRC4kh0PBsz+1Nrigvd91ETK2kyEG3GaAXFMdBx3dm0Z5GfdP/vNLGS5gLRJoxWYByJju1SY8prkUcdw5UmVtJUINqA0QqNY6Bj3JvZ91pjXS11LPi6ZgLRxotWeByJjnNrZr9pjXUfeLG+miYC0aaLVkEcAx3vwcy+1RrjqGO60MQKqg9Emy1aRXEkOuZ3Gm+0xtoFPhNZRdWBaKNFqyyORMe9sWlv+d4EfldkFdUGok0WrcI4Bjr+dJ8vtcZ4H0LYGrKrMhBtrmgVx5HoHK41ftEa60LHetRERtUFoo0VrfI4Ep3Hxqb9mPVKx/ugiYyqCkSbKloDcQx0Pgcb/27WrY75WhMZVROINlO0huJIdE53Nv6rJ4867itNZFRFINpI0RqLI5l6Xjr2Kh6vlhR/waduoicUF0eic9vYtNchV6WdQ+uKDkQbKFqjcQx0jgcb/zpkF/jAMKtiA9HGidZ4HInOc2/jv7x4E/jAMKsiA9GmidZBHInO9Z3GG60x7gNfXMyquEC0YaJ1Ekei831rZj9rjfE+8Il6VkUFos0SraM4Ep3z1iZ8/V3nVdRj1rpiLrY2SrTO4kh03hub8E6Wzq2Yx6wHRVxsbZJoHcYx0PmfNEbR+RXxmPVi9YutvRGt4zgSXYOTxlgXOs+jJjJYNRDti2idx5HoOpw0xtoFPgvJZrVAtCeiEce/dC2OGt9ojbELBJLNKoFoQ0Qjjg90PfY2/sPCXSCQbLIHos0QjTg+omuyNwIpUtZAtBGiEcdndF32RiBFyhaINkE04vgiXZu9EUiRsgSiDRCNOJ6k63PSGGsXCCSbxQPRYx+NOFy6RieNsXaBQLJZNBA97tGI46t0nU4ao+g6LPqY4WOLXWw95tGIYxRdq5PGKLoWiz1m+NwiF1uPd7TnxwE8x8HMHrRu9X/Kwc40eyCKY2sTvr4NLOyo9Tqc+TfFlgjkT42NAWW5UiSPmpMErdkojkuN37WA0pz1d8XmDuStjf/1USC3yc8iBIKe3ISJfxWGQNCTm7ByIJcavAZBqV6HEO5sglkDSRTJ3sZ/8Q7I6UKBHDVHWyKQS429jf8NOSCHmzDxx6tk9kASRbIxszvjmQRl+ENxpP+4J1skkIFCiWb21sb/cWZgbreK41rzLIsGMlAoWzO71HqhBeRwMLMHxXHUPFuWQIBaEQjgIBDAQSCAg0AAB4EADgIBHAQCOAgEcBAI4CAQwEEggINAAAeBAA4CARwEAjgIBHAQCOAgEMBBIICDQAAHgQAOAgEcBAI4CARwEAjgIBDAQSCAg0AAB4EADgIBHAQCOAgEcBAI4CAQwEEggINAAMc/eweg9t0UYKIAAAAASUVORK5CYII=",ufe="data:image/svg+xml,%3csvg%20t='1640736442636'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='2957'%20width='32'%20height='32'%3e%3cpath%20d='M294.8%2022.8L23.2%20294.3c-12.5%2012.5-12.5%2032.8%200%2045.3l656.2%20656.2c12.5%2012.5%2032.8%2012.5%2045.3%200l271.5-271.5c12.5-12.5%2012.5-32.8%200-45.3L340%2022.8c-12.5-12.5-32.8-12.5-45.2%200z%20m-198%20288.5l215-215c3.1-3.1%208.2-3.1%2011.3%200l33.9%2033.9c3.1%203.1%203.1%208.2%200%2011.3l-96.2%2096.2%2045.3%2045.3%2096.2-96.2c3.1-3.1%208.2-3.1%2011.3%200l22.4%2022.4c3.1%203.1%203.1%208.2%200%2011.3l-62.2%2062.2L419%20328l62.2-62.2c3.1-3.1%208.2-3.1%2011.3%200l22.4%2022.4c3.1%203.1%203.1%208.2%200%2011.3l-62.2%2062.2L498%20407l62.2-62.2c3.1-3.1%208.2-3.1%2011.3%200l23.1%2023.1c3.1%203.1%203.1%208.2%200%2011.3l-96.2%2096.2%2045.3%2045.3%2096.2-96.2c3.1-3.1%208.2-3.1%2011.3%200l22.4%2022.4c3.1%203.1%203.1%208.2%200%2011.3l-62.2%2062.2%2045.3%2045.3%2062.2-62.2c3.1-3.1%208.2-3.1%2011.3%200l22.4%2022.4c3.1%203.1%203.1%208.2%200%2011.3l-62.2%2062.2%2045.3%2045.3%2062.2-62.2c3.1-3.1%208.2-3.1%2011.3%200l23.1%2023.1c3.1%203.1%203.1%208.2%200%2011.3l-96.3%2096%2045.3%2045.3%2096.2-96.2c3.1-3.1%208.2-3.1%2011.3%200l33.9%2033.9c3.1%203.1%203.1%208.2%200%2011.3l-215%20215c-3.1%203.1-8.2%203.1-11.3%200L96.8%20322.6a7.85%207.85%200%200%201%200-11.3z'%20p-id='2958'%20fill='%23ffffff'%3e%3c/path%3e%3c/svg%3e",cfe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEy0lEQVR4nO2YXWxURRTHb1u1FiPaQq0SxKQFjKE+8OVHNYBQU0UMvlQ0UfwKKBi5INtWqFDElhZBrY/GF+MTT0pCTHjQB40PSkL8iB9RExM0MdGgJajxs/mZ2f4njNPZ7V33drtN9iST3f+5Z86cc++Zc85MFFWoQhWqULEEVAH3alRF05GApcB7wO8a5v/SaLoQMAt4CfgHOAY0A3OB14BR/V4elSsB5wMxcAb4HOgIyKwCPgJ+BfYBF0blREA78Bnwk5ypySNbDWwEfgC+BjpLa22AgKuBN4G/gZeB2QXMvRQYAv4A3gaujUpNQL2M+BN4C2gtQtdC7SX7MhrTtTZ/WPwIfJVmWCg8PwV+Vniel5Zuf6FbgI+BX7RRayc5YXwB3J6m8iu91NmUmvLkKbylGGUX6c2bYvY+cH2q1iazYTHwDvCXHJtZaFvRCXwLfKc9MaXtBXAn8A3wPbA5X3p3J50AfgP2AnVRmRBQJ5uMbSeSTDB0tNwaPc41oMY2kkxArcRyxeWNJbE0v01LZMvNsi2xI0dMY6e68QBwYCoaPcZsOCAbqoWPJHVkJfAhcBboMfUCuBjoBbZPRv0I2FCrtXq1dq1sOSvbViZR0gi8oi/zJXAYWK9n8108SU6s1xotHjadBLJt4jYGGFGqu1XjRWCbfluddmIYWJSiA4u0Rrtwq3Cstaw9xraRJAqt16YYNpieB3gM6Ad2Ac94/CwuwoEG6XhUOmcJm7UGgC3iN8imbLQkdWSVOtw+4HEpqlec7lLs7gAucPhZXIADRufDekGNDh7SGofFN5v8Pgcnzloj6kL9T7zGC4E4EArDFk+wRrvmZkPTCeFYOmwIrwmEdLZDLnSzv+FtukOBTfikfud7/HGNnuHlSB5Gx/PAXY7cIUeuRbbYsJ9daPo9qbZgt5MGt3s4Vkzv8dKlmz5t+o71bCbwtMZ+m9YZk9sdwHtlS0HpF6W6OU5BMjE7qAbSFqYBr1ANaK8MevxhDVtgH5RMj3Rf4RTeAUduo+SecvhzbBpO6shOLd4m3jK1CHGAH8LbJN+mzWnGTeI9od/lmtOmOcs8HOfg7yzEkbVq0u5RFpnrYBO73QG+jw8CXcDrGhngOduMSnZIsi7ukpzPt3htUkf+08YDM2R4xsE9yun7PH53AO/R6NFhrU4y3ZKx2Ojqk9yMHHIFtfE2Xs0h5hRwt97EPL2p7IWDg7ty8F18lf536tk8D2cC/IOaWyUbTsmm7P6b0JEcR90PgBvEv04x7mO7L8bJ6chq4nuFni329oHPX1H0UTfgULNifFQ5vElfzVblyxw8qAzn8ns1qsXrVyYa1BzLfxZ4SLhJa41q7eb/7UCe6yB7b1urr5aRYS7ul/GG36HKvdVJ5abuXKLrn60ejp3roNtSc8BzpkZN3Gnl83XiL1BldvELqtiv6hpph3gLJXOHqvoC4XXSeVprTHzBkIJD9YpZE7vHgWvE75CxLh5Wv5R9u+aZZDocfNzZB/WT7kDAoXFGOOHSJ1yjYbvpLZIJvowppVBY6Fxh+qhNGvvFC4Zn2RBjZ5OMNuonwGqnJtiaslrPzkg28fml5BS4t30EuL/U98dp30W9yzky/5dE05EYay82aJTNrWWFKlShaPrSv5x1UAyTuUYIAAAAAElFTkSuQmCC",dfe="/dls-map-doc/assets/earth.BhF7rW5a.png",ffe="data:image/svg+xml,%3csvg%20t='1640736256645'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='2514'%20width='32'%20height='32'%3e%3cpath%20d='M876%20330.57H596.89V225.71c0-26.24-23.18-47.59-51.67-47.59h-66.28c-28.49%200-51.67%2021.35-51.67%2047.59v104.86H148a28.07%2028.07%200%200%200-28%2028v138a28.07%2028.07%200%200%200%2028%2028h67V898a27.9%2027.9%200%200%200%2027.87%2027.87h538.42A27.9%2027.9%200%200%200%20809.17%20898V524.66H876a28.07%2028.07%200%200%200%2028-28v-138a28.07%2028.07%200%200%200-28-28.09zM481.66%20232.5h60.84v98.06h-60.84z%20m273.12%20639H269.39V524.66h485.39z%20m94.83-401.26H174.38V385h675.24z'%20p-id='2515'%20fill='%23ffffff'%3e%3c/path%3e%3cpath%20d='M339.92%20655.18h54.39v196.47h-54.39zM484.89%20600.12h54.39v251.53h-54.39zM622.22%20655.18h54.39v196.47h-54.39z'%20p-id='2516'%20fill='%23ffffff'%3e%3c/path%3e%3c/svg%3e",hfe={class:"appMain"},pfe={class:"operation"},mfe={class:"tools-item"},vfe=["onClick","src"],gfe={key:0},yfe={class:"map_item"},_fe={key:1},bfe={class:"eye"},wfe=ie({__name:"tools",setup(t){const e=W(null),n=Xt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null,toolsData:[{img:afe,name:"ZoomIn",methods:()=>o,content:"放大"},{img:ofe,name:"ZoomOut",methods:()=>l,content:"缩小"},{img:cfe,name:"Layers",methods:null,content:"切换图层"},{img:dfe,name:"Earth",methods:()=>d,content:"切换视角"},{img:sfe,name:"BackCenter",methods:()=>p,content:"中心点"},{img:lfe,name:"PitchDegrees",methods:()=>v,content:"倾斜角"},{img:ufe,name:"Line",methods:()=>g,content:"测距"},{img:ffe,name:"Clear",methods:()=>y,content:"清除"}],pitchValue:-11,lineEntity:null}),i=W(null),r=[{mode:Cesium.SceneMode.SCENE3D,type:"3d"},{mode:Cesium.SceneMode.SCENE2D,type:"2d"},{mode:Cesium.SceneMode.COLUMBUS_VIEW,type:"2.5d"}],s=b=>{nce(n.viewer,b)};function a(){const b=n.viewer.scene.mode;return r.findIndex(M=>M.mode===b)}const o=()=>{n.viewer.camera.zoomIn(1e6)},l=()=>{n.viewer.camera.zoomOut(1e6)},c=b=>{switch(n.viewer.imageryLayers.removeAll(),Cesium.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJmYThlOTk4Mi1iY2QyLTRlZTItODJjOS0zOWFmOTA5ZTZlZjAiLCJpZCI6NDUyNTUsImlhdCI6MTcyMTI5NDMyNX0.k0XVbL506OHCyG7gI3KTdmMn3wwTYig3k6hJnWuvJag",b){case 1:n.viewer.imageryLayers.addImageryProvider(new Cesium.UrlTemplateImageryProvider({url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}"}));break;case 2:n.viewer.imageryLayers.addImageryProvider(new Cesium.UrlTemplateImageryProvider({url:"https://webst02.is.autonavi.com/appmaptile?style=10&x={x}&y={y}&z={z}"}));break}},d=()=>{let b=a();b=(b+1)%r.length;const M=r[b].type;console.log("type",M),ice(M,n.viewer)},p=()=>{So(n.viewer,[116.4134,39.911,11e6])},v=()=>{},g=()=>{n.lineEntity=oce(n.viewer,"lines",[255,10,255],5)},y=()=>{n.viewer.dataSources.removeAll()};St(()=>{console.log("dlsMapRef",e.value)});const _=b=>{b.methods&&b.methods()(b)},w=b=>{n.viewer=b.viewer,console.log("执行了",b.viewer)};return(b,M)=>{const E=At("el-input"),x=At("el-tooltip");return P(),K("div",hfe,[Q(f(br),{mapConfig:{id:"dls-map-layer-tools",imageryProvider:n.imageryProvider,sceneModeNum:3},ref_key:"dlsMapRef",ref:e,"viewer-width":"100%","viewer-height":"500px",onReady:w},null,8,["mapConfig"]),Z("div",pfe,[(P(!0),K(ct,null,Vt(n.toolsData,(T,k)=>(P(),we(x,{key:k,class:"box-item",effect:"light",ref_for:!0,ref_key:"tooltip",ref:i,content:T.content},{content:te(()=>[T.name==="Layers"?(P(),K("div",gfe,[Z("div",yfe,[Z("div",{onClick:M[0]||(M[0]=I=>c(1)),class:"map-type"},"卫星图"),Z("div",{onClick:M[1]||(M[1]=I=>c(2)),class:"map-type"},"电子图")])])):he("",!0),T.name==="PitchDegrees"?(P(),K("div",_fe,[Q(E,{modelValue:n.pitchValue,"onUpdate:modelValue":M[2]||(M[2]=I=>n.pitchValue=I),onKeydown:M[3]||(M[3]=vn(I=>s(n.pitchValue),["enter"])),placeholder:"请输入倾斜角"},null,8,["modelValue"])])):he("",!0)]),default:te(()=>[Z("div",mfe,[Z("img",{onClick:I=>_(T),src:T.img},null,8,vfe)])]),_:2},1032,["content"]))),128))]),Z("div",bfe,[Q(f(Hle),{"base-map":{width:"200px",height:"150px"},"marst-viewer":n.viewer},null,8,["marst-viewer"])])])}}}),Sfe=$t(wfe,[["__scopeId","data-v-b9591da5"]]),Efe="/dls-map-doc/assets/huaxiangji.BKta7H2g.png",Cfe={class:"appMain"},xfe={class:"plot_list"},Mfe=["onDragstart","onDragend"],Tfe=["src"],Afe={class:"operation"},kfe=ie({__name:"positionMove",setup(t){const{addPointEntity:e}=Kd(),n=W(null),i=Xt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},coords:{},currentIndex:null,viewer:null,iconData:[{title:"图标平移1",type:"billboard",url:ro,icon:ro},{title:"图标平移2",type:"billboard",url:ro,icon:ro},{title:"模型旋转",type:"model",url:"/dls-map-doc/huaxiangji.glb",icon:Efe}],editB3dm:null});St(()=>{console.log("dlsMapRef",n.value)});const r=()=>{i.editB3dm&&i.editB3dm.destroy()};function s(l,c){console.log("拖拽开始",l,c)}function a(l,c){const d=mu.getLatLonFromScreenPosition(i.viewer,l.layerX,l.layerY);let p={alt:10,lat:d.latitude,lng:d.longitude};if(i.editB3dm&&i.editB3dm.destroy(),c.type==="billboard"){const v=e(p.lng,p.lat,i.viewer,{type:"billboard",imgUrl:c.url});i.editB3dm=new zS(i.viewer,v,{radiusNum:100,arrowLength:120,dStep:1,rStep:1}),i.editB3dm.editTranslation()}else if(c.type==="model"){const v=e(p.lng,p.lat,i.viewer,{type:"model",modelUrl:c.url,modelScale:20});i.editB3dm=new zS(i.viewer,v,{radiusNum:100,arrowLength:120,dStep:1,rStep:1}),i.editB3dm.editRotation()}}const o=l=>{i.viewer=l.viewer,So(i.viewer,[116.4134,39.911,1e3])};return(l,c)=>{const d=At("el-button");return P(),K("div",Cfe,[Q(f(br),{mapConfig:{id:"dls-map-plot",imageryProvider:i.imageryProvider,sceneModeNum:3},"viewer-width":"100%","viewer-height":"500px",ref_key:"dlsMapRef",ref:n,onReady:o},null,8,["mapConfig"]),Z("div",xfe,[Z("div",null,[(P(!0),K(ct,null,Vt(i.iconData,(p,v)=>(P(),K("div",{draggable:"",onDragstart:g=>s(g,p),onDragend:g=>a(g,p),class:"dataBox",key:v},[Z("img",{src:p.icon},null,8,Tfe),Z("span",null,Ne(p.title),1)],40,Mfe))),128))])]),Z("div",Afe,[Q(d,{onClick:r,type:"primary"},{default:te(()=>[pt("关闭编辑")]),_:1})])])}}}),Pfe=$t(kfe,[["__scopeId","data-v-b6a6c1cc"]]);/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const I_="161",Rfe=0,HS=1,Ife=2,Zk=1,Lfe=2,xa=3,Co=0,Nr=1,Js=2,uo=0,Tu=1,GS=2,WS=3,KS=4,Nfe=5,Xo=100,Ofe=101,Dfe=102,qS=103,YS=104,Ffe=200,Bfe=201,Ufe=202,Vfe=203,s0=204,a0=205,zfe=206,$fe=207,Hfe=208,Gfe=209,Wfe=210,Kfe=211,qfe=212,Yfe=213,jfe=214,Xfe=0,Zfe=1,Jfe=2,Zh=3,Qfe=4,ehe=5,the=6,nhe=7,L_=0,ihe=1,rhe=2,co=0,she=1,ahe=2,ohe=3,lhe=4,uhe=5,che=6,Jk=300,Ju=301,Qu=302,o0=303,l0=304,Vp=306,u0=1e3,Ps=1001,c0=1002,pr=1003,jS=1004,Dc=1005,Mr=1006,qm=1007,sl=1008,fo=1009,dhe=1010,fhe=1011,N_=1012,Qk=1013,so=1014,Aa=1015,xd=1016,eP=1017,tP=1018,fl=1020,hhe=1021,Rs=1023,phe=1024,mhe=1025,hl=1026,ec=1027,vhe=1028,nP=1029,ghe=1030,iP=1031,rP=1033,Ym=33776,jm=33777,Xm=33778,Zm=33779,XS=35840,ZS=35841,JS=35842,QS=35843,sP=36196,eE=37492,tE=37496,nE=37808,iE=37809,rE=37810,sE=37811,aE=37812,oE=37813,lE=37814,uE=37815,cE=37816,dE=37817,fE=37818,hE=37819,pE=37820,mE=37821,Jm=36492,vE=36494,gE=36495,yhe=36283,yE=36284,_E=36285,bE=36286,aP=3e3,pl=3001,_he=3200,bhe=3201,oP=0,whe=1,ls="",Gi="srgb",Na="srgb-linear",O_="display-p3",zp="display-p3-linear",Jh="linear",ei="srgb",Qh="rec709",ep="p3",Yl=7680,wE=519,She=512,Ehe=513,Che=514,lP=515,xhe=516,Mhe=517,The=518,Ahe=519,SE=35044,EE="300 es",d0=1035,ka=2e3,tp=2001;class vc{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}}const Xi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Qm=Math.PI/180,f0=180/Math.PI;function Yd(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Xi[t&255]+Xi[t>>8&255]+Xi[t>>16&255]+Xi[t>>24&255]+"-"+Xi[e&255]+Xi[e>>8&255]+"-"+Xi[e>>16&15|64]+Xi[e>>24&255]+"-"+Xi[n&63|128]+Xi[n>>8&255]+"-"+Xi[n>>16&255]+Xi[n>>24&255]+Xi[i&255]+Xi[i>>8&255]+Xi[i>>16&255]+Xi[i>>24&255]).toLowerCase()}function Tr(t,e,n){return Math.max(e,Math.min(n,t))}function khe(t,e){return(t%e+e)%e}function ev(t,e,n){return(1-n)*t+n*e}function CE(t){return(t&t-1)===0&&t!==0}function h0(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Fc(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Cr(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}class Pn{constructor(e=0,n=0){Pn.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Tr(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),s=this.x-e.x,a=this.y-e.y;return this.x=s*i-a*r+e.x,this.y=s*r+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class wn{constructor(e,n,i,r,s,a,o,l,c){wn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,a,o,l,c)}set(e,n,i,r,s,a,o,l,c){const d=this.elements;return d[0]=e,d[1]=r,d[2]=o,d[3]=n,d[4]=s,d[5]=l,d[6]=i,d[7]=a,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,a=i[0],o=i[3],l=i[6],c=i[1],d=i[4],p=i[7],v=i[2],g=i[5],y=i[8],_=r[0],w=r[3],b=r[6],M=r[1],E=r[4],x=r[7],T=r[2],k=r[5],I=r[8];return s[0]=a*_+o*M+l*T,s[3]=a*w+o*E+l*k,s[6]=a*b+o*x+l*I,s[1]=c*_+d*M+p*T,s[4]=c*w+d*E+p*k,s[7]=c*b+d*x+p*I,s[2]=v*_+g*M+y*T,s[5]=v*w+g*E+y*k,s[8]=v*b+g*x+y*I,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],d=e[8];return n*a*d-n*o*c-i*s*d+i*o*l+r*s*c-r*a*l}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],d=e[8],p=d*a-o*c,v=o*l-d*s,g=c*s-a*l,y=n*p+i*v+r*g;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/y;return e[0]=p*_,e[1]=(r*c-d*i)*_,e[2]=(o*i-r*a)*_,e[3]=v*_,e[4]=(d*n-r*l)*_,e[5]=(r*s-o*n)*_,e[6]=g*_,e[7]=(i*l-c*n)*_,e[8]=(a*n-i*s)*_,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,s,a,o){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*a+c*o)+a+e,-r*c,r*l,-r*(-c*a+l*o)+o+n,0,0,1),this}scale(e,n){return this.premultiply(tv.makeScale(e,n)),this}rotate(e){return this.premultiply(tv.makeRotation(-e)),this}translate(e,n){return this.premultiply(tv.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const tv=new wn;function uP(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function np(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Phe(){const t=np("canvas");return t.style.display="block",t}const xE={};function Au(t){t in xE||(xE[t]=!0,console.warn(t))}const ME=new wn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),TE=new wn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Af={[Na]:{transfer:Jh,primaries:Qh,toReference:t=>t,fromReference:t=>t},[Gi]:{transfer:ei,primaries:Qh,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[zp]:{transfer:Jh,primaries:ep,toReference:t=>t.applyMatrix3(TE),fromReference:t=>t.applyMatrix3(ME)},[O_]:{transfer:ei,primaries:ep,toReference:t=>t.convertSRGBToLinear().applyMatrix3(TE),fromReference:t=>t.applyMatrix3(ME).convertLinearToSRGB()}},Rhe=new Set([Na,zp]),Bn={enabled:!0,_workingColorSpace:Na,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!Rhe.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const i=Af[e].toReference,r=Af[n].fromReference;return r(i(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return Af[t].primaries},getTransfer:function(t){return t===ls?Jh:Af[t].transfer}};function ku(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function nv(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let jl;class cP{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{jl===void 0&&(jl=np("canvas")),jl.width=e.width,jl.height=e.height;const i=jl.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=jl}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=np("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=ku(s[a]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(ku(n[i]/255)*255):n[i]=ku(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Ihe=0;class dP{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Ihe++}),this.uuid=Yd(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let a=0,o=r.length;a<o;a++)r[a].isDataTexture?s.push(iv(r[a].image)):s.push(iv(r[a]))}else s=iv(r);i.url=s}return n||(e.images[this.uuid]=i),i}}function iv(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?cP.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Lhe=0;class Or extends vc{constructor(e=Or.DEFAULT_IMAGE,n=Or.DEFAULT_MAPPING,i=Ps,r=Ps,s=Mr,a=sl,o=Rs,l=fo,c=Or.DEFAULT_ANISOTROPY,d=ls){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Lhe++}),this.uuid=Yd(),this.name="",this.source=new dP(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=a,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new Pn(0,0),this.repeat=new Pn(1,1),this.center=new Pn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new wn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof d=="string"?this.colorSpace=d:(Au("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=d===pl?Gi:ls),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Jk)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case u0:e.x=e.x-Math.floor(e.x);break;case Ps:e.x=e.x<0?0:1;break;case c0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case u0:e.y=e.y-Math.floor(e.y);break;case Ps:e.y=e.y<0?0:1;break;case c0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Au("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Gi?pl:aP}set encoding(e){Au("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===pl?Gi:ls}}Or.DEFAULT_IMAGE=null;Or.DEFAULT_MAPPING=Jk;Or.DEFAULT_ANISOTROPY=1;class hi{constructor(e=0,n=0,i=0,r=1){hi.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=this.w,a=e.elements;return this.x=a[0]*n+a[4]*i+a[8]*r+a[12]*s,this.y=a[1]*n+a[5]*i+a[9]*r+a[13]*s,this.z=a[2]*n+a[6]*i+a[10]*r+a[14]*s,this.w=a[3]*n+a[7]*i+a[11]*r+a[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,s;const l=e.elements,c=l[0],d=l[4],p=l[8],v=l[1],g=l[5],y=l[9],_=l[2],w=l[6],b=l[10];if(Math.abs(d-v)<.01&&Math.abs(p-_)<.01&&Math.abs(y-w)<.01){if(Math.abs(d+v)<.1&&Math.abs(p+_)<.1&&Math.abs(y+w)<.1&&Math.abs(c+g+b-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const E=(c+1)/2,x=(g+1)/2,T=(b+1)/2,k=(d+v)/4,I=(p+_)/4,O=(y+w)/4;return E>x&&E>T?E<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(E),r=k/i,s=I/i):x>T?x<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(x),i=k/r,s=O/r):T<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(T),i=I/s,r=O/s),this.set(i,r,s,n),this}let M=Math.sqrt((w-y)*(w-y)+(p-_)*(p-_)+(v-d)*(v-d));return Math.abs(M)<.001&&(M=1),this.x=(w-y)/M,this.y=(p-_)/M,this.z=(v-d)/M,this.w=Math.acos((c+g+b-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Nhe extends vc{constructor(e=1,n=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new hi(0,0,e,n),this.scissorTest=!1,this.viewport=new hi(0,0,e,n);const r={width:e,height:n,depth:1};i.encoding!==void 0&&(Au("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===pl?Gi:ls),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Mr,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},i),this.texture=new Or(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps,this.texture.internalFormat=i.internalFormat,this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}setSize(e,n,i=1){(this.width!==e||this.height!==n||this.depth!==i)&&(this.width=e,this.height=n,this.depth=i,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new dP(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Al extends Nhe{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class fP extends Or{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=pr,this.minFilter=pr,this.wrapR=Ps,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ohe extends Or{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=pr,this.minFilter=pr,this.wrapR=Ps,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class jd{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,s,a,o){let l=i[r+0],c=i[r+1],d=i[r+2],p=i[r+3];const v=s[a+0],g=s[a+1],y=s[a+2],_=s[a+3];if(o===0){e[n+0]=l,e[n+1]=c,e[n+2]=d,e[n+3]=p;return}if(o===1){e[n+0]=v,e[n+1]=g,e[n+2]=y,e[n+3]=_;return}if(p!==_||l!==v||c!==g||d!==y){let w=1-o;const b=l*v+c*g+d*y+p*_,M=b>=0?1:-1,E=1-b*b;if(E>Number.EPSILON){const T=Math.sqrt(E),k=Math.atan2(T,b*M);w=Math.sin(w*k)/T,o=Math.sin(o*k)/T}const x=o*M;if(l=l*w+v*x,c=c*w+g*x,d=d*w+y*x,p=p*w+_*x,w===1-o){const T=1/Math.sqrt(l*l+c*c+d*d+p*p);l*=T,c*=T,d*=T,p*=T}}e[n]=l,e[n+1]=c,e[n+2]=d,e[n+3]=p}static multiplyQuaternionsFlat(e,n,i,r,s,a){const o=i[r],l=i[r+1],c=i[r+2],d=i[r+3],p=s[a],v=s[a+1],g=s[a+2],y=s[a+3];return e[n]=o*y+d*p+l*g-c*v,e[n+1]=l*y+d*v+c*p-o*g,e[n+2]=c*y+d*g+o*v-l*p,e[n+3]=d*y-o*p-l*v-c*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const i=e._x,r=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,c=o(i/2),d=o(r/2),p=o(s/2),v=l(i/2),g=l(r/2),y=l(s/2);switch(a){case"XYZ":this._x=v*d*p+c*g*y,this._y=c*g*p-v*d*y,this._z=c*d*y+v*g*p,this._w=c*d*p-v*g*y;break;case"YXZ":this._x=v*d*p+c*g*y,this._y=c*g*p-v*d*y,this._z=c*d*y-v*g*p,this._w=c*d*p+v*g*y;break;case"ZXY":this._x=v*d*p-c*g*y,this._y=c*g*p+v*d*y,this._z=c*d*y+v*g*p,this._w=c*d*p-v*g*y;break;case"ZYX":this._x=v*d*p-c*g*y,this._y=c*g*p+v*d*y,this._z=c*d*y-v*g*p,this._w=c*d*p+v*g*y;break;case"YZX":this._x=v*d*p+c*g*y,this._y=c*g*p+v*d*y,this._z=c*d*y-v*g*p,this._w=c*d*p-v*g*y;break;case"XZY":this._x=v*d*p-c*g*y,this._y=c*g*p-v*d*y,this._z=c*d*y+v*g*p,this._w=c*d*p+v*g*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],s=n[8],a=n[1],o=n[5],l=n[9],c=n[2],d=n[6],p=n[10],v=i+o+p;if(v>0){const g=.5/Math.sqrt(v+1);this._w=.25/g,this._x=(d-l)*g,this._y=(s-c)*g,this._z=(a-r)*g}else if(i>o&&i>p){const g=2*Math.sqrt(1+i-o-p);this._w=(d-l)/g,this._x=.25*g,this._y=(r+a)/g,this._z=(s+c)/g}else if(o>p){const g=2*Math.sqrt(1+o-i-p);this._w=(s-c)/g,this._x=(r+a)/g,this._y=.25*g,this._z=(l+d)/g}else{const g=2*Math.sqrt(1+p-i-o);this._w=(a-r)/g,this._x=(s+c)/g,this._y=(l+d)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Tr(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,s=e._z,a=e._w,o=n._x,l=n._y,c=n._z,d=n._w;return this._x=i*d+a*o+r*c-s*l,this._y=r*d+a*l+s*o-i*c,this._z=s*d+a*c+i*l-r*o,this._w=a*d-i*o-r*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,a=this._w;let o=a*e._w+i*e._x+r*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=i,this._y=r,this._z=s,this;const l=1-o*o;if(l<=Number.EPSILON){const g=1-n;return this._w=g*a+n*this._w,this._x=g*i+n*this._x,this._y=g*r+n*this._y,this._z=g*s+n*this._z,this.normalize(),this}const c=Math.sqrt(l),d=Math.atan2(c,o),p=Math.sin((1-n)*d)/c,v=Math.sin(n*d)/c;return this._w=a*p+this._w*v,this._x=i*p+this._x*v,this._y=r*p+this._y*v,this._z=s*p+this._z*v,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=Math.random(),n=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(r),i*Math.sin(s),i*Math.cos(s),n*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class je{constructor(e=0,n=0,i=0){je.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(AE.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(AE.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[3]*i+s[6]*r,this.y=s[1]*n+s[4]*i+s[7]*r,this.z=s[2]*n+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=e.elements,a=1/(s[3]*n+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*n+s[4]*i+s[8]*r+s[12])*a,this.y=(s[1]*n+s[5]*i+s[9]*r+s[13])*a,this.z=(s[2]*n+s[6]*i+s[10]*r+s[14])*a,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,s=e.x,a=e.y,o=e.z,l=e.w,c=2*(a*r-o*i),d=2*(o*n-s*r),p=2*(s*i-a*n);return this.x=n+l*c+a*p-o*d,this.y=i+l*d+o*c-s*p,this.z=r+l*p+s*d-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*r,this.y=s[1]*n+s[5]*i+s[9]*r,this.z=s[2]*n+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,s=e.z,a=n.x,o=n.y,l=n.z;return this.x=r*l-s*o,this.y=s*a-i*l,this.z=i*o-r*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return rv.copy(this).projectOnVector(e),this.sub(rv)}reflect(e){return this.sub(rv.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Tr(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(n),this.y=i*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const rv=new je,AE=new jd;class Xd{constructor(e=new je(1/0,1/0,1/0),n=new je(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(Cs.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(Cs.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Cs.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,Cs):Cs.fromBufferAttribute(s,a),Cs.applyMatrix4(e.matrixWorld),this.expandByPoint(Cs);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),kf.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),kf.copy(i.boundingBox)),kf.applyMatrix4(e.matrixWorld),this.union(kf)}const r=e.children;for(let s=0,a=r.length;s<a;s++)this.expandByObject(r[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Cs),Cs.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Bc),Pf.subVectors(this.max,Bc),Xl.subVectors(e.a,Bc),Zl.subVectors(e.b,Bc),Jl.subVectors(e.c,Bc),Wa.subVectors(Zl,Xl),Ka.subVectors(Jl,Zl),$o.subVectors(Xl,Jl);let n=[0,-Wa.z,Wa.y,0,-Ka.z,Ka.y,0,-$o.z,$o.y,Wa.z,0,-Wa.x,Ka.z,0,-Ka.x,$o.z,0,-$o.x,-Wa.y,Wa.x,0,-Ka.y,Ka.x,0,-$o.y,$o.x,0];return!sv(n,Xl,Zl,Jl,Pf)||(n=[1,0,0,0,1,0,0,0,1],!sv(n,Xl,Zl,Jl,Pf))?!1:(Rf.crossVectors(Wa,Ka),n=[Rf.x,Rf.y,Rf.z],sv(n,Xl,Zl,Jl,Pf))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Cs).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Cs).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ba[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ba[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ba[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ba[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ba[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ba[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ba[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ba[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ba),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ba=[new je,new je,new je,new je,new je,new je,new je,new je],Cs=new je,kf=new Xd,Xl=new je,Zl=new je,Jl=new je,Wa=new je,Ka=new je,$o=new je,Bc=new je,Pf=new je,Rf=new je,Ho=new je;function sv(t,e,n,i,r){for(let s=0,a=t.length-3;s<=a;s+=3){Ho.fromArray(t,s);const o=r.x*Math.abs(Ho.x)+r.y*Math.abs(Ho.y)+r.z*Math.abs(Ho.z),l=e.dot(Ho),c=n.dot(Ho),d=i.dot(Ho);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>o)return!1}return!0}const Dhe=new Xd,Uc=new je,av=new je;class $p{constructor(e=new je,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):Dhe.setFromPoints(e).getCenter(i);let r=0;for(let s=0,a=e.length;s<a;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Uc.subVectors(e,this.center);const n=Uc.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(Uc,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(av.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Uc.copy(e.center).add(av)),this.expandByPoint(Uc.copy(e.center).sub(av))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const wa=new je,ov=new je,If=new je,qa=new je,lv=new je,Lf=new je,uv=new je;class hP{constructor(e=new je,n=new je(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,wa)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=wa.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(wa.copy(this.origin).addScaledVector(this.direction,n),wa.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){ov.copy(e).add(n).multiplyScalar(.5),If.copy(n).sub(e).normalize(),qa.copy(this.origin).sub(ov);const s=e.distanceTo(n)*.5,a=-this.direction.dot(If),o=qa.dot(this.direction),l=-qa.dot(If),c=qa.lengthSq(),d=Math.abs(1-a*a);let p,v,g,y;if(d>0)if(p=a*l-o,v=a*o-l,y=s*d,p>=0)if(v>=-y)if(v<=y){const _=1/d;p*=_,v*=_,g=p*(p+a*v+2*o)+v*(a*p+v+2*l)+c}else v=s,p=Math.max(0,-(a*v+o)),g=-p*p+v*(v+2*l)+c;else v=-s,p=Math.max(0,-(a*v+o)),g=-p*p+v*(v+2*l)+c;else v<=-y?(p=Math.max(0,-(-a*s+o)),v=p>0?-s:Math.min(Math.max(-s,-l),s),g=-p*p+v*(v+2*l)+c):v<=y?(p=0,v=Math.min(Math.max(-s,-l),s),g=v*(v+2*l)+c):(p=Math.max(0,-(a*s+o)),v=p>0?s:Math.min(Math.max(-s,-l),s),g=-p*p+v*(v+2*l)+c);else v=a>0?-s:s,p=Math.max(0,-(a*v+o)),g=-p*p+v*(v+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,p),r&&r.copy(ov).addScaledVector(If,v),g}intersectSphere(e,n){wa.subVectors(e.center,this.origin);const i=wa.dot(this.direction),r=wa.dot(wa)-i*i,s=e.radius*e.radius;if(r>s)return null;const a=Math.sqrt(s-r),o=i-a,l=i+a;return l<0?null:o<0?this.at(l,n):this.at(o,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,s,a,o,l;const c=1/this.direction.x,d=1/this.direction.y,p=1/this.direction.z,v=this.origin;return c>=0?(i=(e.min.x-v.x)*c,r=(e.max.x-v.x)*c):(i=(e.max.x-v.x)*c,r=(e.min.x-v.x)*c),d>=0?(s=(e.min.y-v.y)*d,a=(e.max.y-v.y)*d):(s=(e.max.y-v.y)*d,a=(e.min.y-v.y)*d),i>a||s>r||((s>i||isNaN(i))&&(i=s),(a<r||isNaN(r))&&(r=a),p>=0?(o=(e.min.z-v.z)*p,l=(e.max.z-v.z)*p):(o=(e.max.z-v.z)*p,l=(e.min.z-v.z)*p),i>l||o>r)||((o>i||i!==i)&&(i=o),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,wa)!==null}intersectTriangle(e,n,i,r,s){lv.subVectors(n,e),Lf.subVectors(i,e),uv.crossVectors(lv,Lf);let a=this.direction.dot(uv),o;if(a>0){if(r)return null;o=1}else if(a<0)o=-1,a=-a;else return null;qa.subVectors(this.origin,e);const l=o*this.direction.dot(Lf.crossVectors(qa,Lf));if(l<0)return null;const c=o*this.direction.dot(lv.cross(qa));if(c<0||l+c>a)return null;const d=-o*qa.dot(uv);return d<0?null:this.at(d/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Zn{constructor(e,n,i,r,s,a,o,l,c,d,p,v,g,y,_,w){Zn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,a,o,l,c,d,p,v,g,y,_,w)}set(e,n,i,r,s,a,o,l,c,d,p,v,g,y,_,w){const b=this.elements;return b[0]=e,b[4]=n,b[8]=i,b[12]=r,b[1]=s,b[5]=a,b[9]=o,b[13]=l,b[2]=c,b[6]=d,b[10]=p,b[14]=v,b[3]=g,b[7]=y,b[11]=_,b[15]=w,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Zn().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,r=1/Ql.setFromMatrixColumn(e,0).length(),s=1/Ql.setFromMatrixColumn(e,1).length(),a=1/Ql.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*s,n[5]=i[5]*s,n[6]=i[6]*s,n[7]=0,n[8]=i[8]*a,n[9]=i[9]*a,n[10]=i[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,s=e.z,a=Math.cos(i),o=Math.sin(i),l=Math.cos(r),c=Math.sin(r),d=Math.cos(s),p=Math.sin(s);if(e.order==="XYZ"){const v=a*d,g=a*p,y=o*d,_=o*p;n[0]=l*d,n[4]=-l*p,n[8]=c,n[1]=g+y*c,n[5]=v-_*c,n[9]=-o*l,n[2]=_-v*c,n[6]=y+g*c,n[10]=a*l}else if(e.order==="YXZ"){const v=l*d,g=l*p,y=c*d,_=c*p;n[0]=v+_*o,n[4]=y*o-g,n[8]=a*c,n[1]=a*p,n[5]=a*d,n[9]=-o,n[2]=g*o-y,n[6]=_+v*o,n[10]=a*l}else if(e.order==="ZXY"){const v=l*d,g=l*p,y=c*d,_=c*p;n[0]=v-_*o,n[4]=-a*p,n[8]=y+g*o,n[1]=g+y*o,n[5]=a*d,n[9]=_-v*o,n[2]=-a*c,n[6]=o,n[10]=a*l}else if(e.order==="ZYX"){const v=a*d,g=a*p,y=o*d,_=o*p;n[0]=l*d,n[4]=y*c-g,n[8]=v*c+_,n[1]=l*p,n[5]=_*c+v,n[9]=g*c-y,n[2]=-c,n[6]=o*l,n[10]=a*l}else if(e.order==="YZX"){const v=a*l,g=a*c,y=o*l,_=o*c;n[0]=l*d,n[4]=_-v*p,n[8]=y*p+g,n[1]=p,n[5]=a*d,n[9]=-o*d,n[2]=-c*d,n[6]=g*p+y,n[10]=v-_*p}else if(e.order==="XZY"){const v=a*l,g=a*c,y=o*l,_=o*c;n[0]=l*d,n[4]=-p,n[8]=c*d,n[1]=v*p+_,n[5]=a*d,n[9]=g*p-y,n[2]=y*p-g,n[6]=o*d,n[10]=_*p+v}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Fhe,e,Bhe)}lookAt(e,n,i){const r=this.elements;return Hr.subVectors(e,n),Hr.lengthSq()===0&&(Hr.z=1),Hr.normalize(),Ya.crossVectors(i,Hr),Ya.lengthSq()===0&&(Math.abs(i.z)===1?Hr.x+=1e-4:Hr.z+=1e-4,Hr.normalize(),Ya.crossVectors(i,Hr)),Ya.normalize(),Nf.crossVectors(Hr,Ya),r[0]=Ya.x,r[4]=Nf.x,r[8]=Hr.x,r[1]=Ya.y,r[5]=Nf.y,r[9]=Hr.y,r[2]=Ya.z,r[6]=Nf.z,r[10]=Hr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,a=i[0],o=i[4],l=i[8],c=i[12],d=i[1],p=i[5],v=i[9],g=i[13],y=i[2],_=i[6],w=i[10],b=i[14],M=i[3],E=i[7],x=i[11],T=i[15],k=r[0],I=r[4],O=r[8],U=r[12],R=r[1],N=r[5],$=r[9],J=r[13],Y=r[2],H=r[6],B=r[10],X=r[14],q=r[3],D=r[7],V=r[11],ee=r[15];return s[0]=a*k+o*R+l*Y+c*q,s[4]=a*I+o*N+l*H+c*D,s[8]=a*O+o*$+l*B+c*V,s[12]=a*U+o*J+l*X+c*ee,s[1]=d*k+p*R+v*Y+g*q,s[5]=d*I+p*N+v*H+g*D,s[9]=d*O+p*$+v*B+g*V,s[13]=d*U+p*J+v*X+g*ee,s[2]=y*k+_*R+w*Y+b*q,s[6]=y*I+_*N+w*H+b*D,s[10]=y*O+_*$+w*B+b*V,s[14]=y*U+_*J+w*X+b*ee,s[3]=M*k+E*R+x*Y+T*q,s[7]=M*I+E*N+x*H+T*D,s[11]=M*O+E*$+x*B+T*V,s[15]=M*U+E*J+x*X+T*ee,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],s=e[12],a=e[1],o=e[5],l=e[9],c=e[13],d=e[2],p=e[6],v=e[10],g=e[14],y=e[3],_=e[7],w=e[11],b=e[15];return y*(+s*l*p-r*c*p-s*o*v+i*c*v+r*o*g-i*l*g)+_*(+n*l*g-n*c*v+s*a*v-r*a*g+r*c*d-s*l*d)+w*(+n*c*p-n*o*g-s*a*p+i*a*g+s*o*d-i*c*d)+b*(-r*o*d-n*l*p+n*o*v+r*a*p-i*a*v+i*l*d)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],d=e[8],p=e[9],v=e[10],g=e[11],y=e[12],_=e[13],w=e[14],b=e[15],M=p*w*c-_*v*c+_*l*g-o*w*g-p*l*b+o*v*b,E=y*v*c-d*w*c-y*l*g+a*w*g+d*l*b-a*v*b,x=d*_*c-y*p*c+y*o*g-a*_*g-d*o*b+a*p*b,T=y*p*l-d*_*l-y*o*v+a*_*v+d*o*w-a*p*w,k=n*M+i*E+r*x+s*T;if(k===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/k;return e[0]=M*I,e[1]=(_*v*s-p*w*s-_*r*g+i*w*g+p*r*b-i*v*b)*I,e[2]=(o*w*s-_*l*s+_*r*c-i*w*c-o*r*b+i*l*b)*I,e[3]=(p*l*s-o*v*s-p*r*c+i*v*c+o*r*g-i*l*g)*I,e[4]=E*I,e[5]=(d*w*s-y*v*s+y*r*g-n*w*g-d*r*b+n*v*b)*I,e[6]=(y*l*s-a*w*s-y*r*c+n*w*c+a*r*b-n*l*b)*I,e[7]=(a*v*s-d*l*s+d*r*c-n*v*c-a*r*g+n*l*g)*I,e[8]=x*I,e[9]=(y*p*s-d*_*s-y*i*g+n*_*g+d*i*b-n*p*b)*I,e[10]=(a*_*s-y*o*s+y*i*c-n*_*c-a*i*b+n*o*b)*I,e[11]=(d*o*s-a*p*s-d*i*c+n*p*c+a*i*g-n*o*g)*I,e[12]=T*I,e[13]=(d*_*r-y*p*r+y*i*v-n*_*v-d*i*w+n*p*w)*I,e[14]=(y*o*r-a*_*r-y*i*l+n*_*l+a*i*w-n*o*w)*I,e[15]=(a*p*r-d*o*r+d*i*l-n*p*l-a*i*v+n*o*v)*I,this}scale(e){const n=this.elements,i=e.x,r=e.y,s=e.z;return n[0]*=i,n[4]*=r,n[8]*=s,n[1]*=i,n[5]*=r,n[9]*=s,n[2]*=i,n[6]*=r,n[10]*=s,n[3]*=i,n[7]*=r,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),s=1-i,a=e.x,o=e.y,l=e.z,c=s*a,d=s*o;return this.set(c*a+i,c*o-r*l,c*l+r*o,0,c*o+r*l,d*o+i,d*l-r*a,0,c*l-r*o,d*l+r*a,s*l*l+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,s,a){return this.set(1,i,s,0,e,1,a,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,s=n._x,a=n._y,o=n._z,l=n._w,c=s+s,d=a+a,p=o+o,v=s*c,g=s*d,y=s*p,_=a*d,w=a*p,b=o*p,M=l*c,E=l*d,x=l*p,T=i.x,k=i.y,I=i.z;return r[0]=(1-(_+b))*T,r[1]=(g+x)*T,r[2]=(y-E)*T,r[3]=0,r[4]=(g-x)*k,r[5]=(1-(v+b))*k,r[6]=(w+M)*k,r[7]=0,r[8]=(y+E)*I,r[9]=(w-M)*I,r[10]=(1-(v+_))*I,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;let s=Ql.set(r[0],r[1],r[2]).length();const a=Ql.set(r[4],r[5],r[6]).length(),o=Ql.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],xs.copy(this);const c=1/s,d=1/a,p=1/o;return xs.elements[0]*=c,xs.elements[1]*=c,xs.elements[2]*=c,xs.elements[4]*=d,xs.elements[5]*=d,xs.elements[6]*=d,xs.elements[8]*=p,xs.elements[9]*=p,xs.elements[10]*=p,n.setFromRotationMatrix(xs),i.x=s,i.y=a,i.z=o,this}makePerspective(e,n,i,r,s,a,o=ka){const l=this.elements,c=2*s/(n-e),d=2*s/(i-r),p=(n+e)/(n-e),v=(i+r)/(i-r);let g,y;if(o===ka)g=-(a+s)/(a-s),y=-2*a*s/(a-s);else if(o===tp)g=-a/(a-s),y=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=c,l[4]=0,l[8]=p,l[12]=0,l[1]=0,l[5]=d,l[9]=v,l[13]=0,l[2]=0,l[6]=0,l[10]=g,l[14]=y,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,i,r,s,a,o=ka){const l=this.elements,c=1/(n-e),d=1/(i-r),p=1/(a-s),v=(n+e)*c,g=(i+r)*d;let y,_;if(o===ka)y=(a+s)*p,_=-2*p;else if(o===tp)y=s*p,_=-1*p;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-v,l[1]=0,l[5]=2*d,l[9]=0,l[13]=-g,l[2]=0,l[6]=0,l[10]=_,l[14]=-y,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const Ql=new je,xs=new Zn,Fhe=new je(0,0,0),Bhe=new je(1,1,1),Ya=new je,Nf=new je,Hr=new je,kE=new Zn,PE=new jd;class Hp{constructor(e=0,n=0,i=0,r=Hp.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,s=r[0],a=r[4],o=r[8],l=r[1],c=r[5],d=r[9],p=r[2],v=r[6],g=r[10];switch(n){case"XYZ":this._y=Math.asin(Tr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-d,g),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(v,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Tr(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(o,g),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-p,s),this._z=0);break;case"ZXY":this._x=Math.asin(Tr(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-p,g),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Tr(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(v,g),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(Tr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-p,s)):(this._x=0,this._y=Math.atan2(o,g));break;case"XZY":this._z=Math.asin(-Tr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(v,c),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-d,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return kE.makeRotationFromQuaternion(e),this.setFromRotationMatrix(kE,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return PE.setFromEuler(this),this.setFromQuaternion(PE,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Hp.DEFAULT_ORDER="XYZ";class pP{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Uhe=0;const RE=new je,eu=new jd,Sa=new Zn,Of=new je,Vc=new je,Vhe=new je,zhe=new jd,IE=new je(1,0,0),LE=new je(0,1,0),NE=new je(0,0,1),$he={type:"added"},Hhe={type:"removed"};class Ki extends vc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Uhe++}),this.uuid=Yd(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ki.DEFAULT_UP.clone();const e=new je,n=new Hp,i=new jd,r=new je(1,1,1);function s(){i.setFromEuler(n,!1)}function a(){n.setFromQuaternion(i,void 0,!1)}n._onChange(s),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Zn},normalMatrix:{value:new wn}}),this.matrix=new Zn,this.matrixWorld=new Zn,this.matrixAutoUpdate=Ki.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Ki.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new pP,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return eu.setFromAxisAngle(e,n),this.quaternion.multiply(eu),this}rotateOnWorldAxis(e,n){return eu.setFromAxisAngle(e,n),this.quaternion.premultiply(eu),this}rotateX(e){return this.rotateOnAxis(IE,e)}rotateY(e){return this.rotateOnAxis(LE,e)}rotateZ(e){return this.rotateOnAxis(NE,e)}translateOnAxis(e,n){return RE.copy(e).applyQuaternion(this.quaternion),this.position.add(RE.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(IE,e)}translateY(e){return this.translateOnAxis(LE,e)}translateZ(e){return this.translateOnAxis(NE,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Sa.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?Of.copy(e):Of.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Vc.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Sa.lookAt(Vc,Of,this.up):Sa.lookAt(Of,Vc,this.up),this.quaternion.setFromRotationMatrix(Sa),r&&(Sa.extractRotation(r.matrixWorld),eu.setFromRotationMatrix(Sa),this.quaternion.premultiply(eu.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent($he)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Hhe)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Sa.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Sa.multiply(e.parent.matrixWorld)),e.applyMatrix4(Sa),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const a=this.children[i].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Vc,e,Vhe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Vc,zhe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++){const s=n[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const r=this.children;for(let s=0,a=r.length;s<a;s++){const o=r[s];o.matrixWorldAutoUpdate===!0&&o.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(o=>({boxInitialized:o.boxInitialized,boxMin:o.box.min.toArray(),boxMax:o.box.max.toArray(),sphereInitialized:o.sphereInitialized,sphereRadius:o.sphere.radius,sphereCenter:o.sphere.center.toArray()})),r.maxGeometryCount=this._maxGeometryCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,d=l.length;c<d;c++){const p=l[c];s(e.shapes,p)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(s(e.materials,this.material[l]));r.material=o}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];r.animations.push(s(e.animations,l))}}if(n){const o=a(e.geometries),l=a(e.materials),c=a(e.textures),d=a(e.images),p=a(e.shapes),v=a(e.skeletons),g=a(e.animations),y=a(e.nodes);o.length>0&&(i.geometries=o),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),d.length>0&&(i.images=d),p.length>0&&(i.shapes=p),v.length>0&&(i.skeletons=v),g.length>0&&(i.animations=g),y.length>0&&(i.nodes=y)}return i.object=r,i;function a(o){const l=[];for(const c in o){const d=o[c];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Ki.DEFAULT_UP=new je(0,1,0);Ki.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ki.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ms=new je,Ea=new je,cv=new je,Ca=new je,tu=new je,nu=new je,OE=new je,dv=new je,fv=new je,hv=new je;class Qs{constructor(e=new je,n=new je,i=new je){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),Ms.subVectors(e,n),r.cross(Ms);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,n,i,r,s){Ms.subVectors(r,n),Ea.subVectors(i,n),cv.subVectors(e,n);const a=Ms.dot(Ms),o=Ms.dot(Ea),l=Ms.dot(cv),c=Ea.dot(Ea),d=Ea.dot(cv),p=a*c-o*o;if(p===0)return s.set(0,0,0),null;const v=1/p,g=(c*l-o*d)*v,y=(a*d-o*l)*v;return s.set(1-g-y,y,g)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,Ca)===null?!1:Ca.x>=0&&Ca.y>=0&&Ca.x+Ca.y<=1}static getInterpolation(e,n,i,r,s,a,o,l){return this.getBarycoord(e,n,i,r,Ca)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Ca.x),l.addScaledVector(a,Ca.y),l.addScaledVector(o,Ca.z),l)}static isFrontFacing(e,n,i,r){return Ms.subVectors(i,n),Ea.subVectors(e,n),Ms.cross(Ea).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ms.subVectors(this.c,this.b),Ea.subVectors(this.a,this.b),Ms.cross(Ea).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Qs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Qs.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,i,r,s){return Qs.getInterpolation(e,this.a,this.b,this.c,n,i,r,s)}containsPoint(e){return Qs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Qs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,s=this.c;let a,o;tu.subVectors(r,i),nu.subVectors(s,i),dv.subVectors(e,i);const l=tu.dot(dv),c=nu.dot(dv);if(l<=0&&c<=0)return n.copy(i);fv.subVectors(e,r);const d=tu.dot(fv),p=nu.dot(fv);if(d>=0&&p<=d)return n.copy(r);const v=l*p-d*c;if(v<=0&&l>=0&&d<=0)return a=l/(l-d),n.copy(i).addScaledVector(tu,a);hv.subVectors(e,s);const g=tu.dot(hv),y=nu.dot(hv);if(y>=0&&g<=y)return n.copy(s);const _=g*c-l*y;if(_<=0&&c>=0&&y<=0)return o=c/(c-y),n.copy(i).addScaledVector(nu,o);const w=d*y-g*p;if(w<=0&&p-d>=0&&g-y>=0)return OE.subVectors(s,r),o=(p-d)/(p-d+(g-y)),n.copy(r).addScaledVector(OE,o);const b=1/(w+_+v);return a=_*b,o=v*b,n.copy(i).addScaledVector(tu,a).addScaledVector(nu,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const mP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ja={h:0,s:0,l:0},Df={h:0,s:0,l:0};function pv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class xn{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Gi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Bn.toWorkingColorSpace(this,n),this}setRGB(e,n,i,r=Bn.workingColorSpace){return this.r=e,this.g=n,this.b=i,Bn.toWorkingColorSpace(this,r),this}setHSL(e,n,i,r=Bn.workingColorSpace){if(e=khe(e,1),n=Tr(n,0,1),i=Tr(i,0,1),n===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+n):i+n-i*n,a=2*i-s;this.r=pv(a,s,e+1/3),this.g=pv(a,s,e),this.b=pv(a,s,e-1/3)}return Bn.toWorkingColorSpace(this,r),this}setStyle(e,n=Gi){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=r[1],o=r[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Gi){const i=mP[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ku(e.r),this.g=ku(e.g),this.b=ku(e.b),this}copyLinearToSRGB(e){return this.r=nv(e.r),this.g=nv(e.g),this.b=nv(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Gi){return Bn.fromWorkingColorSpace(Zi.copy(this),e),Math.round(Tr(Zi.r*255,0,255))*65536+Math.round(Tr(Zi.g*255,0,255))*256+Math.round(Tr(Zi.b*255,0,255))}getHexString(e=Gi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Bn.workingColorSpace){Bn.fromWorkingColorSpace(Zi.copy(this),n);const i=Zi.r,r=Zi.g,s=Zi.b,a=Math.max(i,r,s),o=Math.min(i,r,s);let l,c;const d=(o+a)/2;if(o===a)l=0,c=0;else{const p=a-o;switch(c=d<=.5?p/(a+o):p/(2-a-o),a){case i:l=(r-s)/p+(r<s?6:0);break;case r:l=(s-i)/p+2;break;case s:l=(i-r)/p+4;break}l/=6}return e.h=l,e.s=c,e.l=d,e}getRGB(e,n=Bn.workingColorSpace){return Bn.fromWorkingColorSpace(Zi.copy(this),n),e.r=Zi.r,e.g=Zi.g,e.b=Zi.b,e}getStyle(e=Gi){Bn.fromWorkingColorSpace(Zi.copy(this),e);const n=Zi.r,i=Zi.g,r=Zi.b;return e!==Gi?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,n,i){return this.getHSL(ja),this.setHSL(ja.h+e,ja.s+n,ja.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(ja),e.getHSL(Df);const i=ev(ja.h,Df.h,n),r=ev(ja.s,Df.s,n),s=ev(ja.l,Df.l,n);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*n+s[3]*i+s[6]*r,this.g=s[1]*n+s[4]*i+s[7]*r,this.b=s[2]*n+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Zi=new xn;xn.NAMES=mP;let Ghe=0;class gc extends vc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Ghe++}),this.uuid=Yd(),this.name="",this.type="Material",this.blending=Tu,this.side=Co,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=s0,this.blendDst=a0,this.blendEquation=Xo,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new xn(0,0,0),this.blendAlpha=0,this.depthFunc=Zh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=wE,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Yl,this.stencilZFail=Yl,this.stencilZPass=Yl,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Tu&&(i.blending=this.blending),this.side!==Co&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==s0&&(i.blendSrc=this.blendSrc),this.blendDst!==a0&&(i.blendDst=this.blendDst),this.blendEquation!==Xo&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Zh&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==wE&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Yl&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Yl&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Yl&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(n){const s=r(e.textures),a=r(e.images);s.length>0&&(i.textures=s),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=n[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class D_ extends gc{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new xn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=L_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ti=new je,Ff=new Pn;class Rr{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=SE,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Aa,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return Au("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)Ff.fromBufferAttribute(this,n),Ff.applyMatrix3(e),this.setXY(n,Ff.x,Ff.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)Ti.fromBufferAttribute(this,n),Ti.applyMatrix3(e),this.setXYZ(n,Ti.x,Ti.y,Ti.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)Ti.fromBufferAttribute(this,n),Ti.applyMatrix4(e),this.setXYZ(n,Ti.x,Ti.y,Ti.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Ti.fromBufferAttribute(this,n),Ti.applyNormalMatrix(e),this.setXYZ(n,Ti.x,Ti.y,Ti.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Ti.fromBufferAttribute(this,n),Ti.transformDirection(e),this.setXYZ(n,Ti.x,Ti.y,Ti.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=Fc(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=Cr(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Fc(n,this.array)),n}setX(e,n){return this.normalized&&(n=Cr(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Fc(n,this.array)),n}setY(e,n){return this.normalized&&(n=Cr(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Fc(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Cr(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Fc(n,this.array)),n}setW(e,n){return this.normalized&&(n=Cr(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=Cr(n,this.array),i=Cr(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=Cr(n,this.array),i=Cr(i,this.array),r=Cr(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e*=this.itemSize,this.normalized&&(n=Cr(n,this.array),i=Cr(i,this.array),r=Cr(r,this.array),s=Cr(s,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==SE&&(e.usage=this.usage),e}}class vP extends Rr{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class gP extends Rr{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class sr extends Rr{constructor(e,n,i){super(new Float32Array(e),n,i)}}let Whe=0;const ns=new Zn,mv=new Ki,iu=new je,Gr=new Xd,zc=new Xd,Ui=new je;class ys extends vc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Whe++}),this.uuid=Yd(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(uP(e)?gP:vP)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new wn().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ns.makeRotationFromQuaternion(e),this.applyMatrix4(ns),this}rotateX(e){return ns.makeRotationX(e),this.applyMatrix4(ns),this}rotateY(e){return ns.makeRotationY(e),this.applyMatrix4(ns),this}rotateZ(e){return ns.makeRotationZ(e),this.applyMatrix4(ns),this}translate(e,n,i){return ns.makeTranslation(e,n,i),this.applyMatrix4(ns),this}scale(e,n,i){return ns.makeScale(e,n,i),this.applyMatrix4(ns),this}lookAt(e){return mv.lookAt(e),mv.updateMatrix(),this.applyMatrix4(mv.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(iu).negate(),this.translate(iu.x,iu.y,iu.z),this}setFromPoints(e){const n=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new sr(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Xd);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new je(-1/0,-1/0,-1/0),new je(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const s=n[i];Gr.setFromBufferAttribute(s),this.morphTargetsRelative?(Ui.addVectors(this.boundingBox.min,Gr.min),this.boundingBox.expandByPoint(Ui),Ui.addVectors(this.boundingBox.max,Gr.max),this.boundingBox.expandByPoint(Ui)):(this.boundingBox.expandByPoint(Gr.min),this.boundingBox.expandByPoint(Gr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new $p);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new je,1/0);return}if(e){const i=this.boundingSphere.center;if(Gr.setFromBufferAttribute(e),n)for(let s=0,a=n.length;s<a;s++){const o=n[s];zc.setFromBufferAttribute(o),this.morphTargetsRelative?(Ui.addVectors(Gr.min,zc.min),Gr.expandByPoint(Ui),Ui.addVectors(Gr.max,zc.max),Gr.expandByPoint(Ui)):(Gr.expandByPoint(zc.min),Gr.expandByPoint(zc.max))}Gr.getCenter(i);let r=0;for(let s=0,a=e.count;s<a;s++)Ui.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Ui));if(n)for(let s=0,a=n.length;s<a;s++){const o=n[s],l=this.morphTargetsRelative;for(let c=0,d=o.count;c<d;c++)Ui.fromBufferAttribute(o,c),l&&(iu.fromBufferAttribute(e,c),Ui.add(iu)),r=Math.max(r,i.distanceToSquared(Ui))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=n.position.array,s=n.normal.array,a=n.uv.array,o=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Rr(new Float32Array(4*o),4));const l=this.getAttribute("tangent").array,c=[],d=[];for(let R=0;R<o;R++)c[R]=new je,d[R]=new je;const p=new je,v=new je,g=new je,y=new Pn,_=new Pn,w=new Pn,b=new je,M=new je;function E(R,N,$){p.fromArray(r,R*3),v.fromArray(r,N*3),g.fromArray(r,$*3),y.fromArray(a,R*2),_.fromArray(a,N*2),w.fromArray(a,$*2),v.sub(p),g.sub(p),_.sub(y),w.sub(y);const J=1/(_.x*w.y-w.x*_.y);isFinite(J)&&(b.copy(v).multiplyScalar(w.y).addScaledVector(g,-_.y).multiplyScalar(J),M.copy(g).multiplyScalar(_.x).addScaledVector(v,-w.x).multiplyScalar(J),c[R].add(b),c[N].add(b),c[$].add(b),d[R].add(M),d[N].add(M),d[$].add(M))}let x=this.groups;x.length===0&&(x=[{start:0,count:i.length}]);for(let R=0,N=x.length;R<N;++R){const $=x[R],J=$.start,Y=$.count;for(let H=J,B=J+Y;H<B;H+=3)E(i[H+0],i[H+1],i[H+2])}const T=new je,k=new je,I=new je,O=new je;function U(R){I.fromArray(s,R*3),O.copy(I);const N=c[R];T.copy(N),T.sub(I.multiplyScalar(I.dot(N))).normalize(),k.crossVectors(O,N);const J=k.dot(d[R])<0?-1:1;l[R*4]=T.x,l[R*4+1]=T.y,l[R*4+2]=T.z,l[R*4+3]=J}for(let R=0,N=x.length;R<N;++R){const $=x[R],J=$.start,Y=$.count;for(let H=J,B=J+Y;H<B;H+=3)U(i[H+0]),U(i[H+1]),U(i[H+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Rr(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let v=0,g=i.count;v<g;v++)i.setXYZ(v,0,0,0);const r=new je,s=new je,a=new je,o=new je,l=new je,c=new je,d=new je,p=new je;if(e)for(let v=0,g=e.count;v<g;v+=3){const y=e.getX(v+0),_=e.getX(v+1),w=e.getX(v+2);r.fromBufferAttribute(n,y),s.fromBufferAttribute(n,_),a.fromBufferAttribute(n,w),d.subVectors(a,s),p.subVectors(r,s),d.cross(p),o.fromBufferAttribute(i,y),l.fromBufferAttribute(i,_),c.fromBufferAttribute(i,w),o.add(d),l.add(d),c.add(d),i.setXYZ(y,o.x,o.y,o.z),i.setXYZ(_,l.x,l.y,l.z),i.setXYZ(w,c.x,c.y,c.z)}else for(let v=0,g=n.count;v<g;v+=3)r.fromBufferAttribute(n,v+0),s.fromBufferAttribute(n,v+1),a.fromBufferAttribute(n,v+2),d.subVectors(a,s),p.subVectors(r,s),d.cross(p),i.setXYZ(v+0,d.x,d.y,d.z),i.setXYZ(v+1,d.x,d.y,d.z),i.setXYZ(v+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)Ui.fromBufferAttribute(e,n),Ui.normalize(),e.setXYZ(n,Ui.x,Ui.y,Ui.z)}toNonIndexed(){function e(o,l){const c=o.array,d=o.itemSize,p=o.normalized,v=new c.constructor(l.length*d);let g=0,y=0;for(let _=0,w=l.length;_<w;_++){o.isInterleavedBufferAttribute?g=l[_]*o.data.stride+o.offset:g=l[_]*d;for(let b=0;b<d;b++)v[y++]=c[g++]}return new Rr(v,d,p)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new ys,i=this.index.array,r=this.attributes;for(const o in r){const l=r[o],c=e(l,i);n.setAttribute(o,c)}const s=this.morphAttributes;for(const o in s){const l=[],c=s[o];for(let d=0,p=c.length;d<p;d++){const v=c[d],g=e(v,i);l.push(g)}n.morphAttributes[o]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const c=a[o];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],d=[];for(let p=0,v=c.length;p<v;p++){const g=c[p];d.push(g.toJSON(e.data))}d.length>0&&(r[l]=d,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(n));const r=e.attributes;for(const c in r){const d=r[c];this.setAttribute(c,d.clone(n))}const s=e.morphAttributes;for(const c in s){const d=[],p=s[c];for(let v=0,g=p.length;v<g;v++)d.push(p[v].clone(n));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,d=a.length;c<d;c++){const p=a[c];this.addGroup(p.start,p.count,p.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const DE=new Zn,Go=new hP,Bf=new $p,FE=new je,ru=new je,su=new je,au=new je,vv=new je,Uf=new je,Vf=new Pn,zf=new Pn,$f=new Pn,BE=new je,UE=new je,VE=new je,Hf=new je,Gf=new je;class Os extends Ki{constructor(e=new ys,n=new D_){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,a=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(s&&o){Uf.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const d=o[l],p=s[l];d!==0&&(vv.fromBufferAttribute(p,e),a?Uf.addScaledVector(vv,d):Uf.addScaledVector(vv.sub(n),d))}n.add(Uf)}return n}raycast(e,n){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Bf.copy(i.boundingSphere),Bf.applyMatrix4(s),Go.copy(e.ray).recast(e.near),!(Bf.containsPoint(Go.origin)===!1&&(Go.intersectSphere(Bf,FE)===null||Go.origin.distanceToSquared(FE)>(e.far-e.near)**2))&&(DE.copy(s).invert(),Go.copy(e.ray).applyMatrix4(DE),!(i.boundingBox!==null&&Go.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,Go)))}_computeIntersections(e,n,i){let r;const s=this.geometry,a=this.material,o=s.index,l=s.attributes.position,c=s.attributes.uv,d=s.attributes.uv1,p=s.attributes.normal,v=s.groups,g=s.drawRange;if(o!==null)if(Array.isArray(a))for(let y=0,_=v.length;y<_;y++){const w=v[y],b=a[w.materialIndex],M=Math.max(w.start,g.start),E=Math.min(o.count,Math.min(w.start+w.count,g.start+g.count));for(let x=M,T=E;x<T;x+=3){const k=o.getX(x),I=o.getX(x+1),O=o.getX(x+2);r=Wf(this,b,e,i,c,d,p,k,I,O),r&&(r.faceIndex=Math.floor(x/3),r.face.materialIndex=w.materialIndex,n.push(r))}}else{const y=Math.max(0,g.start),_=Math.min(o.count,g.start+g.count);for(let w=y,b=_;w<b;w+=3){const M=o.getX(w),E=o.getX(w+1),x=o.getX(w+2);r=Wf(this,a,e,i,c,d,p,M,E,x),r&&(r.faceIndex=Math.floor(w/3),n.push(r))}}else if(l!==void 0)if(Array.isArray(a))for(let y=0,_=v.length;y<_;y++){const w=v[y],b=a[w.materialIndex],M=Math.max(w.start,g.start),E=Math.min(l.count,Math.min(w.start+w.count,g.start+g.count));for(let x=M,T=E;x<T;x+=3){const k=x,I=x+1,O=x+2;r=Wf(this,b,e,i,c,d,p,k,I,O),r&&(r.faceIndex=Math.floor(x/3),r.face.materialIndex=w.materialIndex,n.push(r))}}else{const y=Math.max(0,g.start),_=Math.min(l.count,g.start+g.count);for(let w=y,b=_;w<b;w+=3){const M=w,E=w+1,x=w+2;r=Wf(this,a,e,i,c,d,p,M,E,x),r&&(r.faceIndex=Math.floor(w/3),n.push(r))}}}}function Khe(t,e,n,i,r,s,a,o){let l;if(e.side===Nr?l=i.intersectTriangle(a,s,r,!0,o):l=i.intersectTriangle(r,s,a,e.side===Co,o),l===null)return null;Gf.copy(o),Gf.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(Gf);return c<n.near||c>n.far?null:{distance:c,point:Gf.clone(),object:t}}function Wf(t,e,n,i,r,s,a,o,l,c){t.getVertexPosition(o,ru),t.getVertexPosition(l,su),t.getVertexPosition(c,au);const d=Khe(t,e,n,i,ru,su,au,Hf);if(d){r&&(Vf.fromBufferAttribute(r,o),zf.fromBufferAttribute(r,l),$f.fromBufferAttribute(r,c),d.uv=Qs.getInterpolation(Hf,ru,su,au,Vf,zf,$f,new Pn)),s&&(Vf.fromBufferAttribute(s,o),zf.fromBufferAttribute(s,l),$f.fromBufferAttribute(s,c),d.uv1=Qs.getInterpolation(Hf,ru,su,au,Vf,zf,$f,new Pn),d.uv2=d.uv1),a&&(BE.fromBufferAttribute(a,o),UE.fromBufferAttribute(a,l),VE.fromBufferAttribute(a,c),d.normal=Qs.getInterpolation(Hf,ru,su,au,BE,UE,VE,new je),d.normal.dot(i.direction)>0&&d.normal.multiplyScalar(-1));const p={a:o,b:l,c,normal:new je,materialIndex:0};Qs.getNormal(ru,su,au,p.normal),d.face=p}return d}class Zd extends ys{constructor(e=1,n=1,i=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:s,depthSegments:a};const o=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);const l=[],c=[],d=[],p=[];let v=0,g=0;y("z","y","x",-1,-1,i,n,e,a,s,0),y("z","y","x",1,-1,i,n,-e,a,s,1),y("x","z","y",1,1,e,i,n,r,a,2),y("x","z","y",1,-1,e,i,-n,r,a,3),y("x","y","z",1,-1,e,n,i,r,s,4),y("x","y","z",-1,-1,e,n,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new sr(c,3)),this.setAttribute("normal",new sr(d,3)),this.setAttribute("uv",new sr(p,2));function y(_,w,b,M,E,x,T,k,I,O,U){const R=x/I,N=T/O,$=x/2,J=T/2,Y=k/2,H=I+1,B=O+1;let X=0,q=0;const D=new je;for(let V=0;V<B;V++){const ee=V*N-J;for(let ce=0;ce<H;ce++){const ae=ce*R-$;D[_]=ae*M,D[w]=ee*E,D[b]=Y,c.push(D.x,D.y,D.z),D[_]=0,D[w]=0,D[b]=k>0?1:-1,d.push(D.x,D.y,D.z),p.push(ce/I),p.push(1-V/O),X+=1}}for(let V=0;V<O;V++)for(let ee=0;ee<I;ee++){const ce=v+ee+H*V,ae=v+ee+H*(V+1),le=v+(ee+1)+H*(V+1),ye=v+(ee+1)+H*V;l.push(ce,ae,ye),l.push(ae,le,ye),q+=6}o.addGroup(g,q,U),g+=q,v+=X}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zd(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function tc(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function hr(t){const e={};for(let n=0;n<t.length;n++){const i=tc(t[n]);for(const r in i)e[r]=i[r]}return e}function qhe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function yP(t){return t.getRenderTarget()===null?t.outputColorSpace:Bn.workingColorSpace}const Yhe={clone:tc,merge:hr};var jhe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Xhe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class xo extends gc{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=jhe,this.fragmentShader=Xhe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=tc(e.uniforms),this.uniformsGroups=qhe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?n.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[r]={type:"m4",value:a.toArray()}:n.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class _P extends Ki{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Zn,this.projectionMatrix=new Zn,this.projectionMatrixInverse=new Zn,this.coordinateSystem=ka}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Xa=new je,zE=new Pn,$E=new Pn;class os extends _P{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=f0*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Qm*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return f0*2*Math.atan(Math.tan(Qm*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,i){Xa.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Xa.x,Xa.y).multiplyScalar(-e/Xa.z),Xa.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Xa.x,Xa.y).multiplyScalar(-e/Xa.z)}getViewSize(e,n){return this.getViewBounds(e,zE,$E),n.subVectors($E,zE)}setViewOffset(e,n,i,r,s,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Qm*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,s=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;s+=a.offsetX*r/l,n-=a.offsetY*i/c,r*=a.width/l,i*=a.height/c}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,n,n-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const ou=-90,lu=1;class Zhe extends Ki{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new os(ou,lu,e,n);r.layers=this.layers,this.add(r);const s=new os(ou,lu,e,n);s.layers=this.layers,this.add(s);const a=new os(ou,lu,e,n);a.layers=this.layers,this.add(a);const o=new os(ou,lu,e,n);o.layers=this.layers,this.add(o);const l=new os(ou,lu,e,n);l.layers=this.layers,this.add(l);const c=new os(ou,lu,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,r,s,a,o,l]=n;for(const c of n)this.remove(c);if(e===ka)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===tp)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,l,c,d]=this.children,p=e.getRenderTarget(),v=e.getActiveCubeFace(),g=e.getActiveMipmapLevel(),y=e.xr.enabled;e.xr.enabled=!1;const _=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(n,s),e.setRenderTarget(i,1,r),e.render(n,a),e.setRenderTarget(i,2,r),e.render(n,o),e.setRenderTarget(i,3,r),e.render(n,l),e.setRenderTarget(i,4,r),e.render(n,c),i.texture.generateMipmaps=_,e.setRenderTarget(i,5,r),e.render(n,d),e.setRenderTarget(p,v,g),e.xr.enabled=y,i.texture.needsPMREMUpdate=!0}}class bP extends Or{constructor(e,n,i,r,s,a,o,l,c,d){e=e!==void 0?e:[],n=n!==void 0?n:Ju,super(e,n,i,r,s,a,o,l,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Jhe extends Al{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];n.encoding!==void 0&&(Au("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===pl?Gi:ls),this.texture=new bP(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Mr}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Zd(5,5,5),s=new xo({name:"CubemapFromEquirect",uniforms:tc(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Nr,blending:uo});s.uniforms.tEquirect.value=n;const a=new Os(r,s),o=n.minFilter;return n.minFilter===sl&&(n.minFilter=Mr),new Zhe(1,10,this).update(e,a),n.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,i,r){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,i,r);e.setRenderTarget(s)}}const gv=new je,Qhe=new je,epe=new wn;class Ko{constructor(e=new je(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=gv.subVectors(i,n).cross(Qhe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(gv),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:n.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||epe.getNormalMatrix(e),r=this.coplanarPoint(gv).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Wo=new $p,Kf=new je;class F_{constructor(e=new Ko,n=new Ko,i=new Ko,r=new Ko,s=new Ko,a=new Ko){this.planes=[e,n,i,r,s,a]}set(e,n,i,r,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(n),o[2].copy(i),o[3].copy(r),o[4].copy(s),o[5].copy(a),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=ka){const i=this.planes,r=e.elements,s=r[0],a=r[1],o=r[2],l=r[3],c=r[4],d=r[5],p=r[6],v=r[7],g=r[8],y=r[9],_=r[10],w=r[11],b=r[12],M=r[13],E=r[14],x=r[15];if(i[0].setComponents(l-s,v-c,w-g,x-b).normalize(),i[1].setComponents(l+s,v+c,w+g,x+b).normalize(),i[2].setComponents(l+a,v+d,w+y,x+M).normalize(),i[3].setComponents(l-a,v-d,w-y,x-M).normalize(),i[4].setComponents(l-o,v-p,w-_,x-E).normalize(),n===ka)i[5].setComponents(l+o,v+p,w+_,x+E).normalize();else if(n===tp)i[5].setComponents(o,p,_,E).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Wo.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Wo.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Wo)}intersectsSprite(e){return Wo.center.set(0,0,0),Wo.radius=.7071067811865476,Wo.applyMatrix4(e.matrixWorld),this.intersectsSphere(Wo)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(Kf.x=r.normal.x>0?e.max.x:e.min.x,Kf.y=r.normal.y>0?e.max.y:e.min.y,Kf.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Kf)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function wP(){let t=null,e=!1,n=null,i=null;function r(s,a){n(s,a),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function tpe(t,e){const n=e.isWebGL2,i=new WeakMap;function r(c,d){const p=c.array,v=c.usage,g=p.byteLength,y=t.createBuffer();t.bindBuffer(d,y),t.bufferData(d,p,v),c.onUploadCallback();let _;if(p instanceof Float32Array)_=t.FLOAT;else if(p instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)_=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else _=t.UNSIGNED_SHORT;else if(p instanceof Int16Array)_=t.SHORT;else if(p instanceof Uint32Array)_=t.UNSIGNED_INT;else if(p instanceof Int32Array)_=t.INT;else if(p instanceof Int8Array)_=t.BYTE;else if(p instanceof Uint8Array)_=t.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)_=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:y,type:_,bytesPerElement:p.BYTES_PER_ELEMENT,version:c.version,size:g}}function s(c,d,p){const v=d.array,g=d._updateRange,y=d.updateRanges;if(t.bindBuffer(p,c),g.count===-1&&y.length===0&&t.bufferSubData(p,0,v),y.length!==0){for(let _=0,w=y.length;_<w;_++){const b=y[_];n?t.bufferSubData(p,b.start*v.BYTES_PER_ELEMENT,v,b.start,b.count):t.bufferSubData(p,b.start*v.BYTES_PER_ELEMENT,v.subarray(b.start,b.start+b.count))}d.clearUpdateRanges()}g.count!==-1&&(n?t.bufferSubData(p,g.offset*v.BYTES_PER_ELEMENT,v,g.offset,g.count):t.bufferSubData(p,g.offset*v.BYTES_PER_ELEMENT,v.subarray(g.offset,g.offset+g.count)),g.count=-1),d.onUploadCallback()}function a(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function o(c){c.isInterleavedBufferAttribute&&(c=c.data);const d=i.get(c);d&&(t.deleteBuffer(d.buffer),i.delete(c))}function l(c,d){if(c.isGLBufferAttribute){const v=i.get(c);(!v||v.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const p=i.get(c);if(p===void 0)i.set(c,r(c,d));else if(p.version<c.version){if(p.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");s(p.buffer,c,d),p.version=c.version}}return{get:a,remove:o,update:l}}class Gp extends ys{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const s=e/2,a=n/2,o=Math.floor(i),l=Math.floor(r),c=o+1,d=l+1,p=e/o,v=n/l,g=[],y=[],_=[],w=[];for(let b=0;b<d;b++){const M=b*v-a;for(let E=0;E<c;E++){const x=E*p-s;y.push(x,-M,0),_.push(0,0,1),w.push(E/o),w.push(1-b/l)}}for(let b=0;b<l;b++)for(let M=0;M<o;M++){const E=M+c*b,x=M+c*(b+1),T=M+1+c*(b+1),k=M+1+c*b;g.push(E,x,k),g.push(x,T,k)}this.setIndex(g),this.setAttribute("position",new sr(y,3)),this.setAttribute("normal",new sr(_,3)),this.setAttribute("uv",new sr(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gp(e.width,e.height,e.widthSegments,e.heightSegments)}}var npe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,ipe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,rpe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,spe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,ape=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,ope=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,lpe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,upe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,cpe=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,dpe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,fpe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,hpe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,ppe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,mpe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,vpe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,gpe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,ype=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,_pe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,bpe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,wpe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Spe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Epe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Cpe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,xpe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Mpe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Tpe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Ape=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,kpe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Ppe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Rpe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Ipe="gl_FragColor = linearToOutputTexel( gl_FragColor );",Lpe=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,Npe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Ope=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Dpe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Fpe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Bpe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Upe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Vpe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,zpe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,$pe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Hpe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Gpe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Wpe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Kpe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,qpe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Ype=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,jpe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Xpe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Zpe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Jpe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Qpe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,eme=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,tme=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,nme=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,ime=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,rme=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,sme=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,ame=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,ome=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,lme=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,ume=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,cme=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,dme=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,fme=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,hme=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,pme=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,mme=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,vme=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,gme=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,yme=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,_me=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,bme=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,wme=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Sme=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Eme=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Cme=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,xme=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Mme=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Tme=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Ame=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,kme=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Pme=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Rme=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Ime=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Lme=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Nme=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Ome=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Dme=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Fme=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Bme=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Ume=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Vme=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,zme=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,$me=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Hme=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Gme=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Wme=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Kme=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,qme=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Yme=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,jme=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Xme=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Zme=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Jme=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Qme=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,eve=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const tve=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,nve=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ive=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,rve=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,sve=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,ave=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ove=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,lve=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,uve=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,cve=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,dve=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fve=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,hve=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,pve=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,mve=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,vve=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gve=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yve=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_ve=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,bve=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wve=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Sve=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Eve=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Cve=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xve=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Mve=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Tve=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ave=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kve=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Pve=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Rve=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ive=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Lve=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Nve=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,_n={alphahash_fragment:npe,alphahash_pars_fragment:ipe,alphamap_fragment:rpe,alphamap_pars_fragment:spe,alphatest_fragment:ape,alphatest_pars_fragment:ope,aomap_fragment:lpe,aomap_pars_fragment:upe,batching_pars_vertex:cpe,batching_vertex:dpe,begin_vertex:fpe,beginnormal_vertex:hpe,bsdfs:ppe,iridescence_fragment:mpe,bumpmap_pars_fragment:vpe,clipping_planes_fragment:gpe,clipping_planes_pars_fragment:ype,clipping_planes_pars_vertex:_pe,clipping_planes_vertex:bpe,color_fragment:wpe,color_pars_fragment:Spe,color_pars_vertex:Epe,color_vertex:Cpe,common:xpe,cube_uv_reflection_fragment:Mpe,defaultnormal_vertex:Tpe,displacementmap_pars_vertex:Ape,displacementmap_vertex:kpe,emissivemap_fragment:Ppe,emissivemap_pars_fragment:Rpe,colorspace_fragment:Ipe,colorspace_pars_fragment:Lpe,envmap_fragment:Npe,envmap_common_pars_fragment:Ope,envmap_pars_fragment:Dpe,envmap_pars_vertex:Fpe,envmap_physical_pars_fragment:jpe,envmap_vertex:Bpe,fog_vertex:Upe,fog_pars_vertex:Vpe,fog_fragment:zpe,fog_pars_fragment:$pe,gradientmap_pars_fragment:Hpe,lightmap_fragment:Gpe,lightmap_pars_fragment:Wpe,lights_lambert_fragment:Kpe,lights_lambert_pars_fragment:qpe,lights_pars_begin:Ype,lights_toon_fragment:Xpe,lights_toon_pars_fragment:Zpe,lights_phong_fragment:Jpe,lights_phong_pars_fragment:Qpe,lights_physical_fragment:eme,lights_physical_pars_fragment:tme,lights_fragment_begin:nme,lights_fragment_maps:ime,lights_fragment_end:rme,logdepthbuf_fragment:sme,logdepthbuf_pars_fragment:ame,logdepthbuf_pars_vertex:ome,logdepthbuf_vertex:lme,map_fragment:ume,map_pars_fragment:cme,map_particle_fragment:dme,map_particle_pars_fragment:fme,metalnessmap_fragment:hme,metalnessmap_pars_fragment:pme,morphcolor_vertex:mme,morphnormal_vertex:vme,morphtarget_pars_vertex:gme,morphtarget_vertex:yme,normal_fragment_begin:_me,normal_fragment_maps:bme,normal_pars_fragment:wme,normal_pars_vertex:Sme,normal_vertex:Eme,normalmap_pars_fragment:Cme,clearcoat_normal_fragment_begin:xme,clearcoat_normal_fragment_maps:Mme,clearcoat_pars_fragment:Tme,iridescence_pars_fragment:Ame,opaque_fragment:kme,packing:Pme,premultiplied_alpha_fragment:Rme,project_vertex:Ime,dithering_fragment:Lme,dithering_pars_fragment:Nme,roughnessmap_fragment:Ome,roughnessmap_pars_fragment:Dme,shadowmap_pars_fragment:Fme,shadowmap_pars_vertex:Bme,shadowmap_vertex:Ume,shadowmask_pars_fragment:Vme,skinbase_vertex:zme,skinning_pars_vertex:$me,skinning_vertex:Hme,skinnormal_vertex:Gme,specularmap_fragment:Wme,specularmap_pars_fragment:Kme,tonemapping_fragment:qme,tonemapping_pars_fragment:Yme,transmission_fragment:jme,transmission_pars_fragment:Xme,uv_pars_fragment:Zme,uv_pars_vertex:Jme,uv_vertex:Qme,worldpos_vertex:eve,background_vert:tve,background_frag:nve,backgroundCube_vert:ive,backgroundCube_frag:rve,cube_vert:sve,cube_frag:ave,depth_vert:ove,depth_frag:lve,distanceRGBA_vert:uve,distanceRGBA_frag:cve,equirect_vert:dve,equirect_frag:fve,linedashed_vert:hve,linedashed_frag:pve,meshbasic_vert:mve,meshbasic_frag:vve,meshlambert_vert:gve,meshlambert_frag:yve,meshmatcap_vert:_ve,meshmatcap_frag:bve,meshnormal_vert:wve,meshnormal_frag:Sve,meshphong_vert:Eve,meshphong_frag:Cve,meshphysical_vert:xve,meshphysical_frag:Mve,meshtoon_vert:Tve,meshtoon_frag:Ave,points_vert:kve,points_frag:Pve,shadow_vert:Rve,shadow_frag:Ive,sprite_vert:Lve,sprite_frag:Nve},Dt={common:{diffuse:{value:new xn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new wn},alphaMap:{value:null},alphaMapTransform:{value:new wn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new wn}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new wn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new wn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new wn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new wn},normalScale:{value:new Pn(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new wn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new wn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new wn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new wn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new xn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new xn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new wn},alphaTest:{value:0},uvTransform:{value:new wn}},sprite:{diffuse:{value:new xn(16777215)},opacity:{value:1},center:{value:new Pn(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new wn},alphaMap:{value:null},alphaMapTransform:{value:new wn},alphaTest:{value:0}}},Xs={basic:{uniforms:hr([Dt.common,Dt.specularmap,Dt.envmap,Dt.aomap,Dt.lightmap,Dt.fog]),vertexShader:_n.meshbasic_vert,fragmentShader:_n.meshbasic_frag},lambert:{uniforms:hr([Dt.common,Dt.specularmap,Dt.envmap,Dt.aomap,Dt.lightmap,Dt.emissivemap,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.fog,Dt.lights,{emissive:{value:new xn(0)}}]),vertexShader:_n.meshlambert_vert,fragmentShader:_n.meshlambert_frag},phong:{uniforms:hr([Dt.common,Dt.specularmap,Dt.envmap,Dt.aomap,Dt.lightmap,Dt.emissivemap,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.fog,Dt.lights,{emissive:{value:new xn(0)},specular:{value:new xn(1118481)},shininess:{value:30}}]),vertexShader:_n.meshphong_vert,fragmentShader:_n.meshphong_frag},standard:{uniforms:hr([Dt.common,Dt.envmap,Dt.aomap,Dt.lightmap,Dt.emissivemap,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.roughnessmap,Dt.metalnessmap,Dt.fog,Dt.lights,{emissive:{value:new xn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:_n.meshphysical_vert,fragmentShader:_n.meshphysical_frag},toon:{uniforms:hr([Dt.common,Dt.aomap,Dt.lightmap,Dt.emissivemap,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.gradientmap,Dt.fog,Dt.lights,{emissive:{value:new xn(0)}}]),vertexShader:_n.meshtoon_vert,fragmentShader:_n.meshtoon_frag},matcap:{uniforms:hr([Dt.common,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.fog,{matcap:{value:null}}]),vertexShader:_n.meshmatcap_vert,fragmentShader:_n.meshmatcap_frag},points:{uniforms:hr([Dt.points,Dt.fog]),vertexShader:_n.points_vert,fragmentShader:_n.points_frag},dashed:{uniforms:hr([Dt.common,Dt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:_n.linedashed_vert,fragmentShader:_n.linedashed_frag},depth:{uniforms:hr([Dt.common,Dt.displacementmap]),vertexShader:_n.depth_vert,fragmentShader:_n.depth_frag},normal:{uniforms:hr([Dt.common,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,{opacity:{value:1}}]),vertexShader:_n.meshnormal_vert,fragmentShader:_n.meshnormal_frag},sprite:{uniforms:hr([Dt.sprite,Dt.fog]),vertexShader:_n.sprite_vert,fragmentShader:_n.sprite_frag},background:{uniforms:{uvTransform:{value:new wn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:_n.background_vert,fragmentShader:_n.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:_n.backgroundCube_vert,fragmentShader:_n.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:_n.cube_vert,fragmentShader:_n.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:_n.equirect_vert,fragmentShader:_n.equirect_frag},distanceRGBA:{uniforms:hr([Dt.common,Dt.displacementmap,{referencePosition:{value:new je},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:_n.distanceRGBA_vert,fragmentShader:_n.distanceRGBA_frag},shadow:{uniforms:hr([Dt.lights,Dt.fog,{color:{value:new xn(0)},opacity:{value:1}}]),vertexShader:_n.shadow_vert,fragmentShader:_n.shadow_frag}};Xs.physical={uniforms:hr([Xs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new wn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new wn},clearcoatNormalScale:{value:new Pn(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new wn},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new wn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new wn},sheen:{value:0},sheenColor:{value:new xn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new wn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new wn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new wn},transmissionSamplerSize:{value:new Pn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new wn},attenuationDistance:{value:0},attenuationColor:{value:new xn(0)},specularColor:{value:new xn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new wn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new wn},anisotropyVector:{value:new Pn},anisotropyMap:{value:null},anisotropyMapTransform:{value:new wn}}]),vertexShader:_n.meshphysical_vert,fragmentShader:_n.meshphysical_frag};const qf={r:0,b:0,g:0};function Ove(t,e,n,i,r,s,a){const o=new xn(0);let l=s===!0?0:1,c,d,p=null,v=0,g=null;function y(w,b){let M=!1,E=b.isScene===!0?b.background:null;E&&E.isTexture&&(E=(b.backgroundBlurriness>0?n:e).get(E)),E===null?_(o,l):E&&E.isColor&&(_(E,1),M=!0);const x=t.xr.getEnvironmentBlendMode();x==="additive"?i.buffers.color.setClear(0,0,0,1,a):x==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,a),(t.autoClear||M)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),E&&(E.isCubeTexture||E.mapping===Vp)?(d===void 0&&(d=new Os(new Zd(1,1,1),new xo({name:"BackgroundCubeMaterial",uniforms:tc(Xs.backgroundCube.uniforms),vertexShader:Xs.backgroundCube.vertexShader,fragmentShader:Xs.backgroundCube.fragmentShader,side:Nr,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(T,k,I){this.matrixWorld.copyPosition(I.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),d.material.uniforms.envMap.value=E,d.material.uniforms.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=b.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,d.material.toneMapped=Bn.getTransfer(E.colorSpace)!==ei,(p!==E||v!==E.version||g!==t.toneMapping)&&(d.material.needsUpdate=!0,p=E,v=E.version,g=t.toneMapping),d.layers.enableAll(),w.unshift(d,d.geometry,d.material,0,0,null)):E&&E.isTexture&&(c===void 0&&(c=new Os(new Gp(2,2),new xo({name:"BackgroundMaterial",uniforms:tc(Xs.background.uniforms),vertexShader:Xs.background.vertexShader,fragmentShader:Xs.background.fragmentShader,side:Co,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=E,c.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,c.material.toneMapped=Bn.getTransfer(E.colorSpace)!==ei,E.matrixAutoUpdate===!0&&E.updateMatrix(),c.material.uniforms.uvTransform.value.copy(E.matrix),(p!==E||v!==E.version||g!==t.toneMapping)&&(c.material.needsUpdate=!0,p=E,v=E.version,g=t.toneMapping),c.layers.enableAll(),w.unshift(c,c.geometry,c.material,0,0,null))}function _(w,b){w.getRGB(qf,yP(t)),i.buffers.color.setClear(qf.r,qf.g,qf.b,b,a)}return{getClearColor:function(){return o},setClearColor:function(w,b=1){o.set(w),l=b,_(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(w){l=w,_(o,l)},render:y}}function Dve(t,e,n,i){const r=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),a=i.isWebGL2||s!==null,o={},l=w(null);let c=l,d=!1;function p(Y,H,B,X,q){let D=!1;if(a){const V=_(X,B,H);c!==V&&(c=V,g(c.object)),D=b(Y,X,B,q),D&&M(Y,X,B,q)}else{const V=H.wireframe===!0;(c.geometry!==X.id||c.program!==B.id||c.wireframe!==V)&&(c.geometry=X.id,c.program=B.id,c.wireframe=V,D=!0)}q!==null&&n.update(q,t.ELEMENT_ARRAY_BUFFER),(D||d)&&(d=!1,O(Y,H,B,X),q!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(q).buffer))}function v(){return i.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function g(Y){return i.isWebGL2?t.bindVertexArray(Y):s.bindVertexArrayOES(Y)}function y(Y){return i.isWebGL2?t.deleteVertexArray(Y):s.deleteVertexArrayOES(Y)}function _(Y,H,B){const X=B.wireframe===!0;let q=o[Y.id];q===void 0&&(q={},o[Y.id]=q);let D=q[H.id];D===void 0&&(D={},q[H.id]=D);let V=D[X];return V===void 0&&(V=w(v()),D[X]=V),V}function w(Y){const H=[],B=[],X=[];for(let q=0;q<r;q++)H[q]=0,B[q]=0,X[q]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:H,enabledAttributes:B,attributeDivisors:X,object:Y,attributes:{},index:null}}function b(Y,H,B,X){const q=c.attributes,D=H.attributes;let V=0;const ee=B.getAttributes();for(const ce in ee)if(ee[ce].location>=0){const le=q[ce];let ye=D[ce];if(ye===void 0&&(ce==="instanceMatrix"&&Y.instanceMatrix&&(ye=Y.instanceMatrix),ce==="instanceColor"&&Y.instanceColor&&(ye=Y.instanceColor)),le===void 0||le.attribute!==ye||ye&&le.data!==ye.data)return!0;V++}return c.attributesNum!==V||c.index!==X}function M(Y,H,B,X){const q={},D=H.attributes;let V=0;const ee=B.getAttributes();for(const ce in ee)if(ee[ce].location>=0){let le=D[ce];le===void 0&&(ce==="instanceMatrix"&&Y.instanceMatrix&&(le=Y.instanceMatrix),ce==="instanceColor"&&Y.instanceColor&&(le=Y.instanceColor));const ye={};ye.attribute=le,le&&le.data&&(ye.data=le.data),q[ce]=ye,V++}c.attributes=q,c.attributesNum=V,c.index=X}function E(){const Y=c.newAttributes;for(let H=0,B=Y.length;H<B;H++)Y[H]=0}function x(Y){T(Y,0)}function T(Y,H){const B=c.newAttributes,X=c.enabledAttributes,q=c.attributeDivisors;B[Y]=1,X[Y]===0&&(t.enableVertexAttribArray(Y),X[Y]=1),q[Y]!==H&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Y,H),q[Y]=H)}function k(){const Y=c.newAttributes,H=c.enabledAttributes;for(let B=0,X=H.length;B<X;B++)H[B]!==Y[B]&&(t.disableVertexAttribArray(B),H[B]=0)}function I(Y,H,B,X,q,D,V){V===!0?t.vertexAttribIPointer(Y,H,B,q,D):t.vertexAttribPointer(Y,H,B,X,q,D)}function O(Y,H,B,X){if(i.isWebGL2===!1&&(Y.isInstancedMesh||X.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;E();const q=X.attributes,D=B.getAttributes(),V=H.defaultAttributeValues;for(const ee in D){const ce=D[ee];if(ce.location>=0){let ae=q[ee];if(ae===void 0&&(ee==="instanceMatrix"&&Y.instanceMatrix&&(ae=Y.instanceMatrix),ee==="instanceColor"&&Y.instanceColor&&(ae=Y.instanceColor)),ae!==void 0){const le=ae.normalized,ye=ae.itemSize,Ee=n.get(ae);if(Ee===void 0)continue;const pe=Ee.buffer,ue=Ee.type,Me=Ee.bytesPerElement,De=i.isWebGL2===!0&&(ue===t.INT||ue===t.UNSIGNED_INT||ae.gpuType===Qk);if(ae.isInterleavedBufferAttribute){const xe=ae.data,G=xe.stride,He=ae.offset;if(xe.isInstancedInterleavedBuffer){for(let Je=0;Je<ce.locationSize;Je++)T(ce.location+Je,xe.meshPerAttribute);Y.isInstancedMesh!==!0&&X._maxInstanceCount===void 0&&(X._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let Je=0;Je<ce.locationSize;Je++)x(ce.location+Je);t.bindBuffer(t.ARRAY_BUFFER,pe);for(let Je=0;Je<ce.locationSize;Je++)I(ce.location+Je,ye/ce.locationSize,ue,le,G*Me,(He+ye/ce.locationSize*Je)*Me,De)}else{if(ae.isInstancedBufferAttribute){for(let xe=0;xe<ce.locationSize;xe++)T(ce.location+xe,ae.meshPerAttribute);Y.isInstancedMesh!==!0&&X._maxInstanceCount===void 0&&(X._maxInstanceCount=ae.meshPerAttribute*ae.count)}else for(let xe=0;xe<ce.locationSize;xe++)x(ce.location+xe);t.bindBuffer(t.ARRAY_BUFFER,pe);for(let xe=0;xe<ce.locationSize;xe++)I(ce.location+xe,ye/ce.locationSize,ue,le,ye*Me,ye/ce.locationSize*xe*Me,De)}}else if(V!==void 0){const le=V[ee];if(le!==void 0)switch(le.length){case 2:t.vertexAttrib2fv(ce.location,le);break;case 3:t.vertexAttrib3fv(ce.location,le);break;case 4:t.vertexAttrib4fv(ce.location,le);break;default:t.vertexAttrib1fv(ce.location,le)}}}}k()}function U(){$();for(const Y in o){const H=o[Y];for(const B in H){const X=H[B];for(const q in X)y(X[q].object),delete X[q];delete H[B]}delete o[Y]}}function R(Y){if(o[Y.id]===void 0)return;const H=o[Y.id];for(const B in H){const X=H[B];for(const q in X)y(X[q].object),delete X[q];delete H[B]}delete o[Y.id]}function N(Y){for(const H in o){const B=o[H];if(B[Y.id]===void 0)continue;const X=B[Y.id];for(const q in X)y(X[q].object),delete X[q];delete B[Y.id]}}function $(){J(),d=!0,c!==l&&(c=l,g(c.object))}function J(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:p,reset:$,resetDefaultState:J,dispose:U,releaseStatesOfGeometry:R,releaseStatesOfProgram:N,initAttributes:E,enableAttribute:x,disableUnusedAttributes:k}}function Fve(t,e,n,i){const r=i.isWebGL2;let s;function a(d){s=d}function o(d,p){t.drawArrays(s,d,p),n.update(p,s,1)}function l(d,p,v){if(v===0)return;let g,y;if(r)g=t,y="drawArraysInstanced";else if(g=e.get("ANGLE_instanced_arrays"),y="drawArraysInstancedANGLE",g===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[y](s,d,p,v),n.update(p,s,v)}function c(d,p,v){if(v===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let y=0;y<v;y++)this.render(d[y],p[y]);else{g.multiDrawArraysWEBGL(s,d,0,p,0,v);let y=0;for(let _=0;_<v;_++)y+=p[_];n.update(y,s,1)}}this.setMode=a,this.render=o,this.renderInstances=l,this.renderMultiDraw=c}function Bve(t,e,n){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const I=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(I){if(I==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";I="mediump"}return I==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let o=n.precision!==void 0?n.precision:"highp";const l=s(o);l!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",l,"instead."),o=l);const c=a||e.has("WEBGL_draw_buffers"),d=n.logarithmicDepthBuffer===!0,p=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),_=t.getParameter(t.MAX_VERTEX_ATTRIBS),w=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),b=t.getParameter(t.MAX_VARYING_VECTORS),M=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),E=v>0,x=a||e.has("OES_texture_float"),T=E&&x,k=a?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:a,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:o,logarithmicDepthBuffer:d,maxTextures:p,maxVertexTextures:v,maxTextureSize:g,maxCubemapSize:y,maxAttributes:_,maxVertexUniforms:w,maxVaryings:b,maxFragmentUniforms:M,vertexTextures:E,floatFragmentTextures:x,floatVertexTextures:T,maxSamples:k}}function Uve(t){const e=this;let n=null,i=0,r=!1,s=!1;const a=new Ko,o=new wn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(p,v){const g=p.length!==0||v||i!==0||r;return r=v,i=p.length,g},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(p,v){n=d(p,v,0)},this.setState=function(p,v,g){const y=p.clippingPlanes,_=p.clipIntersection,w=p.clipShadows,b=t.get(p);if(!r||y===null||y.length===0||s&&!w)s?d(null):c();else{const M=s?0:i,E=M*4;let x=b.clippingState||null;l.value=x,x=d(y,v,E,g);for(let T=0;T!==E;++T)x[T]=n[T];b.clippingState=x,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=M}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(p,v,g,y){const _=p!==null?p.length:0;let w=null;if(_!==0){if(w=l.value,y!==!0||w===null){const b=g+_*4,M=v.matrixWorldInverse;o.getNormalMatrix(M),(w===null||w.length<b)&&(w=new Float32Array(b));for(let E=0,x=g;E!==_;++E,x+=4)a.copy(p[E]).applyMatrix4(M,o),a.normal.toArray(w,x),w[x+3]=a.constant}l.value=w,l.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,w}}function Vve(t){let e=new WeakMap;function n(a,o){return o===o0?a.mapping=Ju:o===l0&&(a.mapping=Qu),a}function i(a){if(a&&a.isTexture){const o=a.mapping;if(o===o0||o===l0)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new Jhe(l.height);return c.fromEquirectangularTexture(t,a),e.set(a,c),a.addEventListener("dispose",r),n(c.texture,a.mapping)}else return null}}return a}function r(a){const o=a.target;o.removeEventListener("dispose",r);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class SP extends _P{constructor(e=-1,n=1,i=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,a=i+e,o=r+n,l=r-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,a=s+c*this.view.width,o-=d*this.view.offsetY,l=o-d*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const _u=4,HE=[.125,.215,.35,.446,.526,.582],Zo=20,yv=new SP,GE=new xn;let _v=null,bv=0,wv=0;const qo=(1+Math.sqrt(5))/2,uu=1/qo,WE=[new je(1,1,1),new je(-1,1,1),new je(1,1,-1),new je(-1,1,-1),new je(0,qo,uu),new je(0,qo,-uu),new je(uu,0,qo),new je(-uu,0,qo),new je(qo,uu,0),new je(-qo,uu,0)];class KE{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,r=100){_v=this._renderer.getRenderTarget(),bv=this._renderer.getActiveCubeFace(),wv=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=jE(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=YE(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(_v,bv,wv),e.scissorTest=!1,Yf(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Ju||e.mapping===Qu?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),_v=this._renderer.getRenderTarget(),bv=this._renderer.getActiveCubeFace(),wv=this._renderer.getActiveMipmapLevel();const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:Mr,minFilter:Mr,generateMipmaps:!1,type:xd,format:Rs,colorSpace:Na,depthBuffer:!1},r=qE(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=qE(e,n,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=zve(s)),this._blurMaterial=$ve(s,e,n)}return r}_compileMaterial(e){const n=new Os(this._lodPlanes[0],e);this._renderer.compile(n,yv)}_sceneToCubeUV(e,n,i,r){const o=new os(90,1,n,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],d=this._renderer,p=d.autoClear,v=d.toneMapping;d.getClearColor(GE),d.toneMapping=co,d.autoClear=!1;const g=new D_({name:"PMREM.Background",side:Nr,depthWrite:!1,depthTest:!1}),y=new Os(new Zd,g);let _=!1;const w=e.background;w?w.isColor&&(g.color.copy(w),e.background=null,_=!0):(g.color.copy(GE),_=!0);for(let b=0;b<6;b++){const M=b%3;M===0?(o.up.set(0,l[b],0),o.lookAt(c[b],0,0)):M===1?(o.up.set(0,0,l[b]),o.lookAt(0,c[b],0)):(o.up.set(0,l[b],0),o.lookAt(0,0,c[b]));const E=this._cubeSize;Yf(r,M*E,b>2?E:0,E,E),d.setRenderTarget(r),_&&d.render(y,o),d.render(e,o)}y.geometry.dispose(),y.material.dispose(),d.toneMapping=v,d.autoClear=p,e.background=w}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===Ju||e.mapping===Qu;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=jE()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=YE());const s=r?this._cubemapMaterial:this._equirectMaterial,a=new Os(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=e;const l=this._cubeSize;Yf(n,0,0,3*l,2*l),i.setRenderTarget(n),i.render(a,yv)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=WE[(r-1)%WE.length];this._blur(e,r-1,r,s,a)}n.autoClear=i}_blur(e,n,i,r,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,i,r,"latitudinal",s),this._halfBlur(a,e,i,i,r,"longitudinal",s)}_halfBlur(e,n,i,r,s,a,o){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,p=new Os(this._lodPlanes[r],c),v=c.uniforms,g=this._sizeLods[i]-1,y=isFinite(s)?Math.PI/(2*g):2*Math.PI/(2*Zo-1),_=s/y,w=isFinite(s)?1+Math.floor(d*_):Zo;w>Zo&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${w} samples when the maximum is set to ${Zo}`);const b=[];let M=0;for(let I=0;I<Zo;++I){const O=I/_,U=Math.exp(-O*O/2);b.push(U),I===0?M+=U:I<w&&(M+=2*U)}for(let I=0;I<b.length;I++)b[I]=b[I]/M;v.envMap.value=e.texture,v.samples.value=w,v.weights.value=b,v.latitudinal.value=a==="latitudinal",o&&(v.poleAxis.value=o);const{_lodMax:E}=this;v.dTheta.value=y,v.mipInt.value=E-i;const x=this._sizeLods[r],T=3*x*(r>E-_u?r-E+_u:0),k=4*(this._cubeSize-x);Yf(n,T,k,3*x,2*x),l.setRenderTarget(n),l.render(p,yv)}}function zve(t){const e=[],n=[],i=[];let r=t;const s=t-_u+1+HE.length;for(let a=0;a<s;a++){const o=Math.pow(2,r);n.push(o);let l=1/o;a>t-_u?l=HE[a-t+_u-1]:a===0&&(l=0),i.push(l);const c=1/(o-2),d=-c,p=1+c,v=[d,d,p,d,p,p,d,d,p,p,d,p],g=6,y=6,_=3,w=2,b=1,M=new Float32Array(_*y*g),E=new Float32Array(w*y*g),x=new Float32Array(b*y*g);for(let k=0;k<g;k++){const I=k%3*2/3-1,O=k>2?0:-1,U=[I,O,0,I+2/3,O,0,I+2/3,O+1,0,I,O,0,I+2/3,O+1,0,I,O+1,0];M.set(U,_*y*k),E.set(v,w*y*k);const R=[k,k,k,k,k,k];x.set(R,b*y*k)}const T=new ys;T.setAttribute("position",new Rr(M,_)),T.setAttribute("uv",new Rr(E,w)),T.setAttribute("faceIndex",new Rr(x,b)),e.push(T),r>_u&&r--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function qE(t,e,n){const i=new Al(t,e,n);return i.texture.mapping=Vp,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Yf(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function $ve(t,e,n){const i=new Float32Array(Zo),r=new je(0,1,0);return new xo({name:"SphericalGaussianBlur",defines:{n:Zo,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:B_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:uo,depthTest:!1,depthWrite:!1})}function YE(){return new xo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:B_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:uo,depthTest:!1,depthWrite:!1})}function jE(){return new xo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:B_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:uo,depthTest:!1,depthWrite:!1})}function B_(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Hve(t){let e=new WeakMap,n=null;function i(o){if(o&&o.isTexture){const l=o.mapping,c=l===o0||l===l0,d=l===Ju||l===Qu;if(c||d)if(o.isRenderTargetTexture&&o.needsPMREMUpdate===!0){o.needsPMREMUpdate=!1;let p=e.get(o);return n===null&&(n=new KE(t)),p=c?n.fromEquirectangular(o,p):n.fromCubemap(o,p),e.set(o,p),p.texture}else{if(e.has(o))return e.get(o).texture;{const p=o.image;if(c&&p&&p.height>0||d&&p&&r(p)){n===null&&(n=new KE(t));const v=c?n.fromEquirectangular(o):n.fromCubemap(o);return e.set(o,v),o.addEventListener("dispose",s),v.texture}else return null}}}return o}function r(o){let l=0;const c=6;for(let d=0;d<c;d++)o[d]!==void 0&&l++;return l===c}function s(o){const l=o.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:a}}function Gve(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(i){i.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(i){const r=n(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function Wve(t,e,n,i){const r={},s=new WeakMap;function a(p){const v=p.target;v.index!==null&&e.remove(v.index);for(const y in v.attributes)e.remove(v.attributes[y]);for(const y in v.morphAttributes){const _=v.morphAttributes[y];for(let w=0,b=_.length;w<b;w++)e.remove(_[w])}v.removeEventListener("dispose",a),delete r[v.id];const g=s.get(v);g&&(e.remove(g),s.delete(v)),i.releaseStatesOfGeometry(v),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,n.memory.geometries--}function o(p,v){return r[v.id]===!0||(v.addEventListener("dispose",a),r[v.id]=!0,n.memory.geometries++),v}function l(p){const v=p.attributes;for(const y in v)e.update(v[y],t.ARRAY_BUFFER);const g=p.morphAttributes;for(const y in g){const _=g[y];for(let w=0,b=_.length;w<b;w++)e.update(_[w],t.ARRAY_BUFFER)}}function c(p){const v=[],g=p.index,y=p.attributes.position;let _=0;if(g!==null){const M=g.array;_=g.version;for(let E=0,x=M.length;E<x;E+=3){const T=M[E+0],k=M[E+1],I=M[E+2];v.push(T,k,k,I,I,T)}}else if(y!==void 0){const M=y.array;_=y.version;for(let E=0,x=M.length/3-1;E<x;E+=3){const T=E+0,k=E+1,I=E+2;v.push(T,k,k,I,I,T)}}else return;const w=new(uP(v)?gP:vP)(v,1);w.version=_;const b=s.get(p);b&&e.remove(b),s.set(p,w)}function d(p){const v=s.get(p);if(v){const g=p.index;g!==null&&v.version<g.version&&c(p)}else c(p);return s.get(p)}return{get:o,update:l,getWireframeAttribute:d}}function Kve(t,e,n,i){const r=i.isWebGL2;let s;function a(g){s=g}let o,l;function c(g){o=g.type,l=g.bytesPerElement}function d(g,y){t.drawElements(s,y,o,g*l),n.update(y,s,1)}function p(g,y,_){if(_===0)return;let w,b;if(r)w=t,b="drawElementsInstanced";else if(w=e.get("ANGLE_instanced_arrays"),b="drawElementsInstancedANGLE",w===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}w[b](s,y,o,g*l,_),n.update(y,s,_)}function v(g,y,_){if(_===0)return;const w=e.get("WEBGL_multi_draw");if(w===null)for(let b=0;b<_;b++)this.render(g[b]/l,y[b]);else{w.multiDrawElementsWEBGL(s,y,0,o,g,0,_);let b=0;for(let M=0;M<_;M++)b+=y[M];n.update(b,s,1)}}this.setMode=a,this.setIndex=c,this.render=d,this.renderInstances=p,this.renderMultiDraw=v}function qve(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,a,o){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=o*(s/3);break;case t.LINES:n.lines+=o*(s/2);break;case t.LINE_STRIP:n.lines+=o*(s-1);break;case t.LINE_LOOP:n.lines+=o*s;break;case t.POINTS:n.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function Yve(t,e){return t[0]-e[0]}function jve(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Xve(t,e,n){const i={},r=new Float32Array(8),s=new WeakMap,a=new hi,o=[];for(let c=0;c<8;c++)o[c]=[c,0];function l(c,d,p){const v=c.morphTargetInfluences;if(e.isWebGL2===!0){const g=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,y=g!==void 0?g.length:0;let _=s.get(d);if(_===void 0||_.count!==y){let Y=function(){$.dispose(),s.delete(d),d.removeEventListener("dispose",Y)};_!==void 0&&_.texture.dispose();const M=d.morphAttributes.position!==void 0,E=d.morphAttributes.normal!==void 0,x=d.morphAttributes.color!==void 0,T=d.morphAttributes.position||[],k=d.morphAttributes.normal||[],I=d.morphAttributes.color||[];let O=0;M===!0&&(O=1),E===!0&&(O=2),x===!0&&(O=3);let U=d.attributes.position.count*O,R=1;U>e.maxTextureSize&&(R=Math.ceil(U/e.maxTextureSize),U=e.maxTextureSize);const N=new Float32Array(U*R*4*y),$=new fP(N,U,R,y);$.type=Aa,$.needsUpdate=!0;const J=O*4;for(let H=0;H<y;H++){const B=T[H],X=k[H],q=I[H],D=U*R*4*H;for(let V=0;V<B.count;V++){const ee=V*J;M===!0&&(a.fromBufferAttribute(B,V),N[D+ee+0]=a.x,N[D+ee+1]=a.y,N[D+ee+2]=a.z,N[D+ee+3]=0),E===!0&&(a.fromBufferAttribute(X,V),N[D+ee+4]=a.x,N[D+ee+5]=a.y,N[D+ee+6]=a.z,N[D+ee+7]=0),x===!0&&(a.fromBufferAttribute(q,V),N[D+ee+8]=a.x,N[D+ee+9]=a.y,N[D+ee+10]=a.z,N[D+ee+11]=q.itemSize===4?a.w:1)}}_={count:y,texture:$,size:new Pn(U,R)},s.set(d,_),d.addEventListener("dispose",Y)}let w=0;for(let M=0;M<v.length;M++)w+=v[M];const b=d.morphTargetsRelative?1:1-w;p.getUniforms().setValue(t,"morphTargetBaseInfluence",b),p.getUniforms().setValue(t,"morphTargetInfluences",v),p.getUniforms().setValue(t,"morphTargetsTexture",_.texture,n),p.getUniforms().setValue(t,"morphTargetsTextureSize",_.size)}else{const g=v===void 0?0:v.length;let y=i[d.id];if(y===void 0||y.length!==g){y=[];for(let E=0;E<g;E++)y[E]=[E,0];i[d.id]=y}for(let E=0;E<g;E++){const x=y[E];x[0]=E,x[1]=v[E]}y.sort(jve);for(let E=0;E<8;E++)E<g&&y[E][1]?(o[E][0]=y[E][0],o[E][1]=y[E][1]):(o[E][0]=Number.MAX_SAFE_INTEGER,o[E][1]=0);o.sort(Yve);const _=d.morphAttributes.position,w=d.morphAttributes.normal;let b=0;for(let E=0;E<8;E++){const x=o[E],T=x[0],k=x[1];T!==Number.MAX_SAFE_INTEGER&&k?(_&&d.getAttribute("morphTarget"+E)!==_[T]&&d.setAttribute("morphTarget"+E,_[T]),w&&d.getAttribute("morphNormal"+E)!==w[T]&&d.setAttribute("morphNormal"+E,w[T]),r[E]=k,b+=k):(_&&d.hasAttribute("morphTarget"+E)===!0&&d.deleteAttribute("morphTarget"+E),w&&d.hasAttribute("morphNormal"+E)===!0&&d.deleteAttribute("morphNormal"+E),r[E]=0)}const M=d.morphTargetsRelative?1:1-b;p.getUniforms().setValue(t,"morphTargetBaseInfluence",M),p.getUniforms().setValue(t,"morphTargetInfluences",r)}}return{update:l}}function Zve(t,e,n,i){let r=new WeakMap;function s(l){const c=i.render.frame,d=l.geometry,p=e.get(l,d);if(r.get(p)!==c&&(e.update(p),r.set(p,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),r.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const v=l.skeleton;r.get(v)!==c&&(v.update(),r.set(v,c))}return p}function a(){r=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:a}}class EP extends Or{constructor(e,n,i,r,s,a,o,l,c,d){if(d=d!==void 0?d:hl,d!==hl&&d!==ec)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&d===hl&&(i=so),i===void 0&&d===ec&&(i=fl),super(null,r,s,a,o,l,d,i,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=o!==void 0?o:pr,this.minFilter=l!==void 0?l:pr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const CP=new Or,xP=new EP(1,1);xP.compareFunction=lP;const MP=new fP,TP=new Ohe,AP=new bP,XE=[],ZE=[],JE=new Float32Array(16),QE=new Float32Array(9),eC=new Float32Array(4);function yc(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let s=XE[r];if(s===void 0&&(s=new Float32Array(r),XE[r]=s),e!==0){i.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=n,t[a].toArray(s,o)}return s}function Fi(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function Bi(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function Wp(t,e){let n=ZE[e];n===void 0&&(n=new Int32Array(e),ZE[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function Jve(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Qve(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Fi(n,e))return;t.uniform2fv(this.addr,e),Bi(n,e)}}function ege(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Fi(n,e))return;t.uniform3fv(this.addr,e),Bi(n,e)}}function tge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Fi(n,e))return;t.uniform4fv(this.addr,e),Bi(n,e)}}function nge(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Fi(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Bi(n,e)}else{if(Fi(n,i))return;eC.set(i),t.uniformMatrix2fv(this.addr,!1,eC),Bi(n,i)}}function ige(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Fi(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Bi(n,e)}else{if(Fi(n,i))return;QE.set(i),t.uniformMatrix3fv(this.addr,!1,QE),Bi(n,i)}}function rge(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Fi(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Bi(n,e)}else{if(Fi(n,i))return;JE.set(i),t.uniformMatrix4fv(this.addr,!1,JE),Bi(n,i)}}function sge(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function age(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Fi(n,e))return;t.uniform2iv(this.addr,e),Bi(n,e)}}function oge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Fi(n,e))return;t.uniform3iv(this.addr,e),Bi(n,e)}}function lge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Fi(n,e))return;t.uniform4iv(this.addr,e),Bi(n,e)}}function uge(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function cge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Fi(n,e))return;t.uniform2uiv(this.addr,e),Bi(n,e)}}function dge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Fi(n,e))return;t.uniform3uiv(this.addr,e),Bi(n,e)}}function fge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Fi(n,e))return;t.uniform4uiv(this.addr,e),Bi(n,e)}}function hge(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r);const s=this.type===t.SAMPLER_2D_SHADOW?xP:CP;n.setTexture2D(e||s,r)}function pge(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||TP,r)}function mge(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||AP,r)}function vge(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||MP,r)}function gge(t){switch(t){case 5126:return Jve;case 35664:return Qve;case 35665:return ege;case 35666:return tge;case 35674:return nge;case 35675:return ige;case 35676:return rge;case 5124:case 35670:return sge;case 35667:case 35671:return age;case 35668:case 35672:return oge;case 35669:case 35673:return lge;case 5125:return uge;case 36294:return cge;case 36295:return dge;case 36296:return fge;case 35678:case 36198:case 36298:case 36306:case 35682:return hge;case 35679:case 36299:case 36307:return pge;case 35680:case 36300:case 36308:case 36293:return mge;case 36289:case 36303:case 36311:case 36292:return vge}}function yge(t,e){t.uniform1fv(this.addr,e)}function _ge(t,e){const n=yc(e,this.size,2);t.uniform2fv(this.addr,n)}function bge(t,e){const n=yc(e,this.size,3);t.uniform3fv(this.addr,n)}function wge(t,e){const n=yc(e,this.size,4);t.uniform4fv(this.addr,n)}function Sge(t,e){const n=yc(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Ege(t,e){const n=yc(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Cge(t,e){const n=yc(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function xge(t,e){t.uniform1iv(this.addr,e)}function Mge(t,e){t.uniform2iv(this.addr,e)}function Tge(t,e){t.uniform3iv(this.addr,e)}function Age(t,e){t.uniform4iv(this.addr,e)}function kge(t,e){t.uniform1uiv(this.addr,e)}function Pge(t,e){t.uniform2uiv(this.addr,e)}function Rge(t,e){t.uniform3uiv(this.addr,e)}function Ige(t,e){t.uniform4uiv(this.addr,e)}function Lge(t,e,n){const i=this.cache,r=e.length,s=Wp(n,r);Fi(i,s)||(t.uniform1iv(this.addr,s),Bi(i,s));for(let a=0;a!==r;++a)n.setTexture2D(e[a]||CP,s[a])}function Nge(t,e,n){const i=this.cache,r=e.length,s=Wp(n,r);Fi(i,s)||(t.uniform1iv(this.addr,s),Bi(i,s));for(let a=0;a!==r;++a)n.setTexture3D(e[a]||TP,s[a])}function Oge(t,e,n){const i=this.cache,r=e.length,s=Wp(n,r);Fi(i,s)||(t.uniform1iv(this.addr,s),Bi(i,s));for(let a=0;a!==r;++a)n.setTextureCube(e[a]||AP,s[a])}function Dge(t,e,n){const i=this.cache,r=e.length,s=Wp(n,r);Fi(i,s)||(t.uniform1iv(this.addr,s),Bi(i,s));for(let a=0;a!==r;++a)n.setTexture2DArray(e[a]||MP,s[a])}function Fge(t){switch(t){case 5126:return yge;case 35664:return _ge;case 35665:return bge;case 35666:return wge;case 35674:return Sge;case 35675:return Ege;case 35676:return Cge;case 5124:case 35670:return xge;case 35667:case 35671:return Mge;case 35668:case 35672:return Tge;case 35669:case 35673:return Age;case 5125:return kge;case 36294:return Pge;case 36295:return Rge;case 36296:return Ige;case 35678:case 36198:case 36298:case 36306:case 35682:return Lge;case 35679:case 36299:case 36307:return Nge;case 35680:case 36300:case 36308:case 36293:return Oge;case 36289:case 36303:case 36311:case 36292:return Dge}}class Bge{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=gge(n.type)}}class Uge{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Fge(n.type)}}class Vge{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let s=0,a=r.length;s!==a;++s){const o=r[s];o.setValue(e,n[o.id],i)}}}const Sv=/(\w+)(\])?(\[|\.)?/g;function tC(t,e){t.seq.push(e),t.map[e.id]=e}function zge(t,e,n){const i=t.name,r=i.length;for(Sv.lastIndex=0;;){const s=Sv.exec(i),a=Sv.lastIndex;let o=s[1];const l=s[2]==="]",c=s[3];if(l&&(o=o|0),c===void 0||c==="["&&a+2===r){tC(n,c===void 0?new Bge(o,t,e):new Uge(o,t,e));break}else{let p=n.map[o];p===void 0&&(p=new Vge(o),tC(n,p)),n=p}}}class yh{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(n,r),a=e.getUniformLocation(n,s.name);zge(s,a,this)}}setValue(e,n,i,r){const s=this.map[n];s!==void 0&&s.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let s=0,a=n.length;s!==a;++s){const o=n[s],l=i[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,s=e.length;r!==s;++r){const a=e[r];a.id in n&&i.push(a)}return i}}function nC(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const $ge=37297;let Hge=0;function Gge(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let a=r;a<s;a++){const o=a+1;i.push(`${o===e?">":" "} ${o}: ${n[a]}`)}return i.join(`
`)}function Wge(t){const e=Bn.getPrimaries(Bn.workingColorSpace),n=Bn.getPrimaries(t);let i;switch(e===n?i="":e===ep&&n===Qh?i="LinearDisplayP3ToLinearSRGB":e===Qh&&n===ep&&(i="LinearSRGBToLinearDisplayP3"),t){case Na:case zp:return[i,"LinearTransferOETF"];case Gi:case O_:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[i,"LinearTransferOETF"]}}function iC(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),r=t.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const a=parseInt(s[1]);return n.toUpperCase()+`

`+r+`

`+Gge(t.getShaderSource(e),a)}else return r}function Kge(t,e){const n=Wge(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function qge(t,e){let n;switch(e){case she:n="Linear";break;case ahe:n="Reinhard";break;case ohe:n="OptimizedCineon";break;case lhe:n="ACESFilmic";break;case che:n="AgX";break;case uhe:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Yge(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.alphaToCoverage||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(bu).join(`
`)}function jge(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(bu).join(`
`)}function Xge(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function Zge(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=t.getActiveAttrib(e,r),a=s.name;let o=1;s.type===t.FLOAT_MAT2&&(o=2),s.type===t.FLOAT_MAT3&&(o=3),s.type===t.FLOAT_MAT4&&(o=4),n[a]={type:s.type,location:t.getAttribLocation(e,a),locationSize:o}}return n}function bu(t){return t!==""}function rC(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function sC(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Jge=/^[ \t]*#include +<([\w\d./]+)>/gm;function p0(t){return t.replace(Jge,e0e)}const Qge=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function e0e(t,e){let n=_n[e];if(n===void 0){const i=Qge.get(e);if(i!==void 0)n=_n[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return p0(n)}const t0e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function aC(t){return t.replace(t0e,n0e)}function n0e(t,e,n,i){let r="";for(let s=parseInt(e);s<parseInt(n);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function oC(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	`;return t.isWebGL2&&(e+=`precision ${t.precision} sampler3D;
		precision ${t.precision} sampler2DArray;
		precision ${t.precision} sampler2DShadow;
		precision ${t.precision} samplerCubeShadow;
		precision ${t.precision} sampler2DArrayShadow;
		precision ${t.precision} isampler2D;
		precision ${t.precision} isampler3D;
		precision ${t.precision} isamplerCube;
		precision ${t.precision} isampler2DArray;
		precision ${t.precision} usampler2D;
		precision ${t.precision} usampler3D;
		precision ${t.precision} usamplerCube;
		precision ${t.precision} usampler2DArray;
		`),t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function i0e(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===Zk?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Lfe?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===xa&&(e="SHADOWMAP_TYPE_VSM"),e}function r0e(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Ju:case Qu:e="ENVMAP_TYPE_CUBE";break;case Vp:e="ENVMAP_TYPE_CUBE_UV";break}return e}function s0e(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Qu:e="ENVMAP_MODE_REFRACTION";break}return e}function a0e(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case L_:e="ENVMAP_BLENDING_MULTIPLY";break;case ihe:e="ENVMAP_BLENDING_MIX";break;case rhe:e="ENVMAP_BLENDING_ADD";break}return e}function o0e(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:i,maxMip:n}}function l0e(t,e,n,i){const r=t.getContext(),s=n.defines;let a=n.vertexShader,o=n.fragmentShader;const l=i0e(n),c=r0e(n),d=s0e(n),p=a0e(n),v=o0e(n),g=n.isWebGL2?"":Yge(n),y=jge(n),_=Xge(s),w=r.createProgram();let b,M,E=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(b=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(bu).join(`
`),b.length>0&&(b+=`
`),M=[g,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(bu).join(`
`),M.length>0&&(M+=`
`)):(b=[oC(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(bu).join(`
`),M=[g,oC(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+d:"",n.envMap?"#define "+p:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==co?"#define TONE_MAPPING":"",n.toneMapping!==co?_n.tonemapping_pars_fragment:"",n.toneMapping!==co?qge("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",_n.colorspace_pars_fragment,Kge("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(bu).join(`
`)),a=p0(a),a=rC(a,n),a=sC(a,n),o=p0(o),o=rC(o,n),o=sC(o,n),a=aC(a),o=aC(o),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(E=`#version 300 es
`,b=[y,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+b,M=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===EE?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===EE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+M);const x=E+b+a,T=E+M+o,k=nC(r,r.VERTEX_SHADER,x),I=nC(r,r.FRAGMENT_SHADER,T);r.attachShader(w,k),r.attachShader(w,I),n.index0AttributeName!==void 0?r.bindAttribLocation(w,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(w,0,"position"),r.linkProgram(w);function O($){if(t.debug.checkShaderErrors){const J=r.getProgramInfoLog(w).trim(),Y=r.getShaderInfoLog(k).trim(),H=r.getShaderInfoLog(I).trim();let B=!0,X=!0;if(r.getProgramParameter(w,r.LINK_STATUS)===!1)if(B=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(r,w,k,I);else{const q=iC(r,k,"vertex"),D=iC(r,I,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(w,r.VALIDATE_STATUS)+`

Material Name: `+$.name+`
Material Type: `+$.type+`

Program Info Log: `+J+`
`+q+`
`+D)}else J!==""?console.warn("THREE.WebGLProgram: Program Info Log:",J):(Y===""||H==="")&&(X=!1);X&&($.diagnostics={runnable:B,programLog:J,vertexShader:{log:Y,prefix:b},fragmentShader:{log:H,prefix:M}})}r.deleteShader(k),r.deleteShader(I),U=new yh(r,w),R=Zge(r,w)}let U;this.getUniforms=function(){return U===void 0&&O(this),U};let R;this.getAttributes=function(){return R===void 0&&O(this),R};let N=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return N===!1&&(N=r.getProgramParameter(w,$ge)),N},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(w),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Hge++,this.cacheKey=e,this.usedTimes=1,this.program=w,this.vertexShader=k,this.fragmentShader=I,this}let u0e=0;class c0e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),s=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new d0e(e),n.set(e,i)),i}}class d0e{constructor(e){this.id=u0e++,this.code=e,this.usedTimes=0}}function f0e(t,e,n,i,r,s,a){const o=new pP,l=new c0e,c=new Set,d=[],p=r.isWebGL2,v=r.logarithmicDepthBuffer,g=r.vertexTextures;let y=r.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function w(R){return c.add(R),R===0?"uv":`uv${R}`}function b(R,N,$,J,Y){const H=J.fog,B=Y.geometry,X=R.isMeshStandardMaterial?J.environment:null,q=(R.isMeshStandardMaterial?n:e).get(R.envMap||X),D=q&&q.mapping===Vp?q.image.height:null,V=_[R.type];R.precision!==null&&(y=r.getMaxPrecision(R.precision),y!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",y,"instead."));const ee=B.morphAttributes.position||B.morphAttributes.normal||B.morphAttributes.color,ce=ee!==void 0?ee.length:0;let ae=0;B.morphAttributes.position!==void 0&&(ae=1),B.morphAttributes.normal!==void 0&&(ae=2),B.morphAttributes.color!==void 0&&(ae=3);let le,ye,Ee,pe;if(V){const ht=Xs[V];le=ht.vertexShader,ye=ht.fragmentShader}else le=R.vertexShader,ye=R.fragmentShader,l.update(R),Ee=l.getVertexShaderID(R),pe=l.getFragmentShaderID(R);const ue=t.getRenderTarget(),Me=Y.isInstancedMesh===!0,De=Y.isBatchedMesh===!0,xe=!!R.map,G=!!R.matcap,He=!!q,Je=!!R.aoMap,at=!!R.lightMap,rt=!!R.bumpMap,it=!!R.normalMap,qe=!!R.displacementMap,ne=!!R.emissiveMap,se=!!R.metalnessMap,ke=!!R.roughnessMap,Be=R.anisotropy>0,Ve=R.clearcoat>0,Ae=R.iridescence>0,Re=R.sheen>0,Xe=R.transmission>0,gt=Be&&!!R.anisotropyMap,nt=Ve&&!!R.clearcoatMap,Lt=Ve&&!!R.clearcoatNormalMap,Ye=Ve&&!!R.clearcoatRoughnessMap,xt=Ae&&!!R.iridescenceMap,Te=Ae&&!!R.iridescenceThicknessMap,ze=Re&&!!R.sheenColorMap,de=Re&&!!R.sheenRoughnessMap,be=!!R.specularMap,Ie=!!R.specularColorMap,yt=!!R.specularIntensityMap,Bt=Xe&&!!R.transmissionMap,Ce=Xe&&!!R.thicknessMap,ot=!!R.gradientMap,ve=!!R.alphaMap,et=R.alphaTest>0,ut=!!R.alphaHash,wt=!!R.extensions;let Ht=co;R.toneMapped&&(ue===null||ue.isXRRenderTarget===!0)&&(Ht=t.toneMapping);const pn={isWebGL2:p,shaderID:V,shaderType:R.type,shaderName:R.name,vertexShader:le,fragmentShader:ye,defines:R.defines,customVertexShaderID:Ee,customFragmentShaderID:pe,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:y,batching:De,instancing:Me,instancingColor:Me&&Y.instanceColor!==null,supportsVertexTextures:g,outputColorSpace:ue===null?t.outputColorSpace:ue.isXRRenderTarget===!0?ue.texture.colorSpace:Na,alphaToCoverage:!!R.alphaToCoverage,map:xe,matcap:G,envMap:He,envMapMode:He&&q.mapping,envMapCubeUVHeight:D,aoMap:Je,lightMap:at,bumpMap:rt,normalMap:it,displacementMap:g&&qe,emissiveMap:ne,normalMapObjectSpace:it&&R.normalMapType===whe,normalMapTangentSpace:it&&R.normalMapType===oP,metalnessMap:se,roughnessMap:ke,anisotropy:Be,anisotropyMap:gt,clearcoat:Ve,clearcoatMap:nt,clearcoatNormalMap:Lt,clearcoatRoughnessMap:Ye,iridescence:Ae,iridescenceMap:xt,iridescenceThicknessMap:Te,sheen:Re,sheenColorMap:ze,sheenRoughnessMap:de,specularMap:be,specularColorMap:Ie,specularIntensityMap:yt,transmission:Xe,transmissionMap:Bt,thicknessMap:Ce,gradientMap:ot,opaque:R.transparent===!1&&R.blending===Tu&&R.alphaToCoverage===!1,alphaMap:ve,alphaTest:et,alphaHash:ut,combine:R.combine,mapUv:xe&&w(R.map.channel),aoMapUv:Je&&w(R.aoMap.channel),lightMapUv:at&&w(R.lightMap.channel),bumpMapUv:rt&&w(R.bumpMap.channel),normalMapUv:it&&w(R.normalMap.channel),displacementMapUv:qe&&w(R.displacementMap.channel),emissiveMapUv:ne&&w(R.emissiveMap.channel),metalnessMapUv:se&&w(R.metalnessMap.channel),roughnessMapUv:ke&&w(R.roughnessMap.channel),anisotropyMapUv:gt&&w(R.anisotropyMap.channel),clearcoatMapUv:nt&&w(R.clearcoatMap.channel),clearcoatNormalMapUv:Lt&&w(R.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ye&&w(R.clearcoatRoughnessMap.channel),iridescenceMapUv:xt&&w(R.iridescenceMap.channel),iridescenceThicknessMapUv:Te&&w(R.iridescenceThicknessMap.channel),sheenColorMapUv:ze&&w(R.sheenColorMap.channel),sheenRoughnessMapUv:de&&w(R.sheenRoughnessMap.channel),specularMapUv:be&&w(R.specularMap.channel),specularColorMapUv:Ie&&w(R.specularColorMap.channel),specularIntensityMapUv:yt&&w(R.specularIntensityMap.channel),transmissionMapUv:Bt&&w(R.transmissionMap.channel),thicknessMapUv:Ce&&w(R.thicknessMap.channel),alphaMapUv:ve&&w(R.alphaMap.channel),vertexTangents:!!B.attributes.tangent&&(it||Be),vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!B.attributes.color&&B.attributes.color.itemSize===4,pointsUvs:Y.isPoints===!0&&!!B.attributes.uv&&(xe||ve),fog:!!H,useFog:R.fog===!0,fogExp2:!!H&&H.isFogExp2,flatShading:R.flatShading===!0,sizeAttenuation:R.sizeAttenuation===!0,logarithmicDepthBuffer:v,skinning:Y.isSkinnedMesh===!0,morphTargets:B.morphAttributes.position!==void 0,morphNormals:B.morphAttributes.normal!==void 0,morphColors:B.morphAttributes.color!==void 0,morphTargetsCount:ce,morphTextureStride:ae,numDirLights:N.directional.length,numPointLights:N.point.length,numSpotLights:N.spot.length,numSpotLightMaps:N.spotLightMap.length,numRectAreaLights:N.rectArea.length,numHemiLights:N.hemi.length,numDirLightShadows:N.directionalShadowMap.length,numPointLightShadows:N.pointShadowMap.length,numSpotLightShadows:N.spotShadowMap.length,numSpotLightShadowsWithMaps:N.numSpotLightShadowsWithMaps,numLightProbes:N.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:R.dithering,shadowMapEnabled:t.shadowMap.enabled&&$.length>0,shadowMapType:t.shadowMap.type,toneMapping:Ht,useLegacyLights:t._useLegacyLights,decodeVideoTexture:xe&&R.map.isVideoTexture===!0&&Bn.getTransfer(R.map.colorSpace)===ei,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===Js,flipSided:R.side===Nr,useDepthPacking:R.depthPacking>=0,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionDerivatives:wt&&R.extensions.derivatives===!0,extensionFragDepth:wt&&R.extensions.fragDepth===!0,extensionDrawBuffers:wt&&R.extensions.drawBuffers===!0,extensionShaderTextureLOD:wt&&R.extensions.shaderTextureLOD===!0,extensionClipCullDistance:wt&&R.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:wt&&R.extensions.multiDraw===!0&&i.has("WEBGL_multi_draw"),rendererExtensionFragDepth:p||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:p||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:p||i.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:R.customProgramCacheKey()};return pn.vertexUv1s=c.has(1),pn.vertexUv2s=c.has(2),pn.vertexUv3s=c.has(3),c.clear(),pn}function M(R){const N=[];if(R.shaderID?N.push(R.shaderID):(N.push(R.customVertexShaderID),N.push(R.customFragmentShaderID)),R.defines!==void 0)for(const $ in R.defines)N.push($),N.push(R.defines[$]);return R.isRawShaderMaterial===!1&&(E(N,R),x(N,R),N.push(t.outputColorSpace)),N.push(R.customProgramCacheKey),N.join()}function E(R,N){R.push(N.precision),R.push(N.outputColorSpace),R.push(N.envMapMode),R.push(N.envMapCubeUVHeight),R.push(N.mapUv),R.push(N.alphaMapUv),R.push(N.lightMapUv),R.push(N.aoMapUv),R.push(N.bumpMapUv),R.push(N.normalMapUv),R.push(N.displacementMapUv),R.push(N.emissiveMapUv),R.push(N.metalnessMapUv),R.push(N.roughnessMapUv),R.push(N.anisotropyMapUv),R.push(N.clearcoatMapUv),R.push(N.clearcoatNormalMapUv),R.push(N.clearcoatRoughnessMapUv),R.push(N.iridescenceMapUv),R.push(N.iridescenceThicknessMapUv),R.push(N.sheenColorMapUv),R.push(N.sheenRoughnessMapUv),R.push(N.specularMapUv),R.push(N.specularColorMapUv),R.push(N.specularIntensityMapUv),R.push(N.transmissionMapUv),R.push(N.thicknessMapUv),R.push(N.combine),R.push(N.fogExp2),R.push(N.sizeAttenuation),R.push(N.morphTargetsCount),R.push(N.morphAttributeCount),R.push(N.numDirLights),R.push(N.numPointLights),R.push(N.numSpotLights),R.push(N.numSpotLightMaps),R.push(N.numHemiLights),R.push(N.numRectAreaLights),R.push(N.numDirLightShadows),R.push(N.numPointLightShadows),R.push(N.numSpotLightShadows),R.push(N.numSpotLightShadowsWithMaps),R.push(N.numLightProbes),R.push(N.shadowMapType),R.push(N.toneMapping),R.push(N.numClippingPlanes),R.push(N.numClipIntersection),R.push(N.depthPacking)}function x(R,N){o.disableAll(),N.isWebGL2&&o.enable(0),N.supportsVertexTextures&&o.enable(1),N.instancing&&o.enable(2),N.instancingColor&&o.enable(3),N.matcap&&o.enable(4),N.envMap&&o.enable(5),N.normalMapObjectSpace&&o.enable(6),N.normalMapTangentSpace&&o.enable(7),N.clearcoat&&o.enable(8),N.iridescence&&o.enable(9),N.alphaTest&&o.enable(10),N.vertexColors&&o.enable(11),N.vertexAlphas&&o.enable(12),N.vertexUv1s&&o.enable(13),N.vertexUv2s&&o.enable(14),N.vertexUv3s&&o.enable(15),N.vertexTangents&&o.enable(16),N.anisotropy&&o.enable(17),N.alphaHash&&o.enable(18),N.batching&&o.enable(19),R.push(o.mask),o.disableAll(),N.fog&&o.enable(0),N.useFog&&o.enable(1),N.flatShading&&o.enable(2),N.logarithmicDepthBuffer&&o.enable(3),N.skinning&&o.enable(4),N.morphTargets&&o.enable(5),N.morphNormals&&o.enable(6),N.morphColors&&o.enable(7),N.premultipliedAlpha&&o.enable(8),N.shadowMapEnabled&&o.enable(9),N.useLegacyLights&&o.enable(10),N.doubleSided&&o.enable(11),N.flipSided&&o.enable(12),N.useDepthPacking&&o.enable(13),N.dithering&&o.enable(14),N.transmission&&o.enable(15),N.sheen&&o.enable(16),N.opaque&&o.enable(17),N.pointsUvs&&o.enable(18),N.decodeVideoTexture&&o.enable(19),N.alphaToCoverage&&o.enable(20),R.push(o.mask)}function T(R){const N=_[R.type];let $;if(N){const J=Xs[N];$=Yhe.clone(J.uniforms)}else $=R.uniforms;return $}function k(R,N){let $;for(let J=0,Y=d.length;J<Y;J++){const H=d[J];if(H.cacheKey===N){$=H,++$.usedTimes;break}}return $===void 0&&($=new l0e(t,N,R,s),d.push($)),$}function I(R){if(--R.usedTimes===0){const N=d.indexOf(R);d[N]=d[d.length-1],d.pop(),R.destroy()}}function O(R){l.remove(R)}function U(){l.dispose()}return{getParameters:b,getProgramCacheKey:M,getUniforms:T,acquireProgram:k,releaseProgram:I,releaseShaderCache:O,programs:d,dispose:U}}function h0e(){let t=new WeakMap;function e(s){let a=t.get(s);return a===void 0&&(a={},t.set(s,a)),a}function n(s){t.delete(s)}function i(s,a,o){t.get(s)[a]=o}function r(){t=new WeakMap}return{get:e,remove:n,update:i,dispose:r}}function p0e(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function lC(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function uC(){const t=[];let e=0;const n=[],i=[],r=[];function s(){e=0,n.length=0,i.length=0,r.length=0}function a(p,v,g,y,_,w){let b=t[e];return b===void 0?(b={id:p.id,object:p,geometry:v,material:g,groupOrder:y,renderOrder:p.renderOrder,z:_,group:w},t[e]=b):(b.id=p.id,b.object=p,b.geometry=v,b.material=g,b.groupOrder=y,b.renderOrder=p.renderOrder,b.z=_,b.group=w),e++,b}function o(p,v,g,y,_,w){const b=a(p,v,g,y,_,w);g.transmission>0?i.push(b):g.transparent===!0?r.push(b):n.push(b)}function l(p,v,g,y,_,w){const b=a(p,v,g,y,_,w);g.transmission>0?i.unshift(b):g.transparent===!0?r.unshift(b):n.unshift(b)}function c(p,v){n.length>1&&n.sort(p||p0e),i.length>1&&i.sort(v||lC),r.length>1&&r.sort(v||lC)}function d(){for(let p=e,v=t.length;p<v;p++){const g=t[p];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}}return{opaque:n,transmissive:i,transparent:r,init:s,push:o,unshift:l,finish:d,sort:c}}function m0e(){let t=new WeakMap;function e(i,r){const s=t.get(i);let a;return s===void 0?(a=new uC,t.set(i,[a])):r>=s.length?(a=new uC,s.push(a)):a=s[r],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function v0e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new je,color:new xn};break;case"SpotLight":n={position:new je,direction:new je,color:new xn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new je,color:new xn,distance:0,decay:0};break;case"HemisphereLight":n={direction:new je,skyColor:new xn,groundColor:new xn};break;case"RectAreaLight":n={color:new xn,position:new je,halfWidth:new je,halfHeight:new je};break}return t[e.id]=n,n}}}function g0e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Pn};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Pn};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Pn,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let y0e=0;function _0e(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function b0e(t,e){const n=new v0e,i=g0e(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)r.probe.push(new je);const s=new je,a=new Zn,o=new Zn;function l(d,p){let v=0,g=0,y=0;for(let $=0;$<9;$++)r.probe[$].set(0,0,0);let _=0,w=0,b=0,M=0,E=0,x=0,T=0,k=0,I=0,O=0,U=0;d.sort(_0e);const R=p===!0?Math.PI:1;for(let $=0,J=d.length;$<J;$++){const Y=d[$],H=Y.color,B=Y.intensity,X=Y.distance,q=Y.shadow&&Y.shadow.map?Y.shadow.map.texture:null;if(Y.isAmbientLight)v+=H.r*B*R,g+=H.g*B*R,y+=H.b*B*R;else if(Y.isLightProbe){for(let D=0;D<9;D++)r.probe[D].addScaledVector(Y.sh.coefficients[D],B);U++}else if(Y.isDirectionalLight){const D=n.get(Y);if(D.color.copy(Y.color).multiplyScalar(Y.intensity*R),Y.castShadow){const V=Y.shadow,ee=i.get(Y);ee.shadowBias=V.bias,ee.shadowNormalBias=V.normalBias,ee.shadowRadius=V.radius,ee.shadowMapSize=V.mapSize,r.directionalShadow[_]=ee,r.directionalShadowMap[_]=q,r.directionalShadowMatrix[_]=Y.shadow.matrix,x++}r.directional[_]=D,_++}else if(Y.isSpotLight){const D=n.get(Y);D.position.setFromMatrixPosition(Y.matrixWorld),D.color.copy(H).multiplyScalar(B*R),D.distance=X,D.coneCos=Math.cos(Y.angle),D.penumbraCos=Math.cos(Y.angle*(1-Y.penumbra)),D.decay=Y.decay,r.spot[b]=D;const V=Y.shadow;if(Y.map&&(r.spotLightMap[I]=Y.map,I++,V.updateMatrices(Y),Y.castShadow&&O++),r.spotLightMatrix[b]=V.matrix,Y.castShadow){const ee=i.get(Y);ee.shadowBias=V.bias,ee.shadowNormalBias=V.normalBias,ee.shadowRadius=V.radius,ee.shadowMapSize=V.mapSize,r.spotShadow[b]=ee,r.spotShadowMap[b]=q,k++}b++}else if(Y.isRectAreaLight){const D=n.get(Y);D.color.copy(H).multiplyScalar(B),D.halfWidth.set(Y.width*.5,0,0),D.halfHeight.set(0,Y.height*.5,0),r.rectArea[M]=D,M++}else if(Y.isPointLight){const D=n.get(Y);if(D.color.copy(Y.color).multiplyScalar(Y.intensity*R),D.distance=Y.distance,D.decay=Y.decay,Y.castShadow){const V=Y.shadow,ee=i.get(Y);ee.shadowBias=V.bias,ee.shadowNormalBias=V.normalBias,ee.shadowRadius=V.radius,ee.shadowMapSize=V.mapSize,ee.shadowCameraNear=V.camera.near,ee.shadowCameraFar=V.camera.far,r.pointShadow[w]=ee,r.pointShadowMap[w]=q,r.pointShadowMatrix[w]=Y.shadow.matrix,T++}r.point[w]=D,w++}else if(Y.isHemisphereLight){const D=n.get(Y);D.skyColor.copy(Y.color).multiplyScalar(B*R),D.groundColor.copy(Y.groundColor).multiplyScalar(B*R),r.hemi[E]=D,E++}}M>0&&(e.isWebGL2?t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Dt.LTC_FLOAT_1,r.rectAreaLTC2=Dt.LTC_FLOAT_2):(r.rectAreaLTC1=Dt.LTC_HALF_1,r.rectAreaLTC2=Dt.LTC_HALF_2):t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Dt.LTC_FLOAT_1,r.rectAreaLTC2=Dt.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Dt.LTC_HALF_1,r.rectAreaLTC2=Dt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=v,r.ambient[1]=g,r.ambient[2]=y;const N=r.hash;(N.directionalLength!==_||N.pointLength!==w||N.spotLength!==b||N.rectAreaLength!==M||N.hemiLength!==E||N.numDirectionalShadows!==x||N.numPointShadows!==T||N.numSpotShadows!==k||N.numSpotMaps!==I||N.numLightProbes!==U)&&(r.directional.length=_,r.spot.length=b,r.rectArea.length=M,r.point.length=w,r.hemi.length=E,r.directionalShadow.length=x,r.directionalShadowMap.length=x,r.pointShadow.length=T,r.pointShadowMap.length=T,r.spotShadow.length=k,r.spotShadowMap.length=k,r.directionalShadowMatrix.length=x,r.pointShadowMatrix.length=T,r.spotLightMatrix.length=k+I-O,r.spotLightMap.length=I,r.numSpotLightShadowsWithMaps=O,r.numLightProbes=U,N.directionalLength=_,N.pointLength=w,N.spotLength=b,N.rectAreaLength=M,N.hemiLength=E,N.numDirectionalShadows=x,N.numPointShadows=T,N.numSpotShadows=k,N.numSpotMaps=I,N.numLightProbes=U,r.version=y0e++)}function c(d,p){let v=0,g=0,y=0,_=0,w=0;const b=p.matrixWorldInverse;for(let M=0,E=d.length;M<E;M++){const x=d[M];if(x.isDirectionalLight){const T=r.directional[v];T.direction.setFromMatrixPosition(x.matrixWorld),s.setFromMatrixPosition(x.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(b),v++}else if(x.isSpotLight){const T=r.spot[y];T.position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(b),T.direction.setFromMatrixPosition(x.matrixWorld),s.setFromMatrixPosition(x.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(b),y++}else if(x.isRectAreaLight){const T=r.rectArea[_];T.position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(b),o.identity(),a.copy(x.matrixWorld),a.premultiply(b),o.extractRotation(a),T.halfWidth.set(x.width*.5,0,0),T.halfHeight.set(0,x.height*.5,0),T.halfWidth.applyMatrix4(o),T.halfHeight.applyMatrix4(o),_++}else if(x.isPointLight){const T=r.point[g];T.position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(b),g++}else if(x.isHemisphereLight){const T=r.hemi[w];T.direction.setFromMatrixPosition(x.matrixWorld),T.direction.transformDirection(b),w++}}}return{setup:l,setupView:c,state:r}}function cC(t,e){const n=new b0e(t,e),i=[],r=[];function s(){i.length=0,r.length=0}function a(p){i.push(p)}function o(p){r.push(p)}function l(p){n.setup(i,p)}function c(p){n.setupView(i,p)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:l,setupLightsView:c,pushLight:a,pushShadow:o}}function w0e(t,e){let n=new WeakMap;function i(s,a=0){const o=n.get(s);let l;return o===void 0?(l=new cC(t,e),n.set(s,[l])):a>=o.length?(l=new cC(t,e),o.push(l)):l=o[a],l}function r(){n=new WeakMap}return{get:i,dispose:r}}class S0e extends gc{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=_he,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class E0e extends gc{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const C0e=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,x0e=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function M0e(t,e,n){let i=new F_;const r=new Pn,s=new Pn,a=new hi,o=new S0e({depthPacking:bhe}),l=new E0e,c={},d=n.maxTextureSize,p={[Co]:Nr,[Nr]:Co,[Js]:Js},v=new xo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Pn},radius:{value:4}},vertexShader:C0e,fragmentShader:x0e}),g=v.clone();g.defines.HORIZONTAL_PASS=1;const y=new ys;y.setAttribute("position",new Rr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new Os(y,v),w=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Zk;let b=this.type;this.render=function(k,I,O){if(w.enabled===!1||w.autoUpdate===!1&&w.needsUpdate===!1||k.length===0)return;const U=t.getRenderTarget(),R=t.getActiveCubeFace(),N=t.getActiveMipmapLevel(),$=t.state;$.setBlending(uo),$.buffers.color.setClear(1,1,1,1),$.buffers.depth.setTest(!0),$.setScissorTest(!1);const J=b!==xa&&this.type===xa,Y=b===xa&&this.type!==xa;for(let H=0,B=k.length;H<B;H++){const X=k[H],q=X.shadow;if(q===void 0){console.warn("THREE.WebGLShadowMap:",X,"has no shadow.");continue}if(q.autoUpdate===!1&&q.needsUpdate===!1)continue;r.copy(q.mapSize);const D=q.getFrameExtents();if(r.multiply(D),s.copy(q.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(s.x=Math.floor(d/D.x),r.x=s.x*D.x,q.mapSize.x=s.x),r.y>d&&(s.y=Math.floor(d/D.y),r.y=s.y*D.y,q.mapSize.y=s.y)),q.map===null||J===!0||Y===!0){const ee=this.type!==xa?{minFilter:pr,magFilter:pr}:{};q.map!==null&&q.map.dispose(),q.map=new Al(r.x,r.y,ee),q.map.texture.name=X.name+".shadowMap",q.camera.updateProjectionMatrix()}t.setRenderTarget(q.map),t.clear();const V=q.getViewportCount();for(let ee=0;ee<V;ee++){const ce=q.getViewport(ee);a.set(s.x*ce.x,s.y*ce.y,s.x*ce.z,s.y*ce.w),$.viewport(a),q.updateMatrices(X,ee),i=q.getFrustum(),x(I,O,q.camera,X,this.type)}q.isPointLightShadow!==!0&&this.type===xa&&M(q,O),q.needsUpdate=!1}b=this.type,w.needsUpdate=!1,t.setRenderTarget(U,R,N)};function M(k,I){const O=e.update(_);v.defines.VSM_SAMPLES!==k.blurSamples&&(v.defines.VSM_SAMPLES=k.blurSamples,g.defines.VSM_SAMPLES=k.blurSamples,v.needsUpdate=!0,g.needsUpdate=!0),k.mapPass===null&&(k.mapPass=new Al(r.x,r.y)),v.uniforms.shadow_pass.value=k.map.texture,v.uniforms.resolution.value=k.mapSize,v.uniforms.radius.value=k.radius,t.setRenderTarget(k.mapPass),t.clear(),t.renderBufferDirect(I,null,O,v,_,null),g.uniforms.shadow_pass.value=k.mapPass.texture,g.uniforms.resolution.value=k.mapSize,g.uniforms.radius.value=k.radius,t.setRenderTarget(k.map),t.clear(),t.renderBufferDirect(I,null,O,g,_,null)}function E(k,I,O,U){let R=null;const N=O.isPointLight===!0?k.customDistanceMaterial:k.customDepthMaterial;if(N!==void 0)R=N;else if(R=O.isPointLight===!0?l:o,t.localClippingEnabled&&I.clipShadows===!0&&Array.isArray(I.clippingPlanes)&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0||I.map&&I.alphaTest>0){const $=R.uuid,J=I.uuid;let Y=c[$];Y===void 0&&(Y={},c[$]=Y);let H=Y[J];H===void 0&&(H=R.clone(),Y[J]=H,I.addEventListener("dispose",T)),R=H}if(R.visible=I.visible,R.wireframe=I.wireframe,U===xa?R.side=I.shadowSide!==null?I.shadowSide:I.side:R.side=I.shadowSide!==null?I.shadowSide:p[I.side],R.alphaMap=I.alphaMap,R.alphaTest=I.alphaTest,R.map=I.map,R.clipShadows=I.clipShadows,R.clippingPlanes=I.clippingPlanes,R.clipIntersection=I.clipIntersection,R.displacementMap=I.displacementMap,R.displacementScale=I.displacementScale,R.displacementBias=I.displacementBias,R.wireframeLinewidth=I.wireframeLinewidth,R.linewidth=I.linewidth,O.isPointLight===!0&&R.isMeshDistanceMaterial===!0){const $=t.properties.get(R);$.light=O}return R}function x(k,I,O,U,R){if(k.visible===!1)return;if(k.layers.test(I.layers)&&(k.isMesh||k.isLine||k.isPoints)&&(k.castShadow||k.receiveShadow&&R===xa)&&(!k.frustumCulled||i.intersectsObject(k))){k.modelViewMatrix.multiplyMatrices(O.matrixWorldInverse,k.matrixWorld);const J=e.update(k),Y=k.material;if(Array.isArray(Y)){const H=J.groups;for(let B=0,X=H.length;B<X;B++){const q=H[B],D=Y[q.materialIndex];if(D&&D.visible){const V=E(k,D,U,R);k.onBeforeShadow(t,k,I,O,J,V,q),t.renderBufferDirect(O,null,J,V,k,q),k.onAfterShadow(t,k,I,O,J,V,q)}}}else if(Y.visible){const H=E(k,Y,U,R);k.onBeforeShadow(t,k,I,O,J,H,null),t.renderBufferDirect(O,null,J,H,k,null),k.onAfterShadow(t,k,I,O,J,H,null)}}const $=k.children;for(let J=0,Y=$.length;J<Y;J++)x($[J],I,O,U,R)}function T(k){k.target.removeEventListener("dispose",T);for(const O in c){const U=c[O],R=k.target.uuid;R in U&&(U[R].dispose(),delete U[R])}}}function T0e(t,e,n){const i=n.isWebGL2;function r(){let ve=!1;const et=new hi;let ut=null;const wt=new hi(0,0,0,0);return{setMask:function(Ht){ut!==Ht&&!ve&&(t.colorMask(Ht,Ht,Ht,Ht),ut=Ht)},setLocked:function(Ht){ve=Ht},setClear:function(Ht,pn,ht,Rn,Qn){Qn===!0&&(Ht*=Rn,pn*=Rn,ht*=Rn),et.set(Ht,pn,ht,Rn),wt.equals(et)===!1&&(t.clearColor(Ht,pn,ht,Rn),wt.copy(et))},reset:function(){ve=!1,ut=null,wt.set(-1,0,0,0)}}}function s(){let ve=!1,et=null,ut=null,wt=null;return{setTest:function(Ht){Ht?Me(t.DEPTH_TEST):De(t.DEPTH_TEST)},setMask:function(Ht){et!==Ht&&!ve&&(t.depthMask(Ht),et=Ht)},setFunc:function(Ht){if(ut!==Ht){switch(Ht){case Xfe:t.depthFunc(t.NEVER);break;case Zfe:t.depthFunc(t.ALWAYS);break;case Jfe:t.depthFunc(t.LESS);break;case Zh:t.depthFunc(t.LEQUAL);break;case Qfe:t.depthFunc(t.EQUAL);break;case ehe:t.depthFunc(t.GEQUAL);break;case the:t.depthFunc(t.GREATER);break;case nhe:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}ut=Ht}},setLocked:function(Ht){ve=Ht},setClear:function(Ht){wt!==Ht&&(t.clearDepth(Ht),wt=Ht)},reset:function(){ve=!1,et=null,ut=null,wt=null}}}function a(){let ve=!1,et=null,ut=null,wt=null,Ht=null,pn=null,ht=null,Rn=null,Qn=null;return{setTest:function(mn){ve||(mn?Me(t.STENCIL_TEST):De(t.STENCIL_TEST))},setMask:function(mn){et!==mn&&!ve&&(t.stencilMask(mn),et=mn)},setFunc:function(mn,zn,fi){(ut!==mn||wt!==zn||Ht!==fi)&&(t.stencilFunc(mn,zn,fi),ut=mn,wt=zn,Ht=fi)},setOp:function(mn,zn,fi){(pn!==mn||ht!==zn||Rn!==fi)&&(t.stencilOp(mn,zn,fi),pn=mn,ht=zn,Rn=fi)},setLocked:function(mn){ve=mn},setClear:function(mn){Qn!==mn&&(t.clearStencil(mn),Qn=mn)},reset:function(){ve=!1,et=null,ut=null,wt=null,Ht=null,pn=null,ht=null,Rn=null,Qn=null}}}const o=new r,l=new s,c=new a,d=new WeakMap,p=new WeakMap;let v={},g={},y=new WeakMap,_=[],w=null,b=!1,M=null,E=null,x=null,T=null,k=null,I=null,O=null,U=new xn(0,0,0),R=0,N=!1,$=null,J=null,Y=null,H=null,B=null;const X=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let q=!1,D=0;const V=t.getParameter(t.VERSION);V.indexOf("WebGL")!==-1?(D=parseFloat(/^WebGL (\d)/.exec(V)[1]),q=D>=1):V.indexOf("OpenGL ES")!==-1&&(D=parseFloat(/^OpenGL ES (\d)/.exec(V)[1]),q=D>=2);let ee=null,ce={};const ae=t.getParameter(t.SCISSOR_BOX),le=t.getParameter(t.VIEWPORT),ye=new hi().fromArray(ae),Ee=new hi().fromArray(le);function pe(ve,et,ut,wt){const Ht=new Uint8Array(4),pn=t.createTexture();t.bindTexture(ve,pn),t.texParameteri(ve,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ve,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let ht=0;ht<ut;ht++)i&&(ve===t.TEXTURE_3D||ve===t.TEXTURE_2D_ARRAY)?t.texImage3D(et,0,t.RGBA,1,1,wt,0,t.RGBA,t.UNSIGNED_BYTE,Ht):t.texImage2D(et+ht,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ht);return pn}const ue={};ue[t.TEXTURE_2D]=pe(t.TEXTURE_2D,t.TEXTURE_2D,1),ue[t.TEXTURE_CUBE_MAP]=pe(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(ue[t.TEXTURE_2D_ARRAY]=pe(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ue[t.TEXTURE_3D]=pe(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),o.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Me(t.DEPTH_TEST),l.setFunc(Zh),qe(!1),ne(HS),Me(t.CULL_FACE),rt(uo);function Me(ve){v[ve]!==!0&&(t.enable(ve),v[ve]=!0)}function De(ve){v[ve]!==!1&&(t.disable(ve),v[ve]=!1)}function xe(ve,et){return g[ve]!==et?(t.bindFramebuffer(ve,et),g[ve]=et,i&&(ve===t.DRAW_FRAMEBUFFER&&(g[t.FRAMEBUFFER]=et),ve===t.FRAMEBUFFER&&(g[t.DRAW_FRAMEBUFFER]=et)),!0):!1}function G(ve,et){let ut=_,wt=!1;if(ve)if(ut=y.get(et),ut===void 0&&(ut=[],y.set(et,ut)),ve.isWebGLMultipleRenderTargets){const Ht=ve.texture;if(ut.length!==Ht.length||ut[0]!==t.COLOR_ATTACHMENT0){for(let pn=0,ht=Ht.length;pn<ht;pn++)ut[pn]=t.COLOR_ATTACHMENT0+pn;ut.length=Ht.length,wt=!0}}else ut[0]!==t.COLOR_ATTACHMENT0&&(ut[0]=t.COLOR_ATTACHMENT0,wt=!0);else ut[0]!==t.BACK&&(ut[0]=t.BACK,wt=!0);wt&&(n.isWebGL2?t.drawBuffers(ut):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ut))}function He(ve){return w!==ve?(t.useProgram(ve),w=ve,!0):!1}const Je={[Xo]:t.FUNC_ADD,[Ofe]:t.FUNC_SUBTRACT,[Dfe]:t.FUNC_REVERSE_SUBTRACT};if(i)Je[qS]=t.MIN,Je[YS]=t.MAX;else{const ve=e.get("EXT_blend_minmax");ve!==null&&(Je[qS]=ve.MIN_EXT,Je[YS]=ve.MAX_EXT)}const at={[Ffe]:t.ZERO,[Bfe]:t.ONE,[Ufe]:t.SRC_COLOR,[s0]:t.SRC_ALPHA,[Wfe]:t.SRC_ALPHA_SATURATE,[Hfe]:t.DST_COLOR,[zfe]:t.DST_ALPHA,[Vfe]:t.ONE_MINUS_SRC_COLOR,[a0]:t.ONE_MINUS_SRC_ALPHA,[Gfe]:t.ONE_MINUS_DST_COLOR,[$fe]:t.ONE_MINUS_DST_ALPHA,[Kfe]:t.CONSTANT_COLOR,[qfe]:t.ONE_MINUS_CONSTANT_COLOR,[Yfe]:t.CONSTANT_ALPHA,[jfe]:t.ONE_MINUS_CONSTANT_ALPHA};function rt(ve,et,ut,wt,Ht,pn,ht,Rn,Qn,mn){if(ve===uo){b===!0&&(De(t.BLEND),b=!1);return}if(b===!1&&(Me(t.BLEND),b=!0),ve!==Nfe){if(ve!==M||mn!==N){if((E!==Xo||k!==Xo)&&(t.blendEquation(t.FUNC_ADD),E=Xo,k=Xo),mn)switch(ve){case Tu:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case GS:t.blendFunc(t.ONE,t.ONE);break;case WS:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case KS:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ve);break}else switch(ve){case Tu:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case GS:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case WS:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case KS:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ve);break}x=null,T=null,I=null,O=null,U.set(0,0,0),R=0,M=ve,N=mn}return}Ht=Ht||et,pn=pn||ut,ht=ht||wt,(et!==E||Ht!==k)&&(t.blendEquationSeparate(Je[et],Je[Ht]),E=et,k=Ht),(ut!==x||wt!==T||pn!==I||ht!==O)&&(t.blendFuncSeparate(at[ut],at[wt],at[pn],at[ht]),x=ut,T=wt,I=pn,O=ht),(Rn.equals(U)===!1||Qn!==R)&&(t.blendColor(Rn.r,Rn.g,Rn.b,Qn),U.copy(Rn),R=Qn),M=ve,N=!1}function it(ve,et){ve.side===Js?De(t.CULL_FACE):Me(t.CULL_FACE);let ut=ve.side===Nr;et&&(ut=!ut),qe(ut),ve.blending===Tu&&ve.transparent===!1?rt(uo):rt(ve.blending,ve.blendEquation,ve.blendSrc,ve.blendDst,ve.blendEquationAlpha,ve.blendSrcAlpha,ve.blendDstAlpha,ve.blendColor,ve.blendAlpha,ve.premultipliedAlpha),l.setFunc(ve.depthFunc),l.setTest(ve.depthTest),l.setMask(ve.depthWrite),o.setMask(ve.colorWrite);const wt=ve.stencilWrite;c.setTest(wt),wt&&(c.setMask(ve.stencilWriteMask),c.setFunc(ve.stencilFunc,ve.stencilRef,ve.stencilFuncMask),c.setOp(ve.stencilFail,ve.stencilZFail,ve.stencilZPass)),ke(ve.polygonOffset,ve.polygonOffsetFactor,ve.polygonOffsetUnits),ve.alphaToCoverage===!0?Me(t.SAMPLE_ALPHA_TO_COVERAGE):De(t.SAMPLE_ALPHA_TO_COVERAGE)}function qe(ve){$!==ve&&(ve?t.frontFace(t.CW):t.frontFace(t.CCW),$=ve)}function ne(ve){ve!==Rfe?(Me(t.CULL_FACE),ve!==J&&(ve===HS?t.cullFace(t.BACK):ve===Ife?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):De(t.CULL_FACE),J=ve}function se(ve){ve!==Y&&(q&&t.lineWidth(ve),Y=ve)}function ke(ve,et,ut){ve?(Me(t.POLYGON_OFFSET_FILL),(H!==et||B!==ut)&&(t.polygonOffset(et,ut),H=et,B=ut)):De(t.POLYGON_OFFSET_FILL)}function Be(ve){ve?Me(t.SCISSOR_TEST):De(t.SCISSOR_TEST)}function Ve(ve){ve===void 0&&(ve=t.TEXTURE0+X-1),ee!==ve&&(t.activeTexture(ve),ee=ve)}function Ae(ve,et,ut){ut===void 0&&(ee===null?ut=t.TEXTURE0+X-1:ut=ee);let wt=ce[ut];wt===void 0&&(wt={type:void 0,texture:void 0},ce[ut]=wt),(wt.type!==ve||wt.texture!==et)&&(ee!==ut&&(t.activeTexture(ut),ee=ut),t.bindTexture(ve,et||ue[ve]),wt.type=ve,wt.texture=et)}function Re(){const ve=ce[ee];ve!==void 0&&ve.type!==void 0&&(t.bindTexture(ve.type,null),ve.type=void 0,ve.texture=void 0)}function Xe(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function gt(){try{t.compressedTexImage3D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function nt(){try{t.texSubImage2D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function Lt(){try{t.texSubImage3D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function Ye(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function xt(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function Te(){try{t.texStorage2D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function ze(){try{t.texStorage3D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function de(){try{t.texImage2D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function be(){try{t.texImage3D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function Ie(ve){ye.equals(ve)===!1&&(t.scissor(ve.x,ve.y,ve.z,ve.w),ye.copy(ve))}function yt(ve){Ee.equals(ve)===!1&&(t.viewport(ve.x,ve.y,ve.z,ve.w),Ee.copy(ve))}function Bt(ve,et){let ut=p.get(et);ut===void 0&&(ut=new WeakMap,p.set(et,ut));let wt=ut.get(ve);wt===void 0&&(wt=t.getUniformBlockIndex(et,ve.name),ut.set(ve,wt))}function Ce(ve,et){const wt=p.get(et).get(ve);d.get(et)!==wt&&(t.uniformBlockBinding(et,wt,ve.__bindingPointIndex),d.set(et,wt))}function ot(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),i===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),v={},ee=null,ce={},g={},y=new WeakMap,_=[],w=null,b=!1,M=null,E=null,x=null,T=null,k=null,I=null,O=null,U=new xn(0,0,0),R=0,N=!1,$=null,J=null,Y=null,H=null,B=null,ye.set(0,0,t.canvas.width,t.canvas.height),Ee.set(0,0,t.canvas.width,t.canvas.height),o.reset(),l.reset(),c.reset()}return{buffers:{color:o,depth:l,stencil:c},enable:Me,disable:De,bindFramebuffer:xe,drawBuffers:G,useProgram:He,setBlending:rt,setMaterial:it,setFlipSided:qe,setCullFace:ne,setLineWidth:se,setPolygonOffset:ke,setScissorTest:Be,activeTexture:Ve,bindTexture:Ae,unbindTexture:Re,compressedTexImage2D:Xe,compressedTexImage3D:gt,texImage2D:de,texImage3D:be,updateUBOMapping:Bt,uniformBlockBinding:Ce,texStorage2D:Te,texStorage3D:ze,texSubImage2D:nt,texSubImage3D:Lt,compressedTexSubImage2D:Ye,compressedTexSubImage3D:xt,scissor:Ie,viewport:yt,reset:ot}}function A0e(t,e,n,i,r,s,a){const o=r.isWebGL2,l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),d=new WeakMap;let p;const v=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(ne,se){return g?new OffscreenCanvas(ne,se):np("canvas")}function _(ne,se,ke,Be){let Ve=1;if((ne.width>Be||ne.height>Be)&&(Ve=Be/Math.max(ne.width,ne.height)),Ve<1||se===!0)if(typeof HTMLImageElement<"u"&&ne instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ne instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ne instanceof ImageBitmap){const Ae=se?h0:Math.floor,Re=Ae(Ve*ne.width),Xe=Ae(Ve*ne.height);p===void 0&&(p=y(Re,Xe));const gt=ke?y(Re,Xe):p;return gt.width=Re,gt.height=Xe,gt.getContext("2d").drawImage(ne,0,0,Re,Xe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ne.width+"x"+ne.height+") to ("+Re+"x"+Xe+")."),gt}else return"data"in ne&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ne.width+"x"+ne.height+")."),ne;return ne}function w(ne){return CE(ne.width)&&CE(ne.height)}function b(ne){return o?!1:ne.wrapS!==Ps||ne.wrapT!==Ps||ne.minFilter!==pr&&ne.minFilter!==Mr}function M(ne,se){return ne.generateMipmaps&&se&&ne.minFilter!==pr&&ne.minFilter!==Mr}function E(ne){t.generateMipmap(ne)}function x(ne,se,ke,Be,Ve=!1){if(o===!1)return se;if(ne!==null){if(t[ne]!==void 0)return t[ne];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ne+"'")}let Ae=se;if(se===t.RED&&(ke===t.FLOAT&&(Ae=t.R32F),ke===t.HALF_FLOAT&&(Ae=t.R16F),ke===t.UNSIGNED_BYTE&&(Ae=t.R8)),se===t.RED_INTEGER&&(ke===t.UNSIGNED_BYTE&&(Ae=t.R8UI),ke===t.UNSIGNED_SHORT&&(Ae=t.R16UI),ke===t.UNSIGNED_INT&&(Ae=t.R32UI),ke===t.BYTE&&(Ae=t.R8I),ke===t.SHORT&&(Ae=t.R16I),ke===t.INT&&(Ae=t.R32I)),se===t.RG&&(ke===t.FLOAT&&(Ae=t.RG32F),ke===t.HALF_FLOAT&&(Ae=t.RG16F),ke===t.UNSIGNED_BYTE&&(Ae=t.RG8)),se===t.RGBA){const Re=Ve?Jh:Bn.getTransfer(Be);ke===t.FLOAT&&(Ae=t.RGBA32F),ke===t.HALF_FLOAT&&(Ae=t.RGBA16F),ke===t.UNSIGNED_BYTE&&(Ae=Re===ei?t.SRGB8_ALPHA8:t.RGBA8),ke===t.UNSIGNED_SHORT_4_4_4_4&&(Ae=t.RGBA4),ke===t.UNSIGNED_SHORT_5_5_5_1&&(Ae=t.RGB5_A1)}return(Ae===t.R16F||Ae===t.R32F||Ae===t.RG16F||Ae===t.RG32F||Ae===t.RGBA16F||Ae===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Ae}function T(ne,se,ke){return M(ne,ke)===!0||ne.isFramebufferTexture&&ne.minFilter!==pr&&ne.minFilter!==Mr?Math.log2(Math.max(se.width,se.height))+1:ne.mipmaps!==void 0&&ne.mipmaps.length>0?ne.mipmaps.length:ne.isCompressedTexture&&Array.isArray(ne.image)?se.mipmaps.length:1}function k(ne){return ne===pr||ne===jS||ne===Dc?t.NEAREST:t.LINEAR}function I(ne){const se=ne.target;se.removeEventListener("dispose",I),U(se),se.isVideoTexture&&d.delete(se)}function O(ne){const se=ne.target;se.removeEventListener("dispose",O),N(se)}function U(ne){const se=i.get(ne);if(se.__webglInit===void 0)return;const ke=ne.source,Be=v.get(ke);if(Be){const Ve=Be[se.__cacheKey];Ve.usedTimes--,Ve.usedTimes===0&&R(ne),Object.keys(Be).length===0&&v.delete(ke)}i.remove(ne)}function R(ne){const se=i.get(ne);t.deleteTexture(se.__webglTexture);const ke=ne.source,Be=v.get(ke);delete Be[se.__cacheKey],a.memory.textures--}function N(ne){const se=ne.texture,ke=i.get(ne),Be=i.get(se);if(Be.__webglTexture!==void 0&&(t.deleteTexture(Be.__webglTexture),a.memory.textures--),ne.depthTexture&&ne.depthTexture.dispose(),ne.isWebGLCubeRenderTarget)for(let Ve=0;Ve<6;Ve++){if(Array.isArray(ke.__webglFramebuffer[Ve]))for(let Ae=0;Ae<ke.__webglFramebuffer[Ve].length;Ae++)t.deleteFramebuffer(ke.__webglFramebuffer[Ve][Ae]);else t.deleteFramebuffer(ke.__webglFramebuffer[Ve]);ke.__webglDepthbuffer&&t.deleteRenderbuffer(ke.__webglDepthbuffer[Ve])}else{if(Array.isArray(ke.__webglFramebuffer))for(let Ve=0;Ve<ke.__webglFramebuffer.length;Ve++)t.deleteFramebuffer(ke.__webglFramebuffer[Ve]);else t.deleteFramebuffer(ke.__webglFramebuffer);if(ke.__webglDepthbuffer&&t.deleteRenderbuffer(ke.__webglDepthbuffer),ke.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ke.__webglMultisampledFramebuffer),ke.__webglColorRenderbuffer)for(let Ve=0;Ve<ke.__webglColorRenderbuffer.length;Ve++)ke.__webglColorRenderbuffer[Ve]&&t.deleteRenderbuffer(ke.__webglColorRenderbuffer[Ve]);ke.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ke.__webglDepthRenderbuffer)}if(ne.isWebGLMultipleRenderTargets)for(let Ve=0,Ae=se.length;Ve<Ae;Ve++){const Re=i.get(se[Ve]);Re.__webglTexture&&(t.deleteTexture(Re.__webglTexture),a.memory.textures--),i.remove(se[Ve])}i.remove(se),i.remove(ne)}let $=0;function J(){$=0}function Y(){const ne=$;return ne>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ne+" texture units while this GPU supports only "+r.maxTextures),$+=1,ne}function H(ne){const se=[];return se.push(ne.wrapS),se.push(ne.wrapT),se.push(ne.wrapR||0),se.push(ne.magFilter),se.push(ne.minFilter),se.push(ne.anisotropy),se.push(ne.internalFormat),se.push(ne.format),se.push(ne.type),se.push(ne.generateMipmaps),se.push(ne.premultiplyAlpha),se.push(ne.flipY),se.push(ne.unpackAlignment),se.push(ne.colorSpace),se.join()}function B(ne,se){const ke=i.get(ne);if(ne.isVideoTexture&&it(ne),ne.isRenderTargetTexture===!1&&ne.version>0&&ke.__version!==ne.version){const Be=ne.image;if(Be===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Be.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ye(ke,ne,se);return}}n.bindTexture(t.TEXTURE_2D,ke.__webglTexture,t.TEXTURE0+se)}function X(ne,se){const ke=i.get(ne);if(ne.version>0&&ke.__version!==ne.version){ye(ke,ne,se);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ke.__webglTexture,t.TEXTURE0+se)}function q(ne,se){const ke=i.get(ne);if(ne.version>0&&ke.__version!==ne.version){ye(ke,ne,se);return}n.bindTexture(t.TEXTURE_3D,ke.__webglTexture,t.TEXTURE0+se)}function D(ne,se){const ke=i.get(ne);if(ne.version>0&&ke.__version!==ne.version){Ee(ke,ne,se);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ke.__webglTexture,t.TEXTURE0+se)}const V={[u0]:t.REPEAT,[Ps]:t.CLAMP_TO_EDGE,[c0]:t.MIRRORED_REPEAT},ee={[pr]:t.NEAREST,[jS]:t.NEAREST_MIPMAP_NEAREST,[Dc]:t.NEAREST_MIPMAP_LINEAR,[Mr]:t.LINEAR,[qm]:t.LINEAR_MIPMAP_NEAREST,[sl]:t.LINEAR_MIPMAP_LINEAR},ce={[She]:t.NEVER,[Ahe]:t.ALWAYS,[Ehe]:t.LESS,[lP]:t.LEQUAL,[Che]:t.EQUAL,[The]:t.GEQUAL,[xhe]:t.GREATER,[Mhe]:t.NOTEQUAL};function ae(ne,se,ke){if(se.type===Aa&&e.has("OES_texture_float_linear")===!1&&(se.magFilter===Mr||se.magFilter===qm||se.magFilter===Dc||se.magFilter===sl||se.minFilter===Mr||se.minFilter===qm||se.minFilter===Dc||se.minFilter===sl)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),ke?(t.texParameteri(ne,t.TEXTURE_WRAP_S,V[se.wrapS]),t.texParameteri(ne,t.TEXTURE_WRAP_T,V[se.wrapT]),(ne===t.TEXTURE_3D||ne===t.TEXTURE_2D_ARRAY)&&t.texParameteri(ne,t.TEXTURE_WRAP_R,V[se.wrapR]),t.texParameteri(ne,t.TEXTURE_MAG_FILTER,ee[se.magFilter]),t.texParameteri(ne,t.TEXTURE_MIN_FILTER,ee[se.minFilter])):(t.texParameteri(ne,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(ne,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(ne===t.TEXTURE_3D||ne===t.TEXTURE_2D_ARRAY)&&t.texParameteri(ne,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(se.wrapS!==Ps||se.wrapT!==Ps)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(ne,t.TEXTURE_MAG_FILTER,k(se.magFilter)),t.texParameteri(ne,t.TEXTURE_MIN_FILTER,k(se.minFilter)),se.minFilter!==pr&&se.minFilter!==Mr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),se.compareFunction&&(t.texParameteri(ne,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(ne,t.TEXTURE_COMPARE_FUNC,ce[se.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Be=e.get("EXT_texture_filter_anisotropic");if(se.magFilter===pr||se.minFilter!==Dc&&se.minFilter!==sl||se.type===Aa&&e.has("OES_texture_float_linear")===!1||o===!1&&se.type===xd&&e.has("OES_texture_half_float_linear")===!1)return;(se.anisotropy>1||i.get(se).__currentAnisotropy)&&(t.texParameterf(ne,Be.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(se.anisotropy,r.getMaxAnisotropy())),i.get(se).__currentAnisotropy=se.anisotropy)}}function le(ne,se){let ke=!1;ne.__webglInit===void 0&&(ne.__webglInit=!0,se.addEventListener("dispose",I));const Be=se.source;let Ve=v.get(Be);Ve===void 0&&(Ve={},v.set(Be,Ve));const Ae=H(se);if(Ae!==ne.__cacheKey){Ve[Ae]===void 0&&(Ve[Ae]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,ke=!0),Ve[Ae].usedTimes++;const Re=Ve[ne.__cacheKey];Re!==void 0&&(Ve[ne.__cacheKey].usedTimes--,Re.usedTimes===0&&R(se)),ne.__cacheKey=Ae,ne.__webglTexture=Ve[Ae].texture}return ke}function ye(ne,se,ke){let Be=t.TEXTURE_2D;(se.isDataArrayTexture||se.isCompressedArrayTexture)&&(Be=t.TEXTURE_2D_ARRAY),se.isData3DTexture&&(Be=t.TEXTURE_3D);const Ve=le(ne,se),Ae=se.source;n.bindTexture(Be,ne.__webglTexture,t.TEXTURE0+ke);const Re=i.get(Ae);if(Ae.version!==Re.__version||Ve===!0){n.activeTexture(t.TEXTURE0+ke);const Xe=Bn.getPrimaries(Bn.workingColorSpace),gt=se.colorSpace===ls?null:Bn.getPrimaries(se.colorSpace),nt=se.colorSpace===ls||Xe===gt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,se.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,se.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,se.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,nt);const Lt=b(se)&&w(se.image)===!1;let Ye=_(se.image,Lt,!1,r.maxTextureSize);Ye=qe(se,Ye);const xt=w(Ye)||o,Te=s.convert(se.format,se.colorSpace);let ze=s.convert(se.type),de=x(se.internalFormat,Te,ze,se.colorSpace,se.isVideoTexture);ae(Be,se,xt);let be;const Ie=se.mipmaps,yt=o&&se.isVideoTexture!==!0&&de!==sP,Bt=Re.__version===void 0||Ve===!0,Ce=Ae.dataReady,ot=T(se,Ye,xt);if(se.isDepthTexture)de=t.DEPTH_COMPONENT,o?se.type===Aa?de=t.DEPTH_COMPONENT32F:se.type===so?de=t.DEPTH_COMPONENT24:se.type===fl?de=t.DEPTH24_STENCIL8:de=t.DEPTH_COMPONENT16:se.type===Aa&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),se.format===hl&&de===t.DEPTH_COMPONENT&&se.type!==N_&&se.type!==so&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),se.type=so,ze=s.convert(se.type)),se.format===ec&&de===t.DEPTH_COMPONENT&&(de=t.DEPTH_STENCIL,se.type!==fl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),se.type=fl,ze=s.convert(se.type))),Bt&&(yt?n.texStorage2D(t.TEXTURE_2D,1,de,Ye.width,Ye.height):n.texImage2D(t.TEXTURE_2D,0,de,Ye.width,Ye.height,0,Te,ze,null));else if(se.isDataTexture)if(Ie.length>0&&xt){yt&&Bt&&n.texStorage2D(t.TEXTURE_2D,ot,de,Ie[0].width,Ie[0].height);for(let ve=0,et=Ie.length;ve<et;ve++)be=Ie[ve],yt?Ce&&n.texSubImage2D(t.TEXTURE_2D,ve,0,0,be.width,be.height,Te,ze,be.data):n.texImage2D(t.TEXTURE_2D,ve,de,be.width,be.height,0,Te,ze,be.data);se.generateMipmaps=!1}else yt?(Bt&&n.texStorage2D(t.TEXTURE_2D,ot,de,Ye.width,Ye.height),Ce&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ye.width,Ye.height,Te,ze,Ye.data)):n.texImage2D(t.TEXTURE_2D,0,de,Ye.width,Ye.height,0,Te,ze,Ye.data);else if(se.isCompressedTexture)if(se.isCompressedArrayTexture){yt&&Bt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,ot,de,Ie[0].width,Ie[0].height,Ye.depth);for(let ve=0,et=Ie.length;ve<et;ve++)be=Ie[ve],se.format!==Rs?Te!==null?yt?Ce&&n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ve,0,0,0,be.width,be.height,Ye.depth,Te,be.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ve,de,be.width,be.height,Ye.depth,0,be.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):yt?Ce&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,ve,0,0,0,be.width,be.height,Ye.depth,Te,ze,be.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ve,de,be.width,be.height,Ye.depth,0,Te,ze,be.data)}else{yt&&Bt&&n.texStorage2D(t.TEXTURE_2D,ot,de,Ie[0].width,Ie[0].height);for(let ve=0,et=Ie.length;ve<et;ve++)be=Ie[ve],se.format!==Rs?Te!==null?yt?Ce&&n.compressedTexSubImage2D(t.TEXTURE_2D,ve,0,0,be.width,be.height,Te,be.data):n.compressedTexImage2D(t.TEXTURE_2D,ve,de,be.width,be.height,0,be.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):yt?Ce&&n.texSubImage2D(t.TEXTURE_2D,ve,0,0,be.width,be.height,Te,ze,be.data):n.texImage2D(t.TEXTURE_2D,ve,de,be.width,be.height,0,Te,ze,be.data)}else if(se.isDataArrayTexture)yt?(Bt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,ot,de,Ye.width,Ye.height,Ye.depth),Ce&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Ye.width,Ye.height,Ye.depth,Te,ze,Ye.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,de,Ye.width,Ye.height,Ye.depth,0,Te,ze,Ye.data);else if(se.isData3DTexture)yt?(Bt&&n.texStorage3D(t.TEXTURE_3D,ot,de,Ye.width,Ye.height,Ye.depth),Ce&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Ye.width,Ye.height,Ye.depth,Te,ze,Ye.data)):n.texImage3D(t.TEXTURE_3D,0,de,Ye.width,Ye.height,Ye.depth,0,Te,ze,Ye.data);else if(se.isFramebufferTexture){if(Bt)if(yt)n.texStorage2D(t.TEXTURE_2D,ot,de,Ye.width,Ye.height);else{let ve=Ye.width,et=Ye.height;for(let ut=0;ut<ot;ut++)n.texImage2D(t.TEXTURE_2D,ut,de,ve,et,0,Te,ze,null),ve>>=1,et>>=1}}else if(Ie.length>0&&xt){yt&&Bt&&n.texStorage2D(t.TEXTURE_2D,ot,de,Ie[0].width,Ie[0].height);for(let ve=0,et=Ie.length;ve<et;ve++)be=Ie[ve],yt?Ce&&n.texSubImage2D(t.TEXTURE_2D,ve,0,0,Te,ze,be):n.texImage2D(t.TEXTURE_2D,ve,de,Te,ze,be);se.generateMipmaps=!1}else yt?(Bt&&n.texStorage2D(t.TEXTURE_2D,ot,de,Ye.width,Ye.height),Ce&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Te,ze,Ye)):n.texImage2D(t.TEXTURE_2D,0,de,Te,ze,Ye);M(se,xt)&&E(Be),Re.__version=Ae.version,se.onUpdate&&se.onUpdate(se)}ne.__version=se.version}function Ee(ne,se,ke){if(se.image.length!==6)return;const Be=le(ne,se),Ve=se.source;n.bindTexture(t.TEXTURE_CUBE_MAP,ne.__webglTexture,t.TEXTURE0+ke);const Ae=i.get(Ve);if(Ve.version!==Ae.__version||Be===!0){n.activeTexture(t.TEXTURE0+ke);const Re=Bn.getPrimaries(Bn.workingColorSpace),Xe=se.colorSpace===ls?null:Bn.getPrimaries(se.colorSpace),gt=se.colorSpace===ls||Re===Xe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,se.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,se.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,se.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,gt);const nt=se.isCompressedTexture||se.image[0].isCompressedTexture,Lt=se.image[0]&&se.image[0].isDataTexture,Ye=[];for(let ve=0;ve<6;ve++)!nt&&!Lt?Ye[ve]=_(se.image[ve],!1,!0,r.maxCubemapSize):Ye[ve]=Lt?se.image[ve].image:se.image[ve],Ye[ve]=qe(se,Ye[ve]);const xt=Ye[0],Te=w(xt)||o,ze=s.convert(se.format,se.colorSpace),de=s.convert(se.type),be=x(se.internalFormat,ze,de,se.colorSpace),Ie=o&&se.isVideoTexture!==!0,yt=Ae.__version===void 0||Be===!0,Bt=Ve.dataReady;let Ce=T(se,xt,Te);ae(t.TEXTURE_CUBE_MAP,se,Te);let ot;if(nt){Ie&&yt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Ce,be,xt.width,xt.height);for(let ve=0;ve<6;ve++){ot=Ye[ve].mipmaps;for(let et=0;et<ot.length;et++){const ut=ot[et];se.format!==Rs?ze!==null?Ie?Bt&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,et,0,0,ut.width,ut.height,ze,ut.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,et,be,ut.width,ut.height,0,ut.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ie?Bt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,et,0,0,ut.width,ut.height,ze,de,ut.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,et,be,ut.width,ut.height,0,ze,de,ut.data)}}}else{ot=se.mipmaps,Ie&&yt&&(ot.length>0&&Ce++,n.texStorage2D(t.TEXTURE_CUBE_MAP,Ce,be,Ye[0].width,Ye[0].height));for(let ve=0;ve<6;ve++)if(Lt){Ie?Bt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,0,0,0,Ye[ve].width,Ye[ve].height,ze,de,Ye[ve].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,0,be,Ye[ve].width,Ye[ve].height,0,ze,de,Ye[ve].data);for(let et=0;et<ot.length;et++){const wt=ot[et].image[ve].image;Ie?Bt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,et+1,0,0,wt.width,wt.height,ze,de,wt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,et+1,be,wt.width,wt.height,0,ze,de,wt.data)}}else{Ie?Bt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,0,0,0,ze,de,Ye[ve]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,0,be,ze,de,Ye[ve]);for(let et=0;et<ot.length;et++){const ut=ot[et];Ie?Bt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,et+1,0,0,ze,de,ut.image[ve]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,et+1,be,ze,de,ut.image[ve])}}}M(se,Te)&&E(t.TEXTURE_CUBE_MAP),Ae.__version=Ve.version,se.onUpdate&&se.onUpdate(se)}ne.__version=se.version}function pe(ne,se,ke,Be,Ve,Ae){const Re=s.convert(ke.format,ke.colorSpace),Xe=s.convert(ke.type),gt=x(ke.internalFormat,Re,Xe,ke.colorSpace);if(!i.get(se).__hasExternalTextures){const Lt=Math.max(1,se.width>>Ae),Ye=Math.max(1,se.height>>Ae);Ve===t.TEXTURE_3D||Ve===t.TEXTURE_2D_ARRAY?n.texImage3D(Ve,Ae,gt,Lt,Ye,se.depth,0,Re,Xe,null):n.texImage2D(Ve,Ae,gt,Lt,Ye,0,Re,Xe,null)}n.bindFramebuffer(t.FRAMEBUFFER,ne),rt(se)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Be,Ve,i.get(ke).__webglTexture,0,at(se)):(Ve===t.TEXTURE_2D||Ve>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ve<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Be,Ve,i.get(ke).__webglTexture,Ae),n.bindFramebuffer(t.FRAMEBUFFER,null)}function ue(ne,se,ke){if(t.bindRenderbuffer(t.RENDERBUFFER,ne),se.depthBuffer&&!se.stencilBuffer){let Be=o===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(ke||rt(se)){const Ve=se.depthTexture;Ve&&Ve.isDepthTexture&&(Ve.type===Aa?Be=t.DEPTH_COMPONENT32F:Ve.type===so&&(Be=t.DEPTH_COMPONENT24));const Ae=at(se);rt(se)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ae,Be,se.width,se.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Ae,Be,se.width,se.height)}else t.renderbufferStorage(t.RENDERBUFFER,Be,se.width,se.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,ne)}else if(se.depthBuffer&&se.stencilBuffer){const Be=at(se);ke&&rt(se)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Be,t.DEPTH24_STENCIL8,se.width,se.height):rt(se)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Be,t.DEPTH24_STENCIL8,se.width,se.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,se.width,se.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,ne)}else{const Be=se.isWebGLMultipleRenderTargets===!0?se.texture:[se.texture];for(let Ve=0;Ve<Be.length;Ve++){const Ae=Be[Ve],Re=s.convert(Ae.format,Ae.colorSpace),Xe=s.convert(Ae.type),gt=x(Ae.internalFormat,Re,Xe,Ae.colorSpace),nt=at(se);ke&&rt(se)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,nt,gt,se.width,se.height):rt(se)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,nt,gt,se.width,se.height):t.renderbufferStorage(t.RENDERBUFFER,gt,se.width,se.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Me(ne,se){if(se&&se.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,ne),!(se.depthTexture&&se.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(se.depthTexture).__webglTexture||se.depthTexture.image.width!==se.width||se.depthTexture.image.height!==se.height)&&(se.depthTexture.image.width=se.width,se.depthTexture.image.height=se.height,se.depthTexture.needsUpdate=!0),B(se.depthTexture,0);const Be=i.get(se.depthTexture).__webglTexture,Ve=at(se);if(se.depthTexture.format===hl)rt(se)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Be,0,Ve):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Be,0);else if(se.depthTexture.format===ec)rt(se)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Be,0,Ve):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Be,0);else throw new Error("Unknown depthTexture format")}function De(ne){const se=i.get(ne),ke=ne.isWebGLCubeRenderTarget===!0;if(ne.depthTexture&&!se.__autoAllocateDepthBuffer){if(ke)throw new Error("target.depthTexture not supported in Cube render targets");Me(se.__webglFramebuffer,ne)}else if(ke){se.__webglDepthbuffer=[];for(let Be=0;Be<6;Be++)n.bindFramebuffer(t.FRAMEBUFFER,se.__webglFramebuffer[Be]),se.__webglDepthbuffer[Be]=t.createRenderbuffer(),ue(se.__webglDepthbuffer[Be],ne,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,se.__webglFramebuffer),se.__webglDepthbuffer=t.createRenderbuffer(),ue(se.__webglDepthbuffer,ne,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function xe(ne,se,ke){const Be=i.get(ne);se!==void 0&&pe(Be.__webglFramebuffer,ne,ne.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ke!==void 0&&De(ne)}function G(ne){const se=ne.texture,ke=i.get(ne),Be=i.get(se);ne.addEventListener("dispose",O),ne.isWebGLMultipleRenderTargets!==!0&&(Be.__webglTexture===void 0&&(Be.__webglTexture=t.createTexture()),Be.__version=se.version,a.memory.textures++);const Ve=ne.isWebGLCubeRenderTarget===!0,Ae=ne.isWebGLMultipleRenderTargets===!0,Re=w(ne)||o;if(Ve){ke.__webglFramebuffer=[];for(let Xe=0;Xe<6;Xe++)if(o&&se.mipmaps&&se.mipmaps.length>0){ke.__webglFramebuffer[Xe]=[];for(let gt=0;gt<se.mipmaps.length;gt++)ke.__webglFramebuffer[Xe][gt]=t.createFramebuffer()}else ke.__webglFramebuffer[Xe]=t.createFramebuffer()}else{if(o&&se.mipmaps&&se.mipmaps.length>0){ke.__webglFramebuffer=[];for(let Xe=0;Xe<se.mipmaps.length;Xe++)ke.__webglFramebuffer[Xe]=t.createFramebuffer()}else ke.__webglFramebuffer=t.createFramebuffer();if(Ae)if(r.drawBuffers){const Xe=ne.texture;for(let gt=0,nt=Xe.length;gt<nt;gt++){const Lt=i.get(Xe[gt]);Lt.__webglTexture===void 0&&(Lt.__webglTexture=t.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(o&&ne.samples>0&&rt(ne)===!1){const Xe=Ae?se:[se];ke.__webglMultisampledFramebuffer=t.createFramebuffer(),ke.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ke.__webglMultisampledFramebuffer);for(let gt=0;gt<Xe.length;gt++){const nt=Xe[gt];ke.__webglColorRenderbuffer[gt]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ke.__webglColorRenderbuffer[gt]);const Lt=s.convert(nt.format,nt.colorSpace),Ye=s.convert(nt.type),xt=x(nt.internalFormat,Lt,Ye,nt.colorSpace,ne.isXRRenderTarget===!0),Te=at(ne);t.renderbufferStorageMultisample(t.RENDERBUFFER,Te,xt,ne.width,ne.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+gt,t.RENDERBUFFER,ke.__webglColorRenderbuffer[gt])}t.bindRenderbuffer(t.RENDERBUFFER,null),ne.depthBuffer&&(ke.__webglDepthRenderbuffer=t.createRenderbuffer(),ue(ke.__webglDepthRenderbuffer,ne,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Ve){n.bindTexture(t.TEXTURE_CUBE_MAP,Be.__webglTexture),ae(t.TEXTURE_CUBE_MAP,se,Re);for(let Xe=0;Xe<6;Xe++)if(o&&se.mipmaps&&se.mipmaps.length>0)for(let gt=0;gt<se.mipmaps.length;gt++)pe(ke.__webglFramebuffer[Xe][gt],ne,se,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,gt);else pe(ke.__webglFramebuffer[Xe],ne,se,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,0);M(se,Re)&&E(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ae){const Xe=ne.texture;for(let gt=0,nt=Xe.length;gt<nt;gt++){const Lt=Xe[gt],Ye=i.get(Lt);n.bindTexture(t.TEXTURE_2D,Ye.__webglTexture),ae(t.TEXTURE_2D,Lt,Re),pe(ke.__webglFramebuffer,ne,Lt,t.COLOR_ATTACHMENT0+gt,t.TEXTURE_2D,0),M(Lt,Re)&&E(t.TEXTURE_2D)}n.unbindTexture()}else{let Xe=t.TEXTURE_2D;if((ne.isWebGL3DRenderTarget||ne.isWebGLArrayRenderTarget)&&(o?Xe=ne.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Xe,Be.__webglTexture),ae(Xe,se,Re),o&&se.mipmaps&&se.mipmaps.length>0)for(let gt=0;gt<se.mipmaps.length;gt++)pe(ke.__webglFramebuffer[gt],ne,se,t.COLOR_ATTACHMENT0,Xe,gt);else pe(ke.__webglFramebuffer,ne,se,t.COLOR_ATTACHMENT0,Xe,0);M(se,Re)&&E(Xe),n.unbindTexture()}ne.depthBuffer&&De(ne)}function He(ne){const se=w(ne)||o,ke=ne.isWebGLMultipleRenderTargets===!0?ne.texture:[ne.texture];for(let Be=0,Ve=ke.length;Be<Ve;Be++){const Ae=ke[Be];if(M(Ae,se)){const Re=ne.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Xe=i.get(Ae).__webglTexture;n.bindTexture(Re,Xe),E(Re),n.unbindTexture()}}}function Je(ne){if(o&&ne.samples>0&&rt(ne)===!1){const se=ne.isWebGLMultipleRenderTargets?ne.texture:[ne.texture],ke=ne.width,Be=ne.height;let Ve=t.COLOR_BUFFER_BIT;const Ae=[],Re=ne.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Xe=i.get(ne),gt=ne.isWebGLMultipleRenderTargets===!0;if(gt)for(let nt=0;nt<se.length;nt++)n.bindFramebuffer(t.FRAMEBUFFER,Xe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+nt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Xe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+nt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Xe.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Xe.__webglFramebuffer);for(let nt=0;nt<se.length;nt++){Ae.push(t.COLOR_ATTACHMENT0+nt),ne.depthBuffer&&Ae.push(Re);const Lt=Xe.__ignoreDepthValues!==void 0?Xe.__ignoreDepthValues:!1;if(Lt===!1&&(ne.depthBuffer&&(Ve|=t.DEPTH_BUFFER_BIT),ne.stencilBuffer&&(Ve|=t.STENCIL_BUFFER_BIT)),gt&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Xe.__webglColorRenderbuffer[nt]),Lt===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[Re]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[Re])),gt){const Ye=i.get(se[nt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Ye,0)}t.blitFramebuffer(0,0,ke,Be,0,0,ke,Be,Ve,t.NEAREST),c&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Ae)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),gt)for(let nt=0;nt<se.length;nt++){n.bindFramebuffer(t.FRAMEBUFFER,Xe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+nt,t.RENDERBUFFER,Xe.__webglColorRenderbuffer[nt]);const Lt=i.get(se[nt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Xe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+nt,t.TEXTURE_2D,Lt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Xe.__webglMultisampledFramebuffer)}}function at(ne){return Math.min(r.maxSamples,ne.samples)}function rt(ne){const se=i.get(ne);return o&&ne.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&se.__useRenderToTexture!==!1}function it(ne){const se=a.render.frame;d.get(ne)!==se&&(d.set(ne,se),ne.update())}function qe(ne,se){const ke=ne.colorSpace,Be=ne.format,Ve=ne.type;return ne.isCompressedTexture===!0||ne.isVideoTexture===!0||ne.format===d0||ke!==Na&&ke!==ls&&(Bn.getTransfer(ke)===ei?o===!1?e.has("EXT_sRGB")===!0&&Be===Rs?(ne.format=d0,ne.minFilter=Mr,ne.generateMipmaps=!1):se=cP.sRGBToLinear(se):(Be!==Rs||Ve!==fo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ke)),se}this.allocateTextureUnit=Y,this.resetTextureUnits=J,this.setTexture2D=B,this.setTexture2DArray=X,this.setTexture3D=q,this.setTextureCube=D,this.rebindTextures=xe,this.setupRenderTarget=G,this.updateRenderTargetMipmap=He,this.updateMultisampleRenderTarget=Je,this.setupDepthRenderbuffer=De,this.setupFrameBufferTexture=pe,this.useMultisampledRTT=rt}function k0e(t,e,n){const i=n.isWebGL2;function r(s,a=ls){let o;const l=Bn.getTransfer(a);if(s===fo)return t.UNSIGNED_BYTE;if(s===eP)return t.UNSIGNED_SHORT_4_4_4_4;if(s===tP)return t.UNSIGNED_SHORT_5_5_5_1;if(s===dhe)return t.BYTE;if(s===fhe)return t.SHORT;if(s===N_)return t.UNSIGNED_SHORT;if(s===Qk)return t.INT;if(s===so)return t.UNSIGNED_INT;if(s===Aa)return t.FLOAT;if(s===xd)return i?t.HALF_FLOAT:(o=e.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(s===hhe)return t.ALPHA;if(s===Rs)return t.RGBA;if(s===phe)return t.LUMINANCE;if(s===mhe)return t.LUMINANCE_ALPHA;if(s===hl)return t.DEPTH_COMPONENT;if(s===ec)return t.DEPTH_STENCIL;if(s===d0)return o=e.get("EXT_sRGB"),o!==null?o.SRGB_ALPHA_EXT:null;if(s===vhe)return t.RED;if(s===nP)return t.RED_INTEGER;if(s===ghe)return t.RG;if(s===iP)return t.RG_INTEGER;if(s===rP)return t.RGBA_INTEGER;if(s===Ym||s===jm||s===Xm||s===Zm)if(l===ei)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(s===Ym)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===jm)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Xm)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Zm)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(s===Ym)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===jm)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Xm)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Zm)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===XS||s===ZS||s===JS||s===QS)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(s===XS)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===ZS)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===JS)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===QS)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===sP)return o=e.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===eE||s===tE)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(s===eE)return l===ei?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(s===tE)return l===ei?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===nE||s===iE||s===rE||s===sE||s===aE||s===oE||s===lE||s===uE||s===cE||s===dE||s===fE||s===hE||s===pE||s===mE)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(s===nE)return l===ei?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===iE)return l===ei?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===rE)return l===ei?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===sE)return l===ei?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===aE)return l===ei?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===oE)return l===ei?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===lE)return l===ei?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===uE)return l===ei?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===cE)return l===ei?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===dE)return l===ei?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===fE)return l===ei?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===hE)return l===ei?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===pE)return l===ei?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===mE)return l===ei?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Jm||s===vE||s===gE)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(s===Jm)return l===ei?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===vE)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===gE)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===yhe||s===yE||s===_E||s===bE)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(s===Jm)return o.COMPRESSED_RED_RGTC1_EXT;if(s===yE)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===_E)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===bE)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===fl?i?t.UNSIGNED_INT_24_8:(o=e.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:r}}class P0e extends os{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class jf extends Ki{constructor(){super(),this.isGroup=!0,this.type="Group"}}const R0e={type:"move"};class Ev{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new jf,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new jf,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new je,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new je),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new jf,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new je,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new je),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,s=null,a=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const _ of e.hand.values()){const w=n.getJointPose(_,i),b=this._getHandJoint(c,_);w!==null&&(b.matrix.fromArray(w.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=w.radius),b.visible=w!==null}const d=c.joints["index-finger-tip"],p=c.joints["thumb-tip"],v=d.position.distanceTo(p.position),g=.02,y=.005;c.inputState.pinching&&v>g+y?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&v<=g-y&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(R0e)))}return o!==null&&(o.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new jf;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}const I0e=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,L0e=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class N0e{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,i){if(this.texture===null){const r=new Or,s=e.properties.get(r);s.__webglTexture=n.texture,(n.depthNear!=i.depthNear||n.depthFar!=i.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=r}}render(e,n){if(this.texture!==null){if(this.mesh===null){const i=n.cameras[0].viewport,r=new xo({extensions:{fragDepth:!0},vertexShader:I0e,fragmentShader:L0e,uniforms:{depthColor:{value:this.texture},depthWidth:{value:i.z},depthHeight:{value:i.w}}});this.mesh=new Os(new Gp(20,20),r)}e.render(this.mesh,n)}}reset(){this.texture=null,this.mesh=null}}class O0e extends vc{constructor(e,n){super();const i=this;let r=null,s=1,a=null,o="local-floor",l=1,c=null,d=null,p=null,v=null,g=null,y=null;const _=new N0e,w=n.getContextAttributes();let b=null,M=null;const E=[],x=[],T=new Pn;let k=null;const I=new os;I.layers.enable(1),I.viewport=new hi;const O=new os;O.layers.enable(2),O.viewport=new hi;const U=[I,O],R=new P0e;R.layers.enable(1),R.layers.enable(2);let N=null,$=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(le){let ye=E[le];return ye===void 0&&(ye=new Ev,E[le]=ye),ye.getTargetRaySpace()},this.getControllerGrip=function(le){let ye=E[le];return ye===void 0&&(ye=new Ev,E[le]=ye),ye.getGripSpace()},this.getHand=function(le){let ye=E[le];return ye===void 0&&(ye=new Ev,E[le]=ye),ye.getHandSpace()};function J(le){const ye=x.indexOf(le.inputSource);if(ye===-1)return;const Ee=E[ye];Ee!==void 0&&(Ee.update(le.inputSource,le.frame,c||a),Ee.dispatchEvent({type:le.type,data:le.inputSource}))}function Y(){r.removeEventListener("select",J),r.removeEventListener("selectstart",J),r.removeEventListener("selectend",J),r.removeEventListener("squeeze",J),r.removeEventListener("squeezestart",J),r.removeEventListener("squeezeend",J),r.removeEventListener("end",Y),r.removeEventListener("inputsourceschange",H);for(let le=0;le<E.length;le++){const ye=x[le];ye!==null&&(x[le]=null,E[le].disconnect(ye))}N=null,$=null,_.reset(),e.setRenderTarget(b),g=null,v=null,p=null,r=null,M=null,ae.stop(),i.isPresenting=!1,e.setPixelRatio(k),e.setSize(T.width,T.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(le){s=le,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(le){o=le,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(le){c=le},this.getBaseLayer=function(){return v!==null?v:g},this.getBinding=function(){return p},this.getFrame=function(){return y},this.getSession=function(){return r},this.setSession=async function(le){if(r=le,r!==null){if(b=e.getRenderTarget(),r.addEventListener("select",J),r.addEventListener("selectstart",J),r.addEventListener("selectend",J),r.addEventListener("squeeze",J),r.addEventListener("squeezestart",J),r.addEventListener("squeezeend",J),r.addEventListener("end",Y),r.addEventListener("inputsourceschange",H),w.xrCompatible!==!0&&await n.makeXRCompatible(),k=e.getPixelRatio(),e.getSize(T),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ye={antialias:r.renderState.layers===void 0?w.antialias:!0,alpha:!0,depth:w.depth,stencil:w.stencil,framebufferScaleFactor:s};g=new XRWebGLLayer(r,n,ye),r.updateRenderState({baseLayer:g}),e.setPixelRatio(1),e.setSize(g.framebufferWidth,g.framebufferHeight,!1),M=new Al(g.framebufferWidth,g.framebufferHeight,{format:Rs,type:fo,colorSpace:e.outputColorSpace,stencilBuffer:w.stencil})}else{let ye=null,Ee=null,pe=null;w.depth&&(pe=w.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ye=w.stencil?ec:hl,Ee=w.stencil?fl:so);const ue={colorFormat:n.RGBA8,depthFormat:pe,scaleFactor:s};p=new XRWebGLBinding(r,n),v=p.createProjectionLayer(ue),r.updateRenderState({layers:[v]}),e.setPixelRatio(1),e.setSize(v.textureWidth,v.textureHeight,!1),M=new Al(v.textureWidth,v.textureHeight,{format:Rs,type:fo,depthTexture:new EP(v.textureWidth,v.textureHeight,Ee,void 0,void 0,void 0,void 0,void 0,void 0,ye),stencilBuffer:w.stencil,colorSpace:e.outputColorSpace,samples:w.antialias?4:0});const Me=e.properties.get(M);Me.__ignoreDepthValues=v.ignoreDepthValues}M.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await r.requestReferenceSpace(o),ae.setContext(r),ae.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function H(le){for(let ye=0;ye<le.removed.length;ye++){const Ee=le.removed[ye],pe=x.indexOf(Ee);pe>=0&&(x[pe]=null,E[pe].disconnect(Ee))}for(let ye=0;ye<le.added.length;ye++){const Ee=le.added[ye];let pe=x.indexOf(Ee);if(pe===-1){for(let Me=0;Me<E.length;Me++)if(Me>=x.length){x.push(Ee),pe=Me;break}else if(x[Me]===null){x[Me]=Ee,pe=Me;break}if(pe===-1)break}const ue=E[pe];ue&&ue.connect(Ee)}}const B=new je,X=new je;function q(le,ye,Ee){B.setFromMatrixPosition(ye.matrixWorld),X.setFromMatrixPosition(Ee.matrixWorld);const pe=B.distanceTo(X),ue=ye.projectionMatrix.elements,Me=Ee.projectionMatrix.elements,De=ue[14]/(ue[10]-1),xe=ue[14]/(ue[10]+1),G=(ue[9]+1)/ue[5],He=(ue[9]-1)/ue[5],Je=(ue[8]-1)/ue[0],at=(Me[8]+1)/Me[0],rt=De*Je,it=De*at,qe=pe/(-Je+at),ne=qe*-Je;ye.matrixWorld.decompose(le.position,le.quaternion,le.scale),le.translateX(ne),le.translateZ(qe),le.matrixWorld.compose(le.position,le.quaternion,le.scale),le.matrixWorldInverse.copy(le.matrixWorld).invert();const se=De+qe,ke=xe+qe,Be=rt-ne,Ve=it+(pe-ne),Ae=G*xe/ke*se,Re=He*xe/ke*se;le.projectionMatrix.makePerspective(Be,Ve,Ae,Re,se,ke),le.projectionMatrixInverse.copy(le.projectionMatrix).invert()}function D(le,ye){ye===null?le.matrixWorld.copy(le.matrix):le.matrixWorld.multiplyMatrices(ye.matrixWorld,le.matrix),le.matrixWorldInverse.copy(le.matrixWorld).invert()}this.updateCamera=function(le){if(r===null)return;_.texture!==null&&(le.near=_.depthNear,le.far=_.depthFar),R.near=O.near=I.near=le.near,R.far=O.far=I.far=le.far,(N!==R.near||$!==R.far)&&(r.updateRenderState({depthNear:R.near,depthFar:R.far}),N=R.near,$=R.far,I.near=N,I.far=$,O.near=N,O.far=$,I.updateProjectionMatrix(),O.updateProjectionMatrix(),le.updateProjectionMatrix());const ye=le.parent,Ee=R.cameras;D(R,ye);for(let pe=0;pe<Ee.length;pe++)D(Ee[pe],ye);Ee.length===2?q(R,I,O):R.projectionMatrix.copy(I.projectionMatrix),V(le,R,ye)};function V(le,ye,Ee){Ee===null?le.matrix.copy(ye.matrixWorld):(le.matrix.copy(Ee.matrixWorld),le.matrix.invert(),le.matrix.multiply(ye.matrixWorld)),le.matrix.decompose(le.position,le.quaternion,le.scale),le.updateMatrixWorld(!0),le.projectionMatrix.copy(ye.projectionMatrix),le.projectionMatrixInverse.copy(ye.projectionMatrixInverse),le.isPerspectiveCamera&&(le.fov=f0*2*Math.atan(1/le.projectionMatrix.elements[5]),le.zoom=1)}this.getCamera=function(){return R},this.getFoveation=function(){if(!(v===null&&g===null))return l},this.setFoveation=function(le){l=le,v!==null&&(v.fixedFoveation=le),g!==null&&g.fixedFoveation!==void 0&&(g.fixedFoveation=le)},this.hasDepthSensing=function(){return _.texture!==null};let ee=null;function ce(le,ye){if(d=ye.getViewerPose(c||a),y=ye,d!==null){const Ee=d.views;g!==null&&(e.setRenderTargetFramebuffer(M,g.framebuffer),e.setRenderTarget(M));let pe=!1;Ee.length!==R.cameras.length&&(R.cameras.length=0,pe=!0);for(let Me=0;Me<Ee.length;Me++){const De=Ee[Me];let xe=null;if(g!==null)xe=g.getViewport(De);else{const He=p.getViewSubImage(v,De);xe=He.viewport,Me===0&&(e.setRenderTargetTextures(M,He.colorTexture,v.ignoreDepthValues?void 0:He.depthStencilTexture),e.setRenderTarget(M))}let G=U[Me];G===void 0&&(G=new os,G.layers.enable(Me),G.viewport=new hi,U[Me]=G),G.matrix.fromArray(De.transform.matrix),G.matrix.decompose(G.position,G.quaternion,G.scale),G.projectionMatrix.fromArray(De.projectionMatrix),G.projectionMatrixInverse.copy(G.projectionMatrix).invert(),G.viewport.set(xe.x,xe.y,xe.width,xe.height),Me===0&&(R.matrix.copy(G.matrix),R.matrix.decompose(R.position,R.quaternion,R.scale)),pe===!0&&R.cameras.push(G)}const ue=r.enabledFeatures;if(ue&&ue.includes("depth-sensing")){const Me=p.getDepthInformation(Ee[0]);Me&&Me.isValid&&Me.texture&&_.init(e,Me,r.renderState)}}for(let Ee=0;Ee<E.length;Ee++){const pe=x[Ee],ue=E[Ee];pe!==null&&ue!==void 0&&ue.update(pe,ye,c||a)}_.render(e,R),ee&&ee(le,ye),ye.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ye}),y=null}const ae=new wP;ae.setAnimationLoop(ce),this.setAnimationLoop=function(le){ee=le},this.dispose=function(){}}}function D0e(t,e){function n(w,b){w.matrixAutoUpdate===!0&&w.updateMatrix(),b.value.copy(w.matrix)}function i(w,b){b.color.getRGB(w.fogColor.value,yP(t)),b.isFog?(w.fogNear.value=b.near,w.fogFar.value=b.far):b.isFogExp2&&(w.fogDensity.value=b.density)}function r(w,b,M,E,x){b.isMeshBasicMaterial||b.isMeshLambertMaterial?s(w,b):b.isMeshToonMaterial?(s(w,b),p(w,b)):b.isMeshPhongMaterial?(s(w,b),d(w,b)):b.isMeshStandardMaterial?(s(w,b),v(w,b),b.isMeshPhysicalMaterial&&g(w,b,x)):b.isMeshMatcapMaterial?(s(w,b),y(w,b)):b.isMeshDepthMaterial?s(w,b):b.isMeshDistanceMaterial?(s(w,b),_(w,b)):b.isMeshNormalMaterial?s(w,b):b.isLineBasicMaterial?(a(w,b),b.isLineDashedMaterial&&o(w,b)):b.isPointsMaterial?l(w,b,M,E):b.isSpriteMaterial?c(w,b):b.isShadowMaterial?(w.color.value.copy(b.color),w.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function s(w,b){w.opacity.value=b.opacity,b.color&&w.diffuse.value.copy(b.color),b.emissive&&w.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(w.map.value=b.map,n(b.map,w.mapTransform)),b.alphaMap&&(w.alphaMap.value=b.alphaMap,n(b.alphaMap,w.alphaMapTransform)),b.bumpMap&&(w.bumpMap.value=b.bumpMap,n(b.bumpMap,w.bumpMapTransform),w.bumpScale.value=b.bumpScale,b.side===Nr&&(w.bumpScale.value*=-1)),b.normalMap&&(w.normalMap.value=b.normalMap,n(b.normalMap,w.normalMapTransform),w.normalScale.value.copy(b.normalScale),b.side===Nr&&w.normalScale.value.negate()),b.displacementMap&&(w.displacementMap.value=b.displacementMap,n(b.displacementMap,w.displacementMapTransform),w.displacementScale.value=b.displacementScale,w.displacementBias.value=b.displacementBias),b.emissiveMap&&(w.emissiveMap.value=b.emissiveMap,n(b.emissiveMap,w.emissiveMapTransform)),b.specularMap&&(w.specularMap.value=b.specularMap,n(b.specularMap,w.specularMapTransform)),b.alphaTest>0&&(w.alphaTest.value=b.alphaTest);const M=e.get(b).envMap;if(M&&(w.envMap.value=M,w.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,w.reflectivity.value=b.reflectivity,w.ior.value=b.ior,w.refractionRatio.value=b.refractionRatio),b.lightMap){w.lightMap.value=b.lightMap;const E=t._useLegacyLights===!0?Math.PI:1;w.lightMapIntensity.value=b.lightMapIntensity*E,n(b.lightMap,w.lightMapTransform)}b.aoMap&&(w.aoMap.value=b.aoMap,w.aoMapIntensity.value=b.aoMapIntensity,n(b.aoMap,w.aoMapTransform))}function a(w,b){w.diffuse.value.copy(b.color),w.opacity.value=b.opacity,b.map&&(w.map.value=b.map,n(b.map,w.mapTransform))}function o(w,b){w.dashSize.value=b.dashSize,w.totalSize.value=b.dashSize+b.gapSize,w.scale.value=b.scale}function l(w,b,M,E){w.diffuse.value.copy(b.color),w.opacity.value=b.opacity,w.size.value=b.size*M,w.scale.value=E*.5,b.map&&(w.map.value=b.map,n(b.map,w.uvTransform)),b.alphaMap&&(w.alphaMap.value=b.alphaMap,n(b.alphaMap,w.alphaMapTransform)),b.alphaTest>0&&(w.alphaTest.value=b.alphaTest)}function c(w,b){w.diffuse.value.copy(b.color),w.opacity.value=b.opacity,w.rotation.value=b.rotation,b.map&&(w.map.value=b.map,n(b.map,w.mapTransform)),b.alphaMap&&(w.alphaMap.value=b.alphaMap,n(b.alphaMap,w.alphaMapTransform)),b.alphaTest>0&&(w.alphaTest.value=b.alphaTest)}function d(w,b){w.specular.value.copy(b.specular),w.shininess.value=Math.max(b.shininess,1e-4)}function p(w,b){b.gradientMap&&(w.gradientMap.value=b.gradientMap)}function v(w,b){w.metalness.value=b.metalness,b.metalnessMap&&(w.metalnessMap.value=b.metalnessMap,n(b.metalnessMap,w.metalnessMapTransform)),w.roughness.value=b.roughness,b.roughnessMap&&(w.roughnessMap.value=b.roughnessMap,n(b.roughnessMap,w.roughnessMapTransform)),e.get(b).envMap&&(w.envMapIntensity.value=b.envMapIntensity)}function g(w,b,M){w.ior.value=b.ior,b.sheen>0&&(w.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),w.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(w.sheenColorMap.value=b.sheenColorMap,n(b.sheenColorMap,w.sheenColorMapTransform)),b.sheenRoughnessMap&&(w.sheenRoughnessMap.value=b.sheenRoughnessMap,n(b.sheenRoughnessMap,w.sheenRoughnessMapTransform))),b.clearcoat>0&&(w.clearcoat.value=b.clearcoat,w.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(w.clearcoatMap.value=b.clearcoatMap,n(b.clearcoatMap,w.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(w.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,n(b.clearcoatRoughnessMap,w.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(w.clearcoatNormalMap.value=b.clearcoatNormalMap,n(b.clearcoatNormalMap,w.clearcoatNormalMapTransform),w.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===Nr&&w.clearcoatNormalScale.value.negate())),b.iridescence>0&&(w.iridescence.value=b.iridescence,w.iridescenceIOR.value=b.iridescenceIOR,w.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],w.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(w.iridescenceMap.value=b.iridescenceMap,n(b.iridescenceMap,w.iridescenceMapTransform)),b.iridescenceThicknessMap&&(w.iridescenceThicknessMap.value=b.iridescenceThicknessMap,n(b.iridescenceThicknessMap,w.iridescenceThicknessMapTransform))),b.transmission>0&&(w.transmission.value=b.transmission,w.transmissionSamplerMap.value=M.texture,w.transmissionSamplerSize.value.set(M.width,M.height),b.transmissionMap&&(w.transmissionMap.value=b.transmissionMap,n(b.transmissionMap,w.transmissionMapTransform)),w.thickness.value=b.thickness,b.thicknessMap&&(w.thicknessMap.value=b.thicknessMap,n(b.thicknessMap,w.thicknessMapTransform)),w.attenuationDistance.value=b.attenuationDistance,w.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(w.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(w.anisotropyMap.value=b.anisotropyMap,n(b.anisotropyMap,w.anisotropyMapTransform))),w.specularIntensity.value=b.specularIntensity,w.specularColor.value.copy(b.specularColor),b.specularColorMap&&(w.specularColorMap.value=b.specularColorMap,n(b.specularColorMap,w.specularColorMapTransform)),b.specularIntensityMap&&(w.specularIntensityMap.value=b.specularIntensityMap,n(b.specularIntensityMap,w.specularIntensityMapTransform))}function y(w,b){b.matcap&&(w.matcap.value=b.matcap)}function _(w,b){const M=e.get(b).light;w.referencePosition.value.setFromMatrixPosition(M.matrixWorld),w.nearDistance.value=M.shadow.camera.near,w.farDistance.value=M.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function F0e(t,e,n,i){let r={},s={},a=[];const o=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(M,E){const x=E.program;i.uniformBlockBinding(M,x)}function c(M,E){let x=r[M.id];x===void 0&&(y(M),x=d(M),r[M.id]=x,M.addEventListener("dispose",w));const T=E.program;i.updateUBOMapping(M,T);const k=e.render.frame;s[M.id]!==k&&(v(M),s[M.id]=k)}function d(M){const E=p();M.__bindingPointIndex=E;const x=t.createBuffer(),T=M.__size,k=M.usage;return t.bindBuffer(t.UNIFORM_BUFFER,x),t.bufferData(t.UNIFORM_BUFFER,T,k),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,E,x),x}function p(){for(let M=0;M<o;M++)if(a.indexOf(M)===-1)return a.push(M),M;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function v(M){const E=r[M.id],x=M.uniforms,T=M.__cache;t.bindBuffer(t.UNIFORM_BUFFER,E);for(let k=0,I=x.length;k<I;k++){const O=Array.isArray(x[k])?x[k]:[x[k]];for(let U=0,R=O.length;U<R;U++){const N=O[U];if(g(N,k,U,T)===!0){const $=N.__offset,J=Array.isArray(N.value)?N.value:[N.value];let Y=0;for(let H=0;H<J.length;H++){const B=J[H],X=_(B);typeof B=="number"||typeof B=="boolean"?(N.__data[0]=B,t.bufferSubData(t.UNIFORM_BUFFER,$+Y,N.__data)):B.isMatrix3?(N.__data[0]=B.elements[0],N.__data[1]=B.elements[1],N.__data[2]=B.elements[2],N.__data[3]=0,N.__data[4]=B.elements[3],N.__data[5]=B.elements[4],N.__data[6]=B.elements[5],N.__data[7]=0,N.__data[8]=B.elements[6],N.__data[9]=B.elements[7],N.__data[10]=B.elements[8],N.__data[11]=0):(B.toArray(N.__data,Y),Y+=X.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,$,N.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function g(M,E,x,T){const k=M.value,I=E+"_"+x;if(T[I]===void 0)return typeof k=="number"||typeof k=="boolean"?T[I]=k:T[I]=k.clone(),!0;{const O=T[I];if(typeof k=="number"||typeof k=="boolean"){if(O!==k)return T[I]=k,!0}else if(O.equals(k)===!1)return O.copy(k),!0}return!1}function y(M){const E=M.uniforms;let x=0;const T=16;for(let I=0,O=E.length;I<O;I++){const U=Array.isArray(E[I])?E[I]:[E[I]];for(let R=0,N=U.length;R<N;R++){const $=U[R],J=Array.isArray($.value)?$.value:[$.value];for(let Y=0,H=J.length;Y<H;Y++){const B=J[Y],X=_(B),q=x%T;q!==0&&T-q<X.boundary&&(x+=T-q),$.__data=new Float32Array(X.storage/Float32Array.BYTES_PER_ELEMENT),$.__offset=x,x+=X.storage}}}const k=x%T;return k>0&&(x+=T-k),M.__size=x,M.__cache={},this}function _(M){const E={boundary:0,storage:0};return typeof M=="number"||typeof M=="boolean"?(E.boundary=4,E.storage=4):M.isVector2?(E.boundary=8,E.storage=8):M.isVector3||M.isColor?(E.boundary=16,E.storage=12):M.isVector4?(E.boundary=16,E.storage=16):M.isMatrix3?(E.boundary=48,E.storage=48):M.isMatrix4?(E.boundary=64,E.storage=64):M.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",M),E}function w(M){const E=M.target;E.removeEventListener("dispose",w);const x=a.indexOf(E.__bindingPointIndex);a.splice(x,1),t.deleteBuffer(r[E.id]),delete r[E.id],delete s[E.id]}function b(){for(const M in r)t.deleteBuffer(r[M]);a=[],r={},s={}}return{bind:l,update:c,dispose:b}}class kP{constructor(e={}){const{canvas:n=Phe(),context:i=null,depth:r=!0,stencil:s=!0,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:p=!1}=e;this.isWebGLRenderer=!0;let v;i!==null?v=i.getContextAttributes().alpha:v=a;const g=new Uint32Array(4),y=new Int32Array(4);let _=null,w=null;const b=[],M=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Gi,this._useLegacyLights=!1,this.toneMapping=co,this.toneMappingExposure=1;const E=this;let x=!1,T=0,k=0,I=null,O=-1,U=null;const R=new hi,N=new hi;let $=null;const J=new xn(0);let Y=0,H=n.width,B=n.height,X=1,q=null,D=null;const V=new hi(0,0,H,B),ee=new hi(0,0,H,B);let ce=!1;const ae=new F_;let le=!1,ye=!1,Ee=null;const pe=new Zn,ue=new Pn,Me=new je,De={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function xe(){return I===null?X:1}let G=i;function He(me,Ue){for(let Ke=0;Ke<me.length;Ke++){const Qe=me[Ke],Se=n.getContext(Qe,Ue);if(Se!==null)return Se}return null}try{const me={alpha:!0,depth:r,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:d,failIfMajorPerformanceCaveat:p};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${I_}`),n.addEventListener("webglcontextlost",ot,!1),n.addEventListener("webglcontextrestored",ve,!1),n.addEventListener("webglcontextcreationerror",et,!1),G===null){const Ue=["webgl2","webgl","experimental-webgl"];if(E.isWebGL1Renderer===!0&&Ue.shift(),G=He(Ue,me),G===null)throw He(Ue)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&G instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),G.getShaderPrecisionFormat===void 0&&(G.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(me){throw console.error("THREE.WebGLRenderer: "+me.message),me}let Je,at,rt,it,qe,ne,se,ke,Be,Ve,Ae,Re,Xe,gt,nt,Lt,Ye,xt,Te,ze,de,be,Ie,yt;function Bt(){Je=new Gve(G),at=new Bve(G,Je,e),Je.init(at),be=new k0e(G,Je,at),rt=new T0e(G,Je,at),it=new qve(G),qe=new h0e,ne=new A0e(G,Je,rt,qe,at,be,it),se=new Vve(E),ke=new Hve(E),Be=new tpe(G,at),Ie=new Dve(G,Je,Be,at),Ve=new Wve(G,Be,it,Ie),Ae=new Zve(G,Ve,Be,it),Te=new Xve(G,at,ne),Lt=new Uve(qe),Re=new f0e(E,se,ke,Je,at,Ie,Lt),Xe=new D0e(E,qe),gt=new m0e,nt=new w0e(Je,at),xt=new Ove(E,se,ke,rt,Ae,v,l),Ye=new M0e(E,Ae,at),yt=new F0e(G,it,at,rt),ze=new Fve(G,Je,it,at),de=new Kve(G,Je,it,at),it.programs=Re.programs,E.capabilities=at,E.extensions=Je,E.properties=qe,E.renderLists=gt,E.shadowMap=Ye,E.state=rt,E.info=it}Bt();const Ce=new O0e(E,G);this.xr=Ce,this.getContext=function(){return G},this.getContextAttributes=function(){return G.getContextAttributes()},this.forceContextLoss=function(){const me=Je.get("WEBGL_lose_context");me&&me.loseContext()},this.forceContextRestore=function(){const me=Je.get("WEBGL_lose_context");me&&me.restoreContext()},this.getPixelRatio=function(){return X},this.setPixelRatio=function(me){me!==void 0&&(X=me,this.setSize(H,B,!1))},this.getSize=function(me){return me.set(H,B)},this.setSize=function(me,Ue,Ke=!0){if(Ce.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}H=me,B=Ue,n.width=Math.floor(me*X),n.height=Math.floor(Ue*X),Ke===!0&&(n.style.width=me+"px",n.style.height=Ue+"px"),this.setViewport(0,0,me,Ue)},this.getDrawingBufferSize=function(me){return me.set(H*X,B*X).floor()},this.setDrawingBufferSize=function(me,Ue,Ke){H=me,B=Ue,X=Ke,n.width=Math.floor(me*Ke),n.height=Math.floor(Ue*Ke),this.setViewport(0,0,me,Ue)},this.getCurrentViewport=function(me){return me.copy(R)},this.getViewport=function(me){return me.copy(V)},this.setViewport=function(me,Ue,Ke,Qe){me.isVector4?V.set(me.x,me.y,me.z,me.w):V.set(me,Ue,Ke,Qe),rt.viewport(R.copy(V).multiplyScalar(X).floor())},this.getScissor=function(me){return me.copy(ee)},this.setScissor=function(me,Ue,Ke,Qe){me.isVector4?ee.set(me.x,me.y,me.z,me.w):ee.set(me,Ue,Ke,Qe),rt.scissor(N.copy(ee).multiplyScalar(X).floor())},this.getScissorTest=function(){return ce},this.setScissorTest=function(me){rt.setScissorTest(ce=me)},this.setOpaqueSort=function(me){q=me},this.setTransparentSort=function(me){D=me},this.getClearColor=function(me){return me.copy(xt.getClearColor())},this.setClearColor=function(){xt.setClearColor.apply(xt,arguments)},this.getClearAlpha=function(){return xt.getClearAlpha()},this.setClearAlpha=function(){xt.setClearAlpha.apply(xt,arguments)},this.clear=function(me=!0,Ue=!0,Ke=!0){let Qe=0;if(me){let Se=!1;if(I!==null){const $e=I.texture.format;Se=$e===rP||$e===iP||$e===nP}if(Se){const $e=I.texture.type,mt=$e===fo||$e===so||$e===N_||$e===fl||$e===eP||$e===tP,kt=xt.getClearColor(),qt=xt.getClearAlpha(),Qt=kt.r,an=kt.g,ln=kt.b;mt?(g[0]=Qt,g[1]=an,g[2]=ln,g[3]=qt,G.clearBufferuiv(G.COLOR,0,g)):(y[0]=Qt,y[1]=an,y[2]=ln,y[3]=qt,G.clearBufferiv(G.COLOR,0,y))}else Qe|=G.COLOR_BUFFER_BIT}Ue&&(Qe|=G.DEPTH_BUFFER_BIT),Ke&&(Qe|=G.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),G.clear(Qe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",ot,!1),n.removeEventListener("webglcontextrestored",ve,!1),n.removeEventListener("webglcontextcreationerror",et,!1),gt.dispose(),nt.dispose(),qe.dispose(),se.dispose(),ke.dispose(),Ae.dispose(),Ie.dispose(),yt.dispose(),Re.dispose(),Ce.dispose(),Ce.removeEventListener("sessionstart",Qn),Ce.removeEventListener("sessionend",mn),Ee&&(Ee.dispose(),Ee=null),zn.stop()};function ot(me){me.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function ve(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const me=it.autoReset,Ue=Ye.enabled,Ke=Ye.autoUpdate,Qe=Ye.needsUpdate,Se=Ye.type;Bt(),it.autoReset=me,Ye.enabled=Ue,Ye.autoUpdate=Ke,Ye.needsUpdate=Qe,Ye.type=Se}function et(me){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",me.statusMessage)}function ut(me){const Ue=me.target;Ue.removeEventListener("dispose",ut),wt(Ue)}function wt(me){Ht(me),qe.remove(me)}function Ht(me){const Ue=qe.get(me).programs;Ue!==void 0&&(Ue.forEach(function(Ke){Re.releaseProgram(Ke)}),me.isShaderMaterial&&Re.releaseShaderCache(me))}this.renderBufferDirect=function(me,Ue,Ke,Qe,Se,$e){Ue===null&&(Ue=De);const mt=Se.isMesh&&Se.matrixWorld.determinant()<0,kt=dn(me,Ue,Ke,Qe,Se);rt.setMaterial(Qe,mt);let qt=Ke.index,Qt=1;if(Qe.wireframe===!0){if(qt=Ve.getWireframeAttribute(Ke),qt===void 0)return;Qt=2}const an=Ke.drawRange,ln=Ke.attributes.position;let $n=an.start*Qt,Ei=(an.start+an.count)*Qt;$e!==null&&($n=Math.max($n,$e.start*Qt),Ei=Math.min(Ei,($e.start+$e.count)*Qt)),qt!==null?($n=Math.max($n,0),Ei=Math.min(Ei,qt.count)):ln!=null&&($n=Math.max($n,0),Ei=Math.min(Ei,ln.count));const In=Ei-$n;if(In<0||In===1/0)return;Ie.setup(Se,Qe,kt,Ke,qt);let Ci,On=ze;if(qt!==null&&(Ci=Be.get(qt),On=de,On.setIndex(Ci)),Se.isMesh)Qe.wireframe===!0?(rt.setLineWidth(Qe.wireframeLinewidth*xe()),On.setMode(G.LINES)):On.setMode(G.TRIANGLES);else if(Se.isLine){let un=Qe.linewidth;un===void 0&&(un=1),rt.setLineWidth(un*xe()),Se.isLineSegments?On.setMode(G.LINES):Se.isLineLoop?On.setMode(G.LINE_LOOP):On.setMode(G.LINE_STRIP)}else Se.isPoints?On.setMode(G.POINTS):Se.isSprite&&On.setMode(G.TRIANGLES);if(Se.isBatchedMesh)On.renderMultiDraw(Se._multiDrawStarts,Se._multiDrawCounts,Se._multiDrawCount);else if(Se.isInstancedMesh)On.renderInstances($n,In,Se.count);else if(Ke.isInstancedBufferGeometry){const un=Ke._maxInstanceCount!==void 0?Ke._maxInstanceCount:1/0,pa=Math.min(Ke.instanceCount,un);On.renderInstances($n,In,pa)}else On.render($n,In)};function pn(me,Ue,Ke){me.transparent===!0&&me.side===Js&&me.forceSinglePass===!1?(me.side=Nr,me.needsUpdate=!0,tt(me,Ue,Ke),me.side=Co,me.needsUpdate=!0,tt(me,Ue,Ke),me.side=Js):tt(me,Ue,Ke)}this.compile=function(me,Ue,Ke=null){Ke===null&&(Ke=me),w=nt.get(Ke),w.init(),M.push(w),Ke.traverseVisible(function(Se){Se.isLight&&Se.layers.test(Ue.layers)&&(w.pushLight(Se),Se.castShadow&&w.pushShadow(Se))}),me!==Ke&&me.traverseVisible(function(Se){Se.isLight&&Se.layers.test(Ue.layers)&&(w.pushLight(Se),Se.castShadow&&w.pushShadow(Se))}),w.setupLights(E._useLegacyLights);const Qe=new Set;return me.traverse(function(Se){const $e=Se.material;if($e)if(Array.isArray($e))for(let mt=0;mt<$e.length;mt++){const kt=$e[mt];pn(kt,Ke,Se),Qe.add(kt)}else pn($e,Ke,Se),Qe.add($e)}),M.pop(),w=null,Qe},this.compileAsync=function(me,Ue,Ke=null){const Qe=this.compile(me,Ue,Ke);return new Promise(Se=>{function $e(){if(Qe.forEach(function(mt){qe.get(mt).currentProgram.isReady()&&Qe.delete(mt)}),Qe.size===0){Se(me);return}setTimeout($e,10)}Je.get("KHR_parallel_shader_compile")!==null?$e():setTimeout($e,10)})};let ht=null;function Rn(me){ht&&ht(me)}function Qn(){zn.stop()}function mn(){zn.start()}const zn=new wP;zn.setAnimationLoop(Rn),typeof self<"u"&&zn.setContext(self),this.setAnimationLoop=function(me){ht=me,Ce.setAnimationLoop(me),me===null?zn.stop():zn.start()},Ce.addEventListener("sessionstart",Qn),Ce.addEventListener("sessionend",mn),this.render=function(me,Ue){if(Ue!==void 0&&Ue.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(x===!0)return;me.matrixWorldAutoUpdate===!0&&me.updateMatrixWorld(),Ue.parent===null&&Ue.matrixWorldAutoUpdate===!0&&Ue.updateMatrixWorld(),Ce.enabled===!0&&Ce.isPresenting===!0&&(Ce.cameraAutoUpdate===!0&&Ce.updateCamera(Ue),Ue=Ce.getCamera()),me.isScene===!0&&me.onBeforeRender(E,me,Ue,I),w=nt.get(me,M.length),w.init(),M.push(w),pe.multiplyMatrices(Ue.projectionMatrix,Ue.matrixWorldInverse),ae.setFromProjectionMatrix(pe),ye=this.localClippingEnabled,le=Lt.init(this.clippingPlanes,ye),_=gt.get(me,b.length),_.init(),b.push(_),fi(me,Ue,0,E.sortObjects),_.finish(),E.sortObjects===!0&&_.sort(q,D),this.info.render.frame++,le===!0&&Lt.beginShadows();const Ke=w.state.shadowsArray;if(Ye.render(Ke,me,Ue),le===!0&&Lt.endShadows(),this.info.autoReset===!0&&this.info.reset(),(Ce.enabled===!1||Ce.isPresenting===!1||Ce.hasDepthSensing()===!1)&&xt.render(_,me),w.setupLights(E._useLegacyLights),Ue.isArrayCamera){const Qe=Ue.cameras;for(let Se=0,$e=Qe.length;Se<$e;Se++){const mt=Qe[Se];_s(_,me,mt,mt.viewport)}}else _s(_,me,Ue);I!==null&&(ne.updateMultisampleRenderTarget(I),ne.updateRenderTargetMipmap(I)),me.isScene===!0&&me.onAfterRender(E,me,Ue),Ie.resetDefaultState(),O=-1,U=null,M.pop(),M.length>0?w=M[M.length-1]:w=null,b.pop(),b.length>0?_=b[b.length-1]:_=null};function fi(me,Ue,Ke,Qe){if(me.visible===!1)return;if(me.layers.test(Ue.layers)){if(me.isGroup)Ke=me.renderOrder;else if(me.isLOD)me.autoUpdate===!0&&me.update(Ue);else if(me.isLight)w.pushLight(me),me.castShadow&&w.pushShadow(me);else if(me.isSprite){if(!me.frustumCulled||ae.intersectsSprite(me)){Qe&&Me.setFromMatrixPosition(me.matrixWorld).applyMatrix4(pe);const mt=Ae.update(me),kt=me.material;kt.visible&&_.push(me,mt,kt,Ke,Me.z,null)}}else if((me.isMesh||me.isLine||me.isPoints)&&(!me.frustumCulled||ae.intersectsObject(me))){const mt=Ae.update(me),kt=me.material;if(Qe&&(me.boundingSphere!==void 0?(me.boundingSphere===null&&me.computeBoundingSphere(),Me.copy(me.boundingSphere.center)):(mt.boundingSphere===null&&mt.computeBoundingSphere(),Me.copy(mt.boundingSphere.center)),Me.applyMatrix4(me.matrixWorld).applyMatrix4(pe)),Array.isArray(kt)){const qt=mt.groups;for(let Qt=0,an=qt.length;Qt<an;Qt++){const ln=qt[Qt],$n=kt[ln.materialIndex];$n&&$n.visible&&_.push(me,mt,$n,Ke,Me.z,ln)}}else kt.visible&&_.push(me,mt,kt,Ke,Me.z,null)}}const $e=me.children;for(let mt=0,kt=$e.length;mt<kt;mt++)fi($e[mt],Ue,Ke,Qe)}function _s(me,Ue,Ke,Qe){const Se=me.opaque,$e=me.transmissive,mt=me.transparent;w.setupLightsView(Ke),le===!0&&Lt.setGlobalState(E.clippingPlanes,Ke),$e.length>0&&lr(Se,$e,Ue,Ke),Qe&&rt.viewport(R.copy(Qe)),Se.length>0&&Ur(Se,Ue,Ke),$e.length>0&&Ur($e,Ue,Ke),mt.length>0&&Ur(mt,Ue,Ke),rt.buffers.depth.setTest(!0),rt.buffers.depth.setMask(!0),rt.buffers.color.setMask(!0),rt.setPolygonOffset(!1)}function lr(me,Ue,Ke,Qe){if((Ke.isScene===!0?Ke.overrideMaterial:null)!==null)return;const $e=at.isWebGL2;Ee===null&&(Ee=new Al(1,1,{generateMipmaps:!0,type:Je.has("EXT_color_buffer_half_float")?xd:fo,minFilter:sl,samples:$e?4:0})),E.getDrawingBufferSize(ue),$e?Ee.setSize(ue.x,ue.y):Ee.setSize(h0(ue.x),h0(ue.y));const mt=E.getRenderTarget();E.setRenderTarget(Ee),E.getClearColor(J),Y=E.getClearAlpha(),Y<1&&E.setClearColor(16777215,.5),E.clear();const kt=E.toneMapping;E.toneMapping=co,Ur(me,Ke,Qe),ne.updateMultisampleRenderTarget(Ee),ne.updateRenderTargetMipmap(Ee);let qt=!1;for(let Qt=0,an=Ue.length;Qt<an;Qt++){const ln=Ue[Qt],$n=ln.object,Ei=ln.geometry,In=ln.material,Ci=ln.group;if(In.side===Js&&$n.layers.test(Qe.layers)){const On=In.side;In.side=Nr,In.needsUpdate=!0,mi($n,Ke,Qe,Ei,In,Ci),In.side=On,In.needsUpdate=!0,qt=!0}}qt===!0&&(ne.updateMultisampleRenderTarget(Ee),ne.updateRenderTargetMipmap(Ee)),E.setRenderTarget(mt),E.setClearColor(J,Y),E.toneMapping=kt}function Ur(me,Ue,Ke){const Qe=Ue.isScene===!0?Ue.overrideMaterial:null;for(let Se=0,$e=me.length;Se<$e;Se++){const mt=me[Se],kt=mt.object,qt=mt.geometry,Qt=Qe===null?mt.material:Qe,an=mt.group;kt.layers.test(Ke.layers)&&mi(kt,Ue,Ke,qt,Qt,an)}}function mi(me,Ue,Ke,Qe,Se,$e){me.onBeforeRender(E,Ue,Ke,Qe,Se,$e),me.modelViewMatrix.multiplyMatrices(Ke.matrixWorldInverse,me.matrixWorld),me.normalMatrix.getNormalMatrix(me.modelViewMatrix),Se.onBeforeRender(E,Ue,Ke,Qe,me,$e),Se.transparent===!0&&Se.side===Js&&Se.forceSinglePass===!1?(Se.side=Nr,Se.needsUpdate=!0,E.renderBufferDirect(Ke,Ue,Qe,Se,me,$e),Se.side=Co,Se.needsUpdate=!0,E.renderBufferDirect(Ke,Ue,Qe,Se,me,$e),Se.side=Js):E.renderBufferDirect(Ke,Ue,Qe,Se,me,$e),me.onAfterRender(E,Ue,Ke,Qe,Se,$e)}function tt(me,Ue,Ke){Ue.isScene!==!0&&(Ue=De);const Qe=qe.get(me),Se=w.state.lights,$e=w.state.shadowsArray,mt=Se.state.version,kt=Re.getParameters(me,Se.state,$e,Ue,Ke),qt=Re.getProgramCacheKey(kt);let Qt=Qe.programs;Qe.environment=me.isMeshStandardMaterial?Ue.environment:null,Qe.fog=Ue.fog,Qe.envMap=(me.isMeshStandardMaterial?ke:se).get(me.envMap||Qe.environment),Qt===void 0&&(me.addEventListener("dispose",ut),Qt=new Map,Qe.programs=Qt);let an=Qt.get(qt);if(an!==void 0){if(Qe.currentProgram===an&&Qe.lightsStateVersion===mt)return fn(me,kt),an}else kt.uniforms=Re.getUniforms(me),me.onBuild(Ke,kt,E),me.onBeforeCompile(kt,E),an=Re.acquireProgram(kt,qt),Qt.set(qt,an),Qe.uniforms=kt.uniforms;const ln=Qe.uniforms;return(!me.isShaderMaterial&&!me.isRawShaderMaterial||me.clipping===!0)&&(ln.clippingPlanes=Lt.uniform),fn(me,kt),Qe.needsLights=ai(me),Qe.lightsStateVersion=mt,Qe.needsLights&&(ln.ambientLightColor.value=Se.state.ambient,ln.lightProbe.value=Se.state.probe,ln.directionalLights.value=Se.state.directional,ln.directionalLightShadows.value=Se.state.directionalShadow,ln.spotLights.value=Se.state.spot,ln.spotLightShadows.value=Se.state.spotShadow,ln.rectAreaLights.value=Se.state.rectArea,ln.ltc_1.value=Se.state.rectAreaLTC1,ln.ltc_2.value=Se.state.rectAreaLTC2,ln.pointLights.value=Se.state.point,ln.pointLightShadows.value=Se.state.pointShadow,ln.hemisphereLights.value=Se.state.hemi,ln.directionalShadowMap.value=Se.state.directionalShadowMap,ln.directionalShadowMatrix.value=Se.state.directionalShadowMatrix,ln.spotShadowMap.value=Se.state.spotShadowMap,ln.spotLightMatrix.value=Se.state.spotLightMatrix,ln.spotLightMap.value=Se.state.spotLightMap,ln.pointShadowMap.value=Se.state.pointShadowMap,ln.pointShadowMatrix.value=Se.state.pointShadowMatrix),Qe.currentProgram=an,Qe.uniformsList=null,an}function It(me){if(me.uniformsList===null){const Ue=me.currentProgram.getUniforms();me.uniformsList=yh.seqWithValue(Ue.seq,me.uniforms)}return me.uniformsList}function fn(me,Ue){const Ke=qe.get(me);Ke.outputColorSpace=Ue.outputColorSpace,Ke.batching=Ue.batching,Ke.instancing=Ue.instancing,Ke.instancingColor=Ue.instancingColor,Ke.skinning=Ue.skinning,Ke.morphTargets=Ue.morphTargets,Ke.morphNormals=Ue.morphNormals,Ke.morphColors=Ue.morphColors,Ke.morphTargetsCount=Ue.morphTargetsCount,Ke.numClippingPlanes=Ue.numClippingPlanes,Ke.numIntersection=Ue.numClipIntersection,Ke.vertexAlphas=Ue.vertexAlphas,Ke.vertexTangents=Ue.vertexTangents,Ke.toneMapping=Ue.toneMapping}function dn(me,Ue,Ke,Qe,Se){Ue.isScene!==!0&&(Ue=De),ne.resetTextureUnits();const $e=Ue.fog,mt=Qe.isMeshStandardMaterial?Ue.environment:null,kt=I===null?E.outputColorSpace:I.isXRRenderTarget===!0?I.texture.colorSpace:Na,qt=(Qe.isMeshStandardMaterial?ke:se).get(Qe.envMap||mt),Qt=Qe.vertexColors===!0&&!!Ke.attributes.color&&Ke.attributes.color.itemSize===4,an=!!Ke.attributes.tangent&&(!!Qe.normalMap||Qe.anisotropy>0),ln=!!Ke.morphAttributes.position,$n=!!Ke.morphAttributes.normal,Ei=!!Ke.morphAttributes.color;let In=co;Qe.toneMapped&&(I===null||I.isXRRenderTarget===!0)&&(In=E.toneMapping);const Ci=Ke.morphAttributes.position||Ke.morphAttributes.normal||Ke.morphAttributes.color,On=Ci!==void 0?Ci.length:0,un=qe.get(Qe),pa=w.state.lights;if(le===!0&&(ye===!0||me!==U)){const Hi=me===U&&Qe.id===O;Lt.setState(Qe,me,Hi)}let Wn=!1;Qe.version===un.__version?(un.needsLights&&un.lightsStateVersion!==pa.state.version||un.outputColorSpace!==kt||Se.isBatchedMesh&&un.batching===!1||!Se.isBatchedMesh&&un.batching===!0||Se.isInstancedMesh&&un.instancing===!1||!Se.isInstancedMesh&&un.instancing===!0||Se.isSkinnedMesh&&un.skinning===!1||!Se.isSkinnedMesh&&un.skinning===!0||Se.isInstancedMesh&&un.instancingColor===!0&&Se.instanceColor===null||Se.isInstancedMesh&&un.instancingColor===!1&&Se.instanceColor!==null||un.envMap!==qt||Qe.fog===!0&&un.fog!==$e||un.numClippingPlanes!==void 0&&(un.numClippingPlanes!==Lt.numPlanes||un.numIntersection!==Lt.numIntersection)||un.vertexAlphas!==Qt||un.vertexTangents!==an||un.morphTargets!==ln||un.morphNormals!==$n||un.morphColors!==Ei||un.toneMapping!==In||at.isWebGL2===!0&&un.morphTargetsCount!==On)&&(Wn=!0):(Wn=!0,un.__version=Qe.version);let bs=un.currentProgram;Wn===!0&&(bs=tt(Qe,Ue,Se));let Ol=!1,Zr=!1,za=!1;const oi=bs.getUniforms(),Ii=un.uniforms;if(rt.useProgram(bs.program)&&(Ol=!0,Zr=!0,za=!0),Qe.id!==O&&(O=Qe.id,Zr=!0),Ol||U!==me){oi.setValue(G,"projectionMatrix",me.projectionMatrix),oi.setValue(G,"viewMatrix",me.matrixWorldInverse);const Hi=oi.map.cameraPosition;Hi!==void 0&&Hi.setValue(G,Me.setFromMatrixPosition(me.matrixWorld)),at.logarithmicDepthBuffer&&oi.setValue(G,"logDepthBufFC",2/(Math.log(me.far+1)/Math.LN2)),(Qe.isMeshPhongMaterial||Qe.isMeshToonMaterial||Qe.isMeshLambertMaterial||Qe.isMeshBasicMaterial||Qe.isMeshStandardMaterial||Qe.isShaderMaterial)&&oi.setValue(G,"isOrthographic",me.isOrthographicCamera===!0),U!==me&&(U=me,Zr=!0,za=!0)}if(Se.isSkinnedMesh){oi.setOptional(G,Se,"bindMatrix"),oi.setOptional(G,Se,"bindMatrixInverse");const Hi=Se.skeleton;Hi&&(at.floatVertexTextures?(Hi.boneTexture===null&&Hi.computeBoneTexture(),oi.setValue(G,"boneTexture",Hi.boneTexture,ne)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}Se.isBatchedMesh&&(oi.setOptional(G,Se,"batchingTexture"),oi.setValue(G,"batchingTexture",Se._matricesTexture,ne));const wr=Ke.morphAttributes;if((wr.position!==void 0||wr.normal!==void 0||wr.color!==void 0&&at.isWebGL2===!0)&&Te.update(Se,Ke,bs),(Zr||un.receiveShadow!==Se.receiveShadow)&&(un.receiveShadow=Se.receiveShadow,oi.setValue(G,"receiveShadow",Se.receiveShadow)),Qe.isMeshGouraudMaterial&&Qe.envMap!==null&&(Ii.envMap.value=qt,Ii.flipEnvMap.value=qt.isCubeTexture&&qt.isRenderTargetTexture===!1?-1:1),Zr&&(oi.setValue(G,"toneMappingExposure",E.toneMappingExposure),un.needsLights&&Ri(Ii,za),$e&&Qe.fog===!0&&Xe.refreshFogUniforms(Ii,$e),Xe.refreshMaterialUniforms(Ii,Qe,X,B,Ee),yh.upload(G,It(un),Ii,ne)),Qe.isShaderMaterial&&Qe.uniformsNeedUpdate===!0&&(yh.upload(G,It(un),Ii,ne),Qe.uniformsNeedUpdate=!1),Qe.isSpriteMaterial&&oi.setValue(G,"center",Se.center),oi.setValue(G,"modelViewMatrix",Se.modelViewMatrix),oi.setValue(G,"normalMatrix",Se.normalMatrix),oi.setValue(G,"modelMatrix",Se.matrixWorld),Qe.isShaderMaterial||Qe.isRawShaderMaterial){const Hi=Qe.uniformsGroups;for(let Jr=0,wc=Hi.length;Jr<wc;Jr++)if(at.isWebGL2){const Ro=Hi[Jr];yt.update(Ro,bs),yt.bind(Ro,bs)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return bs}function Ri(me,Ue){me.ambientLightColor.needsUpdate=Ue,me.lightProbe.needsUpdate=Ue,me.directionalLights.needsUpdate=Ue,me.directionalLightShadows.needsUpdate=Ue,me.pointLights.needsUpdate=Ue,me.pointLightShadows.needsUpdate=Ue,me.spotLights.needsUpdate=Ue,me.spotLightShadows.needsUpdate=Ue,me.rectAreaLights.needsUpdate=Ue,me.hemisphereLights.needsUpdate=Ue}function ai(me){return me.isMeshLambertMaterial||me.isMeshToonMaterial||me.isMeshPhongMaterial||me.isMeshStandardMaterial||me.isShadowMaterial||me.isShaderMaterial&&me.lights===!0}this.getActiveCubeFace=function(){return T},this.getActiveMipmapLevel=function(){return k},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(me,Ue,Ke){qe.get(me.texture).__webglTexture=Ue,qe.get(me.depthTexture).__webglTexture=Ke;const Qe=qe.get(me);Qe.__hasExternalTextures=!0,Qe.__hasExternalTextures&&(Qe.__autoAllocateDepthBuffer=Ke===void 0,Qe.__autoAllocateDepthBuffer||Je.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Qe.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(me,Ue){const Ke=qe.get(me);Ke.__webglFramebuffer=Ue,Ke.__useDefaultFramebuffer=Ue===void 0},this.setRenderTarget=function(me,Ue=0,Ke=0){I=me,T=Ue,k=Ke;let Qe=!0,Se=null,$e=!1,mt=!1;if(me){const qt=qe.get(me);qt.__useDefaultFramebuffer!==void 0?(rt.bindFramebuffer(G.FRAMEBUFFER,null),Qe=!1):qt.__webglFramebuffer===void 0?ne.setupRenderTarget(me):qt.__hasExternalTextures&&ne.rebindTextures(me,qe.get(me.texture).__webglTexture,qe.get(me.depthTexture).__webglTexture);const Qt=me.texture;(Qt.isData3DTexture||Qt.isDataArrayTexture||Qt.isCompressedArrayTexture)&&(mt=!0);const an=qe.get(me).__webglFramebuffer;me.isWebGLCubeRenderTarget?(Array.isArray(an[Ue])?Se=an[Ue][Ke]:Se=an[Ue],$e=!0):at.isWebGL2&&me.samples>0&&ne.useMultisampledRTT(me)===!1?Se=qe.get(me).__webglMultisampledFramebuffer:Array.isArray(an)?Se=an[Ke]:Se=an,R.copy(me.viewport),N.copy(me.scissor),$=me.scissorTest}else R.copy(V).multiplyScalar(X).floor(),N.copy(ee).multiplyScalar(X).floor(),$=ce;if(rt.bindFramebuffer(G.FRAMEBUFFER,Se)&&at.drawBuffers&&Qe&&rt.drawBuffers(me,Se),rt.viewport(R),rt.scissor(N),rt.setScissorTest($),$e){const qt=qe.get(me.texture);G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,qt.__webglTexture,Ke)}else if(mt){const qt=qe.get(me.texture),Qt=Ue||0;G.framebufferTextureLayer(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,qt.__webglTexture,Ke||0,Qt)}O=-1},this.readRenderTargetPixels=function(me,Ue,Ke,Qe,Se,$e,mt){if(!(me&&me.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let kt=qe.get(me).__webglFramebuffer;if(me.isWebGLCubeRenderTarget&&mt!==void 0&&(kt=kt[mt]),kt){rt.bindFramebuffer(G.FRAMEBUFFER,kt);try{const qt=me.texture,Qt=qt.format,an=qt.type;if(Qt!==Rs&&be.convert(Qt)!==G.getParameter(G.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const ln=an===xd&&(Je.has("EXT_color_buffer_half_float")||at.isWebGL2&&Je.has("EXT_color_buffer_float"));if(an!==fo&&be.convert(an)!==G.getParameter(G.IMPLEMENTATION_COLOR_READ_TYPE)&&!(an===Aa&&(at.isWebGL2||Je.has("OES_texture_float")||Je.has("WEBGL_color_buffer_float")))&&!ln){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ue>=0&&Ue<=me.width-Qe&&Ke>=0&&Ke<=me.height-Se&&G.readPixels(Ue,Ke,Qe,Se,be.convert(Qt),be.convert(an),$e)}finally{const qt=I!==null?qe.get(I).__webglFramebuffer:null;rt.bindFramebuffer(G.FRAMEBUFFER,qt)}}},this.copyFramebufferToTexture=function(me,Ue,Ke=0){const Qe=Math.pow(2,-Ke),Se=Math.floor(Ue.image.width*Qe),$e=Math.floor(Ue.image.height*Qe);ne.setTexture2D(Ue,0),G.copyTexSubImage2D(G.TEXTURE_2D,Ke,0,0,me.x,me.y,Se,$e),rt.unbindTexture()},this.copyTextureToTexture=function(me,Ue,Ke,Qe=0){const Se=Ue.image.width,$e=Ue.image.height,mt=be.convert(Ke.format),kt=be.convert(Ke.type);ne.setTexture2D(Ke,0),G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,Ke.flipY),G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ke.premultiplyAlpha),G.pixelStorei(G.UNPACK_ALIGNMENT,Ke.unpackAlignment),Ue.isDataTexture?G.texSubImage2D(G.TEXTURE_2D,Qe,me.x,me.y,Se,$e,mt,kt,Ue.image.data):Ue.isCompressedTexture?G.compressedTexSubImage2D(G.TEXTURE_2D,Qe,me.x,me.y,Ue.mipmaps[0].width,Ue.mipmaps[0].height,mt,Ue.mipmaps[0].data):G.texSubImage2D(G.TEXTURE_2D,Qe,me.x,me.y,mt,kt,Ue.image),Qe===0&&Ke.generateMipmaps&&G.generateMipmap(G.TEXTURE_2D),rt.unbindTexture()},this.copyTextureToTexture3D=function(me,Ue,Ke,Qe,Se=0){if(E.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const $e=me.max.x-me.min.x+1,mt=me.max.y-me.min.y+1,kt=me.max.z-me.min.z+1,qt=be.convert(Qe.format),Qt=be.convert(Qe.type);let an;if(Qe.isData3DTexture)ne.setTexture3D(Qe,0),an=G.TEXTURE_3D;else if(Qe.isDataArrayTexture||Qe.isCompressedArrayTexture)ne.setTexture2DArray(Qe,0),an=G.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,Qe.flipY),G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Qe.premultiplyAlpha),G.pixelStorei(G.UNPACK_ALIGNMENT,Qe.unpackAlignment);const ln=G.getParameter(G.UNPACK_ROW_LENGTH),$n=G.getParameter(G.UNPACK_IMAGE_HEIGHT),Ei=G.getParameter(G.UNPACK_SKIP_PIXELS),In=G.getParameter(G.UNPACK_SKIP_ROWS),Ci=G.getParameter(G.UNPACK_SKIP_IMAGES),On=Ke.isCompressedTexture?Ke.mipmaps[Se]:Ke.image;G.pixelStorei(G.UNPACK_ROW_LENGTH,On.width),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,On.height),G.pixelStorei(G.UNPACK_SKIP_PIXELS,me.min.x),G.pixelStorei(G.UNPACK_SKIP_ROWS,me.min.y),G.pixelStorei(G.UNPACK_SKIP_IMAGES,me.min.z),Ke.isDataTexture||Ke.isData3DTexture?G.texSubImage3D(an,Se,Ue.x,Ue.y,Ue.z,$e,mt,kt,qt,Qt,On.data):Ke.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),G.compressedTexSubImage3D(an,Se,Ue.x,Ue.y,Ue.z,$e,mt,kt,qt,On.data)):G.texSubImage3D(an,Se,Ue.x,Ue.y,Ue.z,$e,mt,kt,qt,Qt,On),G.pixelStorei(G.UNPACK_ROW_LENGTH,ln),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,$n),G.pixelStorei(G.UNPACK_SKIP_PIXELS,Ei),G.pixelStorei(G.UNPACK_SKIP_ROWS,In),G.pixelStorei(G.UNPACK_SKIP_IMAGES,Ci),Se===0&&Qe.generateMipmaps&&G.generateMipmap(an),rt.unbindTexture()},this.initTexture=function(me){me.isCubeTexture?ne.setTextureCube(me,0):me.isData3DTexture?ne.setTexture3D(me,0):me.isDataArrayTexture||me.isCompressedArrayTexture?ne.setTexture2DArray(me,0):ne.setTexture2D(me,0),rt.unbindTexture()},this.resetState=function(){T=0,k=0,I=null,rt.reset(),Ie.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ka}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===O_?"display-p3":"srgb",n.unpackColorSpace=Bn.workingColorSpace===zp?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Gi?pl:aP}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===pl?Gi:Na}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class B0e extends kP{}B0e.prototype.isWebGL1Renderer=!0;class U0e extends Ki{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class U_ extends gc{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new xn(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const dC=new je,fC=new je,hC=new Zn,Cv=new hP,Xf=new $p;class V0e extends Ki{constructor(e=new ys,n=new U_){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let r=1,s=n.count;r<s;r++)dC.fromBufferAttribute(n,r-1),fC.fromBufferAttribute(n,r),i[r]=i[r-1],i[r]+=dC.distanceTo(fC);e.setAttribute("lineDistance",new sr(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Xf.copy(i.boundingSphere),Xf.applyMatrix4(r),Xf.radius+=s,e.ray.intersectsSphere(Xf)===!1)return;hC.copy(r).invert(),Cv.copy(e.ray).applyMatrix4(hC);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=new je,d=new je,p=new je,v=new je,g=this.isLineSegments?2:1,y=i.index,w=i.attributes.position;if(y!==null){const b=Math.max(0,a.start),M=Math.min(y.count,a.start+a.count);for(let E=b,x=M-1;E<x;E+=g){const T=y.getX(E),k=y.getX(E+1);if(c.fromBufferAttribute(w,T),d.fromBufferAttribute(w,k),Cv.distanceSqToSegment(c,d,v,p)>l)continue;v.applyMatrix4(this.matrixWorld);const O=e.ray.origin.distanceTo(v);O<e.near||O>e.far||n.push({distance:O,point:p.clone().applyMatrix4(this.matrixWorld),index:E,face:null,faceIndex:null,object:this})}}else{const b=Math.max(0,a.start),M=Math.min(w.count,a.start+a.count);for(let E=b,x=M-1;E<x;E+=g){if(c.fromBufferAttribute(w,E),d.fromBufferAttribute(w,E+1),Cv.distanceSqToSegment(c,d,v,p)>l)continue;v.applyMatrix4(this.matrixWorld);const k=e.ray.origin.distanceTo(v);k<e.near||k>e.far||n.push({distance:k,point:p.clone().applyMatrix4(this.matrixWorld),index:E,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}const pC=new je,mC=new je;class PP extends V0e{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let r=0,s=n.count;r<s;r+=2)pC.fromBufferAttribute(n,r),mC.fromBufferAttribute(n,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+pC.distanceTo(mC);e.setAttribute("lineDistance",new sr(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class V_ extends ys{constructor(e=1,n=32,i=16,r=0,s=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:r,phiLength:s,thetaStart:a,thetaLength:o},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const l=Math.min(a+o,Math.PI);let c=0;const d=[],p=new je,v=new je,g=[],y=[],_=[],w=[];for(let b=0;b<=i;b++){const M=[],E=b/i;let x=0;b===0&&a===0?x=.5/n:b===i&&l===Math.PI&&(x=-.5/n);for(let T=0;T<=n;T++){const k=T/n;p.x=-e*Math.cos(r+k*s)*Math.sin(a+E*o),p.y=e*Math.cos(a+E*o),p.z=e*Math.sin(r+k*s)*Math.sin(a+E*o),y.push(p.x,p.y,p.z),v.copy(p).normalize(),_.push(v.x,v.y,v.z),w.push(k+x,1-E),M.push(c++)}d.push(M)}for(let b=0;b<i;b++)for(let M=0;M<n;M++){const E=d[b][M+1],x=d[b][M],T=d[b+1][M],k=d[b+1][M+1];(b!==0||a>0)&&g.push(E,x,k),(b!==i-1||l<Math.PI)&&g.push(x,T,k)}this.setIndex(g),this.setAttribute("position",new sr(y,3)),this.setAttribute("normal",new sr(_,3)),this.setAttribute("uv",new sr(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new V_(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class z0e extends gc{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new xn(16777215),this.specular=new xn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oP,this.normalScale=new Pn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=L_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class $0e extends Ki{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new xn(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}const xv=new Zn,vC=new je,gC=new je;class H0e{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Pn(512,512),this.map=null,this.mapPass=null,this.matrix=new Zn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new F_,this._frameExtents=new Pn(1,1),this._viewportCount=1,this._viewports=[new hi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;vC.setFromMatrixPosition(e.matrixWorld),n.position.copy(vC),gC.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(gC),n.updateMatrixWorld(),xv.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(xv),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(xv)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class G0e extends H0e{constructor(){super(new SP(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class W0e extends $0e{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ki.DEFAULT_UP),this.updateMatrix(),this.target=new Ki,this.shadow=new G0e}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class K0e extends PP{constructor(e=10,n=10,i=4473924,r=8947848){i=new xn(i),r=new xn(r);const s=n/2,a=e/n,o=e/2,l=[],c=[];for(let v=0,g=0,y=-o;v<=n;v++,y+=a){l.push(-o,0,y,o,0,y),l.push(y,0,-o,y,0,o);const _=v===s?i:r;_.toArray(c,g),g+=3,_.toArray(c,g),g+=3,_.toArray(c,g),g+=3,_.toArray(c,g),g+=3}const d=new ys;d.setAttribute("position",new sr(l,3)),d.setAttribute("color",new sr(c,3));const p=new U_({vertexColors:!0,toneMapped:!1});super(d,p),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class q0e extends PP{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new ys;r.setAttribute("position",new sr(n,3)),r.setAttribute("color",new sr(i,3));const s=new U_({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,n,i){const r=new xn,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(n),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:I_}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=I_);class Y0e extends ys{constructor(e=50,n=10,i=!0,r=!0,s=!0,a=!0,o=!0){const l=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,3,16,17,18,7,19,20,21,11,22,23,24,15,25,26,27,18,28,29,30,21,31,32,33,24,34,35,36,27,37,38,39,30,40,41,0,33,42,43,4,36,44,45,8,39,46,47,12,12,13,14,15,48,49,50,51,52,53,54,55,56,57,58,59,15,25,26,27,51,60,61,62,55,63,64,65,59,66,67,68,27,37,38,39,62,69,70,71,65,72,73,74,68,75,76,77,39,46,47,12,71,78,79,48,74,80,81,52,77,82,83,56,56,57,58,59,84,85,86,87,88,89,90,91,92,93,94,95,59,66,67,68,87,96,97,98,91,99,100,101,95,102,103,104,68,75,76,77,98,105,106,107,101,108,109,110,104,111,112,113,77,82,83,56,107,114,115,84,110,116,117,88,113,118,119,92,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,123,136,137,120,127,138,139,124,131,140,141,128,135,142,143,132,132,133,134,135,144,145,146,147,148,149,150,151,68,152,153,154,135,142,143,132,147,155,156,144,151,157,158,148,154,159,160,68,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,164,177,178,161,168,179,180,165,172,181,182,169,176,183,184,173,173,174,175,176,185,186,187,188,189,190,191,192,193,194,195,196,176,183,184,173,188,197,198,185,192,199,200,189,196,201,202,193,203,203,203,203,204,205,206,207,208,208,208,208,209,210,211,212,203,203,203,203,207,213,214,215,208,208,208,208,212,216,217,218,203,203,203,203,215,219,220,221,208,208,208,208,218,222,223,224,203,203,203,203,221,225,226,204,208,208,208,208,224,227,228,209,209,210,211,212,229,230,231,232,233,234,235,236,237,238,239,240,212,216,217,218,232,241,242,243,236,244,245,246,240,247,248,249,218,222,223,224,243,250,251,252,246,253,254,255,249,256,257,258,224,227,228,209,252,259,260,229,255,261,262,233,258,263,264,237,265,265,265,265,266,267,268,269,270,271,272,273,92,119,118,113,265,265,265,265,269,274,275,276,273,277,278,279,113,112,111,104,265,265,265,265,276,280,281,282,279,283,284,285,104,103,102,95,265,265,265,265,282,286,287,266,285,288,289,270,95,94,93,92],c=[1.4,0,2.4,1.4,-.784,2.4,.784,-1.4,2.4,0,-1.4,2.4,1.3375,0,2.53125,1.3375,-.749,2.53125,.749,-1.3375,2.53125,0,-1.3375,2.53125,1.4375,0,2.53125,1.4375,-.805,2.53125,.805,-1.4375,2.53125,0,-1.4375,2.53125,1.5,0,2.4,1.5,-.84,2.4,.84,-1.5,2.4,0,-1.5,2.4,-.784,-1.4,2.4,-1.4,-.784,2.4,-1.4,0,2.4,-.749,-1.3375,2.53125,-1.3375,-.749,2.53125,-1.3375,0,2.53125,-.805,-1.4375,2.53125,-1.4375,-.805,2.53125,-1.4375,0,2.53125,-.84,-1.5,2.4,-1.5,-.84,2.4,-1.5,0,2.4,-1.4,.784,2.4,-.784,1.4,2.4,0,1.4,2.4,-1.3375,.749,2.53125,-.749,1.3375,2.53125,0,1.3375,2.53125,-1.4375,.805,2.53125,-.805,1.4375,2.53125,0,1.4375,2.53125,-1.5,.84,2.4,-.84,1.5,2.4,0,1.5,2.4,.784,1.4,2.4,1.4,.784,2.4,.749,1.3375,2.53125,1.3375,.749,2.53125,.805,1.4375,2.53125,1.4375,.805,2.53125,.84,1.5,2.4,1.5,.84,2.4,1.75,0,1.875,1.75,-.98,1.875,.98,-1.75,1.875,0,-1.75,1.875,2,0,1.35,2,-1.12,1.35,1.12,-2,1.35,0,-2,1.35,2,0,.9,2,-1.12,.9,1.12,-2,.9,0,-2,.9,-.98,-1.75,1.875,-1.75,-.98,1.875,-1.75,0,1.875,-1.12,-2,1.35,-2,-1.12,1.35,-2,0,1.35,-1.12,-2,.9,-2,-1.12,.9,-2,0,.9,-1.75,.98,1.875,-.98,1.75,1.875,0,1.75,1.875,-2,1.12,1.35,-1.12,2,1.35,0,2,1.35,-2,1.12,.9,-1.12,2,.9,0,2,.9,.98,1.75,1.875,1.75,.98,1.875,1.12,2,1.35,2,1.12,1.35,1.12,2,.9,2,1.12,.9,2,0,.45,2,-1.12,.45,1.12,-2,.45,0,-2,.45,1.5,0,.225,1.5,-.84,.225,.84,-1.5,.225,0,-1.5,.225,1.5,0,.15,1.5,-.84,.15,.84,-1.5,.15,0,-1.5,.15,-1.12,-2,.45,-2,-1.12,.45,-2,0,.45,-.84,-1.5,.225,-1.5,-.84,.225,-1.5,0,.225,-.84,-1.5,.15,-1.5,-.84,.15,-1.5,0,.15,-2,1.12,.45,-1.12,2,.45,0,2,.45,-1.5,.84,.225,-.84,1.5,.225,0,1.5,.225,-1.5,.84,.15,-.84,1.5,.15,0,1.5,.15,1.12,2,.45,2,1.12,.45,.84,1.5,.225,1.5,.84,.225,.84,1.5,.15,1.5,.84,.15,-1.6,0,2.025,-1.6,-.3,2.025,-1.5,-.3,2.25,-1.5,0,2.25,-2.3,0,2.025,-2.3,-.3,2.025,-2.5,-.3,2.25,-2.5,0,2.25,-2.7,0,2.025,-2.7,-.3,2.025,-3,-.3,2.25,-3,0,2.25,-2.7,0,1.8,-2.7,-.3,1.8,-3,-.3,1.8,-3,0,1.8,-1.5,.3,2.25,-1.6,.3,2.025,-2.5,.3,2.25,-2.3,.3,2.025,-3,.3,2.25,-2.7,.3,2.025,-3,.3,1.8,-2.7,.3,1.8,-2.7,0,1.575,-2.7,-.3,1.575,-3,-.3,1.35,-3,0,1.35,-2.5,0,1.125,-2.5,-.3,1.125,-2.65,-.3,.9375,-2.65,0,.9375,-2,-.3,.9,-1.9,-.3,.6,-1.9,0,.6,-3,.3,1.35,-2.7,.3,1.575,-2.65,.3,.9375,-2.5,.3,1.125,-1.9,.3,.6,-2,.3,.9,1.7,0,1.425,1.7,-.66,1.425,1.7,-.66,.6,1.7,0,.6,2.6,0,1.425,2.6,-.66,1.425,3.1,-.66,.825,3.1,0,.825,2.3,0,2.1,2.3,-.25,2.1,2.4,-.25,2.025,2.4,0,2.025,2.7,0,2.4,2.7,-.25,2.4,3.3,-.25,2.4,3.3,0,2.4,1.7,.66,.6,1.7,.66,1.425,3.1,.66,.825,2.6,.66,1.425,2.4,.25,2.025,2.3,.25,2.1,3.3,.25,2.4,2.7,.25,2.4,2.8,0,2.475,2.8,-.25,2.475,3.525,-.25,2.49375,3.525,0,2.49375,2.9,0,2.475,2.9,-.15,2.475,3.45,-.15,2.5125,3.45,0,2.5125,2.8,0,2.4,2.8,-.15,2.4,3.2,-.15,2.4,3.2,0,2.4,3.525,.25,2.49375,2.8,.25,2.475,3.45,.15,2.5125,2.9,.15,2.475,3.2,.15,2.4,2.8,.15,2.4,0,0,3.15,.8,0,3.15,.8,-.45,3.15,.45,-.8,3.15,0,-.8,3.15,0,0,2.85,.2,0,2.7,.2,-.112,2.7,.112,-.2,2.7,0,-.2,2.7,-.45,-.8,3.15,-.8,-.45,3.15,-.8,0,3.15,-.112,-.2,2.7,-.2,-.112,2.7,-.2,0,2.7,-.8,.45,3.15,-.45,.8,3.15,0,.8,3.15,-.2,.112,2.7,-.112,.2,2.7,0,.2,2.7,.45,.8,3.15,.8,.45,3.15,.112,.2,2.7,.2,.112,2.7,.4,0,2.55,.4,-.224,2.55,.224,-.4,2.55,0,-.4,2.55,1.3,0,2.55,1.3,-.728,2.55,.728,-1.3,2.55,0,-1.3,2.55,1.3,0,2.4,1.3,-.728,2.4,.728,-1.3,2.4,0,-1.3,2.4,-.224,-.4,2.55,-.4,-.224,2.55,-.4,0,2.55,-.728,-1.3,2.55,-1.3,-.728,2.55,-1.3,0,2.55,-.728,-1.3,2.4,-1.3,-.728,2.4,-1.3,0,2.4,-.4,.224,2.55,-.224,.4,2.55,0,.4,2.55,-1.3,.728,2.55,-.728,1.3,2.55,0,1.3,2.55,-1.3,.728,2.4,-.728,1.3,2.4,0,1.3,2.4,.224,.4,2.55,.4,.224,2.55,.728,1.3,2.55,1.3,.728,2.55,.728,1.3,2.4,1.3,.728,2.4,0,0,0,1.425,0,0,1.425,.798,0,.798,1.425,0,0,1.425,0,1.5,0,.075,1.5,.84,.075,.84,1.5,.075,0,1.5,.075,-.798,1.425,0,-1.425,.798,0,-1.425,0,0,-.84,1.5,.075,-1.5,.84,.075,-1.5,0,.075,-1.425,-.798,0,-.798,-1.425,0,0,-1.425,0,-1.5,-.84,.075,-.84,-1.5,.075,0,-1.5,.075,.798,-1.425,0,1.425,-.798,0,.84,-1.5,.075,1.5,-.84,.075];super(),n=Math.max(2,Math.floor(n));const d=1.3,v=3.15*(o?1:d)/2,g=e/v;let y=i?(8*n-4)*n:0;y+=r?(16*n-4)*n:0,y+=s?40*n*n:0;const _=new Uint32Array(y*3);let w=i?4:0;w+=r?8:0,w+=s?20:0,w*=(n+1)*(n+1);const b=new Float32Array(w*3),M=new Float32Array(w*3),E=new Float32Array(w*2),x=new Zn;x.set(-1,3,-3,1,3,-6,3,0,-3,3,0,0,1,0,0,0);const T=[],k=[],I=[],O=[],U=[],R=[],N=[],$=[],J=[],Y=new je;let H,B,X,q,D=0,V=0;const ee=new je,ce=new Zn,ae=new Zn,le=new hi,ye=new hi,Ee=new hi,pe=new hi,ue=new je,Me=new je,De=x.clone();De.transpose();const xe=(se,ke,Be)=>!(b[se*3]===b[ke*3]&&b[se*3+1]===b[ke*3+1]&&b[se*3+2]===b[ke*3+2]||b[se*3]===b[Be*3]&&b[se*3+1]===b[Be*3+1]&&b[se*3+2]===b[Be*3+2]||b[ke*3]===b[Be*3]&&b[ke*3+1]===b[Be*3+1]&&b[ke*3+2]===b[Be*3+2]);for(let se=0;se<3;se++)R[se]=new Zn;const G=s?0:20,He=i?32:28,Je=n+1;let at=0,rt=0,it=0,qe=0,ne=0;for(let se=G;se<He;se++)if(r||se<20||se>=28){for(let ke=0;ke<3;ke++){for(let Be=0;Be<4;Be++)for(let Ve=0;Ve<4;Ve++)T[Ve*4+Be]=c[l[se*16+Be*4+Ve]*3+ke],a&&se>=20&&se<28&&ke!==2&&(T[Ve*4+Be]*=1.077),!o&&ke===2&&(T[Ve*4+Be]*=d);ce.set(T[0],T[1],T[2],T[3],T[4],T[5],T[6],T[7],T[8],T[9],T[10],T[11],T[12],T[13],T[14],T[15]),ae.multiplyMatrices(ce,x),R[ke].multiplyMatrices(De,ae)}for(let ke=0;ke<=n;ke++){const Be=ke/n;for(let Ve=0;Ve<=n;Ve++){const Ae=Ve/n;for(q=4,B=X=1;q--;)k[q]=B,I[q]=X,B*=Be,X*=Ae,q===3?(O[q]=U[q]=0,D=V=1):(O[q]=D*(3-q),U[q]=V*(3-q),D*=Be,V*=Ae);le.fromArray(k),ye.fromArray(I),Ee.fromArray(O),pe.fromArray(U);for(let Re=0;Re<3;Re++)H=le.clone(),H.applyMatrix4(R[Re]),N[Re]=H.dot(ye),H=Ee.clone(),H.applyMatrix4(R[Re]),$[Re]=H.dot(ye),H=le.clone(),H.applyMatrix4(R[Re]),J[Re]=H.dot(pe);ue.fromArray($),Me.fromArray(J),Y.crossVectors(Me,ue),Y.normalize(),N[0]===0&&N[1]===0?ee.set(0,N[2]>v?1:-1,0):ee.set(Y.x,Y.z,-Y.y),b[rt++]=g*N[0],b[rt++]=g*(N[2]-v),b[rt++]=-g*N[1],M[it++]=ee.x,M[it++]=ee.y,M[it++]=ee.z,E[qe++]=1-Ae,E[qe++]=1-Be}}for(let ke=0;ke<n;ke++)for(let Be=0;Be<n;Be++){const Ve=at*Je*Je+ke*Je+Be,Ae=Ve+1,Re=Ae+Je,Xe=Ve+Je;xe(Ve,Ae,Re)&&(_[ne++]=Ve,_[ne++]=Ae,_[ne++]=Re),xe(Ve,Re,Xe)&&(_[ne++]=Ve,_[ne++]=Re,_[ne++]=Xe)}at++}this.setIndex(new Rr(_,1)),this.setAttribute("position",new Rr(b,3)),this.setAttribute("normal",new Rr(M,3)),this.setAttribute("uv",new Rr(E,2)),this.computeBoundingSphere()}}const j0e=t=>(bi("data-v-031874e5"),t=t(),wi(),t),X0e={class:"appMain",id:"container"},Z0e=j0e(()=>Z("div",{id:"threeContainer"},null,-1)),J0e=100,Zf=6378137,Q0e=ie({__name:"threejs",setup(t){const e=[129.3653799,42.9093989],n=Xt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null,divWidth:0,divHeight:0});let i,r,s,a,o,l;St(()=>{});const c=()=>{const b=document.getElementById("container");n.divWidth=b.clientWidth,n.divHeight=b.clientHeight},d=b=>{c(),p(b)},p=b=>{n.viewer=b.viewer;const M=b.viewer;M.scene.globe.depthTestAgainstTerrain=!1;const E=Zf*2,x=new Cesium.Cartesian3(E,0,0),T=new Cesium.Cartesian3(0,E,0),k=new Cesium.Cartesian3(0,0,E);M.entities.add({polyline:{positions:[new Cesium.Cartesian3(1,0,0),x],width:10,arcType:Cesium.ArcType.NONE,material:new Cesium.PolylineArrowMaterialProperty(Cesium.Color.RED)}}),M.entities.add({polyline:{positions:[new Cesium.Cartesian3(1,0,0),T],width:10,arcType:Cesium.ArcType.NONE,material:new Cesium.PolylineArrowMaterialProperty(Cesium.Color.YELLOW)}}),M.entities.add({polyline:{positions:[new Cesium.Cartesian3(1,0,0),k],width:10,arcType:Cesium.ArcType.NONE,material:new Cesium.PolylineArrowMaterialProperty(Cesium.Color.BLUE)}}),v(M),g()},v=b=>{let M=document.getElementById("threeContainer");r=new U0e,i=new os(Cesium.Math.toDegrees(b.camera.frustum.fovy),n.divWidth/n.divHeight,b.camera.frustum.near,b.camera.frustum.far),s=new kP({antialias:!0,alpha:!0}),s.setPixelRatio(window.devicePixelRatio),s.setSize(n.divWidth,n.divHeight),M.appendChild(s.domElement),window.addEventListener("resize",w,!1),o=new q0e(Zf*2.5),o.visible=!0,r.add(o);const E=Zf*3,x=10;l=new K0e(E,x),l.visible=!1,r.add(l);const T=new V_(Zf,32,32),k=new D_({color:16777215,wireframe:!0});a=new Os(T,k),a.visible=!0,r.add(a);const I=15,O=new Y0e(J0e,I,!0,!0,!0,!1,!1),U=new Zn().makeRotationX(Cesium.Math.toRadians(90));O.applyMatrix4(U);const R=Cesium.Cartesian3.fromDegrees(e[0],e[1]),N=Cesium.Transforms.headingPitchRollToFixedFrame(R,new Cesium.HeadingPitchRoll(0,0,0)),$=new Zn;$.set(N[0],N[4],N[8],N[12],N[1],N[5],N[9],N[13],N[2],N[6],N[10],N[14],N[3],N[7],N[11],N[15]),O.applyMatrix4($);const J=new Os(O,new z0e({side:Js}));r.add(J);const Y=new W0e(16777215,1);r.add(Y)},g=()=>{requestAnimationFrame(g),_(i,n.viewer),y()};function y(){s.render(r,i)}function _(b,M){b.matrixAutoUpdate=!1;let E=M.camera.viewMatrix,x=M.camera.inverseViewMatrix;b.matrixWorld.set(x[0],x[4],x[8],x[12],x[1],x[5],x[9],x[13],x[2],x[6],x[10],x[14],x[3],x[7],x[11],x[15]),b.matrixWorldInverse.set(E[0],E[4],E[8],E[12],E[1],E[5],E[9],E[13],E[2],E[6],E[10],E[14],E[3],E[7],E[11],E[15]),b.updateProjectionMatrix()}function w(){i.aspect=n.divWidth/n.divHeight,i.updateProjectionMatrix(),s.setSize(n.divWidth,n.divHeight)}return(b,M)=>(P(),K("div",X0e,[Q(f(br),{mapConfig:{id:"dls-map-layer-terrain",imageryProvider:n.imageryProvider,sceneModeNum:3},ref:"dlsMapRef","viewer-width":"100%","viewer-height":"500px",onReady:d},null,8,["mapConfig"]),Z0e]))}}),eye=$t(Q0e,[["__scopeId","data-v-031874e5"]]);function RP(t,e){return function(){return t.apply(e,arguments)}}const{toString:tye}=Object.prototype,{getPrototypeOf:z_}=Object,Kp=(t=>e=>{const n=tye.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ks=t=>(t=t.toLowerCase(),e=>Kp(e)===t),qp=t=>e=>typeof e===t,{isArray:_c}=Array,Md=qp("undefined");function nye(t){return t!==null&&!Md(t)&&t.constructor!==null&&!Md(t.constructor)&&Xr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const IP=Ks("ArrayBuffer");function iye(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&IP(t.buffer),e}const rye=qp("string"),Xr=qp("function"),LP=qp("number"),Yp=t=>t!==null&&typeof t=="object",sye=t=>t===!0||t===!1,_h=t=>{if(Kp(t)!=="object")return!1;const e=z_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},aye=Ks("Date"),oye=Ks("File"),lye=Ks("Blob"),uye=Ks("FileList"),cye=t=>Yp(t)&&Xr(t.pipe),dye=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Xr(t.append)&&((e=Kp(t))==="formdata"||e==="object"&&Xr(t.toString)&&t.toString()==="[object FormData]"))},fye=Ks("URLSearchParams"),[hye,pye,mye,vye]=["ReadableStream","Request","Response","Headers"].map(Ks),gye=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Jd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),_c(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(i=0;i<a;i++)o=s[i],e.call(null,t[o],o,t)}}function NP(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const al=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,OP=t=>!Md(t)&&t!==al;function m0(){const{caseless:t}=OP(this)&&this||{},e={},n=(i,r)=>{const s=t&&NP(e,r)||r;_h(e[s])&&_h(i)?e[s]=m0(e[s],i):_h(i)?e[s]=m0({},i):_c(i)?e[s]=i.slice():e[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&Jd(arguments[i],n);return e}const yye=(t,e,n,{allOwnKeys:i}={})=>(Jd(e,(r,s)=>{n&&Xr(r)?t[s]=RP(r,n):t[s]=r},{allOwnKeys:i}),t),_ye=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),bye=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},wye=(t,e,n,i)=>{let r,s,a;const o={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)a=r[s],(!i||i(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=n!==!1&&z_(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Sye=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},Eye=t=>{if(!t)return null;if(_c(t))return t;let e=t.length;if(!LP(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Cye=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&z_(Uint8Array)),xye=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(t,s[0],s[1])}},Mye=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},Tye=Ks("HTMLFormElement"),Aye=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),yC=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),kye=Ks("RegExp"),DP=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Jd(n,(r,s)=>{let a;(a=e(r,s,t))!==!1&&(i[s]=a||r)}),Object.defineProperties(t,i)},Pye=t=>{DP(t,(e,n)=>{if(Xr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Xr(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Rye=(t,e)=>{const n={},i=r=>{r.forEach(s=>{n[s]=!0})};return _c(t)?i(t):i(String(t).split(e)),n},Iye=()=>{},Lye=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Mv="abcdefghijklmnopqrstuvwxyz",_C="0123456789",FP={DIGIT:_C,ALPHA:Mv,ALPHA_DIGIT:Mv+Mv.toUpperCase()+_C},Nye=(t=16,e=FP.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n};function Oye(t){return!!(t&&Xr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Dye=t=>{const e=new Array(10),n=(i,r)=>{if(Yp(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const s=_c(i)?[]:{};return Jd(i,(a,o)=>{const l=n(a,r+1);!Md(l)&&(s[o]=l)}),e[r]=void 0,s}}return i};return n(t,0)},Fye=Ks("AsyncFunction"),Bye=t=>t&&(Yp(t)||Xr(t))&&Xr(t.then)&&Xr(t.catch),BP=((t,e)=>t?setImmediate:e?((n,i)=>(al.addEventListener("message",({source:r,data:s})=>{r===al&&s===n&&i.length&&i.shift()()},!1),r=>{i.push(r),al.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Xr(al.postMessage)),Uye=typeof queueMicrotask<"u"?queueMicrotask.bind(al):typeof process<"u"&&process.nextTick||BP,st={isArray:_c,isArrayBuffer:IP,isBuffer:nye,isFormData:dye,isArrayBufferView:iye,isString:rye,isNumber:LP,isBoolean:sye,isObject:Yp,isPlainObject:_h,isReadableStream:hye,isRequest:pye,isResponse:mye,isHeaders:vye,isUndefined:Md,isDate:aye,isFile:oye,isBlob:lye,isRegExp:kye,isFunction:Xr,isStream:cye,isURLSearchParams:fye,isTypedArray:Cye,isFileList:uye,forEach:Jd,merge:m0,extend:yye,trim:gye,stripBOM:_ye,inherits:bye,toFlatObject:wye,kindOf:Kp,kindOfTest:Ks,endsWith:Sye,toArray:Eye,forEachEntry:xye,matchAll:Mye,isHTMLForm:Tye,hasOwnProperty:yC,hasOwnProp:yC,reduceDescriptors:DP,freezeMethods:Pye,toObjectSet:Rye,toCamelCase:Aye,noop:Iye,toFiniteNumber:Lye,findKey:NP,global:al,isContextDefined:OP,ALPHABET:FP,generateString:Nye,isSpecCompliantForm:Oye,toJSONObject:Dye,isAsyncFn:Fye,isThenable:Bye,setImmediate:BP,asap:Uye};function gn(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}st.inherits(gn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:st.toJSONObject(this.config),code:this.code,status:this.status}}});const UP=gn.prototype,VP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{VP[t]={value:t}});Object.defineProperties(gn,VP);Object.defineProperty(UP,"isAxiosError",{value:!0});gn.from=(t,e,n,i,r,s)=>{const a=Object.create(UP);return st.toFlatObject(t,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),gn.call(a,t.message,e,n,i,r),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};const Vye=null;function v0(t){return st.isPlainObject(t)||st.isArray(t)}function zP(t){return st.endsWith(t,"[]")?t.slice(0,-2):t}function bC(t,e,n){return t?t.concat(e).map(function(r,s){return r=zP(r),!n&&s?"["+r+"]":r}).join(n?".":""):e}function zye(t){return st.isArray(t)&&!t.some(v0)}const $ye=st.toFlatObject(st,{},null,function(e){return/^is[A-Z]/.test(e)});function jp(t,e,n){if(!st.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=st.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,w){return!st.isUndefined(w[_])});const i=n.metaTokens,r=n.visitor||d,s=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&st.isSpecCompliantForm(e);if(!st.isFunction(r))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(st.isDate(y))return y.toISOString();if(!l&&st.isBlob(y))throw new gn("Blob is not supported. Use a Buffer instead.");return st.isArrayBuffer(y)||st.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,_,w){let b=y;if(y&&!w&&typeof y=="object"){if(st.endsWith(_,"{}"))_=i?_:_.slice(0,-2),y=JSON.stringify(y);else if(st.isArray(y)&&zye(y)||(st.isFileList(y)||st.endsWith(_,"[]"))&&(b=st.toArray(y)))return _=zP(_),b.forEach(function(E,x){!(st.isUndefined(E)||E===null)&&e.append(a===!0?bC([_],x,s):a===null?_:_+"[]",c(E))}),!1}return v0(y)?!0:(e.append(bC(w,_,s),c(y)),!1)}const p=[],v=Object.assign($ye,{defaultVisitor:d,convertValue:c,isVisitable:v0});function g(y,_){if(!st.isUndefined(y)){if(p.indexOf(y)!==-1)throw Error("Circular reference detected in "+_.join("."));p.push(y),st.forEach(y,function(b,M){(!(st.isUndefined(b)||b===null)&&r.call(e,b,st.isString(M)?M.trim():M,_,v))===!0&&g(b,_?_.concat(M):[M])}),p.pop()}}if(!st.isObject(t))throw new TypeError("data must be an object");return g(t),e}function wC(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function $_(t,e){this._pairs=[],t&&jp(t,this,e)}const $P=$_.prototype;$P.append=function(e,n){this._pairs.push([e,n])};$P.toString=function(e){const n=e?function(i){return e.call(this,i,wC)}:wC;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Hye(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function HP(t,e,n){if(!e)return t;const i=n&&n.encode||Hye,r=n&&n.serialize;let s;if(r?s=r(e,n):s=st.isURLSearchParams(e)?e.toString():new $_(e,n).toString(i),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class SC{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){st.forEach(this.handlers,function(i){i!==null&&e(i)})}}const GP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Gye=typeof URLSearchParams<"u"?URLSearchParams:$_,Wye=typeof FormData<"u"?FormData:null,Kye=typeof Blob<"u"?Blob:null,qye={isBrowser:!0,classes:{URLSearchParams:Gye,FormData:Wye,Blob:Kye},protocols:["http","https","file","blob","url","data"]},H_=typeof window<"u"&&typeof document<"u",g0=typeof navigator=="object"&&navigator||void 0,Yye=H_&&(!g0||["ReactNative","NativeScript","NS"].indexOf(g0.product)<0),jye=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Xye=H_&&window.location.href||"http://localhost",Zye=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:H_,hasStandardBrowserEnv:Yye,hasStandardBrowserWebWorkerEnv:jye,navigator:g0,origin:Xye},Symbol.toStringTag,{value:"Module"})),Dr={...Zye,...qye};function Jye(t,e){return jp(t,new Dr.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,s){return Dr.isNode&&st.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Qye(t){return st.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function e_e(t){const e={},n=Object.keys(t);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],e[s]=t[s];return e}function WP(t){function e(n,i,r,s){let a=n[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=n.length;return a=!a&&st.isArray(r)?r.length:a,l?(st.hasOwnProp(r,a)?r[a]=[r[a],i]:r[a]=i,!o):((!r[a]||!st.isObject(r[a]))&&(r[a]=[]),e(n,i,r[a],s)&&st.isArray(r[a])&&(r[a]=e_e(r[a])),!o)}if(st.isFormData(t)&&st.isFunction(t.entries)){const n={};return st.forEachEntry(t,(i,r)=>{e(Qye(i),r,n,0)}),n}return null}function t_e(t,e,n){if(st.isString(t))try{return(e||JSON.parse)(t),st.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Qd={transitional:GP,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,s=st.isObject(e);if(s&&st.isHTMLForm(e)&&(e=new FormData(e)),st.isFormData(e))return r?JSON.stringify(WP(e)):e;if(st.isArrayBuffer(e)||st.isBuffer(e)||st.isStream(e)||st.isFile(e)||st.isBlob(e)||st.isReadableStream(e))return e;if(st.isArrayBufferView(e))return e.buffer;if(st.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Jye(e,this.formSerializer).toString();if((o=st.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return jp(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||r?(n.setContentType("application/json",!1),t_e(e)):e}],transformResponse:[function(e){const n=this.transitional||Qd.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(st.isResponse(e)||st.isReadableStream(e))return e;if(e&&st.isString(e)&&(i&&!this.responseType||r)){const a=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?gn.from(o,gn.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Dr.classes.FormData,Blob:Dr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};st.forEach(["delete","get","head","post","put","patch"],t=>{Qd.headers[t]={}});const n_e=st.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),i_e=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(a){r=a.indexOf(":"),n=a.substring(0,r).trim().toLowerCase(),i=a.substring(r+1).trim(),!(!n||e[n]&&n_e[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},EC=Symbol("internals");function $c(t){return t&&String(t).trim().toLowerCase()}function bh(t){return t===!1||t==null?t:st.isArray(t)?t.map(bh):String(t)}function r_e(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const s_e=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Tv(t,e,n,i,r){if(st.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!st.isString(e)){if(st.isString(i))return e.indexOf(i)!==-1;if(st.isRegExp(i))return i.test(e)}}function a_e(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function o_e(t,e){const n=st.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,s,a){return this[i].call(this,e,r,s,a)},configurable:!0})})}class Fr{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function s(o,l,c){const d=$c(l);if(!d)throw new Error("header name must be a non-empty string");const p=st.findKey(r,d);(!p||r[p]===void 0||c===!0||c===void 0&&r[p]!==!1)&&(r[p||l]=bh(o))}const a=(o,l)=>st.forEach(o,(c,d)=>s(c,d,l));if(st.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(st.isString(e)&&(e=e.trim())&&!s_e(e))a(i_e(e),n);else if(st.isHeaders(e))for(const[o,l]of e.entries())s(l,o,i);else e!=null&&s(n,e,i);return this}get(e,n){if(e=$c(e),e){const i=st.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return r_e(r);if(st.isFunction(n))return n.call(this,r,i);if(st.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=$c(e),e){const i=st.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Tv(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function s(a){if(a=$c(a),a){const o=st.findKey(i,a);o&&(!n||Tv(i,i[o],o,n))&&(delete i[o],r=!0)}}return st.isArray(e)?e.forEach(s):s(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const s=n[i];(!e||Tv(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const n=this,i={};return st.forEach(this,(r,s)=>{const a=st.findKey(i,s);if(a){n[a]=bh(r),delete n[s];return}const o=e?a_e(s):String(s).trim();o!==s&&delete n[s],n[o]=bh(r),i[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return st.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&st.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[EC]=this[EC]={accessors:{}}).accessors,r=this.prototype;function s(a){const o=$c(a);i[o]||(o_e(r,a),i[o]=!0)}return st.isArray(e)?e.forEach(s):s(e),this}}Fr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);st.reduceDescriptors(Fr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});st.freezeMethods(Fr);function Av(t,e){const n=this||Qd,i=e||n,r=Fr.from(i.headers);let s=i.data;return st.forEach(t,function(o){s=o.call(n,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function KP(t){return!!(t&&t.__CANCEL__)}function bc(t,e,n){gn.call(this,t??"canceled",gn.ERR_CANCELED,e,n),this.name="CanceledError"}st.inherits(bc,gn,{__CANCEL__:!0});function qP(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new gn("Request failed with status code "+n.status,[gn.ERR_BAD_REQUEST,gn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function l_e(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function u_e(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=i[s];a||(a=c),n[r]=l,i[r]=c;let p=s,v=0;for(;p!==r;)v+=n[p++],p=p%t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),c-a<e)return;const g=d&&c-d;return g?Math.round(v*1e3/g):void 0}}function c_e(t,e){let n=0,i=1e3/e,r,s;const a=(c,d=Date.now())=>{n=d,r=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const d=Date.now(),p=d-n;p>=i?a(c,d):(r=c,s||(s=setTimeout(()=>{s=null,a(r)},i-p)))},()=>r&&a(r)]}const ip=(t,e,n=3)=>{let i=0;const r=u_e(50,250);return c_e(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-i,c=r(l),d=a<=o;i=a;const p={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&d?(o-a)/c:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(p)},n)},CC=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},xC=t=>(...e)=>st.asap(()=>t(...e)),d_e=Dr.hasStandardBrowserEnv?function(){const e=Dr.navigator&&/(msie|trident)/i.test(Dr.navigator.userAgent),n=document.createElement("a");let i;function r(s){let a=s;return e&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=r(window.location.href),function(a){const o=st.isString(a)?r(a):a;return o.protocol===i.protocol&&o.host===i.host}}():function(){return function(){return!0}}(),f_e=Dr.hasStandardBrowserEnv?{write(t,e,n,i,r,s){const a=[t+"="+encodeURIComponent(e)];st.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),st.isString(i)&&a.push("path="+i),st.isString(r)&&a.push("domain="+r),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function h_e(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function p_e(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function YP(t,e){return t&&!h_e(e)?p_e(t,e):e}const MC=t=>t instanceof Fr?{...t}:t;function kl(t,e){e=e||{};const n={};function i(c,d,p){return st.isPlainObject(c)&&st.isPlainObject(d)?st.merge.call({caseless:p},c,d):st.isPlainObject(d)?st.merge({},d):st.isArray(d)?d.slice():d}function r(c,d,p){if(st.isUndefined(d)){if(!st.isUndefined(c))return i(void 0,c,p)}else return i(c,d,p)}function s(c,d){if(!st.isUndefined(d))return i(void 0,d)}function a(c,d){if(st.isUndefined(d)){if(!st.isUndefined(c))return i(void 0,c)}else return i(void 0,d)}function o(c,d,p){if(p in e)return i(c,d);if(p in t)return i(void 0,c)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,d)=>r(MC(c),MC(d),!0)};return st.forEach(Object.keys(Object.assign({},t,e)),function(d){const p=l[d]||r,v=p(t[d],e[d],d);st.isUndefined(v)&&p!==o||(n[d]=v)}),n}const jP=t=>{const e=kl({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:a,auth:o}=e;e.headers=a=Fr.from(a),e.url=HP(YP(e.baseURL,e.url),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(st.isFormData(n)){if(Dr.hasStandardBrowserEnv||Dr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[c,...d]=l?l.split(";").map(p=>p.trim()).filter(Boolean):[];a.setContentType([c||"multipart/form-data",...d].join("; "))}}if(Dr.hasStandardBrowserEnv&&(i&&st.isFunction(i)&&(i=i(e)),i||i!==!1&&d_e(e.url))){const c=r&&s&&f_e.read(s);c&&a.set(r,c)}return e},m_e=typeof XMLHttpRequest<"u",v_e=m_e&&function(t){return new Promise(function(n,i){const r=jP(t);let s=r.data;const a=Fr.from(r.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=r,d,p,v,g,y;function _(){g&&g(),y&&y(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(r.method.toUpperCase(),r.url,!0),w.timeout=r.timeout;function b(){if(!w)return;const E=Fr.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),T={data:!o||o==="text"||o==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:E,config:t,request:w};qP(function(I){n(I),_()},function(I){i(I),_()},T),w=null}"onloadend"in w?w.onloadend=b:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(b)},w.onabort=function(){w&&(i(new gn("Request aborted",gn.ECONNABORTED,t,w)),w=null)},w.onerror=function(){i(new gn("Network Error",gn.ERR_NETWORK,t,w)),w=null},w.ontimeout=function(){let x=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const T=r.transitional||GP;r.timeoutErrorMessage&&(x=r.timeoutErrorMessage),i(new gn(x,T.clarifyTimeoutError?gn.ETIMEDOUT:gn.ECONNABORTED,t,w)),w=null},s===void 0&&a.setContentType(null),"setRequestHeader"in w&&st.forEach(a.toJSON(),function(x,T){w.setRequestHeader(T,x)}),st.isUndefined(r.withCredentials)||(w.withCredentials=!!r.withCredentials),o&&o!=="json"&&(w.responseType=r.responseType),c&&([v,y]=ip(c,!0),w.addEventListener("progress",v)),l&&w.upload&&([p,g]=ip(l),w.upload.addEventListener("progress",p),w.upload.addEventListener("loadend",g)),(r.cancelToken||r.signal)&&(d=E=>{w&&(i(!E||E.type?new bc(null,t,w):E),w.abort(),w=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const M=l_e(r.url);if(M&&Dr.protocols.indexOf(M)===-1){i(new gn("Unsupported protocol "+M+":",gn.ERR_BAD_REQUEST,t));return}w.send(s||null)})},g_e=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,r;const s=function(c){if(!r){r=!0,o();const d=c instanceof Error?c:this.reason;i.abort(d instanceof gn?d:new bc(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,s(new gn(`timeout ${e} of ms exceeded`,gn.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=i;return l.unsubscribe=()=>st.asap(o),l}},y_e=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let i=0,r;for(;i<n;)r=i+e,yield t.slice(i,r),i=r},__e=async function*(t,e){for await(const n of b_e(t))yield*y_e(n,e)},b_e=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},TC=(t,e,n,i)=>{const r=__e(t,e);let s=0,a,o=l=>{a||(a=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await r.next();if(c){o(),l.close();return}let p=d.byteLength;if(n){let v=s+=p;n(v)}l.enqueue(new Uint8Array(d))}catch(c){throw o(c),c}},cancel(l){return o(l),r.return()}},{highWaterMark:2})},Xp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",XP=Xp&&typeof ReadableStream=="function",w_e=Xp&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),ZP=(t,...e)=>{try{return!!t(...e)}catch{return!1}},S_e=XP&&ZP(()=>{let t=!1;const e=new Request(Dr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),AC=64*1024,y0=XP&&ZP(()=>st.isReadableStream(new Response("").body)),rp={stream:y0&&(t=>t.body)};Xp&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!rp[e]&&(rp[e]=st.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new gn(`Response type '${e}' is not supported`,gn.ERR_NOT_SUPPORT,i)})})})(new Response);const E_e=async t=>{if(t==null)return 0;if(st.isBlob(t))return t.size;if(st.isSpecCompliantForm(t))return(await new Request(Dr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(st.isArrayBufferView(t)||st.isArrayBuffer(t))return t.byteLength;if(st.isURLSearchParams(t)&&(t=t+""),st.isString(t))return(await w_e(t)).byteLength},C_e=async(t,e)=>{const n=st.toFiniteNumber(t.getContentLength());return n??E_e(e)},x_e=Xp&&(async t=>{let{url:e,method:n,data:i,signal:r,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:d,withCredentials:p="same-origin",fetchOptions:v}=jP(t);c=c?(c+"").toLowerCase():"text";let g=g_e([r,s&&s.toAbortSignal()],a),y;const _=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let w;try{if(l&&S_e&&n!=="get"&&n!=="head"&&(w=await C_e(d,i))!==0){let T=new Request(e,{method:"POST",body:i,duplex:"half"}),k;if(st.isFormData(i)&&(k=T.headers.get("content-type"))&&d.setContentType(k),T.body){const[I,O]=CC(w,ip(xC(l)));i=TC(T.body,AC,I,O)}}st.isString(p)||(p=p?"include":"omit");const b="credentials"in Request.prototype;y=new Request(e,{...v,signal:g,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:i,duplex:"half",credentials:b?p:void 0});let M=await fetch(y);const E=y0&&(c==="stream"||c==="response");if(y0&&(o||E&&_)){const T={};["status","statusText","headers"].forEach(U=>{T[U]=M[U]});const k=st.toFiniteNumber(M.headers.get("content-length")),[I,O]=o&&CC(k,ip(xC(o),!0))||[];M=new Response(TC(M.body,AC,I,()=>{O&&O(),_&&_()}),T)}c=c||"text";let x=await rp[st.findKey(rp,c)||"text"](M,t);return!E&&_&&_(),await new Promise((T,k)=>{qP(T,k,{data:x,headers:Fr.from(M.headers),status:M.status,statusText:M.statusText,config:t,request:y})})}catch(b){throw _&&_(),b&&b.name==="TypeError"&&/fetch/i.test(b.message)?Object.assign(new gn("Network Error",gn.ERR_NETWORK,t,y),{cause:b.cause||b}):gn.from(b,b&&b.code,t,y)}}),_0={http:Vye,xhr:v_e,fetch:x_e};st.forEach(_0,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const kC=t=>`- ${t}`,M_e=t=>st.isFunction(t)||t===null||t===!1,JP={getAdapter:t=>{t=st.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let s=0;s<e;s++){n=t[s];let a;if(i=n,!M_e(n)&&(i=_0[(a=String(n)).toLowerCase()],i===void 0))throw new gn(`Unknown adapter '${a}'`);if(i)break;r[a||"#"+s]=i}if(!i){const s=Object.entries(r).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(kC).join(`
`):" "+kC(s[0]):"as no adapter specified";throw new gn("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i},adapters:_0};function kv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new bc(null,t)}function PC(t){return kv(t),t.headers=Fr.from(t.headers),t.data=Av.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),JP.getAdapter(t.adapter||Qd.adapter)(t).then(function(i){return kv(t),i.data=Av.call(t,t.transformResponse,i),i.headers=Fr.from(i.headers),i},function(i){return KP(i)||(kv(t),i&&i.response&&(i.response.data=Av.call(t,t.transformResponse,i.response),i.response.headers=Fr.from(i.response.headers))),Promise.reject(i)})}const QP="1.7.7",G_={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{G_[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const RC={};G_.transitional=function(e,n,i){function r(s,a){return"[Axios v"+QP+"] Transitional option '"+s+"'"+a+(i?". "+i:"")}return(s,a,o)=>{if(e===!1)throw new gn(r(a," has been removed"+(n?" in "+n:"")),gn.ERR_DEPRECATED);return n&&!RC[a]&&(RC[a]=!0,console.warn(r(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,o):!0}};function T_e(t,e,n){if(typeof t!="object")throw new gn("options must be an object",gn.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const s=i[r],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new gn("option "+s+" must be "+l,gn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new gn("Unknown option "+s,gn.ERR_BAD_OPTION)}}const b0={assertOptions:T_e,validators:G_},Za=b0.validators;class ml{constructor(e){this.defaults=e,this.interceptors={request:new SC,response:new SC}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let r;Error.captureStackTrace?Error.captureStackTrace(r={}):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=kl(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:s}=n;i!==void 0&&b0.assertOptions(i,{silentJSONParsing:Za.transitional(Za.boolean),forcedJSONParsing:Za.transitional(Za.boolean),clarifyTimeoutError:Za.transitional(Za.boolean)},!1),r!=null&&(st.isFunction(r)?n.paramsSerializer={serialize:r}:b0.assertOptions(r,{encode:Za.function,serialize:Za.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&st.merge(s.common,s[n.method]);s&&st.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),n.headers=Fr.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(l=l&&_.synchronous,o.unshift(_.fulfilled,_.rejected))});const c=[];this.interceptors.response.forEach(function(_){c.push(_.fulfilled,_.rejected)});let d,p=0,v;if(!l){const y=[PC.bind(this),void 0];for(y.unshift.apply(y,o),y.push.apply(y,c),v=y.length,d=Promise.resolve(n);p<v;)d=d.then(y[p++],y[p++]);return d}v=o.length;let g=n;for(p=0;p<v;){const y=o[p++],_=o[p++];try{g=y(g)}catch(w){_.call(this,w);break}}try{d=PC.call(this,g)}catch(y){return Promise.reject(y)}for(p=0,v=c.length;p<v;)d=d.then(c[p++],c[p++]);return d}getUri(e){e=kl(this.defaults,e);const n=YP(e.baseURL,e.url);return HP(n,e.params,e.paramsSerializer)}}st.forEach(["delete","get","head","options"],function(e){ml.prototype[e]=function(n,i){return this.request(kl(i||{},{method:e,url:n,data:(i||{}).data}))}});st.forEach(["post","put","patch"],function(e){function n(i){return function(s,a,o){return this.request(kl(o||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}ml.prototype[e]=n(),ml.prototype[e+"Form"]=n(!0)});class W_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const a=new Promise(o=>{i.subscribe(o),s=o}).then(r);return a.cancel=function(){i.unsubscribe(s)},a},e(function(s,a,o){i.reason||(i.reason=new bc(s,a,o),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new W_(function(r){e=r}),cancel:e}}}function A_e(t){return function(n){return t.apply(null,n)}}function k_e(t){return st.isObject(t)&&t.isAxiosError===!0}const w0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(w0).forEach(([t,e])=>{w0[e]=t});function eR(t){const e=new ml(t),n=RP(ml.prototype.request,e);return st.extend(n,ml.prototype,e,{allOwnKeys:!0}),st.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return eR(kl(t,r))},n}const ki=eR(Qd);ki.Axios=ml;ki.CanceledError=bc;ki.CancelToken=W_;ki.isCancel=KP;ki.VERSION=QP;ki.toFormData=jp;ki.AxiosError=gn;ki.Cancel=ki.CanceledError;ki.all=function(e){return Promise.all(e)};ki.spread=A_e;ki.isAxiosError=k_e;ki.mergeConfig=kl;ki.AxiosHeaders=Fr;ki.formToJSON=t=>WP(st.isHTMLForm(t)?new FormData(t):t);ki.getAdapter=JP.getAdapter;ki.HttpStatusCode=w0;ki.default=ki;const P_e={class:"appMain"},R_e={class:"operation"},I_e=ie({__name:"windy",setup(t){const e=W(null),n=Xt({imageryProvider:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",layer:"tdtVecBasicLayer",style:"default",format:"image/png",tileMatrixSetID:"GoogleMapsCompatible"},viewer:null});St(()=>{console.log("dlsMapRef",e.value)});const i=s=>{s==="load"?ki.get("/dls-map-doc/2017121300.json").then(o=>{n.windy=new Xce({json:o.data,cesiumViewer:n.viewer,speed:100}),n.windy.loadWindy()}).catch(o=>{console.error("There was an error!",o)}):s==="hidden"?n.windy.hideWindy():s==="show"?n.windy.showWindy():s==="pause"?n.windy.pauseWindy():s==="resume"?n.windy.resumeWindy():s==="destroy"&&n.windy.destroyWindy()},r=s=>{n.viewer=s.viewer,console.log("执行了",s.viewer)};return(s,a)=>{const o=At("el-button");return P(),K("div",P_e,[Q(f(br),{mapConfig:{id:"dls-map-layer-terrain",imageryProvider:n.imageryProvider,sceneModeNum:3},ref_key:"dlsMapRef",ref:e,"viewer-width":"100%","viewer-height":"500px",onReady:r},null,8,["mapConfig"]),Z("div",R_e,[Q(o,{onClick:a[0]||(a[0]=l=>i("load")),type:"primary"},{default:te(()=>[pt("加载风场")]),_:1}),Q(o,{onClick:a[1]||(a[1]=l=>i("hidden")),type:"primary"},{default:te(()=>[pt("隐藏风场")]),_:1}),Q(o,{onClick:a[2]||(a[2]=l=>i("show")),type:"primary"},{default:te(()=>[pt("显示风场")]),_:1}),Q(o,{onClick:a[3]||(a[3]=l=>i("pause")),type:"primary"},{default:te(()=>[pt("暂停风场")]),_:1}),Q(o,{onClick:a[4]||(a[4]=l=>i("resume")),type:"primary"},{default:te(()=>[pt("恢复风场")]),_:1}),Q(o,{onClick:a[5]||(a[5]=l=>i("destroy")),type:"primary"},{default:te(()=>[pt("销毁风场")]),_:1})])])}}}),L_e=$t(I_e,[["__scopeId","data-v-4447b1d4"]]),N_e=[["KkLayerMap",ece],["KkAnalysisPlot",nde],["KkLayerTerrain",ade],["KkEntityGraphics",cde],["KkAnalysisMeasure",pde],["KkAnalysisTrajectory",_de],["KkAnalysisSpacePoint",Ede],["KkAnalysisBufferArea",Pde],["KkCoverageHeatMap",Nde],["KkEnvironmentRain",Bde],["KkEnvironmentSnow",$de],["KkCoverageLoadEcharts",Kde],["KkCoveragePanel",Xde],["KkLayerPhotography",efe],["KkCoverageLayers",rfe],["KkToolsTools",Sfe],["KkEntityPositionMove",Pfe],["KkIntegrationThreejs",eye],["KkEnvironmentWindy",L_e]],H_e={...uD,enhanceApp({app:t}){t.use(Goe),tle.forEach(([e,n])=>{t.component(e,n)}),N_e.forEach(([e,n])=>{t.component(e,n)})}};export{H_e as R,N3 as c,Cn as u};
